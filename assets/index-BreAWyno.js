var x2=Object.defineProperty;var T2=(n,e,t)=>e in n?x2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var xe=(n,e,t)=>T2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function md(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var l1={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function C2(){if(ww)return Nt;ww=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T(U,W,ne){this.props=U,this.context=W,this.refs=A,this.updater=ne||E}T.prototype.isReactComponent={},T.prototype.setState=function(U,W){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,W,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=T.prototype;function R(U,W,ne){this.props=U,this.context=W,this.refs=A,this.updater=ne||E}var D=R.prototype=new C;D.constructor=R,S(D,T.prototype),D.isPureReactComponent=!0;var M=Array.isArray,k={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function _(U,W,ne,ce,oe,me){return ne=me.ref,{$$typeof:n,type:U,key:W,ref:ne!==void 0?ne:null,props:me}}function I(U,W){return _(U.type,W,void 0,void 0,void 0,U.props)}function B(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var W={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return W[ne]})}var F=/\/+/g;function H(U,W){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):W.toString(36)}function X(){}function K(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(X,X):(U.status="pending",U.then(function(W){U.status==="pending"&&(U.status="fulfilled",U.value=W)},function(W){U.status==="pending"&&(U.status="rejected",U.reason=W)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,W,ne,ce,oe){var me=typeof U;(me==="undefined"||me==="boolean")&&(U=null);var ye=!1;if(U===null)ye=!0;else switch(me){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(U.$$typeof){case n:case e:ye=!0;break;case v:return ye=U._init,ee(ye(U._payload),W,ne,ce,oe)}}if(ye)return oe=oe(U),ye=ce===""?"."+H(U,0):ce,M(oe)?(ne="",ye!=null&&(ne=ye.replace(F,"$&/")+"/"),ee(oe,W,ne,"",function(de){return de})):oe!=null&&(B(oe)&&(oe=I(oe,ne+(oe.key==null||U&&U.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+ye)),W.push(oe)),1;ye=0;var Oe=ce===""?".":ce+":";if(M(U))for(var Te=0;Te<U.length;Te++)ce=U[Te],me=Oe+H(ce,Te),ye+=ee(ce,W,ne,me,oe);else if(Te=b(U),typeof Te=="function")for(U=Te.call(U),Te=0;!(ce=U.next()).done;)ce=ce.value,me=Oe+H(ce,Te++),ye+=ee(ce,W,ne,me,oe);else if(me==="object"){if(typeof U.then=="function")return ee(K(U),W,ne,ce,oe);throw W=String(U),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Y(U,W,ne){if(U==null)return U;var ce=[],oe=0;return ee(U,ce,"","",function(me){return W.call(ne,me,oe++)}),ce}function Z(U){if(U._status===-1){var W=U._result;W=W(),W.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=W)}if(U._status===1)return U._result.default;throw U._result}var Q=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ue(){}return Nt.Children={map:Y,forEach:function(U,W,ne){Y(U,function(){W.apply(this,arguments)},ne)},count:function(U){var W=0;return Y(U,function(){W++}),W},toArray:function(U){return Y(U,function(W){return W})||[]},only:function(U){if(!B(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Nt.Component=T,Nt.Fragment=t,Nt.Profiler=i,Nt.PureComponent=R,Nt.StrictMode=r,Nt.Suspense=h,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Nt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Nt.cache=function(U){return function(){return U.apply(null,arguments)}},Nt.cloneElement=function(U,W,ne){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=S({},U.props),oe=U.key,me=void 0;if(W!=null)for(ye in W.ref!==void 0&&(me=void 0),W.key!==void 0&&(oe=""+W.key),W)!L.call(W,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&W.ref===void 0||(ce[ye]=W[ye]);var ye=arguments.length-2;if(ye===1)ce.children=ne;else if(1<ye){for(var Oe=Array(ye),Te=0;Te<ye;Te++)Oe[Te]=arguments[Te+2];ce.children=Oe}return _(U.type,oe,void 0,void 0,me,ce)},Nt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Nt.createElement=function(U,W,ne){var ce,oe={},me=null;if(W!=null)for(ce in W.key!==void 0&&(me=""+W.key),W)L.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(oe[ce]=W[ce]);var ye=arguments.length-2;if(ye===1)oe.children=ne;else if(1<ye){for(var Oe=Array(ye),Te=0;Te<ye;Te++)Oe[Te]=arguments[Te+2];oe.children=Oe}if(U&&U.defaultProps)for(ce in ye=U.defaultProps,ye)oe[ce]===void 0&&(oe[ce]=ye[ce]);return _(U,me,void 0,void 0,null,oe)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(U){return{$$typeof:c,render:U}},Nt.isValidElement=B,Nt.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Z}},Nt.memo=function(U,W){return{$$typeof:d,type:U,compare:W===void 0?null:W}},Nt.startTransition=function(U){var W=k.T,ne={};k.T=ne;try{var ce=U(),oe=k.S;oe!==null&&oe(ne,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ue,Q)}catch(me){Q(me)}finally{k.T=W}},Nt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Nt.use=function(U){return k.H.use(U)},Nt.useActionState=function(U,W,ne){return k.H.useActionState(U,W,ne)},Nt.useCallback=function(U,W){return k.H.useCallback(U,W)},Nt.useContext=function(U){return k.H.useContext(U)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(U,W){return k.H.useDeferredValue(U,W)},Nt.useEffect=function(U,W){return k.H.useEffect(U,W)},Nt.useId=function(){return k.H.useId()},Nt.useImperativeHandle=function(U,W,ne){return k.H.useImperativeHandle(U,W,ne)},Nt.useInsertionEffect=function(U,W){return k.H.useInsertionEffect(U,W)},Nt.useLayoutEffect=function(U,W){return k.H.useLayoutEffect(U,W)},Nt.useMemo=function(U,W){return k.H.useMemo(U,W)},Nt.useOptimistic=function(U,W){return k.H.useOptimistic(U,W)},Nt.useReducer=function(U,W,ne){return k.H.useReducer(U,W,ne)},Nt.useRef=function(U){return k.H.useRef(U)},Nt.useState=function(U){return k.H.useState(U)},Nt.useSyncExternalStore=function(U,W,ne){return k.H.useSyncExternalStore(U,W,ne)},Nt.useTransition=function(){return k.H.useTransition()},Nt.version="19.0.0",Nt}var Ew;function wb(){return Ew||(Ew=1,l1.exports=C2()),l1.exports}var te=wb();const za=md(te);var s1={exports:{}},Rv={},f1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function A2(){return Sw||(Sw=1,function(n){function e(Y,Z){var Q=Y.length;Y.push(Z);e:for(;0<Q;){var ue=Q-1>>>1,U=Y[ue];if(0<i(U,Z))Y[ue]=Z,Y[Q]=U,Q=ue;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Z=Y[0],Q=Y.pop();if(Q!==Z){Y[0]=Q;e:for(var ue=0,U=Y.length,W=U>>>1;ue<W;){var ne=2*(ue+1)-1,ce=Y[ne],oe=ne+1,me=Y[oe];if(0>i(ce,Q))oe<U&&0>i(me,ce)?(Y[ue]=me,Y[oe]=Q,ue=oe):(Y[ue]=ce,Y[ne]=Q,ue=ne);else if(oe<U&&0>i(me,Q))Y[ue]=me,Y[oe]=Q,ue=oe;else break e}}return Z}function i(Y,Z){var Q=Y.sortIndex-Z.sortIndex;return Q!==0?Q:Y.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],v=1,m=null,b=3,E=!1,S=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var Z=t(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=Y)r(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function M(Y){if(A=!1,D(Y),!S)if(t(h)!==null)S=!0,K();else{var Z=t(d);Z!==null&&ee(M,Z.startTime-Y)}}var k=!1,L=-1,_=5,I=-1;function B(){return!(n.unstable_now()-I<_)}function P(){if(k){var Y=n.unstable_now();I=Y;var Z=!0;try{e:{S=!1,A&&(A=!1,C(L),L=-1),E=!0;var Q=b;try{t:{for(D(Y),m=t(h);m!==null&&!(m.expirationTime>Y&&B());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,b=m.priorityLevel;var U=ue(m.expirationTime<=Y);if(Y=n.unstable_now(),typeof U=="function"){m.callback=U,D(Y),Z=!0;break t}m===t(h)&&r(h),D(Y)}else r(h);m=t(h)}if(m!==null)Z=!0;else{var W=t(d);W!==null&&ee(M,W.startTime-Y),Z=!1}}break e}finally{m=null,b=Q,E=!1}Z=void 0}}finally{Z?F():k=!1}}}var F;if(typeof R=="function")F=function(){R(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=P,F=function(){X.postMessage(null)}}else F=function(){T(P,0)};function K(){k||(k=!0,F())}function ee(Y,Z){L=T(function(){Y(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){S||E||(S=!0,K())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var Q=b;b=Z;try{return Y()}finally{b=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=b;b=Y;try{return Z()}finally{b=Q}},n.unstable_scheduleCallback=function(Y,Z,Q){var ue=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,Y){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,Y={id:v++,callback:Z,priorityLevel:Y,startTime:Q,expirationTime:U,sortIndex:-1},Q>ue?(Y.sortIndex=Q,e(d,Y),t(h)===null&&Y===t(d)&&(A?(C(L),L=-1):A=!0,ee(M,Q-ue))):(Y.sortIndex=U,e(h,Y),S||E||(S=!0,K())),Y},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(Y){var Z=b;return function(){var Q=b;b=Z;try{return Y.apply(this,arguments)}finally{b=Q}}}}(c1)),c1}var xw;function R2(){return xw||(xw=1,f1.exports=A2()),f1.exports}var d1={exports:{}},qr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function D2(){if(Tw)return qr;Tw=1;var n=wb();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,d,v){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:d,implementation:v}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qr.createPortal=function(h,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,v)},qr.flushSync=function(h){var d=l.T,v=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=v,r.d.f()}},qr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},qr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},qr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var v=d.as,m=c(v,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:E}):v==="script"&&r.d.X(h,{crossOrigin:m,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},qr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,m=c(v,d.crossOrigin);r.d.L(h,v,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qr.preloadModule=function(h,d){if(typeof h=="string")if(d){var v=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},qr.requestFormReset=function(h){r.d.r(h)},qr.unstable_batchedUpdates=function(h,d){return h(d)},qr.useFormState=function(h,d,v){return l.H.useFormState(h,d,v)},qr.useFormStatus=function(){return l.H.useHostTransitionStatus()},qr.version="19.0.0",qr}var Cw;function BS(){if(Cw)return d1.exports;Cw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),d1.exports=D2(),d1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function O2(){if(Aw)return Rv;Aw=1;var n=R2(),e=wb(),t=BS();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)u+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var _=Symbol.for("react.client.reference");function I(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===_?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case v:return"Profiler";case d:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case E:return(a.displayName||"Context")+".Provider";case b:return(a._context.displayName||"Context")+".Consumer";case S:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return u=a.displayName||null,u!==null?u:I(a.type)||"Memo";case R:u=a._payload,a=a._init;try{return I(a(u))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,F,H;function X(a){if(F===void 0)try{throw Error()}catch(s){var u=s.stack.trim().match(/\n( *(at )?)/);F=u&&u[1]||"",H=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+a+H}var K=!1;function ee(a,u){if(!a||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(u){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Me){var Se=Me}Reflect.construct(a,[],Pe)}else{try{Pe.call()}catch(Me){Se=Me}a.call(Pe.prototype)}}else{try{throw Error()}catch(Me){Se=Me}(Pe=a())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Me){if(Me&&Se&&typeof Me.stack=="string")return[Me.stack,Se.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),N=x[0],q=x[1];if(N&&q){var j=N.split(`
`),se=q.split(`
`);for(y=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;if(p===j.length||y===se.length)for(p=j.length-1,y=se.length-1;1<=p&&0<=y&&j[p]!==se[y];)y--;for(;1<=p&&0<=y;p--,y--)if(j[p]!==se[y]){if(p!==1||y!==1)do if(p--,y--,0>y||j[p]!==se[y]){var Ne=`
`+j[p].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=p&&0<=y);break}}}finally{K=!1,Error.prepareStackTrace=s}return(s=a?a.displayName||a.name:"")?X(s):""}function Y(a){switch(a.tag){case 26:case 27:case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function Z(a){try{var u="";do u+=Y(a),a=a.return;while(a);return u}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Q(a){var u=a,s=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(s=u.return),a=u.return;while(a)}return u.tag===3?s:null}function ue(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function U(a){if(Q(a)!==a)throw Error(r(188))}function W(a){var u=a.alternate;if(!u){if(u=Q(a),u===null)throw Error(r(188));return u!==a?null:a}for(var s=a,p=u;;){var y=s.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){s=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===s)return U(y),a;if(x===p)return U(y),u;x=x.sibling}throw Error(r(188))}if(s.return!==p.return)s=y,p=x;else{for(var N=!1,q=y.child;q;){if(q===s){N=!0,s=y,p=x;break}if(q===p){N=!0,p=y,s=x;break}q=q.sibling}if(!N){for(q=x.child;q;){if(q===s){N=!0,s=x,p=y;break}if(q===p){N=!0,p=x,s=y;break}q=q.sibling}if(!N)throw Error(r(189))}}if(s.alternate!==p)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?a:u}function ne(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=ne(a),u!==null)return u;a=a.sibling}return null}var ce=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ye=[],Oe=-1;function Te(a){return{current:a}}function de(a){0>Oe||(a.current=ye[Oe],ye[Oe]=null,Oe--)}function ae(a,u){Oe++,ye[Oe]=a.current,a.current=u}var we=Te(null),_e=Te(null),He=Te(null),Ge=Te(null);function Ye(a,u){switch(ae(He,u),ae(_e,a),ae(we,null),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?hm(u):0;break;default:if(a=a===8?u.parentNode:u,u=a.tagName,a=a.namespaceURI)a=hm(a),u=vm(a,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}de(we),ae(we,u)}function Ct(){de(we),de(_e),de(He)}function ht(a){a.memoizedState!==null&&ae(Ge,a);var u=we.current,s=vm(u,a.type);u!==s&&(ae(_e,a),ae(we,s))}function Ke(a){_e.current===a&&(de(we),de(_e)),Ge.current===a&&(de(Ge),Ys._currentValue=me)}var Xe=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,Ze=n.unstable_cancelCallback,tt=n.unstable_shouldYield,at=n.unstable_requestPaint,nt=n.unstable_now,wt=n.unstable_getCurrentPriorityLevel,Ae=n.unstable_ImmediatePriority,V=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,Re=n.unstable_LowPriority,pe=n.unstable_IdlePriority,Ee=n.log,qe=n.unstable_setDisableYieldValue,Be=null,Fe=null;function ot(a){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Be,a,void 0,(a.current.flags&128)===128)}catch{}}function st(a){if(typeof Ee=="function"&&qe(a),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Be,a)}catch{}}var $e=Math.clz32?Math.clz32:dt,mt=Math.log,Et=Math.LN2;function dt(a){return a>>>=0,a===0?32:31-(mt(a)/Et|0)|0}var Yt=128,tn=4194304;function zn(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function rr(a,u){var s=a.pendingLanes;if(s===0)return 0;var p=0,y=a.suspendedLanes,x=a.pingedLanes,N=a.warmLanes;a=a.finishedLanes!==0;var q=s&134217727;return q!==0?(s=q&~y,s!==0?p=zn(s):(x&=q,x!==0?p=zn(x):a||(N=q&~N,N!==0&&(p=zn(N))))):(q=s&~y,q!==0?p=zn(q):x!==0?p=zn(x):a||(N=s&~N,N!==0&&(p=zn(N)))),p===0?0:u!==0&&u!==p&&(u&y)===0&&(y=p&-p,N=u&-u,y>=N||y===32&&(N&4194176)!==0)?u:p}function vn(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function qn(a,u){switch(a){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var a=Yt;return Yt<<=1,(Yt&4194176)===0&&(Yt=128),a}function ar(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function Wn(a){for(var u=[],s=0;31>s;s++)u.push(a);return u}function vr(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function gr(a,u,s,p,y,x){var N=a.pendingLanes;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=s,a.entangledLanes&=s,a.errorRecoveryDisabledLanes&=s,a.shellSuspendCounter=0;var q=a.entanglements,j=a.expirationTimes,se=a.hiddenUpdates;for(s=N&~s;0<s;){var Ne=31-$e(s),Pe=1<<Ne;q[Ne]=0,j[Ne]=-1;var Se=se[Ne];if(Se!==null)for(se[Ne]=null,Ne=0;Ne<Se.length;Ne++){var Me=Se[Ne];Me!==null&&(Me.lane&=-536870913)}s&=~Pe}p!==0&&Qr(a,p,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(N&~u))}function Qr(a,u,s){a.pendingLanes|=u,a.suspendedLanes&=~u;var p=31-$e(u);a.entangledLanes|=u,a.entanglements[p]=a.entanglements[p]|1073741824|s&4194218}function Lr(a,u){var s=a.entangledLanes|=u;for(a=a.entanglements;s;){var p=31-$e(s),y=1<<p;y&u|a[p]&u&&(a[p]|=u),s&=~y}}function wa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Zn(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:Am(a.type))}function Vn(a,u){var s=oe.p;try{return oe.p=a,u()}finally{oe.p=s}}var Tn=Math.random().toString(36).slice(2),In="__reactFiber$"+Tn,gn="__reactProps$"+Tn,Li="__reactContainer$"+Tn,Kl="__reactEvents$"+Tn,xf="__reactListeners$"+Tn,Md="__reactHandles$"+Tn,Tf="__reactResources$"+Tn,Zu="__reactMarker$"+Tn;function Xl(a){delete a[In],delete a[gn],delete a[Kl],delete a[xf],delete a[Md]}function zi(a){var u=a[In];if(u)return u;for(var s=a.parentNode;s;){if(u=s[Li]||s[In]){if(s=u.alternate,u.child!==null||s!==null&&s.child!==null)for(a=pm(a);a!==null;){if(s=a[In])return s;a=pm(a)}return u}a=s,s=a.parentNode}return null}function Ea(a){if(a=a[In]||a[Li]){var u=a.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return a}return null}function Sa(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function Ha(a){var u=a[Tf];return u||(u=a[Tf]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function mn(a){a[Zu]=!0}var Wl=new Set,Cf={};function Qn(a,u){Ga(a,u),Ga(a+"Capture",u)}function Ga(a,u){for(Cf[a]=u,a=0;a<u.length;a++)Wl.add(u[a])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zr={},Af={};function jy(a){return Xe.call(Af,a)?!0:Xe.call(zr,a)?!1:cu.test(a)?Af[a]=!0:(zr[a]=!0,!1)}function Rf(a,u,s){if(jy(u))if(s===null)a.removeAttribute(u);else{switch(typeof s){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var p=u.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+s)}}function Zl(a,u,s){if(s===null)a.removeAttribute(u);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+s)}}function ci(a,u,s,p){if(p===null)a.removeAttribute(s);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttributeNS(u,s,""+p)}}function Jr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Df(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Jy(a){var u=Df(a)?"checked":"value",s=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),p=""+a[u];if(!a.hasOwnProperty(u)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var y=s.get,x=s.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return y.call(this)},set:function(N){p=""+N,x.call(this,N)}}),Object.defineProperty(a,u,{enumerable:s.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Ql(a){a._valueTracker||(a._valueTracker=Jy(a))}function jl(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var s=u.getValue(),p="";return a&&(p=Df(a)?a.checked?"true":"false":a.value),a=p,a!==s?(u.setValue(a),!0):!1}function Jl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var e0=/[\n"\\]/g;function ea(a){return a.replace(e0,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Of(a,u,s,p,y,x,N,q){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),u!=null?N==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Jr(u)):a.value!==""+Jr(u)&&(a.value=""+Jr(u)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),u!=null?Bd(a,N,Jr(u)):s!=null?Bd(a,N,Jr(s)):p!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Jr(q):a.removeAttribute("name")}function Mf(a,u,s,p,y,x,N,q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),u!=null||s!=null){if(!(x!=="submit"&&x!=="reset"||u!=null))return;s=s!=null?""+Jr(s):"",u=u!=null?""+Jr(u):s,q||u===a.value||(a.value=u),a.defaultValue=u}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=q?a.checked:!!p,a.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N)}function Bd(a,u,s){u==="number"&&Jl(a.ownerDocument)===a||a.defaultValue===""+s||(a.defaultValue=""+s)}function Qu(a,u,s,p){if(a=a.options,u){u={};for(var y=0;y<s.length;y++)u["$"+s[y]]=!0;for(s=0;s<a.length;s++)y=u.hasOwnProperty("$"+a[s].value),a[s].selected!==y&&(a[s].selected=y),y&&p&&(a[s].defaultSelected=!0)}else{for(s=""+Jr(s),u=null,y=0;y<a.length;y++){if(a[y].value===s){a[y].selected=!0,p&&(a[y].defaultSelected=!0);return}u!==null||a[y].disabled||(u=a[y])}u!==null&&(u.selected=!0)}}function Bf(a,u,s){if(u!=null&&(u=""+Jr(u),u!==a.value&&(a.value=u),s==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=s!=null?""+Jr(s):""}function Nf(a,u,s,p){if(u==null){if(p!=null){if(s!=null)throw Error(r(92));if(ce(p)){if(1<p.length)throw Error(r(93));p=p[0]}s=p}s==null&&(s=""),u=s}s=Jr(u),a.defaultValue=s,p=a.textContent,p===s&&p!==""&&p!==null&&(a.value=p)}function qa(a,u){if(u){var s=a.firstChild;if(s&&s===a.lastChild&&s.nodeType===3){s.nodeValue=u;return}}a.textContent=u}var Ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nd(a,u,s){var p=u.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?p?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":p?a.setProperty(u,s):typeof s!="number"||s===0||Ng.has(u)?u==="float"?a.cssFloat=s:a[u]=(""+s).trim():a[u]=s+"px"}function _g(a,u,s){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,s!=null){for(var p in s)!s.hasOwnProperty(p)||u!=null&&u.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var y in u)p=u[y],u.hasOwnProperty(y)&&s[y]!==p&&Nd(a,y,p)}else for(var x in u)u.hasOwnProperty(x)&&Nd(a,x,u[x])}function _f(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(a){return Lg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var _d=null;function kd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var _o=null,ju=null;function zg(a){var u=Ea(a);if(u&&(a=u.stateNode)){var s=a[gn]||null;e:switch(a=u.stateNode,u.type){case"input":if(Of(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),u=s.name,s.type==="radio"&&u!=null){for(s=a;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ea(""+u)+'"][type="radio"]'),u=0;u<s.length;u++){var p=s[u];if(p!==a&&p.form===a.form){var y=p[gn]||null;if(!y)throw Error(r(90));Of(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(u=0;u<s.length;u++)p=s[u],p.form===a.form&&jl(p)}break e;case"textarea":Bf(a,s.value,s.defaultValue);break e;case"select":u=s.value,u!=null&&Qu(a,!!s.multiple,u,!1)}}}var Ld=!1;function Ig(a,u,s){if(Ld)return a(u,s);Ld=!0;try{var p=a(u);return p}finally{if(Ld=!1,(_o!==null||ju!==null)&&(Cc(),_o&&(u=_o,a=ju,ju=_o=null,zg(u),a)))for(u=0;u<a.length;u++)zg(a[u])}}function ts(a,u){var s=a.stateNode;if(s===null)return null;var p=s[gn]||null;if(p===null)return null;s=p[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(s&&typeof s!="function")throw Error(r(231,u,typeof s));return s}var ns=!1;if(jr)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){ns=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{ns=!1}var du=null,zd=null,kf=null;function Pg(){if(kf)return kf;var a,u=zd,s=u.length,p,y="value"in du?du.value:du.textContent,x=y.length;for(a=0;a<s&&u[a]===y[a];a++);var N=s-a;for(p=1;p<=N&&u[s-p]===y[x-p];p++);return kf=y.slice(a,1<p?1-p:void 0)}function rn(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function nn(){return!0}function Ug(){return!1}function Ir(a){function u(s,p,y,x,N){this._reactName=s,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(s=a[q],this[q]=s?s(x):x[q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?nn:Ug,this.isPropagationStopped=Ug,this}return P(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),u}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=Ir(Ju),as=P({},Ju,{view:0,detail:0}),t0=Ir(as),zf,Id,Pn,ko=P({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pn&&(Pn&&a.type==="mousemove"?(zf=a.screenX-Pn.screenX,Id=a.screenY-Pn.screenY):Id=zf=0,Pn=a),zf)},movementY:function(a){return"movementY"in a?a.movementY:Id}}),hu=Ir(ko),Fg=P({},ko,{dataTransfer:0}),Pd=Ir(Fg),xa=P({},as,{relatedTarget:0}),If=Ir(xa),Hg=P({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=Ir(Hg),qg=P({},Ju,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vg=Ir(qg),$g=P({},Ju,{data:0}),Pr=Ir($g),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ta={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=r0[a])?!!u[a]:!1}function di(){return Yg}var Pf=P({},as,{key:function(a){if(a.key){var u=n0[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=rn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ta[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(a){return a.type==="keypress"?rn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?rn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ud=Ir(Pf),yn=P({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=Ir(yn),Fd=P({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),a0=Ir(Fd),Hd=P({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Ir(Hd),u0=P({},ko,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=Ir(u0),Kg=P({},Ju,{newState:0,oldState:0}),Uf=Ir(Kg),Lo=[9,13,27,32],Gd=jr&&"CompositionEvent"in window,zo=null;jr&&"documentMode"in document&&(zo=document.documentMode);var Xg=jr&&"TextEvent"in window&&!zo,Ff=jr&&(!Gd||zo&&8<zo&&11>=zo),Hf=" ",qd=!1;function Wg(a,u){switch(a){case"keyup":return Lo.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var vu=!1;function l0(a,u){switch(a){case"compositionend":return Gf(u);case"keypress":return u.which!==32?null:(qd=!0,Hf);case"textInput":return a=u.data,a===Hf&&qd?null:a;default:return null}}function Zg(a,u){if(vu)return a==="compositionend"||!Gd&&Wg(a,u)?(a=Pg(),kf=zd=du=null,vu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ff&&u.locale!=="ko"?null:u.data;default:return null}}var ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!ta[a.type]:u==="textarea"}function Io(a,u,s,p){_o?ju?ju.push(p):ju=[p]:_o=p,u=Oc(u,"onChange"),0<u.length&&(s=new Lf("onChange","change",null,s,p),a.push({event:s,listeners:u}))}var Po=null,Uo=null;function s0(a){cm(a,0)}function Vf(a){var u=Sa(a);if(jl(u))return a}function Qg(a,u){if(a==="change")return u}var jg=!1;if(jr){var Vd;if(jr){var gu="oninput"in document;if(!gu){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),gu=typeof Jg.oninput=="function"}Vd=gu}else Vd=!1;jg=Vd&&(!document.documentMode||9<document.documentMode)}function ep(){Po&&(Po.detachEvent("onpropertychange",$f),Uo=Po=null)}function $f(a){if(a.propertyName==="value"&&Vf(Uo)){var u=[];Io(u,Uo,a,kd(a)),Ig(s0,u)}}function tp(a,u,s){a==="focusin"?(ep(),Po=u,Uo=s,Po.attachEvent("onpropertychange",$f)):a==="focusout"&&ep()}function pu(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vf(Uo)}function Yf(a,u){if(a==="click")return Vf(u)}function f0(a,u){if(a==="input"||a==="change")return Vf(u)}function c0(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var na=typeof Object.is=="function"?Object.is:c0;function hi(a,u){if(na(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var s=Object.keys(a),p=Object.keys(u);if(s.length!==p.length)return!1;for(p=0;p<s.length;p++){var y=s[p];if(!Xe.call(u,y)||!na(a[y],u[y]))return!1}return!0}function Ca(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $d(a,u){var s=Ca(a);a=0;for(var p;s;){if(s.nodeType===3){if(p=a+s.textContent.length,a<=u&&p>=u)return{node:s,offset:u-a};a=p}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ca(s)}}function np(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?np(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function rp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=Jl(a.document);u instanceof a.HTMLIFrameElement;){try{var s=typeof u.contentWindow.location.href=="string"}catch{s=!1}if(s)a=u.contentWindow;else break;u=Jl(a.document)}return u}function Yd(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function d0(a,u){var s=rp(u);u=a.focusedElem;var p=a.selectionRange;if(s!==u&&u&&u.ownerDocument&&np(u.ownerDocument.documentElement,u)){if(p!==null&&Yd(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=$d(u,x);var N=$d(u,p);y&&N&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(a),s.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var h0=jr&&"documentMode"in document&&11>=document.documentMode,Va=null,fe=null,De=null,Ce=!1;function Qe(a,u,s){var p=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ce||Va==null||Va!==Jl(p)||(p=Va,"selectionStart"in p&&Yd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),De&&hi(De,p)||(De=p,p=Oc(fe,"onSelect"),0<p.length&&(u=new Lf("onSelect","select",null,u,s),a.push({event:u,listeners:p}),u.target=Va)))}function vt(a,u){var s={};return s[a.toLowerCase()]=u.toLowerCase(),s["Webkit"+a]="webkit"+u,s["Moz"+a]="moz"+u,s}var Pt={animationend:vt("Animation","AnimationEnd"),animationiteration:vt("Animation","AnimationIteration"),animationstart:vt("Animation","AnimationStart"),transitionrun:vt("Transition","TransitionRun"),transitionstart:vt("Transition","TransitionStart"),transitioncancel:vt("Transition","TransitionCancel"),transitionend:vt("Transition","TransitionEnd")},Un={},an={};jr&&(an=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);function Pi(a){if(Un[a])return Un[a];if(!Pt[a])return a;var u=Pt[a],s;for(s in u)if(u.hasOwnProperty(s)&&s in an)return Un[a]=u[s];return a}var ap=Pi("animationend"),ra=Pi("animationiteration"),is=Pi("animationstart"),v0=Pi("transitionrun"),Fo=Pi("transitionstart"),Kf=Pi("transitioncancel"),us=Pi("transitionend"),Qt=new Map,ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Aa(a,u){Qt.set(a,u),Qn(u,[a])}var Tr=[],Ho=0,Kd=0;function Xf(){for(var a=Ho,u=Kd=Ho=0;u<a;){var s=Tr[u];Tr[u++]=null;var p=Tr[u];Tr[u++]=null;var y=Tr[u];Tr[u++]=null;var x=Tr[u];if(Tr[u++]=null,p!==null&&y!==null){var N=p.pending;N===null?y.next=y:(y.next=N.next,N.next=y),p.pending=y}x!==0&&Xd(s,y,x)}}function eo(a,u,s,p){Tr[Ho++]=a,Tr[Ho++]=u,Tr[Ho++]=s,Tr[Ho++]=p,Kd|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function vi(a,u,s,p){return eo(a,u,s,p),to(a)}function $a(a,u){return eo(a,null,null,u),to(a)}function Xd(a,u,s){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s);for(var y=!1,x=a.return;x!==null;)x.childLanes|=s,p=x.alternate,p!==null&&(p.childLanes|=s),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;y&&u!==null&&a.tag===3&&(x=a.stateNode,y=31-$e(s),x=x.hiddenUpdates,a=x[y],a===null?x[y]=[u]:a.push(u),u.lane=s|536870912)}function to(a){if(50<Ps)throw Ps=0,Kh=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var no={},Wd=new WeakMap;function Cr(a,u){if(typeof a=="object"&&a!==null){var s=Wd.get(a);return s!==void 0?s:(u={value:a,source:u,stack:Z(u)},Wd.set(a,u),u)}return{value:a,source:u,stack:Z(u)}}var ro=[],gi=0,pi=null,ao=0,Ra=[],Da=0,io=null,Oa=1,Ma="";function Ui(a,u){ro[gi++]=ao,ro[gi++]=pi,pi=a,ao=u}function up(a,u,s){Ra[Da++]=Oa,Ra[Da++]=Ma,Ra[Da++]=io,io=a;var p=Oa;a=Ma;var y=32-$e(p)-1;p&=~(1<<y),s+=1;var x=32-$e(u)+y;if(30<x){var N=y-y%5;x=(p&(1<<N)-1).toString(32),p>>=N,y-=N,Oa=1<<32-$e(u)+y|s<<y|p,Ma=x+a}else Oa=1<<x|s<<y|p,Ma=a}function Wf(a){a.return!==null&&(Ui(a,1),up(a,1,0))}function Zd(a){for(;a===pi;)pi=ro[--gi],ro[gi]=null,ao=ro[--gi],ro[gi]=null;for(;a===io;)io=Ra[--Da],Ra[Da]=null,Ma=Ra[--Da],Ra[Da]=null,Oa=Ra[--Da],Ra[Da]=null}var Ar=null,Ut=null,St=!1,Ya=null,mi=!1,Zf=Error(r(519));function uo(a){var u=Error(r(418,""));throw Fi(Cr(u,a)),Zf}function Qf(a){var u=a.stateNode,s=a.type,p=a.memoizedProps;switch(u[In]=a,u[gn]=p,s){case"dialog":Ft("cancel",u),Ft("close",u);break;case"iframe":case"object":case"embed":Ft("load",u);break;case"video":case"audio":for(s=0;s<Hs.length;s++)Ft(Hs[s],u);break;case"source":Ft("error",u);break;case"img":case"image":case"link":Ft("error",u),Ft("load",u);break;case"details":Ft("toggle",u);break;case"input":Ft("invalid",u),Mf(u,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Ql(u);break;case"select":Ft("invalid",u);break;case"textarea":Ft("invalid",u),Nf(u,p.value,p.defaultValue,p.children),Ql(u)}s=p.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||u.textContent===""+s||p.suppressHydrationWarning===!0||At(u.textContent,s)?(p.popover!=null&&(Ft("beforetoggle",u),Ft("toggle",u)),p.onScroll!=null&&Ft("scroll",u),p.onScrollEnd!=null&&Ft("scrollend",u),p.onClick!=null&&(u.onclick=Mc),u=!0):u=!1,u||uo(a)}function Go(a){for(Ar=a.return;Ar;)switch(Ar.tag){case 3:case 27:mi=!0;return;case 5:case 13:mi=!1;return;default:Ar=Ar.return}}function oo(a){if(a!==Ar)return!1;if(!St)return Go(a),St=!0,!1;var u=!1,s;if((s=a.tag!==3&&a.tag!==27)&&((s=a.tag===5)&&(s=a.type,s=!(s!=="form"&&s!=="button")||qs(a.type,a.memoizedProps)),s=!s),s&&(u=!0),u&&Ut&&uo(a),Go(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8)if(s=a.data,s==="/$"){if(u===0){Ut=ri(a.nextSibling);break e}u--}else s!=="$"&&s!=="$!"&&s!=="$?"||u++;a=a.nextSibling}Ut=null}}else Ut=Ar?ri(a.stateNode.nextSibling):null;return!0}function yi(){Ut=Ar=null,St=!1}function Fi(a){Ya===null?Ya=[a]:Ya.push(a)}var Hi=Error(r(460)),os=Error(r(474)),mu={then:function(){}};function op(a){return a=a.status,a==="fulfilled"||a==="rejected"}function jf(){}function lp(a,u,s){switch(s=a[s],s===void 0?a.push(u):s!==u&&(u.then(jf,jf),u=s),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===Hi?Error(r(483)):a;default:if(typeof u.status=="string")u.then(jf,jf);else{if(a=un,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(p){if(u.status==="pending"){var y=u;y.status="fulfilled",y.value=p}},function(p){if(u.status==="pending"){var y=u;y.status="rejected",y.reason=p}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===Hi?Error(r(483)):a}throw ls=u,Hi}}var ls=null;function sp(){if(ls===null)throw Error(r(459));var a=ls;return ls=null,a}var Gi=null,qi=0;function ss(a){var u=qi;return qi+=1,Gi===null&&(Gi=[]),lp(Gi,a,u)}function G(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function Vi(a,u){throw u.$$typeof===o?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function fs(a){var u=a._init;return u(a._payload)}function aa(a){function u(ge,le){if(a){var be=ge.deletions;be===null?(ge.deletions=[le],ge.flags|=16):be.push(le)}}function s(ge,le){if(!a)return null;for(;le!==null;)u(ge,le),le=le.sibling;return null}function p(ge){for(var le=new Map;ge!==null;)ge.key!==null?le.set(ge.key,ge):le.set(ge.index,ge),ge=ge.sibling;return le}function y(ge,le){return ge=_u(ge,le),ge.index=0,ge.sibling=null,ge}function x(ge,le,be){return ge.index=be,a?(be=ge.alternate,be!==null?(be=be.index,be<le?(ge.flags|=33554434,le):be):(ge.flags|=33554434,le)):(ge.flags|=1048576,le)}function N(ge){return a&&ge.alternate===null&&(ge.flags|=33554434),ge}function q(ge,le,be,Le){return le===null||le.tag!==6?(le=Uh(be,ge.mode,Le),le.return=ge,le):(le=y(le,be),le.return=ge,le)}function j(ge,le,be,Le){var Je=be.type;return Je===h?Ne(ge,le,be.props.children,Le,be.key):le!==null&&(le.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===R&&fs(Je)===le.type)?(le=y(le,be.props),G(le,be),le.return=ge,le):(le=_s(be.type,be.key,be.props,null,ge.mode,Le),G(le,be),le.return=ge,le)}function se(ge,le,be,Le){return le===null||le.tag!==4||le.stateNode.containerInfo!==be.containerInfo||le.stateNode.implementation!==be.implementation?(le=Fh(be,ge.mode,Le),le.return=ge,le):(le=y(le,be.children||[]),le.return=ge,le)}function Ne(ge,le,be,Le,Je){return le===null||le.tag!==7?(le=po(be,ge.mode,Le,Je),le.return=ge,le):(le=y(le,be),le.return=ge,le)}function Pe(ge,le,be){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Uh(""+le,ge.mode,be),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return be=_s(le.type,le.key,le.props,null,ge.mode,be),G(be,le),be.return=ge,be;case c:return le=Fh(le,ge.mode,be),le.return=ge,le;case R:var Le=le._init;return le=Le(le._payload),Pe(ge,le,be)}if(ce(le)||L(le))return le=po(le,ge.mode,be,null),le.return=ge,le;if(typeof le.then=="function")return Pe(ge,ss(le),be);if(le.$$typeof===E)return Pe(ge,yc(ge,le),be);Vi(ge,le)}return null}function Se(ge,le,be,Le){var Je=le!==null?le.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Je!==null?null:q(ge,le,""+be,Le);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case l:return be.key===Je?j(ge,le,be,Le):null;case c:return be.key===Je?se(ge,le,be,Le):null;case R:return Je=be._init,be=Je(be._payload),Se(ge,le,be,Le)}if(ce(be)||L(be))return Je!==null?null:Ne(ge,le,be,Le,null);if(typeof be.then=="function")return Se(ge,le,ss(be),Le);if(be.$$typeof===E)return Se(ge,le,yc(ge,be),Le);Vi(ge,be)}return null}function Me(ge,le,be,Le,Je){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ge=ge.get(be)||null,q(le,ge,""+Le,Je);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case l:return ge=ge.get(Le.key===null?be:Le.key)||null,j(le,ge,Le,Je);case c:return ge=ge.get(Le.key===null?be:Le.key)||null,se(le,ge,Le,Je);case R:var _t=Le._init;return Le=_t(Le._payload),Me(ge,le,be,Le,Je)}if(ce(Le)||L(Le))return ge=ge.get(be)||null,Ne(le,ge,Le,Je,null);if(typeof Le.then=="function")return Me(ge,le,be,ss(Le),Je);if(Le.$$typeof===E)return Me(ge,le,be,yc(le,Le),Je);Vi(le,Le)}return null}function rt(ge,le,be,Le){for(var Je=null,_t=null,lt=le,gt=le=0,Xt=null;lt!==null&&gt<be.length;gt++){lt.index>gt?(Xt=lt,lt=null):Xt=lt.sibling;var qt=Se(ge,lt,be[gt],Le);if(qt===null){lt===null&&(lt=Xt);break}a&&lt&&qt.alternate===null&&u(ge,lt),le=x(qt,le,gt),_t===null?Je=qt:_t.sibling=qt,_t=qt,lt=Xt}if(gt===be.length)return s(ge,lt),St&&Ui(ge,gt),Je;if(lt===null){for(;gt<be.length;gt++)lt=Pe(ge,be[gt],Le),lt!==null&&(le=x(lt,le,gt),_t===null?Je=lt:_t.sibling=lt,_t=lt);return St&&Ui(ge,gt),Je}for(lt=p(lt);gt<be.length;gt++)Xt=Me(lt,ge,gt,be[gt],Le),Xt!==null&&(a&&Xt.alternate!==null&&lt.delete(Xt.key===null?gt:Xt.key),le=x(Xt,le,gt),_t===null?Je=Xt:_t.sibling=Xt,_t=Xt);return a&&lt.forEach(function(Fu){return u(ge,Fu)}),St&&Ui(ge,gt),Je}function xt(ge,le,be,Le){if(be==null)throw Error(r(151));for(var Je=null,_t=null,lt=le,gt=le=0,Xt=null,qt=be.next();lt!==null&&!qt.done;gt++,qt=be.next()){lt.index>gt?(Xt=lt,lt=null):Xt=lt.sibling;var Fu=Se(ge,lt,qt.value,Le);if(Fu===null){lt===null&&(lt=Xt);break}a&&lt&&Fu.alternate===null&&u(ge,lt),le=x(Fu,le,gt),_t===null?Je=Fu:_t.sibling=Fu,_t=Fu,lt=Xt}if(qt.done)return s(ge,lt),St&&Ui(ge,gt),Je;if(lt===null){for(;!qt.done;gt++,qt=be.next())qt=Pe(ge,qt.value,Le),qt!==null&&(le=x(qt,le,gt),_t===null?Je=qt:_t.sibling=qt,_t=qt);return St&&Ui(ge,gt),Je}for(lt=p(lt);!qt.done;gt++,qt=be.next())qt=Me(lt,ge,gt,qt.value,Le),qt!==null&&(a&&qt.alternate!==null&&lt.delete(qt.key===null?gt:qt.key),le=x(qt,le,gt),_t===null?Je=qt:_t.sibling=qt,_t=qt);return a&&lt.forEach(function(r1){return u(ge,r1)}),St&&Ui(ge,gt),Je}function Dn(ge,le,be,Le){if(typeof be=="object"&&be!==null&&be.type===h&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case l:e:{for(var Je=be.key;le!==null;){if(le.key===Je){if(Je=be.type,Je===h){if(le.tag===7){s(ge,le.sibling),Le=y(le,be.props.children),Le.return=ge,ge=Le;break e}}else if(le.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===R&&fs(Je)===le.type){s(ge,le.sibling),Le=y(le,be.props),G(Le,be),Le.return=ge,ge=Le;break e}s(ge,le);break}else u(ge,le);le=le.sibling}be.type===h?(Le=po(be.props.children,ge.mode,Le,be.key),Le.return=ge,ge=Le):(Le=_s(be.type,be.key,be.props,null,ge.mode,Le),G(Le,be),Le.return=ge,ge=Le)}return N(ge);case c:e:{for(Je=be.key;le!==null;){if(le.key===Je)if(le.tag===4&&le.stateNode.containerInfo===be.containerInfo&&le.stateNode.implementation===be.implementation){s(ge,le.sibling),Le=y(le,be.children||[]),Le.return=ge,ge=Le;break e}else{s(ge,le);break}else u(ge,le);le=le.sibling}Le=Fh(be,ge.mode,Le),Le.return=ge,ge=Le}return N(ge);case R:return Je=be._init,be=Je(be._payload),Dn(ge,le,be,Le)}if(ce(be))return rt(ge,le,be,Le);if(L(be)){if(Je=L(be),typeof Je!="function")throw Error(r(150));return be=Je.call(be),xt(ge,le,be,Le)}if(typeof be.then=="function")return Dn(ge,le,ss(be),Le);if(be.$$typeof===E)return Dn(ge,le,yc(ge,be),Le);Vi(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,le!==null&&le.tag===6?(s(ge,le.sibling),Le=y(le,be),Le.return=ge,ge=Le):(s(ge,le),Le=Uh(be,ge.mode,Le),Le.return=ge,ge=Le),N(ge)):s(ge,le)}return function(ge,le,be,Le){try{qi=0;var Je=Dn(ge,le,be,Le);return Gi=null,Je}catch(lt){if(lt===Hi)throw lt;var _t=ca(29,lt,null,ge.mode);return _t.lanes=Le,_t.return=ge,_t}finally{}}}var Rt=aa(!0),fp=aa(!1),qo=Te(null),Jf=Te(0);function yu(a,u){a=tu,ae(Jf,a),ae(qo,u),tu=a|u.baseLanes}function Qd(){ae(Jf,tu),ae(qo,qo.current)}function jd(){tu=Jf.current,de(qo),de(Jf)}var Ba=Te(null),bi=null;function bu(a){var u=a.alternate;ae(jn,jn.current&1),ae(Ba,a),bi===null&&(u===null||qo.current!==null||u.memoizedState!==null)&&(bi=a)}function wi(a){if(a.tag===22){if(ae(jn,jn.current),ae(Ba,a),bi===null){var u=a.alternate;u!==null&&u.memoizedState!==null&&(bi=a)}}else wu()}function wu(){ae(jn,jn.current),ae(Ba,Ba.current)}function $i(a){de(Ba),bi===a&&(bi=null),de(jn)}var jn=Te(0);function ec(a){for(var u=a;u!==null;){if(u.tag===13){var s=u.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var g0=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(s,p){a.push(p)}};this.abort=function(){u.aborted=!0,a.forEach(function(s){return s()})}},Yi=n.unstable_scheduleCallback,p0=n.unstable_NormalPriority,Jn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new g0,data:new Map,refCount:0}}function cs(a){a.refCount--,a.refCount===0&&Yi(p0,function(){a.controller.abort()})}var ds=null,Ki=0,Vo=0,$o=null;function Ka(a,u){if(ds===null){var s=ds=[];Ki=0,Vo=rv(),$o={status:"pending",value:void 0,then:function(p){s.push(p)}}}return Ki++,u.then(cp,cp),u}function cp(){if(--Ki===0&&ds!==null){$o!==null&&($o.status="fulfilled");var a=ds;ds=null,Vo=0,$o=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function m0(a,u){var s=[],p={status:"pending",value:null,reason:null,then:function(y){s.push(y)}};return a.then(function(){p.status="fulfilled",p.value=u;for(var y=0;y<s.length;y++)(0,s[y])(u)},function(y){for(p.status="rejected",p.reason=y,y=0;y<s.length;y++)(0,s[y])(void 0)}),p}var dp=B.S;B.S=function(a,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Ka(a,u),dp!==null&&dp(a,u)};var lo=Te(null);function eh(){var a=lo.current;return a!==null?a:un.pooledCache}function hs(a,u){u===null?ae(lo,lo.current):ae(lo,u.pool)}function th(){var a=eh();return a===null?null:{parent:Jn._currentValue,pool:a}}var Eu=0,Bt=null,jt=null,bn=null,so=!1,Yo=!1,Su=!1,tc=0,ia=0,xu=null,fo=0;function Kt(){throw Error(r(321))}function nh(a,u){if(u===null)return!1;for(var s=0;s<u.length&&s<a.length;s++)if(!na(a[s],u[s]))return!1;return!0}function nc(a,u,s,p,y,x){return Eu=x,Bt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,B.H=a===null||a.memoizedState===null?Fr:Ei,Su=!1,x=s(p,y),Su=!1,Yo&&(x=Ko(u,s,p,y)),rh(a),x}function rh(a){B.H=Nn;var u=jt!==null&&jt.next!==null;if(Eu=0,bn=jt=Bt=null,so=!1,ia=0,xu=null,u)throw Error(r(300));a===null||er||(a=a.dependencies,a!==null&&mc(a)&&(er=!0))}function Ko(a,u,s,p){Bt=a;var y=0;do{if(Yo&&(xu=null),ia=0,Yo=!1,25<=y)throw Error(r(301));if(y+=1,bn=jt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=Au,x=u(s,p)}while(Yo);return x}function Tu(){var a=B.H,u=a.useState()[0];return u=typeof u.then=="function"?co(u):u,a=a.useState()[0],(jt!==null?jt.memoizedState:null)!==a&&(Bt.flags|=1024),u}function rc(){var a=tc!==0;return tc=0,a}function ah(a,u,s){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~s}function Xo(a){if(so){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}so=!1}Eu=0,bn=jt=Bt=null,Yo=!1,ia=tc=0,xu=null}function Ur(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Bt.memoizedState=bn=a:bn=bn.next=a,bn}function Fn(){if(jt===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var u=bn===null?Bt.memoizedState:bn.next;if(u!==null)bn=u,jt=a;else{if(a===null)throw Bt.alternate===null?Error(r(467)):Error(r(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},bn===null?Bt.memoizedState=bn=a:bn=bn.next=a}return bn}var $n;$n=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function co(a){var u=ia;return ia+=1,xu===null&&(xu=[]),a=lp(xu,a,u),u=Bt,(bn===null?u.memoizedState:bn.next)===null&&(u=u.alternate,B.H=u===null||u.memoizedState===null?Fr:Ei),a}function vs(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return co(a);if(a.$$typeof===E)return mr(a)}throw Error(r(438,String(a)))}function Na(a){var u=null,s=Bt.updateQueue;if(s!==null&&(u=s.memoCache),u==null){var p=Bt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(u={data:p.data.map(function(y){return y.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),s===null&&(s=$n(),Bt.updateQueue=s),s.memoCache=u,s=u.data[u.index],s===void 0)for(s=u.data[u.index]=Array(a),p=0;p<a;p++)s[p]=M;return u.index++,s}function Xa(a,u){return typeof u=="function"?u(a):u}function ho(a){var u=Fn();return Xi(u,jt,a)}function Xi(a,u,s){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var y=a.baseQueue,x=p.pending;if(x!==null){if(y!==null){var N=y.next;y.next=x.next,x.next=N}u.baseQueue=y=x,p.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{u=y.next;var q=N=null,j=null,se=u,Ne=!1;do{var Pe=se.lane&-536870913;if(Pe!==se.lane?(Gt&Pe)===Pe:(Eu&Pe)===Pe){var Se=se.revertLane;if(Se===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Pe===Vo&&(Ne=!0);else if((Eu&Se)===Se){se=se.next,Se===Vo&&(Ne=!0);continue}else Pe={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},j===null?(q=j=Pe,N=x):j=j.next=Pe,Bt.lanes|=Se,ku|=Se;Pe=se.action,Su&&s(x,Pe),x=se.hasEagerState?se.eagerState:s(x,Pe)}else Se={lane:Pe,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},j===null?(q=j=Se,N=x):j=j.next=Se,Bt.lanes|=Pe,ku|=Pe;se=se.next}while(se!==null&&se!==u);if(j===null?N=x:j.next=q,!na(x,a.memoizedState)&&(er=!0,Ne&&(s=$o,s!==null)))throw s;a.memoizedState=x,a.baseState=N,a.baseQueue=j,p.lastRenderedState=x}return y===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function ac(a){var u=Fn(),s=u.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var p=s.dispatch,y=s.pending,x=u.memoizedState;if(y!==null){s.pending=null;var N=y=y.next;do x=a(x,N.action),N=N.next;while(N!==y);na(x,u.memoizedState)||(er=!0),u.memoizedState=x,u.baseQueue===null&&(u.baseState=x),s.lastRenderedState=x}return[x,p]}function pr(a,u,s){var p=Bt,y=Fn(),x=St;if(x){if(s===void 0)throw Error(r(407));s=s()}else s=u();var N=!na((jt||y).memoizedState,s);if(N&&(y.memoizedState=s,er=!0),y=y.queue,lc(vp.bind(null,p,y,a),[a]),y.getSnapshot!==u||N||bn!==null&&bn.memoizedState.tag&1){if(p.flags|=2048,Cu(9,hp.bind(null,p,y,s,u),{destroy:void 0},null),un===null)throw Error(r(349));x||(Eu&60)!==0||ic(p,u,s)}return s}function ic(a,u,s){a.flags|=16384,a={getSnapshot:u,value:s},u=Bt.updateQueue,u===null?(u=$n(),Bt.updateQueue=u,u.stores=[a]):(s=u.stores,s===null?u.stores=[a]:s.push(a))}function hp(a,u,s,p){u.value=s,u.getSnapshot=p,gp(u)&&uc(a)}function vp(a,u,s){return s(function(){gp(u)&&uc(a)})}function gp(a){var u=a.getSnapshot;a=a.value;try{var s=u();return!na(a,s)}catch{return!0}}function uc(a){var u=$a(a,2);u!==null&&br(u,a,2)}function ih(a){var u=Ur();if(typeof a=="function"){var s=a;if(a=s(),Su){st(!0);try{s()}finally{st(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:a},u}function Wo(a,u,s,p){return a.baseState=s,Xi(a,jt,typeof p=="function"?p:Xa)}function pp(a,u,s,p,y){if(el(a))throw Error(r(485));if(a=u.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};B.T!==null?s(!0):x.isTransition=!1,p(x),s=u.pending,s===null?(x.next=u.pending=x,mp(u,x)):(x.next=s.next,u.pending=s.next=x)}}function mp(a,u){var s=u.action,p=u.payload,y=a.state;if(u.isTransition){var x=B.T,N={};B.T=N;try{var q=s(y,p),j=B.S;j!==null&&j(N,q),yp(a,u,q)}catch(se){uh(a,u,se)}finally{B.T=x}}else try{x=s(y,p),yp(a,u,x)}catch(se){uh(a,u,se)}}function yp(a,u,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(p){Zo(a,u,p)},function(p){return uh(a,u,p)}):Zo(a,u,s)}function Zo(a,u,s){u.status="fulfilled",u.value=s,bp(u),a.state=s,u=a.pending,u!==null&&(s=u.next,s===u?a.pending=null:(s=s.next,u.next=s,mp(a,s)))}function uh(a,u,s){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do u.status="rejected",u.reason=s,bp(u),u=u.next;while(u!==p)}a.action=null}function bp(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function oc(a,u){return u}function oh(a,u){if(St){var s=un.formState;if(s!==null){e:{var p=Bt;if(St){if(Ut){t:{for(var y=Ut,x=mi;y.nodeType!==8;){if(!x){y=null;break t}if(y=ri(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Ut=ri(y.nextSibling),p=y.data==="F!";break e}}uo(p)}p=!1}p&&(u=s[0])}}return s=Ur(),s.memoizedState=s.baseState=u,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:u},s.queue=p,s=ua.bind(null,Bt,p),p.dispatch=s,p=ih(!1),x=Jo.bind(null,Bt,!1,p.queue),p=Ur(),y={state:u,dispatch:null,action:a,pending:null},p.queue=y,s=pp.bind(null,Bt,y,x,s),y.dispatch=s,p.memoizedState=a,[u,s,!1]}function wp(a){var u=Fn();return Ep(u,jt,a)}function Ep(a,u,s){u=Xi(a,u,oc)[0],a=ho(Xa)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?co(u):u;var p=Fn(),y=p.queue,x=y.dispatch;return s!==p.memoizedState&&(Bt.flags|=2048,Cu(9,y0.bind(null,y,s),{destroy:void 0},null)),[u,x,a]}function y0(a,u){a.action=u}function lh(a){var u=Fn(),s=jt;if(s!==null)return Ep(u,s,a);Fn(),u=u.memoizedState,s=Fn();var p=s.queue.dispatch;return s.memoizedState=a,[u,p,!1]}function Cu(a,u,s,p){return a={tag:a,create:u,inst:s,deps:p,next:null},u=Bt.updateQueue,u===null&&(u=$n(),Bt.updateQueue=u),s=u.lastEffect,s===null?u.lastEffect=a.next=a:(p=s.next,s.next=a,a.next=p,u.lastEffect=a),a}function Sp(){return Fn().memoizedState}function Qo(a,u,s,p){var y=Ur();Bt.flags|=a,y.memoizedState=Cu(1|u,s,{destroy:void 0},p===void 0?null:p)}function gs(a,u,s,p){var y=Fn();p=p===void 0?null:p;var x=y.memoizedState.inst;jt!==null&&p!==null&&nh(p,jt.memoizedState.deps)?y.memoizedState=Cu(u,s,x,p):(Bt.flags|=a,y.memoizedState=Cu(1|u,s,x,p))}function sh(a,u){Qo(8390656,8,a,u)}function lc(a,u){gs(2048,8,a,u)}function ps(a,u){return gs(4,2,a,u)}function xp(a,u){return gs(4,4,a,u)}function fh(a,u){if(typeof u=="function"){a=a();var s=u(a);return function(){typeof s=="function"?s():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function ch(a,u,s){s=s!=null?s.concat([a]):null,gs(4,4,fh.bind(null,u,a),s)}function dh(){}function hh(a,u){var s=Fn();u=u===void 0?null:u;var p=s.memoizedState;return u!==null&&nh(u,p[1])?p[0]:(s.memoizedState=[a,u],a)}function Tp(a,u){var s=Fn();u=u===void 0?null:u;var p=s.memoizedState;if(u!==null&&nh(u,p[1]))return p[0];if(p=a(),Su){st(!0);try{a()}finally{st(!1)}}return s.memoizedState=[p,u],p}function ms(a,u,s){return s===void 0||(Eu&1073741824)!==0?a.memoizedState=u:(a.memoizedState=s,a=Wp(),Bt.lanes|=a,ku|=a,s)}function vh(a,u,s,p){return na(s,u)?s:qo.current!==null?(a=ms(a,s,p),na(a,u)||(er=!0),a):(Eu&42)===0?(er=!0,a.memoizedState=s):(a=Wp(),Bt.lanes|=a,ku|=a,u)}function sc(a,u,s,p,y){var x=oe.p;oe.p=x!==0&&8>x?x:8;var N=B.T,q={};B.T=q,Jo(a,!1,u,s);try{var j=y(),se=B.S;if(se!==null&&se(q,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Ne=m0(j,p);bs(a,u,Ne,ha(a))}else bs(a,u,p,ha(a))}catch(Pe){bs(a,u,{then:function(){},status:"rejected",reason:Pe},ha())}finally{oe.p=x,B.T=N}}function b0(){}function ys(a,u,s,p){if(a.tag!==5)throw Error(r(476));var y=Mt(a).queue;sc(a,y,u,me,s===null?b0:function(){return Cp(a),s(p)})}function Mt(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:me},next:null};var s={};return u.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:s},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function Cp(a){var u=Mt(a).next.queue;bs(a,u,{},ha())}function gh(){return mr(Ys)}function jo(){return Fn().memoizedState}function ph(){return Fn().memoizedState}function w0(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var s=ha();a=Ja(s);var p=oa(u,a,s);p!==null&&(br(p,u,s),ft(p,u,s)),u={cache:Jd()},a.payload=u;return}u=u.return}}function E0(a,u,s){var p=ha();s={lane:p,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},el(a)?mh(u,s):(s=vi(a,u,s,p),s!==null&&(br(s,a,p),yh(s,u,p)))}function ua(a,u,s){var p=ha();bs(a,u,s,p)}function bs(a,u,s,p){var y={lane:p,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(el(a))mh(u,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=u.lastRenderedReducer,x!==null))try{var N=u.lastRenderedState,q=x(N,s);if(y.hasEagerState=!0,y.eagerState=q,na(q,N))return eo(a,u,y,0),un===null&&Xf(),!1}catch{}finally{}if(s=vi(a,u,y,p),s!==null)return br(s,a,p),yh(s,u,p),!0}return!1}function Jo(a,u,s,p){if(p={lane:2,revertLane:rv(),action:p,hasEagerState:!1,eagerState:null,next:null},el(a)){if(u)throw Error(r(479))}else u=vi(a,s,p,2),u!==null&&br(u,a,2)}function el(a){var u=a.alternate;return a===Bt||u!==null&&u===Bt}function mh(a,u){Yo=so=!0;var s=a.pending;s===null?u.next=u:(u.next=s.next,s.next=u),a.pending=u}function yh(a,u,s){if((s&4194176)!==0){var p=u.lanes;p&=a.pendingLanes,s|=p,u.lanes=s,Lr(a,s)}}var Nn={readContext:mr,use:vs,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};Nn.useCacheRefresh=Kt,Nn.useMemoCache=Kt,Nn.useHostTransitionStatus=Kt,Nn.useFormState=Kt,Nn.useActionState=Kt,Nn.useOptimistic=Kt;var Fr={readContext:mr,use:vs,useCallback:function(a,u){return Ur().memoizedState=[a,u===void 0?null:u],a},useContext:mr,useEffect:sh,useImperativeHandle:function(a,u,s){s=s!=null?s.concat([a]):null,Qo(4194308,4,fh.bind(null,u,a),s)},useLayoutEffect:function(a,u){return Qo(4194308,4,a,u)},useInsertionEffect:function(a,u){Qo(4,2,a,u)},useMemo:function(a,u){var s=Ur();u=u===void 0?null:u;var p=a();if(Su){st(!0);try{a()}finally{st(!1)}}return s.memoizedState=[p,u],p},useReducer:function(a,u,s){var p=Ur();if(s!==void 0){var y=s(u);if(Su){st(!0);try{s(u)}finally{st(!1)}}}else y=u;return p.memoizedState=p.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},p.queue=a,a=a.dispatch=E0.bind(null,Bt,a),[p.memoizedState,a]},useRef:function(a){var u=Ur();return a={current:a},u.memoizedState=a},useState:function(a){a=ih(a);var u=a.queue,s=ua.bind(null,Bt,u);return u.dispatch=s,[a.memoizedState,s]},useDebugValue:dh,useDeferredValue:function(a,u){var s=Ur();return ms(s,a,u)},useTransition:function(){var a=ih(!1);return a=sc.bind(null,Bt,a.queue,!0,!1),Ur().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,s){var p=Bt,y=Ur();if(St){if(s===void 0)throw Error(r(407));s=s()}else{if(s=u(),un===null)throw Error(r(349));(Gt&60)!==0||ic(p,u,s)}y.memoizedState=s;var x={value:s,getSnapshot:u};return y.queue=x,sh(vp.bind(null,p,x,a),[a]),p.flags|=2048,Cu(9,hp.bind(null,p,x,s,u),{destroy:void 0},null),s},useId:function(){var a=Ur(),u=un.identifierPrefix;if(St){var s=Ma,p=Oa;s=(p&~(1<<32-$e(p)-1)).toString(32)+s,u=":"+u+"R"+s,s=tc++,0<s&&(u+="H"+s.toString(32)),u+=":"}else s=fo++,u=":"+u+"r"+s.toString(32)+":";return a.memoizedState=u},useCacheRefresh:function(){return Ur().memoizedState=w0.bind(null,Bt)}};Fr.useMemoCache=Na,Fr.useHostTransitionStatus=gh,Fr.useFormState=oh,Fr.useActionState=oh,Fr.useOptimistic=function(a){var u=Ur();u.memoizedState=u.baseState=a;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=s,u=Jo.bind(null,Bt,!0,s),s.dispatch=u,[a,u]};var Ei={readContext:mr,use:vs,useCallback:hh,useContext:mr,useEffect:lc,useImperativeHandle:ch,useInsertionEffect:ps,useLayoutEffect:xp,useMemo:Tp,useReducer:ho,useRef:Sp,useState:function(){return ho(Xa)},useDebugValue:dh,useDeferredValue:function(a,u){var s=Fn();return vh(s,jt.memoizedState,a,u)},useTransition:function(){var a=ho(Xa)[0],u=Fn().memoizedState;return[typeof a=="boolean"?a:co(a),u]},useSyncExternalStore:pr,useId:jo};Ei.useCacheRefresh=ph,Ei.useMemoCache=Na,Ei.useHostTransitionStatus=gh,Ei.useFormState=wp,Ei.useActionState=wp,Ei.useOptimistic=function(a,u){var s=Fn();return Wo(s,jt,a,u)};var Au={readContext:mr,use:vs,useCallback:hh,useContext:mr,useEffect:lc,useImperativeHandle:ch,useInsertionEffect:ps,useLayoutEffect:xp,useMemo:Tp,useReducer:ac,useRef:Sp,useState:function(){return ac(Xa)},useDebugValue:dh,useDeferredValue:function(a,u){var s=Fn();return jt===null?ms(s,a,u):vh(s,jt.memoizedState,a,u)},useTransition:function(){var a=ac(Xa)[0],u=Fn().memoizedState;return[typeof a=="boolean"?a:co(a),u]},useSyncExternalStore:pr,useId:jo};Au.useCacheRefresh=ph,Au.useMemoCache=Na,Au.useHostTransitionStatus=gh,Au.useFormState=lh,Au.useActionState=lh,Au.useOptimistic=function(a,u){var s=Fn();return jt!==null?Wo(s,jt,a,u):(s.baseState=a,[a,s.queue.dispatch])};function tl(a,u,s,p){u=a.memoizedState,s=s(p,u),s=s==null?u:P({},u,s),a.memoizedState=s,a.lanes===0&&(a.updateQueue.baseState=s)}var fc={isMounted:function(a){return(a=a._reactInternals)?Q(a)===a:!1},enqueueSetState:function(a,u,s){a=a._reactInternals;var p=ha(),y=Ja(p);y.payload=u,s!=null&&(y.callback=s),u=oa(a,y,p),u!==null&&(br(u,a,p),ft(u,a,p))},enqueueReplaceState:function(a,u,s){a=a._reactInternals;var p=ha(),y=Ja(p);y.tag=1,y.payload=u,s!=null&&(y.callback=s),u=oa(a,y,p),u!==null&&(br(u,a,p),ft(u,a,p))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var s=ha(),p=Ja(s);p.tag=2,u!=null&&(p.callback=u),u=oa(a,p,s),u!==null&&(br(u,a,s),ft(u,a,s))}};function cc(a,u,s,p,y,x,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,x,N):u.prototype&&u.prototype.isPureReactComponent?!hi(s,p)||!hi(y,x):!0}function bh(a,u,s,p){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(s,p),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(s,p),u.state!==a&&fc.enqueueReplaceState(u,u.state,null)}function Wi(a,u){var s=u;if("ref"in u){s={};for(var p in u)p!=="ref"&&(s[p]=u[p])}if(a=a.defaultProps){s===u&&(s=P({},s));for(var y in a)s[y]===void 0&&(s[y]=a[y])}return s}var nl=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Zi(a){nl(a)}function Ap(a){console.error(a)}function Qi(a){nl(a)}function ws(a,u){try{var s=a.onUncaughtError;s(u.value,{componentStack:u.stack})}catch(p){setTimeout(function(){throw p})}}function wh(a,u,s){try{var p=a.onCaughtError;p(s.value,{componentStack:s.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Es(a,u,s){return s=Ja(s),s.tag=3,s.payload={element:null},s.callback=function(){ws(a,u)},s}function Rp(a){return a=Ja(a),a.tag=3,a}function Dp(a,u,s,p){var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var x=p.value;a.payload=function(){return y(x)},a.callback=function(){wh(u,s,p)}}var N=s.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){wh(u,s,p),typeof y!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function S0(a,u,s,p,y){if(s.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(u=s.alternate,u!==null&&ol(u,s,y,!0),s=Ba.current,s!==null){switch(s.tag){case 13:return bi===null?Wh():s.alternate===null&&kn===0&&(kn=3),s.flags&=-257,s.flags|=65536,s.lanes=y,p===mu?s.flags|=16384:(u=s.updateQueue,u===null?s.updateQueue=new Set([p]):u.add(p),Qh(a,p,y)),!1;case 22:return s.flags|=65536,p===mu?s.flags|=16384:(u=s.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([p])},s.updateQueue=u):(s=u.retryQueue,s===null?u.retryQueue=new Set([p]):s.add(p)),Qh(a,p,y)),!1}throw Error(r(435,s.tag))}return Qh(a,p,y),Wh(),!1}if(St)return u=Ba.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=y,p!==Zf&&(a=Error(r(422),{cause:p}),Fi(Cr(a,s)))):(p!==Zf&&(u=Error(r(423),{cause:p}),Fi(Cr(u,s))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,p=Cr(p,s),y=Es(a.stateNode,p,y),ll(a,y),kn!==4&&(kn=2)),!1;var x=Error(r(520),{cause:p});if(x=Cr(x,s),Ls===null?Ls=[x]:Ls.push(x),kn!==4&&(kn=2),u===null)return!0;p=Cr(p,s),s=u;do{switch(s.tag){case 3:return s.flags|=65536,a=y&-y,s.lanes|=a,a=Es(s.stateNode,p,a),ll(s,a),!1;case 1:if(u=s.type,x=s.stateNode,(s.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Di===null||!Di.has(x))))return s.flags|=65536,y&=-y,s.lanes|=y,y=Rp(y),Dp(y,a,s,p),ll(s,y),!1}s=s.return}while(s!==null);return!1}var Eh=Error(r(461)),er=!1;function ir(a,u,s,p){u.child=a===null?fp(u,null,s,p):Rt(u,a.child,s,p)}function Sh(a,u,s,p,y){s=s.render;var x=u.ref;if("ref"in p){var N={};for(var q in p)q!=="ref"&&(N[q]=p[q])}else N=p;return Mu(u),p=nc(a,u,s,N,x,y),q=rc(),a!==null&&!er?(ah(a,u,y),Za(a,u,y)):(St&&q&&Wf(u),u.flags|=1,ir(a,u,p,y),u.child)}function xh(a,u,s,p,y){if(a===null){var x=s.type;return typeof x=="function"&&!Ph(x)&&x.defaultProps===void 0&&s.compare===null?(u.tag=15,u.type=x,Rr(a,u,x,p,y)):(a=_s(s.type,null,p,u,u.mode,y),a.ref=u.ref,a.return=u,u.child=a)}if(x=a.child,!il(a,y)){var N=x.memoizedProps;if(s=s.compare,s=s!==null?s:hi,s(N,p)&&a.ref===u.ref)return Za(a,u,y)}return u.flags|=1,a=_u(x,p),a.ref=u.ref,a.return=u,u.child=a}function Rr(a,u,s,p,y){if(a!==null){var x=a.memoizedProps;if(hi(x,p)&&a.ref===u.ref)if(er=!1,u.pendingProps=p=x,il(a,y))(a.flags&131072)!==0&&(er=!0);else return u.lanes=a.lanes,Za(a,u,y)}return rl(a,u,s,p,y)}function Wa(a,u,s){var p=u.pendingProps,y=p.children,x=(u.stateNode._pendingVisibility&2)!==0,N=a!==null?a.memoizedState:null;if(Ss(a,u),p.mode==="hidden"||x){if((u.flags&128)!==0){if(p=N!==null?N.baseLanes|s:s,a!==null){for(y=u.child=a.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;u.childLanes=x&~p}else u.childLanes=0,u.child=null;return Op(a,u,p,s)}if((s&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&hs(u,N!==null?N.cachePool:null),N!==null?yu(u,N):Qd(),wi(u);else return u.lanes=u.childLanes=536870912,Op(a,u,N!==null?N.baseLanes|s:s,s)}else N!==null?(hs(u,N.cachePool),yu(u,N),wu(),u.memoizedState=null):(a!==null&&hs(u,null),Qd(),wu());return ir(a,u,y,s),u.child}function Op(a,u,s,p){var y=eh();return y=y===null?null:{parent:Jn._currentValue,pool:y},u.memoizedState={baseLanes:s,cachePool:y},a!==null&&hs(u,null),Qd(),wi(u),a!==null&&ol(a,u,p,!0),null}function Ss(a,u){var s=u.ref;if(s===null)a!==null&&a.ref!==null&&(u.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(a===null||a.ref!==s)&&(u.flags|=2097664)}}function rl(a,u,s,p,y){return Mu(u),s=nc(a,u,s,p,void 0,y),p=rc(),a!==null&&!er?(ah(a,u,y),Za(a,u,y)):(St&&p&&Wf(u),u.flags|=1,ir(a,u,s,y),u.child)}function vo(a,u,s,p,y,x){return Mu(u),u.updateQueue=null,s=Ko(u,p,s,y),rh(a),p=rc(),a!==null&&!er?(ah(a,u,x),Za(a,u,x)):(St&&p&&Wf(u),u.flags|=1,ir(a,u,s,x),u.child)}function Th(a,u,s,p,y){if(Mu(u),u.stateNode===null){var x=no,N=s.contextType;typeof N=="object"&&N!==null&&(x=mr(N)),x=new s(p,x),u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=fc,u.stateNode=x,x._reactInternals=u,x=u.stateNode,x.props=p,x.state=u.memoizedState,x.refs={},Cs(u),N=s.contextType,x.context=typeof N=="object"&&N!==null?mr(N):no,x.state=u.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(tl(u,s,N,p),x.state=u.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&fc.enqueueReplaceState(x,x.state,null),Ds(u,p,x,y),ei(),x.state=u.memoizedState),typeof x.componentDidMount=="function"&&(u.flags|=4194308),p=!0}else if(a===null){x=u.stateNode;var q=u.memoizedProps,j=Wi(s,q);x.props=j;var se=x.context,Ne=s.contextType;N=no,typeof Ne=="object"&&Ne!==null&&(N=mr(Ne));var Pe=s.getDerivedStateFromProps;Ne=typeof Pe=="function"||typeof x.getSnapshotBeforeUpdate=="function",q=u.pendingProps!==q,Ne||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(q||se!==N)&&bh(u,x,p,N),Ti=!1;var Se=u.memoizedState;x.state=Se,Ds(u,p,x,y),ei(),se=u.memoizedState,q||Se!==se||Ti?(typeof Pe=="function"&&(tl(u,s,Pe,p),se=u.memoizedState),(j=Ti||cc(u,s,j,p,Se,se,N))?(Ne||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(u.flags|=4194308)):(typeof x.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=p,u.memoizedState=se),x.props=p,x.state=se,x.context=N,p=j):(typeof x.componentDidMount=="function"&&(u.flags|=4194308),p=!1)}else{x=u.stateNode,As(a,u),N=u.memoizedProps,Ne=Wi(s,N),x.props=Ne,Pe=u.pendingProps,Se=x.context,se=s.contextType,j=no,typeof se=="object"&&se!==null&&(j=mr(se)),q=s.getDerivedStateFromProps,(se=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==Pe||Se!==j)&&bh(u,x,p,j),Ti=!1,Se=u.memoizedState,x.state=Se,Ds(u,p,x,y),ei();var Me=u.memoizedState;N!==Pe||Se!==Me||Ti||a!==null&&a.dependencies!==null&&mc(a.dependencies)?(typeof q=="function"&&(tl(u,s,q,p),Me=u.memoizedState),(Ne=Ti||cc(u,s,Ne,p,Se,Me,j)||a!==null&&a.dependencies!==null&&mc(a.dependencies))?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,Me,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,Me,j)),typeof x.componentDidUpdate=="function"&&(u.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&Se===a.memoizedState||(u.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&Se===a.memoizedState||(u.flags|=1024),u.memoizedProps=p,u.memoizedState=Me),x.props=p,x.state=Me,x.context=j,p=Ne):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&Se===a.memoizedState||(u.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&Se===a.memoizedState||(u.flags|=1024),p=!1)}return x=p,Ss(a,u),p=(u.flags&128)!==0,x||p?(x=u.stateNode,s=p&&typeof s.getDerivedStateFromError!="function"?null:x.render(),u.flags|=1,a!==null&&p?(u.child=Rt(u,a.child,null,y),u.child=Rt(u,null,s,y)):ir(a,u,s,y),u.memoizedState=x.state,a=u.child):a=Za(a,u,y),a}function Ch(a,u,s,p){return yi(),u.flags|=256,ir(a,u,s,p),u.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function dc(a){return{baseLanes:a,cachePool:th()}}function Ru(a,u,s){return a=a!==null?a.childLanes&~s:0,u&&(a|=_a),a}function al(a,u,s){var p=u.pendingProps,y=!1,x=(u.flags&128)!==0,N;if((N=x)||(N=a!==null&&a.memoizedState===null?!1:(jn.current&2)!==0),N&&(y=!0,u.flags&=-129),N=(u.flags&32)!==0,u.flags&=-33,a===null){if(St){if(y?bu(u):wu(),St){var q=Ut,j;if(j=q){e:{for(j=q,q=mi;j.nodeType!==8;){if(!q){q=null;break e}if(j=ri(j.nextSibling),j===null){q=null;break e}}q=j}q!==null?(u.memoizedState={dehydrated:q,treeContext:io!==null?{id:Oa,overflow:Ma}:null,retryLane:536870912},j=ca(18,null,null,0),j.stateNode=q,j.return=u,u.child=j,Ar=u,Ut=null,j=!0):j=!1}j||uo(u)}if(q=u.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return q.data==="$!"?u.lanes=16:u.lanes=536870912,null;$i(u)}return q=p.children,p=p.fallback,y?(wu(),y=u.mode,q=hc({mode:"hidden",children:q},y),p=po(p,y,s,null),q.return=u,p.return=u,q.sibling=p,u.child=q,y=u.child,y.memoizedState=dc(s),y.childLanes=Ru(a,N,s),u.memoizedState=Ah,p):(bu(u),Rh(u,q))}if(j=a.memoizedState,j!==null&&(q=j.dehydrated,q!==null)){if(x)u.flags&256?(bu(u),u.flags&=-257,u=vc(a,u,s)):u.memoizedState!==null?(wu(),u.child=a.child,u.flags|=128,u=null):(wu(),y=p.fallback,q=u.mode,p=hc({mode:"visible",children:p.children},q),y=po(y,q,s,null),y.flags|=2,p.return=u,y.return=u,p.sibling=y,u.child=p,Rt(u,a.child,null,s),p=u.child,p.memoizedState=dc(s),p.childLanes=Ru(a,N,s),u.memoizedState=Ah,u=y);else if(bu(u),q.data==="$!"){if(N=q.nextSibling&&q.nextSibling.dataset,N)var se=N.dgst;N=se,p=Error(r(419)),p.stack="",p.digest=N,Fi({value:p,source:null,stack:null}),u=vc(a,u,s)}else if(er||ol(a,u,s,!1),N=(s&a.childLanes)!==0,er||N){if(N=un,N!==null){if(p=s&-s,(p&42)!==0)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=(p&(N.suspendedLanes|s))!==0?0:p,p!==0&&p!==j.retryLane)throw j.retryLane=p,$a(a,p),br(N,a,p),Eh}q.data==="$?"||Wh(),u=vc(a,u,s)}else q.data==="$?"?(u.flags|=128,u.child=a.child,u=_0.bind(null,a),q._reactRetry=u,u=null):(a=j.treeContext,Ut=ri(q.nextSibling),Ar=u,St=!0,Ya=null,mi=!1,a!==null&&(Ra[Da++]=Oa,Ra[Da++]=Ma,Ra[Da++]=io,Oa=a.id,Ma=a.overflow,io=u),u=Rh(u,p.children),u.flags|=4096);return u}return y?(wu(),y=p.fallback,q=u.mode,j=a.child,se=j.sibling,p=_u(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&31457280,se!==null?y=_u(se,y):(y=po(y,q,s,null),y.flags|=2),y.return=u,p.return=u,p.sibling=y,u.child=p,p=y,y=u.child,q=a.child.memoizedState,q===null?q=dc(s):(j=q.cachePool,j!==null?(se=Jn._currentValue,j=j.parent!==se?{parent:se,pool:se}:j):j=th(),q={baseLanes:q.baseLanes|s,cachePool:j}),y.memoizedState=q,y.childLanes=Ru(a,N,s),u.memoizedState=Ah,p):(bu(u),s=a.child,a=s.sibling,s=_u(s,{mode:"visible",children:p.children}),s.return=u,s.sibling=null,a!==null&&(N=u.deletions,N===null?(u.deletions=[a],u.flags|=16):N.push(a)),u.child=s,u.memoizedState=null,s)}function Rh(a,u){return u=hc({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function hc(a,u){return $p(a,u,0,null)}function vc(a,u,s){return Rt(u,a.child,null,s),a=Rh(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function xs(a,u,s){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u),ja(a.return,u,s)}function gc(a,u,s,p,y){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:p,tail:s,tailMode:y}:(x.isBackwards=u,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=s,x.tailMode=y)}function Ts(a,u,s){var p=u.pendingProps,y=p.revealOrder,x=p.tail;if(ir(a,u,p.children,s),p=jn.current,(p&2)!==0)p=p&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xs(a,s,u);else if(a.tag===19)xs(a,s,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(ae(jn,p),y){case"forwards":for(s=u.child,y=null;s!==null;)a=s.alternate,a!==null&&ec(a)===null&&(y=s),s=s.sibling;s=y,s===null?(y=u.child,u.child=null):(y=s.sibling,s.sibling=null),gc(u,!1,y,s,x);break;case"backwards":for(s=null,y=u.child,u.child=null;y!==null;){if(a=y.alternate,a!==null&&ec(a)===null){u.child=y;break}a=y.sibling,y.sibling=s,s=y,y=a}gc(u,!0,s,null,x);break;case"together":gc(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Za(a,u,s){if(a!==null&&(u.dependencies=a.dependencies),ku|=u.lanes,(s&u.childLanes)===0)if(a!==null){if(ol(a,u,s,!1),(s&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,s=_u(a,a.pendingProps),u.child=s,s.return=u;a.sibling!==null;)a=a.sibling,s=s.sibling=_u(a,a.pendingProps),s.return=u;s.sibling=null}return u.child}function il(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&mc(a)))}function x0(a,u,s){switch(u.tag){case 3:Ye(u,u.stateNode.containerInfo),Ou(u,Jn,a.memoizedState.cache),yi();break;case 27:case 5:ht(u);break;case 4:Ye(u,u.stateNode.containerInfo);break;case 10:Ou(u,u.type,u.memoizedProps.value);break;case 13:var p=u.memoizedState;if(p!==null)return p.dehydrated!==null?(bu(u),u.flags|=128,null):(s&u.child.childLanes)!==0?al(a,u,s):(bu(u),a=Za(a,u,s),a!==null?a.sibling:null);bu(u);break;case 19:var y=(a.flags&128)!==0;if(p=(s&u.childLanes)!==0,p||(ol(a,u,s,!1),p=(s&u.childLanes)!==0),y){if(p)return Ts(a,u,s);u.flags|=128}if(y=u.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ae(jn,jn.current),p)break;return null;case 22:case 23:return u.lanes=0,Wa(a,u,s);case 24:Ou(u,Jn,a.memoizedState.cache)}return Za(a,u,s)}function Dh(a,u,s){if(a!==null)if(a.memoizedProps!==u.pendingProps)er=!0;else{if(!il(a,s)&&(u.flags&128)===0)return er=!1,x0(a,u,s);er=(a.flags&131072)!==0}else er=!1,St&&(u.flags&1048576)!==0&&up(u,ao,u.index);switch(u.lanes=0,u.tag){case 16:e:{a=u.pendingProps;var p=u.elementType,y=p._init;if(p=y(p._payload),u.type=p,typeof p=="function")Ph(p)?(a=Wi(p,a),u.tag=1,u=Th(null,u,p,a,s)):(u.tag=0,u=rl(null,u,p,a,s));else{if(p!=null){if(y=p.$$typeof,y===S){u.tag=11,u=Sh(null,u,p,a,s);break e}else if(y===C){u.tag=14,u=xh(null,u,p,a,s);break e}}throw u=I(p)||p,Error(r(306,u,""))}}return u;case 0:return rl(a,u,u.type,u.pendingProps,s);case 1:return p=u.type,y=Wi(p,u.pendingProps),Th(a,u,p,y,s);case 3:e:{if(Ye(u,u.stateNode.containerInfo),a===null)throw Error(r(387));var x=u.pendingProps;y=u.memoizedState,p=y.element,As(a,u),Ds(u,x,null,s);var N=u.memoizedState;if(x=N.cache,Ou(u,Jn,x),x!==y.cache&&pc(u,[Jn],s,!0),ei(),x=N.element,y.isDehydrated)if(y={element:x,isDehydrated:!1,cache:N.cache},u.updateQueue.baseState=y,u.memoizedState=y,u.flags&256){u=Ch(a,u,x,s);break e}else if(x!==p){p=Cr(Error(r(424)),u),Fi(p),u=Ch(a,u,x,s);break e}else for(Ut=ri(u.stateNode.containerInfo.firstChild),Ar=u,St=!0,Ya=null,mi=!0,s=fp(u,null,x,s),u.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(yi(),x===p){u=Za(a,u,s);break e}ir(a,u,x,s)}u=u.child}return u;case 26:return Ss(a,u),a===null?(s=mv(u.type,null,u.pendingProps,null))?u.memoizedState=s:St||(s=u.type,a=u.pendingProps,p=Bc(He.current).createElement(s),p[In]=u,p[gn]=a,or(p,s,a),mn(p),u.stateNode=p):u.memoizedState=mv(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return ht(u),a===null&&St&&(p=u.stateNode=pv(u.type,u.pendingProps,He.current),Ar=u,mi=!0,Ut=ri(p.firstChild)),p=u.pendingProps.children,a!==null||St?ir(a,u,p,s):u.child=Rt(u,null,p,s),Ss(a,u),u.child;case 5:return a===null&&St&&((y=p=Ut)&&(p=F0(p,u.type,u.pendingProps,mi),p!==null?(u.stateNode=p,Ar=u,Ut=ri(p.firstChild),mi=!1,y=!0):y=!1),y||uo(u)),ht(u),y=u.type,x=u.pendingProps,N=a!==null?a.memoizedProps:null,p=x.children,qs(y,x)?p=null:N!==null&&qs(y,N)&&(u.flags|=32),u.memoizedState!==null&&(y=nc(a,u,Tu,null,null,s),Ys._currentValue=y),Ss(a,u),ir(a,u,p,s),u.child;case 6:return a===null&&St&&((a=s=Ut)&&(s=H0(s,u.pendingProps,mi),s!==null?(u.stateNode=s,Ar=u,Ut=null,a=!0):a=!1),a||uo(u)),null;case 13:return al(a,u,s);case 4:return Ye(u,u.stateNode.containerInfo),p=u.pendingProps,a===null?u.child=Rt(u,null,p,s):ir(a,u,p,s),u.child;case 11:return Sh(a,u,u.type,u.pendingProps,s);case 7:return ir(a,u,u.pendingProps,s),u.child;case 8:return ir(a,u,u.pendingProps.children,s),u.child;case 12:return ir(a,u,u.pendingProps.children,s),u.child;case 10:return p=u.pendingProps,Ou(u,u.type,p.value),ir(a,u,p.children,s),u.child;case 9:return y=u.type._context,p=u.pendingProps.children,Mu(u),y=mr(y),p=p(y),u.flags|=1,ir(a,u,p,s),u.child;case 14:return xh(a,u,u.type,u.pendingProps,s);case 15:return Rr(a,u,u.type,u.pendingProps,s);case 19:return Ts(a,u,s);case 22:return Wa(a,u,s);case 24:return Mu(u),p=mr(Jn),a===null?(y=eh(),y===null&&(y=un,x=Jd(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=s),y=x),u.memoizedState={parent:p,cache:y},Cs(u),Ou(u,Jn,y)):((a.lanes&s)!==0&&(As(a,u),Ds(u,null,null,s),ei()),y=a.memoizedState,x=u.memoizedState,y.parent!==p?(y={parent:p,cache:p},u.memoizedState=y,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=y),Ou(u,Jn,p)):(p=x.cache,Ou(u,Jn,p),p!==y.cache&&pc(u,[Jn],s,!0))),ir(a,u,u.pendingProps.children,s),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}var ul=Te(null),Du=null,Qa=null;function Ou(a,u,s){ae(ul,u._currentValue),u._currentValue=s}function Si(a){a._currentValue=ul.current,de(ul)}function ja(a,u,s){for(;a!==null;){var p=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,p!==null&&(p.childLanes|=u)):p!==null&&(p.childLanes&u)!==u&&(p.childLanes|=u),a===s)break;a=a.return}}function pc(a,u,s,p){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var N=y.child;x=x.firstContext;e:for(;x!==null;){var q=x;x=y;for(var j=0;j<u.length;j++)if(q.context===u[j]){x.lanes|=s,q=x.alternate,q!==null&&(q.lanes|=s),ja(x.return,s,a),p||(N=null);break e}x=q.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=s,x=N.alternate,x!==null&&(x.lanes|=s),ja(N,s,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function ol(a,u,s,p){a=null;for(var y=u,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var q=y.type;na(y.pendingProps.value,N.value)||(a!==null?a.push(q):a=[q])}}else if(y===Ge.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Ys):a=[Ys])}y=y.return}a!==null&&pc(u,a,s,p),u.flags|=262144}function mc(a){for(a=a.firstContext;a!==null;){if(!na(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Mu(a){Du=a,Qa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function mr(a){return xi(Du,a)}function yc(a,u){return Du===null&&Mu(a),xi(a,u)}function xi(a,u){var s=u._currentValue;if(u={context:u,memoizedValue:s,next:null},Qa===null){if(a===null)throw Error(r(308));Qa=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Qa=Qa.next=u;return s}var Ti=!1;function Cs(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function As(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ja(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function oa(a,u,s){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(An&2)!==0){var y=p.pending;return y===null?u.next=u:(u.next=y.next,y.next=u),p.pending=u,u=to(a),Xd(a,null,s),u}return eo(a,p,u,s),to(a)}function ft(a,u,s){if(u=u.updateQueue,u!==null&&(u=u.shared,(s&4194176)!==0)){var p=u.lanes;p&=a.pendingLanes,s|=p,u.lanes=s,Lr(a,s)}}function ll(a,u){var s=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,s===p)){var y=null,x=null;if(s=s.firstBaseUpdate,s!==null){do{var N={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};x===null?y=x=N:x=x.next=N,s=s.next}while(s!==null);x===null?y=x=u:x=x.next=u}else y=x=u;s={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},a.updateQueue=s;return}a=s.lastBaseUpdate,a===null?s.firstBaseUpdate=u:a.next=u,s.lastBaseUpdate=u}var Rs=!1;function ei(){if(Rs){var a=$o;if(a!==null)throw a}}function Ds(a,u,s,p){Rs=!1;var y=a.updateQueue;Ti=!1;var x=y.firstBaseUpdate,N=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var j=q,se=j.next;j.next=null,N===null?x=se:N.next=se,N=j;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,q=Ne.lastBaseUpdate,q!==N&&(q===null?Ne.firstBaseUpdate=se:q.next=se,Ne.lastBaseUpdate=j))}if(x!==null){var Pe=y.baseState;N=0,Ne=se=j=null,q=x;do{var Se=q.lane&-536870913,Me=Se!==q.lane;if(Me?(Gt&Se)===Se:(p&Se)===Se){Se!==0&&Se===Vo&&(Rs=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var rt=a,xt=q;Se=u;var Dn=s;switch(xt.tag){case 1:if(rt=xt.payload,typeof rt=="function"){Pe=rt.call(Dn,Pe,Se);break e}Pe=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=xt.payload,Se=typeof rt=="function"?rt.call(Dn,Pe,Se):rt,Se==null)break e;Pe=P({},Pe,Se);break e;case 2:Ti=!0}}Se=q.callback,Se!==null&&(a.flags|=64,Me&&(a.flags|=8192),Me=y.callbacks,Me===null?y.callbacks=[Se]:Me.push(Se))}else Me={lane:Se,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ne===null?(se=Ne=Me,j=Pe):Ne=Ne.next=Me,N|=Se;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;Me=q,q=Me.next,Me.next=null,y.lastBaseUpdate=Me,y.shared.pending=null}}while(!0);Ne===null&&(j=Pe),y.baseState=j,y.firstBaseUpdate=se,y.lastBaseUpdate=Ne,x===null&&(y.shared.lanes=0),ku|=N,a.lanes=N,a.memoizedState=Pe}}function bc(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function Oh(a,u){var s=a.callbacks;if(s!==null)for(a.callbacks=null,a=0;a<s.length;a++)bc(s[a],u)}function Yn(a,u){try{var s=u.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var y=p.next;s=y;do{if((s.tag&a)===a){p=void 0;var x=s.create,N=s.inst;p=x(),N.destroy=p}s=s.next}while(s!==y)}}catch(q){fn(u,u.return,q)}}function Bu(a,u,s){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var x=y.next;p=x;do{if((p.tag&a)===a){var N=p.inst,q=N.destroy;if(q!==void 0){N.destroy=void 0,y=u;var j=s;try{q()}catch(se){fn(y,j,se)}}}p=p.next}while(p!==x)}}catch(se){fn(u,u.return,se)}}function Mp(a){var u=a.updateQueue;if(u!==null){var s=a.stateNode;try{Oh(u,s)}catch(p){fn(a,a.return,p)}}}function Mh(a,u,s){s.props=Wi(a.type,a.memoizedProps),s.state=a.memoizedState;try{s.componentWillUnmount()}catch(p){fn(a,u,p)}}function go(a,u){try{var s=a.ref;if(s!==null){var p=a.stateNode;switch(a.tag){case 26:case 27:case 5:var y=p;break;default:y=p}typeof s=="function"?a.refCleanup=s(y):s.current=y}}catch(x){fn(a,u,x)}}function Hr(a,u){var s=a.ref,p=a.refCleanup;if(s!==null)if(typeof p=="function")try{p()}catch(y){fn(a,u,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(y){fn(a,u,y)}else s.current=null}function Bp(a){var u=a.type,s=a.memoizedProps,p=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":s.autoFocus&&p.focus();break e;case"img":s.src?p.src=s.src:s.srcSet&&(p.srcset=s.srcSet)}}catch(y){fn(a,a.return,y)}}function Np(a,u,s){try{var p=a.stateNode;Iu(p,a.type,s,u),p[gn]=u}catch(y){fn(a,a.return,y)}}function _p(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function ti(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||_p(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ur(a,u,s){var p=a.tag;if(p===5||p===6)a=a.stateNode,u?s.nodeType===8?s.parentNode.insertBefore(a,u):s.insertBefore(a,u):(s.nodeType===8?(u=s.parentNode,u.insertBefore(a,s)):(u=s,u.appendChild(a)),s=s._reactRootContainer,s!=null||u.onclick!==null||(u.onclick=Mc));else if(p!==4&&p!==27&&(a=a.child,a!==null))for(ur(a,u,s),a=a.sibling;a!==null;)ur(a,u,s),a=a.sibling}function sl(a,u,s){var p=a.tag;if(p===5||p===6)a=a.stateNode,u?s.insertBefore(a,u):s.appendChild(a);else if(p!==4&&p!==27&&(a=a.child,a!==null))for(sl(a,u,s),a=a.sibling;a!==null;)sl(a,u,s),a=a.sibling}var ji=!1,wn=!1,Bh=!1,kp=typeof WeakSet=="function"?WeakSet:Set,_n=null,Nh=!1;function Lp(a,u){if(a=a.containerInfo,fv=Ks,a=rp(a),Yd(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var p=s.getSelection&&s.getSelection();if(p&&p.rangeCount!==0){s=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{s.nodeType,x.nodeType}catch{s=null;break e}var N=0,q=-1,j=-1,se=0,Ne=0,Pe=a,Se=null;t:for(;;){for(var Me;Pe!==s||y!==0&&Pe.nodeType!==3||(q=N+y),Pe!==x||p!==0&&Pe.nodeType!==3||(j=N+p),Pe.nodeType===3&&(N+=Pe.nodeValue.length),(Me=Pe.firstChild)!==null;)Se=Pe,Pe=Me;for(;;){if(Pe===a)break t;if(Se===s&&++se===y&&(q=N),Se===x&&++Ne===p&&(j=N),(Me=Pe.nextSibling)!==null)break;Pe=Se,Se=Pe.parentNode}Pe=Me}s=q===-1||j===-1?null:{start:q,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(cv={focusedElem:a,selectionRange:s},Ks=!1,_n=u;_n!==null;)if(u=_n,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,_n=a;else for(;_n!==null;){switch(u=_n,x=u.alternate,a=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,s=u,y=x.memoizedProps,x=x.memoizedState,p=s.stateNode;try{var rt=Wi(s.type,y,s.elementType===s.type);a=p.getSnapshotBeforeUpdate(rt,x),p.__reactInternalSnapshotBeforeUpdate=a}catch(xt){fn(s,s.return,xt)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,s=a.nodeType,s===9)gv(a);else if(s===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":gv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,_n=a;break}_n=u.return}return rt=Nh,Nh=!1,rt}function zp(a,u,s){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(a,s),p&4&&Yn(5,s);break;case 1:if(Ai(a,s),p&4)if(a=s.stateNode,u===null)try{a.componentDidMount()}catch(q){fn(s,s.return,q)}else{var y=Wi(s.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(y,u,a.__reactInternalSnapshotBeforeUpdate)}catch(q){fn(s,s.return,q)}}p&64&&Mp(s),p&512&&go(s,s.return);break;case 3:if(Ai(a,s),p&64&&(p=s.updateQueue,p!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Oh(p,a)}catch(q){fn(s,s.return,q)}}break;case 26:Ai(a,s),p&512&&go(s,s.return);break;case 27:case 5:Ai(a,s),u===null&&p&4&&Bp(s),p&512&&go(s,s.return);break;case 12:Ai(a,s);break;case 13:Ai(a,s),p&4&&Pp(a,s);break;case 22:if(y=s.memoizedState!==null||ji,!y){u=u!==null&&u.memoizedState!==null||wn;var x=ji,N=wn;ji=y,(wn=u)&&!N?Gr(a,s,(s.subtreeFlags&8772)!==0):Ai(a,s),ji=x,wn=N}p&512&&(s.memoizedProps.mode==="manual"?go(s,s.return):Hr(s,s.return));break;default:Ai(a,s)}}function Ip(a){var u=a.alternate;u!==null&&(a.alternate=null,Ip(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Xl(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Kn=null,la=!1;function Ci(a,u,s){for(s=s.child;s!==null;)_h(a,u,s),s=s.sibling}function _h(a,u,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Be,s)}catch{}switch(s.tag){case 26:wn||Hr(s,u),Ci(a,u,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wn||Hr(s,u);var p=Kn,y=la;for(Kn=s.stateNode,Ci(a,u,s),s=s.stateNode,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Xl(s),Kn=p,la=y;break;case 5:wn||Hr(s,u);case 6:y=Kn;var x=la;if(Kn=null,Ci(a,u,s),Kn=y,la=x,Kn!==null)if(la)try{a=Kn,p=s.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)}catch(N){fn(s,u,N)}else try{Kn.removeChild(s.stateNode)}catch(N){fn(s,u,N)}break;case 18:Kn!==null&&(la?(u=Kn,s=s.stateNode,u.nodeType===8?vv(u.parentNode,s):u.nodeType===1&&vv(u,s),js(u)):vv(Kn,s.stateNode));break;case 4:p=Kn,y=la,Kn=s.stateNode.containerInfo,la=!0,Ci(a,u,s),Kn=p,la=y;break;case 0:case 11:case 14:case 15:wn||Bu(2,s,u),wn||Bu(4,s,u),Ci(a,u,s);break;case 1:wn||(Hr(s,u),p=s.stateNode,typeof p.componentWillUnmount=="function"&&Mh(s,u,p)),Ci(a,u,s);break;case 21:Ci(a,u,s);break;case 22:wn||Hr(s,u),wn=(p=wn)||s.memoizedState!==null,Ci(a,u,s),wn=p;break;default:Ci(a,u,s)}}function Pp(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{js(a)}catch(s){fn(u,u.return,s)}}function kh(a){switch(a.tag){case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new kp),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new kp),u;default:throw Error(r(435,a.tag))}}function wc(a,u){var s=kh(a);u.forEach(function(p){var y=k0.bind(null,a,p);s.has(p)||(s.add(p),p.then(y,y))})}function yr(a,u){var s=u.deletions;if(s!==null)for(var p=0;p<s.length;p++){var y=s[p],x=a,N=u,q=N;e:for(;q!==null;){switch(q.tag){case 27:case 5:Kn=q.stateNode,la=!1;break e;case 3:Kn=q.stateNode.containerInfo,la=!0;break e;case 4:Kn=q.stateNode.containerInfo,la=!0;break e}q=q.return}if(Kn===null)throw Error(r(160));_h(x,N,y),Kn=null,la=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Lh(u,a),u=u.sibling}var sa=null;function Lh(a,u){var s=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yr(u,a),fa(a),p&4&&(Bu(3,a,a.return),Yn(3,a),Bu(5,a,a.return));break;case 1:yr(u,a),fa(a),p&512&&(wn||s===null||Hr(s,s.return)),p&64&&ji&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(s=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=s===null?p:s.concat(p))));break;case 26:var y=sa;if(yr(u,a),fa(a),p&512&&(wn||s===null||Hr(s,s.return)),p&4){var x=s!==null?s.memoizedState:null;if(p=a.memoizedState,s===null)if(p===null)if(a.stateNode===null){e:{p=a.type,s=a.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Zu]||x[In]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(p),y.head.insertBefore(x,y.querySelector("head > title"))),or(x,p,s),x[In]=a,mn(x),p=x;break e;case"link":var N=wm("link","href",y).get(p+(s.href||""));if(N){for(var q=0;q<N.length;q++)if(x=N[q],x.getAttribute("href")===(s.href==null?null:s.href)&&x.getAttribute("rel")===(s.rel==null?null:s.rel)&&x.getAttribute("title")===(s.title==null?null:s.title)&&x.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){N.splice(q,1);break t}}x=y.createElement(p),or(x,p,s),y.head.appendChild(x);break;case"meta":if(N=wm("meta","content",y).get(p+(s.content||""))){for(q=0;q<N.length;q++)if(x=N[q],x.getAttribute("content")===(s.content==null?null:""+s.content)&&x.getAttribute("name")===(s.name==null?null:s.name)&&x.getAttribute("property")===(s.property==null?null:s.property)&&x.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&x.getAttribute("charset")===(s.charSet==null?null:s.charSet)){N.splice(q,1);break t}}x=y.createElement(p),or(x,p,s),y.head.appendChild(x);break;default:throw Error(r(468,p))}x[In]=a,mn(x),p=x}a.stateNode=p}else Em(y,a.type,a.stateNode);else a.stateNode=Vs(y,p,a.memoizedProps);else x!==p?(x===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):x.count--,p===null?Em(y,a.type,a.stateNode):Vs(y,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Np(a,a.memoizedProps,s.memoizedProps)}break;case 27:if(p&4&&a.alternate===null){y=a.stateNode,x=a.memoizedProps;try{for(var j=y.firstChild;j;){var se=j.nextSibling,Ne=j.nodeName;j[Zu]||Ne==="HEAD"||Ne==="BODY"||Ne==="SCRIPT"||Ne==="STYLE"||Ne==="LINK"&&j.rel.toLowerCase()==="stylesheet"||y.removeChild(j),j=se}for(var Pe=a.type,Se=y.attributes;Se.length;)y.removeAttributeNode(Se[0]);or(y,Pe,x),y[In]=a,y[gn]=x}catch(rt){fn(a,a.return,rt)}}case 5:if(yr(u,a),fa(a),p&512&&(wn||s===null||Hr(s,s.return)),a.flags&32){y=a.stateNode;try{qa(y,"")}catch(rt){fn(a,a.return,rt)}}p&4&&a.stateNode!=null&&(y=a.memoizedProps,Np(a,y,s!==null?s.memoizedProps:y)),p&1024&&(Bh=!0);break;case 6:if(yr(u,a),fa(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,s=a.stateNode;try{s.nodeValue=p}catch(rt){fn(a,a.return,rt)}}break;case 3:if(Ic=null,y=sa,sa=kc(u.containerInfo),yr(u,a),sa=y,fa(a),p&4&&s!==null&&s.memoizedState.isDehydrated)try{js(u.containerInfo)}catch(rt){fn(a,a.return,rt)}Bh&&(Bh=!1,Os(a));break;case 4:p=sa,sa=kc(a.stateNode.containerInfo),yr(u,a),fa(a),sa=p;break;case 12:yr(u,a),fa(a);break;case 13:yr(u,a),fa(a),a.child.flags&8192&&a.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vh=nt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,wc(a,p)));break;case 22:if(p&512&&(wn||s===null||Hr(s,s.return)),j=a.memoizedState!==null,se=s!==null&&s.memoizedState!==null,Ne=ji,Pe=wn,ji=Ne||j,wn=Pe||se,yr(u,a),wn=Pe,ji=Ne,fa(a),u=a.stateNode,u._current=a,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,p&8192&&(u._visibility=j?u._visibility&-2:u._visibility|1,j&&(u=ji||wn,s===null||se||u||Dr(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(s=null,u=a;;){if(u.tag===5||u.tag===26||u.tag===27){if(s===null){se=s=u;try{if(y=se.stateNode,j)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=se.stateNode,q=se.memoizedProps.style;var Me=q!=null&&q.hasOwnProperty("display")?q.display:null;N.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(rt){fn(se,se.return,rt)}}}else if(u.tag===6){if(s===null){se=u;try{se.stateNode.nodeValue=j?"":se.memoizedProps}catch(rt){fn(se,se.return,rt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;s===u&&(s=null),u=u.return}s===u&&(s=null),u.sibling.return=u.return,u=u.sibling}p&4&&(p=a.updateQueue,p!==null&&(s=p.retryQueue,s!==null&&(p.retryQueue=null,wc(a,s))));break;case 19:yr(u,a),fa(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,wc(a,p)));break;case 21:break;default:yr(u,a),fa(a)}}function fa(a){var u=a.flags;if(u&2){try{if(a.tag!==27){e:{for(var s=a.return;s!==null;){if(_p(s)){var p=s;break e}s=s.return}throw Error(r(160))}switch(p.tag){case 27:var y=p.stateNode,x=ti(a);sl(a,x,y);break;case 5:var N=p.stateNode;p.flags&32&&(qa(N,""),p.flags&=-33);var q=ti(a);sl(a,q,N);break;case 3:case 4:var j=p.stateNode.containerInfo,se=ti(a);ur(a,se,j);break;default:throw Error(r(161))}}}catch(Ne){fn(a,a.return,Ne)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function Os(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;Os(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function Ai(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)zp(a,u.alternate,u),u=u.sibling}function Dr(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Bu(4,u,u.return),Dr(u);break;case 1:Hr(u,u.return);var s=u.stateNode;typeof s.componentWillUnmount=="function"&&Mh(u,u.return,s),Dr(u);break;case 26:case 27:case 5:Hr(u,u.return),Dr(u);break;case 22:Hr(u,u.return),u.memoizedState===null&&Dr(u);break;default:Dr(u)}a=a.sibling}}function Gr(a,u,s){for(s=s&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var p=u.alternate,y=a,x=u,N=x.flags;switch(x.tag){case 0:case 11:case 15:Gr(y,x,s),Yn(4,x);break;case 1:if(Gr(y,x,s),p=x,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(se){fn(p,p.return,se)}if(p=x,y=p.updateQueue,y!==null){var q=p.stateNode;try{var j=y.shared.hiddenCallbacks;if(j!==null)for(y.shared.hiddenCallbacks=null,y=0;y<j.length;y++)bc(j[y],q)}catch(se){fn(p,p.return,se)}}s&&N&64&&Mp(x),go(x,x.return);break;case 26:case 27:case 5:Gr(y,x,s),s&&p===null&&N&4&&Bp(x),go(x,x.return);break;case 12:Gr(y,x,s);break;case 13:Gr(y,x,s),s&&N&4&&Pp(y,x);break;case 22:x.memoizedState===null&&Gr(y,x,s),go(x,x.return);break;default:Gr(y,x,s)}u=u.sibling}}function zh(a,u){var s=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==s&&(a!=null&&a.refCount++,s!=null&&cs(s))}function Ec(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&cs(a))}function Nu(a,u,s,p){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Up(a,u,s,p),u=u.sibling}function Up(a,u,s,p){var y=u.flags;switch(u.tag){case 0:case 11:case 15:Nu(a,u,s,p),y&2048&&Yn(9,u);break;case 3:Nu(a,u,s,p),y&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&cs(a)));break;case 12:if(y&2048){Nu(a,u,s,p),a=u.stateNode;try{var x=u.memoizedProps,N=x.id,q=x.onPostCommit;typeof q=="function"&&q(N,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){fn(u,u.return,j)}}else Nu(a,u,s,p);break;case 23:break;case 22:x=u.stateNode,u.memoizedState!==null?x._visibility&4?Nu(a,u,s,p):Ms(a,u):x._visibility&4?Nu(a,u,s,p):(x._visibility|=4,fl(a,u,s,p,(u.subtreeFlags&10256)!==0)),y&2048&&zh(u.alternate,u);break;case 24:Nu(a,u,s,p),y&2048&&Ec(u.alternate,u);break;default:Nu(a,u,s,p)}}function fl(a,u,s,p,y){for(y=y&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var x=a,N=u,q=s,j=p,se=N.flags;switch(N.tag){case 0:case 11:case 15:fl(x,N,q,j,y),Yn(8,N);break;case 23:break;case 22:var Ne=N.stateNode;N.memoizedState!==null?Ne._visibility&4?fl(x,N,q,j,y):Ms(x,N):(Ne._visibility|=4,fl(x,N,q,j,y)),y&&se&2048&&zh(N.alternate,N);break;case 24:fl(x,N,q,j,y),y&&se&2048&&Ec(N.alternate,N);break;default:fl(x,N,q,j,y)}u=u.sibling}}function Ms(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var s=a,p=u,y=p.flags;switch(p.tag){case 22:Ms(s,p),y&2048&&zh(p.alternate,p);break;case 24:Ms(s,p),y&2048&&Ec(p.alternate,p);break;default:Ms(s,p)}u=u.sibling}}var Bs=8192;function cl(a){if(a.subtreeFlags&Bs)for(a=a.child;a!==null;)Fp(a),a=a.sibling}function Fp(a){switch(a.tag){case 26:cl(a),a.flags&Bs&&a.memoizedState!==null&&X0(sa,a.memoizedState,a.memoizedProps);break;case 5:cl(a);break;case 3:case 4:var u=sa;sa=kc(a.stateNode.containerInfo),cl(a),sa=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=Bs,Bs=16777216,cl(a),Bs=u):cl(a));break;default:cl(a)}}function Hp(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function Ns(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var s=0;s<u.length;s++){var p=u[s];_n=p,Ih(p,a)}Hp(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Gp(a),a=a.sibling}function Gp(a){switch(a.tag){case 0:case 11:case 15:Ns(a),a.flags&2048&&Bu(9,a,a.return);break;case 3:Ns(a);break;case 12:Ns(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&4&&(a.return===null||a.return.tag!==13)?(u._visibility&=-5,Sc(a)):Ns(a);break;default:Ns(a)}}function Sc(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var s=0;s<u.length;s++){var p=u[s];_n=p,Ih(p,a)}Hp(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Bu(8,u,u.return),Sc(u);break;case 22:s=u.stateNode,s._visibility&4&&(s._visibility&=-5,Sc(u));break;default:Sc(u)}a=a.sibling}}function Ih(a,u){for(;_n!==null;){var s=_n;switch(s.tag){case 0:case 11:case 15:Bu(8,s,u);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var p=s.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:cs(s.memoizedState.cache)}if(p=s.child,p!==null)p.return=s,_n=p;else e:for(s=a;_n!==null;){p=_n;var y=p.sibling,x=p.return;if(Ip(p),p===s){_n=null;break e}if(y!==null){y.return=x,_n=y;break e}_n=x}}}function qp(a,u,s,p){this.tag=a,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(a,u,s,p){return new qp(a,u,s,p)}function Ph(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _u(a,u){var s=a.alternate;return s===null?(s=ca(a.tag,u,a.key,a.mode),s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.alternate=a,a.alternate=s):(s.pendingProps=u,s.type=a.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=a.flags&31457280,s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,u=a.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s.refCleanup=a.refCleanup,s}function Vp(a,u){a.flags&=31457282;var s=a.alternate;return s===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,u=s.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function _s(a,u,s,p,y,x){var N=0;if(p=a,typeof a=="function")Ph(a)&&(N=1);else if(typeof a=="string")N=Y0(a,s,we.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case h:return po(s.children,y,x,u);case d:N=8,y|=24;break;case v:return a=ca(12,s,u,y|2),a.elementType=v,a.lanes=x,a;case A:return a=ca(13,s,u,y),a.elementType=A,a.lanes=x,a;case T:return a=ca(19,s,u,y),a.elementType=T,a.lanes=x,a;case D:return $p(s,y,x,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:case E:N=10;break e;case b:N=9;break e;case S:N=11;break e;case C:N=14;break e;case R:N=16,p=null;break e}N=29,s=Error(r(130,a===null?"null":typeof a,"")),p=null}return u=ca(N,s,u,y),u.elementType=a,u.type=p,u.lanes=x,u}function po(a,u,s,p){return a=ca(7,a,p,u),a.lanes=s,a}function $p(a,u,s,p){a=ca(22,a,p,u),a.elementType=D,a.lanes=s;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=y._current;if(x===null)throw Error(r(456));if((y._pendingVisibility&2)===0){var N=$a(x,2);N!==null&&(y._pendingVisibility|=2,br(N,x,2))}},attach:function(){var x=y._current;if(x===null)throw Error(r(456));if((y._pendingVisibility&2)!==0){var N=$a(x,2);N!==null&&(y._pendingVisibility&=-3,br(N,x,2))}}};return a.stateNode=y,a}function Uh(a,u,s){return a=ca(6,a,null,u),a.lanes=s,a}function Fh(a,u,s){return u=ca(4,a.children!==null?a.children:[],a.key,u),u.lanes=s,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function Ji(a){a.flags|=4}function Yp(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Sm(u)){if(u=Ba.current,u!==null&&((Gt&4194176)===Gt?bi!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||u!==bi))throw ls=mu,os;a.flags|=8192}}function Or(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?ar():536870912,a.lanes|=u,hl|=u)}function ks(a,u){if(!St)switch(a.tailMode){case"hidden":u=a.tail;for(var s=null;u!==null;)u.alternate!==null&&(s=u),u=u.sibling;s===null?a.tail=null:s.sibling=null;break;case"collapsed":s=a.tail;for(var p=null;s!==null;)s.alternate!==null&&(p=s),s=s.sibling;p===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Cn(a){var u=a.alternate!==null&&a.alternate.child===a.child,s=0,p=0;if(u)for(var y=a.child;y!==null;)s|=y.lanes|y.childLanes,p|=y.subtreeFlags&31457280,p|=y.flags&31457280,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)s|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=s,u}function T0(a,u,s){var p=u.pendingProps;switch(Zd(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(u),null;case 1:return Cn(u),null;case 3:return s=u.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Si(Jn),Ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(a===null||a.child===null)&&(oo(u)?Ji(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ya!==null&&(vl(Ya),Ya=null))),Cn(u),null;case 26:return s=u.memoizedState,a===null?(Ji(u),s!==null?(Cn(u),Yp(u,s)):(Cn(u),u.flags&=-16777217)):s?s!==a.memoizedState?(Ji(u),Cn(u),Yp(u,s)):(Cn(u),u.flags&=-16777217):(a.memoizedProps!==p&&Ji(u),Cn(u),u.flags&=-16777217),null;case 27:Ke(u),s=He.current;var y=u.type;if(a!==null&&u.stateNode!=null)a.memoizedProps!==p&&Ji(u);else{if(!p){if(u.stateNode===null)throw Error(r(166));return Cn(u),null}a=we.current,oo(u)?Qf(u):(a=pv(y,p,s),u.stateNode=a,Ji(u))}return Cn(u),null;case 5:if(Ke(u),s=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==p&&Ji(u);else{if(!p){if(u.stateNode===null)throw Error(r(166));return Cn(u),null}if(a=we.current,oo(u))Qf(u);else{switch(y=Bc(He.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?y.createElement(s,{is:p.is}):y.createElement(s)}}a[In]=u,a[gn]=p;e:for(y=u.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===u)break e;for(;y.sibling===null;){if(y.return===null||y.return===u)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}u.stateNode=a;e:switch(or(a,s,p),s){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ji(u)}}return Cn(u),u.flags&=-16777217,null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==p&&Ji(u);else{if(typeof p!="string"&&u.stateNode===null)throw Error(r(166));if(a=He.current,oo(u)){if(a=u.stateNode,s=u.memoizedProps,p=null,y=Ar,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}a[In]=u,a=!!(a.nodeValue===s||p!==null&&p.suppressHydrationWarning===!0||At(a.nodeValue,s)),a||uo(u)}else a=Bc(a).createTextNode(p),a[In]=u,u.stateNode=a}return Cn(u),null;case 13:if(p=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=oo(u),p!==null&&p.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=u.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[In]=u}else yi(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Cn(u),y=!1}else Ya!==null&&(vl(Ya),Ya=null),y=!0;if(!y)return u.flags&256?($i(u),u):($i(u),null)}if($i(u),(u.flags&128)!==0)return u.lanes=s,u;if(s=p!==null,a=a!==null&&a.memoizedState!==null,s){p=u.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var x=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==y&&(p.flags|=2048)}return s!==a&&s&&(u.child.flags|=8192),Or(u,u.updateQueue),Cn(u),null;case 4:return Ct(),a===null&&lv(u.stateNode.containerInfo),Cn(u),null;case 10:return Si(u.type),Cn(u),null;case 19:if(de(jn),y=u.memoizedState,y===null)return Cn(u),null;if(p=(u.flags&128)!==0,x=y.rendering,x===null)if(p)ks(y,!1);else{if(kn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(x=ec(a),x!==null){for(u.flags|=128,ks(y,!1),a=x.updateQueue,u.updateQueue=a,Or(u,a),u.subtreeFlags=0,a=s,s=u.child;s!==null;)Vp(s,a),s=s.sibling;return ae(jn,jn.current&1|2),u.child}a=a.sibling}y.tail!==null&&nt()>xc&&(u.flags|=128,p=!0,ks(y,!1),u.lanes=4194304)}else{if(!p)if(a=ec(x),a!==null){if(u.flags|=128,p=!0,a=a.updateQueue,u.updateQueue=a,Or(u,a),ks(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!St)return Cn(u),null}else 2*nt()-y.renderingStartTime>xc&&s!==536870912&&(u.flags|=128,p=!0,ks(y,!1),u.lanes=4194304);y.isBackwards?(x.sibling=u.child,u.child=x):(a=y.last,a!==null?a.sibling=x:u.child=x,y.last=x)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=nt(),u.sibling=null,a=jn.current,ae(jn,p?a&1|2:a&1),u):(Cn(u),null);case 22:case 23:return $i(u),jd(),p=u.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(u.flags|=8192):p&&(u.flags|=8192),p?(s&536870912)!==0&&(u.flags&128)===0&&(Cn(u),u.subtreeFlags&6&&(u.flags|=8192)):Cn(u),s=u.updateQueue,s!==null&&Or(u,s.retryQueue),s=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==s&&(u.flags|=2048),a!==null&&de(lo),null;case 24:return s=null,a!==null&&(s=a.memoizedState.cache),u.memoizedState.cache!==s&&(u.flags|=2048),Si(Jn),Cn(u),null;case 25:return null}throw Error(r(156,u.tag))}function Kp(a,u){switch(Zd(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Si(Jn),Ct(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Ke(u),null;case 13:if($i(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));yi()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return de(jn),null;case 4:return Ct(),null;case 10:return Si(u.type),null;case 22:case 23:return $i(u),jd(),a!==null&&de(lo),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return Si(Jn),null;case 25:return null;default:return null}}function Xp(a,u){switch(Zd(u),u.tag){case 3:Si(Jn),Ct();break;case 26:case 27:case 5:Ke(u);break;case 4:Ct();break;case 13:$i(u);break;case 19:de(jn);break;case 10:Si(u.type);break;case 22:case 23:$i(u),jd(),a!==null&&de(lo);break;case 24:Si(Jn)}}var C0={getCacheForType:function(a){var u=mr(Jn),s=u.data.get(a);return s===void 0&&(s=a(),u.data.set(a,s)),s}},A0=typeof WeakMap=="function"?WeakMap:Map,An=0,un=null,Lt=null,Gt=0,dn=0,da=null,eu=!1,dl=!1,Hh=!1,tu=0,kn=0,ku=0,mo=0,Gh=0,_a=0,hl=0,Ls=null,Ri=null,qh=!1,Vh=0,xc=1/0,Tc=null,Di=null,zs=!1,yo=null,Is=0,$h=0,Yh=null,Ps=0,Kh=null;function ha(){if((An&2)!==0&&Gt!==0)return Gt&-Gt;if(B.T!==null){var a=Vo;return a!==0?a:rv()}return Zn()}function Wp(){_a===0&&(_a=(Gt&536870912)===0||St?Bn():536870912);var a=Ba.current;return a!==null&&(a.flags|=32),_a}function br(a,u,s){(a===un&&dn===2||a.cancelPendingCommit!==null)&&(gl(a,0),nu(a,Gt,_a,!1)),vr(a,s),((An&2)===0||a!==un)&&(a===un&&((An&2)===0&&(mo|=s),kn===4&&nu(a,Gt,_a,!1)),ni(a))}function Zp(a,u,s){if((An&6)!==0)throw Error(r(327));var p=!s&&(u&60)===0&&(u&a.expiredLanes)===0||vn(a,u),y=p?O0(a,u):Zh(a,u,!0),x=p;do{if(y===0){dl&&!p&&nu(a,u,0,!1);break}else if(y===6)nu(a,u,0,!eu);else{if(s=a.current.alternate,x&&!R0(s)){y=Zh(a,u,!1),x=!1;continue}if(y===2){if(x=u,a.errorRecoveryDisabledLanes&x)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){u=N;e:{var q=a;y=Ls;var j=q.current.memoizedState.isDehydrated;if(j&&(gl(q,N).flags|=256),N=Zh(q,N,!1),N!==2){if(Hh&&!j){q.errorRecoveryDisabledLanes|=x,mo|=x,y=4;break e}x=Ri,Ri=y,x!==null&&vl(x)}y=N}if(x=!1,y!==2)continue}}if(y===1){gl(a,0),nu(a,u,0,!0);break}e:{switch(p=a,y){case 0:case 1:throw Error(r(345));case 4:if((u&4194176)===u){nu(p,u,_a,!eu);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if(p.finishedWork=s,p.finishedLanes=u,(u&62914560)===u&&(x=Vh+300-nt(),10<x)){if(nu(p,u,_a,!eu),rr(p,0)!==0)break e;p.timeoutHandle=hv(Qp.bind(null,p,s,Ri,Tc,qh,u,_a,mo,hl,eu,2,-0,0),x);break e}Qp(p,s,Ri,Tc,qh,u,_a,mo,hl,eu,0,-0,0)}}break}while(!0);ni(a)}function vl(a){Ri===null?Ri=a:Ri.push.apply(Ri,a)}function Qp(a,u,s,p,y,x,N,q,j,se,Ne,Pe,Se){var Me=u.subtreeFlags;if((Me&8192||(Me&16785408)===16785408)&&($s={stylesheets:null,count:0,unsuspend:K0},Fp(u),u=W0(),u!==null)){a.cancelPendingCommit=u(am.bind(null,a,s,p,y,N,q,j,1,Pe,Se)),nu(a,x,N,!se);return}am(a,s,p,y,N,q,j,Ne,Pe,Se)}function R0(a){for(var u=a;;){var s=u.tag;if((s===0||s===11||s===15)&&u.flags&16384&&(s=u.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var p=0;p<s.length;p++){var y=s[p],x=y.getSnapshot;y=y.value;try{if(!na(x(),y))return!1}catch{return!1}}if(s=u.child,u.subtreeFlags&16384&&s!==null)s.return=u,u=s;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function nu(a,u,s,p){u&=~Gh,u&=~mo,a.suspendedLanes|=u,a.pingedLanes&=~u,p&&(a.warmLanes|=u),p=a.expirationTimes;for(var y=u;0<y;){var x=31-$e(y),N=1<<x;p[x]=-1,y&=~N}s!==0&&Qr(a,s,u)}function Cc(){return(An&6)===0?(Eo(0),!1):!0}function Xh(){if(Lt!==null){if(dn===0)var a=Lt.return;else a=Lt,Qa=Du=null,Xo(a),Gi=null,qi=0,a=Lt;for(;a!==null;)Xp(a.alternate,a),a=a.return;Lt=null}}function gl(a,u){a.finishedWork=null,a.finishedLanes=0;var s=a.timeoutHandle;s!==-1&&(a.timeoutHandle=-1,Nc(s)),s=a.cancelPendingCommit,s!==null&&(a.cancelPendingCommit=null,s()),Xh(),un=a,Lt=s=_u(a.current,null),Gt=u,dn=0,da=null,eu=!1,dl=vn(a,u),Hh=!1,hl=_a=Gh=mo=ku=kn=0,Ri=Ls=null,qh=!1,(u&8)!==0&&(u|=u&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=u;0<p;){var y=31-$e(p),x=1<<y;u|=a[y],p&=~x}return tu=u,Xf(),s}function jp(a,u){Bt=null,B.H=Nn,u===Hi?(u=sp(),dn=3):u===os?(u=sp(),dn=4):dn=u===Eh?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,da=u,Lt===null&&(kn=1,ws(a,Cr(u,a.current)))}function Jp(){var a=B.H;return B.H=Nn,a===null?Nn:a}function em(){var a=B.A;return B.A=C0,a}function Wh(){kn=4,eu||(Gt&4194176)!==Gt&&Ba.current!==null||(dl=!0),(ku&134217727)===0&&(mo&134217727)===0||un===null||nu(un,Gt,_a,!1)}function Zh(a,u,s){var p=An;An|=2;var y=Jp(),x=em();(un!==a||Gt!==u)&&(Tc=null,gl(a,u)),u=!1;var N=kn;e:do try{if(dn!==0&&Lt!==null){var q=Lt,j=da;switch(dn){case 8:Xh(),N=6;break e;case 3:case 2:case 6:Ba.current===null&&(u=!0);var se=dn;if(dn=0,da=null,bo(a,q,j,se),s&&dl){N=0;break e}break;default:se=dn,dn=0,da=null,bo(a,q,j,se)}}D0(),N=kn;break}catch(Ne){jp(a,Ne)}while(!0);return u&&a.shellSuspendCounter++,Qa=Du=null,An=p,B.H=y,B.A=x,Lt===null&&(un=null,Gt=0,Xf()),N}function D0(){for(;Lt!==null;)tm(Lt)}function O0(a,u){var s=An;An|=2;var p=Jp(),y=em();un!==a||Gt!==u?(Tc=null,xc=nt()+500,gl(a,u)):dl=vn(a,u);e:do try{if(dn!==0&&Lt!==null){u=Lt;var x=da;t:switch(dn){case 1:dn=0,da=null,bo(a,u,x,1);break;case 2:if(op(x)){dn=0,da=null,nm(u);break}u=function(){dn===2&&un===a&&(dn=7),ni(a)},x.then(u,u);break e;case 3:dn=7;break e;case 4:dn=5;break e;case 7:op(x)?(dn=0,da=null,nm(u)):(dn=0,da=null,bo(a,u,x,7));break;case 5:var N=null;switch(Lt.tag){case 26:N=Lt.memoizedState;case 5:case 27:var q=Lt;if(!N||Sm(N)){dn=0,da=null;var j=q.sibling;if(j!==null)Lt=j;else{var se=q.return;se!==null?(Lt=se,Us(se)):Lt=null}break t}}dn=0,da=null,bo(a,u,x,5);break;case 6:dn=0,da=null,bo(a,u,x,6);break;case 8:Xh(),kn=6;break e;default:throw Error(r(462))}}M0();break}catch(Ne){jp(a,Ne)}while(!0);return Qa=Du=null,B.H=p,B.A=y,An=s,Lt!==null?0:(un=null,Gt=0,Xf(),kn)}function M0(){for(;Lt!==null&&!tt();)tm(Lt)}function tm(a){var u=Dh(a.alternate,a,tu);a.memoizedProps=a.pendingProps,u===null?Us(a):Lt=u}function nm(a){var u=a,s=u.alternate;switch(u.tag){case 15:case 0:u=vo(s,u,u.pendingProps,u.type,void 0,Gt);break;case 11:u=vo(s,u,u.pendingProps,u.type.render,u.ref,Gt);break;case 5:Xo(u);default:Xp(s,u),u=Lt=Vp(u,tu),u=Dh(s,u,tu)}a.memoizedProps=a.pendingProps,u===null?Us(a):Lt=u}function bo(a,u,s,p){Qa=Du=null,Xo(u),Gi=null,qi=0;var y=u.return;try{if(S0(a,y,u,s,Gt)){kn=1,ws(a,Cr(s,a.current)),Lt=null;return}}catch(x){if(y!==null)throw Lt=y,x;kn=1,ws(a,Cr(s,a.current)),Lt=null;return}u.flags&32768?(St||p===1?a=!0:dl||(Gt&536870912)!==0?a=!1:(eu=a=!0,(p===2||p===3||p===6)&&(p=Ba.current,p!==null&&p.tag===13&&(p.flags|=16384))),rm(u,a)):Us(u)}function Us(a){var u=a;do{if((u.flags&32768)!==0){rm(u,eu);return}a=u.return;var s=T0(u.alternate,u,tu);if(s!==null){Lt=s;return}if(u=u.sibling,u!==null){Lt=u;return}Lt=u=a}while(u!==null);kn===0&&(kn=5)}function rm(a,u){do{var s=Kp(a.alternate,a);if(s!==null){s.flags&=32767,Lt=s;return}if(s=a.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!u&&(a=a.sibling,a!==null)){Lt=a;return}Lt=a=s}while(a!==null);kn=6,Lt=null}function am(a,u,s,p,y,x,N,q,j,se){var Ne=B.T,Pe=oe.p;try{oe.p=2,B.T=null,B0(a,u,s,p,Pe,y,x,N,q,j,se)}finally{B.T=Ne,oe.p=Pe}}function B0(a,u,s,p,y,x,N,q){do ru();while(yo!==null);if((An&6)!==0)throw Error(r(327));var j=a.finishedWork;if(p=a.finishedLanes,j===null)return null;if(a.finishedWork=null,a.finishedLanes=0,j===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var se=j.lanes|j.childLanes;if(se|=Kd,gr(a,p,se,x,N,q),a===un&&(Lt=un=null,Gt=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||zs||(zs=!0,$h=se,Yh=s,L0(he,function(){return ru(),null})),s=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||s?(s=B.T,B.T=null,x=oe.p,oe.p=2,N=An,An|=4,Lp(a,j),Lh(j,a),d0(cv,a.containerInfo),Ks=!!fv,cv=fv=null,a.current=j,zp(a,j.alternate,j),at(),An=N,oe.p=x,B.T=s):a.current=j,zs?(zs=!1,yo=a,Is=p):im(a,se),se=a.pendingLanes,se===0&&(Di=null),ot(j.stateNode),ni(a),u!==null)for(y=a.onRecoverableError,j=0;j<u.length;j++)se=u[j],y(se.value,{componentStack:se.stack});return(Is&3)!==0&&ru(),se=a.pendingLanes,(p&4194218)!==0&&(se&42)!==0?a===Kh?Ps++:(Ps=0,Kh=a):Ps=0,Eo(0),null}function im(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,cs(u)))}function ru(){if(yo!==null){var a=yo,u=$h;$h=0;var s=wa(Is),p=B.T,y=oe.p;try{if(oe.p=32>s?32:s,B.T=null,yo===null)var x=!1;else{s=Yh,Yh=null;var N=yo,q=Is;if(yo=null,Is=0,(An&6)!==0)throw Error(r(331));var j=An;if(An|=4,Gp(N.current),Up(N,N.current,q,s),An=j,Eo(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Be,N)}catch{}x=!0}return x}finally{oe.p=y,B.T=p,im(a,u)}}return!1}function um(a,u,s){u=Cr(s,u),u=Es(a.stateNode,u,2),a=oa(a,u,2),a!==null&&(vr(a,2),ni(a))}function fn(a,u,s){if(a.tag===3)um(a,a,s);else for(;u!==null;){if(u.tag===3){um(u,a,s);break}else if(u.tag===1){var p=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Di===null||!Di.has(p))){a=Cr(s,a),s=Rp(2),p=oa(u,s,2),p!==null&&(Dp(s,p,u,a),vr(p,2),ni(p));break}}u=u.return}}function Qh(a,u,s){var p=a.pingCache;if(p===null){p=a.pingCache=new A0;var y=new Set;p.set(u,y)}else y=p.get(u),y===void 0&&(y=new Set,p.set(u,y));y.has(s)||(Hh=!0,y.add(s),a=N0.bind(null,a,u,s),u.then(a,a))}function N0(a,u,s){var p=a.pingCache;p!==null&&p.delete(u),a.pingedLanes|=a.suspendedLanes&s,a.warmLanes&=~s,un===a&&(Gt&s)===s&&(kn===4||kn===3&&(Gt&62914560)===Gt&&300>nt()-Vh?(An&2)===0&&gl(a,0):Gh|=s,hl===Gt&&(hl=0)),ni(a)}function om(a,u){u===0&&(u=ar()),a=$a(a,u),a!==null&&(vr(a,u),ni(a))}function _0(a){var u=a.memoizedState,s=0;u!==null&&(s=u.retryLane),om(a,s)}function k0(a,u){var s=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(s=y.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(u),om(a,s)}function L0(a,u){return je(a,u)}var Ac=null,pl=null,jh=!1,wo=!1,Jh=!1,Lu=0;function ni(a){a!==pl&&a.next===null&&(pl===null?Ac=pl=a:pl=pl.next=a),wo=!0,jh||(jh=!0,z0(lm))}function Eo(a,u){if(!Jh&&wo){Jh=!0;do for(var s=!1,p=Ac;p!==null;){if(a!==0){var y=p.pendingLanes;if(y===0)var x=0;else{var N=p.suspendedLanes,q=p.pingedLanes;x=(1<<31-$e(42|a)+1)-1,x&=y&~(N&~q),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(s=!0,nv(p,x))}else x=Gt,x=rr(p,p===un?x:0),(x&3)===0||vn(p,x)||(s=!0,nv(p,x));p=p.next}while(s);Jh=!1}}function lm(){wo=jh=!1;var a=0;Lu!==0&&(au()&&(a=Lu),Lu=0);for(var u=nt(),s=null,p=Ac;p!==null;){var y=p.next,x=ev(p,u);x===0?(p.next=null,s===null?Ac=y:s.next=y,y===null&&(pl=s)):(s=p,(a!==0||(x&3)!==0)&&(wo=!0)),p=y}Eo(a)}function ev(a,u){for(var s=a.suspendedLanes,p=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var N=31-$e(x),q=1<<N,j=y[N];j===-1?((q&s)===0||(q&p)!==0)&&(y[N]=qn(q,u)):j<=u&&(a.expiredLanes|=q),x&=~q}if(u=un,s=Gt,s=rr(a,a===u?s:0),p=a.callbackNode,s===0||a===u&&dn===2||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Ze(p),a.callbackNode=null,a.callbackPriority=0;if((s&3)===0||vn(a,s)){if(u=s&-s,u===a.callbackPriority)return u;switch(p!==null&&Ze(p),wa(s)){case 2:case 8:s=V;break;case 32:s=he;break;case 268435456:s=pe;break;default:s=he}return p=tv.bind(null,a),s=je(s,p),a.callbackPriority=u,a.callbackNode=s,u}return p!==null&&p!==null&&Ze(p),a.callbackPriority=2,a.callbackNode=null,2}function tv(a,u){var s=a.callbackNode;if(ru()&&a.callbackNode!==s)return null;var p=Gt;return p=rr(a,a===un?p:0),p===0?null:(Zp(a,p,u),ev(a,nt()),a.callbackNode!=null&&a.callbackNode===s?tv.bind(null,a):null)}function nv(a,u){if(ru())return null;Zp(a,u,!0)}function z0(a){Ln(function(){(An&6)!==0?je(Ae,a):a()})}function rv(){return Lu===0&&(Lu=Bn()),Lu}function sm(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:es(""+a)}function Fs(a,u){var s=u.ownerDocument.createElement("input");return s.name=u.name,s.value=u.value,a.id&&s.setAttribute("form",a.id),u.parentNode.insertBefore(s,u),a=new FormData(a),s.parentNode.removeChild(s),a}function Rc(a,u,s,p,y){if(u==="submit"&&s&&s.stateNode===y){var x=sm((y[gn]||null).action),N=p.submitter;N&&(u=(u=N[gn]||null)?sm(u.formAction):N.getAttribute("formAction"),u!==null&&(x=u,N=null));var q=new Lf("action","action",null,p,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Lu!==0){var j=N?Fs(y,N):new FormData(y);ys(s,{pending:!0,data:j,method:y.method,action:x},null,j)}}else typeof x=="function"&&(q.preventDefault(),j=N?Fs(y,N):new FormData(y),ys(s,{pending:!0,data:j,method:y.method,action:x},x,j))},currentTarget:y}]})}}for(var av=0;av<ip.length;av++){var iv=ip[av],uv=iv.toLowerCase(),fm=iv[0].toUpperCase()+iv.slice(1);Aa(uv,"on"+fm)}Aa(ap,"onAnimationEnd"),Aa(ra,"onAnimationIteration"),Aa(is,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(v0,"onTransitionRun"),Aa(Fo,"onTransitionStart"),Aa(Kf,"onTransitionCancel"),Aa(us,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function cm(a,u){u=(u&4)!==0;for(var s=0;s<a.length;s++){var p=a[s],y=p.event;p=p.listeners;e:{var x=void 0;if(u)for(var N=p.length-1;0<=N;N--){var q=p[N],j=q.instance,se=q.currentTarget;if(q=q.listener,j!==x&&y.isPropagationStopped())break e;x=q,y.currentTarget=se;try{x(y)}catch(Ne){nl(Ne)}y.currentTarget=null,x=j}else for(N=0;N<p.length;N++){if(q=p[N],j=q.instance,se=q.currentTarget,q=q.listener,j!==x&&y.isPropagationStopped())break e;x=q,y.currentTarget=se;try{x(y)}catch(Ne){nl(Ne)}y.currentTarget=null,x=j}}}}function Ft(a,u){var s=u[Kl];s===void 0&&(s=u[Kl]=new Set);var p=a+"__bubble";s.has(p)||(dm(u,a,2,!1),s.add(p))}function ov(a,u,s){var p=0;u&&(p|=4),dm(s,a,p,u)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function lv(a){if(!a[Dc]){a[Dc]=!0,Wl.forEach(function(s){s!=="selectionchange"&&(I0.has(s)||ov(s,!1,a),ov(s,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Dc]||(u[Dc]=!0,ov("selectionchange",!1,u))}}function dm(a,u,s,p){switch(Am(u)){case 2:var y=Q0;break;case 8:y=j0;break;default:y=xv}s=y.bind(null,u,s,a),y=void 0,!ns||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(y=!0),p?y!==void 0?a.addEventListener(u,s,{capture:!0,passive:y}):a.addEventListener(u,s,!0):y!==void 0?a.addEventListener(u,s,{passive:y}):a.addEventListener(u,s,!1)}function sv(a,u,s,p,y){var x=p;if((u&1)===0&&(u&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var q=p.stateNode.containerInfo;if(q===y||q.nodeType===8&&q.parentNode===y)break;if(N===4)for(N=p.return;N!==null;){var j=N.tag;if((j===3||j===4)&&(j=N.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;N=N.return}for(;q!==null;){if(N=zi(q),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){p=x=N;continue e}q=q.parentNode}}p=p.return}Ig(function(){var se=x,Ne=kd(s),Pe=[];e:{var Se=Qt.get(a);if(Se!==void 0){var Me=Lf,rt=a;switch(a){case"keypress":if(rn(s)===0)break e;case"keydown":case"keyup":Me=Ud;break;case"focusin":rt="focus",Me=If;break;case"focusout":rt="blur",Me=If;break;case"beforeblur":case"afterblur":Me=If;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=a0;break;case ap:case ra:case is:Me=Gg;break;case us:Me=i0;break;case"scroll":case"scrollend":Me=t0;break;case"wheel":Me=o0;break;case"copy":case"cut":case"paste":Me=Vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Ii;break;case"toggle":case"beforetoggle":Me=Uf}var xt=(u&4)!==0,Dn=!xt&&(a==="scroll"||a==="scrollend"),ge=xt?Se!==null?Se+"Capture":null:Se;xt=[];for(var le=se,be;le!==null;){var Le=le;if(be=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||be===null||ge===null||(Le=ts(le,ge),Le!=null&&xt.push(Gs(le,Le,be))),Dn)break;le=le.return}0<xt.length&&(Se=new Me(Se,rt,null,s,Ne),Pe.push({event:Se,listeners:xt}))}}if((u&7)===0){e:{if(Se=a==="mouseover"||a==="pointerover",Me=a==="mouseout"||a==="pointerout",Se&&s!==_d&&(rt=s.relatedTarget||s.fromElement)&&(zi(rt)||rt[Li]))break e;if((Me||Se)&&(Se=Ne.window===Ne?Ne:(Se=Ne.ownerDocument)?Se.defaultView||Se.parentWindow:window,Me?(rt=s.relatedTarget||s.toElement,Me=se,rt=rt?zi(rt):null,rt!==null&&(Dn=Q(rt),xt=rt.tag,rt!==Dn||xt!==5&&xt!==27&&xt!==6)&&(rt=null)):(Me=null,rt=se),Me!==rt)){if(xt=hu,Le="onMouseLeave",ge="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(xt=Ii,Le="onPointerLeave",ge="onPointerEnter",le="pointer"),Dn=Me==null?Se:Sa(Me),be=rt==null?Se:Sa(rt),Se=new xt(Le,le+"leave",Me,s,Ne),Se.target=Dn,Se.relatedTarget=be,Le=null,zi(Ne)===se&&(xt=new xt(ge,le+"enter",rt,s,Ne),xt.target=be,xt.relatedTarget=Dn,Le=xt),Dn=Le,Me&&rt)t:{for(xt=Me,ge=rt,le=0,be=xt;be;be=ml(be))le++;for(be=0,Le=ge;Le;Le=ml(Le))be++;for(;0<le-be;)xt=ml(xt),le--;for(;0<be-le;)ge=ml(ge),be--;for(;le--;){if(xt===ge||ge!==null&&xt===ge.alternate)break t;xt=ml(xt),ge=ml(ge)}xt=null}else xt=null;Me!==null&&ka(Pe,Se,Me,xt,!1),rt!==null&&Dn!==null&&ka(Pe,Dn,rt,xt,!0)}}e:{if(Se=se?Sa(se):window,Me=Se.nodeName&&Se.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Se.type==="file")var Je=Qg;else if(qf(Se))if(jg)Je=f0;else{Je=pu;var _t=tp}else Me=Se.nodeName,!Me||Me.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?se&&_f(se.elementType)&&(Je=Qg):Je=Yf;if(Je&&(Je=Je(a,se))){Io(Pe,Je,s,Ne);break e}_t&&_t(a,Se,se),a==="focusout"&&se&&Se.type==="number"&&se.memoizedProps.value!=null&&Bd(Se,"number",Se.value)}switch(_t=se?Sa(se):window,a){case"focusin":(qf(_t)||_t.contentEditable==="true")&&(Va=_t,fe=se,De=null);break;case"focusout":De=fe=Va=null;break;case"mousedown":Ce=!0;break;case"contextmenu":case"mouseup":case"dragend":Ce=!1,Qe(Pe,s,Ne);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":Qe(Pe,s,Ne)}var lt;if(Gd)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else vu?Wg(a,s)&&(gt="onCompositionEnd"):a==="keydown"&&s.keyCode===229&&(gt="onCompositionStart");gt&&(Ff&&s.locale!=="ko"&&(vu||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&vu&&(lt=Pg()):(du=Ne,zd="value"in du?du.value:du.textContent,vu=!0)),_t=Oc(se,gt),0<_t.length&&(gt=new Pr(gt,a,null,s,Ne),Pe.push({event:gt,listeners:_t}),lt?gt.data=lt:(lt=Gf(s),lt!==null&&(gt.data=lt)))),(lt=Xg?l0(a,s):Zg(a,s))&&(gt=Oc(se,"onBeforeInput"),0<gt.length&&(_t=new Pr("onBeforeInput","beforeinput",null,s,Ne),Pe.push({event:_t,listeners:gt}),_t.data=lt)),Rc(Pe,a,se,s,Ne)}cm(Pe,u)})}function Gs(a,u,s){return{instance:a,listener:u,currentTarget:s}}function Oc(a,u){for(var s=u+"Capture",p=[];a!==null;){var y=a,x=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=ts(a,s),y!=null&&p.unshift(Gs(a,y,x)),y=ts(a,u),y!=null&&p.push(Gs(a,y,x))),a=a.return}return p}function ml(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ka(a,u,s,p,y){for(var x=u._reactName,N=[];s!==null&&s!==p;){var q=s,j=q.alternate,se=q.stateNode;if(q=q.tag,j!==null&&j===p)break;q!==5&&q!==26&&q!==27||se===null||(j=se,y?(se=ts(s,x),se!=null&&N.unshift(Gs(s,se,j))):y||(se=ts(s,x),se!=null&&N.push(Gs(s,se,j)))),s=s.return}N.length!==0&&a.push({event:u,listeners:N})}var P0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function zu(a){return(typeof a=="string"?a:""+a).replace(P0,`
`).replace(U0,"")}function At(a,u){return u=zu(u),zu(a)===u}function Mc(){}function Dt(a,u,s,p,y,x){switch(s){case"children":typeof p=="string"?u==="body"||u==="textarea"&&p===""||qa(a,p):(typeof p=="number"||typeof p=="bigint")&&u!=="body"&&qa(a,""+p);break;case"className":Zl(a,"class",p);break;case"tabIndex":Zl(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(a,s,p);break;case"style":_g(a,p,x);break;case"data":if(u!=="object"){Zl(a,"data",p);break}case"src":case"href":if(p===""&&(u!=="a"||s!=="href")){a.removeAttribute(s);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(s);break}p=es(""+p),a.setAttribute(s,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(s==="formAction"?(u!=="input"&&Dt(a,u,"name",y.name,y,null),Dt(a,u,"formEncType",y.formEncType,y,null),Dt(a,u,"formMethod",y.formMethod,y,null),Dt(a,u,"formTarget",y.formTarget,y,null)):(Dt(a,u,"encType",y.encType,y,null),Dt(a,u,"method",y.method,y,null),Dt(a,u,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(s);break}p=es(""+p),a.setAttribute(s,p);break;case"onClick":p!=null&&(a.onclick=Mc);break;case"onScroll":p!=null&&Ft("scroll",a);break;case"onScrollEnd":p!=null&&Ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(s=p.__html,s!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=s}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}s=es(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(s,""+p):a.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(s,""):a.removeAttribute(s);break;case"capture":case"download":p===!0?a.setAttribute(s,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(s,p):a.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(s,p):a.removeAttribute(s);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(s):a.setAttribute(s,p);break;case"popover":Ft("beforetoggle",a),Ft("toggle",a),Rf(a,"popover",p);break;case"xlinkActuate":ci(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ci(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ci(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ci(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ci(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ci(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ci(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ci(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ci(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rf(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=kg.get(s)||s,Rf(a,s,p))}}function Rn(a,u,s,p,y,x){switch(s){case"style":_g(a,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(s=p.__html,s!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=s}}break;case"children":typeof p=="string"?qa(a,p):(typeof p=="number"||typeof p=="bigint")&&qa(a,""+p);break;case"onScroll":p!=null&&Ft("scroll",a);break;case"onScrollEnd":p!=null&&Ft("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(y=s.endsWith("Capture"),u=s.slice(2,y?s.length-7:void 0),x=a[gn]||null,x=x!=null?x[s]:null,typeof x=="function"&&a.removeEventListener(u,x,y),typeof p=="function")){typeof x!="function"&&x!==null&&(s in a?a[s]=null:a.hasAttribute(s)&&a.removeAttribute(s)),a.addEventListener(u,p,y);break e}s in a?a[s]=p:p===!0?a.setAttribute(s,""):Rf(a,s,p)}}}function or(a,u,s){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",a),Ft("load",a);var p=!1,y=!1,x;for(x in s)if(s.hasOwnProperty(x)){var N=s[x];if(N!=null)switch(x){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Dt(a,u,x,N,s,null)}}y&&Dt(a,u,"srcSet",s.srcSet,s,null),p&&Dt(a,u,"src",s.src,s,null);return;case"input":Ft("invalid",a);var q=x=N=y=null,j=null,se=null;for(p in s)if(s.hasOwnProperty(p)){var Ne=s[p];if(Ne!=null)switch(p){case"name":y=Ne;break;case"type":N=Ne;break;case"checked":j=Ne;break;case"defaultChecked":se=Ne;break;case"value":x=Ne;break;case"defaultValue":q=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,u));break;default:Dt(a,u,p,Ne,s,null)}}Mf(a,x,q,j,se,N,y,!1),Ql(a);return;case"select":Ft("invalid",a),p=N=x=null;for(y in s)if(s.hasOwnProperty(y)&&(q=s[y],q!=null))switch(y){case"value":x=q;break;case"defaultValue":N=q;break;case"multiple":p=q;default:Dt(a,u,y,q,s,null)}u=x,s=N,a.multiple=!!p,u!=null?Qu(a,!!p,u,!1):s!=null&&Qu(a,!!p,s,!0);return;case"textarea":Ft("invalid",a),x=y=p=null;for(N in s)if(s.hasOwnProperty(N)&&(q=s[N],q!=null))switch(N){case"value":p=q;break;case"defaultValue":y=q;break;case"children":x=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Dt(a,u,N,q,s,null)}Nf(a,p,y,x),Ql(a);return;case"option":for(j in s)if(s.hasOwnProperty(j)&&(p=s[j],p!=null))switch(j){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Dt(a,u,j,p,s,null)}return;case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":Ft("load",a);break;case"video":case"audio":for(p=0;p<Hs.length;p++)Ft(Hs[p],a);break;case"image":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"embed":case"source":case"link":Ft("error",a),Ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in s)if(s.hasOwnProperty(se)&&(p=s[se],p!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Dt(a,u,se,p,s,null)}return;default:if(_f(u)){for(Ne in s)s.hasOwnProperty(Ne)&&(p=s[Ne],p!==void 0&&Rn(a,u,Ne,p,s,void 0));return}}for(q in s)s.hasOwnProperty(q)&&(p=s[q],p!=null&&Dt(a,u,q,p,s,null))}function Iu(a,u,s,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,N=null,q=null,j=null,se=null,Ne=null;for(Me in s){var Pe=s[Me];if(s.hasOwnProperty(Me)&&Pe!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":j=Pe;default:p.hasOwnProperty(Me)||Dt(a,u,Me,null,p,Pe)}}for(var Se in p){var Me=p[Se];if(Pe=s[Se],p.hasOwnProperty(Se)&&(Me!=null||Pe!=null))switch(Se){case"type":x=Me;break;case"name":y=Me;break;case"checked":se=Me;break;case"defaultChecked":Ne=Me;break;case"value":N=Me;break;case"defaultValue":q=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:Me!==Pe&&Dt(a,u,Se,Me,p,Pe)}}Of(a,N,q,j,se,Ne,x,y);return;case"select":Me=N=q=Se=null;for(x in s)if(j=s[x],s.hasOwnProperty(x)&&j!=null)switch(x){case"value":break;case"multiple":Me=j;default:p.hasOwnProperty(x)||Dt(a,u,x,null,p,j)}for(y in p)if(x=p[y],j=s[y],p.hasOwnProperty(y)&&(x!=null||j!=null))switch(y){case"value":Se=x;break;case"defaultValue":q=x;break;case"multiple":N=x;default:x!==j&&Dt(a,u,y,x,p,j)}u=q,s=N,p=Me,Se!=null?Qu(a,!!s,Se,!1):!!p!=!!s&&(u!=null?Qu(a,!!s,u,!0):Qu(a,!!s,s?[]:"",!1));return;case"textarea":Me=Se=null;for(q in s)if(y=s[q],s.hasOwnProperty(q)&&y!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Dt(a,u,q,null,p,y)}for(N in p)if(y=p[N],x=s[N],p.hasOwnProperty(N)&&(y!=null||x!=null))switch(N){case"value":Se=y;break;case"defaultValue":Me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&Dt(a,u,N,y,p,x)}Bf(a,Se,Me);return;case"option":for(var rt in s)if(Se=s[rt],s.hasOwnProperty(rt)&&Se!=null&&!p.hasOwnProperty(rt))switch(rt){case"selected":a.selected=!1;break;default:Dt(a,u,rt,null,p,Se)}for(j in p)if(Se=p[j],Me=s[j],p.hasOwnProperty(j)&&Se!==Me&&(Se!=null||Me!=null))switch(j){case"selected":a.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:Dt(a,u,j,Se,p,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in s)Se=s[xt],s.hasOwnProperty(xt)&&Se!=null&&!p.hasOwnProperty(xt)&&Dt(a,u,xt,null,p,Se);for(se in p)if(Se=p[se],Me=s[se],p.hasOwnProperty(se)&&Se!==Me&&(Se!=null||Me!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,u));break;default:Dt(a,u,se,Se,p,Me)}return;default:if(_f(u)){for(var Dn in s)Se=s[Dn],s.hasOwnProperty(Dn)&&Se!==void 0&&!p.hasOwnProperty(Dn)&&Rn(a,u,Dn,void 0,p,Se);for(Ne in p)Se=p[Ne],Me=s[Ne],!p.hasOwnProperty(Ne)||Se===Me||Se===void 0&&Me===void 0||Rn(a,u,Ne,Se,p,Me);return}}for(var ge in s)Se=s[ge],s.hasOwnProperty(ge)&&Se!=null&&!p.hasOwnProperty(ge)&&Dt(a,u,ge,null,p,Se);for(Pe in p)Se=p[Pe],Me=s[Pe],!p.hasOwnProperty(Pe)||Se===Me||Se==null&&Me==null||Dt(a,u,Pe,Se,p,Me)}var fv=null,cv=null;function Bc(a){return a.nodeType===9?a:a.ownerDocument}function hm(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vm(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function qs(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dv=null;function au(){var a=window.event;return a&&a.type==="popstate"?a===dv?!1:(dv=a,!0):(dv=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,Nc=typeof clearTimeout=="function"?clearTimeout:void 0,En=typeof Promise=="function"?Promise:void 0,Ln=typeof queueMicrotask=="function"?queueMicrotask:typeof En<"u"?function(a){return En.resolve(null).then(a).catch(gm)}:hv;function gm(a){setTimeout(function(){throw a})}function vv(a,u){var s=u,p=0;do{var y=s.nextSibling;if(a.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(p===0){a.removeChild(y),js(u);return}p--}else s!=="$"&&s!=="$?"&&s!=="$!"||p++;s=y}while(s);js(u)}function gv(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var s=u;switch(u=u.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gv(s),Xl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}a.removeChild(s)}}function F0(a,u,s,p){for(;a.nodeType===1;){var y=s;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Zu])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=ri(a.nextSibling),a===null)break}return null}function H0(a,u,s){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ri(a.nextSibling),a===null))return null;return a}function ri(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return a}function pm(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var s=a.data;if(s==="$"||s==="$!"||s==="$?"){if(u===0)return a;u--}else s==="/$"&&u++}a=a.previousSibling}return null}function pv(a,u,s){switch(u=Bc(s),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var wr=new Map,_c=new Set;function kc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Oi=oe.d;oe.d={f:Lc,r:va,D:G0,C:q0,L:V0,m:$0,X:iu,S:ym,M:Ot};function Lc(){var a=Oi.f(),u=Cc();return a||u}function va(a){var u=Ea(a);u!==null&&u.tag===5&&u.type==="form"?Cp(u):Oi.r(a)}var ai=typeof document>"u"?null:document;function mm(a,u,s){var p=ai;if(p&&typeof u=="string"&&u){var y=ea(u);y='link[rel="'+a+'"][href="'+y+'"]',typeof s=="string"&&(y+='[crossorigin="'+s+'"]'),_c.has(y)||(_c.add(y),a={rel:a,crossOrigin:s,href:u},p.querySelector(y)===null&&(u=p.createElement("link"),or(u,"link",a),mn(u),p.head.appendChild(u)))}}function G0(a){Oi.D(a),mm("dns-prefetch",a,null)}function q0(a,u){Oi.C(a,u),mm("preconnect",a,u)}function V0(a,u,s){Oi.L(a,u,s);var p=ai;if(p&&a&&u){var y='link[rel="preload"][as="'+ea(u)+'"]';u==="image"&&s&&s.imageSrcSet?(y+='[imagesrcset="'+ea(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(y+='[imagesizes="'+ea(s.imageSizes)+'"]')):y+='[href="'+ea(a)+'"]';var x=y;switch(u){case"style":x=lr(a);break;case"script":x=bl(a)}wr.has(x)||(a=P({rel:"preload",href:u==="image"&&s&&s.imageSrcSet?void 0:a,as:u},s),wr.set(x,a),p.querySelector(y)!==null||u==="style"&&p.querySelector(yl(x))||u==="script"&&p.querySelector(wl(x))||(u=p.createElement("link"),or(u,"link",a),mn(u),p.head.appendChild(u)))}}function $0(a,u){Oi.m(a,u);var s=ai;if(s&&a){var p=u&&typeof u.as=="string"?u.as:"script",y='link[rel="modulepreload"][as="'+ea(p)+'"][href="'+ea(a)+'"]',x=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=bl(a)}if(!wr.has(x)&&(a=P({rel:"modulepreload",href:a},u),wr.set(x,a),s.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wl(x)))return}p=s.createElement("link"),or(p,"link",a),mn(p),s.head.appendChild(p)}}}function ym(a,u,s){Oi.S(a,u,s);var p=ai;if(p&&a){var y=Ha(p).hoistableStyles,x=lr(a);u=u||"default";var N=y.get(x);if(!N){var q={loading:0,preload:null};if(N=p.querySelector(yl(x)))q.loading=5;else{a=P({rel:"stylesheet",href:a,"data-precedence":u},s),(s=wr.get(x))&&yv(a,s);var j=N=p.createElement("link");mn(j),or(j,"link",a),j._p=new Promise(function(se,Ne){j.onload=se,j.onerror=Ne}),j.addEventListener("load",function(){q.loading|=1}),j.addEventListener("error",function(){q.loading|=2}),q.loading|=4,zc(N,u,p)}N={type:"stylesheet",instance:N,count:1,state:q},y.set(x,N)}}}function iu(a,u){Oi.X(a,u);var s=ai;if(s&&a){var p=Ha(s).hoistableScripts,y=bl(a),x=p.get(y);x||(x=s.querySelector(wl(y)),x||(a=P({src:a,async:!0},u),(u=wr.get(y))&&bv(a,u),x=s.createElement("script"),mn(x),or(x,"link",a),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(y,x))}}function Ot(a,u){Oi.M(a,u);var s=ai;if(s&&a){var p=Ha(s).hoistableScripts,y=bl(a),x=p.get(y);x||(x=s.querySelector(wl(y)),x||(a=P({src:a,async:!0,type:"module"},u),(u=wr.get(y))&&bv(a,u),x=s.createElement("script"),mn(x),or(x,"link",a),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(y,x))}}function mv(a,u,s,p){var y=(y=He.current)?kc(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(u=lr(s.href),s=Ha(y).hoistableStyles,p=s.get(u),p||(p={type:"style",instance:null,count:0,state:null},s.set(u,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){a=lr(s.href);var x=Ha(y).hoistableStyles,N=x.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,N),(x=y.querySelector(yl(a)))&&!x._p&&(N.instance=x,N.state.loading=5),wr.has(a)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wr.set(a,s),x||Jt(y,a,s,N.state))),u&&p===null)throw Error(r(528,""));return N}if(u&&p!==null)throw Error(r(529,""));return null;case"script":return u=s.async,s=s.src,typeof s=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=bl(s),s=Ha(y).hoistableScripts,p=s.get(u),p||(p={type:"script",instance:null,count:0,state:null},s.set(u,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function lr(a){return'href="'+ea(a)+'"'}function yl(a){return'link[rel="stylesheet"]['+a+"]"}function bm(a){return P({},a,{"data-precedence":a.precedence,precedence:null})}function Jt(a,u,s,p){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?p.loading=1:(u=a.createElement("link"),p.preload=u,u.addEventListener("load",function(){return p.loading|=1}),u.addEventListener("error",function(){return p.loading|=2}),or(u,"link",s),mn(u),a.head.appendChild(u))}function bl(a){return'[src="'+ea(a)+'"]'}function wl(a){return"script[async]"+a}function Vs(a,u,s){if(u.count++,u.instance===null)switch(u.type){case"style":var p=a.querySelector('style[data-href~="'+ea(s.href)+'"]');if(p)return u.instance=p,mn(p),p;var y=P({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),mn(p),or(p,"style",y),zc(p,s.precedence,a),u.instance=p;case"stylesheet":y=lr(s.href);var x=a.querySelector(yl(y));if(x)return u.state.loading|=4,u.instance=x,mn(x),x;p=bm(s),(y=wr.get(y))&&yv(p,y),x=(a.ownerDocument||a).createElement("link"),mn(x);var N=x;return N._p=new Promise(function(q,j){N.onload=q,N.onerror=j}),or(x,"link",p),u.state.loading|=4,zc(x,s.precedence,a),u.instance=x;case"script":return x=bl(s.src),(y=a.querySelector(wl(x)))?(u.instance=y,mn(y),y):(p=s,(y=wr.get(x))&&(p=P({},s),bv(p,y)),a=a.ownerDocument||a,y=a.createElement("script"),mn(y),or(y,"link",p),a.head.appendChild(y),u.instance=y);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(p=u.instance,u.state.loading|=4,zc(p,s.precedence,a));return u.instance}function zc(a,u,s){for(var p=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,x=y,N=0;N<p.length;N++){var q=p[N];if(q.dataset.precedence===u)x=q;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(u=s.nodeType===9?s.head:s,u.insertBefore(a,u.firstChild))}function yv(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function bv(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Ic=null;function wm(a,u,s){if(Ic===null){var p=new Map,y=Ic=new Map;y.set(s,p)}else y=Ic,p=y.get(s),p||(p=new Map,y.set(s,p));if(p.has(a))return p;for(p.set(a,null),s=s.getElementsByTagName(a),y=0;y<s.length;y++){var x=s[y];if(!(x[Zu]||x[In]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(u)||"";N=a+N;var q=p.get(N);q?q.push(x):p.set(N,[x])}}return p}function Em(a,u,s){a=a.ownerDocument||a,a.head.insertBefore(s,u==="title"?a.querySelector("head > title"):null)}function Y0(a,u,s){if(s===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Sm(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var $s=null;function K0(){}function X0(a,u,s){if($s===null)throw Error(r(475));var p=$s;if(u.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=lr(s.href),x=a.querySelector(yl(y));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=Pc.bind(p),a.then(p,p)),u.state.loading|=4,u.instance=x,mn(x);return}x=a.ownerDocument||a,s=bm(s),(y=wr.get(y))&&yv(s,y),x=x.createElement("link"),mn(x);var N=x;N._p=new Promise(function(q,j){N.onload=q,N.onerror=j}),or(x,"link",s),u.instance=x}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(p.count++,u=Pc.bind(p),a.addEventListener("load",u),a.addEventListener("error",u))}}function W0(){if($s===null)throw Error(r(475));var a=$s;return a.stylesheets&&a.count===0&&wv(a,a.stylesheets),0<a.count?function(u){var s=setTimeout(function(){if(a.stylesheets&&wv(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(s)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)wv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var El=null;function wv(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,El=new Map,u.forEach(Ev,a),El=null,Pc.call(a))}function Ev(a,u){if(!(u.state.loading&4)){var s=El.get(a);if(s)var p=s.get(null);else{s=new Map,El.set(a,s);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var N=y[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(s.set(N.dataset.precedence,N),p=N)}p&&s.set(null,p)}y=u.instance,N=y.getAttribute("data-precedence"),x=s.get(N)||p,x===p&&s.set(null,y),s.set(N,y),this.count++,p=Pc.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),u.state.loading|=4}}var Ys={$$typeof:E,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Z0(a,u,s,p,y,x,N,q){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function xm(a,u,s,p,y,x,N,q,j,se,Ne,Pe){return a=new Z0(a,u,s,N,q,j,se,Pe),u=1,x===!0&&(u|=24),x=ca(3,null,null,u),a.current=x,x.stateNode=a,u=Jd(),u.refCount++,a.pooledCache=u,u.refCount++,x.memoizedState={element:p,isDehydrated:s,cache:u},Cs(x),a}function tr(a){return a?(a=no,a):no}function Mr(a,u,s,p,y,x){y=tr(y),p.context===null?p.context=y:p.pendingContext=y,p=Ja(u),p.payload={element:s},x=x===void 0?null:x,x!==null&&(p.callback=x),s=oa(a,p,u),s!==null&&(br(s,a,u),ft(s,a,u))}function Tm(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var s=a.retryLane;a.retryLane=s!==0&&s<u?s:u}}function Sv(a,u){Tm(a,u),(a=a.alternate)&&Tm(a,u)}function Cm(a){if(a.tag===13){var u=$a(a,67108864);u!==null&&br(u,a,67108864),Sv(a,67108864)}}var Ks=!0;function Q0(a,u,s,p){var y=B.T;B.T=null;var x=oe.p;try{oe.p=2,xv(a,u,s,p)}finally{oe.p=x,B.T=y}}function j0(a,u,s,p){var y=B.T;B.T=null;var x=oe.p;try{oe.p=8,xv(a,u,s,p)}finally{oe.p=x,B.T=y}}function xv(a,u,s,p){if(Ks){var y=Uc(p);if(y===null)sv(a,u,p,Fc,s),Rm(a,p);else if(e1(y,a,u,s,p))p.stopPropagation();else if(Rm(a,p),u&4&&-1<J0.indexOf(a)){for(;y!==null;){var x=Ea(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=zn(x.pendingLanes);if(N!==0){var q=x;for(q.pendingLanes|=2,q.entangledLanes|=2;N;){var j=1<<31-$e(N);q.entanglements[1]|=j,N&=~j}ni(x),(An&6)===0&&(xc=nt()+500,Eo(0))}}break;case 13:q=$a(x,2),q!==null&&br(q,x,2),Cc(),Sv(x,2)}if(x=Uc(p),x===null&&sv(a,u,p,Fc,s),x===y)break;y=x}y!==null&&p.stopPropagation()}else sv(a,u,p,null,s)}}function Uc(a){return a=kd(a),Tv(a)}var Fc=null;function Tv(a){if(Fc=null,a=zi(a),a!==null){var u=Q(a);if(u===null)a=null;else{var s=u.tag;if(s===13){if(a=ue(u),a!==null)return a;a=null}else if(s===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return Fc=a,null}function Am(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case Ae:return 2;case V:return 8;case he:case Re:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Hc=!1,uu=null,Pu=null,Uu=null,Xs=new Map,Ws=new Map,ga=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(a,u){switch(a){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":Xs.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(u.pointerId)}}function Zs(a,u,s,p,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:u,domEventName:s,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},u!==null&&(u=Ea(u),u!==null&&Cm(u)),a):(a.eventSystemFlags|=p,u=a.targetContainers,y!==null&&u.indexOf(y)===-1&&u.push(y),a)}function e1(a,u,s,p,y){switch(u){case"focusin":return uu=Zs(uu,a,u,s,p,y),!0;case"dragenter":return Pu=Zs(Pu,a,u,s,p,y),!0;case"mouseover":return Uu=Zs(Uu,a,u,s,p,y),!0;case"pointerover":var x=y.pointerId;return Xs.set(x,Zs(Xs.get(x)||null,a,u,s,p,y)),!0;case"gotpointercapture":return x=y.pointerId,Ws.set(x,Zs(Ws.get(x)||null,a,u,s,p,y)),!0}return!1}function Dm(a){var u=zi(a.target);if(u!==null){var s=Q(u);if(s!==null){if(u=s.tag,u===13){if(u=ue(s),u!==null){a.blockedOn=u,Vn(a.priority,function(){if(s.tag===13){var p=ha(),y=$a(s,p);y!==null&&br(y,s,p),Sv(s,p)}});return}}else if(u===3&&s.stateNode.current.memoizedState.isDehydrated){a.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Qs(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var s=Uc(a.nativeEvent);if(s===null){s=a.nativeEvent;var p=new s.constructor(s.type,s);_d=p,s.target.dispatchEvent(p),_d=null}else return u=Ea(s),u!==null&&Cm(u),a.blockedOn=s,!1;u.shift()}return!0}function Cv(a,u,s){Qs(a)&&s.delete(u)}function t1(){Hc=!1,uu!==null&&Qs(uu)&&(uu=null),Pu!==null&&Qs(Pu)&&(Pu=null),Uu!==null&&Qs(Uu)&&(Uu=null),Xs.forEach(Cv),Ws.forEach(Cv)}function Gc(a,u){a.blockedOn===u&&(a.blockedOn=null,Hc||(Hc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,t1)))}var qc=null;function Om(a){qc!==a&&(qc=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qc===a&&(qc=null);for(var u=0;u<a.length;u+=3){var s=a[u],p=a[u+1],y=a[u+2];if(typeof p!="function"){if(Tv(p||s)===null)continue;break}var x=Ea(s);x!==null&&(a.splice(u,3),u-=3,ys(x,{pending:!0,data:y,method:s.method,action:p},p,y))}}))}function js(a){function u(j){return Gc(j,a)}uu!==null&&Gc(uu,a),Pu!==null&&Gc(Pu,a),Uu!==null&&Gc(Uu,a),Xs.forEach(u),Ws.forEach(u);for(var s=0;s<ga.length;s++){var p=ga[s];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ga.length&&(s=ga[0],s.blockedOn===null);)Dm(s),s.blockedOn===null&&ga.shift();if(s=(a.ownerDocument||a).$$reactFormReplay,s!=null)for(p=0;p<s.length;p+=3){var y=s[p],x=s[p+1],N=y[gn]||null;if(typeof x=="function")N||Om(s);else if(N){var q=null;if(x&&x.hasAttribute("formAction")){if(y=x,N=x[gn]||null)q=N.formAction;else if(Tv(y)!==null)continue}else q=N.action;typeof q=="function"?s[p+1]=q:(s.splice(p,3),p-=3),Om(s)}}}function Av(a){this._internalRoot=a}Vc.prototype.render=Av.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var s=u.current,p=ha();Mr(s,p,a,u,null,null)},Vc.prototype.unmount=Av.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;a.tag===0&&ru(),Mr(a.current,2,null,a,null,null),Cc(),u[Li]=null}};function Vc(a){this._internalRoot=a}Vc.prototype.unstable_scheduleHydration=function(a){if(a){var u=Zn();a={blockedOn:null,target:a,priority:u};for(var s=0;s<ga.length&&u!==0&&u<ga[s].priority;s++);ga.splice(s,0,a),s===0&&Dm(a)}};var Mm=e.version;if(Mm!=="19.0.0")throw Error(r(527,Mm,"19.0.0"));oe.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=W(u),a=a!==null?ne(a):null,a=a===null?null:a.stateNode,a};var n1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:zi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Be=$c.inject(n1),Fe=$c}catch{}}return Rv.createRoot=function(a,u){if(!i(a))throw Error(r(299));var s=!1,p="",y=Zi,x=Ap,N=Qi,q=null;return u!=null&&(u.unstable_strictMode===!0&&(s=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks)),u=xm(a,1,!1,null,null,s,p,y,x,N,q,null),a[Li]=u.current,lv(a.nodeType===8?a.parentNode:a),new Av(u)},Rv.hydrateRoot=function(a,u,s){if(!i(a))throw Error(r(299));var p=!1,y="",x=Zi,N=Ap,q=Qi,j=null,se=null;return s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(q=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks),s.formState!==void 0&&(se=s.formState)),u=xm(a,1,!0,u,s??null,p,y,x,N,q,j,se),u.context=tr(null),s=u.current,p=ha(),y=Ja(p),y.callback=null,oa(s,y,p),u.current.lanes=p,vr(u,p),ni(u),a[Li]=u.current,lv(a),new Vc(u)},Rv.version="19.0.0",Rv}var Rw;function M2(){if(Rw)return s1.exports;Rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s1.exports=O2(),s1.exports}var B2=M2();const fr="ε",Ay="q₀",h1="Z₀",Dw="σ",uy="cy-primary",Ry="cy-secondary";class Ie{constructor(e){xe(this,"details");this.details=e}}class NS extends Ie{}class $1 extends Error{}class _S{constructor(e,t){xe(this,"stateId");xe(this,"remainingInput");this.stateId=e,this.remainingInput=t}accept(e){return e.visitFiniteConfiguration(this)}save(){return new LS(this.stateId,this.remainingInput)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput}}class kS{constructor(e,t,r){xe(this,"stateId");xe(this,"remainingInput");xe(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=r}accept(e){return e.visitPDAConfiguration(this)}save(){return new zS(this.stateId,this.remainingInput,this.stack)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput,this.stack=e.stack}}class Y1{constructor(e,t){xe(this,"stateId");xe(this,"remainingInput");this.stateId=e,this.remainingInput=t}accept(e){return e.visitNFAConfiguration(this)}save(){return new LS(this.stateId,this.remainingInput)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput}}class K1{constructor(e,t,r){xe(this,"stateId");xe(this,"remainingInput");xe(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=r}accept(e){return e.visitNPDAConfiguration(this)}save(){return new zS(this.stateId,this.remainingInput,this.stack)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput,this.stack=e.stack}}class LS{constructor(e,t){xe(this,"stateId");xe(this,"remainingInput");this.stateId=e,this.remainingInput=[...t]}}class zS{constructor(e,t,r){xe(this,"stateId");xe(this,"remainingInput");xe(this,"stack");this.stateId=e,this.remainingInput=[...t],this.stack=[...r]}}const IS=(n,e)=>{if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0};class Dy{constructor(e,t){xe(this,"id");xe(this,"inputChar");this.id=e,this.inputChar=t}get label(){return this.inputChar}equals(e){return e instanceof Dy?this.inputChar===e.inputChar:!1}}class df{constructor(e,t,r,i){xe(this,"id");xe(this,"inputChar");xe(this,"readStackChar");xe(this,"writeStackWord");this.id=e,this.inputChar=t,this.readStackChar=r,this.writeStackWord=i}get label(){return[this.inputChar,this.readStackChar,this.writeStackWord.join("")].join(",")}equals(e){return e instanceof df?this.inputChar===e.inputChar&&this.readStackChar===e.readStackChar&&IS(this.writeStackWord,e.writeStackWord):!1}}class N2{constructor(e){xe(this,"automaton");xe(this,"result");this.automaton=e}visitFiniteConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=On.FINITE)throw new Error("Wrong automaton type");const t=e.remainingInput[0];let r;const i=this.automaton.deltaFunctionMatrix[e.stateId];for(const o in i){const l=i[o];for(let c=0;c<l.length;c++)l[c].inputChar===t&&(r=o,this.result=l[c])}if(r===void 0)throw new Error("Step for the symbol doesn't exist in the delta function");return new _S(r,e.remainingInput.slice(1))}visitPDAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=On.PDA)throw new Error("Wrong automaton type");const t=e.remainingInput[0],r=e.stack[e.stack.length-1];let i,o;const l=this.automaton.deltaFunctionMatrix[e.stateId];e:for(const c in l){const h=l[c];for(let d=0;d<h.length;d++){const v=h[d];if(v instanceof df){if(v.inputChar===t&&v.readStackChar===r){i=c,o=v.writeStackWord,this.result=h[d];break e}}else throw new Error("AutomatonType is pushDown but one of its edges isn't")}}if(i===void 0||o===void 0)throw new Error("Step for the (symbol, top of stack) combination in the delta function doesn't exist");{const c=e.stack.slice(0,-1).concat(o);return new kS(i,e.remainingInput.slice(1),c)}}visitNFAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=On.FINITE)throw new Error("Wrong automaton type");const t=e.remainingInput[0],r=[],i=this.automaton.deltaFunctionMatrix[e.stateId];for(const o in i){const l=i[o];for(let c=0;c<l.length;c++)if(l[c].inputChar===t||l[c].inputChar===fr){const h={edge:l[c],state:o};r.push(h)}}if(r.length===0)throw new $1("No posible next step from this state and input symbol. Automaton is at a dead end. This may be caused by non-determinism, if you want  a different run try running the simulation again or undoing the last step");{let o;r.length===1?o=0:o=Math.floor(Math.random()*r.length);const l=r[o];return this.result=l.edge,l.edge.inputChar===fr?new Y1(l.state,e.remainingInput):new Y1(l.state,e.remainingInput.slice(1))}}visitNPDAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=On.PDA)throw new Error("Wrong automaton type");const t=e.remainingInput[0],r=e.stack[e.stack.length-1],i=[],o=this.automaton.deltaFunctionMatrix[e.stateId];for(const l in o){const c=o[l];for(let h=0;h<c.length;h++){const d=c[h];if(d instanceof df){if((d.inputChar===t||d.inputChar===fr)&&d.readStackChar===r){const v={edge:d,state:l};i.push(v)}}else throw new Error("AutomatonType is pushDown but one of its edges isn't")}}if(i.length===0)throw new $1("No posible next step from this state and input symbol. Automaton is at a dead end. This may be caused by non-determinism, if you want  a different run try running the simulation again or undoing the last step");{let l;i.length===1?l=0:l=Math.floor(Math.random()*i.length);const c=i[l];this.result=c.edge;const h=e.stack.slice(0,-1).concat(c.edge.writeStackWord);return c.edge.inputChar===fr?new K1(c.state,e.remainingInput,h):new K1(c.state,e.remainingInput.slice(1),h)}}}class _2{constructor(e){xe(this,"simulation");xe(this,"backup");xe(this,"result");this.simulation=e}saveBackup(){this.backup=this.simulation.configuration.save()}undo(){this.backup&&this.simulation.configuration.restore(this.backup)}getResult(){return this.result}}class PS extends _2{constructor(e){super(e)}execute(){this.saveBackup();const e=new N2(this.simulation.automaton);try{const t=this.simulation.configuration.accept(e);this.simulation.configuration=t,this.result=e.result}catch(t){if(t instanceof Error)return t instanceof $1?new NS(t.message):new Ie(t.message)}}}class Nm{constructor(e,t){xe(this,"automaton");xe(this,"configuration");xe(this,"commandHistory");this.automaton=e,this.configuration=t,this.commandHistory=[]}executeCommand(e){const t=e.execute();if(t!==void 0)return t;this.commandHistory.push(e)}undo(){const e=this.commandHistory.pop();if(e===void 0)return new Ie("Cannot undo because command history is empty.");e.undo()}run(){for(;this.configuration.remainingInput.length>0;){const e=new PS(this),t=e.execute();if(t!==void 0)return t instanceof NS?!1:t;this.commandHistory.push(e)}return this.automaton.finalStateIds.some(e=>this.configuration.stateId===e)}}var Pv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var k2=Pv.exports,Ow;function L2(){return Ow||(Ow=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,v="__lodash_placeholder__",m=1,b=2,E=4,S=1,A=2,T=1,C=2,R=4,D=8,M=16,k=32,L=64,_=128,I=256,B=512,P=30,F="...",H=800,X=16,K=1,ee=2,Y=3,Z=1/0,Q=9007199254740991,ue=17976931348623157e292,U=NaN,W=4294967295,ne=W-1,ce=W>>>1,oe=[["ary",_],["bind",T],["bindKey",C],["curry",D],["curryRight",M],["flip",B],["partial",k],["partialRight",L],["rearg",I]],me="[object Arguments]",ye="[object Array]",Oe="[object AsyncFunction]",Te="[object Boolean]",de="[object Date]",ae="[object DOMException]",we="[object Error]",_e="[object Function]",He="[object GeneratorFunction]",Ge="[object Map]",Ye="[object Number]",Ct="[object Null]",ht="[object Object]",Ke="[object Promise]",Xe="[object Proxy]",je="[object RegExp]",Ze="[object Set]",tt="[object String]",at="[object Symbol]",nt="[object Undefined]",wt="[object WeakMap]",Ae="[object WeakSet]",V="[object ArrayBuffer]",he="[object DataView]",Re="[object Float32Array]",pe="[object Float64Array]",Ee="[object Int8Array]",qe="[object Int16Array]",Be="[object Int32Array]",Fe="[object Uint8Array]",ot="[object Uint8ClampedArray]",st="[object Uint16Array]",$e="[object Uint32Array]",mt=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yt=/&(?:amp|lt|gt|quot|#39);/g,tn=/[&<>"']/g,zn=RegExp(Yt.source),rr=RegExp(tn.source),vn=/<%-([\s\S]+?)%>/g,qn=/<%([\s\S]+?)%>/g,Bn=/<%=([\s\S]+?)%>/g,ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wn=/^\w*$/,vr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gr=/[\\^$.*+?()[\]{}|]/g,Qr=RegExp(gr.source),Lr=/^\s+/,wa=/\s/,Zn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vn=/\{\n\/\* \[wrapped with (.+)\] \*/,Tn=/,? & /,In=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gn=/[()=,{}\[\]\/\s]/,Li=/\\(\\)?/g,Kl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xf=/\w*$/,Md=/^[-+]0x[0-9a-f]+$/i,Tf=/^0b[01]+$/i,Zu=/^\[object .+?Constructor\]$/,Xl=/^0o[0-7]+$/i,zi=/^(?:0|[1-9]\d*)$/,Ea=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sa=/($^)/,Ha=/['\n\r\u2028\u2029\\]/g,mn="\\ud800-\\udfff",Wl="\\u0300-\\u036f",Cf="\\ufe20-\\ufe2f",Qn="\\u20d0-\\u20ff",Ga=Wl+Cf+Qn,jr="\\u2700-\\u27bf",cu="a-z\\xdf-\\xf6\\xf8-\\xff",zr="\\xac\\xb1\\xd7\\xf7",Af="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jy="\\u2000-\\u206f",Rf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zl="A-Z\\xc0-\\xd6\\xd8-\\xde",ci="\\ufe0e\\ufe0f",Jr=zr+Af+jy+Rf,Df="['’]",Jy="["+mn+"]",Ql="["+Jr+"]",jl="["+Ga+"]",Jl="\\d+",e0="["+jr+"]",ea="["+cu+"]",Of="[^"+mn+Jr+Jl+jr+cu+Zl+"]",Mf="\\ud83c[\\udffb-\\udfff]",Bd="(?:"+jl+"|"+Mf+")",Qu="[^"+mn+"]",Bf="(?:\\ud83c[\\udde6-\\uddff]){2}",Nf="[\\ud800-\\udbff][\\udc00-\\udfff]",qa="["+Zl+"]",Ng="\\u200d",Nd="(?:"+ea+"|"+Of+")",_g="(?:"+qa+"|"+Of+")",_f="(?:"+Df+"(?:d|ll|m|re|s|t|ve))?",kg="(?:"+Df+"(?:D|LL|M|RE|S|T|VE))?",Lg=Bd+"?",es="["+ci+"]?",_d="(?:"+Ng+"(?:"+[Qu,Bf,Nf].join("|")+")"+es+Lg+")*",kd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_o="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ju=es+Lg+_d,zg="(?:"+[e0,Bf,Nf].join("|")+")"+ju,Ld="(?:"+[Qu+jl+"?",jl,Bf,Nf,Jy].join("|")+")",Ig=RegExp(Df,"g"),ts=RegExp(jl,"g"),ns=RegExp(Mf+"(?="+Mf+")|"+Ld+ju,"g"),rs=RegExp([qa+"?"+ea+"+"+_f+"(?="+[Ql,qa,"$"].join("|")+")",_g+"+"+kg+"(?="+[Ql,qa+Nd,"$"].join("|")+")",qa+"?"+Nd+"+"+_f,qa+"+"+kg,_o,kd,Jl,zg].join("|"),"g"),du=RegExp("["+Ng+mn+Ga+ci+"]"),zd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pg=-1,rn={};rn[Re]=rn[pe]=rn[Ee]=rn[qe]=rn[Be]=rn[Fe]=rn[ot]=rn[st]=rn[$e]=!0,rn[me]=rn[ye]=rn[V]=rn[Te]=rn[he]=rn[de]=rn[we]=rn[_e]=rn[Ge]=rn[Ye]=rn[ht]=rn[je]=rn[Ze]=rn[tt]=rn[wt]=!1;var nn={};nn[me]=nn[ye]=nn[V]=nn[he]=nn[Te]=nn[de]=nn[Re]=nn[pe]=nn[Ee]=nn[qe]=nn[Be]=nn[Ge]=nn[Ye]=nn[ht]=nn[je]=nn[Ze]=nn[tt]=nn[at]=nn[Fe]=nn[ot]=nn[st]=nn[$e]=!0,nn[we]=nn[_e]=nn[wt]=!1;var Ug={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ir={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ju={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},as=parseFloat,t0=parseInt,zf=typeof Bm=="object"&&Bm&&Bm.Object===Object&&Bm,Id=typeof self=="object"&&self&&self.Object===Object&&self,Pn=zf||Id||Function("return this")(),ko=e&&!e.nodeType&&e,hu=ko&&!0&&n&&!n.nodeType&&n,Fg=hu&&hu.exports===ko,Pd=Fg&&zf.process,xa=function(){try{var fe=hu&&hu.require&&hu.require("util").types;return fe||Pd&&Pd.binding&&Pd.binding("util")}catch{}}(),If=xa&&xa.isArrayBuffer,Hg=xa&&xa.isDate,Gg=xa&&xa.isMap,qg=xa&&xa.isRegExp,Vg=xa&&xa.isSet,$g=xa&&xa.isTypedArray;function Pr(fe,De,Ce){switch(Ce.length){case 0:return fe.call(De);case 1:return fe.call(De,Ce[0]);case 2:return fe.call(De,Ce[0],Ce[1]);case 3:return fe.call(De,Ce[0],Ce[1],Ce[2])}return fe.apply(De,Ce)}function n0(fe,De,Ce,Qe){for(var vt=-1,Pt=fe==null?0:fe.length;++vt<Pt;){var Un=fe[vt];De(Qe,Un,Ce(Un),fe)}return Qe}function Ta(fe,De){for(var Ce=-1,Qe=fe==null?0:fe.length;++Ce<Qe&&De(fe[Ce],Ce,fe)!==!1;);return fe}function r0(fe,De){for(var Ce=fe==null?0:fe.length;Ce--&&De(fe[Ce],Ce,fe)!==!1;);return fe}function Yg(fe,De){for(var Ce=-1,Qe=fe==null?0:fe.length;++Ce<Qe;)if(!De(fe[Ce],Ce,fe))return!1;return!0}function di(fe,De){for(var Ce=-1,Qe=fe==null?0:fe.length,vt=0,Pt=[];++Ce<Qe;){var Un=fe[Ce];De(Un,Ce,fe)&&(Pt[vt++]=Un)}return Pt}function Pf(fe,De){var Ce=fe==null?0:fe.length;return!!Ce&&Lo(fe,De,0)>-1}function Ud(fe,De,Ce){for(var Qe=-1,vt=fe==null?0:fe.length;++Qe<vt;)if(Ce(De,fe[Qe]))return!0;return!1}function yn(fe,De){for(var Ce=-1,Qe=fe==null?0:fe.length,vt=Array(Qe);++Ce<Qe;)vt[Ce]=De(fe[Ce],Ce,fe);return vt}function Ii(fe,De){for(var Ce=-1,Qe=De.length,vt=fe.length;++Ce<Qe;)fe[vt+Ce]=De[Ce];return fe}function Fd(fe,De,Ce,Qe){var vt=-1,Pt=fe==null?0:fe.length;for(Qe&&Pt&&(Ce=fe[++vt]);++vt<Pt;)Ce=De(Ce,fe[vt],vt,fe);return Ce}function a0(fe,De,Ce,Qe){var vt=fe==null?0:fe.length;for(Qe&&vt&&(Ce=fe[--vt]);vt--;)Ce=De(Ce,fe[vt],vt,fe);return Ce}function Hd(fe,De){for(var Ce=-1,Qe=fe==null?0:fe.length;++Ce<Qe;)if(De(fe[Ce],Ce,fe))return!0;return!1}var i0=Ff("length");function u0(fe){return fe.split("")}function o0(fe){return fe.match(In)||[]}function Kg(fe,De,Ce){var Qe;return Ce(fe,function(vt,Pt,Un){if(De(vt,Pt,Un))return Qe=Pt,!1}),Qe}function Uf(fe,De,Ce,Qe){for(var vt=fe.length,Pt=Ce+(Qe?1:-1);Qe?Pt--:++Pt<vt;)if(De(fe[Pt],Pt,fe))return Pt;return-1}function Lo(fe,De,Ce){return De===De?c0(fe,De,Ce):Uf(fe,zo,Ce)}function Gd(fe,De,Ce,Qe){for(var vt=Ce-1,Pt=fe.length;++vt<Pt;)if(Qe(fe[vt],De))return vt;return-1}function zo(fe){return fe!==fe}function Xg(fe,De){var Ce=fe==null?0:fe.length;return Ce?Gf(fe,De)/Ce:U}function Ff(fe){return function(De){return De==null?t:De[fe]}}function Hf(fe){return function(De){return fe==null?t:fe[De]}}function qd(fe,De,Ce,Qe,vt){return vt(fe,function(Pt,Un,an){Ce=Qe?(Qe=!1,Pt):De(Ce,Pt,Un,an)}),Ce}function Wg(fe,De){var Ce=fe.length;for(fe.sort(De);Ce--;)fe[Ce]=fe[Ce].value;return fe}function Gf(fe,De){for(var Ce,Qe=-1,vt=fe.length;++Qe<vt;){var Pt=De(fe[Qe]);Pt!==t&&(Ce=Ce===t?Pt:Ce+Pt)}return Ce}function vu(fe,De){for(var Ce=-1,Qe=Array(fe);++Ce<fe;)Qe[Ce]=De(Ce);return Qe}function l0(fe,De){return yn(De,function(Ce){return[Ce,fe[Ce]]})}function Zg(fe){return fe&&fe.slice(0,$d(fe)+1).replace(Lr,"")}function ta(fe){return function(De){return fe(De)}}function qf(fe,De){return yn(De,function(Ce){return fe[Ce]})}function Io(fe,De){return fe.has(De)}function Po(fe,De){for(var Ce=-1,Qe=fe.length;++Ce<Qe&&Lo(De,fe[Ce],0)>-1;);return Ce}function Uo(fe,De){for(var Ce=fe.length;Ce--&&Lo(De,fe[Ce],0)>-1;);return Ce}function s0(fe,De){for(var Ce=fe.length,Qe=0;Ce--;)fe[Ce]===De&&++Qe;return Qe}var Vf=Hf(Ug),Qg=Hf(Ir);function jg(fe){return"\\"+Lf[fe]}function Vd(fe,De){return fe==null?t:fe[De]}function gu(fe){return du.test(fe)}function Jg(fe){return zd.test(fe)}function ep(fe){for(var De,Ce=[];!(De=fe.next()).done;)Ce.push(De.value);return Ce}function $f(fe){var De=-1,Ce=Array(fe.size);return fe.forEach(function(Qe,vt){Ce[++De]=[vt,Qe]}),Ce}function tp(fe,De){return function(Ce){return fe(De(Ce))}}function pu(fe,De){for(var Ce=-1,Qe=fe.length,vt=0,Pt=[];++Ce<Qe;){var Un=fe[Ce];(Un===De||Un===v)&&(fe[Ce]=v,Pt[vt++]=Ce)}return Pt}function Yf(fe){var De=-1,Ce=Array(fe.size);return fe.forEach(function(Qe){Ce[++De]=Qe}),Ce}function f0(fe){var De=-1,Ce=Array(fe.size);return fe.forEach(function(Qe){Ce[++De]=[Qe,Qe]}),Ce}function c0(fe,De,Ce){for(var Qe=Ce-1,vt=fe.length;++Qe<vt;)if(fe[Qe]===De)return Qe;return-1}function na(fe,De,Ce){for(var Qe=Ce+1;Qe--;)if(fe[Qe]===De)return Qe;return Qe}function hi(fe){return gu(fe)?rp(fe):i0(fe)}function Ca(fe){return gu(fe)?Yd(fe):u0(fe)}function $d(fe){for(var De=fe.length;De--&&wa.test(fe.charAt(De)););return De}var np=Hf(Ju);function rp(fe){for(var De=ns.lastIndex=0;ns.test(fe);)++De;return De}function Yd(fe){return fe.match(ns)||[]}function d0(fe){return fe.match(rs)||[]}var h0=function fe(De){De=De==null?Pn:Va.defaults(Pn.Object(),De,Va.pick(Pn,kf));var Ce=De.Array,Qe=De.Date,vt=De.Error,Pt=De.Function,Un=De.Math,an=De.Object,Pi=De.RegExp,ap=De.String,ra=De.TypeError,is=Ce.prototype,v0=Pt.prototype,Fo=an.prototype,Kf=De["__core-js_shared__"],us=v0.toString,Qt=Fo.hasOwnProperty,ip=0,Aa=function(){var f=/[^.]+$/.exec(Kf&&Kf.keys&&Kf.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Tr=Fo.toString,Ho=us.call(an),Kd=Pn._,Xf=Pi("^"+us.call(Qt).replace(gr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eo=Fg?De.Buffer:t,vi=De.Symbol,$a=De.Uint8Array,Xd=eo?eo.allocUnsafe:t,to=tp(an.getPrototypeOf,an),no=an.create,Wd=Fo.propertyIsEnumerable,Cr=is.splice,ro=vi?vi.isConcatSpreadable:t,gi=vi?vi.iterator:t,pi=vi?vi.toStringTag:t,ao=function(){try{var f=ei(an,"defineProperty");return f({},"",{}),f}catch{}}(),Ra=De.clearTimeout!==Pn.clearTimeout&&De.clearTimeout,Da=Qe&&Qe.now!==Pn.Date.now&&Qe.now,io=De.setTimeout!==Pn.setTimeout&&De.setTimeout,Oa=Un.ceil,Ma=Un.floor,Ui=an.getOwnPropertySymbols,up=eo?eo.isBuffer:t,Wf=De.isFinite,Zd=is.join,Ar=tp(an.keys,an),Ut=Un.max,St=Un.min,Ya=Qe.now,mi=De.parseInt,Zf=Un.random,uo=is.reverse,Qf=ei(De,"DataView"),Go=ei(De,"Map"),oo=ei(De,"Promise"),yi=ei(De,"Set"),Fi=ei(De,"WeakMap"),Hi=ei(an,"create"),os=Fi&&new Fi,mu={},op=Gr(Qf),jf=Gr(Go),lp=Gr(oo),ls=Gr(yi),sp=Gr(Fi),Gi=vi?vi.prototype:t,qi=Gi?Gi.valueOf:t,ss=Gi?Gi.toString:t;function G(f){if(Ln(f)&&!At(f)&&!(f instanceof Rt)){if(f instanceof aa)return f;if(Qt.call(f,"__wrapped__"))return Ec(f)}return new aa(f)}var Vi=function(){function f(){}return function(g){if(!En(g))return{};if(no)return no(g);f.prototype=g;var w=new f;return f.prototype=t,w}}();function fs(){}function aa(f,g){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=t}G.templateSettings={escape:vn,evaluate:qn,interpolate:Bn,variable:"",imports:{_:G}},G.prototype=fs.prototype,G.prototype.constructor=G,aa.prototype=Vi(fs.prototype),aa.prototype.constructor=aa;function Rt(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function fp(){var f=new Rt(this.__wrapped__);return f.__actions__=Rr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Rr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Rr(this.__views__),f}function qo(){if(this.__filtered__){var f=new Rt(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function Jf(){var f=this.__wrapped__.value(),g=this.__dir__,w=At(f),O=g<0,z=w?f.length:0,$=Bu(0,z,this.__views__),J=$.start,re=$.end,ve=re-J,ke=O?re:J-1,ze=this.__iteratees__,Ue=ze.length,We=0,it=St(ve,this.__takeCount__);if(!w||!O&&z==ve&&it==ve)return fc(f,this.__actions__);var yt=[];e:for(;ve--&&We<it;){ke+=g;for(var kt=-1,bt=f[ke];++kt<Ue;){var Ht=ze[kt],$t=Ht.iteratee,ii=Ht.type,pa=$t(bt);if(ii==ee)bt=pa;else if(!pa){if(ii==K)continue e;break e}}yt[We++]=bt}return yt}Rt.prototype=Vi(fs.prototype),Rt.prototype.constructor=Rt;function yu(f){var g=-1,w=f==null?0:f.length;for(this.clear();++g<w;){var O=f[g];this.set(O[0],O[1])}}function Qd(){this.__data__=Hi?Hi(null):{},this.size=0}function jd(f){var g=this.has(f)&&delete this.__data__[f];return this.size-=g?1:0,g}function Ba(f){var g=this.__data__;if(Hi){var w=g[f];return w===h?t:w}return Qt.call(g,f)?g[f]:t}function bi(f){var g=this.__data__;return Hi?g[f]!==t:Qt.call(g,f)}function bu(f,g){var w=this.__data__;return this.size+=this.has(f)?0:1,w[f]=Hi&&g===t?h:g,this}yu.prototype.clear=Qd,yu.prototype.delete=jd,yu.prototype.get=Ba,yu.prototype.has=bi,yu.prototype.set=bu;function wi(f){var g=-1,w=f==null?0:f.length;for(this.clear();++g<w;){var O=f[g];this.set(O[0],O[1])}}function wu(){this.__data__=[],this.size=0}function $i(f){var g=this.__data__,w=so(g,f);if(w<0)return!1;var O=g.length-1;return w==O?g.pop():Cr.call(g,w,1),--this.size,!0}function jn(f){var g=this.__data__,w=so(g,f);return w<0?t:g[w][1]}function ec(f){return so(this.__data__,f)>-1}function g0(f,g){var w=this.__data__,O=so(w,f);return O<0?(++this.size,w.push([f,g])):w[O][1]=g,this}wi.prototype.clear=wu,wi.prototype.delete=$i,wi.prototype.get=jn,wi.prototype.has=ec,wi.prototype.set=g0;function Yi(f){var g=-1,w=f==null?0:f.length;for(this.clear();++g<w;){var O=f[g];this.set(O[0],O[1])}}function p0(){this.size=0,this.__data__={hash:new yu,map:new(Go||wi),string:new yu}}function Jn(f){var g=ll(this,f).delete(f);return this.size-=g?1:0,g}function Jd(f){return ll(this,f).get(f)}function cs(f){return ll(this,f).has(f)}function ds(f,g){var w=ll(this,f),O=w.size;return w.set(f,g),this.size+=w.size==O?0:1,this}Yi.prototype.clear=p0,Yi.prototype.delete=Jn,Yi.prototype.get=Jd,Yi.prototype.has=cs,Yi.prototype.set=ds;function Ki(f){var g=-1,w=f==null?0:f.length;for(this.__data__=new Yi;++g<w;)this.add(f[g])}function Vo(f){return this.__data__.set(f,h),this}function $o(f){return this.__data__.has(f)}Ki.prototype.add=Ki.prototype.push=Vo,Ki.prototype.has=$o;function Ka(f){var g=this.__data__=new wi(f);this.size=g.size}function cp(){this.__data__=new wi,this.size=0}function m0(f){var g=this.__data__,w=g.delete(f);return this.size=g.size,w}function dp(f){return this.__data__.get(f)}function lo(f){return this.__data__.has(f)}function eh(f,g){var w=this.__data__;if(w instanceof wi){var O=w.__data__;if(!Go||O.length<i-1)return O.push([f,g]),this.size=++w.size,this;w=this.__data__=new Yi(O)}return w.set(f,g),this.size=w.size,this}Ka.prototype.clear=cp,Ka.prototype.delete=m0,Ka.prototype.get=dp,Ka.prototype.has=lo,Ka.prototype.set=eh;function hs(f,g){var w=At(f),O=!w&&zu(f),z=!w&&!O&&Iu(f),$=!w&&!O&&!z&&ai(f),J=w||O||z||$,re=J?vu(f.length,ap):[],ve=re.length;for(var ke in f)(g||Qt.call(f,ke))&&!(J&&(ke=="length"||z&&(ke=="offset"||ke=="parent")||$&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||ti(ke,ve)))&&re.push(ke);return re}function th(f){var g=f.length;return g?f[sc(0,g-1)]:t}function Eu(f,g){return Os(Rr(f),fo(g,0,f.length))}function Bt(f){return Os(Rr(f))}function jt(f,g,w){(w!==t&&!ka(f[g],w)||w===t&&!(g in f))&&ia(f,g,w)}function bn(f,g,w){var O=f[g];(!(Qt.call(f,g)&&ka(O,w))||w===t&&!(g in f))&&ia(f,g,w)}function so(f,g){for(var w=f.length;w--;)if(ka(f[w][0],g))return w;return-1}function Yo(f,g,w,O){return Tu(f,function(z,$,J){g(O,z,w(z),J)}),O}function Su(f,g){return f&&Wa(g,tr(g),f)}function tc(f,g){return f&&Wa(g,Mr(g),f)}function ia(f,g,w){g=="__proto__"&&ao?ao(f,g,{configurable:!0,enumerable:!0,value:w,writable:!0}):f[g]=w}function xu(f,g){for(var w=-1,O=g.length,z=Ce(O),$=f==null;++w<O;)z[w]=$?t:El(f,g[w]);return z}function fo(f,g,w){return f===f&&(w!==t&&(f=f<=w?f:w),g!==t&&(f=f>=g?f:g)),f}function Kt(f,g,w,O,z,$){var J,re=g&m,ve=g&b,ke=g&E;if(w&&(J=z?w(f,O,z,$):w(f)),J!==t)return J;if(!En(f))return f;var ze=At(f);if(ze){if(J=go(f),!re)return Rr(f,J)}else{var Ue=Yn(f),We=Ue==_e||Ue==He;if(Iu(f))return wh(f,re);if(Ue==ht||Ue==me||We&&!z){if(J=ve||We?{}:Hr(f),!re)return ve?Ss(f,tc(J,f)):Op(f,Su(J,f))}else{if(!nn[Ue])return z?f:{};J=Bp(f,Ue,re)}}$||($=new Ka);var it=$.get(f);if(it)return it;$.set(f,J),Oi(f)?f.forEach(function(bt){J.add(Kt(bt,g,w,bt,f,$))}):gm(f)&&f.forEach(function(bt,Ht){J.set(Ht,Kt(bt,g,w,Ht,f,$))});var yt=ke?ve?Cs:Ti:ve?Mr:tr,kt=ze?t:yt(f);return Ta(kt||f,function(bt,Ht){kt&&(Ht=bt,bt=f[Ht]),bn(J,Ht,Kt(bt,g,w,Ht,f,$))}),J}function nh(f){var g=tr(f);return function(w){return nc(w,f,g)}}function nc(f,g,w){var O=w.length;if(f==null)return!O;for(f=an(f);O--;){var z=w[O],$=g[z],J=f[z];if(J===t&&!(z in f)||!$(J))return!1}return!0}function rh(f,g,w){if(typeof f!="function")throw new ra(l);return yr(function(){f.apply(t,w)},g)}function Ko(f,g,w,O){var z=-1,$=Pf,J=!0,re=f.length,ve=[],ke=g.length;if(!re)return ve;w&&(g=yn(g,ta(w))),O?($=Ud,J=!1):g.length>=i&&($=Io,J=!1,g=new Ki(g));e:for(;++z<re;){var ze=f[z],Ue=w==null?ze:w(ze);if(ze=O||ze!==0?ze:0,J&&Ue===Ue){for(var We=ke;We--;)if(g[We]===Ue)continue e;ve.push(ze)}else $(g,Ue,O)||ve.push(ze)}return ve}var Tu=Th(Na),rc=Th(Xa,!0);function ah(f,g){var w=!0;return Tu(f,function(O,z,$){return w=!!g(O,z,$),w}),w}function Xo(f,g,w){for(var O=-1,z=f.length;++O<z;){var $=f[O],J=g($);if(J!=null&&(re===t?J===J&&!va(J):w(J,re)))var re=J,ve=$}return ve}function Ur(f,g,w,O){var z=f.length;for(w=Ot(w),w<0&&(w=-w>z?0:z+w),O=O===t||O>z?z:Ot(O),O<0&&(O+=z),O=w>O?0:mv(O);w<O;)f[w++]=g;return f}function Fn(f,g){var w=[];return Tu(f,function(O,z,$){g(O,z,$)&&w.push(O)}),w}function $n(f,g,w,O,z){var $=-1,J=f.length;for(w||(w=_p),z||(z=[]);++$<J;){var re=f[$];g>0&&w(re)?g>1?$n(re,g-1,w,O,z):Ii(z,re):O||(z[z.length]=re)}return z}var co=Ch(),vs=Ch(!0);function Na(f,g){return f&&co(f,g,tr)}function Xa(f,g){return f&&vs(f,g,tr)}function ho(f,g){return di(g,function(w){return au(f[w])})}function Xi(f,g){g=Zi(g,f);for(var w=0,O=g.length;f!=null&&w<O;)f=f[Dr(g[w++])];return w&&w==O?f:t}function ac(f,g,w){var O=g(f);return At(f)?O:Ii(O,w(f))}function pr(f){return f==null?f===t?nt:Ct:pi&&pi in an(f)?Ds(f):la(f)}function ic(f,g){return f>g}function hp(f,g){return f!=null&&Qt.call(f,g)}function vp(f,g){return f!=null&&g in an(f)}function gp(f,g,w){return f>=St(g,w)&&f<Ut(g,w)}function uc(f,g,w){for(var O=w?Ud:Pf,z=f[0].length,$=f.length,J=$,re=Ce($),ve=1/0,ke=[];J--;){var ze=f[J];J&&g&&(ze=yn(ze,ta(g))),ve=St(ze.length,ve),re[J]=!w&&(g||z>=120&&ze.length>=120)?new Ki(J&&ze):t}ze=f[0];var Ue=-1,We=re[0];e:for(;++Ue<z&&ke.length<ve;){var it=ze[Ue],yt=g?g(it):it;if(it=w||it!==0?it:0,!(We?Io(We,yt):O(ke,yt,w))){for(J=$;--J;){var kt=re[J];if(!(kt?Io(kt,yt):O(f[J],yt,w)))continue e}We&&We.push(yt),ke.push(it)}}return ke}function ih(f,g,w,O){return Na(f,function(z,$,J){g(O,w(z),$,J)}),O}function Wo(f,g,w){g=Zi(g,f),f=_h(f,g);var O=f==null?f:f[Dr(Or(g))];return O==null?t:Pr(O,f,w)}function pp(f){return Ln(f)&&pr(f)==me}function mp(f){return Ln(f)&&pr(f)==V}function yp(f){return Ln(f)&&pr(f)==de}function Zo(f,g,w,O,z){return f===g?!0:f==null||g==null||!Ln(f)&&!Ln(g)?f!==f&&g!==g:uh(f,g,w,O,Zo,z)}function uh(f,g,w,O,z,$){var J=At(f),re=At(g),ve=J?ye:Yn(f),ke=re?ye:Yn(g);ve=ve==me?ht:ve,ke=ke==me?ht:ke;var ze=ve==ht,Ue=ke==ht,We=ve==ke;if(We&&Iu(f)){if(!Iu(g))return!1;J=!0,ze=!1}if(We&&!ze)return $||($=new Ka),J||ai(f)?Mu(f,g,w,O,z,$):mr(f,g,ve,w,O,z,$);if(!(w&S)){var it=ze&&Qt.call(f,"__wrapped__"),yt=Ue&&Qt.call(g,"__wrapped__");if(it||yt){var kt=it?f.value():f,bt=yt?g.value():g;return $||($=new Ka),z(kt,bt,w,O,$)}}return We?($||($=new Ka),yc(f,g,w,O,z,$)):!1}function bp(f){return Ln(f)&&Yn(f)==Ge}function oc(f,g,w,O){var z=w.length,$=z,J=!O;if(f==null)return!$;for(f=an(f);z--;){var re=w[z];if(J&&re[2]?re[1]!==f[re[0]]:!(re[0]in f))return!1}for(;++z<$;){re=w[z];var ve=re[0],ke=f[ve],ze=re[1];if(J&&re[2]){if(ke===t&&!(ve in f))return!1}else{var Ue=new Ka;if(O)var We=O(ke,ze,ve,f,g,Ue);if(!(We===t?Zo(ze,ke,S|A,O,Ue):We))return!1}}return!0}function oh(f){if(!En(f)||Bh(f))return!1;var g=au(f)?Xf:Zu;return g.test(Gr(f))}function wp(f){return Ln(f)&&pr(f)==je}function Ep(f){return Ln(f)&&Yn(f)==Ze}function y0(f){return Ln(f)&&Nc(f.length)&&!!rn[pr(f)]}function lh(f){return typeof f=="function"?f:f==null?Xt:typeof f=="object"?At(f)?lc(f[0],f[1]):sh(f):yw(f)}function Cu(f){if(!_n(f))return Ar(f);var g=[];for(var w in an(f))Qt.call(f,w)&&w!="constructor"&&g.push(w);return g}function Sp(f){if(!En(f))return Kn(f);var g=_n(f),w=[];for(var O in f)O=="constructor"&&(g||!Qt.call(f,O))||w.push(O);return w}function Qo(f,g){return f<g}function gs(f,g){var w=-1,O=Dt(f)?Ce(f.length):[];return Tu(f,function(z,$,J){O[++w]=g(z,$,J)}),O}function sh(f){var g=Rs(f);return g.length==1&&g[0][2]?Lp(g[0][0],g[0][1]):function(w){return w===f||oc(w,f,g)}}function lc(f,g){return sl(f)&&Nh(g)?Lp(Dr(f),g):function(w){var O=El(w,f);return O===t&&O===g?Ev(w,f):Zo(g,O,S|A)}}function ps(f,g,w,O,z){f!==g&&co(g,function($,J){if(z||(z=new Ka),En($))xp(f,g,J,w,ps,O,z);else{var re=O?O(kh(f,J),$,J+"",f,g,z):t;re===t&&(re=$),jt(f,J,re)}},Mr)}function xp(f,g,w,O,z,$,J){var re=kh(f,w),ve=kh(g,w),ke=J.get(ve);if(ke){jt(f,w,ke);return}var ze=$?$(re,ve,w+"",f,g,J):t,Ue=ze===t;if(Ue){var We=At(ve),it=!We&&Iu(ve),yt=!We&&!it&&ai(ve);ze=ve,We||it||yt?At(re)?ze=re:Rn(re)?ze=Rr(re):it?(Ue=!1,ze=wh(ve,!0)):yt?(Ue=!1,ze=Eh(ve,!0)):ze=[]:wr(ve)||zu(ve)?(ze=re,zu(re)?ze=yl(re):(!En(re)||au(re))&&(ze=Hr(ve))):Ue=!1}Ue&&(J.set(ve,ze),z(ze,ve,O,$,J),J.delete(ve)),jt(f,w,ze)}function fh(f,g){var w=f.length;if(w)return g+=g<0?w:0,ti(g,w)?f[g]:t}function ch(f,g,w){g.length?g=yn(g,function($){return At($)?function(J){return Xi(J,$.length===1?$[0]:$)}:$}):g=[Xt];var O=-1;g=yn(g,ta(ft()));var z=gs(f,function($,J,re){var ve=yn(g,function(ke){return ke($)});return{criteria:ve,index:++O,value:$}});return Wg(z,function($,J){return ir($,J,w)})}function dh(f,g){return hh(f,g,function(w,O){return Ev(f,O)})}function hh(f,g,w){for(var O=-1,z=g.length,$={};++O<z;){var J=g[O],re=Xi(f,J);w(re,J)&&jo($,Zi(J,f),re)}return $}function Tp(f){return function(g){return Xi(g,f)}}function ms(f,g,w,O){var z=O?Gd:Lo,$=-1,J=g.length,re=f;for(f===g&&(g=Rr(g)),w&&(re=yn(f,ta(w)));++$<J;)for(var ve=0,ke=g[$],ze=w?w(ke):ke;(ve=z(re,ze,ve,O))>-1;)re!==f&&Cr.call(re,ve,1),Cr.call(f,ve,1);return f}function vh(f,g){for(var w=f?g.length:0,O=w-1;w--;){var z=g[w];if(w==O||z!==$){var $=z;ti(z)?Cr.call(f,z,1):Ei(f,z)}}return f}function sc(f,g){return f+Ma(Zf()*(g-f+1))}function b0(f,g,w,O){for(var z=-1,$=Ut(Oa((g-f)/(w||1)),0),J=Ce($);$--;)J[O?$:++z]=f,f+=w;return J}function ys(f,g){var w="";if(!f||g<1||g>Q)return w;do g%2&&(w+=f),g=Ma(g/2),g&&(f+=f);while(g);return w}function Mt(f,g){return sa(Ci(f,g,Xt),f+"")}function Cp(f){return th(ga(f))}function gh(f,g){var w=ga(f);return Os(w,fo(g,0,w.length))}function jo(f,g,w,O){if(!En(f))return f;g=Zi(g,f);for(var z=-1,$=g.length,J=$-1,re=f;re!=null&&++z<$;){var ve=Dr(g[z]),ke=w;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return f;if(z!=J){var ze=re[ve];ke=O?O(ze,ve,re):t,ke===t&&(ke=En(ze)?ze:ti(g[z+1])?[]:{})}bn(re,ve,ke),re=re[ve]}return f}var ph=os?function(f,g){return os.set(f,g),f}:Xt,w0=ao?function(f,g){return ao(f,"toString",{configurable:!0,enumerable:!1,value:Je(g),writable:!0})}:Xt;function E0(f){return Os(ga(f))}function ua(f,g,w){var O=-1,z=f.length;g<0&&(g=-g>z?0:z+g),w=w>z?z:w,w<0&&(w+=z),z=g>w?0:w-g>>>0,g>>>=0;for(var $=Ce(z);++O<z;)$[O]=f[O+g];return $}function bs(f,g){var w;return Tu(f,function(O,z,$){return w=g(O,z,$),!w}),!!w}function Jo(f,g,w){var O=0,z=f==null?O:f.length;if(typeof g=="number"&&g===g&&z<=ce){for(;O<z;){var $=O+z>>>1,J=f[$];J!==null&&!va(J)&&(w?J<=g:J<g)?O=$+1:z=$}return z}return el(f,g,Xt,w)}function el(f,g,w,O){var z=0,$=f==null?0:f.length;if($===0)return 0;g=w(g);for(var J=g!==g,re=g===null,ve=va(g),ke=g===t;z<$;){var ze=Ma((z+$)/2),Ue=w(f[ze]),We=Ue!==t,it=Ue===null,yt=Ue===Ue,kt=va(Ue);if(J)var bt=O||yt;else ke?bt=yt&&(O||We):re?bt=yt&&We&&(O||!it):ve?bt=yt&&We&&!it&&(O||!kt):it||kt?bt=!1:bt=O?Ue<=g:Ue<g;bt?z=ze+1:$=ze}return St($,ne)}function mh(f,g){for(var w=-1,O=f.length,z=0,$=[];++w<O;){var J=f[w],re=g?g(J):J;if(!w||!ka(re,ve)){var ve=re;$[z++]=J===0?0:J}}return $}function yh(f){return typeof f=="number"?f:va(f)?U:+f}function Nn(f){if(typeof f=="string")return f;if(At(f))return yn(f,Nn)+"";if(va(f))return ss?ss.call(f):"";var g=f+"";return g=="0"&&1/f==-1/0?"-0":g}function Fr(f,g,w){var O=-1,z=Pf,$=f.length,J=!0,re=[],ve=re;if(w)J=!1,z=Ud;else if($>=i){var ke=g?null:Ou(f);if(ke)return Yf(ke);J=!1,z=Io,ve=new Ki}else ve=g?[]:re;e:for(;++O<$;){var ze=f[O],Ue=g?g(ze):ze;if(ze=w||ze!==0?ze:0,J&&Ue===Ue){for(var We=ve.length;We--;)if(ve[We]===Ue)continue e;g&&ve.push(Ue),re.push(ze)}else z(ve,Ue,w)||(ve!==re&&ve.push(Ue),re.push(ze))}return re}function Ei(f,g){return g=Zi(g,f),f=_h(f,g),f==null||delete f[Dr(Or(g))]}function Au(f,g,w,O){return jo(f,g,w(Xi(f,g)),O)}function tl(f,g,w,O){for(var z=f.length,$=O?z:-1;(O?$--:++$<z)&&g(f[$],$,f););return w?ua(f,O?0:$,O?$+1:z):ua(f,O?$+1:0,O?z:$)}function fc(f,g){var w=f;return w instanceof Rt&&(w=w.value()),Fd(g,function(O,z){return z.func.apply(z.thisArg,Ii([O],z.args))},w)}function cc(f,g,w){var O=f.length;if(O<2)return O?Fr(f[0]):[];for(var z=-1,$=Ce(O);++z<O;)for(var J=f[z],re=-1;++re<O;)re!=z&&($[z]=Ko($[z]||J,f[re],g,w));return Fr($n($,1),g,w)}function bh(f,g,w){for(var O=-1,z=f.length,$=g.length,J={};++O<z;){var re=O<$?g[O]:t;w(J,f[O],re)}return J}function Wi(f){return Rn(f)?f:[]}function nl(f){return typeof f=="function"?f:Xt}function Zi(f,g){return At(f)?f:sl(f,g)?[f]:Ai(Jt(f))}var Ap=Mt;function Qi(f,g,w){var O=f.length;return w=w===t?O:w,!g&&w>=O?f:ua(f,g,w)}var ws=Ra||function(f){return Pn.clearTimeout(f)};function wh(f,g){if(g)return f.slice();var w=f.length,O=Xd?Xd(w):new f.constructor(w);return f.copy(O),O}function Es(f){var g=new f.constructor(f.byteLength);return new $a(g).set(new $a(f)),g}function Rp(f,g){var w=g?Es(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.byteLength)}function Dp(f){var g=new f.constructor(f.source,xf.exec(f));return g.lastIndex=f.lastIndex,g}function S0(f){return qi?an(qi.call(f)):{}}function Eh(f,g){var w=g?Es(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.length)}function er(f,g){if(f!==g){var w=f!==t,O=f===null,z=f===f,$=va(f),J=g!==t,re=g===null,ve=g===g,ke=va(g);if(!re&&!ke&&!$&&f>g||$&&J&&ve&&!re&&!ke||O&&J&&ve||!w&&ve||!z)return 1;if(!O&&!$&&!ke&&f<g||ke&&w&&z&&!O&&!$||re&&w&&z||!J&&z||!ve)return-1}return 0}function ir(f,g,w){for(var O=-1,z=f.criteria,$=g.criteria,J=z.length,re=w.length;++O<J;){var ve=er(z[O],$[O]);if(ve){if(O>=re)return ve;var ke=w[O];return ve*(ke=="desc"?-1:1)}}return f.index-g.index}function Sh(f,g,w,O){for(var z=-1,$=f.length,J=w.length,re=-1,ve=g.length,ke=Ut($-J,0),ze=Ce(ve+ke),Ue=!O;++re<ve;)ze[re]=g[re];for(;++z<J;)(Ue||z<$)&&(ze[w[z]]=f[z]);for(;ke--;)ze[re++]=f[z++];return ze}function xh(f,g,w,O){for(var z=-1,$=f.length,J=-1,re=w.length,ve=-1,ke=g.length,ze=Ut($-re,0),Ue=Ce(ze+ke),We=!O;++z<ze;)Ue[z]=f[z];for(var it=z;++ve<ke;)Ue[it+ve]=g[ve];for(;++J<re;)(We||z<$)&&(Ue[it+w[J]]=f[z++]);return Ue}function Rr(f,g){var w=-1,O=f.length;for(g||(g=Ce(O));++w<O;)g[w]=f[w];return g}function Wa(f,g,w,O){var z=!w;w||(w={});for(var $=-1,J=g.length;++$<J;){var re=g[$],ve=O?O(w[re],f[re],re,w,f):t;ve===t&&(ve=f[re]),z?ia(w,re,ve):bn(w,re,ve)}return w}function Op(f,g){return Wa(f,bc(f),g)}function Ss(f,g){return Wa(f,Oh(f),g)}function rl(f,g){return function(w,O){var z=At(w)?n0:Yo,$=g?g():{};return z(w,f,ft(O,2),$)}}function vo(f){return Mt(function(g,w){var O=-1,z=w.length,$=z>1?w[z-1]:t,J=z>2?w[2]:t;for($=f.length>3&&typeof $=="function"?(z--,$):t,J&&ur(w[0],w[1],J)&&($=z<3?t:$,z=1),g=an(g);++O<z;){var re=w[O];re&&f(g,re,O,$)}return g})}function Th(f,g){return function(w,O){if(w==null)return w;if(!Dt(w))return f(w,O);for(var z=w.length,$=g?z:-1,J=an(w);(g?$--:++$<z)&&O(J[$],$,J)!==!1;);return w}}function Ch(f){return function(g,w,O){for(var z=-1,$=an(g),J=O(g),re=J.length;re--;){var ve=J[f?re:++z];if(w($[ve],ve,$)===!1)break}return g}}function Ah(f,g,w){var O=g&T,z=al(f);function $(){var J=this&&this!==Pn&&this instanceof $?z:f;return J.apply(O?w:this,arguments)}return $}function dc(f){return function(g){g=Jt(g);var w=gu(g)?Ca(g):t,O=w?w[0]:g.charAt(0),z=w?Qi(w,1).join(""):g.slice(1);return O[f]()+z}}function Ru(f){return function(g){return Fd(Dn(Cv(g).replace(Ig,"")),f,"")}}function al(f){return function(){var g=arguments;switch(g.length){case 0:return new f;case 1:return new f(g[0]);case 2:return new f(g[0],g[1]);case 3:return new f(g[0],g[1],g[2]);case 4:return new f(g[0],g[1],g[2],g[3]);case 5:return new f(g[0],g[1],g[2],g[3],g[4]);case 6:return new f(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new f(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var w=Vi(f.prototype),O=f.apply(w,g);return En(O)?O:w}}function Rh(f,g,w){var O=al(f);function z(){for(var $=arguments.length,J=Ce($),re=$,ve=oa(z);re--;)J[re]=arguments[re];var ke=$<3&&J[0]!==ve&&J[$-1]!==ve?[]:pu(J,ve);if($-=ke.length,$<w)return Du(f,g,xs,z.placeholder,t,J,ke,t,t,w-$);var ze=this&&this!==Pn&&this instanceof z?O:f;return Pr(ze,this,J)}return z}function hc(f){return function(g,w,O){var z=an(g);if(!Dt(g)){var $=ft(w,3);g=tr(g),w=function(re){return $(z[re],re,z)}}var J=f(g,w,O);return J>-1?z[$?g[J]:J]:t}}function vc(f){return xi(function(g){var w=g.length,O=w,z=aa.prototype.thru;for(f&&g.reverse();O--;){var $=g[O];if(typeof $!="function")throw new ra(l);if(z&&!J&&Ja($)=="wrapper")var J=new aa([],!0)}for(O=J?O:w;++O<w;){$=g[O];var re=Ja($),ve=re=="wrapper"?As($):t;ve&&wn(ve[0])&&ve[1]==(_|D|k|I)&&!ve[4].length&&ve[9]==1?J=J[Ja(ve[0])].apply(J,ve[3]):J=$.length==1&&wn($)?J[re]():J.thru($)}return function(){var ke=arguments,ze=ke[0];if(J&&ke.length==1&&At(ze))return J.plant(ze).value();for(var Ue=0,We=w?g[Ue].apply(this,ke):ze;++Ue<w;)We=g[Ue].call(this,We);return We}})}function xs(f,g,w,O,z,$,J,re,ve,ke){var ze=g&_,Ue=g&T,We=g&C,it=g&(D|M),yt=g&B,kt=We?t:al(f);function bt(){for(var Ht=arguments.length,$t=Ce(Ht),ii=Ht;ii--;)$t[ii]=arguments[ii];if(it)var pa=oa(bt),ui=s0($t,pa);if(O&&($t=Sh($t,O,z,it)),$&&($t=xh($t,$,J,it)),Ht-=ui,it&&Ht<ke){var nr=pu($t,pa);return Du(f,g,xs,bt.placeholder,w,$t,nr,re,ve,ke-Ht)}var ou=Ue?w:this,So=We?ou[f]:f;return Ht=$t.length,re?$t=Pp($t,re):yt&&Ht>1&&$t.reverse(),ze&&ve<Ht&&($t.length=ve),this&&this!==Pn&&this instanceof bt&&(So=kt||al(So)),So.apply(ou,$t)}return bt}function gc(f,g){return function(w,O){return ih(w,f,g(O),{})}}function Ts(f,g){return function(w,O){var z;if(w===t&&O===t)return g;if(w!==t&&(z=w),O!==t){if(z===t)return O;typeof w=="string"||typeof O=="string"?(w=Nn(w),O=Nn(O)):(w=yh(w),O=yh(O)),z=f(w,O)}return z}}function Za(f){return xi(function(g){return g=yn(g,ta(ft())),Mt(function(w){var O=this;return f(g,function(z){return Pr(z,O,w)})})})}function il(f,g){g=g===t?" ":Nn(g);var w=g.length;if(w<2)return w?ys(g,f):g;var O=ys(g,Oa(f/hi(g)));return gu(g)?Qi(Ca(O),0,f).join(""):O.slice(0,f)}function x0(f,g,w,O){var z=g&T,$=al(f);function J(){for(var re=-1,ve=arguments.length,ke=-1,ze=O.length,Ue=Ce(ze+ve),We=this&&this!==Pn&&this instanceof J?$:f;++ke<ze;)Ue[ke]=O[ke];for(;ve--;)Ue[ke++]=arguments[++re];return Pr(We,z?w:this,Ue)}return J}function Dh(f){return function(g,w,O){return O&&typeof O!="number"&&ur(g,w,O)&&(w=O=t),g=iu(g),w===t?(w=g,g=0):w=iu(w),O=O===t?g<w?1:-1:iu(O),b0(g,w,O,f)}}function ul(f){return function(g,w){return typeof g=="string"&&typeof w=="string"||(g=lr(g),w=lr(w)),f(g,w)}}function Du(f,g,w,O,z,$,J,re,ve,ke){var ze=g&D,Ue=ze?J:t,We=ze?t:J,it=ze?$:t,yt=ze?t:$;g|=ze?k:L,g&=~(ze?L:k),g&R||(g&=-4);var kt=[f,g,z,it,Ue,yt,We,re,ve,ke],bt=w.apply(t,kt);return wn(f)&&wc(bt,kt),bt.placeholder=O,Lh(bt,f,g)}function Qa(f){var g=Un[f];return function(w,O){if(w=lr(w),O=O==null?0:St(Ot(O),292),O&&Wf(w)){var z=(Jt(w)+"e").split("e"),$=g(z[0]+"e"+(+z[1]+O));return z=(Jt($)+"e").split("e"),+(z[0]+"e"+(+z[1]-O))}return g(w)}}var Ou=yi&&1/Yf(new yi([,-0]))[1]==Z?function(f){return new yi(f)}:i1;function Si(f){return function(g){var w=Yn(g);return w==Ge?$f(g):w==Ze?f0(g):l0(g,f(g))}}function ja(f,g,w,O,z,$,J,re){var ve=g&C;if(!ve&&typeof f!="function")throw new ra(l);var ke=O?O.length:0;if(ke||(g&=-97,O=z=t),J=J===t?J:Ut(Ot(J),0),re=re===t?re:Ot(re),ke-=z?z.length:0,g&L){var ze=O,Ue=z;O=z=t}var We=ve?t:As(f),it=[f,g,w,O,z,ze,Ue,$,J,re];if(We&&Ip(it,We),f=it[0],g=it[1],w=it[2],O=it[3],z=it[4],re=it[9]=it[9]===t?ve?0:f.length:Ut(it[9]-ke,0),!re&&g&(D|M)&&(g&=-25),!g||g==T)var yt=Ah(f,g,w);else g==D||g==M?yt=Rh(f,g,re):(g==k||g==(T|k))&&!z.length?yt=x0(f,g,w,O):yt=xs.apply(t,it);var kt=We?ph:wc;return Lh(kt(yt,it),f,g)}function pc(f,g,w,O){return f===t||ka(f,Fo[w])&&!Qt.call(O,w)?g:f}function ol(f,g,w,O,z,$){return En(f)&&En(g)&&($.set(g,f),ps(f,g,t,ol,$),$.delete(g)),f}function mc(f){return wr(f)?t:f}function Mu(f,g,w,O,z,$){var J=w&S,re=f.length,ve=g.length;if(re!=ve&&!(J&&ve>re))return!1;var ke=$.get(f),ze=$.get(g);if(ke&&ze)return ke==g&&ze==f;var Ue=-1,We=!0,it=w&A?new Ki:t;for($.set(f,g),$.set(g,f);++Ue<re;){var yt=f[Ue],kt=g[Ue];if(O)var bt=J?O(kt,yt,Ue,g,f,$):O(yt,kt,Ue,f,g,$);if(bt!==t){if(bt)continue;We=!1;break}if(it){if(!Hd(g,function(Ht,$t){if(!Io(it,$t)&&(yt===Ht||z(yt,Ht,w,O,$)))return it.push($t)})){We=!1;break}}else if(!(yt===kt||z(yt,kt,w,O,$))){We=!1;break}}return $.delete(f),$.delete(g),We}function mr(f,g,w,O,z,$,J){switch(w){case he:if(f.byteLength!=g.byteLength||f.byteOffset!=g.byteOffset)return!1;f=f.buffer,g=g.buffer;case V:return!(f.byteLength!=g.byteLength||!$(new $a(f),new $a(g)));case Te:case de:case Ye:return ka(+f,+g);case we:return f.name==g.name&&f.message==g.message;case je:case tt:return f==g+"";case Ge:var re=$f;case Ze:var ve=O&S;if(re||(re=Yf),f.size!=g.size&&!ve)return!1;var ke=J.get(f);if(ke)return ke==g;O|=A,J.set(f,g);var ze=Mu(re(f),re(g),O,z,$,J);return J.delete(f),ze;case at:if(qi)return qi.call(f)==qi.call(g)}return!1}function yc(f,g,w,O,z,$){var J=w&S,re=Ti(f),ve=re.length,ke=Ti(g),ze=ke.length;if(ve!=ze&&!J)return!1;for(var Ue=ve;Ue--;){var We=re[Ue];if(!(J?We in g:Qt.call(g,We)))return!1}var it=$.get(f),yt=$.get(g);if(it&&yt)return it==g&&yt==f;var kt=!0;$.set(f,g),$.set(g,f);for(var bt=J;++Ue<ve;){We=re[Ue];var Ht=f[We],$t=g[We];if(O)var ii=J?O($t,Ht,We,g,f,$):O(Ht,$t,We,f,g,$);if(!(ii===t?Ht===$t||z(Ht,$t,w,O,$):ii)){kt=!1;break}bt||(bt=We=="constructor")}if(kt&&!bt){var pa=f.constructor,ui=g.constructor;pa!=ui&&"constructor"in f&&"constructor"in g&&!(typeof pa=="function"&&pa instanceof pa&&typeof ui=="function"&&ui instanceof ui)&&(kt=!1)}return $.delete(f),$.delete(g),kt}function xi(f){return sa(Ci(f,t,ca),f+"")}function Ti(f){return ac(f,tr,bc)}function Cs(f){return ac(f,Mr,Oh)}var As=os?function(f){return os.get(f)}:i1;function Ja(f){for(var g=f.name+"",w=mu[g],O=Qt.call(mu,g)?w.length:0;O--;){var z=w[O],$=z.func;if($==null||$==f)return z.name}return g}function oa(f){var g=Qt.call(G,"placeholder")?G:f;return g.placeholder}function ft(){var f=G.iteratee||qt;return f=f===qt?lh:f,arguments.length?f(arguments[0],arguments[1]):f}function ll(f,g){var w=f.__data__;return ji(g)?w[typeof g=="string"?"string":"hash"]:w.map}function Rs(f){for(var g=tr(f),w=g.length;w--;){var O=g[w],z=f[O];g[w]=[O,z,Nh(z)]}return g}function ei(f,g){var w=Vd(f,g);return oh(w)?w:t}function Ds(f){var g=Qt.call(f,pi),w=f[pi];try{f[pi]=t;var O=!0}catch{}var z=Tr.call(f);return O&&(g?f[pi]=w:delete f[pi]),z}var bc=Ui?function(f){return f==null?[]:(f=an(f),di(Ui(f),function(g){return Wd.call(f,g)}))}:u1,Oh=Ui?function(f){for(var g=[];f;)Ii(g,bc(f)),f=to(f);return g}:u1,Yn=pr;(Qf&&Yn(new Qf(new ArrayBuffer(1)))!=he||Go&&Yn(new Go)!=Ge||oo&&Yn(oo.resolve())!=Ke||yi&&Yn(new yi)!=Ze||Fi&&Yn(new Fi)!=wt)&&(Yn=function(f){var g=pr(f),w=g==ht?f.constructor:t,O=w?Gr(w):"";if(O)switch(O){case op:return he;case jf:return Ge;case lp:return Ke;case ls:return Ze;case sp:return wt}return g});function Bu(f,g,w){for(var O=-1,z=w.length;++O<z;){var $=w[O],J=$.size;switch($.type){case"drop":f+=J;break;case"dropRight":g-=J;break;case"take":g=St(g,f+J);break;case"takeRight":f=Ut(f,g-J);break}}return{start:f,end:g}}function Mp(f){var g=f.match(Vn);return g?g[1].split(Tn):[]}function Mh(f,g,w){g=Zi(g,f);for(var O=-1,z=g.length,$=!1;++O<z;){var J=Dr(g[O]);if(!($=f!=null&&w(f,J)))break;f=f[J]}return $||++O!=z?$:(z=f==null?0:f.length,!!z&&Nc(z)&&ti(J,z)&&(At(f)||zu(f)))}function go(f){var g=f.length,w=new f.constructor(g);return g&&typeof f[0]=="string"&&Qt.call(f,"index")&&(w.index=f.index,w.input=f.input),w}function Hr(f){return typeof f.constructor=="function"&&!_n(f)?Vi(to(f)):{}}function Bp(f,g,w){var O=f.constructor;switch(g){case V:return Es(f);case Te:case de:return new O(+f);case he:return Rp(f,w);case Re:case pe:case Ee:case qe:case Be:case Fe:case ot:case st:case $e:return Eh(f,w);case Ge:return new O;case Ye:case tt:return new O(f);case je:return Dp(f);case Ze:return new O;case at:return S0(f)}}function Np(f,g){var w=g.length;if(!w)return f;var O=w-1;return g[O]=(w>1?"& ":"")+g[O],g=g.join(w>2?", ":" "),f.replace(Zn,`{
/* [wrapped with `+g+`] */
`)}function _p(f){return At(f)||zu(f)||!!(ro&&f&&f[ro])}function ti(f,g){var w=typeof f;return g=g??Q,!!g&&(w=="number"||w!="symbol"&&zi.test(f))&&f>-1&&f%1==0&&f<g}function ur(f,g,w){if(!En(w))return!1;var O=typeof g;return(O=="number"?Dt(w)&&ti(g,w.length):O=="string"&&g in w)?ka(w[g],f):!1}function sl(f,g){if(At(f))return!1;var w=typeof f;return w=="number"||w=="symbol"||w=="boolean"||f==null||va(f)?!0:Wn.test(f)||!ar.test(f)||g!=null&&f in an(g)}function ji(f){var g=typeof f;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?f!=="__proto__":f===null}function wn(f){var g=Ja(f),w=G[g];if(typeof w!="function"||!(g in Rt.prototype))return!1;if(f===w)return!0;var O=As(w);return!!O&&f===O[0]}function Bh(f){return!!Aa&&Aa in f}var kp=Kf?au:o1;function _n(f){var g=f&&f.constructor,w=typeof g=="function"&&g.prototype||Fo;return f===w}function Nh(f){return f===f&&!En(f)}function Lp(f,g){return function(w){return w==null?!1:w[f]===g&&(g!==t||f in an(w))}}function zp(f){var g=Fs(f,function(O){return w.size===d&&w.clear(),O}),w=g.cache;return g}function Ip(f,g){var w=f[1],O=g[1],z=w|O,$=z<(T|C|_),J=O==_&&w==D||O==_&&w==I&&f[7].length<=g[8]||O==(_|I)&&g[7].length<=g[8]&&w==D;if(!($||J))return f;O&T&&(f[2]=g[2],z|=w&T?0:R);var re=g[3];if(re){var ve=f[3];f[3]=ve?Sh(ve,re,g[4]):re,f[4]=ve?pu(f[3],v):g[4]}return re=g[5],re&&(ve=f[5],f[5]=ve?xh(ve,re,g[6]):re,f[6]=ve?pu(f[5],v):g[6]),re=g[7],re&&(f[7]=re),O&_&&(f[8]=f[8]==null?g[8]:St(f[8],g[8])),f[9]==null&&(f[9]=g[9]),f[0]=g[0],f[1]=z,f}function Kn(f){var g=[];if(f!=null)for(var w in an(f))g.push(w);return g}function la(f){return Tr.call(f)}function Ci(f,g,w){return g=Ut(g===t?f.length-1:g,0),function(){for(var O=arguments,z=-1,$=Ut(O.length-g,0),J=Ce($);++z<$;)J[z]=O[g+z];z=-1;for(var re=Ce(g+1);++z<g;)re[z]=O[z];return re[g]=w(J),Pr(f,this,re)}}function _h(f,g){return g.length<2?f:Xi(f,ua(g,0,-1))}function Pp(f,g){for(var w=f.length,O=St(g.length,w),z=Rr(f);O--;){var $=g[O];f[O]=ti($,w)?z[$]:t}return f}function kh(f,g){if(!(g==="constructor"&&typeof f[g]=="function")&&g!="__proto__")return f[g]}var wc=fa(ph),yr=io||function(f,g){return Pn.setTimeout(f,g)},sa=fa(w0);function Lh(f,g,w){var O=g+"";return sa(f,Np(O,zh(Mp(O),w)))}function fa(f){var g=0,w=0;return function(){var O=Ya(),z=X-(O-w);if(w=O,z>0){if(++g>=H)return arguments[0]}else g=0;return f.apply(t,arguments)}}function Os(f,g){var w=-1,O=f.length,z=O-1;for(g=g===t?O:g;++w<g;){var $=sc(w,z),J=f[$];f[$]=f[w],f[w]=J}return f.length=g,f}var Ai=zp(function(f){var g=[];return f.charCodeAt(0)===46&&g.push(""),f.replace(vr,function(w,O,z,$){g.push(z?$.replace(Li,"$1"):O||w)}),g});function Dr(f){if(typeof f=="string"||va(f))return f;var g=f+"";return g=="0"&&1/f==-1/0?"-0":g}function Gr(f){if(f!=null){try{return us.call(f)}catch{}try{return f+""}catch{}}return""}function zh(f,g){return Ta(oe,function(w){var O="_."+w[0];g&w[1]&&!Pf(f,O)&&f.push(O)}),f.sort()}function Ec(f){if(f instanceof Rt)return f.clone();var g=new aa(f.__wrapped__,f.__chain__);return g.__actions__=Rr(f.__actions__),g.__index__=f.__index__,g.__values__=f.__values__,g}function Nu(f,g,w){(w?ur(f,g,w):g===t)?g=1:g=Ut(Ot(g),0);var O=f==null?0:f.length;if(!O||g<1)return[];for(var z=0,$=0,J=Ce(Oa(O/g));z<O;)J[$++]=ua(f,z,z+=g);return J}function Up(f){for(var g=-1,w=f==null?0:f.length,O=0,z=[];++g<w;){var $=f[g];$&&(z[O++]=$)}return z}function fl(){var f=arguments.length;if(!f)return[];for(var g=Ce(f-1),w=arguments[0],O=f;O--;)g[O-1]=arguments[O];return Ii(At(w)?Rr(w):[w],$n(g,1))}var Ms=Mt(function(f,g){return Rn(f)?Ko(f,$n(g,1,Rn,!0)):[]}),Bs=Mt(function(f,g){var w=Or(g);return Rn(w)&&(w=t),Rn(f)?Ko(f,$n(g,1,Rn,!0),ft(w,2)):[]}),cl=Mt(function(f,g){var w=Or(g);return Rn(w)&&(w=t),Rn(f)?Ko(f,$n(g,1,Rn,!0),t,w):[]});function Fp(f,g,w){var O=f==null?0:f.length;return O?(g=w||g===t?1:Ot(g),ua(f,g<0?0:g,O)):[]}function Hp(f,g,w){var O=f==null?0:f.length;return O?(g=w||g===t?1:Ot(g),g=O-g,ua(f,0,g<0?0:g)):[]}function Ns(f,g){return f&&f.length?tl(f,ft(g,3),!0,!0):[]}function Gp(f,g){return f&&f.length?tl(f,ft(g,3),!0):[]}function Sc(f,g,w,O){var z=f==null?0:f.length;return z?(w&&typeof w!="number"&&ur(f,g,w)&&(w=0,O=z),Ur(f,g,w,O)):[]}function Ih(f,g,w){var O=f==null?0:f.length;if(!O)return-1;var z=w==null?0:Ot(w);return z<0&&(z=Ut(O+z,0)),Uf(f,ft(g,3),z)}function qp(f,g,w){var O=f==null?0:f.length;if(!O)return-1;var z=O-1;return w!==t&&(z=Ot(w),z=w<0?Ut(O+z,0):St(z,O-1)),Uf(f,ft(g,3),z,!0)}function ca(f){var g=f==null?0:f.length;return g?$n(f,1):[]}function Ph(f){var g=f==null?0:f.length;return g?$n(f,Z):[]}function _u(f,g){var w=f==null?0:f.length;return w?(g=g===t?1:Ot(g),$n(f,g)):[]}function Vp(f){for(var g=-1,w=f==null?0:f.length,O={};++g<w;){var z=f[g];O[z[0]]=z[1]}return O}function _s(f){return f&&f.length?f[0]:t}function po(f,g,w){var O=f==null?0:f.length;if(!O)return-1;var z=w==null?0:Ot(w);return z<0&&(z=Ut(O+z,0)),Lo(f,g,z)}function $p(f){var g=f==null?0:f.length;return g?ua(f,0,-1):[]}var Uh=Mt(function(f){var g=yn(f,Wi);return g.length&&g[0]===f[0]?uc(g):[]}),Fh=Mt(function(f){var g=Or(f),w=yn(f,Wi);return g===Or(w)?g=t:w.pop(),w.length&&w[0]===f[0]?uc(w,ft(g,2)):[]}),Ji=Mt(function(f){var g=Or(f),w=yn(f,Wi);return g=typeof g=="function"?g:t,g&&w.pop(),w.length&&w[0]===f[0]?uc(w,t,g):[]});function Yp(f,g){return f==null?"":Zd.call(f,g)}function Or(f){var g=f==null?0:f.length;return g?f[g-1]:t}function ks(f,g,w){var O=f==null?0:f.length;if(!O)return-1;var z=O;return w!==t&&(z=Ot(w),z=z<0?Ut(O+z,0):St(z,O-1)),g===g?na(f,g,z):Uf(f,zo,z,!0)}function Cn(f,g){return f&&f.length?fh(f,Ot(g)):t}var T0=Mt(Kp);function Kp(f,g){return f&&f.length&&g&&g.length?ms(f,g):f}function Xp(f,g,w){return f&&f.length&&g&&g.length?ms(f,g,ft(w,2)):f}function C0(f,g,w){return f&&f.length&&g&&g.length?ms(f,g,t,w):f}var A0=xi(function(f,g){var w=f==null?0:f.length,O=xu(f,g);return vh(f,yn(g,function(z){return ti(z,w)?+z:z}).sort(er)),O});function An(f,g){var w=[];if(!(f&&f.length))return w;var O=-1,z=[],$=f.length;for(g=ft(g,3);++O<$;){var J=f[O];g(J,O,f)&&(w.push(J),z.push(O))}return vh(f,z),w}function un(f){return f==null?f:uo.call(f)}function Lt(f,g,w){var O=f==null?0:f.length;return O?(w&&typeof w!="number"&&ur(f,g,w)?(g=0,w=O):(g=g==null?0:Ot(g),w=w===t?O:Ot(w)),ua(f,g,w)):[]}function Gt(f,g){return Jo(f,g)}function dn(f,g,w){return el(f,g,ft(w,2))}function da(f,g){var w=f==null?0:f.length;if(w){var O=Jo(f,g);if(O<w&&ka(f[O],g))return O}return-1}function eu(f,g){return Jo(f,g,!0)}function dl(f,g,w){return el(f,g,ft(w,2),!0)}function Hh(f,g){var w=f==null?0:f.length;if(w){var O=Jo(f,g,!0)-1;if(ka(f[O],g))return O}return-1}function tu(f){return f&&f.length?mh(f):[]}function kn(f,g){return f&&f.length?mh(f,ft(g,2)):[]}function ku(f){var g=f==null?0:f.length;return g?ua(f,1,g):[]}function mo(f,g,w){return f&&f.length?(g=w||g===t?1:Ot(g),ua(f,0,g<0?0:g)):[]}function Gh(f,g,w){var O=f==null?0:f.length;return O?(g=w||g===t?1:Ot(g),g=O-g,ua(f,g<0?0:g,O)):[]}function _a(f,g){return f&&f.length?tl(f,ft(g,3),!1,!0):[]}function hl(f,g){return f&&f.length?tl(f,ft(g,3)):[]}var Ls=Mt(function(f){return Fr($n(f,1,Rn,!0))}),Ri=Mt(function(f){var g=Or(f);return Rn(g)&&(g=t),Fr($n(f,1,Rn,!0),ft(g,2))}),qh=Mt(function(f){var g=Or(f);return g=typeof g=="function"?g:t,Fr($n(f,1,Rn,!0),t,g)});function Vh(f){return f&&f.length?Fr(f):[]}function xc(f,g){return f&&f.length?Fr(f,ft(g,2)):[]}function Tc(f,g){return g=typeof g=="function"?g:t,f&&f.length?Fr(f,t,g):[]}function Di(f){if(!(f&&f.length))return[];var g=0;return f=di(f,function(w){if(Rn(w))return g=Ut(w.length,g),!0}),vu(g,function(w){return yn(f,Ff(w))})}function zs(f,g){if(!(f&&f.length))return[];var w=Di(f);return g==null?w:yn(w,function(O){return Pr(g,t,O)})}var yo=Mt(function(f,g){return Rn(f)?Ko(f,g):[]}),Is=Mt(function(f){return cc(di(f,Rn))}),$h=Mt(function(f){var g=Or(f);return Rn(g)&&(g=t),cc(di(f,Rn),ft(g,2))}),Yh=Mt(function(f){var g=Or(f);return g=typeof g=="function"?g:t,cc(di(f,Rn),t,g)}),Ps=Mt(Di);function Kh(f,g){return bh(f||[],g||[],bn)}function ha(f,g){return bh(f||[],g||[],jo)}var Wp=Mt(function(f){var g=f.length,w=g>1?f[g-1]:t;return w=typeof w=="function"?(f.pop(),w):t,zs(f,w)});function br(f){var g=G(f);return g.__chain__=!0,g}function Zp(f,g){return g(f),f}function vl(f,g){return g(f)}var Qp=xi(function(f){var g=f.length,w=g?f[0]:0,O=this.__wrapped__,z=function($){return xu($,f)};return g>1||this.__actions__.length||!(O instanceof Rt)||!ti(w)?this.thru(z):(O=O.slice(w,+w+(g?1:0)),O.__actions__.push({func:vl,args:[z],thisArg:t}),new aa(O,this.__chain__).thru(function($){return g&&!$.length&&$.push(t),$}))});function R0(){return br(this)}function nu(){return new aa(this.value(),this.__chain__)}function Cc(){this.__values__===t&&(this.__values__=ym(this.value()));var f=this.__index__>=this.__values__.length,g=f?t:this.__values__[this.__index__++];return{done:f,value:g}}function Xh(){return this}function gl(f){for(var g,w=this;w instanceof fs;){var O=Ec(w);O.__index__=0,O.__values__=t,g?z.__wrapped__=O:g=O;var z=O;w=w.__wrapped__}return z.__wrapped__=f,g}function jp(){var f=this.__wrapped__;if(f instanceof Rt){var g=f;return this.__actions__.length&&(g=new Rt(this)),g=g.reverse(),g.__actions__.push({func:vl,args:[un],thisArg:t}),new aa(g,this.__chain__)}return this.thru(un)}function Jp(){return fc(this.__wrapped__,this.__actions__)}var em=rl(function(f,g,w){Qt.call(f,w)?++f[w]:ia(f,w,1)});function Wh(f,g,w){var O=At(f)?Yg:ah;return w&&ur(f,g,w)&&(g=t),O(f,ft(g,3))}function Zh(f,g){var w=At(f)?di:Fn;return w(f,ft(g,3))}var D0=hc(Ih),O0=hc(qp);function M0(f,g){return $n(ru(f,g),1)}function tm(f,g){return $n(ru(f,g),Z)}function nm(f,g,w){return w=w===t?1:Ot(w),$n(ru(f,g),w)}function bo(f,g){var w=At(f)?Ta:Tu;return w(f,ft(g,3))}function Us(f,g){var w=At(f)?r0:rc;return w(f,ft(g,3))}var rm=rl(function(f,g,w){Qt.call(f,w)?f[w].push(g):ia(f,w,[g])});function am(f,g,w,O){f=Dt(f)?f:ga(f),w=w&&!O?Ot(w):0;var z=f.length;return w<0&&(w=Ut(z+w,0)),Lc(f)?w<=z&&f.indexOf(g,w)>-1:!!z&&Lo(f,g,w)>-1}var B0=Mt(function(f,g,w){var O=-1,z=typeof g=="function",$=Dt(f)?Ce(f.length):[];return Tu(f,function(J){$[++O]=z?Pr(g,J,w):Wo(J,g,w)}),$}),im=rl(function(f,g,w){ia(f,w,g)});function ru(f,g){var w=At(f)?yn:gs;return w(f,ft(g,3))}function um(f,g,w,O){return f==null?[]:(At(g)||(g=g==null?[]:[g]),w=O?t:w,At(w)||(w=w==null?[]:[w]),ch(f,g,w))}var fn=rl(function(f,g,w){f[w?0:1].push(g)},function(){return[[],[]]});function Qh(f,g,w){var O=At(f)?Fd:qd,z=arguments.length<3;return O(f,ft(g,4),w,z,Tu)}function N0(f,g,w){var O=At(f)?a0:qd,z=arguments.length<3;return O(f,ft(g,4),w,z,rc)}function om(f,g){var w=At(f)?di:Fn;return w(f,Rc(ft(g,3)))}function _0(f){var g=At(f)?th:Cp;return g(f)}function k0(f,g,w){(w?ur(f,g,w):g===t)?g=1:g=Ot(g);var O=At(f)?Eu:gh;return O(f,g)}function L0(f){var g=At(f)?Bt:E0;return g(f)}function Ac(f){if(f==null)return 0;if(Dt(f))return Lc(f)?hi(f):f.length;var g=Yn(f);return g==Ge||g==Ze?f.size:Cu(f).length}function pl(f,g,w){var O=At(f)?Hd:bs;return w&&ur(f,g,w)&&(g=t),O(f,ft(g,3))}var jh=Mt(function(f,g){if(f==null)return[];var w=g.length;return w>1&&ur(f,g[0],g[1])?g=[]:w>2&&ur(g[0],g[1],g[2])&&(g=[g[0]]),ch(f,$n(g,1),[])}),wo=Da||function(){return Pn.Date.now()};function Jh(f,g){if(typeof g!="function")throw new ra(l);return f=Ot(f),function(){if(--f<1)return g.apply(this,arguments)}}function Lu(f,g,w){return g=w?t:g,g=f&&g==null?f.length:g,ja(f,_,t,t,t,t,g)}function ni(f,g){var w;if(typeof g!="function")throw new ra(l);return f=Ot(f),function(){return--f>0&&(w=g.apply(this,arguments)),f<=1&&(g=t),w}}var Eo=Mt(function(f,g,w){var O=T;if(w.length){var z=pu(w,oa(Eo));O|=k}return ja(f,O,g,w,z)}),lm=Mt(function(f,g,w){var O=T|C;if(w.length){var z=pu(w,oa(lm));O|=k}return ja(g,O,f,w,z)});function ev(f,g,w){g=w?t:g;var O=ja(f,D,t,t,t,t,t,g);return O.placeholder=ev.placeholder,O}function tv(f,g,w){g=w?t:g;var O=ja(f,M,t,t,t,t,t,g);return O.placeholder=tv.placeholder,O}function nv(f,g,w){var O,z,$,J,re,ve,ke=0,ze=!1,Ue=!1,We=!0;if(typeof f!="function")throw new ra(l);g=lr(g)||0,En(w)&&(ze=!!w.leading,Ue="maxWait"in w,$=Ue?Ut(lr(w.maxWait)||0,g):$,We="trailing"in w?!!w.trailing:We);function it(nr){var ou=O,So=z;return O=z=t,ke=nr,J=f.apply(So,ou),J}function yt(nr){return ke=nr,re=yr(Ht,g),ze?it(nr):J}function kt(nr){var ou=nr-ve,So=nr-ke,bw=g-ou;return Ue?St(bw,$-So):bw}function bt(nr){var ou=nr-ve,So=nr-ke;return ve===t||ou>=g||ou<0||Ue&&So>=$}function Ht(){var nr=wo();if(bt(nr))return $t(nr);re=yr(Ht,kt(nr))}function $t(nr){return re=t,We&&O?it(nr):(O=z=t,J)}function ii(){re!==t&&ws(re),ke=0,O=ve=z=re=t}function pa(){return re===t?J:$t(wo())}function ui(){var nr=wo(),ou=bt(nr);if(O=arguments,z=this,ve=nr,ou){if(re===t)return yt(ve);if(Ue)return ws(re),re=yr(Ht,g),it(ve)}return re===t&&(re=yr(Ht,g)),J}return ui.cancel=ii,ui.flush=pa,ui}var z0=Mt(function(f,g){return rh(f,1,g)}),rv=Mt(function(f,g,w){return rh(f,lr(g)||0,w)});function sm(f){return ja(f,B)}function Fs(f,g){if(typeof f!="function"||g!=null&&typeof g!="function")throw new ra(l);var w=function(){var O=arguments,z=g?g.apply(this,O):O[0],$=w.cache;if($.has(z))return $.get(z);var J=f.apply(this,O);return w.cache=$.set(z,J)||$,J};return w.cache=new(Fs.Cache||Yi),w}Fs.Cache=Yi;function Rc(f){if(typeof f!="function")throw new ra(l);return function(){var g=arguments;switch(g.length){case 0:return!f.call(this);case 1:return!f.call(this,g[0]);case 2:return!f.call(this,g[0],g[1]);case 3:return!f.call(this,g[0],g[1],g[2])}return!f.apply(this,g)}}function av(f){return ni(2,f)}var iv=Ap(function(f,g){g=g.length==1&&At(g[0])?yn(g[0],ta(ft())):yn($n(g,1),ta(ft()));var w=g.length;return Mt(function(O){for(var z=-1,$=St(O.length,w);++z<$;)O[z]=g[z].call(this,O[z]);return Pr(f,this,O)})}),uv=Mt(function(f,g){var w=pu(g,oa(uv));return ja(f,k,t,g,w)}),fm=Mt(function(f,g){var w=pu(g,oa(fm));return ja(f,L,t,g,w)}),Hs=xi(function(f,g){return ja(f,I,t,t,t,g)});function I0(f,g){if(typeof f!="function")throw new ra(l);return g=g===t?g:Ot(g),Mt(f,g)}function cm(f,g){if(typeof f!="function")throw new ra(l);return g=g==null?0:Ut(Ot(g),0),Mt(function(w){var O=w[g],z=Qi(w,0,g);return O&&Ii(z,O),Pr(f,this,z)})}function Ft(f,g,w){var O=!0,z=!0;if(typeof f!="function")throw new ra(l);return En(w)&&(O="leading"in w?!!w.leading:O,z="trailing"in w?!!w.trailing:z),nv(f,g,{leading:O,maxWait:g,trailing:z})}function ov(f){return Lu(f,1)}function Dc(f,g){return uv(nl(g),f)}function lv(){if(!arguments.length)return[];var f=arguments[0];return At(f)?f:[f]}function dm(f){return Kt(f,E)}function sv(f,g){return g=typeof g=="function"?g:t,Kt(f,E,g)}function Gs(f){return Kt(f,m|E)}function Oc(f,g){return g=typeof g=="function"?g:t,Kt(f,m|E,g)}function ml(f,g){return g==null||nc(f,g,tr(g))}function ka(f,g){return f===g||f!==f&&g!==g}var P0=ul(ic),U0=ul(function(f,g){return f>=g}),zu=pp(function(){return arguments}())?pp:function(f){return Ln(f)&&Qt.call(f,"callee")&&!Wd.call(f,"callee")},At=Ce.isArray,Mc=If?ta(If):mp;function Dt(f){return f!=null&&Nc(f.length)&&!au(f)}function Rn(f){return Ln(f)&&Dt(f)}function or(f){return f===!0||f===!1||Ln(f)&&pr(f)==Te}var Iu=up||o1,fv=Hg?ta(Hg):yp;function cv(f){return Ln(f)&&f.nodeType===1&&!wr(f)}function Bc(f){if(f==null)return!0;if(Dt(f)&&(At(f)||typeof f=="string"||typeof f.splice=="function"||Iu(f)||ai(f)||zu(f)))return!f.length;var g=Yn(f);if(g==Ge||g==Ze)return!f.size;if(_n(f))return!Cu(f).length;for(var w in f)if(Qt.call(f,w))return!1;return!0}function hm(f,g){return Zo(f,g)}function vm(f,g,w){w=typeof w=="function"?w:t;var O=w?w(f,g):t;return O===t?Zo(f,g,t,w):!!O}function qs(f){if(!Ln(f))return!1;var g=pr(f);return g==we||g==ae||typeof f.message=="string"&&typeof f.name=="string"&&!wr(f)}function dv(f){return typeof f=="number"&&Wf(f)}function au(f){if(!En(f))return!1;var g=pr(f);return g==_e||g==He||g==Oe||g==Xe}function hv(f){return typeof f=="number"&&f==Ot(f)}function Nc(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=Q}function En(f){var g=typeof f;return f!=null&&(g=="object"||g=="function")}function Ln(f){return f!=null&&typeof f=="object"}var gm=Gg?ta(Gg):bp;function vv(f,g){return f===g||oc(f,g,Rs(g))}function gv(f,g,w){return w=typeof w=="function"?w:t,oc(f,g,Rs(g),w)}function F0(f){return pv(f)&&f!=+f}function H0(f){if(kp(f))throw new vt(o);return oh(f)}function ri(f){return f===null}function pm(f){return f==null}function pv(f){return typeof f=="number"||Ln(f)&&pr(f)==Ye}function wr(f){if(!Ln(f)||pr(f)!=ht)return!1;var g=to(f);if(g===null)return!0;var w=Qt.call(g,"constructor")&&g.constructor;return typeof w=="function"&&w instanceof w&&us.call(w)==Ho}var _c=qg?ta(qg):wp;function kc(f){return hv(f)&&f>=-9007199254740991&&f<=Q}var Oi=Vg?ta(Vg):Ep;function Lc(f){return typeof f=="string"||!At(f)&&Ln(f)&&pr(f)==tt}function va(f){return typeof f=="symbol"||Ln(f)&&pr(f)==at}var ai=$g?ta($g):y0;function mm(f){return f===t}function G0(f){return Ln(f)&&Yn(f)==wt}function q0(f){return Ln(f)&&pr(f)==Ae}var V0=ul(Qo),$0=ul(function(f,g){return f<=g});function ym(f){if(!f)return[];if(Dt(f))return Lc(f)?Ca(f):Rr(f);if(gi&&f[gi])return ep(f[gi]());var g=Yn(f),w=g==Ge?$f:g==Ze?Yf:ga;return w(f)}function iu(f){if(!f)return f===0?f:0;if(f=lr(f),f===Z||f===-1/0){var g=f<0?-1:1;return g*ue}return f===f?f:0}function Ot(f){var g=iu(f),w=g%1;return g===g?w?g-w:g:0}function mv(f){return f?fo(Ot(f),0,W):0}function lr(f){if(typeof f=="number")return f;if(va(f))return U;if(En(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=En(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=Zg(f);var w=Tf.test(f);return w||Xl.test(f)?t0(f.slice(2),w?2:8):Md.test(f)?U:+f}function yl(f){return Wa(f,Mr(f))}function bm(f){return f?fo(Ot(f),-9007199254740991,Q):f===0?f:0}function Jt(f){return f==null?"":Nn(f)}var bl=vo(function(f,g){if(_n(g)||Dt(g)){Wa(g,tr(g),f);return}for(var w in g)Qt.call(g,w)&&bn(f,w,g[w])}),wl=vo(function(f,g){Wa(g,Mr(g),f)}),Vs=vo(function(f,g,w,O){Wa(g,Mr(g),f,O)}),zc=vo(function(f,g,w,O){Wa(g,tr(g),f,O)}),yv=xi(xu);function bv(f,g){var w=Vi(f);return g==null?w:Su(w,g)}var Ic=Mt(function(f,g){f=an(f);var w=-1,O=g.length,z=O>2?g[2]:t;for(z&&ur(g[0],g[1],z)&&(O=1);++w<O;)for(var $=g[w],J=Mr($),re=-1,ve=J.length;++re<ve;){var ke=J[re],ze=f[ke];(ze===t||ka(ze,Fo[ke])&&!Qt.call(f,ke))&&(f[ke]=$[ke])}return f}),wm=Mt(function(f){return f.push(t,ol),Pr(Ks,t,f)});function Em(f,g){return Kg(f,ft(g,3),Na)}function Y0(f,g){return Kg(f,ft(g,3),Xa)}function Sm(f,g){return f==null?f:co(f,ft(g,3),Mr)}function $s(f,g){return f==null?f:vs(f,ft(g,3),Mr)}function K0(f,g){return f&&Na(f,ft(g,3))}function X0(f,g){return f&&Xa(f,ft(g,3))}function W0(f){return f==null?[]:ho(f,tr(f))}function Pc(f){return f==null?[]:ho(f,Mr(f))}function El(f,g,w){var O=f==null?t:Xi(f,g);return O===t?w:O}function wv(f,g){return f!=null&&Mh(f,g,hp)}function Ev(f,g){return f!=null&&Mh(f,g,vp)}var Ys=gc(function(f,g,w){g!=null&&typeof g.toString!="function"&&(g=Tr.call(g)),f[g]=w},Je(Xt)),Z0=gc(function(f,g,w){g!=null&&typeof g.toString!="function"&&(g=Tr.call(g)),Qt.call(f,g)?f[g].push(w):f[g]=[w]},ft),xm=Mt(Wo);function tr(f){return Dt(f)?hs(f):Cu(f)}function Mr(f){return Dt(f)?hs(f,!0):Sp(f)}function Tm(f,g){var w={};return g=ft(g,3),Na(f,function(O,z,$){ia(w,g(O,z,$),O)}),w}function Sv(f,g){var w={};return g=ft(g,3),Na(f,function(O,z,$){ia(w,z,g(O,z,$))}),w}var Cm=vo(function(f,g,w){ps(f,g,w)}),Ks=vo(function(f,g,w,O){ps(f,g,w,O)}),Q0=xi(function(f,g){var w={};if(f==null)return w;var O=!1;g=yn(g,function($){return $=Zi($,f),O||(O=$.length>1),$}),Wa(f,Cs(f),w),O&&(w=Kt(w,m|b|E,mc));for(var z=g.length;z--;)Ei(w,g[z]);return w});function j0(f,g){return Uc(f,Rc(ft(g)))}var xv=xi(function(f,g){return f==null?{}:dh(f,g)});function Uc(f,g){if(f==null)return{};var w=yn(Cs(f),function(O){return[O]});return g=ft(g),hh(f,w,function(O,z){return g(O,z[0])})}function Fc(f,g,w){g=Zi(g,f);var O=-1,z=g.length;for(z||(z=1,f=t);++O<z;){var $=f==null?t:f[Dr(g[O])];$===t&&(O=z,$=w),f=au($)?$.call(f):$}return f}function Tv(f,g,w){return f==null?f:jo(f,g,w)}function Am(f,g,w,O){return O=typeof O=="function"?O:t,f==null?f:jo(f,g,w,O)}var Hc=Si(tr),uu=Si(Mr);function Pu(f,g,w){var O=At(f),z=O||Iu(f)||ai(f);if(g=ft(g,4),w==null){var $=f&&f.constructor;z?w=O?new $:[]:En(f)?w=au($)?Vi(to(f)):{}:w={}}return(z?Ta:Na)(f,function(J,re,ve){return g(w,J,re,ve)}),w}function Uu(f,g){return f==null?!0:Ei(f,g)}function Xs(f,g,w){return f==null?f:Au(f,g,nl(w))}function Ws(f,g,w,O){return O=typeof O=="function"?O:t,f==null?f:Au(f,g,nl(w),O)}function ga(f){return f==null?[]:qf(f,tr(f))}function J0(f){return f==null?[]:qf(f,Mr(f))}function Rm(f,g,w){return w===t&&(w=g,g=t),w!==t&&(w=lr(w),w=w===w?w:0),g!==t&&(g=lr(g),g=g===g?g:0),fo(lr(f),g,w)}function Zs(f,g,w){return g=iu(g),w===t?(w=g,g=0):w=iu(w),f=lr(f),gp(f,g,w)}function e1(f,g,w){if(w&&typeof w!="boolean"&&ur(f,g,w)&&(g=w=t),w===t&&(typeof g=="boolean"?(w=g,g=t):typeof f=="boolean"&&(w=f,f=t)),f===t&&g===t?(f=0,g=1):(f=iu(f),g===t?(g=f,f=0):g=iu(g)),f>g){var O=f;f=g,g=O}if(w||f%1||g%1){var z=Zf();return St(f+z*(g-f+as("1e-"+((z+"").length-1))),g)}return sc(f,g)}var Dm=Ru(function(f,g,w){return g=g.toLowerCase(),f+(w?Qs(g):g)});function Qs(f){return xt(Jt(f).toLowerCase())}function Cv(f){return f=Jt(f),f&&f.replace(Ea,Vf).replace(ts,"")}function t1(f,g,w){f=Jt(f),g=Nn(g);var O=f.length;w=w===t?O:fo(Ot(w),0,O);var z=w;return w-=g.length,w>=0&&f.slice(w,z)==g}function Gc(f){return f=Jt(f),f&&rr.test(f)?f.replace(tn,Qg):f}function qc(f){return f=Jt(f),f&&Qr.test(f)?f.replace(gr,"\\$&"):f}var Om=Ru(function(f,g,w){return f+(w?"-":"")+g.toLowerCase()}),js=Ru(function(f,g,w){return f+(w?" ":"")+g.toLowerCase()}),Av=dc("toLowerCase");function Vc(f,g,w){f=Jt(f),g=Ot(g);var O=g?hi(f):0;if(!g||O>=g)return f;var z=(g-O)/2;return il(Ma(z),w)+f+il(Oa(z),w)}function Mm(f,g,w){f=Jt(f),g=Ot(g);var O=g?hi(f):0;return g&&O<g?f+il(g-O,w):f}function n1(f,g,w){f=Jt(f),g=Ot(g);var O=g?hi(f):0;return g&&O<g?il(g-O,w)+f:f}function $c(f,g,w){return w||g==null?g=0:g&&(g=+g),mi(Jt(f).replace(Lr,""),g||0)}function a(f,g,w){return(w?ur(f,g,w):g===t)?g=1:g=Ot(g),ys(Jt(f),g)}function u(){var f=arguments,g=Jt(f[0]);return f.length<3?g:g.replace(f[1],f[2])}var s=Ru(function(f,g,w){return f+(w?"_":"")+g.toLowerCase()});function p(f,g,w){return w&&typeof w!="number"&&ur(f,g,w)&&(g=w=t),w=w===t?W:w>>>0,w?(f=Jt(f),f&&(typeof g=="string"||g!=null&&!_c(g))&&(g=Nn(g),!g&&gu(f))?Qi(Ca(f),0,w):f.split(g,w)):[]}var y=Ru(function(f,g,w){return f+(w?" ":"")+xt(g)});function x(f,g,w){return f=Jt(f),w=w==null?0:fo(Ot(w),0,f.length),g=Nn(g),f.slice(w,w+g.length)==g}function N(f,g,w){var O=G.templateSettings;w&&ur(f,g,w)&&(g=t),f=Jt(f),g=Vs({},g,O,pc);var z=Vs({},g.imports,O.imports,pc),$=tr(z),J=qf(z,$),re,ve,ke=0,ze=g.interpolate||Sa,Ue="__p += '",We=Pi((g.escape||Sa).source+"|"+ze.source+"|"+(ze===Bn?Kl:Sa).source+"|"+(g.evaluate||Sa).source+"|$","g"),it="//# sourceURL="+(Qt.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pg+"]")+`
`;f.replace(We,function(bt,Ht,$t,ii,pa,ui){return $t||($t=ii),Ue+=f.slice(ke,ui).replace(Ha,jg),Ht&&(re=!0,Ue+=`' +
__e(`+Ht+`) +
'`),pa&&(ve=!0,Ue+=`';
`+pa+`;
__p += '`),$t&&(Ue+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),ke=ui+bt.length,bt}),Ue+=`';
`;var yt=Qt.call(g,"variable")&&g.variable;if(!yt)Ue=`with (obj) {
`+Ue+`
}
`;else if(gn.test(yt))throw new vt(c);Ue=(ve?Ue.replace(mt,""):Ue).replace(Et,"$1").replace(dt,"$1;"),Ue="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var kt=ge(function(){return Pt($,it+"return "+Ue).apply(t,J)});if(kt.source=Ue,qs(kt))throw kt;return kt}function q(f){return Jt(f).toLowerCase()}function j(f){return Jt(f).toUpperCase()}function se(f,g,w){if(f=Jt(f),f&&(w||g===t))return Zg(f);if(!f||!(g=Nn(g)))return f;var O=Ca(f),z=Ca(g),$=Po(O,z),J=Uo(O,z)+1;return Qi(O,$,J).join("")}function Ne(f,g,w){if(f=Jt(f),f&&(w||g===t))return f.slice(0,$d(f)+1);if(!f||!(g=Nn(g)))return f;var O=Ca(f),z=Uo(O,Ca(g))+1;return Qi(O,0,z).join("")}function Pe(f,g,w){if(f=Jt(f),f&&(w||g===t))return f.replace(Lr,"");if(!f||!(g=Nn(g)))return f;var O=Ca(f),z=Po(O,Ca(g));return Qi(O,z).join("")}function Se(f,g){var w=P,O=F;if(En(g)){var z="separator"in g?g.separator:z;w="length"in g?Ot(g.length):w,O="omission"in g?Nn(g.omission):O}f=Jt(f);var $=f.length;if(gu(f)){var J=Ca(f);$=J.length}if(w>=$)return f;var re=w-hi(O);if(re<1)return O;var ve=J?Qi(J,0,re).join(""):f.slice(0,re);if(z===t)return ve+O;if(J&&(re+=ve.length-re),_c(z)){if(f.slice(re).search(z)){var ke,ze=ve;for(z.global||(z=Pi(z.source,Jt(xf.exec(z))+"g")),z.lastIndex=0;ke=z.exec(ze);)var Ue=ke.index;ve=ve.slice(0,Ue===t?re:Ue)}}else if(f.indexOf(Nn(z),re)!=re){var We=ve.lastIndexOf(z);We>-1&&(ve=ve.slice(0,We))}return ve+O}function Me(f){return f=Jt(f),f&&zn.test(f)?f.replace(Yt,np):f}var rt=Ru(function(f,g,w){return f+(w?" ":"")+g.toUpperCase()}),xt=dc("toUpperCase");function Dn(f,g,w){return f=Jt(f),g=w?t:g,g===t?Jg(f)?d0(f):o0(f):f.match(g)||[]}var ge=Mt(function(f,g){try{return Pr(f,t,g)}catch(w){return qs(w)?w:new vt(w)}}),le=xi(function(f,g){return Ta(g,function(w){w=Dr(w),ia(f,w,Eo(f[w],f))}),f});function be(f){var g=f==null?0:f.length,w=ft();return f=g?yn(f,function(O){if(typeof O[1]!="function")throw new ra(l);return[w(O[0]),O[1]]}):[],Mt(function(O){for(var z=-1;++z<g;){var $=f[z];if(Pr($[0],this,O))return Pr($[1],this,O)}})}function Le(f){return nh(Kt(f,m))}function Je(f){return function(){return f}}function _t(f,g){return f==null||f!==f?g:f}var lt=vc(),gt=vc(!0);function Xt(f){return f}function qt(f){return lh(typeof f=="function"?f:Kt(f,m))}function Fu(f){return sh(Kt(f,m))}function r1(f,g){return lc(f,Kt(g,m))}var YC=Mt(function(f,g){return function(w){return Wo(w,f,g)}}),KC=Mt(function(f,g){return function(w){return Wo(f,w,g)}});function a1(f,g,w){var O=tr(g),z=ho(g,O);w==null&&!(En(g)&&(z.length||!O.length))&&(w=g,g=f,f=this,z=ho(g,tr(g)));var $=!(En(w)&&"chain"in w)||!!w.chain,J=au(f);return Ta(z,function(re){var ve=g[re];f[re]=ve,J&&(f.prototype[re]=function(){var ke=this.__chain__;if($||ke){var ze=f(this.__wrapped__),Ue=ze.__actions__=Rr(this.__actions__);return Ue.push({func:ve,args:arguments,thisArg:f}),ze.__chain__=ke,ze}return ve.apply(f,Ii([this.value()],arguments))})}),f}function XC(){return Pn._===this&&(Pn._=Kd),this}function i1(){}function WC(f){return f=Ot(f),Mt(function(g){return fh(g,f)})}var ZC=Za(yn),QC=Za(Yg),jC=Za(Hd);function yw(f){return sl(f)?Ff(Dr(f)):Tp(f)}function JC(f){return function(g){return f==null?t:Xi(f,g)}}var e2=Dh(),t2=Dh(!0);function u1(){return[]}function o1(){return!1}function n2(){return{}}function r2(){return""}function a2(){return!0}function i2(f,g){if(f=Ot(f),f<1||f>Q)return[];var w=W,O=St(f,W);g=ft(g),f-=W;for(var z=vu(O,g);++w<f;)g(w);return z}function u2(f){return At(f)?yn(f,Dr):va(f)?[f]:Rr(Ai(Jt(f)))}function o2(f){var g=++ip;return Jt(f)+g}var l2=Ts(function(f,g){return f+g},0),s2=Qa("ceil"),f2=Ts(function(f,g){return f/g},1),c2=Qa("floor");function d2(f){return f&&f.length?Xo(f,Xt,ic):t}function h2(f,g){return f&&f.length?Xo(f,ft(g,2),ic):t}function v2(f){return Xg(f,Xt)}function g2(f,g){return Xg(f,ft(g,2))}function p2(f){return f&&f.length?Xo(f,Xt,Qo):t}function m2(f,g){return f&&f.length?Xo(f,ft(g,2),Qo):t}var y2=Ts(function(f,g){return f*g},1),b2=Qa("round"),w2=Ts(function(f,g){return f-g},0);function E2(f){return f&&f.length?Gf(f,Xt):0}function S2(f,g){return f&&f.length?Gf(f,ft(g,2)):0}return G.after=Jh,G.ary=Lu,G.assign=bl,G.assignIn=wl,G.assignInWith=Vs,G.assignWith=zc,G.at=yv,G.before=ni,G.bind=Eo,G.bindAll=le,G.bindKey=lm,G.castArray=lv,G.chain=br,G.chunk=Nu,G.compact=Up,G.concat=fl,G.cond=be,G.conforms=Le,G.constant=Je,G.countBy=em,G.create=bv,G.curry=ev,G.curryRight=tv,G.debounce=nv,G.defaults=Ic,G.defaultsDeep=wm,G.defer=z0,G.delay=rv,G.difference=Ms,G.differenceBy=Bs,G.differenceWith=cl,G.drop=Fp,G.dropRight=Hp,G.dropRightWhile=Ns,G.dropWhile=Gp,G.fill=Sc,G.filter=Zh,G.flatMap=M0,G.flatMapDeep=tm,G.flatMapDepth=nm,G.flatten=ca,G.flattenDeep=Ph,G.flattenDepth=_u,G.flip=sm,G.flow=lt,G.flowRight=gt,G.fromPairs=Vp,G.functions=W0,G.functionsIn=Pc,G.groupBy=rm,G.initial=$p,G.intersection=Uh,G.intersectionBy=Fh,G.intersectionWith=Ji,G.invert=Ys,G.invertBy=Z0,G.invokeMap=B0,G.iteratee=qt,G.keyBy=im,G.keys=tr,G.keysIn=Mr,G.map=ru,G.mapKeys=Tm,G.mapValues=Sv,G.matches=Fu,G.matchesProperty=r1,G.memoize=Fs,G.merge=Cm,G.mergeWith=Ks,G.method=YC,G.methodOf=KC,G.mixin=a1,G.negate=Rc,G.nthArg=WC,G.omit=Q0,G.omitBy=j0,G.once=av,G.orderBy=um,G.over=ZC,G.overArgs=iv,G.overEvery=QC,G.overSome=jC,G.partial=uv,G.partialRight=fm,G.partition=fn,G.pick=xv,G.pickBy=Uc,G.property=yw,G.propertyOf=JC,G.pull=T0,G.pullAll=Kp,G.pullAllBy=Xp,G.pullAllWith=C0,G.pullAt=A0,G.range=e2,G.rangeRight=t2,G.rearg=Hs,G.reject=om,G.remove=An,G.rest=I0,G.reverse=un,G.sampleSize=k0,G.set=Tv,G.setWith=Am,G.shuffle=L0,G.slice=Lt,G.sortBy=jh,G.sortedUniq=tu,G.sortedUniqBy=kn,G.split=p,G.spread=cm,G.tail=ku,G.take=mo,G.takeRight=Gh,G.takeRightWhile=_a,G.takeWhile=hl,G.tap=Zp,G.throttle=Ft,G.thru=vl,G.toArray=ym,G.toPairs=Hc,G.toPairsIn=uu,G.toPath=u2,G.toPlainObject=yl,G.transform=Pu,G.unary=ov,G.union=Ls,G.unionBy=Ri,G.unionWith=qh,G.uniq=Vh,G.uniqBy=xc,G.uniqWith=Tc,G.unset=Uu,G.unzip=Di,G.unzipWith=zs,G.update=Xs,G.updateWith=Ws,G.values=ga,G.valuesIn=J0,G.without=yo,G.words=Dn,G.wrap=Dc,G.xor=Is,G.xorBy=$h,G.xorWith=Yh,G.zip=Ps,G.zipObject=Kh,G.zipObjectDeep=ha,G.zipWith=Wp,G.entries=Hc,G.entriesIn=uu,G.extend=wl,G.extendWith=Vs,a1(G,G),G.add=l2,G.attempt=ge,G.camelCase=Dm,G.capitalize=Qs,G.ceil=s2,G.clamp=Rm,G.clone=dm,G.cloneDeep=Gs,G.cloneDeepWith=Oc,G.cloneWith=sv,G.conformsTo=ml,G.deburr=Cv,G.defaultTo=_t,G.divide=f2,G.endsWith=t1,G.eq=ka,G.escape=Gc,G.escapeRegExp=qc,G.every=Wh,G.find=D0,G.findIndex=Ih,G.findKey=Em,G.findLast=O0,G.findLastIndex=qp,G.findLastKey=Y0,G.floor=c2,G.forEach=bo,G.forEachRight=Us,G.forIn=Sm,G.forInRight=$s,G.forOwn=K0,G.forOwnRight=X0,G.get=El,G.gt=P0,G.gte=U0,G.has=wv,G.hasIn=Ev,G.head=_s,G.identity=Xt,G.includes=am,G.indexOf=po,G.inRange=Zs,G.invoke=xm,G.isArguments=zu,G.isArray=At,G.isArrayBuffer=Mc,G.isArrayLike=Dt,G.isArrayLikeObject=Rn,G.isBoolean=or,G.isBuffer=Iu,G.isDate=fv,G.isElement=cv,G.isEmpty=Bc,G.isEqual=hm,G.isEqualWith=vm,G.isError=qs,G.isFinite=dv,G.isFunction=au,G.isInteger=hv,G.isLength=Nc,G.isMap=gm,G.isMatch=vv,G.isMatchWith=gv,G.isNaN=F0,G.isNative=H0,G.isNil=pm,G.isNull=ri,G.isNumber=pv,G.isObject=En,G.isObjectLike=Ln,G.isPlainObject=wr,G.isRegExp=_c,G.isSafeInteger=kc,G.isSet=Oi,G.isString=Lc,G.isSymbol=va,G.isTypedArray=ai,G.isUndefined=mm,G.isWeakMap=G0,G.isWeakSet=q0,G.join=Yp,G.kebabCase=Om,G.last=Or,G.lastIndexOf=ks,G.lowerCase=js,G.lowerFirst=Av,G.lt=V0,G.lte=$0,G.max=d2,G.maxBy=h2,G.mean=v2,G.meanBy=g2,G.min=p2,G.minBy=m2,G.stubArray=u1,G.stubFalse=o1,G.stubObject=n2,G.stubString=r2,G.stubTrue=a2,G.multiply=y2,G.nth=Cn,G.noConflict=XC,G.noop=i1,G.now=wo,G.pad=Vc,G.padEnd=Mm,G.padStart=n1,G.parseInt=$c,G.random=e1,G.reduce=Qh,G.reduceRight=N0,G.repeat=a,G.replace=u,G.result=Fc,G.round=b2,G.runInContext=fe,G.sample=_0,G.size=Ac,G.snakeCase=s,G.some=pl,G.sortedIndex=Gt,G.sortedIndexBy=dn,G.sortedIndexOf=da,G.sortedLastIndex=eu,G.sortedLastIndexBy=dl,G.sortedLastIndexOf=Hh,G.startCase=y,G.startsWith=x,G.subtract=w2,G.sum=E2,G.sumBy=S2,G.template=N,G.times=i2,G.toFinite=iu,G.toInteger=Ot,G.toLength=mv,G.toLower=q,G.toNumber=lr,G.toSafeInteger=bm,G.toString=Jt,G.toUpper=j,G.trim=se,G.trimEnd=Ne,G.trimStart=Pe,G.truncate=Se,G.unescape=Me,G.uniqueId=o2,G.upperCase=rt,G.upperFirst=xt,G.each=bo,G.eachRight=Us,G.first=_s,a1(G,function(){var f={};return Na(G,function(g,w){Qt.call(G.prototype,w)||(f[w]=g)}),f}(),{chain:!1}),G.VERSION=r,Ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){G[f].placeholder=G}),Ta(["drop","take"],function(f,g){Rt.prototype[f]=function(w){w=w===t?1:Ut(Ot(w),0);var O=this.__filtered__&&!g?new Rt(this):this.clone();return O.__filtered__?O.__takeCount__=St(w,O.__takeCount__):O.__views__.push({size:St(w,W),type:f+(O.__dir__<0?"Right":"")}),O},Rt.prototype[f+"Right"]=function(w){return this.reverse()[f](w).reverse()}}),Ta(["filter","map","takeWhile"],function(f,g){var w=g+1,O=w==K||w==Y;Rt.prototype[f]=function(z){var $=this.clone();return $.__iteratees__.push({iteratee:ft(z,3),type:w}),$.__filtered__=$.__filtered__||O,$}}),Ta(["head","last"],function(f,g){var w="take"+(g?"Right":"");Rt.prototype[f]=function(){return this[w](1).value()[0]}}),Ta(["initial","tail"],function(f,g){var w="drop"+(g?"":"Right");Rt.prototype[f]=function(){return this.__filtered__?new Rt(this):this[w](1)}}),Rt.prototype.compact=function(){return this.filter(Xt)},Rt.prototype.find=function(f){return this.filter(f).head()},Rt.prototype.findLast=function(f){return this.reverse().find(f)},Rt.prototype.invokeMap=Mt(function(f,g){return typeof f=="function"?new Rt(this):this.map(function(w){return Wo(w,f,g)})}),Rt.prototype.reject=function(f){return this.filter(Rc(ft(f)))},Rt.prototype.slice=function(f,g){f=Ot(f);var w=this;return w.__filtered__&&(f>0||g<0)?new Rt(w):(f<0?w=w.takeRight(-f):f&&(w=w.drop(f)),g!==t&&(g=Ot(g),w=g<0?w.dropRight(-g):w.take(g-f)),w)},Rt.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Rt.prototype.toArray=function(){return this.take(W)},Na(Rt.prototype,function(f,g){var w=/^(?:filter|find|map|reject)|While$/.test(g),O=/^(?:head|last)$/.test(g),z=G[O?"take"+(g=="last"?"Right":""):g],$=O||/^find/.test(g);z&&(G.prototype[g]=function(){var J=this.__wrapped__,re=O?[1]:arguments,ve=J instanceof Rt,ke=re[0],ze=ve||At(J),Ue=function(Ht){var $t=z.apply(G,Ii([Ht],re));return O&&We?$t[0]:$t};ze&&w&&typeof ke=="function"&&ke.length!=1&&(ve=ze=!1);var We=this.__chain__,it=!!this.__actions__.length,yt=$&&!We,kt=ve&&!it;if(!$&&ze){J=kt?J:new Rt(this);var bt=f.apply(J,re);return bt.__actions__.push({func:vl,args:[Ue],thisArg:t}),new aa(bt,We)}return yt&&kt?f.apply(this,re):(bt=this.thru(Ue),yt?O?bt.value()[0]:bt.value():bt)})}),Ta(["pop","push","shift","sort","splice","unshift"],function(f){var g=is[f],w=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",O=/^(?:pop|shift)$/.test(f);G.prototype[f]=function(){var z=arguments;if(O&&!this.__chain__){var $=this.value();return g.apply(At($)?$:[],z)}return this[w](function(J){return g.apply(At(J)?J:[],z)})}}),Na(Rt.prototype,function(f,g){var w=G[g];if(w){var O=w.name+"";Qt.call(mu,O)||(mu[O]=[]),mu[O].push({name:g,func:w})}}),mu[xs(t,C).name]=[{name:"wrapper",func:t}],Rt.prototype.clone=fp,Rt.prototype.reverse=qo,Rt.prototype.value=Jf,G.prototype.at=Qp,G.prototype.chain=R0,G.prototype.commit=nu,G.prototype.next=Cc,G.prototype.plant=gl,G.prototype.reverse=jp,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Jp,G.prototype.first=G.prototype.head,gi&&(G.prototype[gi]=Xh),G},Va=h0();hu?((hu.exports=Va)._=Va,ko._=Va):Pn._=Va}).call(k2)}(Pv,Pv.exports)),Pv.exports}var oy=L2(),On=(n=>(n.FINITE="FINITE",n.PDA="PDA",n.TURING="TURING",n))(On||{});class US{constructor({states:e=[],deltaFunctionMatrix:t={},automatonType:r,initialStateId:i,finalStateIds:o=[]}){xe(this,"states");xe(this,"deltaFunctionMatrix");xe(this,"automatonType");xe(this,"commandHistory");xe(this,"initialStateId");xe(this,"finalStateIds");this.states=e,this.commandHistory=[],this.automatonType=r,this.deltaFunctionMatrix=t,this.initialStateId=i,this.finalStateIds=o}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new Ie("Cannot undo because command history is empty.")}save(){return new z2(this.states,this.deltaFunctionMatrix,this.automatonType,this.initialStateId,this.finalStateIds)}restore(e){this.states=e.states,this.deltaFunctionMatrix=e.deltaFunctionMatrix,this.automatonType=e.automatonType,this.initialStateId=e.initialStateId,this.finalStateIds=e.finalStateIds}isDeterministic(){const e=new Set([]),t=new Set([]);this.automatonType=="PDA"&&t.add(h1);for(const r in this.deltaFunctionMatrix)for(const i in this.deltaFunctionMatrix[r]){const o=this.deltaFunctionMatrix[r][i];for(const l of o)if(e.add(l.inputChar),this.automatonType=="PDA"&&l instanceof df){t.add(l.readStackChar);for(const c of l.writeStackWord)t.add(c)}}if(e.has(fr)||this.states.length!=Object.keys(this.deltaFunctionMatrix).length)return!1;switch(this.automatonType){case"FINITE":for(const r in this.deltaFunctionMatrix){const i=new Set([]);let o=0;for(const l in this.deltaFunctionMatrix[r]){const c=this.deltaFunctionMatrix[r][l];o+=c.length;for(const h of c)if(h instanceof Dy)i.add(h.inputChar);else throw new Error("Finite automaton has non-finite edge")}if(o!=i.size||o!=e.size)return!1}return!0;case"PDA":for(const r in this.deltaFunctionMatrix){const i={};let o=0;for(const c in this.deltaFunctionMatrix[r]){const h=this.deltaFunctionMatrix[r][c];o+=h.length;for(const d of h)if(d instanceof df)i[d.inputChar]===void 0&&(i[d.inputChar]=new Set([])),i[d.inputChar].add(d.readStackChar);else throw new Error("PDA has non-PDA edge")}let l=0;for(const c in i)l=l+i[c].size;if(o!=l||o!=e.size*t.size)return!1}return!0}return!1}createRunSimulation(e){if(this.isDeterministic())switch(this.automatonType){case"FINITE":return new Nm(this,new _S(this.initialStateId,e));case"PDA":return new Nm(this,new kS(this.initialStateId,e,[h1]));case"TURING":throw new Error("Not implemented.")}else switch(this.automatonType){case"FINITE":return new Nm(this,new Y1(this.initialStateId,e));case"PDA":return new Nm(this,new K1(this.initialStateId,e,[h1]));case"TURING":throw new Error("Not implemented.")}}}class z2{constructor(e,t,r,i,o){xe(this,"states");xe(this,"automatonType");xe(this,"deltaFunctionMatrix");xe(this,"initialStateId");xe(this,"finalStateIds");this.states=[...e],this.automatonType=r,this.initialStateId=i,this.finalStateIds=[...o],this.deltaFunctionMatrix=oy.cloneDeep(t)}}var Vr=(n=>(n.REGULAR="REGULAR",n.CONTEXT_FREE="CONTEXT_FREE",n))(Vr||{});class Jv{constructor(e,t,r){xe(this,"id");xe(this,"inputNonTerminal");xe(this,"outputSymbols");this.id=e,this.inputNonTerminal=t,this.outputSymbols=r}static createByFactory(e,t,r){return new Jv(e,t,r)}equals(e){return e instanceof Jv?this.inputNonTerminal===e.inputNonTerminal&&IS(this.outputSymbols,e.outputSymbols):!1}toString(){return`${this.inputNonTerminal} -> ${this.outputSymbols.join("")}`}}class FS{constructor(e,t,r,i){xe(this,"grammarType");xe(this,"nonTerminalSymbols");xe(this,"terminalSymbols");xe(this,"initialNonTerminalSymbol");xe(this,"productionRules");xe(this,"commandHistory");this.grammarType=e,this.nonTerminalSymbols=t,this.terminalSymbols=r,this.initialNonTerminalSymbol=i,this.productionRules=[],this.commandHistory=[]}hasNonTerminalSymbol(e){return this.nonTerminalSymbols.some(t=>t===e)}hasTerminalSymbol(e){return this.terminalSymbols.some(t=>t===e)}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new Ie("Cannot undo because command history is empty.")}save(){return new I2(this.grammarType,this.nonTerminalSymbols,this.terminalSymbols,this.initialNonTerminalSymbol,this.productionRules)}restore(e){this.grammarType=e.grammarType,this.nonTerminalSymbols=e.nonTerminalSymbols,this.terminalSymbols=e.terminalSymbols,this.initialNonTerminalSymbol=e.initialNonTerminalSymbol,this.productionRules=e.productionRules}}class I2{constructor(e,t,r,i,o){xe(this,"grammarType");xe(this,"nonTerminalSymbols");xe(this,"terminalSymbols");xe(this,"initialNonTerminalSymbol");xe(this,"productionRules");this.grammarType=e,this.nonTerminalSymbols=[...t],this.terminalSymbols=[...r],this.initialNonTerminalSymbol=i,this.productionRules=oy.cloneDeep(o)}}class P2{constructor(e){xe(this,"internalFactory");xe(this,"edgeCounter",0);if(e===On.FINITE)this.internalFactory=new U2;else if(e===On.PDA)this.internalFactory=new F2;else{const t=[On.FINITE,On.PDA];throw new Error(`Unsupported automaton type: ${e}. Supported types are ${JSON.stringify(t)}.`)}}createAutomaton(e){return this.internalFactory.createAutomaton(e)}createEdge(e){return e.id=`_${this.edgeCounter}`,this.edgeCounter++,this.internalFactory.createEdge(e)}}class U2{createAutomaton(e){return new US({states:[e],deltaFunctionMatrix:{},automatonType:On.FINITE,initialStateId:e,finalStateIds:[]})}createEdge(e){return new Dy(e.id,e.inputChar)}}class F2{createAutomaton(e){return new US({states:[e],deltaFunctionMatrix:{},automatonType:On.PDA,initialStateId:e,finalStateIds:[]})}createEdge(e){if(!e.readStackChar||!e.writeStackWord)throw new Error("Cannot create PDAEdge without both readStackChar and writeStackWord arguments");return new df(e.id,e.inputChar,e.readStackChar,e.writeStackWord)}}function dr(n){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(n)}function Fl(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function H2(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Hl(n,e,t){return e&&H2(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function HS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sr(n,e){return q2(n)||$2(n,e)||Eb(n,e)||K2()}function GS(n){return G2(n)||V2(n)||Eb(n)||Y2()}function G2(n){if(Array.isArray(n))return X1(n)}function q2(n){if(Array.isArray(n))return n}function V2(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $2(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,l,c;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(h){o=!0,c=h}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function Eb(n,e){if(n){if(typeof n=="string")return X1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X1(n,e)}}function X1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Y2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Eb(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,c;return{s:function(){t=t.call(n)},n:function(){var h=t.next();return o=h.done,h},e:function(h){l=!0,c=h},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(l)throw c}}}}var sr=typeof window>"u"?null:window,Mw=sr?sr.navigator:null;sr&&sr.document;var X2=dr(""),qS=dr({}),W2=dr(function(){}),Z2=typeof HTMLElement>"u"?"undefined":dr(HTMLElement),pg=function(e){return e&&e.instanceString&&Gn(e.instanceString)?e.instanceString():null},ct=function(e){return e!=null&&dr(e)==X2},Gn=function(e){return e!=null&&dr(e)===W2},pn=function(e){return!si(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Zt=function(e){return e!=null&&dr(e)===qS&&!pn(e)&&e.constructor===Object},Q2=function(e){return e!=null&&dr(e)===qS},Ve=function(e){return e!=null&&dr(e)===dr(1)&&!isNaN(e)},j2=function(e){return Ve(e)&&Math.floor(e)===e},ly=function(e){if(Z2!=="undefined")return e!=null&&e instanceof HTMLElement},si=function(e){return mg(e)||VS(e)},mg=function(e){return pg(e)==="collection"&&e._private.single},VS=function(e){return pg(e)==="collection"&&!e._private.single},Sb=function(e){return pg(e)==="core"},$S=function(e){return pg(e)==="stylesheet"},J2=function(e){return pg(e)==="event"},_l=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},eA=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},tA=function(e){return Zt(e)&&Ve(e.x1)&&Ve(e.x2)&&Ve(e.y1)&&Ve(e.y2)},nA=function(e){return Q2(e)&&Gn(e.then)},rA=function(){return Mw&&Mw.userAgent.match(/msie|trident|edge/i)},eg=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);return o.join("$")});var r=function i(){var o=this,l=arguments,c,h=t.apply(o,l),d=i.cache;return(c=d[h])||(c=d[h]=e.apply(o,l)),c};return r.cache={},r},xb=eg(function(n){return n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Oy=eg(function(n){return n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),YS=eg(function(n,e){return n+e[0].toUpperCase()+e.substring(1)},function(n,e){return n+"$"+e}),Bw=function(e){return _l(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},cr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",aA="rgb[a]?\\(("+cr+"[%]?)\\s*,\\s*("+cr+"[%]?)\\s*,\\s*("+cr+"[%]?)(?:\\s*,\\s*("+cr+"))?\\)",iA="rgb[a]?\\((?:"+cr+"[%]?)\\s*,\\s*(?:"+cr+"[%]?)\\s*,\\s*(?:"+cr+"[%]?)(?:\\s*,\\s*(?:"+cr+"))?\\)",uA="hsl[a]?\\(("+cr+")\\s*,\\s*("+cr+"[%])\\s*,\\s*("+cr+"[%])(?:\\s*,\\s*("+cr+"))?\\)",oA="hsl[a]?\\((?:"+cr+")\\s*,\\s*(?:"+cr+"[%])\\s*,\\s*(?:"+cr+"[%])(?:\\s*,\\s*(?:"+cr+"))?\\)",lA="\\#[0-9a-fA-F]{3}",sA="\\#[0-9a-fA-F]{6}",KS=function(e,t){return e<t?-1:e>t?1:0},fA=function(e,t){return-1*KS(e,t)},pt=Object.assign!=null?Object.assign.bind(Object):function(n){for(var e=arguments,t=1;t<e.length;t++){var r=e[t];if(r!=null)for(var i=Object.keys(r),o=0;o<i.length;o++){var l=i[o];n[l]=r[l]}}return n},cA=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,i,o,l=16;return t?(r=parseInt(e[1]+e[1],l),i=parseInt(e[2]+e[2],l),o=parseInt(e[3]+e[3],l)):(r=parseInt(e[1]+e[2],l),i=parseInt(e[3]+e[4],l),o=parseInt(e[5]+e[6],l)),[r,i,o]}},dA=function(e){var t,r,i,o,l,c,h,d;function v(S,A,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?S+(A-S)*6*T:T<1/2?A:T<2/3?S+(A-S)*(2/3-T)*6:S}var m=new RegExp("^"+uA+"$").exec(e);if(m){if(r=parseInt(m[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(m[2]),i<0||i>100||(i=i/100,o=parseFloat(m[3]),o<0||o>100)||(o=o/100,l=m[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(i===0)c=h=d=Math.round(o*255);else{var b=o<.5?o*(1+i):o+i-o*i,E=2*o-b;c=Math.round(255*v(E,b,r+1/3)),h=Math.round(255*v(E,b,r)),d=Math.round(255*v(E,b,r-1/3))}t=[c,h,d,l]}return t},hA=function(e){var t,r=new RegExp("^"+aA+"$").exec(e);if(r){t=[];for(var i=[],o=1;o<=3;o++){var l=r[o];if(l[l.length-1]==="%"&&(i[o]=!0),l=parseFloat(l),i[o]&&(l=l/100*255),l<0||l>255)return;t.push(Math.floor(l))}var c=i[1]||i[2]||i[3],h=i[1]&&i[2]&&i[3];if(c&&!h)return;var d=r[4];if(d!==void 0){if(d=parseFloat(d),d<0||d>1)return;t.push(d)}}return t},vA=function(e){return gA[e.toLowerCase()]},XS=function(e){return(pn(e)?e:null)||vA(e)||cA(e)||hA(e)||dA(e)},gA={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},WS=function(e){for(var t=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var l=r[o];if(Zt(l))throw Error("Tried to set map with object key");o<r.length-1?(t[l]==null&&(t[l]={}),t=t[l]):t[l]=e.value}},ZS=function(e){for(var t=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var l=r[o];if(Zt(l))throw Error("Tried to get map with object key");if(t=t[l],t==null)return t}return t};function pA(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var hf=pA,Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mA(n,e){return e={exports:{}},n(e,e.exports),e.exports}var yA=typeof Uv=="object"&&Uv&&Uv.Object===Object&&Uv,bA=yA,wA=typeof self=="object"&&self&&self.Object===Object&&self,EA=bA||wA||Function("return this")(),My=EA,SA=function(){return My.Date.now()},v1=SA,xA=/\s/;function TA(n){for(var e=n.length;e--&&xA.test(n.charAt(e)););return e}var CA=TA,AA=/^\s+/;function RA(n){return n&&n.slice(0,CA(n)+1).replace(AA,"")}var DA=RA,OA=My.Symbol,sd=OA,QS=Object.prototype,MA=QS.hasOwnProperty,BA=QS.toString,Dv=sd?sd.toStringTag:void 0;function NA(n){var e=MA.call(n,Dv),t=n[Dv];try{n[Dv]=void 0;var r=!0}catch{}var i=BA.call(n);return r&&(e?n[Dv]=t:delete n[Dv]),i}var _A=NA,kA=Object.prototype,LA=kA.toString;function zA(n){return LA.call(n)}var IA=zA,PA="[object Null]",UA="[object Undefined]",Nw=sd?sd.toStringTag:void 0;function FA(n){return n==null?n===void 0?UA:PA:Nw&&Nw in Object(n)?_A(n):IA(n)}var jS=FA;function HA(n){return n!=null&&typeof n=="object"}var GA=HA,qA="[object Symbol]";function VA(n){return typeof n=="symbol"||GA(n)&&jS(n)==qA}var yg=VA,_w=NaN,$A=/^[-+]0x[0-9a-f]+$/i,YA=/^0b[01]+$/i,KA=/^0o[0-7]+$/i,XA=parseInt;function WA(n){if(typeof n=="number")return n;if(yg(n))return _w;if(hf(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=hf(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=DA(n);var t=YA.test(n);return t||KA.test(n)?XA(n.slice(2),t?2:8):$A.test(n)?_w:+n}var kw=WA,ZA="Expected a function",QA=Math.max,jA=Math.min;function JA(n,e,t){var r,i,o,l,c,h,d=0,v=!1,m=!1,b=!0;if(typeof n!="function")throw new TypeError(ZA);e=kw(e)||0,hf(t)&&(v=!!t.leading,m="maxWait"in t,o=m?QA(kw(t.maxWait)||0,e):o,b="trailing"in t?!!t.trailing:b);function E(L){var _=r,I=i;return r=i=void 0,d=L,l=n.apply(I,_),l}function S(L){return d=L,c=setTimeout(C,e),v?E(L):l}function A(L){var _=L-h,I=L-d,B=e-_;return m?jA(B,o-I):B}function T(L){var _=L-h,I=L-d;return h===void 0||_>=e||_<0||m&&I>=o}function C(){var L=v1();if(T(L))return R(L);c=setTimeout(C,A(L))}function R(L){return c=void 0,b&&r?E(L):(r=i=void 0,l)}function D(){c!==void 0&&clearTimeout(c),d=0,r=h=i=c=void 0}function M(){return c===void 0?l:R(v1())}function k(){var L=v1(),_=T(L);if(r=arguments,i=this,h=L,_){if(c===void 0)return S(h);if(m)return clearTimeout(c),c=setTimeout(C,e),E(h)}return c===void 0&&(c=setTimeout(C,e)),l}return k.cancel=D,k.flush=M,k}var bg=JA,g1=sr?sr.performance:null,JS=g1&&g1.now?function(){return g1.now()}:function(){return Date.now()},eR=function(){if(sr){if(sr.requestAnimationFrame)return function(n){sr.requestAnimationFrame(n)};if(sr.mozRequestAnimationFrame)return function(n){sr.mozRequestAnimationFrame(n)};if(sr.webkitRequestAnimationFrame)return function(n){sr.webkitRequestAnimationFrame(n)};if(sr.msRequestAnimationFrame)return function(n){sr.msRequestAnimationFrame(n)}}return function(n){n&&setTimeout(function(){n(JS())},1e3/60)}}(),sy=function(e){return eR(e)},To=JS,td=9261,ex=65599,Fv=5381,tx=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:td,r=t,i;i=e.next(),!i.done;)r=r*ex+i.value|0;return r},tg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:td;return t*ex+e|0},ng=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fv;return(t<<5)+t+e|0},tR=function(e,t){return e*2097152+t},Sl=function(e){return e[0]*2097152+e[1]},_m=function(e,t){return[tg(e[0],t[0]),ng(e[1],t[1])]},nR=function(e,t){var r={value:0,done:!1},i=0,o=e.length,l={next:function(){return i<o?r.value=e[i++]:r.done=!0,r}};return tx(l,t)},kl=function(e,t){var r={value:0,done:!1},i=0,o=e.length,l={next:function(){return i<o?r.value=e.charCodeAt(i++):r.done=!0,r}};return tx(l,t)},nx=function(){return rR(arguments)},rR=function(e){for(var t,r=0;r<e.length;r++){var i=e[r];r===0?t=kl(i):t=kl(i,t)}return t},Lw=!0,aR=console.warn!=null,iR=console.trace!=null,Tb=Number.MAX_SAFE_INTEGER||9007199254740991,rx=function(){return!0},fy=function(){return!1},zw=function(){return 0},Cb=function(){},Hn=function(e){throw new Error(e)},ax=function(e){if(e!==void 0)Lw=!!e;else return Lw},sn=function(e){ax()&&(aR?console.warn(e):(console.log(e),iR&&console.trace()))},uR=function(e){return pt({},e)},qu=function(e){return e==null?e:pn(e)?e.slice():Zt(e)?uR(e):e},oR=function(e){return e.slice()},ix=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},lR={},ux=function(){return lR},xr=function(e){var t=Object.keys(e);return function(r){for(var i={},o=0;o<t.length;o++){var l=t[o],c=r==null?void 0:r[l];i[l]=c===void 0?e[l]:c}return i}},Ll=function(e,t,r){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},Ab=function(e){e.splice(0,e.length)},sR=function(e,t){for(var r=0;r<t.length;r++){var i=t[r];e.push(i)}},su=function(e,t,r){return r&&(t=YS(r,t)),e[t]},Rl=function(e,t,r,i){r&&(t=YS(r,t)),e[t]=i},fR=function(){function n(){Fl(this,n),this._obj={}}return Hl(n,[{key:"set",value:function(t,r){return this._obj[t]=r,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}]),n}(),Vu=typeof Map<"u"?Map:fR,cR="undefined",dR=function(){function n(e){if(Fl(this,n),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var r=0;r<t.length;r++)this.add(t[r])}}return Hl(n,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)}},{key:"delete",value:function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})}},{key:"forEach",value:function(t,r){return this.toArray().forEach(t,r)}}]),n}(),yd=(typeof Set>"u"?"undefined":dr(Set))!==cR?Set:dR,By=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!Sb(e)){Hn("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Hn("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new yd,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),t.renderedPosition){var l=t.renderedPosition,c=e.pan(),h=e.zoom();o.position={x:(l.x-c.x)/h,y:(l.y-c.y)/h}}var d=[];pn(t.classes)?d=t.classes:ct(t.classes)&&(d=t.classes.split(/\s+/));for(var v=0,m=d.length;v<m;v++){var b=d[v];!b||b===""||o.classes.add(b)}this.createEmitter();var E=t.style||t.css;E&&(sn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(E)),(r===void 0||r)&&this.restore()},Iw=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,i,o){var l;Zt(r)&&!si(r)&&(l=r,r=l.roots||l.root,i=l.visit,o=l.directed),o=arguments.length===2&&!Gn(i)?i:o,i=Gn(i)?i:function(){};for(var c=this._private.cy,h=r=ct(r)?this.filter(r):r,d=[],v=[],m={},b={},E={},S=0,A,T=this.byGroup(),C=T.nodes,R=T.edges,D=0;D<h.length;D++){var M=h[D],k=M.id();M.isNode()&&(d.unshift(M),e.bfs&&(E[k]=!0,v.push(M)),b[k]=0)}for(var L=function(){var X=e.bfs?d.shift():d.pop(),K=X.id();if(e.dfs){if(E[K])return"continue";E[K]=!0,v.push(X)}var ee=b[K],Y=m[K],Z=Y!=null?Y.source():null,Q=Y!=null?Y.target():null,ue=Y==null?void 0:X.same(Z)?Q[0]:Z[0],U=void 0;if(U=i(X,Y,ue,S++,ee),U===!0)return A=X,"break";if(U===!1)return"break";for(var W=X.connectedEdges().filter(function(ye){return(!o||ye.source().same(X))&&R.has(ye)}),ne=0;ne<W.length;ne++){var ce=W[ne],oe=ce.connectedNodes().filter(function(ye){return!ye.same(X)&&C.has(ye)}),me=oe.id();oe.length!==0&&!E[me]&&(oe=oe[0],d.push(oe),e.bfs&&(E[me]=!0,v.push(oe)),m[me]=ce,b[me]=b[K]+1)}};d.length!==0;){var _=L();if(_!=="continue"&&_==="break")break}for(var I=c.collection(),B=0;B<v.length;B++){var P=v[B],F=m[P.id()];F!=null&&I.push(F),I.push(P)}return{path:c.collection(I),found:c.collection(A)}}},rg={breadthFirstSearch:Iw({bfs:!0}),depthFirstSearch:Iw({dfs:!0})};rg.bfs=rg.breadthFirstSearch;rg.dfs=rg.depthFirstSearch;var hR=mA(function(n,e){(function(){var t,r,i,o,l,c,h,d,v,m,b,E,S,A,T;i=Math.floor,m=Math.min,r=function(C,R){return C<R?-1:C>R?1:0},v=function(C,R,D,M,k){var L;if(D==null&&(D=0),k==null&&(k=r),D<0)throw new Error("lo must be non-negative");for(M==null&&(M=C.length);D<M;)L=i((D+M)/2),k(R,C[L])<0?M=L:D=L+1;return[].splice.apply(C,[D,D-D].concat(R)),R},c=function(C,R,D){return D==null&&(D=r),C.push(R),A(C,0,C.length-1,D)},l=function(C,R){var D,M;return R==null&&(R=r),D=C.pop(),C.length?(M=C[0],C[0]=D,T(C,0,R)):M=D,M},d=function(C,R,D){var M;return D==null&&(D=r),M=C[0],C[0]=R,T(C,0,D),M},h=function(C,R,D){var M;return D==null&&(D=r),C.length&&D(C[0],R)<0&&(M=[C[0],R],R=M[0],C[0]=M[1],T(C,0,D)),R},o=function(C,R){var D,M,k,L,_,I;for(R==null&&(R=r),L=(function(){I=[];for(var B=0,P=i(C.length/2);0<=P?B<P:B>P;0<=P?B++:B--)I.push(B);return I}).apply(this).reverse(),_=[],M=0,k=L.length;M<k;M++)D=L[M],_.push(T(C,D,R));return _},S=function(C,R,D){var M;if(D==null&&(D=r),M=C.indexOf(R),M!==-1)return A(C,0,M,D),T(C,M,D)},b=function(C,R,D){var M,k,L,_,I;if(D==null&&(D=r),k=C.slice(0,R),!k.length)return k;for(o(k,D),I=C.slice(R),L=0,_=I.length;L<_;L++)M=I[L],h(k,M,D);return k.sort(D).reverse()},E=function(C,R,D){var M,k,L,_,I,B,P,F,H;if(D==null&&(D=r),R*10<=C.length){if(L=C.slice(0,R).sort(D),!L.length)return L;for(k=L[L.length-1],P=C.slice(R),_=0,B=P.length;_<B;_++)M=P[_],D(M,k)<0&&(v(L,M,0,null,D),L.pop(),k=L[L.length-1]);return L}for(o(C,D),H=[],I=0,F=m(R,C.length);0<=F?I<F:I>F;0<=F?++I:--I)H.push(l(C,D));return H},A=function(C,R,D,M){var k,L,_;for(M==null&&(M=r),k=C[D];D>R;){if(_=D-1>>1,L=C[_],M(k,L)<0){C[D]=L,D=_;continue}break}return C[D]=k},T=function(C,R,D){var M,k,L,_,I;for(D==null&&(D=r),k=C.length,I=R,L=C[R],M=2*R+1;M<k;)_=M+1,_<k&&!(D(C[M],C[_])<0)&&(M=_),C[R]=C[M],R=M,M=2*R+1;return C[R]=L,A(C,I,R,D)},t=function(){C.push=c,C.pop=l,C.replace=d,C.pushpop=h,C.heapify=o,C.updateItem=S,C.nlargest=b,C.nsmallest=E;function C(R){this.cmp=R??r,this.nodes=[]}return C.prototype.push=function(R){return c(this.nodes,R,this.cmp)},C.prototype.pop=function(){return l(this.nodes,this.cmp)},C.prototype.peek=function(){return this.nodes[0]},C.prototype.contains=function(R){return this.nodes.indexOf(R)!==-1},C.prototype.replace=function(R){return d(this.nodes,R,this.cmp)},C.prototype.pushpop=function(R){return h(this.nodes,R,this.cmp)},C.prototype.heapify=function(){return o(this.nodes,this.cmp)},C.prototype.updateItem=function(R){return S(this.nodes,R,this.cmp)},C.prototype.clear=function(){return this.nodes=[]},C.prototype.empty=function(){return this.nodes.length===0},C.prototype.size=function(){return this.nodes.length},C.prototype.clone=function(){var R;return R=new C,R.nodes=this.nodes.slice(0),R},C.prototype.toArray=function(){return this.nodes.slice(0)},C.prototype.insert=C.prototype.push,C.prototype.top=C.prototype.peek,C.prototype.front=C.prototype.peek,C.prototype.has=C.prototype.contains,C.prototype.copy=C.prototype.clone,C}(),function(C,R){return n.exports=R()}(this,function(){return t})}).call(Uv)}),wg=hR,vR=xr({root:null,weight:function(e){return 1},directed:!1}),gR={dijkstra:function(e){if(!Zt(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=vR(e),i=r.root,o=r.weight,l=r.directed,c=this,h=o,d=ct(i)?this.filter(i)[0]:i[0],v={},m={},b={},E=this.byGroup(),S=E.nodes,A=E.edges;A.unmergeBy(function(ee){return ee.isLoop()});for(var T=function(Y){return v[Y.id()]},C=function(Y,Z){v[Y.id()]=Z,R.updateItem(Y)},R=new wg(function(ee,Y){return T(ee)-T(Y)}),D=0;D<S.length;D++){var M=S[D];v[M.id()]=M.same(d)?0:1/0,R.push(M)}for(var k=function(Y,Z){for(var Q=(l?Y.edgesTo(Z):Y.edgesWith(Z)).intersect(A),ue=1/0,U,W=0;W<Q.length;W++){var ne=Q[W],ce=h(ne);(ce<ue||!U)&&(ue=ce,U=ne)}return{edge:U,dist:ue}};R.size()>0;){var L=R.pop(),_=T(L),I=L.id();if(b[I]=_,_!==1/0)for(var B=L.neighborhood().intersect(S),P=0;P<B.length;P++){var F=B[P],H=F.id(),X=k(L,F),K=_+X.dist;K<T(F)&&(C(F,K),m[H]={node:L,edge:X.edge})}}return{distanceTo:function(Y){var Z=ct(Y)?S.filter(Y)[0]:Y[0];return b[Z.id()]},pathTo:function(Y){var Z=ct(Y)?S.filter(Y)[0]:Y[0],Q=[],ue=Z,U=ue.id();if(Z.length>0)for(Q.unshift(Z);m[U];){var W=m[U];Q.unshift(W.edge),Q.unshift(W.node),ue=W.node,U=ue.id()}return c.spawn(Q)}}}},pR={kruskal:function(e){e=e||function(D){return 1};for(var t=this.byGroup(),r=t.nodes,i=t.edges,o=r.length,l=new Array(o),c=r,h=function(M){for(var k=0;k<l.length;k++){var L=l[k];if(L.has(M))return k}},d=0;d<o;d++)l[d]=this.spawn(r[d]);for(var v=i.sort(function(D,M){return e(D)-e(M)}),m=0;m<v.length;m++){var b=v[m],E=b.source()[0],S=b.target()[0],A=h(E),T=h(S),C=l[A],R=l[T];A!==T&&(c.merge(b),C.merge(R),l.splice(T,1))}return c}},mR=xr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),yR={aStar:function(e){var t=this.cy(),r=mR(e),i=r.root,o=r.goal,l=r.heuristic,c=r.directed,h=r.weight;i=t.collection(i)[0],o=t.collection(o)[0];var d=i.id(),v=o.id(),m={},b={},E={},S=new wg(function(U,W){return b[U.id()]-b[W.id()]}),A=new yd,T={},C={},R=function(W,ne){S.push(W),A.add(ne)},D,M,k=function(){D=S.pop(),M=D.id(),A.delete(M)},L=function(W){return A.has(W)};R(i,d),m[d]=0,b[d]=l(i);for(var _=0;S.size()>0;){if(k(),_++,M===v){for(var I=[],B=o,P=v,F=C[P];I.unshift(B),F!=null&&I.unshift(F),B=T[P],B!=null;)P=B.id(),F=C[P];return{found:!0,distance:m[M],path:this.spawn(I),steps:_}}E[M]=!0;for(var H=D._private.edges,X=0;X<H.length;X++){var K=H[X];if(this.hasElementWithId(K.id())&&!(c&&K.data("source")!==M)){var ee=K.source(),Y=K.target(),Z=ee.id()!==M?ee:Y,Q=Z.id();if(this.hasElementWithId(Q)&&!E[Q]){var ue=m[M]+h(K);if(!L(Q)){m[Q]=ue,b[Q]=ue+l(Z),R(Z,Q),T[Q]=D,C[Q]=K;continue}ue<m[Q]&&(m[Q]=ue,b[Q]=ue+l(Z),T[Q]=D,C[Q]=K)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},bR=xr({weight:function(e){return 1},directed:!1}),wR={floydWarshall:function(e){for(var t=this.cy(),r=bR(e),i=r.weight,o=r.directed,l=i,c=this.byGroup(),h=c.nodes,d=c.edges,v=h.length,m=v*v,b=function(ce){return h.indexOf(ce)},E=function(ce){return h[ce]},S=new Array(m),A=0;A<m;A++){var T=A%v,C=(A-T)/v;C===T?S[A]=0:S[A]=1/0}for(var R=new Array(m),D=new Array(m),M=0;M<d.length;M++){var k=d[M],L=k.source()[0],_=k.target()[0];if(L!==_){var I=b(L),B=b(_),P=I*v+B,F=l(k);if(S[P]>F&&(S[P]=F,R[P]=B,D[P]=k),!o){var H=B*v+I;!o&&S[H]>F&&(S[H]=F,R[H]=I,D[H]=k)}}}for(var X=0;X<v;X++)for(var K=0;K<v;K++)for(var ee=K*v+X,Y=0;Y<v;Y++){var Z=K*v+Y,Q=X*v+Y;S[ee]+S[Q]<S[Z]&&(S[Z]=S[ee]+S[Q],R[Z]=R[ee])}var ue=function(ce){return(ct(ce)?t.filter(ce):ce)[0]},U=function(ce){return b(ue(ce))},W={distance:function(ce,oe){var me=U(ce),ye=U(oe);return S[me*v+ye]},path:function(ce,oe){var me=U(ce),ye=U(oe),Oe=E(me);if(me===ye)return Oe.collection();if(R[me*v+ye]==null)return t.collection();var Te=t.collection(),de=me,ae;for(Te.merge(Oe);me!==ye;)de=me,me=R[me*v+ye],ae=D[de*v+me],Te.merge(ae),Te.merge(E(me));return Te}};return W}},ER=xr({weight:function(e){return 1},directed:!1,root:null}),SR={bellmanFord:function(e){var t=this,r=ER(e),i=r.weight,o=r.directed,l=r.root,c=i,h=this,d=this.cy(),v=this.byGroup(),m=v.edges,b=v.nodes,E=b.length,S=new Vu,A=!1,T=[];l=d.collection(l)[0],m.unmergeBy(function(ht){return ht.isLoop()});for(var C=m.length,R=function(Ke){var Xe=S.get(Ke.id());return Xe||(Xe={},S.set(Ke.id(),Xe)),Xe},D=function(Ke){return(ct(Ke)?d.$(Ke):Ke)[0]},M=function(Ke){return R(D(Ke)).dist},k=function(Ke){for(var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,je=D(Ke),Ze=[],tt=je;;){if(tt==null)return t.spawn();var at=R(tt),nt=at.edge,wt=at.pred;if(Ze.unshift(tt[0]),tt.same(Xe)&&Ze.length>0)break;nt!=null&&Ze.unshift(nt),tt=wt}return h.spawn(Ze)},L=0;L<E;L++){var _=b[L],I=R(_);_.same(l)?I.dist=0:I.dist=1/0,I.pred=null,I.edge=null}for(var B=!1,P=function(Ke,Xe,je,Ze,tt,at){var nt=Ze.dist+at;nt<tt.dist&&!je.same(Ze.edge)&&(tt.dist=nt,tt.pred=Ke,tt.edge=je,B=!0)},F=1;F<E;F++){B=!1;for(var H=0;H<C;H++){var X=m[H],K=X.source(),ee=X.target(),Y=c(X),Z=R(K),Q=R(ee);P(K,ee,X,Z,Q,Y),o||P(ee,K,X,Q,Z,Y)}if(!B)break}if(B)for(var ue=[],U=0;U<C;U++){var W=m[U],ne=W.source(),ce=W.target(),oe=c(W),me=R(ne).dist,ye=R(ce).dist;if(me+oe<ye||!o&&ye+oe<me)if(A||(sn("Graph contains a negative weight cycle for Bellman-Ford"),A=!0),e.findNegativeWeightCycles!==!1){var Oe=[];me+oe<ye&&Oe.push(ne),!o&&ye+oe<me&&Oe.push(ce);for(var Te=Oe.length,de=0;de<Te;de++){var ae=Oe[de],we=[ae];we.push(R(ae).edge);for(var _e=R(ae).pred;we.indexOf(_e)===-1;)we.push(_e),we.push(R(_e).edge),_e=R(_e).pred;we=we.slice(we.indexOf(_e));for(var He=we[0].id(),Ge=0,Ye=2;Ye<we.length;Ye+=2)we[Ye].id()<He&&(He=we[Ye].id(),Ge=Ye);we=we.slice(Ge).concat(we.slice(0,Ge)),we.push(we[0]);var Ct=we.map(function(ht){return ht.id()}).join(",");ue.indexOf(Ct)===-1&&(T.push(h.spawn(we)),ue.push(Ct))}}else break}return{distanceTo:M,pathTo:k,hasNegativeWeightCycle:A,negativeWeightCycles:T}}},xR=Math.sqrt(2),TR=function(e,t,r){r.length===0&&Hn("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],o=i[1],l=i[2],c=t[o],h=t[l],d=r,v=d.length-1;v>=0;v--){var m=d[v],b=m[1],E=m[2];(t[b]===c&&t[E]===h||t[b]===h&&t[E]===c)&&d.splice(v,1)}for(var S=0;S<d.length;S++){var A=d[S];A[1]===h?(d[S]=A.slice(),d[S][1]=c):A[2]===h&&(d[S]=A.slice(),d[S][2]=c)}for(var T=0;T<t.length;T++)t[T]===h&&(t[T]=c);return d},p1=function(e,t,r,i){for(;r>i;){var o=Math.floor(Math.random()*t.length);t=TR(o,e,t),r--}return t},CR={kargerStein:function(){var e=this,t=this.byGroup(),r=t.nodes,i=t.edges;i.unmergeBy(function(Q){return Q.isLoop()});var o=r.length,l=i.length,c=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),h=Math.floor(o/xR);if(o<2){Hn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var d=[],v=0;v<l;v++){var m=i[v];d.push([v,r.indexOf(m.source()),r.indexOf(m.target())])}for(var b=1/0,E=[],S=new Array(o),A=new Array(o),T=new Array(o),C=function(ue,U){for(var W=0;W<o;W++)U[W]=ue[W]},R=0;R<=c;R++){for(var D=0;D<o;D++)A[D]=D;var M=p1(A,d.slice(),o,h),k=M.slice();C(A,T);var L=p1(A,M,h,2),_=p1(T,k,h,2);L.length<=_.length&&L.length<b?(b=L.length,E=L,C(A,S)):_.length<=L.length&&_.length<b&&(b=_.length,E=_,C(T,S))}for(var I=this.spawn(E.map(function(Q){return i[Q[0]]})),B=this.spawn(),P=this.spawn(),F=S[0],H=0;H<S.length;H++){var X=S[H],K=r[H];X===F?B.merge(K):P.merge(K)}var ee=function(ue){var U=e.spawn();return ue.forEach(function(W){U.merge(W),W.connectedEdges().forEach(function(ne){e.contains(ne)&&!I.contains(ne)&&U.merge(ne)})}),U},Y=[ee(B),ee(P)],Z={cut:I,components:Y,partition1:B,partition2:P};return Z}},AR=function(e){return{x:e.x,y:e.y}},Ny=function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},ox=function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},nd=function(e){return{x:e[0],y:e[1]}},RR=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=t;o<r;o++){var l=e[o];isFinite(l)&&(i=Math.min(l,i))}return i},DR=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=t;o<r;o++){var l=e[o];isFinite(l)&&(i=Math.max(l,i))}return i},OR=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,l=t;l<r;l++){var c=e[l];isFinite(c)&&(i+=c,o++)}return i/o},MR=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var c=0,h=e.length-1;h>=0;h--){var d=e[h];l?isFinite(d)||(e[h]=-1/0,c++):e.splice(h,1)}o&&e.sort(function(b,E){return b-E});var v=e.length,m=Math.floor(v/2);return v%2!==0?e[m+1+c]:(e[m-1+c]+e[m+c])/2},BR=function(e){return Math.PI*e/180},km=function(e,t){return Math.atan2(t,e)-Math.PI/2},Rb=Math.log2||function(n){return Math.log(n)/Math.log(2)},lx=function(e){return e>0?1:e<0?-1:0},vf=function(e,t){return Math.sqrt(ef(e,t))},ef=function(e,t){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i},NR=function(e){for(var t=e.length,r=0,i=0;i<t;i++)r+=e[i];for(var o=0;o<t;o++)e[o]=e[o]/r;return e},Er=function(e,t,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*r},id=function(e,t,r,i){return{x:Er(e.x,t.x,r.x,i),y:Er(e.y,t.y,r.y,i)}},_R=function(e,t,r,i){var o={x:t.x-e.x,y:t.y-e.y},l=vf(e,t),c={x:o.x/l,y:o.y/l};return r=r??0,i=i??r*l,{x:e.x+c.x*i,y:e.y+c.y*i}},ag=function(e,t,r){return Math.max(e,Math.min(r,t))},Ua=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},kR=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},LR=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},zR=function(e,t,r){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},sx=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},IR=function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},Zm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Qm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,o,l;if(t.length===1)r=i=o=l=t[0];else if(t.length===2)r=o=t[0],l=i=t[1];else if(t.length===4){var c=Sr(t,4);r=c[0],i=c[1],o=c[2],l=c[3]}return e.x1-=l,e.x2+=i,e.y1-=r,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Pw=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Db=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},fd=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},PR=function(e,t){return fd(e,t.x,t.y)},fx=function(e,t){return fd(e,t.x1,t.y1)&&fd(e,t.x2,t.y2)},cx=function(e,t,r,i,o,l,c){var h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",d=h==="auto"?gf(o,l):h,v=o/2,m=l/2;d=Math.min(d,v,m);var b=d!==v,E=d!==m,S;if(b){var A=r-v+d-c,T=i-m-c,C=r+v-d+c,R=T;if(S=Ol(e,t,r,i,A,T,C,R,!1),S.length>0)return S}if(E){var D=r+v+c,M=i-m+d-c,k=D,L=i+m-d+c;if(S=Ol(e,t,r,i,D,M,k,L,!1),S.length>0)return S}if(b){var _=r-v+d-c,I=i+m+c,B=r+v-d+c,P=I;if(S=Ol(e,t,r,i,_,I,B,P,!1),S.length>0)return S}if(E){var F=r-v-c,H=i-m+d-c,X=F,K=i+m-d+c;if(S=Ol(e,t,r,i,F,H,X,K,!1),S.length>0)return S}var ee;{var Y=r-v+d,Z=i-m+d;if(ee=Hv(e,t,r,i,Y,Z,d+c),ee.length>0&&ee[0]<=Y&&ee[1]<=Z)return[ee[0],ee[1]]}{var Q=r+v-d,ue=i-m+d;if(ee=Hv(e,t,r,i,Q,ue,d+c),ee.length>0&&ee[0]>=Q&&ee[1]<=ue)return[ee[0],ee[1]]}{var U=r+v-d,W=i+m-d;if(ee=Hv(e,t,r,i,U,W,d+c),ee.length>0&&ee[0]>=U&&ee[1]>=W)return[ee[0],ee[1]]}{var ne=r-v+d,ce=i+m-d;if(ee=Hv(e,t,r,i,ne,ce,d+c),ee.length>0&&ee[0]<=ne&&ee[1]>=ce)return[ee[0],ee[1]]}return[]},UR=function(e,t,r,i,o,l,c){var h=c,d=Math.min(r,o),v=Math.max(r,o),m=Math.min(i,l),b=Math.max(i,l);return d-h<=e&&e<=v+h&&m-h<=t&&t<=b+h},FR=function(e,t,r,i,o,l,c,h,d){var v={x1:Math.min(r,c,o)-d,x2:Math.max(r,c,o)+d,y1:Math.min(i,h,l)-d,y2:Math.max(i,h,l)+d};return!(e<v.x1||e>v.x2||t<v.y1||t>v.y2)},HR=function(e,t,r,i){r-=i;var o=t*t-4*e*r;if(o<0)return[];var l=Math.sqrt(o),c=2*e,h=(-t+l)/c,d=(-t-l)/c;return[h,d]},GR=function(e,t,r,i,o){var l=1e-5;e===0&&(e=l),t/=e,r/=e,i/=e;var c,h,d,v,m,b,E,S;if(h=(3*r-t*t)/9,d=-(27*i)+t*(9*r-2*(t*t)),d/=54,c=h*h*h+d*d,o[1]=0,E=t/3,c>0){m=d+Math.sqrt(c),m=m<0?-Math.pow(-m,1/3):Math.pow(m,1/3),b=d-Math.sqrt(c),b=b<0?-Math.pow(-b,1/3):Math.pow(b,1/3),o[0]=-E+m+b,E+=(m+b)/2,o[4]=o[2]=-E,E=Math.sqrt(3)*(-b+m)/2,o[3]=E,o[5]=-E;return}if(o[5]=o[3]=0,c===0){S=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),o[0]=-E+2*S,o[4]=o[2]=-(S+E);return}h=-h,v=h*h*h,v=Math.acos(d/Math.sqrt(v)),S=2*Math.sqrt(h),o[0]=-E+S*Math.cos(v/3),o[2]=-E+S*Math.cos((v+2*Math.PI)/3),o[4]=-E+S*Math.cos((v+4*Math.PI)/3)},qR=function(e,t,r,i,o,l,c,h){var d=1*r*r-4*r*o+2*r*c+4*o*o-4*o*c+c*c+i*i-4*i*l+2*i*h+4*l*l-4*l*h+h*h,v=1*9*r*o-3*r*r-3*r*c-6*o*o+3*o*c+9*i*l-3*i*i-3*i*h-6*l*l+3*l*h,m=1*3*r*r-6*r*o+r*c-r*e+2*o*o+2*o*e-c*e+3*i*i-6*i*l+i*h-i*t+2*l*l+2*l*t-h*t,b=1*r*o-r*r+r*e-o*e+i*l-i*i+i*t-l*t,E=[];GR(d,v,m,b,E);for(var S=1e-7,A=[],T=0;T<6;T+=2)Math.abs(E[T+1])<S&&E[T]>=0&&E[T]<=1&&A.push(E[T]);A.push(1),A.push(0);for(var C=-1,R,D,M,k=0;k<A.length;k++)R=Math.pow(1-A[k],2)*r+2*(1-A[k])*A[k]*o+A[k]*A[k]*c,D=Math.pow(1-A[k],2)*i+2*(1-A[k])*A[k]*l+A[k]*A[k]*h,M=Math.pow(R-e,2)+Math.pow(D-t,2),C>=0?M<C&&(C=M):C=M;return C},VR=function(e,t,r,i,o,l){var c=[e-r,t-i],h=[o-r,l-i],d=h[0]*h[0]+h[1]*h[1],v=c[0]*c[0]+c[1]*c[1],m=c[0]*h[0]+c[1]*h[1],b=m*m/d;return m<0?v:b>d?(e-o)*(e-o)+(t-l)*(t-l):v-b},La=function(e,t,r){for(var i,o,l,c,h,d=0,v=0;v<r.length/2;v++)if(i=r[v*2],o=r[v*2+1],v+1<r.length/2?(l=r[(v+1)*2],c=r[(v+1)*2+1]):(l=r[(v+1-r.length/2)*2],c=r[(v+1-r.length/2)*2+1]),!(i==e&&l==e))if(i>=e&&e>=l||i<=e&&e<=l)h=(e-i)/(l-i)*(c-o)+o,h>t&&d++;else continue;return d%2!==0},Co=function(e,t,r,i,o,l,c,h,d){var v=new Array(r.length),m;h[0]!=null?(m=Math.atan(h[1]/h[0]),h[0]<0?m=m+Math.PI/2:m=-m-Math.PI/2):m=h;for(var b=Math.cos(-m),E=Math.sin(-m),S=0;S<v.length/2;S++)v[S*2]=l/2*(r[S*2]*b-r[S*2+1]*E),v[S*2+1]=c/2*(r[S*2+1]*b+r[S*2]*E),v[S*2]+=i,v[S*2+1]+=o;var A;if(d>0){var T=dy(v,-d);A=cy(T)}else A=v;return La(e,t,A)},$R=function(e,t,r,i,o,l,c,h){for(var d=new Array(r.length*2),v=0;v<h.length;v++){var m=h[v];d[v*4+0]=m.startX,d[v*4+1]=m.startY,d[v*4+2]=m.stopX,d[v*4+3]=m.stopY;var b=Math.pow(m.cx-e,2)+Math.pow(m.cy-t,2);if(b<=Math.pow(m.radius,2))return!0}return La(e,t,d)},cy=function(e){for(var t=new Array(e.length/2),r,i,o,l,c,h,d,v,m=0;m<e.length/4;m++){r=e[m*4],i=e[m*4+1],o=e[m*4+2],l=e[m*4+3],m<e.length/4-1?(c=e[(m+1)*4],h=e[(m+1)*4+1],d=e[(m+1)*4+2],v=e[(m+1)*4+3]):(c=e[0],h=e[1],d=e[2],v=e[3]);var b=Ol(r,i,o,l,c,h,d,v,!0);t[m*2]=b[0],t[m*2+1]=b[1]}return t},dy=function(e,t){for(var r=new Array(e.length*2),i,o,l,c,h=0;h<e.length/2;h++){i=e[h*2],o=e[h*2+1],h<e.length/2-1?(l=e[(h+1)*2],c=e[(h+1)*2+1]):(l=e[0],c=e[1]);var d=c-o,v=-(l-i),m=Math.sqrt(d*d+v*v),b=d/m,E=v/m;r[h*4]=i+b*t,r[h*4+1]=o+E*t,r[h*4+2]=l+b*t,r[h*4+3]=c+E*t}return r},YR=function(e,t,r,i,o,l){var c=r-e,h=i-t;c/=o,h/=l;var d=Math.sqrt(c*c+h*h),v=d-1;if(v<0)return[];var m=v/d;return[(r-e)*m+e,(i-t)*m+t]},of=function(e,t,r,i,o,l,c){return e-=o,t-=l,e/=r/2+c,t/=i/2+c,e*e+t*t<=1},Hv=function(e,t,r,i,o,l,c){var h=[r-e,i-t],d=[e-o,t-l],v=h[0]*h[0]+h[1]*h[1],m=2*(d[0]*h[0]+d[1]*h[1]),b=d[0]*d[0]+d[1]*d[1]-c*c,E=m*m-4*v*b;if(E<0)return[];var S=(-m+Math.sqrt(E))/(2*v),A=(-m-Math.sqrt(E))/(2*v),T=Math.min(S,A),C=Math.max(S,A),R=[];if(T>=0&&T<=1&&R.push(T),C>=0&&C<=1&&R.push(C),R.length===0)return[];var D=R[0]*h[0]+e,M=R[0]*h[1]+t;if(R.length>1){if(R[0]==R[1])return[D,M];var k=R[1]*h[0]+e,L=R[1]*h[1]+t;return[D,M,k,L]}else return[D,M]},m1=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},Ol=function(e,t,r,i,o,l,c,h,d){var v=e-o,m=r-e,b=c-o,E=t-l,S=i-t,A=h-l,T=b*E-A*v,C=m*E-S*v,R=A*m-b*S;if(R!==0){var D=T/R,M=C/R,k=.001,L=0-k,_=1+k;return L<=D&&D<=_&&L<=M&&M<=_?[e+D*m,t+D*S]:d?[e+D*m,t+D*S]:[]}else return T===0||C===0?m1(e,r,c)===c?[c,h]:m1(e,r,o)===o?[o,l]:m1(o,c,r)===r?[r,i]:[]:[]},ig=function(e,t,r,i,o,l,c,h){var d=[],v,m=new Array(r.length),b=!0;l==null&&(b=!1);var E;if(b){for(var S=0;S<m.length/2;S++)m[S*2]=r[S*2]*l+i,m[S*2+1]=r[S*2+1]*c+o;if(h>0){var A=dy(m,-h);E=cy(A)}else E=m}else E=r;for(var T,C,R,D,M=0;M<E.length/2;M++)T=E[M*2],C=E[M*2+1],M<E.length/2-1?(R=E[(M+1)*2],D=E[(M+1)*2+1]):(R=E[0],D=E[1]),v=Ol(e,t,i,o,T,C,R,D),v.length!==0&&d.push(v[0],v[1]);return d},KR=function(e,t,r,i,o,l,c,h,d){var v=[],m,b=new Array(r.length*2);d.forEach(function(R,D){D===0?(b[b.length-2]=R.startX,b[b.length-1]=R.startY):(b[D*4-2]=R.startX,b[D*4-1]=R.startY),b[D*4]=R.stopX,b[D*4+1]=R.stopY,m=Hv(e,t,i,o,R.cx,R.cy,R.radius),m.length!==0&&v.push(m[0],m[1])});for(var E=0;E<b.length/4;E++)m=Ol(e,t,i,o,b[E*4],b[E*4+1],b[E*4+2],b[E*4+3],!1),m.length!==0&&v.push(m[0],m[1]);if(v.length>2){for(var S=[v[0],v[1]],A=Math.pow(S[0]-e,2)+Math.pow(S[1]-t,2),T=1;T<v.length/2;T++){var C=Math.pow(v[T*2]-e,2)+Math.pow(v[T*2+1]-t,2);C<=A&&(S[0]=v[T*2],S[1]=v[T*2+1],A=C)}return S}return v},Lm=function(e,t,r){var i=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=(o-r)/o;return l<0&&(l=1e-5),[t[0]+l*i[0],t[1]+l*i[1]]},ma=function(e,t){var r=W1(e,t);return r=dx(r),r},dx=function(e){for(var t,r,i=e.length/2,o=1/0,l=1/0,c=-1/0,h=-1/0,d=0;d<i;d++)t=e[2*d],r=e[2*d+1],o=Math.min(o,t),c=Math.max(c,t),l=Math.min(l,r),h=Math.max(h,r);for(var v=2/(c-o),m=2/(h-l),b=0;b<i;b++)t=e[2*b]=e[2*b]*v,r=e[2*b+1]=e[2*b+1]*m,o=Math.min(o,t),c=Math.max(c,t),l=Math.min(l,r),h=Math.max(h,r);if(l<-1)for(var E=0;E<i;E++)r=e[2*E+1]=e[2*E+1]+(-1-l);return e},W1=function(e,t){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=t;for(var o=new Array(e*2),l,c=0;c<e;c++)l=c*r+i,o[2*c]=Math.cos(l),o[2*c+1]=Math.sin(-l);return o},gf=function(e,t){return Math.min(e/4,t/4,8)},hx=function(e,t){return Math.min(e/10,t/10,8)},Ob=function(){return 8},XR=function(e,t,r){return[e-2*t+r,2*(t-e),e]},Z1=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},WR=xr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),ZR={pageRank:function(e){for(var t=WR(e),r=t.dampingFactor,i=t.precision,o=t.iterations,l=t.weight,c=this._private.cy,h=this.byGroup(),d=h.nodes,v=h.edges,m=d.length,b=m*m,E=v.length,S=new Array(b),A=new Array(m),T=(1-r)/m,C=0;C<m;C++){for(var R=0;R<m;R++){var D=C*m+R;S[D]=0}A[C]=0}for(var M=0;M<E;M++){var k=v[M],L=k.data("source"),_=k.data("target");if(L!==_){var I=d.indexOfId(L),B=d.indexOfId(_),P=l(k),F=B*m+I;S[F]+=P,A[I]+=P}}for(var H=1/m+T,X=0;X<m;X++)if(A[X]===0)for(var K=0;K<m;K++){var ee=K*m+X;S[ee]=H}else for(var Y=0;Y<m;Y++){var Z=Y*m+X;S[Z]=S[Z]/A[X]+T}for(var Q=new Array(m),ue=new Array(m),U,W=0;W<m;W++)Q[W]=1;for(var ne=0;ne<o;ne++){for(var ce=0;ce<m;ce++)ue[ce]=0;for(var oe=0;oe<m;oe++)for(var me=0;me<m;me++){var ye=oe*m+me;ue[oe]+=S[ye]*Q[me]}NR(ue),U=Q,Q=ue,ue=U;for(var Oe=0,Te=0;Te<m;Te++){var de=U[Te]-Q[Te];Oe+=de*de}if(Oe<i)break}var ae={rank:function(_e){return _e=c.collection(_e)[0],Q[d.indexOf(_e)]}};return ae}},Uw=xr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),ud={degreeCentralityNormalized:function(e){e=Uw(e);var t=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var v={},m={},b=0,E=0,S=0;S<i;S++){var A=r[S],T=A.id();e.root=A;var C=this.degreeCentrality(e);b<C.indegree&&(b=C.indegree),E<C.outdegree&&(E=C.outdegree),v[T]=C.indegree,m[T]=C.outdegree}return{indegree:function(D){return b==0?0:(ct(D)&&(D=t.filter(D)),v[D.id()]/b)},outdegree:function(D){return E===0?0:(ct(D)&&(D=t.filter(D)),m[D.id()]/E)}}}else{for(var o={},l=0,c=0;c<i;c++){var h=r[c];e.root=h;var d=this.degreeCentrality(e);l<d.degree&&(l=d.degree),o[h.id()]=d.degree}return{degree:function(D){return l===0?0:(ct(D)&&(D=t.filter(D)),o[D.id()]/l)}}}},degreeCentrality:function(e){e=Uw(e);var t=this.cy(),r=this,i=e,o=i.root,l=i.weight,c=i.directed,h=i.alpha;if(o=t.collection(o)[0],c){for(var E=o.connectedEdges(),S=E.filter(function(L){return L.target().same(o)&&r.has(L)}),A=E.filter(function(L){return L.source().same(o)&&r.has(L)}),T=S.length,C=A.length,R=0,D=0,M=0;M<S.length;M++)R+=l(S[M]);for(var k=0;k<A.length;k++)D+=l(A[k]);return{indegree:Math.pow(T,1-h)*Math.pow(R,h),outdegree:Math.pow(C,1-h)*Math.pow(D,h)}}else{for(var d=o.connectedEdges().intersection(r),v=d.length,m=0,b=0;b<d.length;b++)m+=l(d[b]);return{degree:Math.pow(v,1-h)*Math.pow(m,h)}}}};ud.dc=ud.degreeCentrality;ud.dcn=ud.degreeCentralityNormalised=ud.degreeCentralityNormalized;var Fw=xr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),od={closenessCentralityNormalized:function(e){for(var t=Fw(e),r=t.harmonic,i=t.weight,o=t.directed,l=this.cy(),c={},h=0,d=this.nodes(),v=this.floydWarshall({weight:i,directed:o}),m=0;m<d.length;m++){for(var b=0,E=d[m],S=0;S<d.length;S++)if(m!==S){var A=v.distance(E,d[S]);r?b+=1/A:b+=A}r||(b=1/b),h<b&&(h=b),c[E.id()]=b}return{closeness:function(C){return h==0?0:(ct(C)?C=l.filter(C)[0].id():C=C.id(),c[C]/h)}}},closenessCentrality:function(e){var t=Fw(e),r=t.root,i=t.weight,o=t.directed,l=t.harmonic;r=this.filter(r)[0];for(var c=this.dijkstra({root:r,weight:i,directed:o}),h=0,d=this.nodes(),v=0;v<d.length;v++){var m=d[v];if(!m.same(r)){var b=c.distanceTo(m);l?h+=1/b:h+=b}}return l?h:1/h}};od.cc=od.closenessCentrality;od.ccn=od.closenessCentralityNormalised=od.closenessCentralityNormalized;var QR=xr({weight:null,directed:!1}),Q1={betweennessCentrality:function(e){for(var t=QR(e),r=t.directed,i=t.weight,o=i!=null,l=this.cy(),c=this.nodes(),h={},d={},v=0,m={set:function(D,M){d[D]=M,M>v&&(v=M)},get:function(D){return d[D]}},b=0;b<c.length;b++){var E=c[b],S=E.id();r?h[S]=E.outgoers().nodes():h[S]=E.openNeighborhood().nodes(),m.set(S,0)}for(var A=function(D){for(var M=c[D].id(),k=[],L={},_={},I={},B=new wg(function(me,ye){return I[me]-I[ye]}),P=0;P<c.length;P++){var F=c[P].id();L[F]=[],_[F]=0,I[F]=1/0}for(_[M]=1,I[M]=0,B.push(M);!B.empty();){var H=B.pop();if(k.push(H),o)for(var X=0;X<h[H].length;X++){var K=h[H][X],ee=l.getElementById(H),Y=void 0;ee.edgesTo(K).length>0?Y=ee.edgesTo(K)[0]:Y=K.edgesTo(ee)[0];var Z=i(Y);K=K.id(),I[K]>I[H]+Z&&(I[K]=I[H]+Z,B.nodes.indexOf(K)<0?B.push(K):B.updateItem(K),_[K]=0,L[K]=[]),I[K]==I[H]+Z&&(_[K]=_[K]+_[H],L[K].push(H))}else for(var Q=0;Q<h[H].length;Q++){var ue=h[H][Q].id();I[ue]==1/0&&(B.push(ue),I[ue]=I[H]+1),I[ue]==I[H]+1&&(_[ue]=_[ue]+_[H],L[ue].push(H))}}for(var U={},W=0;W<c.length;W++)U[c[W].id()]=0;for(;k.length>0;){for(var ne=k.pop(),ce=0;ce<L[ne].length;ce++){var oe=L[ne][ce];U[oe]=U[oe]+_[oe]/_[ne]*(1+U[ne])}ne!=c[D].id()&&m.set(ne,m.get(ne)+U[ne])}},T=0;T<c.length;T++)A(T);var C={betweenness:function(D){var M=l.collection(D).id();return m.get(M)},betweennessNormalized:function(D){if(v==0)return 0;var M=l.collection(D).id();return m.get(M)/v}};return C.betweennessNormalised=C.betweennessNormalized,C}};Q1.bc=Q1.betweennessCentrality;var jR=xr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(n){return 1}]}),JR=function(e){return jR(e)},eD=function(e,t){for(var r=0,i=0;i<t.length;i++)r+=t[i](e);return r},tD=function(e,t,r){for(var i=0;i<t;i++)e[i*t+i]=r},vx=function(e,t){for(var r,i=0;i<t;i++){r=0;for(var o=0;o<t;o++)r+=e[o*t+i];for(var l=0;l<t;l++)e[l*t+i]=e[l*t+i]/r}},nD=function(e,t,r){for(var i=new Array(r*r),o=0;o<r;o++){for(var l=0;l<r;l++)i[o*r+l]=0;for(var c=0;c<r;c++)for(var h=0;h<r;h++)i[o*r+h]+=e[o*r+c]*t[c*r+h]}return i},rD=function(e,t,r){for(var i=e.slice(0),o=1;o<r;o++)e=nD(e,i,t);return e},aD=function(e,t,r){for(var i=new Array(t*t),o=0;o<t*t;o++)i[o]=Math.pow(e[o],r);return vx(i,t),i},iD=function(e,t,r,i){for(var o=0;o<r;o++){var l=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),c=Math.round(t[o]*Math.pow(10,i))/Math.pow(10,i);if(l!==c)return!1}return!0},uD=function(e,t,r,i){for(var o=[],l=0;l<t;l++){for(var c=[],h=0;h<t;h++)Math.round(e[l*t+h]*1e3)/1e3>0&&c.push(r[h]);c.length!==0&&o.push(i.collection(c))}return o},oD=function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},lD=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&oD(e[t],e[r])&&e.splice(r,1);return e},Hw=function(e){for(var t=this.nodes(),r=this.edges(),i=this.cy(),o=JR(e),l={},c=0;c<t.length;c++)l[t[c].id()]=c;for(var h=t.length,d=h*h,v=new Array(d),m,b=0;b<d;b++)v[b]=0;for(var E=0;E<r.length;E++){var S=r[E],A=l[S.source().id()],T=l[S.target().id()],C=eD(S,o.attributes);v[A*h+T]+=C,v[T*h+A]+=C}tD(v,h,o.multFactor),vx(v,h);for(var R=!0,D=0;R&&D<o.maxIterations;)R=!1,m=rD(v,h,o.expandFactor),v=aD(m,h,o.inflateFactor),iD(v,m,d,4)||(R=!0),D++;var M=uD(v,h,t,i);return M=lD(M),M},sD={markovClustering:Hw,mcl:Hw},fD=function(e){return e},gx=function(e,t){return Math.abs(t-e)},Gw=function(e,t,r){return e+gx(t,r)},qw=function(e,t,r){return e+Math.pow(r-t,2)},cD=function(e){return Math.sqrt(e)},dD=function(e,t,r){return Math.max(e,gx(t,r))},Ov=function(e,t,r,i,o){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:fD,c=i,h,d,v=0;v<e;v++)h=t(v),d=r(v),c=o(c,h,d);return l(c)},cd={euclidean:function(e,t,r){return e>=2?Ov(e,t,r,0,qw,cD):Ov(e,t,r,0,Gw)},squaredEuclidean:function(e,t,r){return Ov(e,t,r,0,qw)},manhattan:function(e,t,r){return Ov(e,t,r,0,Gw)},max:function(e,t,r){return Ov(e,t,r,-1/0,dD)}};cd["squared-euclidean"]=cd.squaredEuclidean;cd.squaredeuclidean=cd.squaredEuclidean;function _y(n,e,t,r,i,o){var l;return Gn(n)?l=n:l=cd[n]||cd.euclidean,e===0&&Gn(n)?l(i,o):l(e,t,r,i,o)}var hD=xr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Mb=function(e){return hD(e)},hy=function(e,t,r,i,o){var l=o!=="kMedoids",c=l?function(m){return r[m]}:function(m){return i[m](r)},h=function(b){return i[b](t)},d=r,v=t;return _y(e,i.length,c,h,d,v)},y1=function(e,t,r){for(var i=r.length,o=new Array(i),l=new Array(i),c=new Array(t),h=null,d=0;d<i;d++)o[d]=e.min(r[d]).value,l[d]=e.max(r[d]).value;for(var v=0;v<t;v++){h=[];for(var m=0;m<i;m++)h[m]=Math.random()*(l[m]-o[m])+o[m];c[v]=h}return c},px=function(e,t,r,i,o){for(var l=1/0,c=0,h=0;h<t.length;h++){var d=hy(r,e,t[h],i,o);d<l&&(l=d,c=h)}return c},mx=function(e,t,r){for(var i=[],o=null,l=0;l<t.length;l++)o=t[l],r[o.id()]===e&&i.push(o);return i},vD=function(e,t,r){return Math.abs(t-e)<=r},gD=function(e,t,r){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var l=Math.abs(e[i][o]-t[i][o]);if(l>r)return!1}return!0},pD=function(e,t,r){for(var i=0;i<r;i++)if(e===t[i])return!0;return!1},Vw=function(e,t){var r=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var o=e[Math.floor(Math.random()*e.length)];pD(o,r,i);)o=e[Math.floor(Math.random()*e.length)];r[i]=o}else for(var l=0;l<t;l++)r[l]=e[Math.floor(Math.random()*e.length)];return r},$w=function(e,t,r){for(var i=0,o=0;o<t.length;o++)i+=hy("manhattan",t[o],e,r,"kMedoids");return i},mD=function(e){var t=this.cy(),r=this.nodes(),i=null,o=Mb(e),l=new Array(o.k),c={},h;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,h=y1(r,o.k,o.attributes)):dr(o.testCentroids)==="object"?h=o.testCentroids:h=y1(r,o.k,o.attributes):h=y1(r,o.k,o.attributes);for(var d=!0,v=0;d&&v<o.maxIterations;){for(var m=0;m<r.length;m++)i=r[m],c[i.id()]=px(i,h,o.distance,o.attributes,"kMeans");d=!1;for(var b=0;b<o.k;b++){var E=mx(b,r,c);if(E.length!==0){for(var S=o.attributes.length,A=h[b],T=new Array(S),C=new Array(S),R=0;R<S;R++){C[R]=0;for(var D=0;D<E.length;D++)i=E[D],C[R]+=o.attributes[R](i);T[R]=C[R]/E.length,vD(T[R],A[R],o.sensitivityThreshold)||(d=!0)}h[b]=T,l[b]=t.collection(E)}}v++}return l},yD=function(e){var t=this.cy(),r=this.nodes(),i=null,o=Mb(e),l=new Array(o.k),c,h={},d,v=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(dr(o.testCentroids)==="object"?c=o.testCentroids:c=Vw(r,o.k)):c=Vw(r,o.k);for(var m=!0,b=0;m&&b<o.maxIterations;){for(var E=0;E<r.length;E++)i=r[E],h[i.id()]=px(i,c,o.distance,o.attributes,"kMedoids");m=!1;for(var S=0;S<c.length;S++){var A=mx(S,r,h);if(A.length!==0){v[S]=$w(c[S],A,o.attributes);for(var T=0;T<A.length;T++)d=$w(A[T],A,o.attributes),d<v[S]&&(v[S]=d,c[S]=A[T],m=!0);l[S]=t.collection(A)}}b++}return l},bD=function(e,t,r,i,o){for(var l,c,h=0;h<t.length;h++)for(var d=0;d<e.length;d++)i[h][d]=Math.pow(r[h][d],o.m);for(var v=0;v<e.length;v++)for(var m=0;m<o.attributes.length;m++){l=0,c=0;for(var b=0;b<t.length;b++)l+=i[b][v]*o.attributes[m](t[b]),c+=i[b][v];e[v][m]=l/c}},wD=function(e,t,r,i,o){for(var l=0;l<e.length;l++)t[l]=e[l].slice();for(var c,h,d,v=2/(o.m-1),m=0;m<r.length;m++)for(var b=0;b<i.length;b++){c=0;for(var E=0;E<r.length;E++)h=hy(o.distance,i[b],r[m],o.attributes,"cmeans"),d=hy(o.distance,i[b],r[E],o.attributes,"cmeans"),c+=Math.pow(h/d,v);e[b][m]=1/c}},ED=function(e,t,r,i){for(var o=new Array(r.k),l=0;l<o.length;l++)o[l]=[];for(var c,h,d=0;d<t.length;d++){c=-1/0,h=-1;for(var v=0;v<t[0].length;v++)t[d][v]>c&&(c=t[d][v],h=v);o[h].push(e[d])}for(var m=0;m<o.length;m++)o[m]=i.collection(o[m]);return o},Yw=function(e){var t=this.cy(),r=this.nodes(),i=Mb(e),o,l,c,h,d;h=new Array(r.length);for(var v=0;v<r.length;v++)h[v]=new Array(i.k);c=new Array(r.length);for(var m=0;m<r.length;m++)c[m]=new Array(i.k);for(var b=0;b<r.length;b++){for(var E=0,S=0;S<i.k;S++)c[b][S]=Math.random(),E+=c[b][S];for(var A=0;A<i.k;A++)c[b][A]=c[b][A]/E}l=new Array(i.k);for(var T=0;T<i.k;T++)l[T]=new Array(i.attributes.length);d=new Array(r.length);for(var C=0;C<r.length;C++)d[C]=new Array(i.k);for(var R=!0,D=0;R&&D<i.maxIterations;)R=!1,bD(l,r,c,d,i),wD(c,h,l,r,i),gD(c,h,i.sensitivityThreshold)||(R=!0),D++;return o=ED(r,c,i,t),{clusters:o,degreeOfMembership:c}},SD={kMeans:mD,kMedoids:yD,fuzzyCMeans:Yw,fcm:Yw},xD=xr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),TD={single:"min",complete:"max"},CD=function(e){var t=xD(e),r=TD[t.linkage];return r!=null&&(t.linkage=r),t},Kw=function(e,t,r,i,o){for(var l=0,c=1/0,h,d=o.attributes,v=function(B,P){return _y(o.distance,d.length,function(F){return d[F](B)},function(F){return d[F](P)},B,P)},m=0;m<e.length;m++){var b=e[m].key,E=r[b][i[b]];E<c&&(l=b,c=E)}if(o.mode==="threshold"&&c>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var S=t[l],A=t[i[l]],T;o.mode==="dendrogram"?T={left:S,right:A,key:S.key}:T={value:S.value.concat(A.value),key:S.key},e[S.index]=T,e.splice(A.index,1),t[S.key]=T;for(var C=0;C<e.length;C++){var R=e[C];S.key===R.key?h=1/0:o.linkage==="min"?(h=r[S.key][R.key],r[S.key][R.key]>r[A.key][R.key]&&(h=r[A.key][R.key])):o.linkage==="max"?(h=r[S.key][R.key],r[S.key][R.key]<r[A.key][R.key]&&(h=r[A.key][R.key])):o.linkage==="mean"?h=(r[S.key][R.key]*S.size+r[A.key][R.key]*A.size)/(S.size+A.size):o.mode==="dendrogram"?h=v(R.value,S.value):h=v(R.value[0],S.value[0]),r[S.key][R.key]=r[R.key][S.key]=h}for(var D=0;D<e.length;D++){var M=e[D].key;if(i[M]===S.key||i[M]===A.key){for(var k=M,L=0;L<e.length;L++){var _=e[L].key;r[M][_]<r[M][k]&&(k=_)}i[M]=k}e[D].index=D}return S.key=A.key=S.index=A.index=null,!0},zm=function n(e,t,r){e&&(e.value?t.push(e.value):(e.left&&n(e.left,t),e.right&&n(e.right,t)))},AD=function n(e,t){if(!e)return"";if(e.left&&e.right){var r=n(e.left,t),i=n(e.right,t),o=t.add({group:"nodes",data:{id:r+","+i}});return t.add({group:"edges",data:{source:r,target:o.id()}}),t.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},RD=function n(e,t,r){if(!e)return[];var i=[],o=[],l=[];return t===0?(e.left&&zm(e.left,i),e.right&&zm(e.right,o),l=i.concat(o),[r.collection(l)]):t===1?e.value?[r.collection(e.value)]:(e.left&&zm(e.left,i),e.right&&zm(e.right,o),[r.collection(i),r.collection(o)]):e.value?[r.collection(e.value)]:(e.left&&(i=n(e.left,t-1,r)),e.right&&(o=n(e.right,t-1,r)),i.concat(o))},Xw=function(e){for(var t=this.cy(),r=this.nodes(),i=CD(e),o=i.attributes,l=function(D,M){return _y(i.distance,o.length,function(k){return o[k](D)},function(k){return o[k](M)},D,M)},c=[],h=[],d=[],v=[],m=0;m<r.length;m++){var b={value:i.mode==="dendrogram"?r[m]:[r[m]],key:m,index:m};c[m]=b,v[m]=b,h[m]=[],d[m]=0}for(var E=0;E<c.length;E++)for(var S=0;S<=E;S++){var A=void 0;i.mode==="dendrogram"?A=E===S?1/0:l(c[E].value,c[S].value):A=E===S?1/0:l(c[E].value[0],c[S].value[0]),h[E][S]=A,h[S][E]=A,A<h[E][d[E]]&&(d[E]=S)}for(var T=Kw(c,v,h,d,i);T;)T=Kw(c,v,h,d,i);var C;return i.mode==="dendrogram"?(C=RD(c[0],i.dendrogramDepth,t),i.addDendrogram&&AD(c[0],t)):(C=new Array(c.length),c.forEach(function(R,D){R.key=R.index=null,C[D]=t.collection(R.value)})),C},DD={hierarchicalClustering:Xw,hca:Xw},OD=xr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),MD=function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||Hn("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(o){return o===r})||Ve(r)||Hn("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(r)),OD(e)},BD=function(e,t,r,i){var o=function(c,h){return i[h](c)};return-_y(e,i.length,function(l){return o(t,l)},function(l){return o(r,l)},t,r)},ND=function(e,t){var r=null;return t==="median"?r=MR(e):t==="mean"?r=OR(e):t==="min"?r=RR(e):t==="max"?r=DR(e):r=t,r},_D=function(e,t,r){for(var i=[],o=0;o<e;o++)t[o*e+o]+r[o*e+o]>0&&i.push(o);return i},Ww=function(e,t,r){for(var i=[],o=0;o<e;o++){for(var l=-1,c=-1/0,h=0;h<r.length;h++){var d=r[h];t[o*e+d]>c&&(l=d,c=t[o*e+d])}l>0&&i.push(l)}for(var v=0;v<r.length;v++)i[r[v]]=r[v];return i},kD=function(e,t,r){for(var i=Ww(e,t,r),o=0;o<r.length;o++){for(var l=[],c=0;c<i.length;c++)i[c]===r[o]&&l.push(c);for(var h=-1,d=-1/0,v=0;v<l.length;v++){for(var m=0,b=0;b<l.length;b++)m+=t[l[b]*e+l[v]];m>d&&(h=v,d=m)}r[o]=l[h]}return i=Ww(e,t,r),i},Zw=function(e){for(var t=this.cy(),r=this.nodes(),i=MD(e),o={},l=0;l<r.length;l++)o[r[l].id()]=l;var c,h,d,v,m,b;c=r.length,h=c*c,d=new Array(h);for(var E=0;E<h;E++)d[E]=-1/0;for(var S=0;S<c;S++)for(var A=0;A<c;A++)S!==A&&(d[S*c+A]=BD(i.distance,r[S],r[A],i.attributes));v=ND(d,i.preference);for(var T=0;T<c;T++)d[T*c+T]=v;m=new Array(h);for(var C=0;C<h;C++)m[C]=0;b=new Array(h);for(var R=0;R<h;R++)b[R]=0;for(var D=new Array(c),M=new Array(c),k=new Array(c),L=0;L<c;L++)D[L]=0,M[L]=0,k[L]=0;for(var _=new Array(c*i.minIterations),I=0;I<_.length;I++)_[I]=0;var B;for(B=0;B<i.maxIterations;B++){for(var P=0;P<c;P++){for(var F=-1/0,H=-1/0,X=-1,K=0,ee=0;ee<c;ee++)D[ee]=m[P*c+ee],K=b[P*c+ee]+d[P*c+ee],K>=F?(H=F,F=K,X=ee):K>H&&(H=K);for(var Y=0;Y<c;Y++)m[P*c+Y]=(1-i.damping)*(d[P*c+Y]-F)+i.damping*D[Y];m[P*c+X]=(1-i.damping)*(d[P*c+X]-H)+i.damping*D[X]}for(var Z=0;Z<c;Z++){for(var Q=0,ue=0;ue<c;ue++)D[ue]=b[ue*c+Z],M[ue]=Math.max(0,m[ue*c+Z]),Q+=M[ue];Q-=M[Z],M[Z]=m[Z*c+Z],Q+=M[Z];for(var U=0;U<c;U++)b[U*c+Z]=(1-i.damping)*Math.min(0,Q-M[U])+i.damping*D[U];b[Z*c+Z]=(1-i.damping)*(Q-M[Z])+i.damping*D[Z]}for(var W=0,ne=0;ne<c;ne++){var ce=b[ne*c+ne]+m[ne*c+ne]>0?1:0;_[B%i.minIterations*c+ne]=ce,W+=ce}if(W>0&&(B>=i.minIterations-1||B==i.maxIterations-1)){for(var oe=0,me=0;me<c;me++){k[me]=0;for(var ye=0;ye<i.minIterations;ye++)k[me]+=_[ye*c+me];(k[me]===0||k[me]===i.minIterations)&&oe++}if(oe===c)break}}for(var Oe=_D(c,m,b),Te=kD(c,d,Oe),de={},ae=0;ae<Oe.length;ae++)de[Oe[ae]]=[];for(var we=0;we<r.length;we++){var _e=o[r[we].id()],He=Te[_e];He!=null&&de[He].push(r[we])}for(var Ge=new Array(Oe.length),Ye=0;Ye<Oe.length;Ye++)Ge[Ye]=t.collection(de[Oe[Ye]]);return Ge},LD={affinityPropagation:Zw,ap:Zw},zD=xr({root:void 0,directed:!1}),ID={hierholzer:function(e){if(!Zt(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=zD(e),i=r.root,o=r.directed,l=this,c=!1,h,d,v;i&&(v=ct(i)?this.filter(i)[0].id():i[0].id());var m={},b={};o?l.forEach(function(R){var D=R.id();if(R.isNode()){var M=R.indegree(!0),k=R.outdegree(!0),L=M-k,_=k-M;L==1?h?c=!0:h=D:_==1?d?c=!0:d=D:(_>1||L>1)&&(c=!0),m[D]=[],R.outgoers().forEach(function(I){I.isEdge()&&m[D].push(I.id())})}else b[D]=[void 0,R.target().id()]}):l.forEach(function(R){var D=R.id();if(R.isNode()){var M=R.degree(!0);M%2&&(h?d?c=!0:d=D:h=D),m[D]=[],R.connectedEdges().forEach(function(k){return m[D].push(k.id())})}else b[D]=[R.source().id(),R.target().id()]});var E={found:!1,trail:void 0};if(c)return E;if(d&&h)if(o){if(v&&d!=v)return E;v=d}else{if(v&&d!=v&&h!=v)return E;v||(v=d)}else v||(v=l[0].id());var S=function(D){for(var M=D,k=[D],L,_,I;m[M].length;)L=m[M].shift(),_=b[L][0],I=b[L][1],M!=I?(m[I]=m[I].filter(function(B){return B!=L}),M=I):!o&&M!=_&&(m[_]=m[_].filter(function(B){return B!=L}),M=_),k.unshift(L),k.unshift(M);return k},A=[],T=[];for(T=S(v);T.length!=1;)m[T[0]].length==0?(A.unshift(l.getElementById(T.shift())),A.unshift(l.getElementById(T.shift()))):T=S(T.shift()).concat(T);A.unshift(l.getElementById(T.shift()));for(var C in m)if(m[C].length)return E;return E.found=!0,E.trail=this.spawn(A,!0),E}},Im=function(){var e=this,t={},r=0,i=0,o=[],l=[],c={},h=function(b,E){for(var S=l.length-1,A=[],T=e.spawn();l[S].x!=b||l[S].y!=E;)A.push(l.pop().edge),S--;A.push(l.pop().edge),A.forEach(function(C){var R=C.connectedNodes().intersection(e);T.merge(C),R.forEach(function(D){var M=D.id(),k=D.connectedEdges().intersection(e);T.merge(D),t[M].cutVertex?T.merge(k.filter(function(L){return L.isLoop()})):T.merge(k)})}),o.push(T)},d=function m(b,E,S){b===S&&(i+=1),t[E]={id:r,low:r++,cutVertex:!1};var A=e.getElementById(E).connectedEdges().intersection(e);if(A.size()===0)o.push(e.spawn(e.getElementById(E)));else{var T,C,R,D;A.forEach(function(M){T=M.source().id(),C=M.target().id(),R=T===E?C:T,R!==S&&(D=M.id(),c[D]||(c[D]=!0,l.push({x:E,y:R,edge:M})),R in t?t[E].low=Math.min(t[E].low,t[R].id):(m(b,R,E),t[E].low=Math.min(t[E].low,t[R].low),t[E].id<=t[R].low&&(t[E].cutVertex=!0,h(E,R))))})}};e.forEach(function(m){if(m.isNode()){var b=m.id();b in t||(i=0,d(b,b),t[b].cutVertex=i>1)}});var v=Object.keys(t).filter(function(m){return t[m].cutVertex}).map(function(m){return e.getElementById(m)});return{cut:e.spawn(v),components:o}},PD={hopcroftTarjanBiconnected:Im,htbc:Im,htb:Im,hopcroftTarjanBiconnectedComponents:Im},Pm=function(){var e=this,t={},r=0,i=[],o=[],l=e.spawn(e),c=function h(d){o.push(d),t[d]={index:r,low:r++,explored:!1};var v=e.getElementById(d).connectedEdges().intersection(e);if(v.forEach(function(A){var T=A.target().id();T!==d&&(T in t||h(T),t[T].explored||(t[d].low=Math.min(t[d].low,t[T].low)))}),t[d].index===t[d].low){for(var m=e.spawn();;){var b=o.pop();if(m.merge(e.getElementById(b)),t[b].low=t[d].index,t[b].explored=!0,b===d)break}var E=m.edgesWith(m),S=m.merge(E);i.push(S),l=l.difference(S)}};return e.forEach(function(h){if(h.isNode()){var d=h.id();d in t||c(d)}}),{cut:l,components:i}},UD={tarjanStronglyConnected:Pm,tsc:Pm,tscc:Pm,tarjanStronglyConnectedComponents:Pm},yx={};[rg,gR,pR,yR,wR,SR,CR,ZR,ud,od,Q1,sD,SD,DD,LD,ID,PD,UD].forEach(function(n){pt(yx,n)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var bx=0,wx=1,Ex=2,Ao=function n(e){if(!(this instanceof n))return new n(e);this.id="Thenable/1.0.7",this.state=bx,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ao.prototype={fulfill:function(e){return Qw(this,wx,"fulfillValue",e)},reject:function(e){return Qw(this,Ex,"rejectReason",e)},then:function(e,t){var r=this,i=new Ao;return r.onFulfilled.push(Jw(e,i,"fulfill")),r.onRejected.push(Jw(t,i,"reject")),Sx(r),i.proxy}};var Qw=function(e,t,r,i){return e.state===bx&&(e.state=t,e[r]=i,Sx(e)),e},Sx=function(e){e.state===wx?jw(e,"onFulfilled",e.fulfillValue):e.state===Ex&&jw(e,"onRejected",e.rejectReason)},jw=function(e,t,r){if(e[t].length!==0){var i=e[t];e[t]=[];var o=function(){for(var c=0;c<i.length;c++)i[c](r)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},Jw=function(e,t,r){return function(i){if(typeof e!="function")t[r].call(t,i);else{var o;try{o=e(i)}catch(l){t.reject(l);return}FD(t,o)}}},FD=function n(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(dr(t)==="object"&&t!==null||typeof t=="function")try{r=t.then}catch(o){e.reject(o);return}if(typeof r=="function"){var i=!1;try{r.call(t,function(o){i||(i=!0,o===t?e.reject(new TypeError("circular thenable chain")):n(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(t)};Ao.all=function(n){return new Ao(function(e,t){for(var r=new Array(n.length),i=0,o=function(h,d){r[h]=d,i++,i===n.length&&e(r)},l=0;l<n.length;l++)(function(c){var h=n[c],d=h!=null&&h.then!=null;if(d)h.then(function(m){o(c,m)},function(m){t(m)});else{var v=h;o(c,v)}})(l)})};Ao.resolve=function(n){return new Ao(function(e,t){e(n)})};Ao.reject=function(n){return new Ao(function(e,t){t(n)})};var bd=typeof Promise<"u"?Promise:Ao,j1=function(e,t,r){var i=Sb(e),o=!i,l=this._private=pt({duration:1e3},t,r);if(l.target=e,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&Gn(l.complete)&&l.completes.push(l.complete),o){var c=e.position();l.startPosition=l.startPosition||{x:c.x,y:c.y},l.startStyle=l.startStyle||e.cy().style().getAnimationStartStyle(e,l.style)}if(i){var h=e.pan();l.startPan={x:h.x,y:h.y},l.startZoom=e.zoom()}this.length=1,this[0]=this},pf=j1.prototype;pt(pf,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),si(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(d,v){var m=e[d];m!=null&&(e[d]=e[v],e[v]=m)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],l=o.name,c=e.startStyle[l];e.startStyle[l]=o,e.style[i]=c}return t&&this.play(),this},promise:function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new bd(function(i,o){r.push(function(){i()})})}});pf.complete=pf.completed;pf.run=pf.play;pf.running=pf.playing;var HD={animated:function(){return function(){var t=this,r=t.length!==void 0,i=r?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return!1;var l=i[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,r=t.length!==void 0,i=r?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<i.length;l++){var c=i[l];c._private.animation.queue=[]}return this}},delay:function(){return function(t,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:r}):this}},delayAnimation:function(){return function(t,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:r}):this}},animation:function(){return function(t,r){var i=this,o=i.length!==void 0,l=o?i:[i],c=this._private.cy||this,h=!o,d=!h;if(!c.styleEnabled())return this;var v=c.style();t=pt({},t,r);var m=Object.keys(t).length===0;if(m)return new j1(l[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(d&&(t.style=v.getPropsList(t.style||t.css),t.css=void 0),d&&t.renderedPosition!=null){var b=t.renderedPosition,E=c.pan(),S=c.zoom();t.position=ox(b,S,E)}if(h&&t.panBy!=null){var A=t.panBy,T=c.pan();t.pan={x:T.x+A.x,y:T.y+A.y}}var C=t.center||t.centre;if(h&&C!=null){var R=c.getCenterPan(C.eles,t.zoom);R!=null&&(t.pan=R)}if(h&&t.fit!=null){var D=t.fit,M=c.getFitViewport(D.eles||D.boundingBox,D.padding);M!=null&&(t.pan=M.pan,t.zoom=M.zoom)}if(h&&Zt(t.zoom)){var k=c.getZoomedViewport(t.zoom);k!=null?(k.zoomed&&(t.zoom=k.zoom),k.panned&&(t.pan=k.pan)):t.zoom=null}return new j1(l[0],t)}},animate:function(){return function(t,r){var i=this,o=i.length!==void 0,l=o?i:[i],c=this._private.cy||this;if(!c.styleEnabled())return this;r&&(t=pt({},t,r));for(var h=0;h<l.length;h++){var d=l[h],v=d.animated()&&(t.queue===void 0||t.queue),m=d.animation(t,v?{queue:!0}:void 0);m.play()}return this}},stop:function(){return function(t,r){var i=this,o=i.length!==void 0,l=o?i:[i],c=this._private.cy||this;if(!c.styleEnabled())return this;for(var h=0;h<l.length;h++){for(var d=l[h],v=d._private,m=v.animation.current,b=0;b<m.length;b++){var E=m[b],S=E._private;r&&(S.duration=0)}t&&(v.animation.queue=[]),r||(v.animation.current=[])}return c.notify("draw"),this}}},GD=Array.isArray,ky=GD,qD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VD=/^\w*$/;function $D(n,e){if(ky(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||yg(n)?!0:VD.test(n)||!qD.test(n)||e!=null&&n in Object(e)}var YD=$D,KD="[object AsyncFunction]",XD="[object Function]",WD="[object GeneratorFunction]",ZD="[object Proxy]";function QD(n){if(!hf(n))return!1;var e=jS(n);return e==XD||e==WD||e==KD||e==ZD}var jD=QD,JD=My["__core-js_shared__"],b1=JD,eE=function(){var n=/[^.]+$/.exec(b1&&b1.keys&&b1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function eO(n){return!!eE&&eE in n}var tO=eO,nO=Function.prototype,rO=nO.toString;function aO(n){if(n!=null){try{return rO.call(n)}catch{}try{return n+""}catch{}}return""}var iO=aO,uO=/[\\^$.*+?()[\]{}|]/g,oO=/^\[object .+?Constructor\]$/,lO=Function.prototype,sO=Object.prototype,fO=lO.toString,cO=sO.hasOwnProperty,dO=RegExp("^"+fO.call(cO).replace(uO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hO(n){if(!hf(n)||tO(n))return!1;var e=jD(n)?dO:oO;return e.test(iO(n))}var vO=hO;function gO(n,e){return n==null?void 0:n[e]}var pO=gO;function mO(n,e){var t=pO(n,e);return vO(t)?t:void 0}var Bb=mO,yO=Bb(Object,"create"),ug=yO;function bO(){this.__data__=ug?ug(null):{},this.size=0}var wO=bO;function EO(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var SO=EO,xO="__lodash_hash_undefined__",TO=Object.prototype,CO=TO.hasOwnProperty;function AO(n){var e=this.__data__;if(ug){var t=e[n];return t===xO?void 0:t}return CO.call(e,n)?e[n]:void 0}var RO=AO,DO=Object.prototype,OO=DO.hasOwnProperty;function MO(n){var e=this.__data__;return ug?e[n]!==void 0:OO.call(e,n)}var BO=MO,NO="__lodash_hash_undefined__";function _O(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ug&&e===void 0?NO:e,this}var kO=_O;function wd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}wd.prototype.clear=wO;wd.prototype.delete=SO;wd.prototype.get=RO;wd.prototype.has=BO;wd.prototype.set=kO;var tE=wd;function LO(){this.__data__=[],this.size=0}var zO=LO;function IO(n,e){return n===e||n!==n&&e!==e}var xx=IO;function PO(n,e){for(var t=n.length;t--;)if(xx(n[t][0],e))return t;return-1}var Ly=PO,UO=Array.prototype,FO=UO.splice;function HO(n){var e=this.__data__,t=Ly(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():FO.call(e,t,1),--this.size,!0}var GO=HO;function qO(n){var e=this.__data__,t=Ly(e,n);return t<0?void 0:e[t][1]}var VO=qO;function $O(n){return Ly(this.__data__,n)>-1}var YO=$O;function KO(n,e){var t=this.__data__,r=Ly(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var XO=KO;function Ed(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ed.prototype.clear=zO;Ed.prototype.delete=GO;Ed.prototype.get=VO;Ed.prototype.has=YO;Ed.prototype.set=XO;var WO=Ed,ZO=Bb(My,"Map"),QO=ZO;function jO(){this.size=0,this.__data__={hash:new tE,map:new(QO||WO),string:new tE}}var JO=jO;function eM(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var tM=eM;function nM(n,e){var t=n.__data__;return tM(e)?t[typeof e=="string"?"string":"hash"]:t.map}var zy=nM;function rM(n){var e=zy(this,n).delete(n);return this.size-=e?1:0,e}var aM=rM;function iM(n){return zy(this,n).get(n)}var uM=iM;function oM(n){return zy(this,n).has(n)}var lM=oM;function sM(n,e){var t=zy(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var fM=sM;function Sd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Sd.prototype.clear=JO;Sd.prototype.delete=aM;Sd.prototype.get=uM;Sd.prototype.has=lM;Sd.prototype.set=fM;var Tx=Sd,cM="Expected a function";function Nb(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(cM);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var l=n.apply(this,r);return t.cache=o.set(i,l)||o,l};return t.cache=new(Nb.Cache||Tx),t}Nb.Cache=Tx;var dM=Nb,hM=500;function vM(n){var e=dM(n,function(r){return t.size===hM&&t.clear(),r}),t=e.cache;return e}var gM=vM,pM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mM=/\\(\\)?/g,yM=gM(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(pM,function(t,r,i,o){e.push(i?o.replace(mM,"$1"):r||t)}),e}),Cx=yM;function bM(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var Ax=bM,nE=sd?sd.prototype:void 0,rE=nE?nE.toString:void 0;function Rx(n){if(typeof n=="string")return n;if(ky(n))return Ax(n,Rx)+"";if(yg(n))return rE?rE.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var wM=Rx;function EM(n){return n==null?"":wM(n)}var Dx=EM;function SM(n,e){return ky(n)?n:YD(n,e)?[n]:Cx(Dx(n))}var Ox=SM;function xM(n){if(typeof n=="string"||yg(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var _b=xM;function TM(n,e){e=Ox(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[_b(e[t++])];return t&&t==r?n:void 0}var CM=TM;function AM(n,e,t){var r=n==null?void 0:CM(n,e);return r===void 0?t:r}var RM=AM,DM=function(){try{var n=Bb(Object,"defineProperty");return n({},"",{}),n}catch{}}(),aE=DM;function OM(n,e,t){e=="__proto__"&&aE?aE(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var MM=OM,BM=Object.prototype,NM=BM.hasOwnProperty;function _M(n,e,t){var r=n[e];(!(NM.call(n,e)&&xx(r,t))||t===void 0&&!(e in n))&&MM(n,e,t)}var kM=_M,LM=9007199254740991,zM=/^(?:0|[1-9]\d*)$/;function IM(n,e){var t=typeof n;return e=e??LM,!!e&&(t=="number"||t!="symbol"&&zM.test(n))&&n>-1&&n%1==0&&n<e}var PM=IM;function UM(n,e,t,r){if(!hf(n))return n;e=Ox(e,n);for(var i=-1,o=e.length,l=o-1,c=n;c!=null&&++i<o;){var h=_b(e[i]),d=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return n;if(i!=l){var v=c[h];d=r?r(v,h,c):void 0,d===void 0&&(d=hf(v)?v:PM(e[i+1])?[]:{})}kM(c,h,d),c=c[h]}return n}var FM=UM;function HM(n,e,t){return n==null?n:FM(n,e,t)}var GM=HM;function qM(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var VM=qM;function $M(n){return ky(n)?Ax(n,_b):yg(n)?[n]:VM(Cx(Dx(n)))}var YM=$M,KM={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=pt({},t,e),function(i,o){var l=e,c=this,h=c.length!==void 0,d=h?c:[c],v=h?c[0]:c;if(ct(i)){var m=i.indexOf(".")!==-1,b=m&&YM(i);if(l.allowGetting&&o===void 0){var E;return v&&(l.beforeGet(v),b&&v._private[l.field][i]===void 0?E=RM(v._private[l.field],b):E=v._private[l.field][i]),E}else if(l.allowSetting&&o!==void 0){var S=!l.immutableKeys[i];if(S){var A=HS({},i,o);l.beforeSet(c,A);for(var T=0,C=d.length;T<C;T++){var R=d[T];l.canSet(R)&&(b&&v._private[l.field][i]===void 0?GM(R._private[l.field],b,o):R._private[l.field][i]=o)}l.updateStyle&&c.updateStyle(),l.onSet(c),l.settingTriggersEvent&&c[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&Zt(i)){var D=i,M,k,L=Object.keys(D);l.beforeSet(c,D);for(var _=0;_<L.length;_++){M=L[_],k=D[M];var I=!l.immutableKeys[M];if(I)for(var B=0;B<d.length;B++){var P=d[B];l.canSet(P)&&(P._private[l.field][M]=k)}}l.updateStyle&&c.updateStyle(),l.onSet(c),l.settingTriggersEvent&&c[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&Gn(i)){var F=i;c.on(l.bindingEvent,F)}else if(l.allowGetting&&i===void 0){var H;return v&&(l.beforeGet(v),H=v._private[l.field]),H}return c}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=pt({},t,e),function(i){var o=e,l=this,c=l.length!==void 0,h=c?l:[l];if(ct(i)){for(var d=i.split(/\s+/),v=d.length,m=0;m<v;m++){var b=d[m];if(!_l(b)){var E=!o.immutableKeys[b];if(E)for(var S=0,A=h.length;S<A;S++)h[S]._private[o.field][b]=void 0}}o.triggerEvent&&l[o.triggerFnName](o.event)}else if(i===void 0){for(var T=0,C=h.length;T<C;T++)for(var R=h[T]._private[o.field],D=Object.keys(R),M=0;M<D.length;M++){var k=D[M],L=!o.immutableKeys[k];L&&(R[k]=void 0)}o.triggerEvent&&l[o.triggerFnName](o.event)}return l}}},XM={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,i){var o=this,l=Array.prototype.slice.call(arguments,0);return new bd(function(c,h){var d=function(E){o.off.apply(o,m),c(E)},v=l.concat([d]),m=v.concat([]);o.on.apply(o,v)})}}},ln={};[HD,KM,XM].forEach(function(n){pt(ln,n)});var WM={animate:ln.animate(),animation:ln.animation(),animated:ln.animated(),clearQueue:ln.clearQueue(),delay:ln.delay(),delayAnimation:ln.delayAnimation(),stop:ln.stop()},jm={classes:function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(S){return r.push(S)}),r}else pn(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new yd(e),l=0;l<t.length;l++){for(var c=t[l],h=c._private,d=h.classes,v=!1,m=0;m<e.length;m++){var b=e[m],E=d.has(b);if(!E){v=!0;break}}v||(v=d.size!==e.length),v&&(h.classes=o,i.push(c))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){pn(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=t===void 0,o=[],l=0,c=r.length;l<c;l++)for(var h=r[l],d=h._private.classes,v=!1,m=0;m<e.length;m++){var b=e[m],E=d.has(b),S=!1;t||i&&!E?(d.add(b),S=!0):(!t||i&&E)&&(d.delete(b),S=!0),!v&&S&&(o.push(h),v=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}};jm.className=jm.classNames=jm.classes;var Wt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:cr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Wt.variable="(?:[\\w-.]|(?:\\\\"+Wt.metaChar+"))+";Wt.className="(?:[\\w-]|(?:\\\\"+Wt.metaChar+"))+";Wt.value=Wt.string+"|"+Wt.number;Wt.id=Wt.variable;(function(){var n,e,t;for(n=Wt.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],Wt.comparatorOp+="|@"+e;for(n=Wt.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],!(e.indexOf("!")>=0)&&e!=="="&&(Wt.comparatorOp+="|\\!"+e)})();var hn=function(){return{checks:[]}},et={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},J1=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(n,e){return fA(n.selector,e.selector)}),ZM=function(){for(var n={},e,t=0;t<J1.length;t++)e=J1[t],n[e.selector]=e.matches;return n}(),QM=function(e,t){return ZM[e](t)},jM="("+J1.map(function(n){return n.selector}).join("|")+")",Yc=function(e){return e.replace(new RegExp("\\\\("+Wt.metaChar+")","g"),function(t,r){return r})},xl=function(e,t,r){e[e.length-1]=r},eb=[{name:"group",query:!0,regex:"("+Wt.group+")",populate:function(e,t,r){var i=Sr(r,1),o=i[0];t.checks.push({type:et.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:jM,populate:function(e,t,r){var i=Sr(r,1),o=i[0];t.checks.push({type:et.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+Wt.id+")",populate:function(e,t,r){var i=Sr(r,1),o=i[0];t.checks.push({type:et.ID,value:Yc(o)})}},{name:"className",query:!0,regex:"\\.("+Wt.className+")",populate:function(e,t,r){var i=Sr(r,1),o=i[0];t.checks.push({type:et.CLASS,value:Yc(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*\\]",populate:function(e,t,r){var i=Sr(r,1),o=i[0];t.checks.push({type:et.DATA_EXIST,field:Yc(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.value+")\\s*\\]",populate:function(e,t,r){var i=Sr(r,3),o=i[0],l=i[1],c=i[2],h=new RegExp("^"+Wt.string+"$").exec(c)!=null;h?c=c.substring(1,c.length-1):c=parseFloat(c),t.checks.push({type:et.DATA_COMPARE,field:Yc(o),operator:l,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Wt.boolOp+")\\s*("+Wt.variable+")\\s*\\]",populate:function(e,t,r){var i=Sr(r,2),o=i[0],l=i[1];t.checks.push({type:et.DATA_BOOL,field:Yc(l),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Wt.meta+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.number+")\\s*\\]\\]",populate:function(e,t,r){var i=Sr(r,3),o=i[0],l=i[1],c=i[2];t.checks.push({type:et.META_COMPARE,field:Yc(o),operator:l,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:Wt.separator,populate:function(e,t){var r=e.currentSubject,i=e.edgeCount,o=e.compoundCount,l=e[e.length-1];r!=null&&(l.subject=r,e.currentSubject=null),l.edgeCount=i,l.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var c=e[e.length++]=hn();return c}},{name:"directedEdge",separator:!0,regex:Wt.directedEdge,populate:function(e,t){if(e.currentSubject==null){var r=hn(),i=t,o=hn();return r.checks.push({type:et.DIRECTED_EDGE,source:i,target:o}),xl(e,t,r),e.edgeCount++,o}else{var l=hn(),c=t,h=hn();return l.checks.push({type:et.NODE_SOURCE,source:c,target:h}),xl(e,t,l),e.edgeCount++,h}}},{name:"undirectedEdge",separator:!0,regex:Wt.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var r=hn(),i=t,o=hn();return r.checks.push({type:et.UNDIRECTED_EDGE,nodes:[i,o]}),xl(e,t,r),e.edgeCount++,o}else{var l=hn(),c=t,h=hn();return l.checks.push({type:et.NODE_NEIGHBOR,node:c,neighbor:h}),xl(e,t,l),h}}},{name:"child",separator:!0,regex:Wt.child,populate:function(e,t){if(e.currentSubject==null){var r=hn(),i=hn(),o=e[e.length-1];return r.checks.push({type:et.CHILD,parent:o,child:i}),xl(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var l=hn(),c=e[e.length-1],h=hn(),d=hn(),v=hn(),m=hn();return l.checks.push({type:et.COMPOUND_SPLIT,left:c,right:h,subject:d}),d.checks=t.checks,t.checks=[{type:et.TRUE}],m.checks.push({type:et.TRUE}),h.checks.push({type:et.PARENT,parent:m,child:v}),xl(e,c,l),e.currentSubject=d,e.compoundCount++,v}else{var b=hn(),E=hn(),S=[{type:et.PARENT,parent:b,child:E}];return b.checks=t.checks,t.checks=S,e.compoundCount++,E}}},{name:"descendant",separator:!0,regex:Wt.descendant,populate:function(e,t){if(e.currentSubject==null){var r=hn(),i=hn(),o=e[e.length-1];return r.checks.push({type:et.DESCENDANT,ancestor:o,descendant:i}),xl(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var l=hn(),c=e[e.length-1],h=hn(),d=hn(),v=hn(),m=hn();return l.checks.push({type:et.COMPOUND_SPLIT,left:c,right:h,subject:d}),d.checks=t.checks,t.checks=[{type:et.TRUE}],m.checks.push({type:et.TRUE}),h.checks.push({type:et.ANCESTOR,ancestor:m,descendant:v}),xl(e,c,l),e.currentSubject=d,e.compoundCount++,v}else{var b=hn(),E=hn(),S=[{type:et.ANCESTOR,ancestor:b,descendant:E}];return b.checks=t.checks,t.checks=S,e.compoundCount++,E}}},{name:"subject",modifier:!0,regex:Wt.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return sn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],i=r.checks[0],o=i==null?null:i.type;o===et.DIRECTED_EDGE?i.type=et.NODE_TARGET:o===et.UNDIRECTED_EDGE&&(i.type=et.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];eb.forEach(function(n){return n.regexObj=new RegExp("^"+n.regex)});var JM=function(e){for(var t,r,i,o=0;o<eb.length;o++){var l=eb[o],c=l.name,h=e.match(l.regexObj);if(h!=null){r=h,t=l,i=c;var d=h[0];e=e.substring(d.length);break}}return{expr:t,match:r,name:i,remaining:e}},eB=function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},tB=function(e){var t=this,r=t.inputText=e,i=t[0]=hn();for(t.length=1,r=eB(r);;){var o=JM(r);if(o.expr==null)return sn("The selector `"+e+"`is invalid"),!1;var l=o.match.slice(1),c=o.expr.populate(t,i,l);if(c===!1)return!1;if(c!=null&&(i=c),r=o.remaining,r.match(/^\s*$/))break}var h=t[t.length-1];t.currentSubject!=null&&(h.subject=t.currentSubject),h.edgeCount=t.edgeCount,h.compoundCount=t.compoundCount;for(var d=0;d<t.length;d++){var v=t[d];if(v.compoundCount>0&&v.edgeCount>0)return sn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return sn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&sn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},nB=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},t=function(v){return ct(v)?'"'+v+'"':e(v)},r=function(v){return" "+v+" "},i=function(v,m){var b=v.type,E=v.value;switch(b){case et.GROUP:{var S=e(E);return S.substring(0,S.length-1)}case et.DATA_COMPARE:{var A=v.field,T=v.operator;return"["+A+r(e(T))+t(E)+"]"}case et.DATA_BOOL:{var C=v.operator,R=v.field;return"["+e(C)+R+"]"}case et.DATA_EXIST:{var D=v.field;return"["+D+"]"}case et.META_COMPARE:{var M=v.operator,k=v.field;return"[["+k+r(e(M))+t(E)+"]]"}case et.STATE:return E;case et.ID:return"#"+E;case et.CLASS:return"."+E;case et.PARENT:case et.CHILD:return o(v.parent,m)+r(">")+o(v.child,m);case et.ANCESTOR:case et.DESCENDANT:return o(v.ancestor,m)+" "+o(v.descendant,m);case et.COMPOUND_SPLIT:{var L=o(v.left,m),_=o(v.subject,m),I=o(v.right,m);return L+(L.length>0?" ":"")+_+I}case et.TRUE:return""}},o=function(v,m){return v.checks.reduce(function(b,E,S){return b+(m===v&&S===0?"$":"")+i(E,m)},"")},l="",c=0;c<this.length;c++){var h=this[c];l+=o(h,h.subject),this.length>1&&c<this.length-1&&(l+=", ")}return this.toStringCache=l,l},rB={parse:tB,toString:nB},Mx=function(e,t,r){var i,o=ct(e),l=Ve(e),c=ct(r),h,d,v=!1,m=!1,b=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),m=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),v=!0),(o||c||v)&&(h=!o&&!l?"":""+e,d=""+r),v&&(e=h=h.toLowerCase(),r=d=d.toLowerCase()),t){case"*=":i=h.indexOf(d)>=0;break;case"$=":i=h.indexOf(d,h.length-d.length)>=0;break;case"^=":i=h.indexOf(d)===0;break;case"=":i=e===r;break;case">":b=!0,i=e>r;break;case">=":b=!0,i=e>=r;break;case"<":b=!0,i=e<r;break;case"<=":b=!0,i=e<=r;break;default:i=!1;break}return m&&(e!=null||!b)&&(i=!i),i},aB=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},iB=function(e){return e!==void 0},kb=function(e,t){return e.data(t)},uB=function(e,t){return e[t]()},Xn=[],Mn=function(e,t){return e.checks.every(function(r){return Xn[r.type](r,t)})};Xn[et.GROUP]=function(n,e){var t=n.value;return t==="*"||t===e.group()};Xn[et.STATE]=function(n,e){var t=n.value;return QM(t,e)};Xn[et.ID]=function(n,e){var t=n.value;return e.id()===t};Xn[et.CLASS]=function(n,e){var t=n.value;return e.hasClass(t)};Xn[et.META_COMPARE]=function(n,e){var t=n.field,r=n.operator,i=n.value;return Mx(uB(e,t),r,i)};Xn[et.DATA_COMPARE]=function(n,e){var t=n.field,r=n.operator,i=n.value;return Mx(kb(e,t),r,i)};Xn[et.DATA_BOOL]=function(n,e){var t=n.field,r=n.operator;return aB(kb(e,t),r)};Xn[et.DATA_EXIST]=function(n,e){var t=n.field;return n.operator,iB(kb(e,t))};Xn[et.UNDIRECTED_EDGE]=function(n,e){var t=n.nodes[0],r=n.nodes[1],i=e.source(),o=e.target();return Mn(t,i)&&Mn(r,o)||Mn(r,i)&&Mn(t,o)};Xn[et.NODE_NEIGHBOR]=function(n,e){return Mn(n.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&Mn(n.neighbor,t)})};Xn[et.DIRECTED_EDGE]=function(n,e){return Mn(n.source,e.source())&&Mn(n.target,e.target())};Xn[et.NODE_SOURCE]=function(n,e){return Mn(n.source,e)&&e.outgoers().some(function(t){return t.isNode()&&Mn(n.target,t)})};Xn[et.NODE_TARGET]=function(n,e){return Mn(n.target,e)&&e.incomers().some(function(t){return t.isNode()&&Mn(n.source,t)})};Xn[et.CHILD]=function(n,e){return Mn(n.child,e)&&Mn(n.parent,e.parent())};Xn[et.PARENT]=function(n,e){return Mn(n.parent,e)&&e.children().some(function(t){return Mn(n.child,t)})};Xn[et.DESCENDANT]=function(n,e){return Mn(n.descendant,e)&&e.ancestors().some(function(t){return Mn(n.ancestor,t)})};Xn[et.ANCESTOR]=function(n,e){return Mn(n.ancestor,e)&&e.descendants().some(function(t){return Mn(n.descendant,t)})};Xn[et.COMPOUND_SPLIT]=function(n,e){return Mn(n.subject,e)&&Mn(n.left,e)&&Mn(n.right,e)};Xn[et.TRUE]=function(){return!0};Xn[et.COLLECTION]=function(n,e){var t=n.value;return t.has(e)};Xn[et.FILTER]=function(n,e){var t=n.value;return t(e)};var oB=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===et.ID)return e.getElementById(t[0].checks[0].value).collection();var r=function(o){for(var l=0;l<t.length;l++){var c=t[l];if(Mn(c,o))return!0}return!1};return t.text()==null&&(r=function(){return!0}),e.filter(r)},lB=function(e){for(var t=this,r=0;r<t.length;r++){var i=t[r];if(Mn(i,e))return!0}return!1},sB={matches:lB,filter:oB},zl=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||ct(e)&&e.match(/^\s*$/)||(si(e)?this.addQuery({checks:[{type:et.COLLECTION,value:e.collection()}]}):Gn(e)?this.addQuery({checks:[{type:et.FILTER,value:e}]}):ct(e)?this.parse(e)||(this.invalid=!0):Hn("A selector must be created from a string; found "))},Il=zl.prototype;[rB,sB].forEach(function(n){return pt(Il,n)});Il.text=function(){return this.inputText};Il.size=function(){return this.length};Il.eq=function(n){return this[n]};Il.sameText=function(n){return!this.invalid&&!n.invalid&&this.text()===n.text()};Il.addQuery=function(n){this[this.length++]=n};Il.selector=Il.toString;var Bl={allAre:function(e){var t=new zl(e);return this.every(function(r){return t.matches(r)})},is:function(e){var t=new zl(e);return this.some(function(r){return t.matches(r)})},some:function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})}};Bl.allAreNeighbours=Bl.allAreNeighbors;Bl.has=Bl.contains;Bl.equal=Bl.equals=Bl.same;var Ni=function(e,t){return function(i,o,l,c){var h=i,d=this,v;if(h==null?v="":si(h)&&h.length===1&&(v=h.id()),d.length===1&&v){var m=d[0]._private,b=m.traversalCache=m.traversalCache||{},E=b[t]=b[t]||[],S=kl(v),A=E[S];return A||(E[S]=e.call(d,i,o,l,c))}else return e.call(d,i,o,l,c)}},dd={parent:function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var o=this[i],l=o._private.parent;l&&t.push(l)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var o=r[i];t.push(o)}r=r.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var i=this[r],o=i.parents();t=t||o,t=t.intersect(o)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:Ni(function(n){for(var e=[],t=0;t<this.length;t++)for(var r=this[t],i=r._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(n)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function r(i){for(var o=0;o<i.length;o++){var l=i[o];t.push(l),l.children().nonempty()&&r(l.children())}}return r(this.children()),this.spawn(t,!0).filter(e)}};function Lb(n,e,t,r){for(var i=[],o=new yd,l=n.cy(),c=l.hasCompoundNodes(),h=0;h<n.length;h++){var d=n[h];t?i.push(d):c&&r(i,o,d)}for(;i.length>0;){var v=i.shift();e(v),o.add(v.id()),c&&r(i,o,v)}return n}function Bx(n,e,t){if(t.isParent())for(var r=t._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||n.push(o)}}dd.forEachDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Lb(this,n,e,Bx)};function Nx(n,e,t){if(t.isChild()){var r=t._private.parent;e.has(r.id())||n.push(r)}}dd.forEachUp=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Lb(this,n,e,Nx)};function fB(n,e,t){Nx(n,e,t),Bx(n,e,t)}dd.forEachUpAndDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Lb(this,n,e,fB)};dd.ancestors=dd.parents;var og,_x;og=_x={data:ln.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ln.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ln.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ln.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ln.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ln.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};og.attr=og.data;og.removeAttr=og.removeData;var cB=_x,Iy={};function w1(n){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var r=0,i=t[0],o=i._private.edges,l=0;l<o.length;l++){var c=o[l];!e&&c.isLoop()||(r+=n(i,c))}return r}else return}}pt(Iy,{degree:w1(function(n,e){return e.source().same(e.target())?2:1}),indegree:w1(function(n,e){return e.target().same(n)?1:0}),outdegree:w1(function(n,e){return e.source().same(n)?1:0})});function Kc(n,e){return function(t){for(var r,i=this.nodes(),o=0;o<i.length;o++){var l=i[o],c=l[n](t);c!==void 0&&(r===void 0||e(c,r))&&(r=c)}return r}}pt(Iy,{minDegree:Kc("degree",function(n,e){return n<e}),maxDegree:Kc("degree",function(n,e){return n>e}),minIndegree:Kc("indegree",function(n,e){return n<e}),maxIndegree:Kc("indegree",function(n,e){return n>e}),minOutdegree:Kc("outdegree",function(n,e){return n<e}),maxOutdegree:Kc("outdegree",function(n,e){return n>e})});pt(Iy,{totalDegree:function(e){for(var t=0,r=this.nodes(),i=0;i<r.length;i++)t+=r[i].degree(e);return t}});var fu,kx,Lx=function(e,t,r){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var l=o._private.position,c={x:t.x!=null?t.x-l.x:0,y:t.y!=null?t.y-l.y:0};o.isParent()&&!(c.x===0&&c.y===0)&&o.children().shift(c,r),o.dirtyBoundingBoxCache()}}},iE={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Lx(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};fu=kx={position:ln.data(iE),silentPosition:ln.data(pt({},iE,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Lx(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Zt(e))t?this.silentPosition(e):this.position(e);else if(Gn(e)){var r=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o],c=void 0;(c=r(l,o))&&(t?l.silentPosition(c):l.position(c))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,r){var i;if(Zt(e)?(i={x:Ve(e.x)?e.x:0,y:Ve(e.y)?e.y:0},r=t):ct(e)&&Ve(t)&&(i={x:0,y:0},i[e]=t),i!=null){var o=this.cy();o.startBatch();for(var l=0;l<this.length;l++){var c=this[l];if(!(o.hasCompoundNodes()&&c.isChild()&&c.ancestors().anySame(this))){var h=c.position(),d={x:h.x+i.x,y:h.y+i.y};r?c.silentPosition(d):c.position(d)}}o.endBatch()}return this},silentShift:function(e,t){return Zt(e)?this.shift(e,!0):ct(e)&&Ve(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var r=this[0],i=this.cy(),o=i.zoom(),l=i.pan(),c=Zt(e)?e:void 0,h=c!==void 0||t!==void 0&&ct(e);if(r&&r.isNode())if(h)for(var d=0;d<this.length;d++){var v=this[d];t!==void 0?v.position(e,(t-l[e])/o):c!==void 0&&v.position(ox(c,o,l))}else{var m=r.position();return c=Ny(m,o,l),e===void 0?c:c[e]}else if(!h)return;return this},relativePosition:function(e,t){var r=this[0],i=this.cy(),o=Zt(e)?e:void 0,l=o!==void 0||t!==void 0&&ct(e),c=i.hasCompoundNodes();if(r&&r.isNode())if(l)for(var h=0;h<this.length;h++){var d=this[h],v=c?d.parent():null,m=v&&v.length>0,b=m;m&&(v=v[0]);var E=b?v.position():{x:0,y:0};t!==void 0?d.position(e,t+E[e]):o!==void 0&&d.position({x:o.x+E.x,y:o.y+E.y})}else{var S=r.position(),A=c?r.parent():null,T=A&&A.length>0,C=T;T&&(A=A[0]);var R=C?A.position():{x:0,y:0};return o={x:S.x-R.x,y:S.y-R.y},e===void 0?o:o[e]}else if(!l)return;return this}};fu.modelPosition=fu.point=fu.position;fu.modelPositions=fu.points=fu.positions;fu.renderedPoint=fu.renderedPosition;fu.relativePoint=fu.relativePosition;var dB=kx,ld,Gl;ld=Gl={};Gl.renderedBoundingBox=function(n){var e=this.boundingBox(n),t=this.cy(),r=t.zoom(),i=t.pan(),o=e.x1*r+i.x,l=e.x2*r+i.x,c=e.y1*r+i.y,h=e.y2*r+i.y;return{x1:o,x2:l,y1:c,y2:h,w:l-o,h:h-c}};Gl.dirtyCompoundBoundsCache=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var r=t._private;r.compoundBoundsClean=!1,r.bbCache=null,n||t.emitAndNotify("bounds")}}),this)};Gl.updateCompoundBounds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!n&&e.batching())return this;function t(l){if(!l.isParent())return;var c=l._private,h=l.children(),d=l.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},m=h.boundingBox({includeLabels:d,includeOverlays:!1,useCache:!1}),b=c.position;(m.w===0||m.h===0)&&(m={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},m.x1=b.x-m.w/2,m.x2=b.x+m.w/2,m.y1=b.y-m.h/2,m.y2=b.y+m.h/2);function E(B,P,F){var H=0,X=0,K=P+F;return B>0&&K>0&&(H=P/K*B,X=F/K*B),{biasDiff:H,biasComplementDiff:X}}function S(B,P,F,H){if(F.units==="%")switch(H){case"width":return B>0?F.pfValue*B:0;case"height":return P>0?F.pfValue*P:0;case"average":return B>0&&P>0?F.pfValue*(B+P)/2:0;case"min":return B>0&&P>0?B>P?F.pfValue*P:F.pfValue*B:0;case"max":return B>0&&P>0?B>P?F.pfValue*B:F.pfValue*P:0;default:return 0}else return F.units==="px"?F.pfValue:0}var A=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(A=A*100/v.width.val);var T=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(T=T*100/v.width.val);var C=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(C=C*100/v.height.val);var R=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(R=R*100/v.height.val);var D=E(v.width.val-m.w,A,T),M=D.biasDiff,k=D.biasComplementDiff,L=E(v.height.val-m.h,C,R),_=L.biasDiff,I=L.biasComplementDiff;c.autoPadding=S(m.w,m.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),c.autoWidth=Math.max(m.w,v.width.val),b.x=(-M+m.x1+m.x2+k)/2,c.autoHeight=Math.max(m.h,v.height.val),b.y=(-_+m.y1+m.y2+I)/2}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;(!o.compoundBoundsClean||n)&&(t(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Bi=function(e){return e===1/0||e===-1/0?0:e},lu=function(e,t,r,i,o){i-t===0||o-r===0||t==null||r==null||i==null||o==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},tf=function(e,t){return t==null?e:lu(e,t.x1,t.y1,t.x2,t.y2)},Mv=function(e,t,r){return su(e,t,r)},Um=function(e,t,r){if(!t.cy().headless()){var i=t._private,o=i.rstyle,l=o.arrowWidth/2,c=t.pstyle(r+"-arrow-shape").value,h,d;if(c!=="none"){r==="source"?(h=o.srcX,d=o.srcY):r==="target"?(h=o.tgtX,d=o.tgtY):(h=o.midX,d=o.midY);var v=i.arrowBounds=i.arrowBounds||{},m=v[r]=v[r]||{};m.x1=h-l,m.y1=d-l,m.x2=h+l,m.y2=d+l,m.w=m.x2-m.x1,m.h=m.y2-m.y1,Zm(m,1),lu(e,m.x1,m.y1,m.x2,m.y2)}}},E1=function(e,t,r){if(!t.cy().headless()){var i;r?i=r+"-":i="";var o=t._private,l=o.rstyle,c=t.pstyle(i+"label").strValue;if(c){var h=t.pstyle("text-halign"),d=t.pstyle("text-valign"),v=Mv(l,"labelWidth",r),m=Mv(l,"labelHeight",r),b=Mv(l,"labelX",r),E=Mv(l,"labelY",r),S=t.pstyle(i+"text-margin-x").pfValue,A=t.pstyle(i+"text-margin-y").pfValue,T=t.isEdge(),C=t.pstyle(i+"text-rotation"),R=t.pstyle("text-outline-width").pfValue,D=t.pstyle("text-border-width").pfValue,M=D/2,k=t.pstyle("text-background-padding").pfValue,L=2,_=m,I=v,B=I/2,P=_/2,F,H,X,K;if(T)F=b-B,H=b+B,X=E-P,K=E+P;else{switch(h.value){case"left":F=b-I,H=b;break;case"center":F=b-B,H=b+B;break;case"right":F=b,H=b+I;break}switch(d.value){case"top":X=E-_,K=E;break;case"center":X=E-P,K=E+P;break;case"bottom":X=E,K=E+_;break}}var ee=S-Math.max(R,M)-k-L,Y=S+Math.max(R,M)+k+L,Z=A-Math.max(R,M)-k-L,Q=A+Math.max(R,M)+k+L;F+=ee,H+=Y,X+=Z,K+=Q;var ue=r||"main",U=o.labelBounds,W=U[ue]=U[ue]||{};W.x1=F,W.y1=X,W.x2=H,W.y2=K,W.w=H-F,W.h=K-X,W.leftPad=ee,W.rightPad=Y,W.topPad=Z,W.botPad=Q;var ne=T&&C.strValue==="autorotate",ce=C.pfValue!=null&&C.pfValue!==0;if(ne||ce){var oe=ne?Mv(o.rstyle,"labelAngle",r):C.pfValue,me=Math.cos(oe),ye=Math.sin(oe),Oe=(F+H)/2,Te=(X+K)/2;if(!T){switch(h.value){case"left":Oe=H;break;case"right":Oe=F;break}switch(d.value){case"top":Te=K;break;case"bottom":Te=X;break}}var de=function(ht,Ke){return ht=ht-Oe,Ke=Ke-Te,{x:ht*me-Ke*ye+Oe,y:ht*ye+Ke*me+Te}},ae=de(F,X),we=de(F,K),_e=de(H,X),He=de(H,K);F=Math.min(ae.x,we.x,_e.x,He.x),H=Math.max(ae.x,we.x,_e.x,He.x),X=Math.min(ae.y,we.y,_e.y,He.y),K=Math.max(ae.y,we.y,_e.y,He.y)}var Ge=ue+"Rot",Ye=U[Ge]=U[Ge]||{};Ye.x1=F,Ye.y1=X,Ye.x2=H,Ye.y2=K,Ye.w=H-F,Ye.h=K-X,lu(e,F,X,H,K),lu(o.labelBounds.all,F,X,H,K)}return e}},hB=function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value;if(r>0&&i>0){var o=t.pstyle("outline-offset").value,l=t.pstyle("shape").value,c=i+o,h=(e.w+c*2)/e.w,d=(e.h+c*2)/e.h,v=0,m=0;["diamond","pentagon","round-triangle"].includes(l)?(h=(e.w+c*2.4)/e.w,m=-c/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?h=(e.w+c*2.4)/e.w:l==="star"?(h=(e.w+c*2.8)/e.w,d=(e.h+c*2.6)/e.h,m=-c/3.8):l==="triangle"?(h=(e.w+c*2.8)/e.w,d=(e.h+c*2.4)/e.h,m=-c/1.4):l==="vee"&&(h=(e.w+c*4.4)/e.w,d=(e.h+c*3.8)/e.h,m=-c*.5);var b=e.h*d-e.h,E=e.w*h-e.w;if(Qm(e,[Math.ceil(b/2),Math.ceil(E/2)]),v!=0||m!==0){var S=zR(e,v,m);sx(e,S)}}}},vB=function(e,t){var r=e._private.cy,i=r.styleEnabled(),o=r.headless(),l=Ua(),c=e._private,h=e.isNode(),d=e.isEdge(),v,m,b,E,S,A,T=c.rstyle,C=h&&i?e.pstyle("bounds-expansion").pfValue:[0],R=function(Ct){return Ct.pstyle("display").value!=="none"},D=!i||R(e)&&(!d||R(e.source())&&R(e.target()));if(D){var M=0,k=0;i&&t.includeOverlays&&(M=e.pstyle("overlay-opacity").value,M!==0&&(k=e.pstyle("overlay-padding").value));var L=0,_=0;i&&t.includeUnderlays&&(L=e.pstyle("underlay-opacity").value,L!==0&&(_=e.pstyle("underlay-padding").value));var I=Math.max(k,_),B=0,P=0;if(i&&(B=e.pstyle("width").pfValue,P=B/2),h&&t.includeNodes){var F=e.position();S=F.x,A=F.y;var H=e.outerWidth(),X=H/2,K=e.outerHeight(),ee=K/2;v=S-X,m=S+X,b=A-ee,E=A+ee,lu(l,v,b,m,E),i&&t.includeOutlines&&hB(l,e)}else if(d&&t.includeEdges)if(i&&!o){var Y=e.pstyle("curve-style").strValue;if(v=Math.min(T.srcX,T.midX,T.tgtX),m=Math.max(T.srcX,T.midX,T.tgtX),b=Math.min(T.srcY,T.midY,T.tgtY),E=Math.max(T.srcY,T.midY,T.tgtY),v-=P,m+=P,b-=P,E+=P,lu(l,v,b,m,E),Y==="haystack"){var Z=T.haystackPts;if(Z&&Z.length===2){if(v=Z[0].x,b=Z[0].y,m=Z[1].x,E=Z[1].y,v>m){var Q=v;v=m,m=Q}if(b>E){var ue=b;b=E,E=ue}lu(l,v-P,b-P,m+P,E+P)}}else if(Y==="bezier"||Y==="unbundled-bezier"||Y.endsWith("segments")||Y.endsWith("taxi")){var U;switch(Y){case"bezier":case"unbundled-bezier":U=T.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":U=T.linePts;break}if(U!=null)for(var W=0;W<U.length;W++){var ne=U[W];v=ne.x-P,m=ne.x+P,b=ne.y-P,E=ne.y+P,lu(l,v,b,m,E)}}}else{var ce=e.source(),oe=ce.position(),me=e.target(),ye=me.position();if(v=oe.x,m=ye.x,b=oe.y,E=ye.y,v>m){var Oe=v;v=m,m=Oe}if(b>E){var Te=b;b=E,E=Te}v-=P,m+=P,b-=P,E+=P,lu(l,v,b,m,E)}if(i&&t.includeEdges&&d&&(Um(l,e,"mid-source"),Um(l,e,"mid-target"),Um(l,e,"source"),Um(l,e,"target")),i){var de=e.pstyle("ghost").value==="yes";if(de){var ae=e.pstyle("ghost-offset-x").pfValue,we=e.pstyle("ghost-offset-y").pfValue;lu(l,l.x1+ae,l.y1+we,l.x2+ae,l.y2+we)}}var _e=c.bodyBounds=c.bodyBounds||{};Pw(_e,l),Qm(_e,C),Zm(_e,1),i&&(v=l.x1,m=l.x2,b=l.y1,E=l.y2,lu(l,v-I,b-I,m+I,E+I));var He=c.overlayBounds=c.overlayBounds||{};Pw(He,l),Qm(He,C),Zm(He,1);var Ge=c.labelBounds=c.labelBounds||{};Ge.all!=null?LR(Ge.all):Ge.all=Ua(),i&&t.includeLabels&&(t.includeMainLabels&&E1(l,e,null),d&&(t.includeSourceLabels&&E1(l,e,"source"),t.includeTargetLabels&&E1(l,e,"target")))}return l.x1=Bi(l.x1),l.y1=Bi(l.y1),l.x2=Bi(l.x2),l.y2=Bi(l.y2),l.w=Bi(l.x2-l.x1),l.h=Bi(l.y2-l.y1),l.w>0&&l.h>0&&D&&(Qm(l,C),Zm(l,1)),l},zx=function(e){var t=0,r=function(l){return(l?1:0)<<t++},i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},Ix=function(e){if(e.isEdge()){var t=e.source().position(),r=e.target().position(),i=function(l){return Math.round(l)};return nR([i(t.x),i(t.y),i(r.x),i(r.y)])}else return 0},uE=function(e,t){var r=e._private,i,o=e.isEdge(),l=t==null?oE:zx(t),c=l===oE,h=Ix(e),d=r.bbCachePosKey===h,v=t.useCache&&d,m=function(A){return A._private.bbCache==null||A._private.styleDirty},b=!v||m(e)||o&&(m(e.source())||m(e.target()));if(b?(d||e.recalculateRenderedStyle(v),i=vB(e,lg),r.bbCache=i,r.bbCachePosKey=h):i=r.bbCache,!c){var E=e.isNode();i=Ua(),(t.includeNodes&&E||t.includeEdges&&!E)&&(t.includeOverlays?tf(i,r.overlayBounds):tf(i,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?tf(i,r.labelBounds.all):(t.includeMainLabels&&tf(i,r.labelBounds.mainRot),t.includeSourceLabels&&tf(i,r.labelBounds.sourceRot),t.includeTargetLabels&&tf(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},lg={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},oE=zx(lg),lE=xr(lg);Gl.boundingBox=function(n){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(n===void 0||n.useCache===void 0||n.useCache===!0))n===void 0?n=lg:n=lE(n),e=uE(this[0],n);else{e=Ua(),n=n||lg;var t=lE(n),r=this,i=r.cy(),o=i.styleEnabled();if(o)for(var l=0;l<r.length;l++){var c=r[l],h=c._private,d=Ix(c),v=h.bbCachePosKey===d,m=t.useCache&&v&&!h.styleDirty;c.recalculateRenderedStyle(m)}this.updateCompoundBounds(!n.useCache);for(var b=0;b<r.length;b++){var E=r[b];tf(e,uE(E,t))}}return e.x1=Bi(e.x1),e.y1=Bi(e.y1),e.x2=Bi(e.x2),e.y2=Bi(e.y2),e.w=Bi(e.x2-e.x1),e.h=Bi(e.y2-e.y1),e};Gl.dirtyBoundingBoxCache=function(){for(var n=0;n<this.length;n++){var e=this[n]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Gl.boundingBoxAt=function(n){var e=this.nodes(),t=this.cy(),r=t.hasCompoundNodes(),i=t.collection();if(r&&(i=e.filter(function(d){return d.isParent()}),e=e.not(i)),Zt(n)){var o=n;n=function(){return o}}var l=function(v,m){return v._private.bbAtOldPos=n(v,m)},c=function(v){return v._private.bbAtOldPos};t.startBatch(),e.forEach(l).silentPositions(n),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var h=kR(this.boundingBox({useCache:!1}));return e.silentPositions(c),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),t.endBatch(),h};ld.boundingbox=ld.bb=ld.boundingBox;ld.renderedBoundingbox=ld.renderedBoundingBox;var gB=Gl,Gv,Eg;Gv=Eg={};var Px=function(e){e.uppercaseName=Bw(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Bw(e.outerName),Gv[e.name]=function(){var r=this[0],i=r._private,o=i.cy,l=o._private.styleEnabled;if(r)if(l){if(r.isParent())return r.updateCompoundBounds(),i[e.autoName]||0;var c=r.pstyle(e.name);switch(c.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return c.pfValue}}else return 1},Gv["outer"+e.uppercaseName]=function(){var r=this[0],i=r._private,o=i.cy,l=o._private.styleEnabled;if(r)if(l){var c=r[e.name](),h=r.pstyle("border-width").pfValue,d=2*r.padding();return c+h+d}else return 1},Gv["rendered"+e.uppercaseName]=function(){var r=this[0];if(r){var i=r[e.name]();return i*this.cy().zoom()}},Gv["rendered"+e.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[e.outerName]();return i*this.cy().zoom()}}};Px({name:"width"});Px({name:"height"});Eg.padding=function(){var n=this[0],e=n._private;return n.isParent()?(n.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:n.pstyle("padding").pfValue):n.pstyle("padding").pfValue};Eg.paddedHeight=function(){var n=this[0];return n.height()+2*n.padding()};Eg.paddedWidth=function(){var n=this[0];return n.width()+2*n.padding()};var pB=Eg,mB=function(e,t){if(e.isEdge())return t(e)},yB=function(e,t){if(e.isEdge()){var r=e.cy();return Ny(t(e),r.zoom(),r.pan())}},bB=function(e,t){if(e.isEdge()){var r=e.cy(),i=r.pan(),o=r.zoom();return t(e).map(function(l){return Ny(l,o,i)})}},wB=function(e){return e.renderer().getControlPoints(e)},EB=function(e){return e.renderer().getSegmentPoints(e)},SB=function(e){return e.renderer().getSourceEndpoint(e)},xB=function(e){return e.renderer().getTargetEndpoint(e)},TB=function(e){return e.renderer().getEdgeMidpoint(e)},sE={controlPoints:{get:wB,mult:!0},segmentPoints:{get:EB,mult:!0},sourceEndpoint:{get:SB},targetEndpoint:{get:xB},midpoint:{get:TB}},CB=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},AB=Object.keys(sE).reduce(function(n,e){var t=sE[e],r=CB(e);return n[e]=function(){return mB(this,t.get)},t.mult?n[r]=function(){return bB(this,t.get)}:n[r]=function(){return yB(this,t.get)},n},{}),RB=pt({},dB,gB,pB,AB);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Ux=function(e,t){this.recycle(e,t)};function Bv(){return!1}function Fm(){return!0}Ux.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Bv,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Fm:Bv):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:r.x*i+o.x,y:r.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Fm;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Fm;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Fm,this.stopPropagation()},isDefaultPrevented:Bv,isPropagationStopped:Bv,isImmediatePropagationStopped:Bv};var Fx=/^([^.]+)(\.(?:[^.]+))?$/,DB=".*",Hx={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},fE=Object.keys(Hx),OB={};function Py(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OB,e=arguments.length>1?arguments[1]:void 0,t=0;t<fE.length;t++){var r=fE[t];this[r]=n[r]||Hx[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Pl=Py.prototype,Gx=function(e,t,r,i,o,l,c){Gn(i)&&(o=i,i=null),c&&(l==null?l=c:l=pt({},l,c));for(var h=pn(r)?r:r.split(/\s+/),d=0;d<h.length;d++){var v=h[d];if(!_l(v)){var m=v.match(Fx);if(m){var b=m[1],E=m[2]?m[2]:null,S=t(e,v,b,E,i,o,l);if(S===!1)break}}}},cE=function(e,t){return e.addEventFields(e.context,t),new Ux(t.type,t)},MB=function(e,t,r){if(J2(r)){t(e,r);return}else if(Zt(r)){t(e,cE(e,r));return}for(var i=pn(r)?r:r.split(/\s+/),o=0;o<i.length;o++){var l=i[o];if(!_l(l)){var c=l.match(Fx);if(c){var h=c[1],d=c[2]?c[2]:null,v=cE(e,{type:h,namespace:d,target:e.context});t(e,v)}}}};Pl.on=Pl.addListener=function(n,e,t,r,i){return Gx(this,function(o,l,c,h,d,v,m){Gn(v)&&o.listeners.push({event:l,callback:v,type:c,namespace:h,qualifier:d,conf:m})},n,e,t,r,i),this};Pl.one=function(n,e,t,r){return this.on(n,e,t,r,{one:!0})};Pl.removeListener=Pl.off=function(n,e,t,r){var i=this;this.emitting!==0&&(this.listeners=oR(this.listeners));for(var o=this.listeners,l=function(d){var v=o[d];Gx(i,function(m,b,E,S,A,T){if((v.type===E||n==="*")&&(!S&&v.namespace!==".*"||v.namespace===S)&&(!A||m.qualifierCompare(v.qualifier,A))&&(!T||v.callback===T))return o.splice(d,1),!1},n,e,t,r)},c=o.length-1;c>=0;c--)l(c);return this};Pl.removeAllListeners=function(){return this.removeListener("*")};Pl.emit=Pl.trigger=function(n,e,t){var r=this.listeners,i=r.length;return this.emitting++,pn(e)||(e=[e]),MB(this,function(o,l){t!=null&&(r=[{event:l.event,type:l.type,namespace:l.namespace,callback:t}],i=r.length);for(var c=function(v){var m=r[v];if(m.type===l.type&&(!m.namespace||m.namespace===l.namespace||m.namespace===DB)&&o.eventMatches(o.context,m,l)){var b=[l];e!=null&&sR(b,e),o.beforeEmit(o.context,m,l),m.conf&&m.conf.one&&(o.listeners=o.listeners.filter(function(A){return A!==m}));var E=o.callbackContext(o.context,m,l),S=m.callback.apply(E,b);o.afterEmit(o.context,m,l),S===!1&&(l.stopPropagation(),l.preventDefault())}},h=0;h<i;h++)c(h);o.bubble(o.context)&&!l.isPropagationStopped()&&o.parent(o.context).emit(l,e)},n),this.emitting--,this};var BB={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&mg(r.target)&&i.matches(r.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,r){return t.qualifier!=null?r.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Hm=function(e){return ct(e)?new zl(e):e},qx={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new Py(BB,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,r){for(var i=Hm(t),o=0;o<this.length;o++){var l=this[o];l.emitter().on(e,i,r)}return this},removeListener:function(e,t,r){for(var i=Hm(t),o=0;o<this.length;o++){var l=this[o];l.emitter().removeListener(e,i,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,r){for(var i=Hm(t),o=0;o<this.length;o++){var l=this[o];l.emitter().one(e,i,r)}return this},once:function(e,t,r){for(var i=Hm(t),o=0;o<this.length;o++){var l=this[o];l.emitter().on(e,i,r,{once:!0,onceCollection:this})}},emit:function(e,t){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};ln.eventAliasesOn(qx);var Vx={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(ct(e)||si(e))return new zl(e).filter(this);if(Gn(e)){for(var r=this.spawn(),i=this,o=0;o<i.length;o++){var l=i[o],c=t?e.apply(t,[l,o,i]):e(l,o,i);c&&r.push(l)}return r}return this.spawn()},not:function(e){if(e){ct(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var i=this[r],o=e.has(i);o||t.push(i)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(ct(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),i=this,o=e,l=this.length<e.length,c=l?i:o,h=l?o:i,d=0;d<c.length;d++){var v=c[d];h.has(v)&&r.push(v)}return r},xor:function(e){var t=this._private.cy;ct(e)&&(e=t.$(e));var r=this.spawn(),i=this,o=e,l=function(h,d){for(var v=0;v<h.length;v++){var m=h[v],b=m._private.data.id,E=d.hasElementWithId(b);E||r.push(m)}};return l(i,o),l(o,i),r},diff:function(e){var t=this._private.cy;ct(e)&&(e=t.$(e));var r=this.spawn(),i=this.spawn(),o=this.spawn(),l=this,c=e,h=function(v,m,b){for(var E=0;E<v.length;E++){var S=v[E],A=S._private.data.id,T=m.hasElementWithId(A);T?o.merge(S):b.push(S)}};return h(l,c,r),h(c,l,i),{left:r,right:i,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(ct(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var l=e[o],c=!this.has(l);c&&i.push(l)}return i},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&ct(e)){var i=e;e=r.mutableElements().filter(i)}for(var o=t.map,l=0;l<e.length;l++){var c=e[l],h=c._private.data.id,d=!o.has(h);if(d){var v=this.length++;this[v]=c,o.set(h,{ele:c,index:v})}}return this},unmergeAt:function(e){var t=this[e],r=t.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(r);var l=e===this.length-1;if(this.length>1&&!l){var c=this.length-1,h=this[c],d=h._private.data.id;this[c]=void 0,this[e]=h,o.set(d,{ele:h,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,i=t.map,o=i.get(r);if(!o)return this;var l=o.index;return this.unmergeAt(l),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&ct(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},map:function(e,t){for(var r=[],i=this,o=0;o<i.length;o++){var l=i[o],c=t?e.apply(t,[l,o,i]):e(l,o,i);r.push(c)}return r},reduce:function(e,t){for(var r=t,i=this,o=0;o<i.length;o++)r=e(r,i[o],o,i);return r},max:function(e,t){for(var r=-1/0,i,o=this,l=0;l<o.length;l++){var c=o[l],h=t?e.apply(t,[c,l,o]):e(c,l,o);h>r&&(r=h,i=c)}return{value:r,ele:i}},min:function(e,t){for(var r=1/0,i,o=this,l=0;l<o.length;l++){var c=o[l],h=t?e.apply(t,[c,l,o]):e(c,l,o);h<r&&(r=h,i=c)}return{value:r,ele:i}}},en=Vx;en.u=en["|"]=en["+"]=en.union=en.or=en.add;en["\\"]=en["!"]=en["-"]=en.difference=en.relativeComplement=en.subtract=en.not;en.n=en["&"]=en["."]=en.and=en.intersection=en.intersect;en["^"]=en["(+)"]=en["(-)"]=en.symmetricDifference=en.symdiff=en.xor;en.fnFilter=en.filterFn=en.stdFilter=en.filter;en.complement=en.abscomp=en.absoluteComplement;var NB={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},$x=function(e,t){var r=e.cy(),i=r.hasCompoundNodes();function o(v){var m=v.pstyle("z-compound-depth");return m.value==="auto"?i?v.zDepth():0:m.value==="bottom"?-1:m.value==="top"?Tb:0}var l=o(e)-o(t);if(l!==0)return l;function c(v){var m=v.pstyle("z-index-compare");return m.value==="auto"&&v.isNode()?1:0}var h=c(e)-c(t);if(h!==0)return h;var d=e.pstyle("z-index").value-t.pstyle("z-index").value;return d!==0?d:e.poolIndex()-t.poolIndex()},vy={forEach:function(e,t){if(Gn(e))for(var r=this.length,i=0;i<r;i++){var o=this[i],l=t?e.apply(t,[o,i,this]):e(o,i,this);if(l===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var o=e;o>=0&&o<t&&o<i;o++)r.push(this[o]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Gn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort($x)},zDepth:function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:Tb-1}else{var o=t.source,l=t.target,c=o.zDepth(),h=l.zDepth();return Math.max(c,h,0)}}}};vy.each=vy.forEach;var _B=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":dr(Symbol))!=e&&dr(Symbol.iterator)!=e;t&&(vy[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},o=0,l=this.length;return HS({next:function(){return o<l?i.value=r[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};_B();var kB=xr({nodeDimensionsIncludeLabels:!1}),Jm={layoutDimensions:function(e){e=kB(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,r){var i=this.nodes().filter(function(k){return!k.isParent()}),o=this.cy(),l=t.eles,c=function(L){return L.id()},h=eg(r,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=function(L,_,I){var B={x:_.x1+_.w/2,y:_.y1+_.h/2},P={x:(I.x-B.x)*L,y:(I.y-B.y)*L};return{x:B.x+P.x,y:B.y+P.y}},v=t.spacingFactor&&t.spacingFactor!==1,m=function(){if(!v)return null;for(var L=Ua(),_=0;_<i.length;_++){var I=i[_],B=h(I,_);IR(L,B.x,B.y)}return L},b=m(),E=eg(function(k,L){var _=h(k,L);if(v){var I=Math.abs(t.spacingFactor);_=d(I,b,_)}return t.transform!=null&&(_=t.transform(k,_)),_},c);if(t.animate){for(var S=0;S<i.length;S++){var A=i[S],T=E(A,S),C=t.animateFilter==null||t.animateFilter(A,S);if(C){var R=A.animation({position:T,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(R)}else A.position(T)}if(t.fit){var D=o.animation({fit:{boundingBox:l.boundingBoxAt(E),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(D)}else if(t.zoom!==void 0&&t.pan!==void 0){var M=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(M)}e.animations.forEach(function(k){return k.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),bd.all(e.animations.map(function(k){return k.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(E),t.fit&&o.fit(t.eles,t.padding),t.zoom!=null&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(pt({},e,{eles:this}))}};Jm.createLayout=Jm.makeLayout=Jm.layout;function Yx(n,e,t){var r=t._private,i=r.styleCache=r.styleCache||[],o;return(o=i[n])!=null||(o=i[n]=e(t)),o}function Uy(n,e){return n=kl(n),function(r){return Yx(n,e,r)}}function Fy(n,e){n=kl(n);var t=function(i){return e.call(i)};return function(){var i=this[0];if(i)return Yx(n,t,i)}}var Nr={recalculateRenderedStyle:function(e){var t=this.cy(),r=t.renderer(),i=t.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var i=t.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=o;return e?l.emitAndNotify("style"):l.emit("style"),o.forEach(function(c){return c._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var o=r._private.style[e];return o??(t?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,o=r.style();if(Zt(e)){var l=e;o.applyBypass(this,l,i),this.emitAndNotify("style")}else if(ct(e))if(t===void 0){var c=this[0];return c?o.getStylePropertyValue(c,e):void 0}else o.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var h=this[0];return h?o.getRawStyle(h):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,i=t.style(),o=this;if(e===void 0)for(var l=0;l<o.length;l++){var c=o[l];i.removeAllBypasses(c,r)}else{e=e.split(/\s+/);for(var h=0;h<o.length;h++){var d=o[h];i.removeBypasses(d,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,o=r.pstyle("opacity").value;if(!t)return o;var l=i.data.parent?r.parents():null;if(l)for(var c=0;c<l.length;c++){var h=l[c],d=h.pstyle("opacity").value;o=d*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function S1(n,e){var t=n._private,r=t.data.parent?n.parents():null;if(r)for(var i=0;i<r.length;i++){var o=r[i];if(!e(o))return!1}return!0}function zb(n){var e=n.ok,t=n.edgeOkViaNode||n.ok,r=n.parentOk||n.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],l=i.hasCompoundNodes();if(o){var c=o._private;if(!e(o))return!1;if(o.isNode())return!l||S1(o,r);var h=c.source,d=c.target;return t(h)&&(!l||S1(h,t))&&(h===d||t(d)&&(!l||S1(d,t)))}}}var xd=Uy("eleTakesUpSpace",function(n){return n.pstyle("display").value==="element"&&n.width()!==0&&(n.isNode()?n.height()!==0:!0)});Nr.takesUpSpace=Fy("takesUpSpace",zb({ok:xd}));var LB=Uy("eleInteractive",function(n){return n.pstyle("events").value==="yes"&&n.pstyle("visibility").value==="visible"&&xd(n)}),zB=Uy("parentInteractive",function(n){return n.pstyle("visibility").value==="visible"&&xd(n)});Nr.interactive=Fy("interactive",zb({ok:LB,parentOk:zB,edgeOkViaNode:xd}));Nr.noninteractive=function(){var n=this[0];if(n)return!n.interactive()};var IB=Uy("eleVisible",function(n){return n.pstyle("visibility").value==="visible"&&n.pstyle("opacity").pfValue!==0&&xd(n)}),PB=xd;Nr.visible=Fy("visible",zb({ok:IB,edgeOkViaNode:PB}));Nr.hidden=function(){var n=this[0];if(n)return!n.visible()};Nr.isBundledBezier=Fy("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Nr.bypass=Nr.css=Nr.style;Nr.renderedCss=Nr.renderedStyle;Nr.removeBypass=Nr.removeCss=Nr.removeStyle;Nr.pstyle=Nr.parsedStyle;var Nl={};function dE(n){return function(){var e=arguments,t=[];if(e.length===2){var r=e[0],i=e[1];this.on(n.event,r,i)}else if(e.length===1&&Gn(e[0])){var o=e[0];this.on(n.event,o)}else if(e.length===0||e.length===1&&pn(e[0])){for(var l=e.length===1?e[0]:null,c=0;c<this.length;c++){var h=this[c],d=!n.ableField||h._private[n.ableField],v=h._private[n.field]!=n.value;if(n.overrideAble){var m=n.overrideAble(h);if(m!==void 0&&(d=m,!m))return this}d&&(h._private[n.field]=n.value,v&&t.push(h))}var b=this.spawn(t);b.updateStyle(),b.emit(n.event),l&&b.emit(l)}return this}}function Td(n){Nl[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(t!==void 0)return t}return e._private[n.field]}},Nl[n.on]=dE({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),Nl[n.off]=dE({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}Td({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Td({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Td({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Td({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Nl.deselect=Nl.unselect;Nl.grabbed=function(){var n=this[0];if(n)return n._private.grabbed};Td({field:"active",on:"activate",off:"unactivate"});Td({field:"pannable",on:"panify",off:"unpanify"});Nl.inactive=function(){var n=this[0];if(n)return!n._private.active};var Yr={},hE=function(e){return function(r){for(var i=this,o=[],l=0;l<i.length;l++){var c=i[l];if(c.isNode()){for(var h=!1,d=c.connectedEdges(),v=0;v<d.length;v++){var m=d[v],b=m.source(),E=m.target();if(e.noIncomingEdges&&E===c&&b!==c||e.noOutgoingEdges&&b===c&&E!==c){h=!0;break}}h||o.push(c)}}return this.spawn(o,!0).filter(r)}},vE=function(e){return function(t){for(var r=this,i=[],o=0;o<r.length;o++){var l=r[o];if(l.isNode())for(var c=l.connectedEdges(),h=0;h<c.length;h++){var d=c[h],v=d.source(),m=d.target();e.outgoing&&v===l?(i.push(d),i.push(m)):e.incoming&&m===l&&(i.push(d),i.push(v))}}return this.spawn(i,!0).filter(t)}},gE=function(e){return function(t){for(var r=this,i=[],o={};;){var l=e.outgoing?r.outgoers():r.incomers();if(l.length===0)break;for(var c=!1,h=0;h<l.length;h++){var d=l[h],v=d.id();o[v]||(o[v]=!0,i.push(d),c=!0)}if(!c)break;r=l}return this.spawn(i,!0).filter(t)}};Yr.clearTraversalCache=function(){for(var n=0;n<this.length;n++)this[n]._private.traversalCache=null};pt(Yr,{roots:hE({noIncomingEdges:!0}),leaves:hE({noOutgoingEdges:!0}),outgoers:Ni(vE({outgoing:!0}),"outgoers"),successors:gE({outgoing:!0}),incomers:Ni(vE({incoming:!0}),"incomers"),predecessors:gE({})});pt(Yr,{neighborhood:Ni(function(n){for(var e=[],t=this.nodes(),r=0;r<t.length;r++)for(var i=t[r],o=i.connectedEdges(),l=0;l<o.length;l++){var c=o[l],h=c.source(),d=c.target(),v=i===h?d:h;v.length>0&&e.push(v[0]),e.push(c[0])}return this.spawn(e,!0).filter(n)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Yr.neighbourhood=Yr.neighborhood;Yr.closedNeighbourhood=Yr.closedNeighborhood;Yr.openNeighbourhood=Yr.openNeighborhood;pt(Yr,{source:Ni(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"source"),target:Ni(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"target"),sources:pE({attr:"source"}),targets:pE({attr:"target"})});function pE(n){return function(t){for(var r=[],i=0;i<this.length;i++){var o=this[i],l=o._private[n.attr];l&&r.push(l)}return this.spawn(r,!0).filter(t)}}pt(Yr,{edgesWith:Ni(mE(),"edgesWith"),edgesTo:Ni(mE({thisIsSrc:!0}),"edgesTo")});function mE(n){return function(t){var r=[],i=this._private.cy,o=n||{};ct(t)&&(t=i.$(t));for(var l=0;l<t.length;l++)for(var c=t[l]._private.edges,h=0;h<c.length;h++){var d=c[h],v=d._private.data,m=this.hasElementWithId(v.source)&&t.hasElementWithId(v.target),b=t.hasElementWithId(v.source)&&this.hasElementWithId(v.target),E=m||b;E&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!m||o.thisIsTgt&&!b)||r.push(d))}return this.spawn(r,!0)}}pt(Yr,{connectedEdges:Ni(function(n){for(var e=[],t=this,r=0;r<t.length;r++){var i=t[r];if(i.isNode())for(var o=i._private.edges,l=0;l<o.length;l++){var c=o[l];e.push(c)}}return this.spawn(e,!0).filter(n)},"connectedEdges"),connectedNodes:Ni(function(n){for(var e=[],t=this,r=0;r<t.length;r++){var i=t[r];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(n)},"connectedNodes"),parallelEdges:Ni(yE(),"parallelEdges"),codirectedEdges:Ni(yE({codirected:!0}),"codirectedEdges")});function yE(n){var e={codirected:!1};return n=pt({},e,n),function(r){for(var i=[],o=this.edges(),l=n,c=0;c<o.length;c++)for(var h=o[c],d=h._private,v=d.source,m=v._private.data.id,b=d.data.target,E=v._private.edges,S=0;S<E.length;S++){var A=E[S],T=A._private.data,C=T.target,R=T.source,D=C===b&&R===m,M=m===C&&b===R;(l.codirected&&D||!l.codirected&&(D||M))&&i.push(A)}return this.spawn(i,!0).filter(r)}}pt(Yr,{components:function(e){var t=this,r=t.cy(),i=r.collection(),o=e==null?t.nodes():e.nodes(),l=[];e!=null&&o.empty()&&(o=e.sources());var c=function(v,m){i.merge(v),o.unmerge(v),m.merge(v)};if(o.empty())return t.spawn();var h=function(){var v=r.collection();l.push(v);var m=o[0];c(m,v),t.bfs({directed:!1,roots:m,visit:function(E){return c(E,v)}}),v.forEach(function(b){b.connectedEdges().forEach(function(E){t.has(E)&&v.has(E.source())&&v.has(E.target())&&v.merge(E)})})};do h();while(o.length>0);return l},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Yr.componentsOf=Yr.components;var _r=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Hn("A collection must have a reference to the core");return}var o=new Vu,l=!1;if(!t)t=[];else if(t.length>0&&Zt(t[0])&&!mg(t[0])){l=!0;for(var c=[],h=new yd,d=0,v=t.length;d<v;d++){var m=t[d];m.data==null&&(m.data={});var b=m.data;if(b.id==null)b.id=ix();else if(e.hasElementWithId(b.id)||h.has(b.id))continue;var E=new By(e,m,!1);c.push(E),h.add(b.id)}t=c}this.length=0;for(var S=0,A=t.length;S<A;S++){var T=t[S][0];if(T!=null){var C=T._private.data.id;(!r||!o.has(C))&&(r&&o.set(C,{index:this.length,ele:T}),this[this.length]=T,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(R){this.lazyMap=R},rebuildMap:function(){for(var D=this.lazyMap=new Vu,M=this.eles,k=0;k<M.length;k++){var L=M[k];D.set(L.id(),{index:k,ele:L})}}},r&&(this._private.map=o),l&&!i&&this.restore()},xn=By.prototype=_r.prototype=Object.create(Array.prototype);xn.instanceString=function(){return"collection"};xn.spawn=function(n,e){return new _r(this.cy(),n,e)};xn.spawnSelf=function(){return this.spawn(this)};xn.cy=function(){return this._private.cy};xn.renderer=function(){return this._private.cy.renderer()};xn.element=function(){return this[0]};xn.collection=function(){return VS(this)?this:new _r(this._private.cy,[this])};xn.unique=function(){return new _r(this._private.cy,this,!0)};xn.hasElementWithId=function(n){return n=""+n,this._private.map.has(n)};xn.getElementById=function(n){n=""+n;var e=this._private.cy,t=this._private.map.get(n);return t?t.ele:new _r(e)};xn.$id=xn.getElementById;xn.poolIndex=function(){var n=this._private.cy,e=n._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};xn.indexOf=function(n){var e=n[0]._private.data.id;return this._private.map.get(e).index};xn.indexOfId=function(n){return n=""+n,this._private.map.get(n).index};xn.json=function(n){var e=this.element(),t=this.cy();if(e==null&&n)return this;if(e!=null){var r=e._private;if(Zt(n)){if(t.startBatch(),n.data){e.data(n.data);var i=r.data;if(e.isEdge()){var o=!1,l={},c=n.data.source,h=n.data.target;c!=null&&c!=i.source&&(l.source=""+c,o=!0),h!=null&&h!=i.target&&(l.target=""+h,o=!0),o&&(e=e.move(l))}else{var d="parent"in n.data,v=n.data.parent;d&&(v!=null||i.parent!=null)&&v!=i.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}n.position&&e.position(n.position);var m=function(A,T,C){var R=n[A];R!=null&&R!==r[A]&&(R?e[T]():e[C]())};return m("removed","remove","restore"),m("selected","select","unselect"),m("selectable","selectify","unselectify"),m("locked","lock","unlock"),m("grabbable","grabify","ungrabify"),m("pannable","panify","unpanify"),n.classes!=null&&e.classes(n.classes),t.endBatch(),this}else if(n===void 0){var b={data:qu(r.data),position:qu(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};b.classes="";var E=0;return r.classes.forEach(function(S){return b.classes+=E++===0?S:" "+S}),b}}};xn.jsons=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e],r=t.json();n.push(r)}return n};xn.clone=function(){for(var n=this.cy(),e=[],t=0;t<this.length;t++){var r=this[t],i=r.json(),o=new By(n,i,!1);e.push(o)}return new _r(n,e)};xn.copy=xn.clone;xn.restore=function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,r=t.cy(),i=r._private,o=[],l=[],c,h=0,d=t.length;h<d;h++){var v=t[h];e&&!v.removed()||(v.isNode()?o.push(v):l.push(v))}c=o.concat(l);var m,b=function(){c.splice(m,1),m--};for(m=0;m<c.length;m++){var E=c[m],S=E._private,A=S.data;if(E.clearTraversalCache(),!(!e&&!S.removed)){if(A.id===void 0)A.id=ix();else if(Ve(A.id))A.id=""+A.id;else if(_l(A.id)||!ct(A.id)){Hn("Can not create element with invalid string ID `"+A.id+"`"),b();continue}else if(r.hasElementWithId(A.id)){Hn("Can not create second element with ID `"+A.id+"`"),b();continue}}var T=A.id;if(E.isNode()){var C=S.position;C.x==null&&(C.x=0),C.y==null&&(C.y=0)}if(E.isEdge()){for(var R=E,D=["source","target"],M=D.length,k=!1,L=0;L<M;L++){var _=D[L],I=A[_];Ve(I)&&(I=A[_]=""+A[_]),I==null||I===""?(Hn("Can not create edge `"+T+"` with unspecified "+_),k=!0):r.hasElementWithId(I)||(Hn("Can not create edge `"+T+"` with nonexistant "+_+" `"+I+"`"),k=!0)}if(k){b();continue}var B=r.getElementById(A.source),P=r.getElementById(A.target);B.same(P)?B._private.edges.push(R):(B._private.edges.push(R),P._private.edges.push(R)),R._private.source=B,R._private.target=P}S.map=new Vu,S.map.set(T,{ele:E,index:0}),S.removed=!1,e&&r.addToPool(E)}for(var F=0;F<o.length;F++){var H=o[F],X=H._private.data;Ve(X.parent)&&(X.parent=""+X.parent);var K=X.parent,ee=K!=null;if(ee||H._private.parent){var Y=H._private.parent?r.collection().merge(H._private.parent):r.getElementById(K);if(Y.empty())X.parent=void 0;else if(Y[0].removed())sn("Node added with missing parent, reference to parent removed"),X.parent=void 0,H._private.parent=null;else{for(var Z=!1,Q=Y;!Q.empty();){if(H.same(Q)){Z=!0,X.parent=void 0;break}Q=Q.parent()}Z||(Y[0]._private.children.push(H),H._private.parent=Y[0],i.hasCompoundNodes=!0)}}}if(c.length>0){for(var ue=c.length===t.length?t:new _r(r,c),U=0;U<ue.length;U++){var W=ue[U];W.isNode()||(W.parallelEdges().clearTraversalCache(),W.source().clearTraversalCache(),W.target().clearTraversalCache())}var ne;i.hasCompoundNodes?ne=r.collection().merge(ue).merge(ue.connectedNodes()).merge(ue.parent()):ne=ue,ne.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?ue.emitAndNotify("add"):e&&ue.emit("add")}return t};xn.removed=function(){var n=this[0];return n&&n._private.removed};xn.inside=function(){var n=this[0];return n&&!n._private.removed};xn.remove=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,r=[],i={},o=t._private.cy;function l(K){for(var ee=K._private.edges,Y=0;Y<ee.length;Y++)h(ee[Y])}function c(K){for(var ee=K._private.children,Y=0;Y<ee.length;Y++)h(ee[Y])}function h(K){var ee=i[K.id()];e&&K.removed()||ee||(i[K.id()]=!0,K.isNode()?(r.push(K),l(K),c(K)):r.unshift(K))}for(var d=0,v=t.length;d<v;d++){var m=t[d];h(m)}function b(K,ee){var Y=K._private.edges;Ll(Y,ee),K.clearTraversalCache()}function E(K){K.clearTraversalCache()}var S=[];S.ids={};function A(K,ee){ee=ee[0],K=K[0];var Y=K._private.children,Z=K.id();Ll(Y,ee),ee._private.parent=null,S.ids[Z]||(S.ids[Z]=!0,S.push(K))}t.dirtyCompoundBoundsCache(),e&&o.removeFromPool(r);for(var T=0;T<r.length;T++){var C=r[T];if(C.isEdge()){var R=C.source()[0],D=C.target()[0];b(R,C),b(D,C);for(var M=C.parallelEdges(),k=0;k<M.length;k++){var L=M[k];E(L),L.isBundledBezier()&&L.dirtyBoundingBoxCache()}}else{var _=C.parent();_.length!==0&&A(_,C)}e&&(C._private.removed=!0)}var I=o._private.elements;o._private.hasCompoundNodes=!1;for(var B=0;B<I.length;B++){var P=I[B];if(P.isParent()){o._private.hasCompoundNodes=!0;break}}var F=new _r(this.cy(),r);F.size()>0&&(n?F.emitAndNotify("remove"):e&&F.emit("remove"));for(var H=0;H<S.length;H++){var X=S[H];(!e||!X.removed())&&X.updateStyle()}return F};xn.move=function(n){var e=this._private.cy,t=this,r=!1,i=!1,o=function(S){return S==null?S:""+S};if(n.source!==void 0||n.target!==void 0){var l=o(n.source),c=o(n.target),h=l!=null&&e.hasElementWithId(l),d=c!=null&&e.hasElementWithId(c);(h||d)&&(e.batch(function(){t.remove(r,i),t.emitAndNotify("moveout");for(var E=0;E<t.length;E++){var S=t[E],A=S._private.data;S.isEdge()&&(h&&(A.source=l),d&&(A.target=c))}t.restore(r,i)}),t.emitAndNotify("move"))}else if(n.parent!==void 0){var v=o(n.parent),m=v===null||e.hasElementWithId(v);if(m){var b=v===null?void 0:v;e.batch(function(){var E=t.remove(r,i);E.emitAndNotify("moveout");for(var S=0;S<t.length;S++){var A=t[S],T=A._private.data;A.isNode()&&(T.parent=b)}E.restore(r,i)}),t.emitAndNotify("move")}}return this};[yx,WM,jm,Bl,dd,cB,Iy,RB,qx,Vx,NB,vy,Jm,Nr,Nl,Yr].forEach(function(n){pt(xn,n)});var UB={add:function(e){var t,r=this;if(si(e)){var i=e;if(i._private.cy===r)t=i.restore();else{for(var o=[],l=0;l<i.length;l++){var c=i[l];o.push(c.json())}t=new _r(r,o)}}else if(pn(e)){var h=e;t=new _r(r,h)}else if(Zt(e)&&(pn(e.nodes)||pn(e.edges))){for(var d=e,v=[],m=["nodes","edges"],b=0,E=m.length;b<E;b++){var S=m[b],A=d[S];if(pn(A))for(var T=0,C=A.length;T<C;T++){var R=pt({group:S},A[T]);v.push(R)}}t=new _r(r,v)}else{var D=e;t=new By(r,D).collection()}return t},remove:function(e){if(!si(e)){if(ct(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function FB(n,e,t,r){var i=4,o=.001,l=1e-7,c=10,h=11,d=1/(h-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var m=0;m<4;++m)if(typeof arguments[m]!="number"||isNaN(arguments[m])||!isFinite(arguments[m]))return!1;n=Math.min(n,1),t=Math.min(t,1),n=Math.max(n,0),t=Math.max(t,0);var b=v?new Float32Array(h):new Array(h);function E(P,F){return 1-3*F+3*P}function S(P,F){return 3*F-6*P}function A(P){return 3*P}function T(P,F,H){return((E(F,H)*P+S(F,H))*P+A(F))*P}function C(P,F,H){return 3*E(F,H)*P*P+2*S(F,H)*P+A(F)}function R(P,F){for(var H=0;H<i;++H){var X=C(F,n,t);if(X===0)return F;var K=T(F,n,t)-P;F-=K/X}return F}function D(){for(var P=0;P<h;++P)b[P]=T(P*d,n,t)}function M(P,F,H){var X,K,ee=0;do K=F+(H-F)/2,X=T(K,n,t)-P,X>0?H=K:F=K;while(Math.abs(X)>l&&++ee<c);return K}function k(P){for(var F=0,H=1,X=h-1;H!==X&&b[H]<=P;++H)F+=d;--H;var K=(P-b[H])/(b[H+1]-b[H]),ee=F+K*d,Y=C(ee,n,t);return Y>=o?R(P,ee):Y===0?ee:M(P,F,F+d)}var L=!1;function _(){L=!0,(n!==e||t!==r)&&D()}var I=function(F){return L||_(),n===e&&t===r?F:F===0?0:F===1?1:T(k(F),e,r)};I.getControlPoints=function(){return[{x:n,y:e},{x:t,y:r}]};var B="generateBezier("+[n,e,t,r]+")";return I.toString=function(){return B},I}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var HB=function(){function n(r){return-r.tension*r.x-r.friction*r.v}function e(r,i,o){var l={x:r.x+o.dx*i,v:r.v+o.dv*i,tension:r.tension,friction:r.friction};return{dx:l.v,dv:n(l)}}function t(r,i){var o={dx:r.v,dv:n(r)},l=e(r,i*.5,o),c=e(r,i*.5,l),h=e(r,i,c),d=1/6*(o.dx+2*(l.dx+c.dx)+h.dx),v=1/6*(o.dv+2*(l.dv+c.dv)+h.dv);return r.x=r.x+d*i,r.v=r.v+v*i,r}return function r(i,o,l){var c={x:-1,v:0,tension:null,friction:null},h=[0],d=0,v=1/1e4,m=16/1e3,b,E,S;for(i=parseFloat(i)||500,o=parseFloat(o)||20,l=l||null,c.tension=i,c.friction=o,b=l!==null,b?(d=r(i,o),E=d/l*m):E=m;S=t(S||c,E),h.push(1+S.x),d+=16,Math.abs(S.x)>v&&Math.abs(S.v)>v;);return b?function(A){return h[A*(h.length-1)|0]}:d}}(),Sn=function(e,t,r,i){var o=FB(e,t,r,i);return function(l,c,h){return l+(c-l)*o(h)}},ey={linear:function(e,t,r){return e+(t-e)*r},ease:Sn(.25,.1,.25,1),"ease-in":Sn(.42,0,1,1),"ease-out":Sn(0,0,.58,1),"ease-in-out":Sn(.42,0,.58,1),"ease-in-sine":Sn(.47,0,.745,.715),"ease-out-sine":Sn(.39,.575,.565,1),"ease-in-out-sine":Sn(.445,.05,.55,.95),"ease-in-quad":Sn(.55,.085,.68,.53),"ease-out-quad":Sn(.25,.46,.45,.94),"ease-in-out-quad":Sn(.455,.03,.515,.955),"ease-in-cubic":Sn(.55,.055,.675,.19),"ease-out-cubic":Sn(.215,.61,.355,1),"ease-in-out-cubic":Sn(.645,.045,.355,1),"ease-in-quart":Sn(.895,.03,.685,.22),"ease-out-quart":Sn(.165,.84,.44,1),"ease-in-out-quart":Sn(.77,0,.175,1),"ease-in-quint":Sn(.755,.05,.855,.06),"ease-out-quint":Sn(.23,1,.32,1),"ease-in-out-quint":Sn(.86,0,.07,1),"ease-in-expo":Sn(.95,.05,.795,.035),"ease-out-expo":Sn(.19,1,.22,1),"ease-in-out-expo":Sn(1,0,0,1),"ease-in-circ":Sn(.6,.04,.98,.335),"ease-out-circ":Sn(.075,.82,.165,1),"ease-in-out-circ":Sn(.785,.135,.15,.86),spring:function(e,t,r){if(r===0)return ey.linear;var i=HB(e,t,r);return function(o,l,c){return o+(l-o)*i(c)}},"cubic-bezier":Sn};function bE(n,e,t,r,i){if(r===1||e===t)return t;var o=i(e,t,r);return n==null||((n.roundValue||n.color)&&(o=Math.round(o)),n.min!==void 0&&(o=Math.max(o,n.min)),n.max!==void 0&&(o=Math.min(o,n.max))),o}function wE(n,e){return n.pfValue!=null||n.value!=null?n.pfValue!=null&&(e==null||e.type.units!=="%")?n.pfValue:n.value:n}function Xc(n,e,t,r,i){var o=i!=null?i.type:null;t<0?t=0:t>1&&(t=1);var l=wE(n,i),c=wE(e,i);if(Ve(l)&&Ve(c))return bE(o,l,c,t,r);if(pn(l)&&pn(c)){for(var h=[],d=0;d<c.length;d++){var v=l[d],m=c[d];if(v!=null&&m!=null){var b=bE(o,v,m,t,r);h.push(b)}else h.push(m)}return h}}function GB(n,e,t,r){var i=!r,o=n._private,l=e._private,c=l.easing,h=l.startTime,d=r?n:n.cy(),v=d.style();if(!l.easingImpl)if(c==null)l.easingImpl=ey.linear;else{var m;if(ct(c)){var b=v.parse("transition-timing-function",c);m=b.value}else m=c;var E,S;ct(m)?(E=m,S=[]):(E=m[1],S=m.slice(2).map(function(ue){return+ue})),S.length>0?(E==="spring"&&S.push(l.duration),l.easingImpl=ey[E].apply(null,S)):l.easingImpl=ey[E]}var A=l.easingImpl,T;if(l.duration===0?T=1:T=(t-h)/l.duration,l.applying&&(T=l.progress),T<0?T=0:T>1&&(T=1),l.delay==null){var C=l.startPosition,R=l.position;if(R&&i&&!n.locked()){var D={};Nv(C.x,R.x)&&(D.x=Xc(C.x,R.x,T,A)),Nv(C.y,R.y)&&(D.y=Xc(C.y,R.y,T,A)),n.position(D)}var M=l.startPan,k=l.pan,L=o.pan,_=k!=null&&r;_&&(Nv(M.x,k.x)&&(L.x=Xc(M.x,k.x,T,A)),Nv(M.y,k.y)&&(L.y=Xc(M.y,k.y,T,A)),n.emit("pan"));var I=l.startZoom,B=l.zoom,P=B!=null&&r;P&&(Nv(I,B)&&(o.zoom=ag(o.minZoom,Xc(I,B,T,A),o.maxZoom)),n.emit("zoom")),(_||P)&&n.emit("viewport");var F=l.style;if(F&&F.length>0&&i){for(var H=0;H<F.length;H++){var X=F[H],K=X.name,ee=X,Y=l.startStyle[K],Z=v.properties[Y.name],Q=Xc(Y,ee,T,A,Z);v.overrideBypass(n,K,Q)}n.emit("style")}}return l.progress=T,T}function Nv(n,e){return n==null||e==null?!1:Ve(n)&&Ve(e)?!0:!!(n&&e)}function qB(n,e,t,r){var i=e._private;i.started=!0,i.startTime=t-i.progress*i.duration}function EE(n,e){var t=e._private.aniEles,r=[];function i(v,m){var b=v._private,E=b.animation.current,S=b.animation.queue,A=!1;if(E.length===0){var T=S.shift();T&&E.push(T)}for(var C=function(L){for(var _=L.length-1;_>=0;_--){var I=L[_];I()}L.splice(0,L.length)},R=E.length-1;R>=0;R--){var D=E[R],M=D._private;if(M.stopped){E.splice(R,1),M.hooked=!1,M.playing=!1,M.started=!1,C(M.frames);continue}!M.playing&&!M.applying||(M.playing&&M.applying&&(M.applying=!1),M.started||qB(v,D,n),GB(v,D,n,m),M.applying&&(M.applying=!1),C(M.frames),M.step!=null&&M.step(n),D.completed()&&(E.splice(R,1),M.hooked=!1,M.playing=!1,M.started=!1,C(M.completes)),A=!0)}return!m&&E.length===0&&S.length===0&&r.push(v),A}for(var o=!1,l=0;l<t.length;l++){var c=t[l],h=i(c);o=o||h}var d=i(e,!0);(o||d)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(r),e.emit("step")}var VB={animate:ln.animate(),animation:ln.animation(),animated:ln.animated(),clearQueue:ln.clearQueue(),delay:ln.delay(),delayAnimation:ln.delayAnimation(),stop:ln.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&sy(function(o){EE(o,e),t()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(o,l){EE(l,e)},r.beforeRenderPriorities.animations):t()}},$B={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&mg(r.target)&&i.matches(r.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,r){return t.qualifier!=null?r.target:e}},Gm=function(e){return ct(e)?new zl(e):e},Kx={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Py($B,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,r){return this.emitter().on(e,Gm(t),r),this},removeListener:function(e,t,r){return this.emitter().removeListener(e,Gm(t),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,r){return this.emitter().one(e,Gm(t),r),this},once:function(e,t,r){return this.emitter().one(e,Gm(t),r),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ln.eventAliasesOn(Kx);var tb={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};tb.jpeg=tb.jpg;var ty={layout:function(e){var t=this;if(e==null){Hn("Layout options must be specified to make a layout");return}if(e.name==null){Hn("A `name` must be specified to make a layout");return}var r=e.name,i=t.extension("layout",r);if(i==null){Hn("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;ct(e.eles)?o=t.$(e.eles):o=e.eles!=null?e.eles:t.$();var l=new i(pt({},e,{cy:t,eles:o}));return l}};ty.createLayout=ty.makeLayout=ty.layout;var YB={notify:function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(r.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?t.notify(r):t.notify(r,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],l=e[o],c=t.getElementById(o);c.data(l)}})}},KB=xr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),nb={renderTo:function(e,t,r,i){var o=this._private.renderer;return o.renderTo(e,t,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){Hn("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&sn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=KB(e);i.cy=t,t._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};nb.invalidateDimensions=nb.resize;var ny={collection:function(e,t){return ct(e)?this.$(e):si(e)?e.collection():pn(e)?(t||(t={}),new _r(this,e,t.unique,t.removed)):new _r(this)},nodes:function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};ny.elements=ny.filter=ny.$;var Wr={},$v="t",XB="f";Wr.apply=function(n){for(var e=this,t=e._private,r=t.cy,i=r.collection(),o=0;o<n.length;o++){var l=n[o],c=e.getContextMeta(l);if(!c.empty){var h=e.getContextStyle(c),d=e.applyContextStyle(c,h,l);l._private.appliedInitStyle?e.updateTransitions(l,d.diffProps):l._private.appliedInitStyle=!0;var v=e.updateStyleHints(l);v&&i.push(l)}}return i};Wr.getPropertiesDiff=function(n,e){var t=this,r=t._private.propDiffs=t._private.propDiffs||{},i=n+"-"+e,o=r[i];if(o)return o;for(var l=[],c={},h=0;h<t.length;h++){var d=t[h],v=n[h]===$v,m=e[h]===$v,b=v!==m,E=d.mappedProperties.length>0;if(b||m&&E){var S=void 0;b&&E||b?S=d.properties:E&&(S=d.mappedProperties);for(var A=0;A<S.length;A++){for(var T=S[A],C=T.name,R=!1,D=h+1;D<t.length;D++){var M=t[D],k=e[D]===$v;if(k&&(R=M.properties[T.name]!=null,R))break}!c[C]&&!R&&(c[C]=!0,l.push(C))}}}return r[i]=l,l};Wr.getContextMeta=function(n){for(var e=this,t="",r,i=n._private.styleCxtKey||"",o=0;o<e.length;o++){var l=e[o],c=l.selector&&l.selector.matches(n);c?t+=$v:t+=XB}return r=e.getPropertiesDiff(i,t),n._private.styleCxtKey=t,{key:t,diffPropNames:r,empty:r.length===0}};Wr.getContextStyle=function(n){var e=n.key,t=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},o=0;o<t.length;o++){var l=t[o],c=e[o]===$v;if(c)for(var h=0;h<l.properties.length;h++){var d=l.properties[h];i[d.name]=d}}return r[e]=i,i};Wr.applyContextStyle=function(n,e,t){for(var r=this,i=n.diffPropNames,o={},l=r.types,c=0;c<i.length;c++){var h=i[c],d=e[h],v=t.pstyle(h);if(!d)if(v)v.bypass?d={name:h,deleteBypassed:!0}:d={name:h,delete:!0};else continue;if(v!==d){if(d.mapped===l.fn&&v!=null&&v.mapping!=null&&v.mapping.value===d.value){var m=v.mapping,b=m.fnValue=d.value(t);if(b===m.prevFnValue)continue}var E=o[h]={prev:v};r.applyParsedProperty(t,d),E.next=t.pstyle(h),E.next&&E.next.bypass&&(E.next=E.next.bypassed)}}return{diffProps:o}};Wr.updateStyleHints=function(n){var e=n._private,t=this,r=t.propertyGroupNames,i=t.propertyGroupKeys,o=function(we,_e,He){return t.getPropertiesHash(we,_e,He)},l=e.styleKey;if(n.removed())return!1;var c=e.group==="nodes",h=n._private.style;r=Object.keys(h);for(var d=0;d<i.length;d++){var v=i[d];e.styleKeys[v]=[td,Fv]}for(var m=function(we,_e){return e.styleKeys[_e][0]=tg(we,e.styleKeys[_e][0])},b=function(we,_e){return e.styleKeys[_e][1]=ng(we,e.styleKeys[_e][1])},E=function(we,_e){m(we,_e),b(we,_e)},S=function(we,_e){for(var He=0;He<we.length;He++){var Ge=we.charCodeAt(He);m(Ge,_e),b(Ge,_e)}},A=2e9,T=function(we){return-128<we&&we<128&&Math.floor(we)!==we?A-(we*1024|0):we},C=0;C<r.length;C++){var R=r[C],D=h[R];if(D!=null){var M=this.properties[R],k=M.type,L=M.groupKey,_=void 0;M.hashOverride!=null?_=M.hashOverride(n,D):D.pfValue!=null&&(_=D.pfValue);var I=M.enums==null?D.value:null,B=_!=null,P=I!=null,F=B||P,H=D.units;if(k.number&&F&&!k.multiple){var X=B?_:I;E(T(X),L),!B&&H!=null&&S(H,L)}else S(D.strValue,L)}}for(var K=[td,Fv],ee=0;ee<i.length;ee++){var Y=i[ee],Z=e.styleKeys[Y];K[0]=tg(Z[0],K[0]),K[1]=ng(Z[1],K[1])}e.styleKey=tR(K[0],K[1]);var Q=e.styleKeys;e.labelDimsKey=Sl(Q.labelDimensions);var ue=o(n,["label"],Q.labelDimensions);if(e.labelKey=Sl(ue),e.labelStyleKey=Sl(_m(Q.commonLabel,ue)),!c){var U=o(n,["source-label"],Q.labelDimensions);e.sourceLabelKey=Sl(U),e.sourceLabelStyleKey=Sl(_m(Q.commonLabel,U));var W=o(n,["target-label"],Q.labelDimensions);e.targetLabelKey=Sl(W),e.targetLabelStyleKey=Sl(_m(Q.commonLabel,W))}if(c){var ne=e.styleKeys,ce=ne.nodeBody,oe=ne.nodeBorder,me=ne.nodeOutline,ye=ne.backgroundImage,Oe=ne.compound,Te=ne.pie,de=[ce,oe,me,ye,Oe,Te].filter(function(ae){return ae!=null}).reduce(_m,[td,Fv]);e.nodeKey=Sl(de),e.hasPie=Te!=null&&Te[0]!==td&&Te[1]!==Fv}return l!==e.styleKey};Wr.clearStyleHints=function(n){var e=n._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Wr.applyParsedProperty=function(n,e){var t=this,r=e,i=n._private.style,o,l=t.types,c=t.properties[r.name].type,h=r.bypass,d=i[r.name],v=d&&d.bypass,m=n._private,b="mapping",E=function(ce){return ce==null?null:ce.pfValue!=null?ce.pfValue:ce.value},S=function(){var ce=E(d),oe=E(r);t.checkTriggers(n,r.name,ce,oe)};if(e.name==="curve-style"&&n.isEdge()&&(e.value!=="bezier"&&n.isLoop()||e.value==="haystack"&&(n.source().isParent()||n.target().isParent()))&&(r=e=this.parse(e.name,"bezier",h)),r.delete)return i[r.name]=void 0,S(),!0;if(r.deleteBypassed)return d?d.bypass?(d.bypassed=void 0,S(),!0):!1:(S(),!0);if(r.deleteBypass)return d?d.bypass?(i[r.name]=d.bypassed,S(),!0):!1:(S(),!0);var A=function(){sn("Do not assign mappings to elements without corresponding data (i.e. ele `"+n.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case l.mapData:{for(var T=r.field.split("."),C=m.data,R=0;R<T.length&&C;R++){var D=T[R];C=C[D]}if(C==null)return A(),!1;var M;if(Ve(C)){var k=r.fieldMax-r.fieldMin;k===0?M=0:M=(C-r.fieldMin)/k}else return sn("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+C+"` for `"+n.id()+"` is non-numeric)"),!1;if(M<0?M=0:M>1&&(M=1),c.color){var L=r.valueMin[0],_=r.valueMax[0],I=r.valueMin[1],B=r.valueMax[1],P=r.valueMin[2],F=r.valueMax[2],H=r.valueMin[3]==null?1:r.valueMin[3],X=r.valueMax[3]==null?1:r.valueMax[3],K=[Math.round(L+(_-L)*M),Math.round(I+(B-I)*M),Math.round(P+(F-P)*M),Math.round(H+(X-H)*M)];o={bypass:r.bypass,name:r.name,value:K,strValue:"rgb("+K[0]+", "+K[1]+", "+K[2]+")"}}else if(c.number){var ee=r.valueMin+(r.valueMax-r.valueMin)*M;o=this.parse(r.name,ee,r.bypass,b)}else return!1;if(!o)return A(),!1;o.mapping=r,r=o;break}case l.data:{for(var Y=r.field.split("."),Z=m.data,Q=0;Q<Y.length&&Z;Q++){var ue=Y[Q];Z=Z[ue]}if(Z!=null&&(o=this.parse(r.name,Z,r.bypass,b)),!o)return A(),!1;o.mapping=r,r=o;break}case l.fn:{var U=r.value,W=r.fnValue!=null?r.fnValue:U(n);if(r.prevFnValue=W,W==null)return sn("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+n.id()+"` is null)"),!1;if(o=this.parse(r.name,W,r.bypass,b),!o)return sn("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+n.id()+"` is invalid)"),!1;o.mapping=qu(r),r=o;break}case void 0:break;default:return!1}return h?(v?r.bypassed=d.bypassed:r.bypassed=d,i[r.name]=r):v?d.bypassed=r:i[r.name]=r,S(),!0};Wr.cleanElements=function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!e)r._private.style={};else for(var i=r._private.style,o=Object.keys(i),l=0;l<o.length;l++){var c=o[l],h=i[c];h!=null&&(h.bypass?h.bypassed=null:i[c]=null)}}};Wr.update=function(){var n=this._private.cy,e=n.mutableElements();e.updateStyle()};Wr.updateTransitions=function(n,e){var t=this,r=n._private,i=n.pstyle("transition-property").value,o=n.pstyle("transition-duration").pfValue,l=n.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var c={},h=!1,d=0;d<i.length;d++){var v=i[d],m=n.pstyle(v),b=e[v];if(b){var E=b.prev,S=E,A=b.next!=null?b.next:m,T=!1,C=void 0,R=1e-6;S&&(Ve(S.pfValue)&&Ve(A.pfValue)?(T=A.pfValue-S.pfValue,C=S.pfValue+R*T):Ve(S.value)&&Ve(A.value)?(T=A.value-S.value,C=S.value+R*T):pn(S.value)&&pn(A.value)&&(T=S.value[0]!==A.value[0]||S.value[1]!==A.value[1]||S.value[2]!==A.value[2],C=S.strValue),T&&(c[v]=A.strValue,this.applyBypass(n,v,C),h=!0))}}if(!h)return;r.transitioning=!0,new bd(function(D){l>0?n.delayAnimation(l).play().promise().then(D):D()}).then(function(){return n.animation({style:c,duration:o,easing:n.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(n,i),n.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(n,i),n.emitAndNotify("style"),r.transitioning=!1)};Wr.checkTrigger=function(n,e,t,r,i,o){var l=this.properties[e],c=i(l);c!=null&&c(t,r)&&o(l)};Wr.checkZOrderTrigger=function(n,e,t,r){var i=this;this.checkTrigger(n,e,t,r,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",n)})};Wr.checkBoundsTrigger=function(n,e,t,r){this.checkTrigger(n,e,t,r,function(i){return i.triggersBounds},function(i){n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(t==="bezier"||r==="bezier")&&n.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(t==="none"||r==="none")&&n.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};Wr.checkTriggers=function(n,e,t,r){n.dirtyStyleCache(),this.checkZOrderTrigger(n,e,t,r),this.checkBoundsTrigger(n,e,t,r)};var Sg={};Sg.applyBypass=function(n,e,t,r){var i=this,o=[],l=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var c=0;c<i.properties.length;c++){var h=i.properties[c],d=h.name,v=this.parse(d,t,!0);v&&o.push(v)}}else if(ct(e)){var m=this.parse(e,t,!0);m&&o.push(m)}else if(Zt(e)){var b=e;r=t;for(var E=Object.keys(b),S=0;S<E.length;S++){var A=E[S],T=b[A];if(T===void 0&&(T=b[Oy(A)]),T!==void 0){var C=this.parse(A,T,!0);C&&o.push(C)}}}else return!1;if(o.length===0)return!1;for(var R=!1,D=0;D<n.length;D++){for(var M=n[D],k={},L=void 0,_=0;_<o.length;_++){var I=o[_];if(r){var B=M.pstyle(I.name);L=k[I.name]={prev:B}}R=this.applyParsedProperty(M,qu(I))||R,r&&(L.next=M.pstyle(I.name))}R&&this.updateStyleHints(M),r&&this.updateTransitions(M,k,l)}return R};Sg.overrideBypass=function(n,e,t){e=xb(e);for(var r=0;r<n.length;r++){var i=n[r],o=i._private.style[e],l=this.properties[e].type,c=l.color,h=l.mutiple,d=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,t):(o.value=t,o.pfValue!=null&&(o.pfValue=t),c?o.strValue="rgb("+t.join(",")+")":h?o.strValue=t.join(" "):o.strValue=""+t,this.updateStyleHints(i)),this.checkTriggers(i,e,d,t)}};Sg.removeAllBypasses=function(n,e){return this.removeBypasses(n,this.propertyNames,e)};Sg.removeBypasses=function(n,e,t){for(var r=!0,i=0;i<n.length;i++){for(var o=n[i],l={},c=0;c<e.length;c++){var h=e[c],d=this.properties[h],v=o.pstyle(d.name);if(!(!v||!v.bypass)){var m="",b=this.parse(h,m,!0),E=l[d.name]={prev:v};this.applyParsedProperty(o,b),E.next=o.pstyle(d.name)}}this.updateStyleHints(o),t&&this.updateTransitions(o,l,r)}};var Ib={};Ib.getEmSizeInPixels=function(){var n=this.containerCss("font-size");return n!=null?parseFloat(n):1};Ib.containerCss=function(n){var e=this._private.cy,t=e.container(),r=e.window();if(r&&t&&r.getComputedStyle)return r.getComputedStyle(t).getPropertyValue(n)};var Ku={};Ku.getRenderedStyle=function(n,e){return e?this.getStylePropertyValue(n,e,!0):this.getRawStyle(n,!0)};Ku.getRawStyle=function(n,e){var t=this;if(n=n[0],n){for(var r={},i=0;i<t.properties.length;i++){var o=t.properties[i],l=t.getStylePropertyValue(n,o.name,e);l!=null&&(r[o.name]=l,r[Oy(o.name)]=l)}return r}};Ku.getIndexedStyle=function(n,e,t,r){var i=n.pstyle(e)[t][r];return i??n.cy().style().getDefaultProperty(e)[t][0]};Ku.getStylePropertyValue=function(n,e,t){var r=this;if(n=n[0],n){var i=r.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,l=n.pstyle(i.name);if(l){var c=l.value,h=l.units,d=l.strValue;if(t&&o.number&&c!=null&&Ve(c)){var v=n.cy().zoom(),m=function(T){return T*v},b=function(T,C){return m(T)+C},E=pn(c),S=E?h.every(function(A){return A!=null}):h!=null;return S?E?c.map(function(A,T){return b(A,h[T])}).join(" "):b(c,h):E?c.map(function(A){return ct(A)?A:""+m(A)}).join(" "):""+m(c)}else if(d!=null)return d}return null}};Ku.getAnimationStartStyle=function(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],o=i.name,l=n.pstyle(o);l!==void 0&&(Zt(l)?l=this.parse(o,l.strValue):l=this.parse(o,l)),l&&(t[o]=l)}return t};Ku.getPropsList=function(n){var e=this,t=[],r=n,i=e.properties;if(r)for(var o=Object.keys(r),l=0;l<o.length;l++){var c=o[l],h=r[c],d=i[c]||i[xb(c)],v=this.parse(d.name,h);v&&t.push(v)}return t};Ku.getNonDefaultPropertiesHash=function(n,e,t){var r=t.slice(),i,o,l,c,h,d;for(h=0;h<e.length;h++)if(i=e[h],o=n.pstyle(i,!1),o!=null)if(o.pfValue!=null)r[0]=tg(c,r[0]),r[1]=ng(c,r[1]);else for(l=o.strValue,d=0;d<l.length;d++)c=l.charCodeAt(d),r[0]=tg(c,r[0]),r[1]=ng(c,r[1]);return r};Ku.getPropertiesHash=Ku.getNonDefaultPropertiesHash;var Hy={};Hy.appendFromJson=function(n){for(var e=this,t=0;t<n.length;t++){var r=n[t],i=r.selector,o=r.style||r.css,l=Object.keys(o);e.selector(i);for(var c=0;c<l.length;c++){var h=l[c],d=o[h];e.css(h,d)}}return e};Hy.fromJson=function(n){var e=this;return e.resetToDefault(),e.appendFromJson(n),e};Hy.json=function(){for(var n=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],r=t.selector,i=t.properties,o={},l=0;l<i.length;l++){var c=i[l];o[c.name]=c.strValue}n.push({selector:r?r.toString():"core",style:o})}return n};var Pb={};Pb.appendFromString=function(n){var e=this,t=this,r=""+n,i,o,l;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){r.length>i.length?r=r.substr(i.length):r=""}function h(){o.length>l.length?o=o.substr(l.length):o=""}for(;;){var d=r.match(/^\s*$/);if(d)break;var v=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){sn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=v[0];var m=v[1];if(m!=="core"){var b=new zl(m);if(b.invalid){sn("Skipping parsing of block: Invalid selector found in string stylesheet: "+m),c();continue}}var E=v[2],S=!1;o=E;for(var A=[];;){var T=o.match(/^\s*$/);if(T)break;var C=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!C){sn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+E),S=!0;break}l=C[0];var R=C[1],D=C[2],M=e.properties[R];if(!M){sn("Skipping property: Invalid property name in: "+l),h();continue}var k=t.parse(R,D);if(!k){sn("Skipping property: Invalid property definition in: "+l),h();continue}A.push({name:R,val:D}),h()}if(S){c();break}t.selector(m);for(var L=0;L<A.length;L++){var _=A[L];t.css(_.name,_.val)}c()}return t};Pb.fromString=function(n){var e=this;return e.resetToDefault(),e.appendFromString(n),e};var Br={};(function(){var n=cr,e=iA,t=oA,r=lA,i=sA,o=function(de){return"^"+de+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(de){var ae=n+"|\\w+|"+e+"|"+t+"|"+r+"|"+i;return"^"+de+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+ae+")\\s*\\,\\s*("+ae+")\\)$"},c=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Br.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(de,ae){switch(de.length){case 2:return ae[0]!=="deg"&&ae[0]!=="rad"&&ae[1]!=="deg"&&ae[1]!=="rad";case 1:return ct(de[0])||ae[0]==="deg"||ae[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(de){var ae=de.length;return ae===1||ae===2||ae===4}}};var h={zeroNonZero:function(de,ae){return(de==null||ae==null)&&de!==ae||de==0&&ae!=0?!0:de!=0&&ae==0},any:function(de,ae){return de!=ae},emptyNonEmpty:function(de,ae){var we=_l(de),_e=_l(ae);return we&&!_e||!we&&_e}},d=Br.types,v=[{name:"label",type:d.text,triggersBounds:h.any,triggersZOrder:h.emptyNonEmpty},{name:"text-rotation",type:d.textRotation,triggersBounds:h.any},{name:"text-margin-x",type:d.bidirectionalSize,triggersBounds:h.any},{name:"text-margin-y",type:d.bidirectionalSize,triggersBounds:h.any}],m=[{name:"source-label",type:d.text,triggersBounds:h.any},{name:"source-text-rotation",type:d.textRotation,triggersBounds:h.any},{name:"source-text-margin-x",type:d.bidirectionalSize,triggersBounds:h.any},{name:"source-text-margin-y",type:d.bidirectionalSize,triggersBounds:h.any},{name:"source-text-offset",type:d.size,triggersBounds:h.any}],b=[{name:"target-label",type:d.text,triggersBounds:h.any},{name:"target-text-rotation",type:d.textRotation,triggersBounds:h.any},{name:"target-text-margin-x",type:d.bidirectionalSize,triggersBounds:h.any},{name:"target-text-margin-y",type:d.bidirectionalSize,triggersBounds:h.any},{name:"target-text-offset",type:d.size,triggersBounds:h.any}],E=[{name:"font-family",type:d.fontFamily,triggersBounds:h.any},{name:"font-style",type:d.fontStyle,triggersBounds:h.any},{name:"font-weight",type:d.fontWeight,triggersBounds:h.any},{name:"font-size",type:d.size,triggersBounds:h.any},{name:"text-transform",type:d.textTransform,triggersBounds:h.any},{name:"text-wrap",type:d.textWrap,triggersBounds:h.any},{name:"text-overflow-wrap",type:d.textOverflowWrap,triggersBounds:h.any},{name:"text-max-width",type:d.size,triggersBounds:h.any},{name:"text-outline-width",type:d.size,triggersBounds:h.any},{name:"line-height",type:d.positiveNumber,triggersBounds:h.any}],S=[{name:"text-valign",type:d.valign,triggersBounds:h.any},{name:"text-halign",type:d.halign,triggersBounds:h.any},{name:"color",type:d.color},{name:"text-outline-color",type:d.color},{name:"text-outline-opacity",type:d.zeroOneNumber},{name:"text-background-color",type:d.color},{name:"text-background-opacity",type:d.zeroOneNumber},{name:"text-background-padding",type:d.size,triggersBounds:h.any},{name:"text-border-opacity",type:d.zeroOneNumber},{name:"text-border-color",type:d.color},{name:"text-border-width",type:d.size,triggersBounds:h.any},{name:"text-border-style",type:d.borderStyle,triggersBounds:h.any},{name:"text-background-shape",type:d.textBackgroundShape,triggersBounds:h.any},{name:"text-justification",type:d.justification}],A=[{name:"events",type:d.bool,triggersZOrder:h.any},{name:"text-events",type:d.bool,triggersZOrder:h.any}],T=[{name:"display",type:d.display,triggersZOrder:h.any,triggersBounds:h.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:d.visibility,triggersZOrder:h.any},{name:"opacity",type:d.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"text-opacity",type:d.zeroOneNumber},{name:"min-zoomed-font-size",type:d.size},{name:"z-compound-depth",type:d.zCompoundDepth,triggersZOrder:h.any},{name:"z-index-compare",type:d.zIndexCompare,triggersZOrder:h.any},{name:"z-index",type:d.number,triggersZOrder:h.any}],C=[{name:"overlay-padding",type:d.size,triggersBounds:h.any},{name:"overlay-color",type:d.color},{name:"overlay-opacity",type:d.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"overlay-shape",type:d.overlayShape,triggersBounds:h.any},{name:"overlay-corner-radius",type:d.cornerRadius}],R=[{name:"underlay-padding",type:d.size,triggersBounds:h.any},{name:"underlay-color",type:d.color},{name:"underlay-opacity",type:d.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"underlay-shape",type:d.overlayShape,triggersBounds:h.any},{name:"underlay-corner-radius",type:d.cornerRadius}],D=[{name:"transition-property",type:d.propList},{name:"transition-duration",type:d.time},{name:"transition-delay",type:d.time},{name:"transition-timing-function",type:d.easing}],M=function(de,ae){return ae.value==="label"?-de.poolIndex():ae.pfValue},k=[{name:"height",type:d.nodeSize,triggersBounds:h.any,hashOverride:M},{name:"width",type:d.nodeSize,triggersBounds:h.any,hashOverride:M},{name:"shape",type:d.nodeShape,triggersBounds:h.any},{name:"shape-polygon-points",type:d.polygonPointList,triggersBounds:h.any},{name:"corner-radius",type:d.cornerRadius},{name:"background-color",type:d.color},{name:"background-fill",type:d.fill},{name:"background-opacity",type:d.zeroOneNumber},{name:"background-blacken",type:d.nOneOneNumber},{name:"background-gradient-stop-colors",type:d.colors},{name:"background-gradient-stop-positions",type:d.percentages},{name:"background-gradient-direction",type:d.gradientDirection},{name:"padding",type:d.sizeMaybePercent,triggersBounds:h.any},{name:"padding-relative-to",type:d.paddingRelativeTo,triggersBounds:h.any},{name:"bounds-expansion",type:d.boundsExpansion,triggersBounds:h.any}],L=[{name:"border-color",type:d.color},{name:"border-opacity",type:d.zeroOneNumber},{name:"border-width",type:d.size,triggersBounds:h.any},{name:"border-style",type:d.borderStyle},{name:"border-cap",type:d.lineCap},{name:"border-join",type:d.lineJoin},{name:"border-dash-pattern",type:d.numbers},{name:"border-dash-offset",type:d.number},{name:"border-position",type:d.linePosition}],_=[{name:"outline-color",type:d.color},{name:"outline-opacity",type:d.zeroOneNumber},{name:"outline-width",type:d.size,triggersBounds:h.any},{name:"outline-style",type:d.borderStyle},{name:"outline-offset",type:d.size,triggersBounds:h.any}],I=[{name:"background-image",type:d.urls},{name:"background-image-crossorigin",type:d.bgCrossOrigin},{name:"background-image-opacity",type:d.zeroOneNumbers},{name:"background-image-containment",type:d.bgContainment},{name:"background-image-smoothing",type:d.bools},{name:"background-position-x",type:d.bgPos},{name:"background-position-y",type:d.bgPos},{name:"background-width-relative-to",type:d.bgRelativeTo},{name:"background-height-relative-to",type:d.bgRelativeTo},{name:"background-repeat",type:d.bgRepeat},{name:"background-fit",type:d.bgFit},{name:"background-clip",type:d.bgClip},{name:"background-width",type:d.bgWH},{name:"background-height",type:d.bgWH},{name:"background-offset-x",type:d.bgPos},{name:"background-offset-y",type:d.bgPos}],B=[{name:"position",type:d.position,triggersBounds:h.any},{name:"compound-sizing-wrt-labels",type:d.compoundIncludeLabels,triggersBounds:h.any},{name:"min-width",type:d.size,triggersBounds:h.any},{name:"min-width-bias-left",type:d.sizeMaybePercent,triggersBounds:h.any},{name:"min-width-bias-right",type:d.sizeMaybePercent,triggersBounds:h.any},{name:"min-height",type:d.size,triggersBounds:h.any},{name:"min-height-bias-top",type:d.sizeMaybePercent,triggersBounds:h.any},{name:"min-height-bias-bottom",type:d.sizeMaybePercent,triggersBounds:h.any}],P=[{name:"line-style",type:d.lineStyle},{name:"line-color",type:d.color},{name:"line-fill",type:d.fill},{name:"line-cap",type:d.lineCap},{name:"line-opacity",type:d.zeroOneNumber},{name:"line-dash-pattern",type:d.numbers},{name:"line-dash-offset",type:d.number},{name:"line-outline-width",type:d.size},{name:"line-outline-color",type:d.color},{name:"line-gradient-stop-colors",type:d.colors},{name:"line-gradient-stop-positions",type:d.percentages},{name:"curve-style",type:d.curveStyle,triggersBounds:h.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:d.zeroOneNumber,triggersBounds:h.any},{name:"source-endpoint",type:d.edgeEndpoint,triggersBounds:h.any},{name:"target-endpoint",type:d.edgeEndpoint,triggersBounds:h.any},{name:"control-point-step-size",type:d.size,triggersBounds:h.any},{name:"control-point-distances",type:d.bidirectionalSizes,triggersBounds:h.any},{name:"control-point-weights",type:d.numbers,triggersBounds:h.any},{name:"segment-distances",type:d.bidirectionalSizes,triggersBounds:h.any},{name:"segment-weights",type:d.numbers,triggersBounds:h.any},{name:"segment-radii",type:d.numbers,triggersBounds:h.any},{name:"radius-type",type:d.radiusType,triggersBounds:h.any},{name:"taxi-turn",type:d.bidirectionalSizeMaybePercent,triggersBounds:h.any},{name:"taxi-turn-min-distance",type:d.size,triggersBounds:h.any},{name:"taxi-direction",type:d.axisDirection,triggersBounds:h.any},{name:"taxi-radius",type:d.number,triggersBounds:h.any},{name:"edge-distances",type:d.edgeDistances,triggersBounds:h.any},{name:"arrow-scale",type:d.positiveNumber,triggersBounds:h.any},{name:"loop-direction",type:d.angle,triggersBounds:h.any},{name:"loop-sweep",type:d.angle,triggersBounds:h.any},{name:"source-distance-from-node",type:d.size,triggersBounds:h.any},{name:"target-distance-from-node",type:d.size,triggersBounds:h.any}],F=[{name:"ghost",type:d.bool,triggersBounds:h.any},{name:"ghost-offset-x",type:d.bidirectionalSize,triggersBounds:h.any},{name:"ghost-offset-y",type:d.bidirectionalSize,triggersBounds:h.any},{name:"ghost-opacity",type:d.zeroOneNumber}],H=[{name:"selection-box-color",type:d.color},{name:"selection-box-opacity",type:d.zeroOneNumber},{name:"selection-box-border-color",type:d.color},{name:"selection-box-border-width",type:d.size},{name:"active-bg-color",type:d.color},{name:"active-bg-opacity",type:d.zeroOneNumber},{name:"active-bg-size",type:d.size},{name:"outside-texture-bg-color",type:d.color},{name:"outside-texture-bg-opacity",type:d.zeroOneNumber}],X=[];Br.pieBackgroundN=16,X.push({name:"pie-size",type:d.sizeMaybePercent});for(var K=1;K<=Br.pieBackgroundN;K++)X.push({name:"pie-"+K+"-background-color",type:d.color}),X.push({name:"pie-"+K+"-background-size",type:d.percent}),X.push({name:"pie-"+K+"-background-opacity",type:d.zeroOneNumber});var ee=[],Y=Br.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:d.arrowShape,triggersBounds:h.any},{name:"arrow-color",type:d.color},{name:"arrow-fill",type:d.arrowFill},{name:"arrow-width",type:d.arrowWidth}].forEach(function(Te){Y.forEach(function(de){var ae=de+"-"+Te.name,we=Te.type,_e=Te.triggersBounds;ee.push({name:ae,type:we,triggersBounds:_e})})},{});var Z=Br.properties=[].concat(A,D,T,C,R,F,S,E,v,m,b,k,L,_,I,X,B,P,ee,H),Q=Br.propertyGroups={behavior:A,transition:D,visibility:T,overlay:C,underlay:R,ghost:F,commonLabel:S,labelDimensions:E,mainLabel:v,sourceLabel:m,targetLabel:b,nodeBody:k,nodeBorder:L,nodeOutline:_,backgroundImage:I,pie:X,compound:B,edgeLine:P,edgeArrow:ee,core:H},ue=Br.propertyGroupNames={},U=Br.propertyGroupKeys=Object.keys(Q);U.forEach(function(Te){ue[Te]=Q[Te].map(function(de){return de.name}),Q[Te].forEach(function(de){return de.groupKey=Te})});var W=Br.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Br.propertyNames=Z.map(function(Te){return Te.name});for(var ne=0;ne<Z.length;ne++){var ce=Z[ne];Z[ce.name]=ce}for(var oe=0;oe<W.length;oe++){var me=W[oe],ye=Z[me.pointsTo],Oe={name:me.name,alias:!0,pointsTo:ye};Z.push(Oe),Z[me.name]=Oe}})();Br.getDefaultProperty=function(n){return this.getDefaultProperties()[n]};Br.getDefaultProperties=function(){var n=this._private;if(n.defaultProperties!=null)return n.defaultProperties;for(var e=pt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(h,d){for(var v=1;v<=Br.pieBackgroundN;v++){var m=d.name.replace("{{i}}",v),b=d.value;h[m]=b}return h},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(h,d){return Br.arrowPrefixes.forEach(function(v){var m=v+"-"+d.name,b=d.value;h[m]=b}),h},{})),t={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,l=e[o],c=this.parse(o,l);t[o]=c}}return n.defaultProperties=t,n.defaultProperties};Br.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Gy={};Gy.parse=function(n,e,t,r){var i=this;if(Gn(e))return i.parseImplWarn(n,e,t,r);var o=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,l=t?"t":"f",c=""+e,h=nx(n,c,l,o),d=i.propCache=i.propCache||[],v;return(v=d[h])||(v=d[h]=i.parseImplWarn(n,e,t,r)),(t||r==="mapping")&&(v=qu(v),v&&(v.value=qu(v.value))),v};Gy.parseImplWarn=function(n,e,t,r){var i=this.parseImpl(n,e,t,r);return!i&&e!=null&&sn("The style property `".concat(n,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&sn("The style value of `label` is deprecated for `"+i.name+"`"),i};Gy.parseImpl=function(n,e,t,r){var i=this;n=xb(n);var o=i.properties[n],l=e,c=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,n=o.name);var h=ct(e);h&&(e=e.trim());var d=o.type;if(!d)return null;if(t&&(e===""||e===null))return{name:n,value:e,bypass:!0,deleteBypass:!0};if(Gn(e))return{name:n,value:e,strValue:"fn",mapped:c.fn,bypass:t};var v,m;if(!(!h||r||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(c.data.regex).exec(e))){if(t)return!1;var b=c.data;return{name:n,value:v,strValue:""+e,mapped:b,field:v[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(m=new RegExp(c.mapData.regex).exec(e))){if(t||d.multiple)return!1;var E=c.mapData;if(!(d.color||d.number))return!1;var S=this.parse(n,m[4]);if(!S||S.mapped)return!1;var A=this.parse(n,m[5]);if(!A||A.mapped)return!1;if(S.pfValue===A.pfValue||S.strValue===A.strValue)return sn("`"+n+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+n+": "+S.strValue+"`"),this.parse(n,S.strValue);if(d.color){var T=S.value,C=A.value,R=T[0]===C[0]&&T[1]===C[1]&&T[2]===C[2]&&(T[3]===C[3]||(T[3]==null||T[3]===1)&&(C[3]==null||C[3]===1));if(R)return!1}return{name:n,value:m,strValue:""+e,mapped:E,field:m[1],fieldMin:parseFloat(m[2]),fieldMax:parseFloat(m[3]),valueMin:S.value,valueMax:A.value,bypass:t}}}if(d.multiple&&r!=="multiple"){var D;if(h?D=e.split(/\s+/):pn(e)?D=e:D=[e],d.evenMultiple&&D.length%2!==0)return null;for(var M=[],k=[],L=[],_="",I=!1,B=0;B<D.length;B++){var P=i.parse(n,D[B],t,"multiple");I=I||ct(P.value),M.push(P.value),L.push(P.pfValue!=null?P.pfValue:P.value),k.push(P.units),_+=(B>0?" ":"")+P.strValue}return d.validate&&!d.validate(M,k)?null:d.singleEnum&&I?M.length===1&&ct(M[0])?{name:n,value:M[0],strValue:M[0],bypass:t}:null:{name:n,value:M,pfValue:L,strValue:_,bypass:t,units:k}}var F=function(){for(var de=0;de<d.enums.length;de++){var ae=d.enums[de];if(ae===e)return{name:n,value:e,strValue:""+e,bypass:t}}return null};if(d.number){var H,X="px";if(d.units&&(H=d.units),d.implicitUnits&&(X=d.implicitUnits),!d.unitless)if(h){var K="px|em"+(d.allowPercent?"|\\%":"");H&&(K=H);var ee=e.match("^("+cr+")("+K+")?$");ee&&(e=ee[1],H=ee[2]||X)}else(!H||d.implicitUnits)&&(H=X);if(e=parseFloat(e),isNaN(e)&&d.enums===void 0)return null;if(isNaN(e)&&d.enums!==void 0)return e=l,F();if(d.integer&&!j2(e)||d.min!==void 0&&(e<d.min||d.strictMin&&e===d.min)||d.max!==void 0&&(e>d.max||d.strictMax&&e===d.max))return null;var Y={name:n,value:e,strValue:""+e+(H||""),units:H,bypass:t};return d.unitless||H!=="px"&&H!=="em"?Y.pfValue=e:Y.pfValue=H==="px"||!H?e:this.getEmSizeInPixels()*e,(H==="ms"||H==="s")&&(Y.pfValue=H==="ms"?e:1e3*e),(H==="deg"||H==="rad")&&(Y.pfValue=H==="rad"?e:BR(e)),H==="%"&&(Y.pfValue=e/100),Y}else if(d.propList){var Z=[],Q=""+e;if(Q!=="none"){for(var ue=Q.split(/\s*,\s*|\s+/),U=0;U<ue.length;U++){var W=ue[U].trim();i.properties[W]?Z.push(W):sn("`"+W+"` is not a valid property name")}if(Z.length===0)return null}return{name:n,value:Z,strValue:Z.length===0?"none":Z.join(" "),bypass:t}}else if(d.color){var ne=XS(e);return ne?{name:n,value:ne,pfValue:ne,strValue:"rgb("+ne[0]+","+ne[1]+","+ne[2]+")",bypass:t}:null}else if(d.regex||d.regexes){if(d.enums){var ce=F();if(ce)return ce}for(var oe=d.regexes?d.regexes:[d.regex],me=0;me<oe.length;me++){var ye=new RegExp(oe[me]),Oe=ye.exec(e);if(Oe)return{name:n,value:d.singleRegexMatchValue?Oe[1]:Oe,strValue:""+e,bypass:t}}return null}else return d.string?{name:n,value:""+e,strValue:""+e,bypass:t}:d.enums?F():null};var $r=function n(e){if(!(this instanceof n))return new n(e);if(!Sb(e)){Hn("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Kr=$r.prototype;Kr.instanceString=function(){return"style"};Kr.clear=function(){for(var n=this._private,e=n.cy,t=e.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,n.contextStyles={},n.propDiffs={},this.cleanElements(t,!0),t.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Kr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Kr.core=function(n){return this._private.coreStyle[n]||this.getDefaultProperty(n)};Kr.selector=function(n){var e=n==="core"?null:new zl(n),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};Kr.css=function(){var n=this,e=arguments;if(e.length===1)for(var t=e[0],r=0;r<n.properties.length;r++){var i=n.properties[r],o=t[i.name];o===void 0&&(o=t[Oy(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Kr.style=Kr.css;Kr.cssRule=function(n,e){var t=this.parse(n,e);if(t){var r=this.length-1;this[r].properties.push(t),this[r].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[r].mappedProperties.push(t);var i=!this[r].selector;i&&(this._private.coreStyle[t.name]=t)}return this};Kr.append=function(n){return $S(n)?n.appendToStyle(this):pn(n)?this.appendFromJson(n):ct(n)&&this.appendFromString(n),this};$r.fromJson=function(n,e){var t=new $r(n);return t.fromJson(e),t};$r.fromString=function(n,e){return new $r(n).fromString(e)};[Wr,Sg,Ib,Ku,Hy,Pb,Br,Gy].forEach(function(n){pt(Kr,n)});$r.types=Kr.types;$r.properties=Kr.properties;$r.propertyGroups=Kr.propertyGroups;$r.propertyGroupNames=Kr.propertyGroupNames;$r.propertyGroupKeys=Kr.propertyGroupKeys;var WB={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return $S(e)?t.style=e.generateStyle(this):pn(e)?t.style=$r.fromJson(this,e):ct(e)?t.style=$r.fromString(this,e):t.style=$r(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},ZB="single",mf={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=ZB),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,r,i,o,l,c;switch(e.length){case 0:return t;case 1:if(ct(e[0]))return r=e[0],t[r];if(Zt(e[0])){if(!this._private.panningEnabled)return this;o=e[0],l=o.x,c=o.y,Ve(l)&&(t.x=l),Ve(c)&&(t.y=c),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&Ve(i)&&(t[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var r=arguments,i=this._private.pan,o,l,c,h,d;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Zt(e)&&(c=r[0],h=c.x,d=c.y,Ve(h)&&(i.x+=h),Ve(d)&&(i.y+=d),this.emit("pan viewport"));break;case 2:o=e,l=t,(o==="x"||o==="y")&&Ve(l)&&(i[o]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Ve(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(ct(e)){var i=e;e=this.$(i)}else if(tA(e)){var o=e;r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else si(e)||(e=this.mutableElements());if(!(si(e)&&e.empty())){r=r||e.boundingBox();var l=this.width(),c=this.height(),h;if(t=Ve(t)?t:0,!isNaN(l)&&!isNaN(c)&&l>0&&c>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){h=Math.min((l-2*t)/r.w,(c-2*t)/r.h),h=h>this._private.maxZoom?this._private.maxZoom:h,h=h<this._private.minZoom?this._private.minZoom:h;var d={x:(l-h*(r.x1+r.x2))/2,y:(c-h*(r.y1+r.y2))/2};return{zoom:h,pan:d}}}}},zoomRange:function(e,t){var r=this._private;if(t==null){var i=e;e=i.min,t=i.max}return Ve(e)&&Ve(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):Ve(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:Ve(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,r=t.pan,i=t.zoom,o,l,c=!1;if(t.zoomingEnabled||(c=!0),Ve(e)?l=e:Zt(e)&&(l=e.level,e.position!=null?o=Ny(e.position,i,r):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!t.panningEnabled&&(c=!0)),l=l>t.maxZoom?t.maxZoom:l,l=l<t.minZoom?t.minZoom:l,c||!Ve(l)||l===i||o!=null&&(!Ve(o.x)||!Ve(o.y)))return null;if(o!=null){var h=r,d=i,v=l,m={x:-v/d*(o.x-h.x)+o.x,y:-v/d*(o.y-h.y)+o.y};return{zoomed:!0,panned:!0,zoom:v,pan:m}}else return{zoomed:!0,panned:!1,zoom:l,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,r=!0,i=!0,o=[],l=!1,c=!1;if(!e)return this;if(Ve(e.zoom)||(r=!1),Zt(e.pan)||(i=!1),!r&&!i)return this;if(r){var h=e.zoom;h<t.minZoom||h>t.maxZoom||!t.zoomingEnabled?l=!0:(t.zoom=h,o.push("zoom"))}if(i&&(!l||!e.cancelOnFailedZoom)&&t.panningEnabled){var d=e.pan;Ve(d.x)&&(t.pan.x=d.x,c=!1),Ve(d.y)&&(t.pan.y=d.y,c=!1),c||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(ct(e)){var r=e;e=this.mutableElements().filter(r)}else si(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),l=this.height();t=t===void 0?this._private.zoom:t;var c={x:(o-t*(i.x1+i.x2))/2,y:(l-t*(i.y1+i.y2))/2};return c}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?function(){var i=r.window().getComputedStyle(t),o=function(c){return parseFloat(i.getPropertyValue(c))};return{width:t.clientWidth-o("padding-left")-o("padding-right"),height:t.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};mf.centre=mf.center;mf.autolockNodes=mf.autolock;mf.autoungrabifyNodes=mf.autoungrabify;var sg={data:ln.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ln.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ln.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ln.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};sg.attr=sg.data;sg.removeAttr=sg.removeData;var fg=function(e){var t=this;e=pt({},e);var r=e.container;r&&!ly(r)&&ly(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=t;var l=sr!==void 0&&r!==void 0&&!e.headless,c=e;c.layout=pt({name:l?"grid":"null"},c.layout),c.renderer=pt({name:l?"canvas":"null"},c.renderer);var h=function(S,A,T){return A!==void 0?A:T!==void 0?T:S},d=this._private={container:r,ready:!1,options:c,elements:new _r(this),listeners:[],aniEles:new _r(this),data:c.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,c.zoomingEnabled),userZoomingEnabled:h(!0,c.userZoomingEnabled),panningEnabled:h(!0,c.panningEnabled),userPanningEnabled:h(!0,c.userPanningEnabled),boxSelectionEnabled:h(!0,c.boxSelectionEnabled),autolock:h(!1,c.autolock,c.autolockNodes),autoungrabify:h(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:h(!1,c.autounselectify),styleEnabled:c.styleEnabled===void 0?l:c.styleEnabled,zoom:Ve(c.zoom)?c.zoom:1,pan:{x:Zt(c.pan)&&Ve(c.pan.x)?c.pan.x:0,y:Zt(c.pan)&&Ve(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:h(250,c.multiClickDebounceTime)};this.createEmitter(),this.selectionType(c.selectionType),this.zoomRange({min:c.minZoom,max:c.maxZoom});var v=function(S,A){var T=S.some(nA);if(T)return bd.all(S).then(A);A(S)};d.styleEnabled&&t.setStyle([]);var m=pt({},c,c.renderer);t.initRenderer(m);var b=function(S,A,T){t.notifications(!1);var C=t.mutableElements();C.length>0&&C.remove(),S!=null&&(Zt(S)||pn(S))&&t.add(S),t.one("layoutready",function(D){t.notifications(!0),t.emit(D),t.one("load",A),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",T),t.emit("done")});var R=pt({},t._private.options.layout);R.eles=t.elements(),t.layout(R).run()};v([c.style,c.elements],function(E){var S=E[0],A=E[1];d.styleEnabled&&t.style().append(S),b(A,function(){t.startAnimationLoop(),d.ready=!0,Gn(c.ready)&&t.on("ready",c.ready);for(var T=0;T<o.length;T++){var C=o[T];t.on("ready",C)}i&&(i.readies=[]),t.emit("ready")},c.done)})},gy=fg.prototype;pt(gy,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return sr;var t=this._private.container.ownerDocument;return t===void 0||t==null?sr:t.defaultView||sr},mount:function(e){if(e!=null){var t=this,r=t._private,i=r.options;return!ly(e)&&ly(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(pt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return qu(this._private.options)},json:function(e){var t=this,r=t._private,i=t.mutableElements(),o=function(M){return t.getElementById(M.id())};if(Zt(e)){if(t.startBatch(),e.elements){var l={},c=function(M,k){for(var L=[],_=[],I=0;I<M.length;I++){var B=M[I];if(!B.data.id){sn("cy.json() cannot handle elements without an ID attribute");continue}var P=""+B.data.id,F=t.getElementById(P);l[P]=!0,F.length!==0?_.push({ele:F,json:B}):(k&&(B.group=k),L.push(B))}t.add(L);for(var H=0;H<_.length;H++){var X=_[H],K=X.ele,ee=X.json;K.json(ee)}};if(pn(e.elements))c(e.elements);else for(var h=["nodes","edges"],d=0;d<h.length;d++){var v=h[d],m=e.elements[v];pn(m)&&c(m,v)}var b=t.collection();i.filter(function(D){return!l[D.id()]}).forEach(function(D){D.isParent()?b.merge(D):D.remove()}),b.forEach(function(D){return D.children().move({parent:null})}),b.forEach(function(D){return o(D).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var E=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],S=0;S<E.length;S++){var A=E[S];e[A]!=null&&t[A](e[A])}return t.endBatch(),this}else{var T=!!e,C={};T?C.elements=this.elements().map(function(D){return D.json()}):(C.elements={},i.forEach(function(D){var M=D.group();C.elements[M]||(C.elements[M]=[]),C.elements[M].push(D.json())})),this._private.styleEnabled&&(C.style=t.style().json()),C.data=qu(t.data());var R=r.options;return C.zoomingEnabled=r.zoomingEnabled,C.userZoomingEnabled=r.userZoomingEnabled,C.zoom=r.zoom,C.minZoom=r.minZoom,C.maxZoom=r.maxZoom,C.panningEnabled=r.panningEnabled,C.userPanningEnabled=r.userPanningEnabled,C.pan=qu(r.pan),C.boxSelectionEnabled=r.boxSelectionEnabled,C.renderer=qu(R.renderer),C.hideEdgesOnViewport=R.hideEdgesOnViewport,C.textureOnViewport=R.textureOnViewport,C.wheelSensitivity=R.wheelSensitivity,C.motionBlur=R.motionBlur,C.multiClickDebounceTime=R.multiClickDebounceTime,C}}});gy.$id=gy.getElementById;[UB,VB,Kx,tb,ty,YB,nb,ny,WB,mf,sg].forEach(function(n){pt(gy,n)});var QB={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},jB={maximal:!1,acyclic:!1},Wc=function(e){return e.scratch("breadthfirst")},SE=function(e,t){return e.scratch("breadthfirst",t)};function Xx(n){this.options=pt({},QB,jB,n)}Xx.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,r=t.nodes().filter(function(Ke){return Ke.isChildless()}),i=t,o=n.directed,l=n.acyclic||n.maximal||n.maximalAdjustments>0,c=!!n.boundingBox,h=e.extent(),d=Ua(c?n.boundingBox:{x1:h.x1,y1:h.y1,w:h.w,h:h.h}),v;if(si(n.roots))v=n.roots;else if(pn(n.roots)){for(var m=[],b=0;b<n.roots.length;b++){var E=n.roots[b],S=e.getElementById(E);m.push(S)}v=e.collection(m)}else if(ct(n.roots))v=e.$(n.roots);else if(o)v=r.roots();else{var A=t.components();v=e.collection();for(var T=function(Xe){var je=A[Xe],Ze=je.maxDegree(!1),tt=je.filter(function(at){return at.degree(!1)===Ze});v=v.add(tt)},C=0;C<A.length;C++)T(C)}var R=[],D={},M=function(Xe,je){R[je]==null&&(R[je]=[]);var Ze=R[je].length;R[je].push(Xe),SE(Xe,{index:Ze,depth:je})},k=function(Xe,je){var Ze=Wc(Xe),tt=Ze.depth,at=Ze.index;R[tt][at]=null,Xe.isChildless()&&M(Xe,je)};i.bfs({roots:v,directed:n.directed,visit:function(Xe,je,Ze,tt,at){var nt=Xe[0],wt=nt.id();nt.isChildless()&&M(nt,at),D[wt]=!0}});for(var L=[],_=0;_<r.length;_++){var I=r[_];D[I.id()]||L.push(I)}var B=function(Xe){for(var je=R[Xe],Ze=0;Ze<je.length;Ze++){var tt=je[Ze];if(tt==null){je.splice(Ze,1),Ze--;continue}SE(tt,{depth:Xe,index:Ze})}},P=function(Xe,je){for(var Ze=Wc(Xe),tt=Xe.incomers().filter(function(Re){return Re.isNode()&&t.has(Re)}),at=-1,nt=Xe.id(),wt=0;wt<tt.length;wt++){var Ae=tt[wt],V=Wc(Ae);at=Math.max(at,V.depth)}if(Ze.depth<=at){if(!n.acyclic&&je[nt])return null;var he=at+1;return k(Xe,he),je[nt]=he,!0}return!1};if(o&&l){var F=[],H={},X=function(Xe){return F.push(Xe)},K=function(){return F.shift()};for(r.forEach(function(Ke){return F.push(Ke)});F.length>0;){var ee=K(),Y=P(ee,H);if(Y)ee.outgoers().filter(function(Ke){return Ke.isNode()&&t.has(Ke)}).forEach(X);else if(Y===null){sn("Detected double maximal shift for node `"+ee.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var Z=0;if(n.avoidOverlap)for(var Q=0;Q<r.length;Q++){var ue=r[Q],U=ue.layoutDimensions(n),W=U.w,ne=U.h;Z=Math.max(Z,W,ne)}var ce={},oe=function(Xe){if(ce[Xe.id()])return ce[Xe.id()];for(var je=Wc(Xe).depth,Ze=Xe.neighborhood(),tt=0,at=0,nt=0;nt<Ze.length;nt++){var wt=Ze[nt];if(!(wt.isEdge()||wt.isParent()||!r.has(wt))){var Ae=Wc(wt);if(Ae!=null){var V=Ae.index,he=Ae.depth;if(!(V==null||he==null)){var Re=R[he].length;he<je&&(tt+=V/Re,at++)}}}}return at=Math.max(1,at),tt=tt/at,at===0&&(tt=0),ce[Xe.id()]=tt,tt},me=function(Xe,je){var Ze=oe(Xe),tt=oe(je),at=Ze-tt;return at===0?KS(Xe.id(),je.id()):at};n.depthSort!==void 0&&(me=n.depthSort);for(var ye=R.length,Oe=0;Oe<ye;Oe++)R[Oe].sort(me),B(Oe);for(var Te=[],de=0;de<L.length;de++)Te.push(L[de]);var ae=function(){for(var Xe=0;Xe<ye;Xe++)B(Xe)};Te.length&&(R.unshift(Te),ye=R.length,ae());for(var we=0,_e=0;_e<ye;_e++)we=Math.max(R[_e].length,we);var He={x:d.x1+d.w/2,y:d.y1+d.h/2},Ge=r.reduce(function(Ke,Xe){return function(je){return{w:Ke.w===-1?je.w:(Ke.w+je.w)/2,h:Ke.h===-1?je.h:(Ke.h+je.h)/2}}(Xe.boundingBox({includeLabels:n.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Ye=Math.max(ye===1?0:c?(d.h-n.padding*2-Ge.h)/(ye-1):(d.h-n.padding*2-Ge.h)/(ye+1),Z),Ct=R.reduce(function(Ke,Xe){return Math.max(Ke,Xe.length)},0),ht=function(Xe){var je=Wc(Xe),Ze=je.depth,tt=je.index;if(n.circle){var at=Math.min(d.w/2/ye,d.h/2/ye);at=Math.max(at,Z);var nt=at*Ze+at-(ye>0&&R[0].length<=3?at/2:0),wt=2*Math.PI/R[Ze].length*tt;return Ze===0&&R[0].length===1&&(nt=1),{x:He.x+nt*Math.cos(wt),y:He.y+nt*Math.sin(wt)}}else{var Ae=R[Ze].length,V=Math.max(Ae===1?0:c?(d.w-n.padding*2-Ge.w)/((n.grid?Ct:Ae)-1):(d.w-n.padding*2-Ge.w)/((n.grid?Ct:Ae)+1),Z),he={x:He.x+(tt+1-(Ae+1)/2)*V,y:He.y+(Ze+1-(ye+1)/2)*Ye};return he}};return t.nodes().layoutPositions(this,n,ht),this};var JB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Wx(n){this.options=pt({},JB,n)}Wx.prototype.run=function(){var n=this.options,e=n,t=n.cy,r=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=r.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var l=Ua(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),c={x:l.x1+l.w/2,y:l.y1+l.h/2},h=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,d=h/Math.max(1,o.length-1),v,m=0,b=0;b<o.length;b++){var E=o[b],S=E.layoutDimensions(e),A=S.w,T=S.h;m=Math.max(m,A,T)}if(Ve(e.radius)?v=e.radius:o.length<=1?v=0:v=Math.min(l.h,l.w)/2-m,o.length>1&&e.avoidOverlap){m*=1.75;var C=Math.cos(d)-Math.cos(0),R=Math.sin(d)-Math.sin(0),D=Math.sqrt(m*m/(C*C+R*R));v=Math.max(D,v)}var M=function(L,_){var I=e.startAngle+_*d*(i?1:-1),B=v*Math.cos(I),P=v*Math.sin(I),F={x:c.x+B,y:c.y+P};return F};return r.nodes().layoutPositions(this,e,M),this};var eN={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Zx(n){this.options=pt({},eN,n)}Zx.prototype.run=function(){for(var n=this.options,e=n,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,r=n.cy,i=e.eles,o=i.nodes().not(":parent"),l=Ua(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c={x:l.x1+l.w/2,y:l.y1+l.h/2},h=[],d=0,v=0;v<o.length;v++){var m=o[v],b=void 0;b=e.concentric(m),h.push({value:b,node:m}),m._private.scratch.concentric=b}o.updateStyle();for(var E=0;E<o.length;E++){var S=o[E],A=S.layoutDimensions(e);d=Math.max(d,A.w,A.h)}h.sort(function(Ge,Ye){return Ye.value-Ge.value});for(var T=e.levelWidth(o),C=[[]],R=C[0],D=0;D<h.length;D++){var M=h[D];if(R.length>0){var k=Math.abs(R[0].value-M.value);k>=T&&(R=[],C.push(R))}R.push(M)}var L=d+e.minNodeSpacing;if(!e.avoidOverlap){var _=C.length>0&&C[0].length>1,I=Math.min(l.w,l.h)/2-L,B=I/(C.length+_?1:0);L=Math.min(L,B)}for(var P=0,F=0;F<C.length;F++){var H=C[F],X=e.sweep===void 0?2*Math.PI-2*Math.PI/H.length:e.sweep,K=H.dTheta=X/Math.max(1,H.length-1);if(H.length>1&&e.avoidOverlap){var ee=Math.cos(K)-Math.cos(0),Y=Math.sin(K)-Math.sin(0),Z=Math.sqrt(L*L/(ee*ee+Y*Y));P=Math.max(Z,P)}H.r=P,P+=L}if(e.equidistant){for(var Q=0,ue=0,U=0;U<C.length;U++){var W=C[U],ne=W.r-ue;Q=Math.max(Q,ne)}ue=0;for(var ce=0;ce<C.length;ce++){var oe=C[ce];ce===0&&(ue=oe.r),oe.r=ue,ue+=Q}}for(var me={},ye=0;ye<C.length;ye++)for(var Oe=C[ye],Te=Oe.dTheta,de=Oe.r,ae=0;ae<Oe.length;ae++){var we=Oe[ae],_e=e.startAngle+(t?1:-1)*Te*ae,He={x:c.x+de*Math.cos(_e),y:c.y+de*Math.sin(_e)};me[we.node.id()]=He}return i.nodes().layoutPositions(this,e,function(Ge){var Ye=Ge.id();return me[Ye]}),this};var x1,tN={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function qy(n){this.options=pt({},tN,n),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),r=t.filter(function(i){var o=i.source().data("id"),l=i.target().data("id"),c=e.some(function(d){return d.data("id")===o}),h=e.some(function(d){return d.data("id")===l});return!c||!h});this.options.eles=this.options.eles.not(r)}qy.prototype.run=function(){var n=this.options,e=n.cy,t=this;t.stopped=!1,(n.animate===!0||n.animate===!1)&&t.emit({type:"layoutstart",layout:t}),n.debug===!0?x1=!0:x1=!1;var r=nN(e,t,n);x1&&iN(r),n.randomize&&uN(r);var i=To(),o=function(){oN(r,e,n),n.fit===!0&&e.fit(n.padding)},l=function(b){return!(t.stopped||b>=n.numIter||(lN(r,n),r.temperature=r.temperature*n.coolingFactor,r.temperature<n.minTemp))},c=function(){if(n.animate===!0||n.animate===!1)o(),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});else{var b=n.eles.nodes(),E=Qx(r,n,b);b.layoutPositions(t,n,E)}},h=0,d=!0;if(n.animate===!0){var v=function m(){for(var b=0;d&&b<n.refresh;)d=l(h),h++,b++;if(!d)TE(r,n),c();else{var E=To();E-i>=n.animationThreshold&&o(),sy(m)}};v()}else{for(;d;)d=l(h),h++;TE(r,n),c()}return this};qy.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};qy.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var nN=function(e,t,r){for(var i=r.eles.edges(),o=r.eles.nodes(),l=Ua(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),c={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},h=r.eles.components(),d={},v=0;v<h.length;v++)for(var m=h[v],b=0;b<m.length;b++){var E=m[b];d[E.id()]=v}for(var v=0;v<c.nodeSize;v++){var S=o[v],A=S.layoutDimensions(r),T={};T.isLocked=S.locked(),T.id=S.data("id"),T.parentId=S.data("parent"),T.cmptId=d[S.id()],T.children=[],T.positionX=S.position("x"),T.positionY=S.position("y"),T.offsetX=0,T.offsetY=0,T.height=A.w,T.width=A.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(S.style("padding")),T.padRight=parseFloat(S.style("padding")),T.padTop=parseFloat(S.style("padding")),T.padBottom=parseFloat(S.style("padding")),T.nodeRepulsion=Gn(r.nodeRepulsion)?r.nodeRepulsion(S):r.nodeRepulsion,c.layoutNodes.push(T),c.idToIndex[T.id]=v}for(var C=[],R=0,D=-1,M=[],v=0;v<c.nodeSize;v++){var S=c.layoutNodes[v],k=S.parentId;k!=null?c.layoutNodes[c.idToIndex[k]].children.push(S.id):(C[++D]=S.id,M.push(S.id))}for(c.graphSet.push(M);R<=D;){var L=C[R++],_=c.idToIndex[L],E=c.layoutNodes[_],I=E.children;if(I.length>0){c.graphSet.push(I);for(var v=0;v<I.length;v++)C[++D]=I[v]}}for(var v=0;v<c.graphSet.length;v++)for(var B=c.graphSet[v],b=0;b<B.length;b++){var P=c.idToIndex[B[b]];c.indexToGraph[P]=v}for(var v=0;v<c.edgeSize;v++){var F=i[v],H={};H.id=F.data("id"),H.sourceId=F.data("source"),H.targetId=F.data("target");var X=Gn(r.idealEdgeLength)?r.idealEdgeLength(F):r.idealEdgeLength,K=Gn(r.edgeElasticity)?r.edgeElasticity(F):r.edgeElasticity,ee=c.idToIndex[H.sourceId],Y=c.idToIndex[H.targetId],Z=c.indexToGraph[ee],Q=c.indexToGraph[Y];if(Z!=Q){for(var ue=rN(H.sourceId,H.targetId,c),U=c.graphSet[ue],W=0,T=c.layoutNodes[ee];U.indexOf(T.id)===-1;)T=c.layoutNodes[c.idToIndex[T.parentId]],W++;for(T=c.layoutNodes[Y];U.indexOf(T.id)===-1;)T=c.layoutNodes[c.idToIndex[T.parentId]],W++;X*=W*r.nestingFactor}H.idealLength=X,H.elasticity=K,c.layoutEdges.push(H)}return c},rN=function(e,t,r){var i=aN(e,t,0,r);return 2>i.count?0:i.graph},aN=function n(e,t,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(t))return{count:2,graph:r};for(var l=0,c=0;c<o.length;c++){var h=o[c],d=i.idToIndex[h],v=i.layoutNodes[d].children;if(v.length!==0){var m=i.indexToGraph[i.idToIndex[v[0]]],b=n(e,t,m,i);if(b.count!==0)if(b.count===1){if(l++,l===2)break}else return b}}return{count:l,graph:r}},iN,uN=function(e,t){for(var r=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var l=e.layoutNodes[o];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*r,l.positionY=Math.random()*i)}},Qx=function(e,t,r){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(l){var c=e.layoutNodes[e.idToIndex[l.data("id")]];o.x1=Math.min(o.x1,c.positionX),o.x2=Math.max(o.x2,c.positionX),o.y1=Math.min(o.y1,c.positionY),o.y2=Math.max(o.y2,c.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(l,c){var h=e.layoutNodes[e.idToIndex[l.data("id")]];if(t.boundingBox){var d=(h.positionX-o.x1)/o.w,v=(h.positionY-o.y1)/o.h;return{x:i.x1+d*i.w,y:i.y1+v*i.h}}else return{x:h.positionX,y:h.positionY}}},oN=function(e,t,r){var i=r.layout,o=r.eles.nodes(),l=Qx(e,r,o);o.positions(l),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},lN=function(e,t,r){sN(e,t),dN(e),hN(e,t),vN(e),gN(e)},sN=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],o=i.length,l=0;l<o;l++)for(var c=e.layoutNodes[e.idToIndex[i[l]]],h=l+1;h<o;h++){var d=e.layoutNodes[e.idToIndex[i[h]]];fN(c,d,e,t)}},xE=function(e){return-1+2*e*Math.random()},fN=function(e,t,r,i){var o=e.cmptId,l=t.cmptId;if(!(o!==l&&!r.isCompound)){var c=t.positionX-e.positionX,h=t.positionY-e.positionY,d=1;c===0&&h===0&&(c=xE(d),h=xE(d));var v=cN(e,t,c,h);if(v>0)var m=i.nodeOverlap*v,b=Math.sqrt(c*c+h*h),E=m*c/b,S=m*h/b;else var A=py(e,c,h),T=py(t,-1*c,-1*h),C=T.x-A.x,R=T.y-A.y,D=C*C+R*R,b=Math.sqrt(D),m=(e.nodeRepulsion+t.nodeRepulsion)/D,E=m*C/b,S=m*R/b;e.isLocked||(e.offsetX-=E,e.offsetY-=S),t.isLocked||(t.offsetX+=E,t.offsetY+=S)}},cN=function(e,t,r,i){if(r>0)var o=e.maxX-t.minX;else var o=t.maxX-e.minX;if(i>0)var l=e.maxY-t.minY;else var l=t.maxY-e.minY;return o>=0&&l>=0?Math.sqrt(o*o+l*l):0},py=function(e,t,r){var i=e.positionX,o=e.positionY,l=e.height||1,c=e.width||1,h=r/t,d=l/c,v={};return t===0&&0<r||t===0&&0>r?(v.x=i,v.y=o+l/2,v):0<t&&-1*d<=h&&h<=d?(v.x=i+c/2,v.y=o+c*r/2/t,v):0>t&&-1*d<=h&&h<=d?(v.x=i-c/2,v.y=o-c*r/2/t,v):0<r&&(h<=-1*d||h>=d)?(v.x=i+l*t/2/r,v.y=o+l/2,v):(0>r&&(h<=-1*d||h>=d)&&(v.x=i-l*t/2/r,v.y=o-l/2),v)},dN=function(e,t){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],o=e.idToIndex[i.sourceId],l=e.layoutNodes[o],c=e.idToIndex[i.targetId],h=e.layoutNodes[c],d=h.positionX-l.positionX,v=h.positionY-l.positionY;if(!(d===0&&v===0)){var m=py(l,d,v),b=py(h,-1*d,-1*v),E=b.x-m.x,S=b.y-m.y,A=Math.sqrt(E*E+S*S),T=Math.pow(i.idealLength-A,2)/i.elasticity;if(A!==0)var C=T*E/A,R=T*S/A;else var C=0,R=0;l.isLocked||(l.offsetX+=C,l.offsetY+=R),h.isLocked||(h.offsetX-=C,h.offsetY-=R)}}},hN=function(e,t){if(t.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],l=o.length;if(i===0)var c=e.clientHeight/2,h=e.clientWidth/2;else var d=e.layoutNodes[e.idToIndex[o[0]]],v=e.layoutNodes[e.idToIndex[d.parentId]],c=v.positionX,h=v.positionY;for(var m=0;m<l;m++){var b=e.layoutNodes[e.idToIndex[o[m]]];if(!b.isLocked){var E=c-b.positionX,S=h-b.positionY,A=Math.sqrt(E*E+S*S);if(A>r){var T=t.gravity*E/A,C=t.gravity*S/A;b.offsetX+=T,b.offsetY+=C}}}}},vN=function(e,t){var r=[],i=0,o=-1;for(r.push.apply(r,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var l=r[i++],c=e.idToIndex[l],h=e.layoutNodes[c],d=h.children;if(0<d.length&&!h.isLocked){for(var v=h.offsetX,m=h.offsetY,b=0;b<d.length;b++){var E=e.layoutNodes[e.idToIndex[d[b]]];E.offsetX+=v,E.offsetY+=m,r[++o]=d[b]}h.offsetX=0,h.offsetY=0}}},gN=function(e,t){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var o=pN(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,mN(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},pN=function(e,t,r){var i=Math.sqrt(e*e+t*t);if(i>r)var o={x:r*e/i,y:r*t/i};else var o={x:e,y:t};return o},mN=function n(e,t){var r=e.parentId;if(r!=null){var i=t.layoutNodes[t.idToIndex[r]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return n(i,t)}},TE=function(e,t){for(var r=e.layoutNodes,i=[],o=0;o<r.length;o++){var l=r[o],c=l.cmptId,h=i[c]=i[c]||[];h.push(l)}for(var d=0,o=0;o<i.length;o++){var v=i[o];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var m=0;m<v.length;m++){var b=v[m];v.x1=Math.min(v.x1,b.positionX-b.width/2),v.x2=Math.max(v.x2,b.positionX+b.width/2),v.y1=Math.min(v.y1,b.positionY-b.height/2),v.y2=Math.max(v.y2,b.positionY+b.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,d+=v.w*v.h}}i.sort(function(R,D){return D.w*D.h-R.w*R.h});for(var E=0,S=0,A=0,T=0,C=Math.sqrt(d)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var v=i[o];if(v){for(var m=0;m<v.length;m++){var b=v[m];b.isLocked||(b.positionX+=E-v.x1,b.positionY+=S-v.y1)}E+=v.w+t.componentSpacing,A+=v.w+t.componentSpacing,T=Math.max(T,v.h),A>C&&(S+=T+t.componentSpacing,E=0,A=0,T=0)}}},yN={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function jx(n){this.options=pt({},yN,n)}jx.prototype.run=function(){var n=this.options,e=n,t=n.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=Ua(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(o.h===0||o.w===0)r.nodes().layoutPositions(this,e,function(ce){return{x:o.x1,y:o.y1}});else{var l=i.size(),c=Math.sqrt(l*o.h/o.w),h=Math.round(c),d=Math.round(o.w/o.h*c),v=function(oe){if(oe==null)return Math.min(h,d);var me=Math.min(h,d);me==h?h=oe:d=oe},m=function(oe){if(oe==null)return Math.max(h,d);var me=Math.max(h,d);me==h?h=oe:d=oe},b=e.rows,E=e.cols!=null?e.cols:e.columns;if(b!=null&&E!=null)h=b,d=E;else if(b!=null&&E==null)h=b,d=Math.ceil(l/h);else if(b==null&&E!=null)d=E,h=Math.ceil(l/d);else if(d*h>l){var S=v(),A=m();(S-1)*A>=l?v(S-1):(A-1)*S>=l&&m(A-1)}else for(;d*h<l;){var T=v(),C=m();(C+1)*T>=l?m(C+1):v(T+1)}var R=o.w/d,D=o.h/h;if(e.condense&&(R=0,D=0),e.avoidOverlap)for(var M=0;M<i.length;M++){var k=i[M],L=k._private.position;(L.x==null||L.y==null)&&(L.x=0,L.y=0);var _=k.layoutDimensions(e),I=e.avoidOverlapPadding,B=_.w+I,P=_.h+I;R=Math.max(R,B),D=Math.max(D,P)}for(var F={},H=function(oe,me){return!!F["c-"+oe+"-"+me]},X=function(oe,me){F["c-"+oe+"-"+me]=!0},K=0,ee=0,Y=function(){ee++,ee>=d&&(ee=0,K++)},Z={},Q=0;Q<i.length;Q++){var ue=i[Q],U=e.position(ue);if(U&&(U.row!==void 0||U.col!==void 0)){var W={row:U.row,col:U.col};if(W.col===void 0)for(W.col=0;H(W.row,W.col);)W.col++;else if(W.row===void 0)for(W.row=0;H(W.row,W.col);)W.row++;Z[ue.id()]=W,X(W.row,W.col)}}var ne=function(oe,me){var ye,Oe;if(oe.locked()||oe.isParent())return!1;var Te=Z[oe.id()];if(Te)ye=Te.col*R+R/2+o.x1,Oe=Te.row*D+D/2+o.y1;else{for(;H(K,ee);)Y();ye=ee*R+R/2+o.x1,Oe=K*D+D/2+o.y1,X(K,ee),Y()}return{x:ye,y:Oe}};i.layoutPositions(this,e,ne)}return this};var bN={ready:function(){},stop:function(){}};function Ub(n){this.options=pt({},bN,n)}Ub.prototype.run=function(){var n=this.options,e=n.eles,t=this;return n.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",n.ready),t.emit("layoutready"),t.one("layoutstop",n.stop),t.emit("layoutstop"),this};Ub.prototype.stop=function(){return this};var wN={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Jx(n){this.options=pt({},wN,n)}Jx.prototype.run=function(){var n=this.options,e=n.eles,t=e.nodes(),r=Gn(n.positions);function i(o){if(n.positions==null)return AR(o.position());if(r)return n.positions(o);var l=n.positions[o._private.data.id];return l??null}return t.layoutPositions(this,n,function(o,l){var c=i(o);return o.locked()||c==null?!1:c}),this};var EN={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function eT(n){this.options=pt({},EN,n)}eT.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,r=Ua(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(l,c){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return t.nodes().layoutPositions(this,n,i),this};var SN=[{name:"breadthfirst",impl:Xx},{name:"circle",impl:Wx},{name:"concentric",impl:Zx},{name:"cose",impl:qy},{name:"grid",impl:jx},{name:"null",impl:Ub},{name:"preset",impl:Jx},{name:"random",impl:eT}];function tT(n){this.options=n,this.notifications=0}var CE=function(){},AE=function(){throw new Error("A headless instance can not render images")};tT.prototype={recalculateRenderedStyle:CE,notify:function(){this.notifications++},init:CE,isHeadless:function(){return!0},png:AE,jpg:AE};var Fb={};Fb.arrowShapeWidth=.3;Fb.registerArrowShapes=function(){var n=this.arrowShapes={},e=this,t=function(d,v,m,b,E,S,A){var T=E.x-m/2-A,C=E.x+m/2+A,R=E.y-m/2-A,D=E.y+m/2+A,M=T<=d&&d<=C&&R<=v&&v<=D;return M},r=function(d,v,m,b,E){var S=d*Math.cos(b)-v*Math.sin(b),A=d*Math.sin(b)+v*Math.cos(b),T=S*m,C=A*m,R=T+E.x,D=C+E.y;return{x:R,y:D}},i=function(d,v,m,b){for(var E=[],S=0;S<d.length;S+=2){var A=d[S],T=d[S+1];E.push(r(A,T,v,m,b))}return E},o=function(d){for(var v=[],m=0;m<d.length;m++){var b=d[m];v.push(b.x,b.y)}return v},l=function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").pfValue*2},c=function(d,v){ct(v)&&(v=n[v]),n[d]=pt({name:d,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(b,E,S,A,T,C){var R=o(i(this.points,S+2*C,A,T)),D=La(b,E,R);return D},roughCollide:t,draw:function(b,E,S,A){var T=i(this.points,E,S,A);e.arrowShapeImpl("polygon")(b,T)},spacing:function(b){return 0},gap:l},v)};c("none",{collide:fy,roughCollide:fy,draw:Cb,spacing:zw,gap:zw}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(d,v,m,b,E){var S=i(this.points,v,m,b),A=this.controlPoint,T=r(A[0],A[1],v,m,b);e.arrowShapeImpl(this.name)(d,S,T)},gap:function(d){return l(d)*.8}}),c("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(d,v,m,b,E,S,A){var T=o(i(this.points,m+2*A,b,E)),C=o(i(this.pointsTee,m+2*A,b,E)),R=La(d,v,T)||La(d,v,C);return R},draw:function(d,v,m,b,E){var S=i(this.points,v,m,b),A=i(this.pointsTee,v,m,b);e.arrowShapeImpl(this.name)(d,S,A)}}),c("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(d,v,m,b,E,S,A){var T=E,C=Math.pow(T.x-d,2)+Math.pow(T.y-v,2)<=Math.pow((m+2*A)*this.radius,2),R=o(i(this.points,m+2*A,b,E));return La(d,v,R)||C},draw:function(d,v,m,b,E){var S=i(this.pointsTr,v,m,b);e.arrowShapeImpl(this.name)(d,S,b.x,b.y,this.radius*v)},spacing:function(d){return e.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),c("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(d,v){var m=this.baseCrossLinePts.slice(),b=v/d,E=3,S=5;return m[E]=m[E]-b,m[S]=m[S]-b,m},collide:function(d,v,m,b,E,S,A){var T=o(i(this.points,m+2*A,b,E)),C=o(i(this.crossLinePts(m,S),m+2*A,b,E)),R=La(d,v,T)||La(d,v,C);return R},draw:function(d,v,m,b,E){var S=i(this.points,v,m,b),A=i(this.crossLinePts(v,E),v,m,b);e.arrowShapeImpl(this.name)(d,S,A)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(d){return l(d)*.525}}),c("circle",{radius:.15,collide:function(d,v,m,b,E,S,A){var T=E,C=Math.pow(T.x-d,2)+Math.pow(T.y-v,2)<=Math.pow((m+2*A)*this.radius,2);return C},draw:function(d,v,m,b,E){e.arrowShapeImpl(this.name)(d,b.x,b.y,this.radius*v)},spacing:function(d){return e.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(d){return 1},gap:function(d){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}}),c("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(d){return .95*d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}})};var Ef={};Ef.projectIntoViewport=function(n,e){var t=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],l=r[4],c=t.pan(),h=t.zoom(),d=((n-i)/l-c.x)/h,v=((e-o)/l-c.y)/h;return[d,v]};Ef.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var n=this.container,e=n.getBoundingClientRect(),t=this.cy.window().getComputedStyle(n),r=function(C){return parseFloat(t.getPropertyValue(C))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},o={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},l=n.clientWidth,c=n.clientHeight,h=i.left+i.right,d=i.top+i.bottom,v=o.left+o.right,m=e.width/(l+v),b=l-h,E=c-d,S=e.left+i.left+o.left,A=e.top+i.top+o.top;return this.containerBB=[S,A,b,E,m]};Ef.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ef.findNearestElement=function(n,e,t,r){return this.findNearestElements(n,e,t,r)[0]};Ef.findNearestElements=function(n,e,t,r){var i=this,o=this,l=o.getCachedZSortedEles(),c=[],h=o.cy.zoom(),d=o.cy.hasCompoundNodes(),v=(r?24:8)/h,m=(r?8:2)/h,b=(r?8:2)/h,E=1/0,S,A;t&&(l=l.interactive);function T(_,I){if(_.isNode()){if(A)return;A=_,c.push(_)}if(_.isEdge()&&(I==null||I<E))if(S){if(S.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value&&S.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value){for(var B=0;B<c.length;B++)if(c[B].isEdge()){c[B]=_,S=_,E=I??E;break}}}else c.push(_),S=_,E=I??E}function C(_){var I=_.outerWidth()+2*m,B=_.outerHeight()+2*m,P=I/2,F=B/2,H=_.position(),X=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,K=_._private.rscratch;if(H.x-P<=n&&n<=H.x+P&&H.y-F<=e&&e<=H.y+F){var ee=o.nodeShapes[i.getNodeShape(_)];if(ee.checkPoint(n,e,0,I,B,H.x,H.y,X,K))return T(_,0),!0}}function R(_){var I=_._private,B=I.rscratch,P=_.pstyle("width").pfValue,F=_.pstyle("arrow-scale").value,H=P/2+v,X=H*H,K=H*2,Q=I.source,ue=I.target,ee;if(B.edgeType==="segments"||B.edgeType==="straight"||B.edgeType==="haystack"){for(var Y=B.allpts,Z=0;Z+3<Y.length;Z+=2)if(UR(n,e,Y[Z],Y[Z+1],Y[Z+2],Y[Z+3],K)&&X>(ee=VR(n,e,Y[Z],Y[Z+1],Y[Z+2],Y[Z+3])))return T(_,ee),!0}else if(B.edgeType==="bezier"||B.edgeType==="multibezier"||B.edgeType==="self"||B.edgeType==="compound"){for(var Y=B.allpts,Z=0;Z+5<B.allpts.length;Z+=4)if(FR(n,e,Y[Z],Y[Z+1],Y[Z+2],Y[Z+3],Y[Z+4],Y[Z+5],K)&&X>(ee=qR(n,e,Y[Z],Y[Z+1],Y[Z+2],Y[Z+3],Y[Z+4],Y[Z+5])))return T(_,ee),!0}for(var Q=Q||I.source,ue=ue||I.target,U=i.getArrowWidth(P,F),W=[{name:"source",x:B.arrowStartX,y:B.arrowStartY,angle:B.srcArrowAngle},{name:"target",x:B.arrowEndX,y:B.arrowEndY,angle:B.tgtArrowAngle},{name:"mid-source",x:B.midX,y:B.midY,angle:B.midsrcArrowAngle},{name:"mid-target",x:B.midX,y:B.midY,angle:B.midtgtArrowAngle}],Z=0;Z<W.length;Z++){var ne=W[Z],ce=o.arrowShapes[_.pstyle(ne.name+"-arrow-shape").value],oe=_.pstyle("width").pfValue;if(ce.roughCollide(n,e,U,ne.angle,{x:ne.x,y:ne.y},oe,v)&&ce.collide(n,e,U,ne.angle,{x:ne.x,y:ne.y},oe,v))return T(_),!0}d&&c.length>0&&(C(Q),C(ue))}function D(_,I,B){return su(_,I,B)}function M(_,I){var B=_._private,P=b,F;I?F=I+"-":F="",_.boundingBox();var H=B.labelBounds[I||"main"],X=_.pstyle(F+"label").value,K=_.pstyle("text-events").strValue==="yes";if(!(!K||!X)){var ee=D(B.rscratch,"labelX",I),Y=D(B.rscratch,"labelY",I),Z=D(B.rscratch,"labelAngle",I),Q=_.pstyle(F+"text-margin-x").pfValue,ue=_.pstyle(F+"text-margin-y").pfValue,U=H.x1-P-Q,W=H.x2+P-Q,ne=H.y1-P-ue,ce=H.y2+P-ue;if(Z){var oe=Math.cos(Z),me=Math.sin(Z),ye=function(He,Ge){return He=He-ee,Ge=Ge-Y,{x:He*oe-Ge*me+ee,y:He*me+Ge*oe+Y}},Oe=ye(U,ne),Te=ye(U,ce),de=ye(W,ne),ae=ye(W,ce),we=[Oe.x+Q,Oe.y+ue,de.x+Q,de.y+ue,ae.x+Q,ae.y+ue,Te.x+Q,Te.y+ue];if(La(n,e,we))return T(_),!0}else if(fd(H,n,e))return T(_),!0}}for(var k=l.length-1;k>=0;k--){var L=l[k];L.isNode()?C(L)||M(L):R(L)||M(L)||M(L,"source")||M(L,"target")}return c};Ef.getAllInBox=function(n,e,t,r){var i=this.getCachedZSortedEles().interactive,o=[],l=Math.min(n,t),c=Math.max(n,t),h=Math.min(e,r),d=Math.max(e,r);n=l,t=c,e=h,r=d;for(var v=Ua({x1:n,y1:e,x2:t,y2:r}),m=0;m<i.length;m++){var b=i[m];if(b.isNode()){var E=b,S=E.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Db(v,S)&&!fx(S,v)&&o.push(E)}else{var A=b,T=A._private,C=T.rscratch;if(C.startX!=null&&C.startY!=null&&!fd(v,C.startX,C.startY)||C.endX!=null&&C.endY!=null&&!fd(v,C.endX,C.endY))continue;if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"||C.edgeType==="segments"||C.edgeType==="haystack"){for(var R=T.rstyle.bezierPts||T.rstyle.linePts||T.rstyle.haystackPts,D=!0,M=0;M<R.length;M++)if(!PR(v,R[M])){D=!1;break}D&&o.push(A)}else(C.edgeType==="haystack"||C.edgeType==="straight")&&o.push(A)}}return o};var my={};my.calculateArrowAngles=function(n){var e=n._private.rscratch,t=e.edgeType==="haystack",r=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",l=e.edgeType==="compound",c=e.edgeType==="self",h,d,v,m,b,E,C,R;if(t?(v=e.haystackPts[0],m=e.haystackPts[1],b=e.haystackPts[2],E=e.haystackPts[3]):(v=e.arrowStartX,m=e.arrowStartY,b=e.arrowEndX,E=e.arrowEndY),C=e.midX,R=e.midY,o)h=v-e.segpts[0],d=m-e.segpts[1];else if(i||l||c||r){var S=e.allpts,A=Er(S[0],S[2],S[4],.1),T=Er(S[1],S[3],S[5],.1);h=v-A,d=m-T}else h=v-C,d=m-R;e.srcArrowAngle=km(h,d);var C=e.midX,R=e.midY;if(t&&(C=(v+b)/2,R=(m+E)/2),h=b-v,d=E-m,o){var S=e.allpts;if(S.length/2%2===0){var D=S.length/2,M=D-2;h=S[D]-S[M],d=S[D+1]-S[M+1]}else if(e.isRound)h=e.midVector[1],d=-e.midVector[0];else{var D=S.length/2-1,M=D-2;h=S[D]-S[M],d=S[D+1]-S[M+1]}}else if(i||l||c){var S=e.allpts,k=e.ctrlpts,L,_,I,B;if(k.length/2%2===0){var P=S.length/2-1,F=P+2,H=F+2;L=Er(S[P],S[F],S[H],0),_=Er(S[P+1],S[F+1],S[H+1],0),I=Er(S[P],S[F],S[H],1e-4),B=Er(S[P+1],S[F+1],S[H+1],1e-4)}else{var F=S.length/2-1,P=F-2,H=F+2;L=Er(S[P],S[F],S[H],.4999),_=Er(S[P+1],S[F+1],S[H+1],.4999),I=Er(S[P],S[F],S[H],.5),B=Er(S[P+1],S[F+1],S[H+1],.5)}h=I-L,d=B-_}if(e.midtgtArrowAngle=km(h,d),e.midDispX=h,e.midDispY=d,h*=-1,d*=-1,o){var S=e.allpts;if(S.length/2%2!==0){if(!e.isRound){var D=S.length/2-1,X=D+2;h=-(S[X]-S[D]),d=-(S[X+1]-S[D+1])}}}if(e.midsrcArrowAngle=km(h,d),o)h=b-e.segpts[e.segpts.length-2],d=E-e.segpts[e.segpts.length-1];else if(i||l||c||r){var S=e.allpts,K=S.length,A=Er(S[K-6],S[K-4],S[K-2],.9),T=Er(S[K-5],S[K-3],S[K-1],.9);h=b-A,d=E-T}else h=b-C,d=E-R;e.tgtArrowAngle=km(h,d)};my.getArrowWidth=my.getArrowHeight=function(n,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[n+", "+e];return r||(r=Math.max(Math.pow(n*13.37,.9),29)*e,t[n+", "+e]=r,r)};var rb,ab,Gu={},Mi={},RE,DE,af,ry,xo,Js,nf,Hu,Zc,qm,nT,rT,ib,ub,OE,ME=function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},xN=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},TN=function(e,t,r,i,o){if(e!==OE?ME(t,e,Gu):xN(Mi,Gu),ME(t,r,Mi),RE=Gu.nx*Mi.ny-Gu.ny*Mi.nx,DE=Gu.nx*Mi.nx-Gu.ny*-Mi.ny,xo=Math.asin(Math.max(-1,Math.min(1,RE))),Math.abs(xo)<1e-6){rb=t.x,ab=t.y,nf=Zc=0;return}af=1,ry=!1,DE<0?xo<0?xo=Math.PI+xo:(xo=Math.PI-xo,af=-1,ry=!0):xo>0&&(af=-1,ry=!0),t.radius!==void 0?Zc=t.radius:Zc=i,Js=xo/2,qm=Math.min(Gu.len/2,Mi.len/2),o?(Hu=Math.abs(Math.cos(Js)*Zc/Math.sin(Js)),Hu>qm?(Hu=qm,nf=Math.abs(Hu*Math.sin(Js)/Math.cos(Js))):nf=Zc):(Hu=Math.min(qm,Zc),nf=Math.abs(Hu*Math.sin(Js)/Math.cos(Js))),ib=t.x+Mi.nx*Hu,ub=t.y+Mi.ny*Hu,rb=ib-Mi.ny*nf*af,ab=ub+Mi.nx*nf*af,nT=t.x+Gu.nx*Hu,rT=t.y+Gu.ny*Hu,OE=t};function aT(n,e){e.radius===0?n.lineTo(e.cx,e.cy):n.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Hb(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(TN(n,e,t,r,i),{cx:rb,cy:ab,radius:nf,startX:nT,startY:rT,stopX:ib,stopY:ub,startAngle:Gu.ang+Math.PI/2*af,endAngle:Mi.ang-Math.PI/2*af,counterClockwise:ry})}var Zr={};Zr.findMidptPtsEtc=function(n,e){var t=e.posPts,r=e.intersectionPts,i=e.vectorNormInverse,o,l=n.pstyle("source-endpoint"),c=n.pstyle("target-endpoint"),h=l.units!=null&&c.units!=null,d=function(k,L,_,I){var B=I-L,P=_-k,F=Math.sqrt(P*P+B*B);return{x:-B/F,y:P/F}},v=n.pstyle("edge-distances").value;switch(v){case"node-position":o=t;break;case"intersection":o=r;break;case"endpoints":{if(h){var m=this.manualEndptToPx(n.source()[0],l),b=Sr(m,2),E=b[0],S=b[1],A=this.manualEndptToPx(n.target()[0],c),T=Sr(A,2),C=T[0],R=T[1],D={x1:E,y1:S,x2:C,y2:R};i=d(E,S,C,R),o=D}else sn("Edge ".concat(n.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=r;break}}return{midptPts:o,vectorNormInverse:i}};Zr.findHaystackPoints=function(n){for(var e=0;e<n.length;e++){var t=n[e],r=t._private,i=r.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var l=r.source,c=r.target,h=l.position(),d=c.position(),v=l.width(),m=c.width(),b=l.height(),E=c.height(),S=t.pstyle("haystack-radius").value,A=S/2;i.haystackPts=i.allpts=[i.source.x*v*A+h.x,i.source.y*b*A+h.y,i.target.x*m*A+d.x,i.target.y*E*A+d.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Zr.findSegmentsPoints=function(n,e){var t=n._private.rscratch,r=n.pstyle("segment-weights"),i=n.pstyle("segment-distances"),o=n.pstyle("segment-radii"),l=n.pstyle("radius-type"),c=Math.min(r.pfValue.length,i.pfValue.length),h=o.pfValue[o.pfValue.length-1],d=l.pfValue[l.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var v=0;v<c;v++){var m=r.pfValue[v],b=i.pfValue[v],E=1-m,S=m,A=this.findMidptPtsEtc(n,e),T=A.midptPts,C=A.vectorNormInverse,R={x:T.x1*E+T.x2*S,y:T.y1*E+T.y2*S};t.segpts.push(R.x+C.x*b,R.y+C.y*b),t.radii.push(o.pfValue[v]!==void 0?o.pfValue[v]:h),t.isArcRadius.push((l.pfValue[v]!==void 0?l.pfValue[v]:d)==="arc-radius")}};Zr.findLoopPoints=function(n,e,t,r){var i=n._private.rscratch,o=e.dirCounts,l=e.srcPos,c=n.pstyle("control-point-distances"),h=c?c.pfValue[0]:void 0,d=n.pstyle("loop-direction").pfValue,v=n.pstyle("loop-sweep").pfValue,m=n.pstyle("control-point-step-size").pfValue;i.edgeType="self";var b=t,E=m;r&&(b=0,E=h);var S=d-Math.PI/2,A=S-v/2,T=S+v/2,C=d+"_"+v;b=o[C]===void 0?o[C]=0:++o[C],i.ctrlpts=[l.x+Math.cos(A)*1.4*E*(b/3+1),l.y+Math.sin(A)*1.4*E*(b/3+1),l.x+Math.cos(T)*1.4*E*(b/3+1),l.y+Math.sin(T)*1.4*E*(b/3+1)]};Zr.findCompoundLoopPoints=function(n,e,t,r){var i=n._private.rscratch;i.edgeType="compound";var o=e.srcPos,l=e.tgtPos,c=e.srcW,h=e.srcH,d=e.tgtW,v=e.tgtH,m=n.pstyle("control-point-step-size").pfValue,b=n.pstyle("control-point-distances"),E=b?b.pfValue[0]:void 0,S=t,A=m;r&&(S=0,A=E);var T=50,C={x:o.x-c/2,y:o.y-h/2},R={x:l.x-d/2,y:l.y-v/2},D={x:Math.min(C.x,R.x),y:Math.min(C.y,R.y)},M=.5,k=Math.max(M,Math.log(c*.01)),L=Math.max(M,Math.log(d*.01));i.ctrlpts=[D.x,D.y-(1+Math.pow(T,1.12)/100)*A*(S/3+1)*k,D.x-(1+Math.pow(T,1.12)/100)*A*(S/3+1)*L,D.y]};Zr.findStraightEdgePoints=function(n){n._private.rscratch.edgeType="straight"};Zr.findBezierPoints=function(n,e,t,r,i){var o=n._private.rscratch,l=n.pstyle("control-point-step-size").pfValue,c=n.pstyle("control-point-distances"),h=n.pstyle("control-point-weights"),d=c&&h?Math.min(c.value.length,h.value.length):1,v=c?c.pfValue[0]:void 0,m=h.value[0],b=r;o.edgeType=b?"multibezier":"bezier",o.ctrlpts=[];for(var E=0;E<d;E++){var S=(.5-e.eles.length/2+t)*l*(i?-1:1),A=void 0,T=lx(S);b&&(v=c?c.pfValue[E]:l,m=h.value[E]),r?A=v:A=v!==void 0?T*v:void 0;var C=A!==void 0?A:S,R=1-m,D=m,M=this.findMidptPtsEtc(n,e),k=M.midptPts,L=M.vectorNormInverse,_={x:k.x1*R+k.x2*D,y:k.y1*R+k.y2*D};o.ctrlpts.push(_.x+L.x*C,_.y+L.y*C)}};Zr.findTaxiPoints=function(n,e){var t=n._private.rscratch;t.edgeType="segments";var r="vertical",i="horizontal",o="leftward",l="rightward",c="downward",h="upward",d="auto",v=e.posPts,m=e.srcW,b=e.srcH,E=e.tgtW,S=e.tgtH,A=n.pstyle("edge-distances").value,T=A!=="node-position",C=n.pstyle("taxi-direction").value,R=C,D=n.pstyle("taxi-turn"),M=D.units==="%",k=D.pfValue,L=k<0,_=n.pstyle("taxi-turn-min-distance").pfValue,I=T?(m+E)/2:0,B=T?(b+S)/2:0,P=v.x2-v.x1,F=v.y2-v.y1,H=function(Be,Fe){return Be>0?Math.max(Be-Fe,0):Math.min(Be+Fe,0)},X=H(P,I),K=H(F,B),ee=!1;R===d?C=Math.abs(X)>Math.abs(K)?i:r:R===h||R===c?(C=r,ee=!0):(R===o||R===l)&&(C=i,ee=!0);var Y=C===r,Z=Y?K:X,Q=Y?F:P,ue=lx(Q),U=!1;!(ee&&(M||L))&&(R===c&&Q<0||R===h&&Q>0||R===o&&Q>0||R===l&&Q<0)&&(ue*=-1,Z=ue*Math.abs(Z),U=!0);var W;if(M){var ne=k<0?1+k:k;W=ne*Z}else{var ce=k<0?Z:0;W=ce+k*ue}var oe=function(Be){return Math.abs(Be)<_||Math.abs(Be)>=Math.abs(Z)},me=oe(W),ye=oe(Math.abs(Z)-Math.abs(W)),Oe=me||ye;if(Oe&&!U)if(Y){var Te=Math.abs(Q)<=b/2,de=Math.abs(P)<=E/2;if(Te){var ae=(v.x1+v.x2)/2,we=v.y1,_e=v.y2;t.segpts=[ae,we,ae,_e]}else if(de){var He=(v.y1+v.y2)/2,Ge=v.x1,Ye=v.x2;t.segpts=[Ge,He,Ye,He]}else t.segpts=[v.x1,v.y2]}else{var Ct=Math.abs(Q)<=m/2,ht=Math.abs(F)<=S/2;if(Ct){var Ke=(v.y1+v.y2)/2,Xe=v.x1,je=v.x2;t.segpts=[Xe,Ke,je,Ke]}else if(ht){var Ze=(v.x1+v.x2)/2,tt=v.y1,at=v.y2;t.segpts=[Ze,tt,Ze,at]}else t.segpts=[v.x2,v.y1]}else if(Y){var nt=v.y1+W+(T?b/2*ue:0),wt=v.x1,Ae=v.x2;t.segpts=[wt,nt,Ae,nt]}else{var V=v.x1+W+(T?m/2*ue:0),he=v.y1,Re=v.y2;t.segpts=[V,he,V,Re]}if(t.isRound){var pe=n.pstyle("taxi-radius").value,Ee=n.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(pe),t.isArcRadius=new Array(t.segpts.length/2).fill(Ee)}};Zr.tryToCorrectInvalidPoints=function(n,e){var t=n._private.rscratch;if(t.edgeType==="bezier"){var r=e.srcPos,i=e.tgtPos,o=e.srcW,l=e.srcH,c=e.tgtW,h=e.tgtH,d=e.srcShape,v=e.tgtShape,m=e.srcCornerRadius,b=e.tgtCornerRadius,E=e.srcRs,S=e.tgtRs,A=!Ve(t.startX)||!Ve(t.startY),T=!Ve(t.arrowStartX)||!Ve(t.arrowStartY),C=!Ve(t.endX)||!Ve(t.endY),R=!Ve(t.arrowEndX)||!Ve(t.arrowEndY),D=3,M=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth,k=D*M,L=vf({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),_=L<k,I=vf({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),B=I<k,P=!1;if(A||T||_){P=!0;var F={x:t.ctrlpts[0]-r.x,y:t.ctrlpts[1]-r.y},H=Math.sqrt(F.x*F.x+F.y*F.y),X={x:F.x/H,y:F.y/H},K=Math.max(o,l),ee={x:t.ctrlpts[0]+X.x*2*K,y:t.ctrlpts[1]+X.y*2*K},Y=d.intersectLine(r.x,r.y,o,l,ee.x,ee.y,0,m,E);_?(t.ctrlpts[0]=t.ctrlpts[0]+X.x*(k-L),t.ctrlpts[1]=t.ctrlpts[1]+X.y*(k-L)):(t.ctrlpts[0]=Y[0]+X.x*k,t.ctrlpts[1]=Y[1]+X.y*k)}if(C||R||B){P=!0;var Z={x:t.ctrlpts[0]-i.x,y:t.ctrlpts[1]-i.y},Q=Math.sqrt(Z.x*Z.x+Z.y*Z.y),ue={x:Z.x/Q,y:Z.y/Q},U=Math.max(o,l),W={x:t.ctrlpts[0]+ue.x*2*U,y:t.ctrlpts[1]+ue.y*2*U},ne=v.intersectLine(i.x,i.y,c,h,W.x,W.y,0,b,S);B?(t.ctrlpts[0]=t.ctrlpts[0]+ue.x*(k-I),t.ctrlpts[1]=t.ctrlpts[1]+ue.y*(k-I)):(t.ctrlpts[0]=ne[0]+ue.x*k,t.ctrlpts[1]=ne[1]+ue.y*k)}P&&this.findEndpoints(n)}};Zr.storeAllpts=function(n){var e=n._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var r,i;e.ctrlpts.length/2%2===0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,i=.5,e.midX=Er(e.allpts[r],e.allpts[r+2],e.allpts[r+4],i),e.midY=Er(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var l=e.radii[o/2-1],c=e.isArcRadius[o/2-1];e.roundCorners.push(Hb({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:l},{x:e.allpts[o+2],y:e.allpts[o+3]},l,c))}}if(e.segpts.length%4===0){var h=e.segpts.length/2,d=h-2;e.midX=(e.segpts[d]+e.segpts[h])/2,e.midY=(e.segpts[d+1]+e.segpts[h+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var m={x:e.segpts[v],y:e.segpts[v+1]},b=e.roundCorners[v/2],E=[m.x-b.cx,m.y-b.cy],S=b.radius/Math.sqrt(Math.pow(E[0],2)+Math.pow(E[1],2));E=E.map(function(A){return A*S}),e.midX=b.cx+E[0],e.midY=b.cy+E[1],e.midVector=E}}}};Zr.checkForInvalidEdgeWarning=function(n){var e=n[0]._private.rscratch;e.nodesOverlap||Ve(e.startX)&&Ve(e.startY)&&Ve(e.endX)&&Ve(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,sn("Edge `"+n.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Zr.findEdgeControlPoints=function(n){var e=this;if(!(!n||n.length===0)){for(var t=this,r=t.cy,i=r.hasCompoundNodes(),o={map:new Vu,get:function(_){var I=this.map.get(_[0]);return I!=null?I.get(_[1]):null},set:function(_,I){var B=this.map.get(_[0]);B==null&&(B=new Vu,this.map.set(_[0],B)),B.set(_[1],I)}},l=[],c=[],h=0;h<n.length;h++){var d=n[h],v=d._private,m=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(m==="haystack"){c.push(d);continue}var b=m==="unbundled-bezier"||m.endsWith("segments")||m==="straight"||m==="straight-triangle"||m.endsWith("taxi"),E=m==="unbundled-bezier"||m==="bezier",S=v.source,A=v.target,T=S.poolIndex(),C=A.poolIndex(),R=[T,C].sort(),D=o.get(R);D==null&&(D={eles:[]},o.set(R,D),l.push(R)),D.eles.push(d),b&&(D.hasUnbundled=!0),E&&(D.hasBezier=!0)}}for(var M=function(_){var I=l[_],B=o.get(I),P=void 0;if(!B.hasUnbundled){var F=B.eles[0].parallelEdges().filter(function(V){return V.isBundledBezier()});Ab(B.eles),F.forEach(function(V){return B.eles.push(V)}),B.eles.sort(function(V,he){return V.poolIndex()-he.poolIndex()})}var H=B.eles[0],X=H.source(),K=H.target();if(X.poolIndex()>K.poolIndex()){var ee=X;X=K,K=ee}var Y=B.srcPos=X.position(),Z=B.tgtPos=K.position(),Q=B.srcW=X.outerWidth(),ue=B.srcH=X.outerHeight(),U=B.tgtW=K.outerWidth(),W=B.tgtH=K.outerHeight(),ne=B.srcShape=t.nodeShapes[e.getNodeShape(X)],ce=B.tgtShape=t.nodeShapes[e.getNodeShape(K)],oe=B.srcCornerRadius=X.pstyle("corner-radius").value==="auto"?"auto":X.pstyle("corner-radius").pfValue,me=B.tgtCornerRadius=K.pstyle("corner-radius").value==="auto"?"auto":K.pstyle("corner-radius").pfValue,ye=B.tgtRs=K._private.rscratch,Oe=B.srcRs=X._private.rscratch;B.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Te=0;Te<B.eles.length;Te++){var de=B.eles[Te],ae=de[0]._private.rscratch,we=de.pstyle("curve-style").value,_e=we==="unbundled-bezier"||we.endsWith("segments")||we.endsWith("taxi"),He=!X.same(de.source());if(!B.calculatedIntersection&&X!==K&&(B.hasBezier||B.hasUnbundled)){B.calculatedIntersection=!0;var Ge=ne.intersectLine(Y.x,Y.y,Q,ue,Z.x,Z.y,0,oe,Oe),Ye=B.srcIntn=Ge,Ct=ce.intersectLine(Z.x,Z.y,U,W,Y.x,Y.y,0,me,ye),ht=B.tgtIntn=Ct,Ke=B.intersectionPts={x1:Ge[0],x2:Ct[0],y1:Ge[1],y2:Ct[1]},Xe=B.posPts={x1:Y.x,x2:Z.x,y1:Y.y,y2:Z.y},je=Ct[1]-Ge[1],Ze=Ct[0]-Ge[0],tt=Math.sqrt(Ze*Ze+je*je),at=B.vector={x:Ze,y:je},nt=B.vectorNorm={x:at.x/tt,y:at.y/tt},wt={x:-nt.y,y:nt.x};B.nodesOverlap=!Ve(tt)||ce.checkPoint(Ge[0],Ge[1],0,U,W,Z.x,Z.y,me,ye)||ne.checkPoint(Ct[0],Ct[1],0,Q,ue,Y.x,Y.y,oe,Oe),B.vectorNormInverse=wt,P={nodesOverlap:B.nodesOverlap,dirCounts:B.dirCounts,calculatedIntersection:!0,hasBezier:B.hasBezier,hasUnbundled:B.hasUnbundled,eles:B.eles,srcPos:Z,srcRs:ye,tgtPos:Y,tgtRs:Oe,srcW:U,srcH:W,tgtW:Q,tgtH:ue,srcIntn:ht,tgtIntn:Ye,srcShape:ce,tgtShape:ne,posPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},intersectionPts:{x1:Ke.x2,y1:Ke.y2,x2:Ke.x1,y2:Ke.y1},vector:{x:-at.x,y:-at.y},vectorNorm:{x:-nt.x,y:-nt.y},vectorNormInverse:{x:-wt.x,y:-wt.y}}}var Ae=He?P:B;ae.nodesOverlap=Ae.nodesOverlap,ae.srcIntn=Ae.srcIntn,ae.tgtIntn=Ae.tgtIntn,ae.isRound=we.startsWith("round"),i&&(X.isParent()||X.isChild()||K.isParent()||K.isChild())&&(X.parents().anySame(K)||K.parents().anySame(X)||X.same(K)&&X.isParent())?e.findCompoundLoopPoints(de,Ae,Te,_e):X===K?e.findLoopPoints(de,Ae,Te,_e):we.endsWith("segments")?e.findSegmentsPoints(de,Ae):we.endsWith("taxi")?e.findTaxiPoints(de,Ae):we==="straight"||!_e&&B.eles.length%2===1&&Te===Math.floor(B.eles.length/2)?e.findStraightEdgePoints(de):e.findBezierPoints(de,Ae,Te,_e,He),e.findEndpoints(de),e.tryToCorrectInvalidPoints(de,Ae),e.checkForInvalidEdgeWarning(de),e.storeAllpts(de),e.storeEdgeProjections(de),e.calculateArrowAngles(de),e.recalculateEdgeLabelProjections(de),e.calculateLabelAngles(de)}},k=0;k<l.length;k++)M(k);this.findHaystackPoints(c)}};function iT(n){var e=[];if(n!=null){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];e.push({x:r,y:i})}return e}}Zr.getSegmentPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="segments")return iT(e.segpts)};Zr.getControlPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return iT(e.ctrlpts)};Zr.getEdgeMidpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),{x:e.midX,y:e.midY}};var xg={};xg.manualEndptToPx=function(n,e){var t=this,r=n.position(),i=n.outerWidth(),o=n.outerHeight(),l=n._private.rscratch;if(e.value.length===2){var c=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(c[0]=c[0]*i),e.units[1]==="%"&&(c[1]=c[1]*o),c[0]+=r.x,c[1]+=r.y,c}else{var h=e.pfValue[0];h=-Math.PI/2+h;var d=2*Math.max(i,o),v=[r.x+Math.cos(h)*d,r.y+Math.sin(h)*d];return t.nodeShapes[this.getNodeShape(n)].intersectLine(r.x,r.y,i,o,v[0],v[1],0,n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,l)}};xg.findEndpoints=function(n){var e=this,t,r=n.source()[0],i=n.target()[0],o=r.position(),l=i.position(),c=n.pstyle("target-arrow-shape").value,h=n.pstyle("source-arrow-shape").value,d=n.pstyle("target-distance-from-node").pfValue,v=n.pstyle("source-distance-from-node").pfValue,m=r._private.rscratch,b=i._private.rscratch,E=n.pstyle("curve-style").value,S=n._private.rscratch,A=S.edgeType,T=E==="taxi",C=A==="self"||A==="compound",R=A==="bezier"||A==="multibezier"||C,D=A!=="bezier",M=A==="straight"||A==="segments",k=A==="segments",L=R||D||M,_=C||T,I=n.pstyle("source-endpoint"),B=_?"outside-to-node":I.value,P=r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,F=n.pstyle("target-endpoint"),H=_?"outside-to-node":F.value,X=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;S.srcManEndpt=I,S.tgtManEndpt=F;var K,ee,Y,Z;if(R){var Q=[S.ctrlpts[0],S.ctrlpts[1]],ue=D?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:Q;K=ue,ee=Q}else if(M){var U=k?S.segpts.slice(0,2):[l.x,l.y],W=k?S.segpts.slice(S.segpts.length-2):[o.x,o.y];K=W,ee=U}if(H==="inside-to-node")t=[l.x,l.y];else if(F.units)t=this.manualEndptToPx(i,F);else if(H==="outside-to-line")t=S.tgtIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?Y=K:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(Y=[o.x,o.y]),t=e.nodeShapes[this.getNodeShape(i)].intersectLine(l.x,l.y,i.outerWidth(),i.outerHeight(),Y[0],Y[1],0,X,b),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var ne=i._private.rscratch,ce=ne.labelWidth,oe=ne.labelHeight,me=ne.labelX,ye=ne.labelY,Oe=ce/2,Te=oe/2,de=i.pstyle("text-valign").value;de==="top"?ye-=Te:de==="bottom"&&(ye+=Te);var ae=i.pstyle("text-halign").value;ae==="left"?me-=Oe:ae==="right"&&(me+=Oe);var we=ig(Y[0],Y[1],[me-Oe,ye-Te,me+Oe,ye-Te,me+Oe,ye+Te,me-Oe,ye+Te],l.x,l.y);if(we.length>0){var _e=o,He=ef(_e,nd(t)),Ge=ef(_e,nd(we)),Ye=He;if(Ge<He&&(t=we,Ye=Ge),we.length>2){var Ct=ef(_e,{x:we[2],y:we[3]});Ct<Ye&&(t=[we[2],we[3]])}}}var ht=Lm(t,K,e.arrowShapes[c].spacing(n)+d),Ke=Lm(t,K,e.arrowShapes[c].gap(n)+d);if(S.endX=Ke[0],S.endY=Ke[1],S.arrowEndX=ht[0],S.arrowEndY=ht[1],B==="inside-to-node")t=[o.x,o.y];else if(I.units)t=this.manualEndptToPx(r,I);else if(B==="outside-to-line")t=S.srcIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?Z=ee:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(Z=[l.x,l.y]),t=e.nodeShapes[this.getNodeShape(r)].intersectLine(o.x,o.y,r.outerWidth(),r.outerHeight(),Z[0],Z[1],0,P,m),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var Xe=r._private.rscratch,je=Xe.labelWidth,Ze=Xe.labelHeight,tt=Xe.labelX,at=Xe.labelY,nt=je/2,wt=Ze/2,Ae=r.pstyle("text-valign").value;Ae==="top"?at-=wt:Ae==="bottom"&&(at+=wt);var V=r.pstyle("text-halign").value;V==="left"?tt-=nt:V==="right"&&(tt+=nt);var he=ig(Z[0],Z[1],[tt-nt,at-wt,tt+nt,at-wt,tt+nt,at+wt,tt-nt,at+wt],o.x,o.y);if(he.length>0){var Re=l,pe=ef(Re,nd(t)),Ee=ef(Re,nd(he)),qe=pe;if(Ee<pe&&(t=[he[0],he[1]],qe=Ee),he.length>2){var Be=ef(Re,{x:he[2],y:he[3]});Be<qe&&(t=[he[2],he[3]])}}}var Fe=Lm(t,ee,e.arrowShapes[h].spacing(n)+v),ot=Lm(t,ee,e.arrowShapes[h].gap(n)+v);S.startX=ot[0],S.startY=ot[1],S.arrowStartX=Fe[0],S.arrowStartY=Fe[1],L&&(!Ve(S.startX)||!Ve(S.startY)||!Ve(S.endX)||!Ve(S.endY)?S.badLine=!0:S.badLine=!1)};xg.getSourceEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};xg.getTargetEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Gb={};function CN(n,e,t){for(var r=function(d,v,m,b){return Er(d,v,m,b)},i=e._private,o=i.rstyle.bezierPts,l=0;l<n.bezierProjPcts.length;l++){var c=n.bezierProjPcts[l];o.push({x:r(t[0],t[2],t[4],c),y:r(t[1],t[3],t[5],c)})}}Gb.storeEdgeProjections=function(n){var e=n._private,t=e.rscratch,r=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<t.allpts.length;i+=4)CN(this,n,t.allpts.slice(i,i+6))}else if(r==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<t.allpts.length;i+=2)o.push({x:t.allpts[i],y:t.allpts[i+1]});else if(r==="haystack"){var l=t.haystackPts;e.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth};Gb.recalculateEdgeProjections=function(n){this.findEdgeControlPoints(n)};var Xu={};Xu.recalculateNodeLabelProjection=function(n){var e=n.pstyle("label").strValue;if(!_l(e)){var t,r,i=n._private,o=n.width(),l=n.height(),c=n.padding(),h=n.position(),d=n.pstyle("text-halign").strValue,v=n.pstyle("text-valign").strValue,m=i.rscratch,b=i.rstyle;switch(d){case"left":t=h.x-o/2-c;break;case"right":t=h.x+o/2+c;break;default:t=h.x}switch(v){case"top":r=h.y-l/2-c;break;case"bottom":r=h.y+l/2+c;break;default:r=h.y}m.labelX=t,m.labelY=r,b.labelX=t,b.labelY=r,this.calculateLabelAngles(n),this.applyLabelDimensions(n)}};var uT=function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},oT=function(e,t){var r=t.x-e.x,i=t.y-e.y;return uT(r,i)},AN=function(e,t,r,i){var o=ag(0,i-.001,1),l=ag(0,i+.001,1),c=id(e,t,r,o),h=id(e,t,r,l);return oT(c,h)};Xu.recalculateEdgeLabelProjections=function(n){var e,t=n._private,r=t.rscratch,i=this,o={mid:n.pstyle("label").strValue,source:n.pstyle("source-label").strValue,target:n.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:r.midX,y:r.midY};var l=function(m,b,E){Rl(t.rscratch,m,b,E),Rl(t.rstyle,m,b,E)};l("labelX",null,e.x),l("labelY",null,e.y);var c=uT(r.midDispX,r.midDispY);l("labelAutoAngle",null,c);var h=function v(){if(v.cache)return v.cache;for(var m=[],b=0;b+5<r.allpts.length;b+=4){var E={x:r.allpts[b],y:r.allpts[b+1]},S={x:r.allpts[b+2],y:r.allpts[b+3]},A={x:r.allpts[b+4],y:r.allpts[b+5]};m.push({p0:E,p1:S,p2:A,startDist:0,length:0,segments:[]})}var T=t.rstyle.bezierPts,C=i.bezierProjPcts.length;function R(_,I,B,P,F){var H=vf(I,B),X=_.segments[_.segments.length-1],K={p0:I,p1:B,t0:P,t1:F,startDist:X?X.startDist+X.length:0,length:H};_.segments.push(K),_.length+=H}for(var D=0;D<m.length;D++){var M=m[D],k=m[D-1];k&&(M.startDist=k.startDist+k.length),R(M,M.p0,T[D*C],0,i.bezierProjPcts[0]);for(var L=0;L<C-1;L++)R(M,T[D*C+L],T[D*C+L+1],i.bezierProjPcts[L],i.bezierProjPcts[L+1]);R(M,T[D*C+C-1],M.p2,i.bezierProjPcts[C-1],1)}return v.cache=m},d=function(m){var b,E=m==="source";if(o[m]){var S=n.pstyle(m+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var A=h(),T,C=0,R=0,D=0;D<A.length;D++){for(var M=A[E?D:A.length-1-D],k=0;k<M.segments.length;k++){var L=M.segments[E?k:M.segments.length-1-k],_=D===A.length-1&&k===M.segments.length-1;if(C=R,R+=L.length,R>=S||_){T={cp:M,segment:L};break}}if(T)break}var I=T.cp,B=T.segment,P=(S-C)/B.length,F=B.t1-B.t0,H=E?B.t0+F*P:B.t1-F*P;H=ag(0,H,1),e=id(I.p0,I.p1,I.p2,H),b=AN(I.p0,I.p1,I.p2,H);break}case"straight":case"segments":case"haystack":{for(var X=0,K,ee,Y,Z,Q=r.allpts.length,ue=0;ue+3<Q&&(E?(Y={x:r.allpts[ue],y:r.allpts[ue+1]},Z={x:r.allpts[ue+2],y:r.allpts[ue+3]}):(Y={x:r.allpts[Q-2-ue],y:r.allpts[Q-1-ue]},Z={x:r.allpts[Q-4-ue],y:r.allpts[Q-3-ue]}),K=vf(Y,Z),ee=X,X+=K,!(X>=S));ue+=2);var U=S-ee,W=U/K;W=ag(0,W,1),e=_R(Y,Z,W),b=oT(Y,Z);break}}l("labelX",m,e.x),l("labelY",m,e.y),l("labelAutoAngle",m,b)}};d("source"),d("target"),this.applyLabelDimensions(n)}};Xu.applyLabelDimensions=function(n){this.applyPrefixedLabelDimensions(n),n.isEdge()&&(this.applyPrefixedLabelDimensions(n,"source"),this.applyPrefixedLabelDimensions(n,"target"))};Xu.applyPrefixedLabelDimensions=function(n,e){var t=n._private,r=this.getLabelText(n,e),i=this.calculateLabelDimensions(n,r),o=n.pstyle("line-height").pfValue,l=n.pstyle("text-wrap").strValue,c=su(t.rscratch,"labelWrapCachedLines",e)||[],h=l!=="wrap"?1:Math.max(c.length,1),d=i.height/h,v=d*o,m=i.width,b=i.height+(h-1)*(o-1)*d;Rl(t.rstyle,"labelWidth",e,m),Rl(t.rscratch,"labelWidth",e,m),Rl(t.rstyle,"labelHeight",e,b),Rl(t.rscratch,"labelHeight",e,b),Rl(t.rscratch,"labelLineHeight",e,v)};Xu.getLabelText=function(n,e){var t=n._private,r=e?e+"-":"",i=n.pstyle(r+"label").strValue,o=n.pstyle("text-transform").value,l=function(ce,oe){return oe?(Rl(t.rscratch,ce,e,oe),oe):su(t.rscratch,ce,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var c=n.pstyle("text-wrap").value;if(c==="wrap"){var h=l("labelKey");if(h!=null&&l("labelWrapKey")===h)return l("labelWrapCachedText");for(var d="​",v=i.split(`
`),m=n.pstyle("text-max-width").pfValue,b=n.pstyle("text-overflow-wrap").value,E=b==="anywhere",S=[],A=/[\s\u200b]+|$/g,T=0;T<v.length;T++){var C=v[T],R=this.calculateLabelDimensions(n,C),D=R.width;if(E){var M=C.split("").join(d);C=M}if(D>m){var k=C.matchAll(A),L="",_=0,I=li(k),B;try{for(I.s();!(B=I.n()).done;){var P=B.value,F=P[0],H=C.substring(_,P.index);_=P.index+F.length;var X=L.length===0?H:L+H+F,K=this.calculateLabelDimensions(n,X),ee=K.width;ee<=m?L+=H+F:(L&&S.push(L),L=H+F)}}catch(ne){I.e(ne)}finally{I.f()}L.match(/^[\s\u200b]+$/)||S.push(L)}else S.push(C)}l("labelWrapCachedLines",S),i=l("labelWrapCachedText",S.join(`
`)),l("labelWrapKey",h)}else if(c==="ellipsis"){var Y=n.pstyle("text-max-width").pfValue,Z="",Q="…",ue=!1;if(this.calculateLabelDimensions(n,i).width<Y)return i;for(var U=0;U<i.length;U++){var W=this.calculateLabelDimensions(n,Z+i[U]+Q).width;if(W>Y)break;Z+=i[U],U===i.length-1&&(ue=!0)}return ue||(Z+=Q),Z}return i};Xu.getLabelJustification=function(n){var e=n.pstyle("text-justification").strValue,t=n.pstyle("text-halign").strValue;if(e==="auto")if(n.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Xu.calculateLabelDimensions=function(n,e){var t=this,r=t.cy.window(),i=r.document,o=kl(e,n._private.labelDimsKey),l=t.labelDimCache||(t.labelDimCache=[]),c=l[o];if(c!=null)return c;var h=0,d=n.pstyle("font-style").strValue,v=n.pstyle("font-size").pfValue,m=n.pstyle("font-family").strValue,b=n.pstyle("font-weight").strValue,E=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!E){E=this.labelCalcCanvas=i.createElement("canvas"),S=this.labelCalcCanvasContext=E.getContext("2d");var A=E.style;A.position="absolute",A.left="-9999px",A.top="-9999px",A.zIndex="-1",A.visibility="hidden",A.pointerEvents="none"}S.font="".concat(d," ").concat(b," ").concat(v,"px ").concat(m);for(var T=0,C=0,R=e.split(`
`),D=0;D<R.length;D++){var M=R[D],k=S.measureText(M),L=Math.ceil(k.width),_=v;T=Math.max(L,T),C+=_}return T+=h,C+=h,l[o]={width:T,height:C}};Xu.calculateLabelAngle=function(n,e){var t=n._private,r=t.rscratch,i=n.isEdge(),o=e?e+"-":"",l=n.pstyle(o+"text-rotation"),c=l.strValue;return c==="none"?0:i&&c==="autorotate"?r.labelAutoAngle:c==="autorotate"?0:l.pfValue};Xu.calculateLabelAngles=function(n){var e=this,t=n.isEdge(),r=n._private,i=r.rscratch;i.labelAngle=e.calculateLabelAngle(n),t&&(i.sourceLabelAngle=e.calculateLabelAngle(n,"source"),i.targetLabelAngle=e.calculateLabelAngle(n,"target"))};var lT={},BE=28,NE=!1;lT.getNodeShape=function(n){var e=this,t=n.pstyle("shape").value;if(t==="cutrectangle"&&(n.width()<BE||n.height()<BE))return NE||(sn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),NE=!0),"rectangle";if(n.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var r=n.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(r).name}return t};var Vy={};Vy.registerCalculationListeners=function(){var n=this.cy,e=n.collection(),t=this,r=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(l),c)for(var h=0;h<l.length;h++){var d=l[h],v=d._private,m=v.rstyle;m.clean=!1,m.cleanConnected=!1}};t.binder(n).on("bounds.* dirty.*",function(l){var c=l.target;r(c)}).on("style.* background.*",function(l){var c=l.target;r(c,!1)});var i=function(l){if(l){var c=t.onUpdateEleCalcsFns;e.cleanStyle();for(var h=0;h<e.length;h++){var d=e[h],v=d._private.rstyle;d.isNode()&&!v.cleanConnected&&(r(d.connectedEdges()),v.cleanConnected=!0)}if(c)for(var m=0;m<c.length;m++){var b=c[m];b(l,e)}t.recalculateRenderedStyle(e),e=n.collection()}};t.flushRenderedStyleQueue=function(){i(!0)},t.beforeRender(i,t.beforeRenderPriorities.eleCalcs)};Vy.onUpdateEleCalcs=function(n){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(n)};Vy.recalculateRenderedStyle=function(n,e){var t=function(M){return M._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<n.length;o++){var l=n[o],c=l._private,h=c.rstyle;l.isEdge()&&(!t(l.source())||!t(l.target()))&&(h.clean=!1),!(e&&h.clean||l.removed())&&l.pstyle("display").value!=="none"&&(c.group==="nodes"?i.push(l):r.push(l),h.clean=!0)}for(var d=0;d<i.length;d++){var v=i[d],m=v._private,b=m.rstyle,E=v.position();this.recalculateNodeLabelProjection(v),b.nodeX=E.x,b.nodeY=E.y,b.nodeW=v.pstyle("width").pfValue,b.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var S=0;S<r.length;S++){var A=r[S],T=A._private,C=T.rstyle,R=T.rscratch;C.srcX=R.arrowStartX,C.srcY=R.arrowStartY,C.tgtX=R.arrowEndX,C.tgtY=R.arrowEndY,C.midX=R.midX,C.midY=R.midY,C.labelAngle=R.labelAngle,C.sourceLabelAngle=R.sourceLabelAngle,C.targetLabelAngle=R.targetLabelAngle}}};var $y={};$y.updateCachedGrabbedEles=function(){var n=this.cachedZSortedEles;if(n){n.drag=[],n.nondrag=[];for(var e=[],t=0;t<n.length;t++){var r=n[t],i=r._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?n.drag.push(r):n.nondrag.push(r)}for(var t=0;t<e.length;t++){var r=e[t];n.drag.push(r)}}};$y.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};$y.getCachedZSortedEles=function(n){if(n||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort($x),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var sT={};[Ef,my,Zr,xg,Gb,Xu,lT,Vy,$y].forEach(function(n){pt(sT,n)});var fT={};fT.getCachedImage=function(n,e,t){var r=this,i=r.imageCache=r.imageCache||{},o=i[n];if(o)return o.image.complete||o.image.addEventListener("load",t),o.image;o=i[n]=i[n]||{};var l=o.image=new Image;l.addEventListener("load",t),l.addEventListener("error",function(){l.error=!0});var c="data:",h=n.substring(0,c.length).toLowerCase()===c;return h||(e=e==="null"?null:e,l.crossOrigin=e),l.src=n,l};var Cd={};Cd.registerBinding=function(n,e,t,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(n)){for(var o=[],l=0;l<n.length;l++){var c=n[l];if(c!==void 0){var h=this.binder(c);o.push(h.on.apply(h,i))}}return o}var h=this.binder(n);return h.on.apply(h,i)};Cd.binder=function(n){var e=this,t=e.cy.window(),r=n===t||n===t.document||n===t.document.body||eA(n);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});t.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var l=function(h,d,v){var m=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(m[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:n,args:m}),(n.addEventListener||n.on).apply(n,m),this};return{on:l,addEventListener:l,addListener:l,bind:l}};Cd.nodeIsDraggable=function(n){return n&&n.isNode()&&!n.locked()&&n.grabbable()};Cd.nodeIsGrabbable=function(n){return this.nodeIsDraggable(n)&&n.interactive()};Cd.load=function(){var n=this,e=n.cy.window(),t=function(V){return V.selected()},r=function(V){var he=V.getRootNode();if(he&&he.nodeType===11&&he.host!==void 0)return he},i=function(V,he,Re,pe){V==null&&(V=n.cy);for(var Ee=0;Ee<he.length;Ee++){var qe=he[Ee];V.emit({originalEvent:Re,type:qe,position:pe})}},o=function(V){return V.shiftKey||V.metaKey||V.ctrlKey},l=function(V,he){var Re=!0;if(n.cy.hasCompoundNodes()&&V&&V.pannable())for(var pe=0;he&&pe<he.length;pe++){var V=he[pe];if(V.isNode()&&V.isParent()&&!V.pannable()){Re=!1;break}}else Re=!0;return Re},c=function(V){V[0]._private.grabbed=!0},h=function(V){V[0]._private.grabbed=!1},d=function(V){V[0]._private.rscratch.inDragLayer=!0},v=function(V){V[0]._private.rscratch.inDragLayer=!1},m=function(V){V[0]._private.rscratch.isGrabTarget=!0},b=function(V){V[0]._private.rscratch.isGrabTarget=!1},E=function(V,he){var Re=he.addToList,pe=Re.has(V);!pe&&V.grabbable()&&!V.locked()&&(Re.merge(V),c(V))},S=function(V,he){if(V.cy().hasCompoundNodes()&&!(he.inDragLayer==null&&he.addToList==null)){var Re=V.descendants();he.inDragLayer&&(Re.forEach(d),Re.connectedEdges().forEach(d)),he.addToList&&E(Re,he)}},A=function(V,he){he=he||{};var Re=V.cy().hasCompoundNodes();he.inDragLayer&&(V.forEach(d),V.neighborhood().stdFilter(function(pe){return!Re||pe.isEdge()}).forEach(d)),he.addToList&&V.forEach(function(pe){E(pe,he)}),S(V,he),R(V,{inDragLayer:he.inDragLayer}),n.updateCachedGrabbedEles()},T=A,C=function(V){V&&(n.getCachedZSortedEles().forEach(function(he){h(he),v(he),b(he)}),n.updateCachedGrabbedEles())},R=function(V,he){if(!(he.inDragLayer==null&&he.addToList==null)&&V.cy().hasCompoundNodes()){var Re=V.ancestors().orphans();if(!Re.same(V)){var pe=Re.descendants().spawnSelf().merge(Re).unmerge(V).unmerge(V.descendants()),Ee=pe.connectedEdges();he.inDragLayer&&(Ee.forEach(d),pe.forEach(d)),he.addToList&&pe.forEach(function(qe){E(qe,he)})}}},D=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},M=typeof MutationObserver<"u",k=typeof ResizeObserver<"u";M?(n.removeObserver=new MutationObserver(function(Ae){for(var V=0;V<Ae.length;V++){var he=Ae[V],Re=he.removedNodes;if(Re)for(var pe=0;pe<Re.length;pe++){var Ee=Re[pe];if(Ee===n.container){n.destroy();break}}}}),n.container.parentNode&&n.removeObserver.observe(n.container.parentNode,{childList:!0})):n.registerBinding(n.container,"DOMNodeRemoved",function(Ae){n.destroy()});var L=bg(function(){n.cy.resize()},100);M&&(n.styleObserver=new MutationObserver(L),n.styleObserver.observe(n.container,{attributes:!0})),n.registerBinding(e,"resize",L),k&&(n.resizeObserver=new ResizeObserver(L),n.resizeObserver.observe(n.container));var _=function(V,he){for(;V!=null;)he(V),V=V.parentNode},I=function(){n.invalidateContainerClientCoordsCache()};_(n.container,function(Ae){n.registerBinding(Ae,"transitionend",I),n.registerBinding(Ae,"animationend",I),n.registerBinding(Ae,"scroll",I)}),n.registerBinding(n.container,"contextmenu",function(Ae){Ae.preventDefault()});var B=function(){return n.selection[4]!==0},P=function(V){for(var he=n.findContainerClientCoords(),Re=he[0],pe=he[1],Ee=he[2],qe=he[3],Be=V.touches?V.touches:[V],Fe=!1,ot=0;ot<Be.length;ot++){var st=Be[ot];if(Re<=st.clientX&&st.clientX<=Re+Ee&&pe<=st.clientY&&st.clientY<=pe+qe){Fe=!0;break}}if(!Fe)return!1;for(var $e=n.container,mt=V.target,Et=mt.parentNode,dt=!1;Et;){if(Et===$e){dt=!0;break}Et=Et.parentNode}return!!dt};n.registerBinding(n.container,"mousedown",function(V){if(P(V)&&!(n.hoverData.which===1&&V.which!==1)){V.preventDefault(),D(),n.hoverData.capture=!0,n.hoverData.which=V.which;var he=n.cy,Re=[V.clientX,V.clientY],pe=n.projectIntoViewport(Re[0],Re[1]),Ee=n.selection,qe=n.findNearestElements(pe[0],pe[1],!0,!1),Be=qe[0],Fe=n.dragData.possibleDragElements;n.hoverData.mdownPos=pe,n.hoverData.mdownGPos=Re;var ot=function(){n.hoverData.tapholdCancelled=!1,clearTimeout(n.hoverData.tapholdTimeout),n.hoverData.tapholdTimeout=setTimeout(function(){if(!n.hoverData.tapholdCancelled){var Yt=n.hoverData.down;Yt?Yt.emit({originalEvent:V,type:"taphold",position:{x:pe[0],y:pe[1]}}):he.emit({originalEvent:V,type:"taphold",position:{x:pe[0],y:pe[1]}})}},n.tapholdDuration)};if(V.which==3){n.hoverData.cxtStarted=!0;var st={originalEvent:V,type:"cxttapstart",position:{x:pe[0],y:pe[1]}};Be?(Be.activate(),Be.emit(st),n.hoverData.down=Be):he.emit(st),n.hoverData.downTime=new Date().getTime(),n.hoverData.cxtDragged=!1}else if(V.which==1){Be&&Be.activate();{if(Be!=null&&n.nodeIsGrabbable(Be)){var $e=function(Yt){return{originalEvent:V,type:Yt,position:{x:pe[0],y:pe[1]}}},mt=function(Yt){Yt.emit($e("grab"))};if(m(Be),!Be.selected())Fe=n.dragData.possibleDragElements=he.collection(),T(Be,{addToList:Fe}),Be.emit($e("grabon")).emit($e("grab"));else{Fe=n.dragData.possibleDragElements=he.collection();var Et=he.$(function(dt){return dt.isNode()&&dt.selected()&&n.nodeIsGrabbable(dt)});A(Et,{addToList:Fe}),Be.emit($e("grabon")),Et.forEach(mt)}n.redrawHint("eles",!0),n.redrawHint("drag",!0)}n.hoverData.down=Be,n.hoverData.downs=qe,n.hoverData.downTime=new Date().getTime()}i(Be,["mousedown","tapstart","vmousedown"],V,{x:pe[0],y:pe[1]}),Be==null?(Ee[4]=1,n.data.bgActivePosistion={x:pe[0],y:pe[1]},n.redrawHint("select",!0),n.redraw()):Be.pannable()&&(Ee[4]=1),ot()}Ee[0]=Ee[2]=pe[0],Ee[1]=Ee[3]=pe[1]}},!1);var F=r(n.container);n.registerBinding([e,F],"mousemove",function(V){var he=n.hoverData.capture;if(!(!he&&!P(V))){var Re=!1,pe=n.cy,Ee=pe.zoom(),qe=[V.clientX,V.clientY],Be=n.projectIntoViewport(qe[0],qe[1]),Fe=n.hoverData.mdownPos,ot=n.hoverData.mdownGPos,st=n.selection,$e=null;!n.hoverData.draggingEles&&!n.hoverData.dragging&&!n.hoverData.selecting&&($e=n.findNearestElement(Be[0],Be[1],!0,!1));var mt=n.hoverData.last,Et=n.hoverData.down,dt=[Be[0]-st[2],Be[1]-st[3]],Yt=n.dragData.possibleDragElements,tn;if(ot){var zn=qe[0]-ot[0],rr=zn*zn,vn=qe[1]-ot[1],qn=vn*vn,Bn=rr+qn;n.hoverData.isOverThresholdDrag=tn=Bn>=n.desktopTapThreshold2}var ar=o(V);tn&&(n.hoverData.tapholdCancelled=!0);var Wn=function(){var gn=n.hoverData.dragDelta=n.hoverData.dragDelta||[];gn.length===0?(gn.push(dt[0]),gn.push(dt[1])):(gn[0]+=dt[0],gn[1]+=dt[1])};Re=!0,i($e,["mousemove","vmousemove","tapdrag"],V,{x:Be[0],y:Be[1]});var vr=function(){n.data.bgActivePosistion=void 0,n.hoverData.selecting||pe.emit({originalEvent:V,type:"boxstart",position:{x:Be[0],y:Be[1]}}),st[4]=1,n.hoverData.selecting=!0,n.redrawHint("select",!0),n.redraw()};if(n.hoverData.which===3){if(tn){var gr={originalEvent:V,type:"cxtdrag",position:{x:Be[0],y:Be[1]}};Et?Et.emit(gr):pe.emit(gr),n.hoverData.cxtDragged=!0,(!n.hoverData.cxtOver||$e!==n.hoverData.cxtOver)&&(n.hoverData.cxtOver&&n.hoverData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:Be[0],y:Be[1]}}),n.hoverData.cxtOver=$e,$e&&$e.emit({originalEvent:V,type:"cxtdragover",position:{x:Be[0],y:Be[1]}}))}}else if(n.hoverData.dragging){if(Re=!0,pe.panningEnabled()&&pe.userPanningEnabled()){var Qr;if(n.hoverData.justStartedPan){var Lr=n.hoverData.mdownPos;Qr={x:(Be[0]-Lr[0])*Ee,y:(Be[1]-Lr[1])*Ee},n.hoverData.justStartedPan=!1}else Qr={x:dt[0]*Ee,y:dt[1]*Ee};pe.panBy(Qr),pe.emit("dragpan"),n.hoverData.dragged=!0}Be=n.projectIntoViewport(V.clientX,V.clientY)}else if(st[4]==1&&(Et==null||Et.pannable())){if(tn){if(!n.hoverData.dragging&&pe.boxSelectionEnabled()&&(ar||!pe.panningEnabled()||!pe.userPanningEnabled()))vr();else if(!n.hoverData.selecting&&pe.panningEnabled()&&pe.userPanningEnabled()){var wa=l(Et,n.hoverData.downs);wa&&(n.hoverData.dragging=!0,n.hoverData.justStartedPan=!0,st[4]=0,n.data.bgActivePosistion=nd(Fe),n.redrawHint("select",!0),n.redraw())}Et&&Et.pannable()&&Et.active()&&Et.unactivate()}}else{if(Et&&Et.pannable()&&Et.active()&&Et.unactivate(),(!Et||!Et.grabbed())&&$e!=mt&&(mt&&i(mt,["mouseout","tapdragout"],V,{x:Be[0],y:Be[1]}),$e&&i($e,["mouseover","tapdragover"],V,{x:Be[0],y:Be[1]}),n.hoverData.last=$e),Et)if(tn){if(pe.boxSelectionEnabled()&&ar)Et&&Et.grabbed()&&(C(Yt),Et.emit("freeon"),Yt.emit("free"),n.dragData.didDrag&&(Et.emit("dragfreeon"),Yt.emit("dragfree"))),vr();else if(Et&&Et.grabbed()&&n.nodeIsDraggable(Et)){var Zn=!n.dragData.didDrag;Zn&&n.redrawHint("eles",!0),n.dragData.didDrag=!0,n.hoverData.draggingEles||A(Yt,{inDragLayer:!0});var Vn={x:0,y:0};if(Ve(dt[0])&&Ve(dt[1])&&(Vn.x+=dt[0],Vn.y+=dt[1],Zn)){var Tn=n.hoverData.dragDelta;Tn&&Ve(Tn[0])&&Ve(Tn[1])&&(Vn.x+=Tn[0],Vn.y+=Tn[1])}n.hoverData.draggingEles=!0,Yt.silentShift(Vn).emit("position drag"),n.redrawHint("drag",!0),n.redraw()}}else Wn();Re=!0}if(st[2]=Be[0],st[3]=Be[1],Re)return V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),!1}},!1);var H,X,K;n.registerBinding(e,"mouseup",function(V){if(!(n.hoverData.which===1&&V.which!==1&&n.hoverData.capture)){var he=n.hoverData.capture;if(he){n.hoverData.capture=!1;var Re=n.cy,pe=n.projectIntoViewport(V.clientX,V.clientY),Ee=n.selection,qe=n.findNearestElement(pe[0],pe[1],!0,!1),Be=n.dragData.possibleDragElements,Fe=n.hoverData.down,ot=o(V);if(n.data.bgActivePosistion&&(n.redrawHint("select",!0),n.redraw()),n.hoverData.tapholdCancelled=!0,n.data.bgActivePosistion=void 0,Fe&&Fe.unactivate(),n.hoverData.which===3){var st={originalEvent:V,type:"cxttapend",position:{x:pe[0],y:pe[1]}};if(Fe?Fe.emit(st):Re.emit(st),!n.hoverData.cxtDragged){var $e={originalEvent:V,type:"cxttap",position:{x:pe[0],y:pe[1]}};Fe?Fe.emit($e):Re.emit($e)}n.hoverData.cxtDragged=!1,n.hoverData.which=null}else if(n.hoverData.which===1){if(i(qe,["mouseup","tapend","vmouseup"],V,{x:pe[0],y:pe[1]}),!n.dragData.didDrag&&!n.hoverData.dragged&&!n.hoverData.selecting&&!n.hoverData.isOverThresholdDrag&&(i(Fe,["click","tap","vclick"],V,{x:pe[0],y:pe[1]}),X=!1,V.timeStamp-K<=Re.multiClickDebounceTime()?(H&&clearTimeout(H),X=!0,K=null,i(Fe,["dblclick","dbltap","vdblclick"],V,{x:pe[0],y:pe[1]})):(H=setTimeout(function(){X||i(Fe,["oneclick","onetap","voneclick"],V,{x:pe[0],y:pe[1]})},Re.multiClickDebounceTime()),K=V.timeStamp)),Fe==null&&!n.dragData.didDrag&&!n.hoverData.selecting&&!n.hoverData.dragged&&!o(V)&&(Re.$(t).unselect(["tapunselect"]),Be.length>0&&n.redrawHint("eles",!0),n.dragData.possibleDragElements=Be=Re.collection()),qe==Fe&&!n.dragData.didDrag&&!n.hoverData.selecting&&qe!=null&&qe._private.selectable&&(n.hoverData.dragging||(Re.selectionType()==="additive"||ot?qe.selected()?qe.unselect(["tapunselect"]):qe.select(["tapselect"]):ot||(Re.$(t).unmerge(qe).unselect(["tapunselect"]),qe.select(["tapselect"]))),n.redrawHint("eles",!0)),n.hoverData.selecting){var mt=Re.collection(n.getAllInBox(Ee[0],Ee[1],Ee[2],Ee[3]));n.redrawHint("select",!0),mt.length>0&&n.redrawHint("eles",!0),Re.emit({type:"boxend",originalEvent:V,position:{x:pe[0],y:pe[1]}});var Et=function(tn){return tn.selectable()&&!tn.selected()};Re.selectionType()==="additive"||ot||Re.$(t).unmerge(mt).unselect(),mt.emit("box").stdFilter(Et).select().emit("boxselect"),n.redraw()}if(n.hoverData.dragging&&(n.hoverData.dragging=!1,n.redrawHint("select",!0),n.redrawHint("eles",!0),n.redraw()),!Ee[4]){n.redrawHint("drag",!0),n.redrawHint("eles",!0);var dt=Fe&&Fe.grabbed();C(Be),dt&&(Fe.emit("freeon"),Be.emit("free"),n.dragData.didDrag&&(Fe.emit("dragfreeon"),Be.emit("dragfree")))}}Ee[4]=0,n.hoverData.down=null,n.hoverData.cxtStarted=!1,n.hoverData.draggingEles=!1,n.hoverData.selecting=!1,n.hoverData.isOverThresholdDrag=!1,n.dragData.didDrag=!1,n.hoverData.dragged=!1,n.hoverData.dragDelta=[],n.hoverData.mdownPos=null,n.hoverData.mdownGPos=null,n.hoverData.which=null}}},!1);var ee=function(V){if(!n.scrollingPage){var he=n.cy,Re=he.zoom(),pe=he.pan(),Ee=n.projectIntoViewport(V.clientX,V.clientY),qe=[Ee[0]*Re+pe.x,Ee[1]*Re+pe.y];if(n.hoverData.draggingEles||n.hoverData.dragging||n.hoverData.cxtStarted||B()){V.preventDefault();return}if(he.panningEnabled()&&he.userPanningEnabled()&&he.zoomingEnabled()&&he.userZoomingEnabled()){V.preventDefault(),n.data.wheelZooming=!0,clearTimeout(n.data.wheelTimeout),n.data.wheelTimeout=setTimeout(function(){n.data.wheelZooming=!1,n.redrawHint("eles",!0),n.redraw()},150);var Be;V.deltaY!=null?Be=V.deltaY/-250:V.wheelDeltaY!=null?Be=V.wheelDeltaY/1e3:Be=V.wheelDelta/1e3,Be=Be*n.wheelSensitivity;var Fe=V.deltaMode===1;Fe&&(Be*=33);var ot=he.zoom()*Math.pow(10,Be);V.type==="gesturechange"&&(ot=n.gestureStartZoom*V.scale),he.zoom({level:ot,renderedPosition:{x:qe[0],y:qe[1]}}),he.emit(V.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};n.registerBinding(n.container,"wheel",ee,!0),n.registerBinding(e,"scroll",function(V){n.scrollingPage=!0,clearTimeout(n.scrollingPageTimeout),n.scrollingPageTimeout=setTimeout(function(){n.scrollingPage=!1},250)},!0),n.registerBinding(n.container,"gesturestart",function(V){n.gestureStartZoom=n.cy.zoom(),n.hasTouchStarted||V.preventDefault()},!0),n.registerBinding(n.container,"gesturechange",function(Ae){n.hasTouchStarted||ee(Ae)},!0),n.registerBinding(n.container,"mouseout",function(V){var he=n.projectIntoViewport(V.clientX,V.clientY);n.cy.emit({originalEvent:V,type:"mouseout",position:{x:he[0],y:he[1]}})},!1),n.registerBinding(n.container,"mouseover",function(V){var he=n.projectIntoViewport(V.clientX,V.clientY);n.cy.emit({originalEvent:V,type:"mouseover",position:{x:he[0],y:he[1]}})},!1);var Y,Z,Q,ue,U,W,ne,ce,oe,me,ye,Oe,Te,de=function(V,he,Re,pe){return Math.sqrt((Re-V)*(Re-V)+(pe-he)*(pe-he))},ae=function(V,he,Re,pe){return(Re-V)*(Re-V)+(pe-he)*(pe-he)},we;n.registerBinding(n.container,"touchstart",we=function(V){if(n.hasTouchStarted=!0,!!P(V)){D(),n.touchData.capture=!0,n.data.bgActivePosistion=void 0;var he=n.cy,Re=n.touchData.now,pe=n.touchData.earlier;if(V.touches[0]){var Ee=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Re[0]=Ee[0],Re[1]=Ee[1]}if(V.touches[1]){var Ee=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);Re[2]=Ee[0],Re[3]=Ee[1]}if(V.touches[2]){var Ee=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);Re[4]=Ee[0],Re[5]=Ee[1]}if(V.touches[1]){n.touchData.singleTouchMoved=!0,C(n.dragData.touchDragEles);var qe=n.findContainerClientCoords();oe=qe[0],me=qe[1],ye=qe[2],Oe=qe[3],Y=V.touches[0].clientX-oe,Z=V.touches[0].clientY-me,Q=V.touches[1].clientX-oe,ue=V.touches[1].clientY-me,Te=0<=Y&&Y<=ye&&0<=Q&&Q<=ye&&0<=Z&&Z<=Oe&&0<=ue&&ue<=Oe;var Be=he.pan(),Fe=he.zoom();U=de(Y,Z,Q,ue),W=ae(Y,Z,Q,ue),ne=[(Y+Q)/2,(Z+ue)/2],ce=[(ne[0]-Be.x)/Fe,(ne[1]-Be.y)/Fe];var ot=200,st=ot*ot;if(W<st&&!V.touches[2]){var $e=n.findNearestElement(Re[0],Re[1],!0,!0),mt=n.findNearestElement(Re[2],Re[3],!0,!0);$e&&$e.isNode()?($e.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:Re[0],y:Re[1]}}),n.touchData.start=$e):mt&&mt.isNode()?(mt.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:Re[0],y:Re[1]}}),n.touchData.start=mt):he.emit({originalEvent:V,type:"cxttapstart",position:{x:Re[0],y:Re[1]}}),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!0,n.touchData.cxtDragged=!1,n.data.bgActivePosistion=void 0,n.redraw();return}}if(V.touches[2])he.boxSelectionEnabled()&&V.preventDefault();else if(!V.touches[1]){if(V.touches[0]){var Et=n.findNearestElements(Re[0],Re[1],!0,!0),dt=Et[0];if(dt!=null&&(dt.activate(),n.touchData.start=dt,n.touchData.starts=Et,n.nodeIsGrabbable(dt))){var Yt=n.dragData.touchDragEles=he.collection(),tn=null;n.redrawHint("eles",!0),n.redrawHint("drag",!0),dt.selected()?(tn=he.$(function(Bn){return Bn.selected()&&n.nodeIsGrabbable(Bn)}),A(tn,{addToList:Yt})):T(dt,{addToList:Yt}),m(dt);var zn=function(ar){return{originalEvent:V,type:ar,position:{x:Re[0],y:Re[1]}}};dt.emit(zn("grabon")),tn?tn.forEach(function(Bn){Bn.emit(zn("grab"))}):dt.emit(zn("grab"))}i(dt,["touchstart","tapstart","vmousedown"],V,{x:Re[0],y:Re[1]}),dt==null&&(n.data.bgActivePosistion={x:Ee[0],y:Ee[1]},n.redrawHint("select",!0),n.redraw()),n.touchData.singleTouchMoved=!1,n.touchData.singleTouchStartTime=+new Date,clearTimeout(n.touchData.tapholdTimeout),n.touchData.tapholdTimeout=setTimeout(function(){n.touchData.singleTouchMoved===!1&&!n.pinching&&!n.touchData.selecting&&i(n.touchData.start,["taphold"],V,{x:Re[0],y:Re[1]})},n.tapholdDuration)}}if(V.touches.length>=1){for(var rr=n.touchData.startPosition=[null,null,null,null,null,null],vn=0;vn<Re.length;vn++)rr[vn]=pe[vn]=Re[vn];var qn=V.touches[0];n.touchData.startGPosition=[qn.clientX,qn.clientY]}}},!1);var _e;n.registerBinding(e,"touchmove",_e=function(V){var he=n.touchData.capture;if(!(!he&&!P(V))){var Re=n.selection,pe=n.cy,Ee=n.touchData.now,qe=n.touchData.earlier,Be=pe.zoom();if(V.touches[0]){var Fe=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Ee[0]=Fe[0],Ee[1]=Fe[1]}if(V.touches[1]){var Fe=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);Ee[2]=Fe[0],Ee[3]=Fe[1]}if(V.touches[2]){var Fe=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);Ee[4]=Fe[0],Ee[5]=Fe[1]}var ot=n.touchData.startGPosition,st;if(he&&V.touches[0]&&ot){for(var $e=[],mt=0;mt<Ee.length;mt++)$e[mt]=Ee[mt]-qe[mt];var Et=V.touches[0].clientX-ot[0],dt=Et*Et,Yt=V.touches[0].clientY-ot[1],tn=Yt*Yt,zn=dt+tn;st=zn>=n.touchTapThreshold2}if(he&&n.touchData.cxt){V.preventDefault();var rr=V.touches[0].clientX-oe,vn=V.touches[0].clientY-me,qn=V.touches[1].clientX-oe,Bn=V.touches[1].clientY-me,ar=ae(rr,vn,qn,Bn),Wn=ar/W,vr=150,gr=vr*vr,Qr=1.5,Lr=Qr*Qr;if(Wn>=Lr||ar>=gr){n.touchData.cxt=!1,n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var wa={originalEvent:V,type:"cxttapend",position:{x:Ee[0],y:Ee[1]}};n.touchData.start?(n.touchData.start.unactivate().emit(wa),n.touchData.start=null):pe.emit(wa)}}if(he&&n.touchData.cxt){var wa={originalEvent:V,type:"cxtdrag",position:{x:Ee[0],y:Ee[1]}};n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.touchData.start?n.touchData.start.emit(wa):pe.emit(wa),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxtDragged=!0;var Zn=n.findNearestElement(Ee[0],Ee[1],!0,!0);(!n.touchData.cxtOver||Zn!==n.touchData.cxtOver)&&(n.touchData.cxtOver&&n.touchData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:Ee[0],y:Ee[1]}}),n.touchData.cxtOver=Zn,Zn&&Zn.emit({originalEvent:V,type:"cxtdragover",position:{x:Ee[0],y:Ee[1]}}))}else if(he&&V.touches[2]&&pe.boxSelectionEnabled())V.preventDefault(),n.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,n.touchData.selecting||pe.emit({originalEvent:V,type:"boxstart",position:{x:Ee[0],y:Ee[1]}}),n.touchData.selecting=!0,n.touchData.didSelect=!0,Re[4]=1,!Re||Re.length===0||Re[0]===void 0?(Re[0]=(Ee[0]+Ee[2]+Ee[4])/3,Re[1]=(Ee[1]+Ee[3]+Ee[5])/3,Re[2]=(Ee[0]+Ee[2]+Ee[4])/3+1,Re[3]=(Ee[1]+Ee[3]+Ee[5])/3+1):(Re[2]=(Ee[0]+Ee[2]+Ee[4])/3,Re[3]=(Ee[1]+Ee[3]+Ee[5])/3),n.redrawHint("select",!0),n.redraw();else if(he&&V.touches[1]&&!n.touchData.didSelect&&pe.zoomingEnabled()&&pe.panningEnabled()&&pe.userZoomingEnabled()&&pe.userPanningEnabled()){V.preventDefault(),n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var Vn=n.dragData.touchDragEles;if(Vn){n.redrawHint("drag",!0);for(var Tn=0;Tn<Vn.length;Tn++){var In=Vn[Tn]._private;In.grabbed=!1,In.rscratch.inDragLayer=!1}}var gn=n.touchData.start,rr=V.touches[0].clientX-oe,vn=V.touches[0].clientY-me,qn=V.touches[1].clientX-oe,Bn=V.touches[1].clientY-me,Li=de(rr,vn,qn,Bn),Kl=Li/U;if(Te){var xf=rr-Y,Md=vn-Z,Tf=qn-Q,Zu=Bn-ue,Xl=(xf+Tf)/2,zi=(Md+Zu)/2,Ea=pe.zoom(),Sa=Ea*Kl,Ha=pe.pan(),mn=ce[0]*Ea+Ha.x,Wl=ce[1]*Ea+Ha.y,Cf={x:-Sa/Ea*(mn-Ha.x-Xl)+mn,y:-Sa/Ea*(Wl-Ha.y-zi)+Wl};if(gn&&gn.active()){var Vn=n.dragData.touchDragEles;C(Vn),n.redrawHint("drag",!0),n.redrawHint("eles",!0),gn.unactivate().emit("freeon"),Vn.emit("free"),n.dragData.didDrag&&(gn.emit("dragfreeon"),Vn.emit("dragfree"))}pe.viewport({zoom:Sa,pan:Cf,cancelOnFailedZoom:!0}),pe.emit("pinchzoom"),U=Li,Y=rr,Z=vn,Q=qn,ue=Bn,n.pinching=!0}if(V.touches[0]){var Fe=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Ee[0]=Fe[0],Ee[1]=Fe[1]}if(V.touches[1]){var Fe=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);Ee[2]=Fe[0],Ee[3]=Fe[1]}if(V.touches[2]){var Fe=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);Ee[4]=Fe[0],Ee[5]=Fe[1]}}else if(V.touches[0]&&!n.touchData.didSelect){var Qn=n.touchData.start,Ga=n.touchData.last,Zn;if(!n.hoverData.draggingEles&&!n.swipePanning&&(Zn=n.findNearestElement(Ee[0],Ee[1],!0,!0)),he&&Qn!=null&&V.preventDefault(),he&&Qn!=null&&n.nodeIsDraggable(Qn))if(st){var Vn=n.dragData.touchDragEles,jr=!n.dragData.didDrag;jr&&A(Vn,{inDragLayer:!0}),n.dragData.didDrag=!0;var cu={x:0,y:0};if(Ve($e[0])&&Ve($e[1])&&(cu.x+=$e[0],cu.y+=$e[1],jr)){n.redrawHint("eles",!0);var zr=n.touchData.dragDelta;zr&&Ve(zr[0])&&Ve(zr[1])&&(cu.x+=zr[0],cu.y+=zr[1])}n.hoverData.draggingEles=!0,Vn.silentShift(cu).emit("position drag"),n.redrawHint("drag",!0),n.touchData.startPosition[0]==qe[0]&&n.touchData.startPosition[1]==qe[1]&&n.redrawHint("eles",!0),n.redraw()}else{var zr=n.touchData.dragDelta=n.touchData.dragDelta||[];zr.length===0?(zr.push($e[0]),zr.push($e[1])):(zr[0]+=$e[0],zr[1]+=$e[1])}if(i(Qn||Zn,["touchmove","tapdrag","vmousemove"],V,{x:Ee[0],y:Ee[1]}),(!Qn||!Qn.grabbed())&&Zn!=Ga&&(Ga&&Ga.emit({originalEvent:V,type:"tapdragout",position:{x:Ee[0],y:Ee[1]}}),Zn&&Zn.emit({originalEvent:V,type:"tapdragover",position:{x:Ee[0],y:Ee[1]}})),n.touchData.last=Zn,he)for(var Tn=0;Tn<Ee.length;Tn++)Ee[Tn]&&n.touchData.startPosition[Tn]&&st&&(n.touchData.singleTouchMoved=!0);if(he&&(Qn==null||Qn.pannable())&&pe.panningEnabled()&&pe.userPanningEnabled()){var Af=l(Qn,n.touchData.starts);Af&&(V.preventDefault(),n.data.bgActivePosistion||(n.data.bgActivePosistion=nd(n.touchData.startPosition)),n.swipePanning?(pe.panBy({x:$e[0]*Be,y:$e[1]*Be}),pe.emit("dragpan")):st&&(n.swipePanning=!0,pe.panBy({x:Et*Be,y:Yt*Be}),pe.emit("dragpan"),Qn&&(Qn.unactivate(),n.redrawHint("select",!0),n.touchData.start=null)));var Fe=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Ee[0]=Fe[0],Ee[1]=Fe[1]}}for(var mt=0;mt<Ee.length;mt++)qe[mt]=Ee[mt];he&&V.touches.length>0&&!n.hoverData.draggingEles&&!n.swipePanning&&n.data.bgActivePosistion!=null&&(n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.redraw())}},!1);var He;n.registerBinding(e,"touchcancel",He=function(V){var he=n.touchData.start;n.touchData.capture=!1,he&&he.unactivate()});var Ge,Ye,Ct,ht;if(n.registerBinding(e,"touchend",Ge=function(V){var he=n.touchData.start,Re=n.touchData.capture;if(Re)V.touches.length===0&&(n.touchData.capture=!1),V.preventDefault();else return;var pe=n.selection;n.swipePanning=!1,n.hoverData.draggingEles=!1;var Ee=n.cy,qe=Ee.zoom(),Be=n.touchData.now,Fe=n.touchData.earlier;if(V.touches[0]){var ot=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Be[0]=ot[0],Be[1]=ot[1]}if(V.touches[1]){var ot=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);Be[2]=ot[0],Be[3]=ot[1]}if(V.touches[2]){var ot=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);Be[4]=ot[0],Be[5]=ot[1]}he&&he.unactivate();var st;if(n.touchData.cxt){if(st={originalEvent:V,type:"cxttapend",position:{x:Be[0],y:Be[1]}},he?he.emit(st):Ee.emit(st),!n.touchData.cxtDragged){var $e={originalEvent:V,type:"cxttap",position:{x:Be[0],y:Be[1]}};he?he.emit($e):Ee.emit($e)}n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!1,n.touchData.start=null,n.redraw();return}if(!V.touches[2]&&Ee.boxSelectionEnabled()&&n.touchData.selecting){n.touchData.selecting=!1;var mt=Ee.collection(n.getAllInBox(pe[0],pe[1],pe[2],pe[3]));pe[0]=void 0,pe[1]=void 0,pe[2]=void 0,pe[3]=void 0,pe[4]=0,n.redrawHint("select",!0),Ee.emit({type:"boxend",originalEvent:V,position:{x:Be[0],y:Be[1]}});var Et=function(gr){return gr.selectable()&&!gr.selected()};mt.emit("box").stdFilter(Et).select().emit("boxselect"),mt.nonempty()&&n.redrawHint("eles",!0),n.redraw()}if(he!=null&&he.unactivate(),V.touches[2])n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);else if(!V.touches[1]){if(!V.touches[0]){if(!V.touches[0]){n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var dt=n.dragData.touchDragEles;if(he!=null){var Yt=he._private.grabbed;C(dt),n.redrawHint("drag",!0),n.redrawHint("eles",!0),Yt&&(he.emit("freeon"),dt.emit("free"),n.dragData.didDrag&&(he.emit("dragfreeon"),dt.emit("dragfree"))),i(he,["touchend","tapend","vmouseup","tapdragout"],V,{x:Be[0],y:Be[1]}),he.unactivate(),n.touchData.start=null}else{var tn=n.findNearestElement(Be[0],Be[1],!0,!0);i(tn,["touchend","tapend","vmouseup","tapdragout"],V,{x:Be[0],y:Be[1]})}var zn=n.touchData.startPosition[0]-Be[0],rr=zn*zn,vn=n.touchData.startPosition[1]-Be[1],qn=vn*vn,Bn=rr+qn,ar=Bn*qe*qe;n.touchData.singleTouchMoved||(he||Ee.$(":selected").unselect(["tapunselect"]),i(he,["tap","vclick"],V,{x:Be[0],y:Be[1]}),Ye=!1,V.timeStamp-ht<=Ee.multiClickDebounceTime()?(Ct&&clearTimeout(Ct),Ye=!0,ht=null,i(he,["dbltap","vdblclick"],V,{x:Be[0],y:Be[1]})):(Ct=setTimeout(function(){Ye||i(he,["onetap","voneclick"],V,{x:Be[0],y:Be[1]})},Ee.multiClickDebounceTime()),ht=V.timeStamp)),he!=null&&!n.dragData.didDrag&&he._private.selectable&&ar<n.touchTapThreshold2&&!n.pinching&&(Ee.selectionType()==="single"?(Ee.$(t).unmerge(he).unselect(["tapunselect"]),he.select(["tapselect"])):he.selected()?he.unselect(["tapunselect"]):he.select(["tapselect"]),n.redrawHint("eles",!0)),n.touchData.singleTouchMoved=!0}}}for(var Wn=0;Wn<Be.length;Wn++)Fe[Wn]=Be[Wn];n.dragData.didDrag=!1,V.touches.length===0&&(n.touchData.dragDelta=[],n.touchData.startPosition=[null,null,null,null,null,null],n.touchData.startGPosition=null,n.touchData.didSelect=!1),V.touches.length<2&&(V.touches.length===1&&(n.touchData.startGPosition=[V.touches[0].clientX,V.touches[0].clientY]),n.pinching=!1,n.redrawHint("eles",!0),n.redraw())},!1),typeof TouchEvent>"u"){var Ke=[],Xe=function(V){return{clientX:V.clientX,clientY:V.clientY,force:1,identifier:V.pointerId,pageX:V.pageX,pageY:V.pageY,radiusX:V.width/2,radiusY:V.height/2,screenX:V.screenX,screenY:V.screenY,target:V.target}},je=function(V){return{event:V,touch:Xe(V)}},Ze=function(V){Ke.push(je(V))},tt=function(V){for(var he=0;he<Ke.length;he++){var Re=Ke[he];if(Re.event.pointerId===V.pointerId){Ke.splice(he,1);return}}},at=function(V){var he=Ke.filter(function(Re){return Re.event.pointerId===V.pointerId})[0];he.event=V,he.touch=Xe(V)},nt=function(V){V.touches=Ke.map(function(he){return he.touch})},wt=function(V){return V.pointerType==="mouse"||V.pointerType===4};n.registerBinding(n.container,"pointerdown",function(Ae){wt(Ae)||(Ae.preventDefault(),Ze(Ae),nt(Ae),we(Ae))}),n.registerBinding(n.container,"pointerup",function(Ae){wt(Ae)||(tt(Ae),nt(Ae),Ge(Ae))}),n.registerBinding(n.container,"pointercancel",function(Ae){wt(Ae)||(tt(Ae),nt(Ae),He(Ae))}),n.registerBinding(n.container,"pointermove",function(Ae){wt(Ae)||(Ae.preventDefault(),at(Ae),nt(Ae),_e(Ae))})}};var Mo={};Mo.generatePolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,draw:function(r,i,o,l,c,h){this.renderer.nodeShapeImpl("polygon",r,i,o,l,c,this.points)},intersectLine:function(r,i,o,l,c,h,d,v){return ig(c,h,this.points,r,i,o/2,l/2,d)},checkPoint:function(r,i,o,l,c,h,d,v){return Co(r,i,this.points,h,d,l,c,[0,-1],o)}}};Mo.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o)},intersectLine:function(e,t,r,i,o,l,c,h){return YR(o,l,e,t,r/2+c,i/2+c)},checkPoint:function(e,t,r,i,o,l,c,h){return of(e,t,i,o,l,c,r)}}};Mo.generateRoundPolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,getOrCreateCorners:function(r,i,o,l,c,h,d){if(h[d]!==void 0&&h[d+"-cx"]===r&&h[d+"-cy"]===i)return h[d];h[d]=new Array(e.length/2),h[d+"-cx"]=r,h[d+"-cy"]=i;var v=o/2,m=l/2;c=c==="auto"?hx(o,l):c;for(var b=new Array(e.length/2),E=0;E<e.length/2;E++)b[E]={x:r+v*e[E*2],y:i+m*e[E*2+1]};var S,A,T,C,R=b.length;for(A=b[R-1],S=0;S<R;S++)T=b[S%R],C=b[(S+1)%R],h[d][S]=Hb(A,T,C,c),A=T,T=C;return h[d]},draw:function(r,i,o,l,c,h,d){this.renderer.nodeShapeImpl("round-polygon",r,i,o,l,c,this.points,this.getOrCreateCorners(i,o,l,c,h,d,"drawCorners"))},intersectLine:function(r,i,o,l,c,h,d,v,m){return KR(c,h,this.points,r,i,o,l,d,this.getOrCreateCorners(r,i,o,l,v,m,"corners"))},checkPoint:function(r,i,o,l,c,h,d,v,m){return $R(r,i,this.points,h,d,l,c,this.getOrCreateCorners(h,d,l,c,v,m,"corners"))}}};Mo.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ma(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o,this.points,l)},intersectLine:function(e,t,r,i,o,l,c,h){return cx(o,l,e,t,r,i,c,h)},checkPoint:function(e,t,r,i,o,l,c,h){var d=i/2,v=o/2;h=h==="auto"?gf(i,o):h,h=Math.min(d,v,h);var m=h*2;return!!(Co(e,t,this.points,l,c,i,o-m,[0,-1],r)||Co(e,t,this.points,l,c,i-m,o,[0,-1],r)||of(e,t,m,m,l-d+h,c-v+h,r)||of(e,t,m,m,l+d-h,c-v+h,r)||of(e,t,m,m,l+d-h,c+v-h,r)||of(e,t,m,m,l-d+h,c+v-h,r))}}};Mo.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Ob(),points:ma(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o,null,l)},generateCutTrianglePts:function(e,t,r,i,o){var l=o==="auto"?this.cornerLength:o,c=t/2,h=e/2,d=r-h,v=r+h,m=i-c,b=i+c;return{topLeft:[d,m+l,d+l,m,d+l,m+l],topRight:[v-l,m,v,m+l,v-l,m+l],bottomRight:[v,b-l,v-l,b,v-l,b-l],bottomLeft:[d+l,b,d,b-l,d+l,b-l]}},intersectLine:function(e,t,r,i,o,l,c,h){var d=this.generateCutTrianglePts(r+2*c,i+2*c,e,t,h),v=[].concat.apply([],[d.topLeft.splice(0,4),d.topRight.splice(0,4),d.bottomRight.splice(0,4),d.bottomLeft.splice(0,4)]);return ig(o,l,v,e,t)},checkPoint:function(e,t,r,i,o,l,c,h){var d=h==="auto"?this.cornerLength:h;if(Co(e,t,this.points,l,c,i,o-2*d,[0,-1],r)||Co(e,t,this.points,l,c,i-2*d,o,[0,-1],r))return!0;var v=this.generateCutTrianglePts(i,o,l,c);return La(e,t,v.topLeft)||La(e,t,v.topRight)||La(e,t,v.bottomRight)||La(e,t,v.bottomLeft)}}};Mo.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ma(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o)},intersectLine:function(e,t,r,i,o,l,c,h){var d=.15,v=.5,m=.85,b=this.generateBarrelBezierPts(r+2*c,i+2*c,e,t),E=function(T){var C=id({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},d),R=id({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},v),D=id({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},m);return[T[0],T[1],C.x,C.y,R.x,R.y,D.x,D.y,T[4],T[5]]},S=[].concat(E(b.topLeft),E(b.topRight),E(b.bottomRight),E(b.bottomLeft));return ig(o,l,S,e,t)},generateBarrelBezierPts:function(e,t,r,i){var o=t/2,l=e/2,c=r-l,h=r+l,d=i-o,v=i+o,m=Z1(e,t),b=m.heightOffset,E=m.widthOffset,S=m.ctrlPtOffsetPct*e,A={topLeft:[c,d+b,c+S,d,c+E,d],topRight:[h-E,d,h-S,d,h,d+b],bottomRight:[h,v-b,h-S,v,h-E,v],bottomLeft:[c+E,v,c+S,v,c,v-b]};return A.topLeft.isTop=!0,A.topRight.isTop=!0,A.bottomLeft.isBottom=!0,A.bottomRight.isBottom=!0,A},checkPoint:function(e,t,r,i,o,l,c,h){var d=Z1(i,o),v=d.heightOffset,m=d.widthOffset;if(Co(e,t,this.points,l,c,i,o-2*v,[0,-1],r)||Co(e,t,this.points,l,c,i-2*m,o,[0,-1],r))return!0;for(var b=this.generateBarrelBezierPts(i,o,l,c),E=function(I,B,P){var F=P[4],H=P[2],X=P[0],K=P[5],ee=P[1],Y=Math.min(F,X),Z=Math.max(F,X),Q=Math.min(K,ee),ue=Math.max(K,ee);if(Y<=I&&I<=Z&&Q<=B&&B<=ue){var U=XR(F,H,X),W=HR(U[0],U[1],U[2],I),ne=W.filter(function(ce){return 0<=ce&&ce<=1});if(ne.length>0)return ne[0]}return null},S=Object.keys(b),A=0;A<S.length;A++){var T=S[A],C=b[T],R=E(e,t,C);if(R!=null){var D=C[5],M=C[3],k=C[1],L=Er(D,M,k,R);if(C.isTop&&L<=t||C.isBottom&&t<=L)return!0}}return!1}}};Mo.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ma(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o,this.points,l)},intersectLine:function(e,t,r,i,o,l,c,h){var d=e-(r/2+c),v=t-(i/2+c),m=v,b=e+(r/2+c),E=Ol(o,l,e,t,d,v,b,m,!1);return E.length>0?E:cx(o,l,e,t,r,i,c,h)},checkPoint:function(e,t,r,i,o,l,c,h){h=h==="auto"?gf(i,o):h;var d=2*h;if(Co(e,t,this.points,l,c,i,o-d,[0,-1],r)||Co(e,t,this.points,l,c,i-d,o,[0,-1],r))return!0;var v=i/2+2*r,m=o/2+2*r,b=[l-v,c-m,l-v,c,l+v,c,l+v,c-m];return!!(La(e,t,b)||of(e,t,d,d,l+i/2-h,c+o/2-h,r)||of(e,t,d,d,l-i/2+h,c+o/2-h,r))}}};Mo.registerNodeShapes=function(){var n=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",ma(3,0)),this.generateRoundPolygon("round-triangle",ma(3,0)),this.generatePolygon("rectangle",ma(4,0)),n.square=n.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",ma(5,0)),this.generateRoundPolygon("round-pentagon",ma(5,0)),this.generatePolygon("hexagon",ma(6,0)),this.generateRoundPolygon("round-hexagon",ma(6,0)),this.generatePolygon("heptagon",ma(7,0)),this.generateRoundPolygon("round-heptagon",ma(7,0)),this.generatePolygon("octagon",ma(8,0)),this.generateRoundPolygon("round-octagon",ma(8,0));var r=new Array(20);{var i=W1(5,0),o=W1(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var c=0;c<o.length/2;c++)o[c*2]*=l,o[c*2+1]*=l;for(var c=0;c<20/4;c++)r[c*4]=i[c*2],r[c*4+1]=i[c*2+1],r[c*4+2]=o[c*2],r[c*4+3]=o[c*2+1]}r=dx(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var h=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",h),this.generateRoundPolygon("round-tag",h)}n.makePolygon=function(d){var v=d.join("$"),m="polygon-"+v,b;return(b=this[m])?b:e.generatePolygon(m,d)}};var Tg={};Tg.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Tg.redraw=function(n){n=n||ux();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=n};Tg.beforeRender=function(n,e){if(!this.destroyed){e==null&&Hn("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:n,priority:e}),t.sort(function(r,i){return i.priority-r.priority})}};var _E=function(e,t,r){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(t,r)};Tg.startRenderLoop=function(){var n=this,e=n.cy;if(!n.renderLoopStarted){n.renderLoopStarted=!0;var t=function r(i){if(!n.destroyed){if(!e.batching())if(n.requestedFrame&&!n.skipFrame){_E(n,!0,i);var o=To();n.render(n.renderOptions);var l=n.lastDrawTime=To();n.averageRedrawTime===void 0&&(n.averageRedrawTime=l-o),n.redrawCount===void 0&&(n.redrawCount=0),n.redrawCount++,n.redrawTotalTime===void 0&&(n.redrawTotalTime=0);var c=l-o;n.redrawTotalTime+=c,n.lastRedrawTime=c,n.averageRedrawTime=n.averageRedrawTime/2+c/2,n.requestedFrame=!1}else _E(n,!1,i);n.skipFrame=!1,sy(r)}};sy(t)}};var RN=function(e){this.init(e)},cT=RN,Ad=cT.prototype;Ad.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Ad.init=function(n){var e=this;e.options=n,e.cy=n.cy;var t=e.container=n.cy.container(),r=e.cy.window();if(r){var i=r.document,o=i.head,l="__________cytoscape_stylesheet",c="__________cytoscape_container",h=i.getElementById(l)!=null;if(t.className.indexOf(c)<0&&(t.className=(t.className||"")+" "+c),!h){var d=i.createElement("style");d.id=l,d.textContent="."+c+" { position: relative; }",o.insertBefore(d,o.children[0])}var v=r.getComputedStyle(t),m=v.getPropertyValue("position");m==="static"&&sn("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=n.showFps,e.debug=n.debug,e.webgl=n.webgl,e.hideEdgesOnViewport=n.hideEdgesOnViewport,e.textureOnViewport=n.textureOnViewport,e.wheelSensitivity=n.wheelSensitivity,e.motionBlurEnabled=n.motionBlur,e.forcedPixelRatio=Ve(n.pixelRatio)?n.pixelRatio:null,e.motionBlur=n.motionBlur,e.motionBlurOpacity=n.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=n.desktopTapThreshold,e.desktopTapThreshold2=n.desktopTapThreshold*n.desktopTapThreshold,e.touchTapThreshold=n.touchTapThreshold,e.touchTapThreshold2=n.touchTapThreshold*n.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Ad.notify=function(n,e){var t=this,r=t.cy;if(!this.destroyed){if(n==="init"){t.load();return}if(n==="destroy"){t.destroy();return}(n==="add"||n==="remove"||n==="move"&&r.hasCompoundNodes()||n==="load"||n==="zorder"||n==="mount")&&t.invalidateCachedZSortedEles(),n==="viewport"&&t.redrawHint("select",!0),n==="gc"&&t.redrawHint("gc",!0),(n==="load"||n==="resize"||n==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Ad.destroy=function(){var n=this;n.destroyed=!0,n.cy.stopAnimationLoop();for(var e=0;e<n.bindings.length;e++){var t=n.bindings[e],r=t,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(n.bindings=[],n.beforeRenderCallbacks=[],n.onUpdateEleCalcsFns=[],n.removeObserver&&n.removeObserver.disconnect(),n.styleObserver&&n.styleObserver.disconnect(),n.resizeObserver&&n.resizeObserver.disconnect(),n.labelCalcDiv)try{document.body.removeChild(n.labelCalcDiv)}catch{}};Ad.isHeadless=function(){return!1};[Fb,sT,fT,Cd,Mo,Tg].forEach(function(n){pt(Ad,n)});var T1=1e3/60,dT={setupDequeueing:function(e){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var o=bg(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),l=function(d,v){var m=To(),b=i.averageRedrawTime,E=i.lastRedrawTime,S=[],A=i.cy.extent(),T=i.getPixelRatio();for(d||i.flushRenderedStyleQueue();;){var C=To(),R=C-m,D=C-v;if(E<T1){var M=T1-(d?b:0);if(D>=e.deqFastCost*M)break}else if(d){if(R>=e.deqCost*E||R>=e.deqAvgCost*b)break}else if(D>=e.deqNoDrawCost*T1)break;var k=e.deq(r,T,A);if(k.length>0)for(var L=0;L<k.length;L++)S.push(k[L]);else break}S.length>0&&(e.onDeqd(r,S),!d&&e.shouldRedraw(r,S,T,A)&&o())},c=e.priority||Cb;i.beforeRender(l,c(r))}}}},DN=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fy;Fl(this,n),this.idsByKey=new Vu,this.keyForId=new Vu,this.cachesByLvl=new Vu,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return Hl(n,[{key:"getIdsFor",value:function(t){t==null&&Hn("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new yd,r.set(t,i)),i}},{key:"addIdForKey",value:function(t,r){t!=null&&this.getIdsFor(t).add(r)}},{key:"deleteIdForKey",value:function(t,r){t!=null&&this.getIdsFor(t).delete(r)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var r=t.id(),i=this.keyForId.get(r),o=this.getKey(t);this.deleteIdForKey(i,r),this.addIdForKey(o,r),this.keyForId.set(r,o)}},{key:"deleteKeyMappingFor",value:function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(t){var r=t.id(),i=this.keyForId.get(r),o=this.getKey(t);return i!==o}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var r=this.cachesByLvl,i=this.lvls,o=r.get(t);return o||(o=new Vu,r.set(t,o),i.push(t)),o}},{key:"getCache",value:function(t,r){return this.getCachesAt(r).get(t)}},{key:"get",value:function(t,r){var i=this.getKey(t),o=this.getCache(i,r);return o!=null&&this.updateKeyMappingFor(t),o}},{key:"getForCachedKey",value:function(t,r){var i=this.keyForId.get(t.id()),o=this.getCache(i,r);return o}},{key:"hasCache",value:function(t,r){return this.getCachesAt(r).has(t)}},{key:"has",value:function(t,r){var i=this.getKey(t);return this.hasCache(i,r)}},{key:"setCache",value:function(t,r,i){i.key=t,this.getCachesAt(r).set(t,i)}},{key:"set",value:function(t,r,i){var o=this.getKey(t);this.setCache(o,r,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,r){this.getCachesAt(r).delete(t)}},{key:"delete",value:function(t,r){var i=this.getKey(t);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(t){var r=this;this.lvls.forEach(function(i){return r.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(t);var o=this.doesEleInvalidateKey(t);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}]),n}(),kE=25,Vm=50,ay=-4,ob=3,hT=7.99,ON=8,MN=1024,BN=1024,NN=1024,_N=.2,kN=.8,LN=10,zN=.15,IN=.1,PN=.9,UN=.9,FN=100,HN=1,rd={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},GN=xr({getKey:null,doesEleInvalidateKey:fy,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:rx,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qv=function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var i=GN(t);pt(r,i),r.lookup=new DN(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},hr=qv.prototype;hr.reasons=rd;hr.getTextureQueue=function(n){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[n]=e.eleImgCaches[n]||[]};hr.getRetiredTextureQueue=function(n){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},r=t[n]=t[n]||[];return r};hr.getElementQueue=function(){var n=this,e=n.eleCacheQueue=n.eleCacheQueue||new wg(function(t,r){return r.reqs-t.reqs});return e};hr.getElementKeyToQueue=function(){var n=this,e=n.eleKeyToCacheQueue=n.eleKeyToCacheQueue||{};return e};hr.getElement=function(n,e,t,r,i){var o=this,l=this.renderer,c=l.cy.zoom(),h=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!n.visible()||n.removed()||!o.allowEdgeTxrCaching&&n.isEdge()||!o.allowParentTxrCaching&&n.isParent())return null;if(r==null&&(r=Math.ceil(Rb(c*t))),r<ay)r=ay;else if(c>=hT||r>ob)return null;var d=Math.pow(2,r),v=e.h*d,m=e.w*d,b=l.eleTextBiggerThanMin(n,d);if(!this.isVisible(n,b))return null;var E=h.get(n,r);if(E&&E.invalidated&&(E.invalidated=!1,E.texture.invalidatedWidth-=E.width),E)return E;var S;if(v<=kE?S=kE:v<=Vm?S=Vm:S=Math.ceil(v/Vm)*Vm,v>NN||m>BN)return null;var A=o.getTextureQueue(S),T=A[A.length-2],C=function(){return o.recycleTexture(S,m)||o.addTexture(S,m)};T||(T=A[A.length-1]),T||(T=C()),T.width-T.usedWidth<m&&(T=C());for(var R=function(Y){return Y&&Y.scaledLabelShown===b},D=i&&i===rd.dequeue,M=i&&i===rd.highQuality,k=i&&i===rd.downscale,L,_=r+1;_<=ob;_++){var I=h.get(n,_);if(I){L=I;break}}var B=L&&L.level===r+1?L:null,P=function(){T.context.drawImage(B.texture.canvas,B.x,0,B.width,B.height,T.usedWidth,0,m,v)};if(T.context.setTransform(1,0,0,1,0,0),T.context.clearRect(T.usedWidth,0,m,S),R(B))P();else if(R(L))if(M){for(var F=L.level;F>r;F--)B=o.getElement(n,e,t,F,rd.downscale);P()}else return o.queueElement(n,L.level-1),L;else{var H;if(!D&&!M&&!k)for(var X=r-1;X>=ay;X--){var K=h.get(n,X);if(K){H=K;break}}if(R(H))return o.queueElement(n,r),H;T.context.translate(T.usedWidth,0),T.context.scale(d,d),this.drawElement(T.context,n,e,b,!1),T.context.scale(1/d,1/d),T.context.translate(-T.usedWidth,0)}return E={x:T.usedWidth,texture:T,level:r,scale:d,width:m,height:v,scaledLabelShown:b},T.usedWidth+=Math.ceil(m+ON),T.eleCaches.push(E),h.set(n,r,E),o.checkTextureFullness(T),E};hr.invalidateElements=function(n){for(var e=0;e<n.length;e++)this.invalidateElement(n[e])};hr.invalidateElement=function(n){var e=this,t=e.lookup,r=[],i=t.isInvalid(n);if(i){for(var o=ay;o<=ob;o++){var l=t.getForCachedKey(n,o);l&&r.push(l)}var c=t.invalidate(n);if(c)for(var h=0;h<r.length;h++){var d=r[h],v=d.texture;v.invalidatedWidth+=d.width,d.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(n)}};hr.checkTextureUtility=function(n){n.invalidatedWidth>=_N*n.width&&this.retireTexture(n)};hr.checkTextureFullness=function(n){var e=this,t=e.getTextureQueue(n.height);n.usedWidth/n.width>kN&&n.fullnessChecks>=LN?Ll(t,n):n.fullnessChecks++};hr.retireTexture=function(n){var e=this,t=n.height,r=e.getTextureQueue(t),i=this.lookup;Ll(r,n),n.retired=!0;for(var o=n.eleCaches,l=0;l<o.length;l++){var c=o[l];i.deleteCache(c.key,c.level)}Ab(o);var h=e.getRetiredTextureQueue(t);h.push(n)};hr.addTexture=function(n,e){var t=this,r=t.getTextureQueue(n),i={};return r.push(i),i.eleCaches=[],i.height=n,i.width=Math.max(MN,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=t.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};hr.recycleTexture=function(n,e){for(var t=this,r=t.getTextureQueue(n),i=t.getRetiredTextureQueue(n),o=0;o<i.length;o++){var l=i[o];if(l.width>=e)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,Ab(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),Ll(i,l),r.push(l),l}};hr.queueElement=function(n,e){var t=this,r=t.getElementQueue(),i=t.getElementKeyToQueue(),o=this.getKey(n),l=i[o];if(l)l.level=Math.max(l.level,e),l.eles.merge(n),l.reqs++,r.updateItem(l);else{var c={eles:n.spawn().merge(n),level:e,reqs:1,key:o};r.push(c),i[o]=c}};hr.dequeue=function(n){for(var e=this,t=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],o=e.lookup,l=0;l<HN&&t.size()>0;l++){var c=t.pop(),h=c.key,d=c.eles[0],v=o.hasCache(d,c.level);if(r[h]=null,v)continue;i.push(c);var m=e.getBoundingBox(d);e.getElement(d,m,n,c.level,rd.dequeue)}return i};hr.removeFromQueue=function(n){var e=this,t=e.getElementQueue(),r=e.getElementKeyToQueue(),i=this.getKey(n),o=r[i];o!=null&&(o.eles.length===1?(o.reqs=Tb,t.updateItem(o),t.pop(),r[i]=null):o.eles.unmerge(n))};hr.onDequeue=function(n){this.onDequeues.push(n)};hr.offDequeue=function(n){Ll(this.onDequeues,n)};hr.setupDequeueing=dT.setupDequeueing({deqRedrawThreshold:FN,deqCost:zN,deqAvgCost:IN,deqNoDrawCost:PN,deqFastCost:UN,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(t)}},shouldRedraw:function(e,t,r,i){for(var o=0;o<t.length;o++)for(var l=t[o].eles,c=0;c<l.length;c++){var h=l[c].boundingBox();if(Db(h,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var qN=1,Yv=-4,yy=2,VN=3.99,$N=50,YN=50,KN=.15,XN=.1,WN=.9,ZN=.9,QN=1,LE=250,jN=4e3*4e3,zE=32767,JN=!0,vT=function(e){var t=this,r=t.renderer=e,i=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=To()-2*LE,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=bg(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},YN),r.beforeRender(function(l,c){c-t.lastInvalidationTime<=LE?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var o=function(c,h){return h.reqs-c.reqs};t.layersQueue=new wg(o),t.setupDequeueing()},kr=vT.prototype,IE=0,e_=Math.pow(2,53)-1;kr.makeLayer=function(n,e){var t=Math.pow(2,e),r=Math.ceil(n.w*t),i=Math.ceil(n.h*t),o=this.renderer.makeOffscreenCanvas(r,i),l={id:IE=++IE%e_,bb:n,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},c=l.context,h=-l.bb.x1,d=-l.bb.y1;return c.scale(t,t),c.translate(h,d),l};kr.getLayers=function(n,e,t){var r=this,i=r.renderer,o=i.cy,l=o.zoom(),c=r.firstGet;if(r.firstGet=!1,t==null){if(t=Math.ceil(Rb(l*e)),t<Yv)t=Yv;else if(l>=VN||t>yy)return null}r.validateLayersElesOrdering(t,n);var h=r.layersByLevel,d=Math.pow(2,t),v=h[t]=h[t]||[],m,b=r.levelIsComplete(t,n),E,S=function(){var P=function(ee){if(r.validateLayersElesOrdering(ee,n),r.levelIsComplete(ee,n))return E=h[ee],!0},F=function(ee){if(!E)for(var Y=t+ee;Yv<=Y&&Y<=yy&&!P(Y);Y+=ee);};F(1),F(-1);for(var H=v.length-1;H>=0;H--){var X=v[H];X.invalid&&Ll(v,X)}};if(!b)S();else return v;var A=function(){if(!m){m=Ua();for(var P=0;P<n.length;P++)sx(m,n[P].boundingBox())}return m},T=function(P){P=P||{};var F=P.after;A();var H=Math.ceil(m.w*d),X=Math.ceil(m.h*d);if(H>zE||X>zE)return null;var K=H*X;if(K>jN)return null;var ee=r.makeLayer(m,t);if(F!=null){var Y=v.indexOf(F)+1;v.splice(Y,0,ee)}else(P.insert===void 0||P.insert)&&v.unshift(ee);return ee};if(r.skipping&&!c)return null;for(var C=null,R=n.length/qN,D=!c,M=0;M<n.length;M++){var k=n[M],L=k._private.rscratch,_=L.imgLayerCaches=L.imgLayerCaches||{},I=_[t];if(I){C=I;continue}if((!C||C.eles.length>=R||!fx(C.bb,k.boundingBox()))&&(C=T({insert:!0,after:C}),!C))return null;E||D?r.queueLayer(C,k):r.drawEleInLayer(C,k,t,e),C.eles.push(k),_[t]=C}return E||(D?null:v)};kr.getEleLevelForLayerLevel=function(n,e){return n};kr.drawEleInLayer=function(n,e,t,r){var i=this,o=this.renderer,l=n.context,c=e.boundingBox();c.w===0||c.h===0||!e.visible()||(t=i.getEleLevelForLayerLevel(t,r),o.setImgSmoothing(l,!1),o.drawCachedElement(l,e,null,null,t,JN),o.setImgSmoothing(l,!0))};kr.levelIsComplete=function(n,e){var t=this,r=t.layersByLevel[n];if(!r||r.length===0)return!1;for(var i=0,o=0;o<r.length;o++){var l=r[o];if(l.reqs>0||l.invalid)return!1;i+=l.eles.length}return i===e.length};kr.validateLayersElesOrdering=function(n,e){var t=this.layersByLevel[n];if(t)for(var r=0;r<t.length;r++){for(var i=t[r],o=-1,l=0;l<e.length;l++)if(i.eles[0]===e[l]){o=l;break}if(o<0){this.invalidateLayer(i);continue}for(var c=o,l=0;l<i.eles.length;l++)if(i.eles[l]!==e[c+l]){this.invalidateLayer(i);break}}};kr.updateElementsInLayers=function(n,e){for(var t=this,r=mg(n[0]),i=0;i<n.length;i++)for(var o=r?null:n[i],l=r?n[i]:n[i].ele,c=l._private.rscratch,h=c.imgLayerCaches=c.imgLayerCaches||{},d=Yv;d<=yy;d++){var v=h[d];v&&(o&&t.getEleLevelForLayerLevel(v.level)!==o.level||e(v,l,o))}};kr.haveLayers=function(){for(var n=this,e=!1,t=Yv;t<=yy;t++){var r=n.layersByLevel[t];if(r&&r.length>0){e=!0;break}}return e};kr.invalidateElements=function(n){var e=this;n.length!==0&&(e.lastInvalidationTime=To(),!(n.length===0||!e.haveLayers())&&e.updateElementsInLayers(n,function(r,i,o){e.invalidateLayer(r)}))};kr.invalidateLayer=function(n){if(this.lastInvalidationTime=To(),!n.invalid){var e=n.level,t=n.eles,r=this.layersByLevel[e];Ll(r,n),n.elesQueue=[],n.invalid=!0,n.replacement&&(n.replacement.invalid=!0);for(var i=0;i<t.length;i++){var o=t[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};kr.refineElementTextures=function(n){var e=this;e.updateElementsInLayers(n,function(r,i,o){var l=r.replacement;if(l||(l=r.replacement=e.makeLayer(r.bb,r.level),l.replaces=r,l.eles=r.eles),!l.reqs)for(var c=0;c<l.eles.length;c++)e.queueLayer(l,l.eles[c])})};kr.enqueueElementRefinement=function(n){this.eleTxrDeqs.merge(n),this.scheduleElementRefinement()};kr.queueLayer=function(n,e){var t=this,r=t.layersQueue,i=n.elesQueue,o=i.hasId=i.hasId||{};if(!n.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}n.reqs?(n.reqs++,r.updateItem(n)):(n.reqs=1,r.push(n))}};kr.dequeue=function(n){for(var e=this,t=e.layersQueue,r=[],i=0;i<QN&&t.size()!==0;){var o=t.peek();if(o.replacement){t.pop();continue}if(o.replaces&&o!==o.replaces.replacement){t.pop();continue}if(o.invalid){t.pop();continue}var l=o.elesQueue.shift();l&&(e.drawEleInLayer(o,l,o.level,n),i++),r.length===0&&r.push(!0),o.elesQueue.length===0&&(t.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return r};kr.applyLayerReplacement=function(n){var e=this,t=e.layersByLevel[n.level],r=n.replaces,i=t.indexOf(r);if(!(i<0||r.invalid)){t[i]=n;for(var o=0;o<n.eles.length;o++){var l=n.eles[o]._private,c=l.imgLayerCaches=l.imgLayerCaches||{};c&&(c[n.level]=n)}e.requestRedraw()}};kr.requestRedraw=bg(function(){var n=this.renderer;n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},100);kr.setupDequeueing=dT.setupDequeueing({deqRedrawThreshold:$N,deqCost:KN,deqAvgCost:XN,deqNoDrawCost:WN,deqFastCost:ZN,deq:function(e,t){return e.dequeue(t)},onDeqd:Cb,shouldRedraw:rx,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var gT={},PE;function t_(n,e){for(var t=0;t<e.length;t++){var r=e[t];n.lineTo(r.x,r.y)}}function n_(n,e,t){for(var r,i=0;i<e.length;i++){var o=e[i];i===0&&(r=o),n.lineTo(o.x,o.y)}n.quadraticCurveTo(t.x,t.y,r.x,r.y)}function UE(n,e,t){n.beginPath&&n.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];n.lineTo(o.x,o.y)}var l=t,c=t[0];n.moveTo(c.x,c.y);for(var i=1;i<l.length;i++){var o=l[i];n.lineTo(o.x,o.y)}n.closePath&&n.closePath()}function r_(n,e,t,r,i){n.beginPath&&n.beginPath(),n.arc(t,r,i,0,Math.PI*2,!1);var o=e,l=o[0];n.moveTo(l.x,l.y);for(var c=0;c<o.length;c++){var h=o[c];n.lineTo(h.x,h.y)}n.closePath&&n.closePath()}function a_(n,e,t,r){n.arc(e,t,r,0,Math.PI*2,!1)}gT.arrowShapeImpl=function(n){return(PE||(PE={polygon:t_,"triangle-backcurve":n_,"triangle-tee":UE,"circle-triangle":r_,"triangle-cross":UE,circle:a_}))[n]};var Wu={};Wu.drawElement=function(n,e,t,r,i,o){var l=this;e.isNode()?l.drawNode(n,e,t,r,i,o):l.drawEdge(n,e,t,r,i,o)};Wu.drawElementOverlay=function(n,e){var t=this;e.isNode()?t.drawNodeOverlay(n,e):t.drawEdgeOverlay(n,e)};Wu.drawElementUnderlay=function(n,e){var t=this;e.isNode()?t.drawNodeUnderlay(n,e):t.drawEdgeUnderlay(n,e)};Wu.drawCachedElementPortion=function(n,e,t,r,i,o,l,c){var h=this,d=t.getBoundingBox(e);if(!(d.w===0||d.h===0)){var v=t.getElement(e,d,r,i,o);if(v!=null){var m=c(h,e);if(m===0)return;var b=l(h,e),E=d.x1,S=d.y1,A=d.w,T=d.h,C,R,D,M,k;if(b!==0){var L=t.getRotationPoint(e);D=L.x,M=L.y,n.translate(D,M),n.rotate(b),k=h.getImgSmoothing(n),k||h.setImgSmoothing(n,!0);var _=t.getRotationOffset(e);C=_.x,R=_.y}else C=E,R=S;var I;m!==1&&(I=n.globalAlpha,n.globalAlpha=I*m),n.drawImage(v.texture.canvas,v.x,0,v.width,v.height,C,R,A,T),m!==1&&(n.globalAlpha=I),b!==0&&(n.rotate(-b),n.translate(-D,-M),k||h.setImgSmoothing(n,!1))}else t.drawElement(n,e)}};var i_=function(){return 0},u_=function(e,t){return e.getTextAngle(t,null)},o_=function(e,t){return e.getTextAngle(t,"source")},l_=function(e,t){return e.getTextAngle(t,"target")},s_=function(e,t){return t.effectiveOpacity()},C1=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Wu.drawCachedElement=function(n,e,t,r,i,o){var l=this,c=l.data,h=c.eleTxrCache,d=c.lblTxrCache,v=c.slbTxrCache,m=c.tlbTxrCache,b=e.boundingBox(),E=o===!0?h.reasons.highQuality:null;if(!(b.w===0||b.h===0||!e.visible())&&(!r||Db(b,r))){var S=e.isEdge(),A=e.element()._private.rscratch.badLine;l.drawElementUnderlay(n,e),l.drawCachedElementPortion(n,e,h,t,i,E,i_,s_),(!S||!A)&&l.drawCachedElementPortion(n,e,d,t,i,E,u_,C1),S&&!A&&(l.drawCachedElementPortion(n,e,v,t,i,E,o_,C1),l.drawCachedElementPortion(n,e,m,t,i,E,l_,C1)),l.drawElementOverlay(n,e)}};Wu.drawElements=function(n,e){for(var t=this,r=0;r<e.length;r++){var i=e[r];t.drawElement(n,i)}};Wu.drawCachedElements=function(n,e,t,r){for(var i=this,o=0;o<e.length;o++){var l=e[o];i.drawCachedElement(n,l,t,r)}};Wu.drawCachedNodes=function(n,e,t,r){for(var i=this,o=0;o<e.length;o++){var l=e[o];l.isNode()&&i.drawCachedElement(n,l,t,r)}};Wu.drawLayeredElements=function(n,e,t,r){var i=this,o=i.data.lyrTxrCache.getLayers(e,t);if(o)for(var l=0;l<o.length;l++){var c=o[l],h=c.bb;h.w===0||h.h===0||n.drawImage(c.canvas,h.x1,h.y1,h.w,h.h)}else i.drawCachedElements(n,e,t,r)};var Bo={};Bo.drawEdge=function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,c=e._private.rscratch;if(!(o&&!e.visible())&&!(c.badLine||c.allpts==null||isNaN(c.allpts[0]))){var h;t&&(h=t,n.translate(-h.x1,-h.y1));var d=o?e.pstyle("opacity").value:1,v=o?e.pstyle("line-opacity").value:1,m=e.pstyle("curve-style").value,b=e.pstyle("line-style").value,E=e.pstyle("width").pfValue,S=e.pstyle("line-cap").value,A=e.pstyle("line-outline-width").value,T=e.pstyle("line-outline-color").value,C=d*v,R=d*v,D=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;m==="straight-triangle"?(l.eleStrokeStyle(n,e,ee),l.drawEdgeTrianglePath(e,n,c.allpts)):(n.lineWidth=E,n.lineCap=S,l.eleStrokeStyle(n,e,ee),l.drawEdgePath(e,n,c.allpts,b),n.lineCap="butt")},M=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;if(n.lineWidth=E+A,n.lineCap=S,A>0)l.colorStrokeStyle(n,T[0],T[1],T[2],ee);else{n.lineCap="butt";return}m==="straight-triangle"?l.drawEdgeTrianglePath(e,n,c.allpts):(l.drawEdgePath(e,n,c.allpts,b),n.lineCap="butt")},k=function(){i&&l.drawEdgeOverlay(n,e)},L=function(){i&&l.drawEdgeUnderlay(n,e)},_=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;l.drawArrowheads(n,e,ee)},I=function(){l.drawElementText(n,e,null,r)};n.lineJoin="round";var B=e.pstyle("ghost").value==="yes";if(B){var P=e.pstyle("ghost-offset-x").pfValue,F=e.pstyle("ghost-offset-y").pfValue,H=e.pstyle("ghost-opacity").value,X=C*H;n.translate(P,F),D(X),_(X),n.translate(-P,-F)}else M();L(),D(),_(),k(),I(),t&&n.translate(h.x1,h.y1)}};var pT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,l=o.usePaths(),c=r._private.rscratch,h=r.pstyle("".concat(e,"-padding")).pfValue,d=2*h,v=r.pstyle("".concat(e,"-color")).value;t.lineWidth=d,c.edgeType==="self"&&!l?t.lineCap="butt":t.lineCap="round",o.colorStrokeStyle(t,v[0],v[1],v[2],i),o.drawEdgePath(r,t,c.allpts,"solid")}}}};Bo.drawEdgeOverlay=pT("overlay");Bo.drawEdgeUnderlay=pT("underlay");Bo.drawEdgePath=function(n,e,t,r){var i=n._private.rscratch,o=e,l,c=!1,h=this.usePaths(),d=n.pstyle("line-dash-pattern").pfValue,v=n.pstyle("line-dash-offset").pfValue;if(h){var m=t.join("$"),b=i.pathCacheKey&&i.pathCacheKey===m;b?(l=e=i.pathCache,c=!0):(l=e=new Path2D,i.pathCacheKey=m,i.pathCache=l)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(d),o.lineDashOffset=v;break;case"solid":o.setLineDash([]);break}if(!c&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var E=2;E+3<t.length;E+=4)e.quadraticCurveTo(t[E],t[E+1],t[E+2],t[E+3]);break;case"straight":case"haystack":for(var S=2;S+1<t.length;S+=2)e.lineTo(t[S],t[S+1]);break;case"segments":if(i.isRound){var A=li(i.roundCorners),T;try{for(A.s();!(T=A.n()).done;){var C=T.value;aT(e,C)}}catch(D){A.e(D)}finally{A.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var R=2;R+1<t.length;R+=2)e.lineTo(t[R],t[R+1]);break}e=o,h?e.stroke(l):e.stroke(),e.setLineDash&&e.setLineDash([])};Bo.drawEdgeTrianglePath=function(n,e,t){e.fillStyle=e.strokeStyle;for(var r=n.pstyle("width").pfValue,i=0;i+1<t.length;i+=2){var o=[t[i+2]-t[i],t[i+3]-t[i+1]],l=Math.sqrt(o[0]*o[0]+o[1]*o[1]),c=[o[1]/l,-o[0]/l],h=[c[0]*r/2,c[1]*r/2];e.beginPath(),e.moveTo(t[i]-h[0],t[i+1]-h[1]),e.lineTo(t[i]+h[0],t[i+1]+h[1]),e.lineTo(t[i+2],t[i+3]),e.closePath(),e.fill()}};Bo.drawArrowheads=function(n,e,t){var r=e._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(n,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,t),this.drawArrowhead(n,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,t),this.drawArrowhead(n,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,t),i||this.drawArrowhead(n,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,t)};Bo.drawArrowhead=function(n,e,t,r,i,o,l){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(o)||o==null)){var c=this,h=e.pstyle(t+"-arrow-shape").value;if(h!=="none"){var d=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(t+"-arrow-fill").value,m=e.pstyle("width").pfValue,b=e.pstyle(t+"-arrow-width"),E=b.value==="match-line"?m:b.pfValue;b.units==="%"&&(E*=m);var S=e.pstyle("opacity").value;l===void 0&&(l=S);var A=n.globalCompositeOperation;(l!==1||v==="hollow")&&(n.globalCompositeOperation="destination-out",c.colorFillStyle(n,255,255,255,1),c.colorStrokeStyle(n,255,255,255,1),c.drawArrowShape(e,n,d,m,h,E,r,i,o),n.globalCompositeOperation=A);var T=e.pstyle(t+"-arrow-color").value;c.colorFillStyle(n,T[0],T[1],T[2],l),c.colorStrokeStyle(n,T[0],T[1],T[2],l),c.drawArrowShape(e,n,v,m,h,E,r,i,o)}}};Bo.drawArrowShape=function(n,e,t,r,i,o,l,c,h){var d=this,v=this.usePaths()&&i!=="triangle-cross",m=!1,b,E=e,S={x:l,y:c},A=n.pstyle("arrow-scale").value,T=this.getArrowWidth(r,A),C=d.arrowShapes[i];if(v){var R=d.arrowPathCache=d.arrowPathCache||[],D=kl(i),M=R[D];M!=null?(b=e=M,m=!0):(b=e=new Path2D,R[D]=b)}m||(e.beginPath&&e.beginPath(),v?C.draw(e,1,0,{x:0,y:0},1):C.draw(e,T,h,S,r),e.closePath&&e.closePath()),e=E,v&&(e.translate(l,c),e.rotate(h),e.scale(T,T)),(t==="filled"||t==="both")&&(v?e.fill(b):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=o/(v?T:1),e.lineJoin="miter",v?e.stroke(b):e.stroke()),v&&(e.scale(1/T,1/T),e.rotate(-h),e.translate(-l,-c))};var qb={};qb.safeDrawImage=function(n,e,t,r,i,o,l,c,h,d){if(!(i<=0||o<=0||h<=0||d<=0))try{n.drawImage(e,t,r,i,o,l,c,h,d)}catch(v){sn(v)}};qb.drawInscribedImage=function(n,e,t,r,i){var o=this,l=t.position(),c=l.x,h=l.y,d=t.cy().style(),v=d.getIndexedStyle.bind(d),m=v(t,"background-fit","value",r),b=v(t,"background-repeat","value",r),E=t.width(),S=t.height(),A=t.padding()*2,T=E+(v(t,"background-width-relative-to","value",r)==="inner"?0:A),C=S+(v(t,"background-height-relative-to","value",r)==="inner"?0:A),R=t._private.rscratch,D=v(t,"background-clip","value",r),M=D==="node",k=v(t,"background-image-opacity","value",r)*i,L=v(t,"background-image-smoothing","value",r),_=t.pstyle("corner-radius").value;_!=="auto"&&(_=t.pstyle("corner-radius").pfValue);var I=e.width||e.cachedW,B=e.height||e.cachedH;(I==null||B==null)&&(document.body.appendChild(e),I=e.cachedW=e.width||e.offsetWidth,B=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=I,F=B;if(v(t,"background-width","value",r)!=="auto"&&(v(t,"background-width","units",r)==="%"?P=v(t,"background-width","pfValue",r)*T:P=v(t,"background-width","pfValue",r)),v(t,"background-height","value",r)!=="auto"&&(v(t,"background-height","units",r)==="%"?F=v(t,"background-height","pfValue",r)*C:F=v(t,"background-height","pfValue",r)),!(P===0||F===0)){if(m==="contain"){var H=Math.min(T/P,C/F);P*=H,F*=H}else if(m==="cover"){var H=Math.max(T/P,C/F);P*=H,F*=H}var X=c-T/2,K=v(t,"background-position-x","units",r),ee=v(t,"background-position-x","pfValue",r);K==="%"?X+=(T-P)*ee:X+=ee;var Y=v(t,"background-offset-x","units",r),Z=v(t,"background-offset-x","pfValue",r);Y==="%"?X+=(T-P)*Z:X+=Z;var Q=h-C/2,ue=v(t,"background-position-y","units",r),U=v(t,"background-position-y","pfValue",r);ue==="%"?Q+=(C-F)*U:Q+=U;var W=v(t,"background-offset-y","units",r),ne=v(t,"background-offset-y","pfValue",r);W==="%"?Q+=(C-F)*ne:Q+=ne,R.pathCache&&(X-=c,Q-=h,c=0,h=0);var ce=n.globalAlpha;n.globalAlpha=k;var oe=o.getImgSmoothing(n),me=!1;if(L==="no"&&oe?(o.setImgSmoothing(n,!1),me=!0):L==="yes"&&!oe&&(o.setImgSmoothing(n,!0),me=!0),b==="no-repeat")M&&(n.save(),R.pathCache?n.clip(R.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(n,c,h,T,C,_,R),n.clip())),o.safeDrawImage(n,e,0,0,I,B,X,Q,P,F),M&&n.restore();else{var ye=n.createPattern(e,b);n.fillStyle=ye,o.nodeShapes[o.getNodeShape(t)].draw(n,c,h,T,C,_,R),n.translate(X,Q),n.fill(),n.translate(-X,-Q)}n.globalAlpha=ce,me&&o.setImgSmoothing(n,oe)}};var Sf={};Sf.eleTextBiggerThanMin=function(n,e){if(!e){var t=n.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Rb(t*r));e=Math.pow(2,i)}var o=n.pstyle("font-size").pfValue*e,l=n.pstyle("min-zoomed-font-size").pfValue;return!(o<l)};Sf.drawElementText=function(n,e,t,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(r==null){if(o&&!l.eleTextBiggerThanMin(e))return}else if(r===!1)return;if(e.isNode()){var c=e.pstyle("label");if(!c||!c.value)return;var h=l.getLabelJustification(e);n.textAlign=h,n.textBaseline="bottom"}else{var d=e.element()._private.rscratch.badLine,v=e.pstyle("label"),m=e.pstyle("source-label"),b=e.pstyle("target-label");if(d||(!v||!v.value)&&(!m||!m.value)&&(!b||!b.value))return;n.textAlign="center",n.textBaseline="bottom"}var E=!t,S;t&&(S=t,n.translate(-S.x1,-S.y1)),i==null?(l.drawText(n,e,null,E,o),e.isEdge()&&(l.drawText(n,e,"source",E,o),l.drawText(n,e,"target",E,o))):l.drawText(n,e,i,E,o),t&&n.translate(S.x1,S.y1)};Sf.getFontCache=function(n){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===n)return e;return e={context:n},this.fontCaches.push(e),e};Sf.setupTextStyle=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,h=e.pstyle("text-outline-opacity").value*c,d=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;n.font=r+" "+l+" "+i+" "+o,n.lineJoin="round",this.colorFillStyle(n,d[0],d[1],d[2],c),this.colorStrokeStyle(n,v[0],v[1],v[2],h)};function A1(n,e,t,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;n.beginPath(),n.moveTo(e+o,t),n.lineTo(e+r-o,t),n.quadraticCurveTo(e+r,t,e+r,t+o),n.lineTo(e+r,t+i-o),n.quadraticCurveTo(e+r,t+i,e+r-o,t+i),n.lineTo(e+o,t+i),n.quadraticCurveTo(e,t+i,e,t+i-o),n.lineTo(e,t+o),n.quadraticCurveTo(e,t,e+o,t),n.closePath(),l?n.stroke():n.fill()}Sf.getTextAngle=function(n,e){var t,r=n._private,i=r.rscratch,o=e?e+"-":"",l=n.pstyle(o+"text-rotation");if(l.strValue==="autorotate"){var c=su(i,"labelAngle",e);t=n.isEdge()?c:0}else l.strValue==="none"?t=0:t=l.pfValue;return t};Sf.drawText=function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,l=o.rscratch,c=i?e.effectiveOpacity():1;if(!(i&&(c===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var h=su(l,"labelX",t),d=su(l,"labelY",t),v,m,b=this.getLabelText(e,t);if(b!=null&&b!==""&&!isNaN(h)&&!isNaN(d)){this.setupTextStyle(n,e,i);var E=t?t+"-":"",S=su(l,"labelWidth",t),A=su(l,"labelHeight",t),T=e.pstyle(E+"text-margin-x").pfValue,C=e.pstyle(E+"text-margin-y").pfValue,R=e.isEdge(),D=e.pstyle("text-halign").value,M=e.pstyle("text-valign").value;R&&(D="center",M="center"),h+=T,d+=C;var k;switch(r?k=this.getTextAngle(e,t):k=0,k!==0&&(v=h,m=d,n.translate(v,m),n.rotate(k),h=0,d=0),M){case"top":break;case"center":d+=A/2;break;case"bottom":d+=A;break}var L=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,I=e.pstyle("text-border-width").pfValue,B=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,F=P.indexOf("round")===0,H=2;if(L>0||I>0&&_>0){var X=h-B;switch(D){case"left":X-=S;break;case"center":X-=S/2;break}var K=d-A-B,ee=S+2*B,Y=A+2*B;if(L>0){var Z=n.fillStyle,Q=e.pstyle("text-background-color").value;n.fillStyle="rgba("+Q[0]+","+Q[1]+","+Q[2]+","+L*c+")",F?A1(n,X,K,ee,Y,H):n.fillRect(X,K,ee,Y),n.fillStyle=Z}if(I>0&&_>0){var ue=n.strokeStyle,U=n.lineWidth,W=e.pstyle("text-border-color").value,ne=e.pstyle("text-border-style").value;if(n.strokeStyle="rgba("+W[0]+","+W[1]+","+W[2]+","+_*c+")",n.lineWidth=I,n.setLineDash)switch(ne){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"double":n.lineWidth=I/4,n.setLineDash([]);break;case"solid":n.setLineDash([]);break}if(F?A1(n,X,K,ee,Y,H,"stroke"):n.strokeRect(X,K,ee,Y),ne==="double"){var ce=I/2;F?A1(n,X+ce,K+ce,ee-ce*2,Y-ce*2,H,"stroke"):n.strokeRect(X+ce,K+ce,ee-ce*2,Y-ce*2)}n.setLineDash&&n.setLineDash([]),n.lineWidth=U,n.strokeStyle=ue}}var oe=2*e.pstyle("text-outline-width").pfValue;if(oe>0&&(n.lineWidth=oe),e.pstyle("text-wrap").value==="wrap"){var me=su(l,"labelWrapCachedLines",t),ye=su(l,"labelLineHeight",t),Oe=S/2,Te=this.getLabelJustification(e);switch(Te==="auto"||(D==="left"?Te==="left"?h+=-S:Te==="center"&&(h+=-Oe):D==="center"?Te==="left"?h+=-Oe:Te==="right"&&(h+=Oe):D==="right"&&(Te==="center"?h+=Oe:Te==="right"&&(h+=S))),M){case"top":d-=(me.length-1)*ye;break;case"center":case"bottom":d-=(me.length-1)*ye;break}for(var de=0;de<me.length;de++)oe>0&&n.strokeText(me[de],h,d),n.fillText(me[de],h,d),d+=ye}else oe>0&&n.strokeText(b,h,d),n.fillText(b,h,d);k!==0&&(n.rotate(-k),n.translate(-v,-m))}}};var Rd={};Rd.drawNode=function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,c,h,d=e._private,v=d.rscratch,m=e.position();if(!(!Ve(m.x)||!Ve(m.y))&&!(o&&!e.visible())){var b=o?e.effectiveOpacity():1,E=l.usePaths(),S,A=!1,T=e.padding();c=e.width()+2*T,h=e.height()+2*T;var C;t&&(C=t,n.translate(-C.x1,-C.y1));for(var R=e.pstyle("background-image"),D=R.value,M=new Array(D.length),k=new Array(D.length),L=0,_=0;_<D.length;_++){var I=D[_],B=M[_]=I!=null&&I!=="none";if(B){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",_);L++,k[_]=l.getCachedImage(I,P,function(){d.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var F=e.pstyle("background-blacken").value,H=e.pstyle("border-width").pfValue,X=e.pstyle("background-opacity").value*b,K=e.pstyle("border-color").value,ee=e.pstyle("border-style").value,Y=e.pstyle("border-join").value,Z=e.pstyle("border-cap").value,Q=e.pstyle("border-position").value,ue=e.pstyle("border-dash-pattern").pfValue,U=e.pstyle("border-dash-offset").pfValue,W=e.pstyle("border-opacity").value*b,ne=e.pstyle("outline-width").pfValue,ce=e.pstyle("outline-color").value,oe=e.pstyle("outline-style").value,me=e.pstyle("outline-opacity").value*b,ye=e.pstyle("outline-offset").value,Oe=e.pstyle("corner-radius").value;Oe!=="auto"&&(Oe=e.pstyle("corner-radius").pfValue);var Te=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X;l.eleFillStyle(n,e,pe)},de=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;l.colorStrokeStyle(n,K[0],K[1],K[2],pe)},ae=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:me;l.colorStrokeStyle(n,ce[0],ce[1],ce[2],pe)},we=function(pe,Ee,qe,Be){var Fe=l.nodePathCache=l.nodePathCache||[],ot=nx(qe==="polygon"?qe+","+Be.join(","):qe,""+Ee,""+pe,""+Oe),st=Fe[ot],$e,mt=!1;return st!=null?($e=st,mt=!0,v.pathCache=$e):($e=new Path2D,Fe[ot]=v.pathCache=$e),{path:$e,cacheHit:mt}},_e=e.pstyle("shape").strValue,He=e.pstyle("shape-polygon-points").pfValue;if(E){n.translate(m.x,m.y);var Ge=we(c,h,_e,He);S=Ge.path,A=Ge.cacheHit}var Ye=function(){if(!A){var pe=m;E&&(pe={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(S||n,pe.x,pe.y,c,h,Oe,v)}E?n.fill(S):n.fill()},Ct=function(){for(var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,qe=d.backgrounding,Be=0,Fe=0;Fe<k.length;Fe++){var ot=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Fe);if(Ee&&ot==="over"||!Ee&&ot==="inside"){Be++;continue}M[Fe]&&k[Fe].complete&&!k[Fe].error&&(Be++,l.drawInscribedImage(n,k[Fe],e,Fe,pe))}d.backgrounding=Be!==L,qe!==d.backgrounding&&e.updateStyle(!1)},ht=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b;l.hasPie(e)&&(l.drawPie(n,e,Ee),pe&&(E||l.nodeShapes[l.getNodeShape(e)].draw(n,m.x,m.y,c,h,Oe,v)))},Ke=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,Ee=(F>0?F:-F)*pe,qe=F>0?0:255;F!==0&&(l.colorFillStyle(n,qe,qe,qe,Ee),E?n.fill(S):n.fill())},Xe=function(){if(H>0){if(n.lineWidth=H,n.lineCap=Z,n.lineJoin=Y,n.setLineDash)switch(ee){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash(ue),n.lineDashOffset=U;break;case"solid":case"double":n.setLineDash([]);break}if(Q!=="center"){if(n.save(),n.lineWidth*=2,Q==="inside")E?n.clip(S):n.clip();else{var pe=new Path2D;pe.rect(-c/2-H,-h/2-H,c+2*H,h+2*H),pe.addPath(S),n.clip(pe,"evenodd")}E?n.stroke(S):n.stroke(),n.restore()}else E?n.stroke(S):n.stroke();if(ee==="double"){n.lineWidth=H/3;var Ee=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",E?n.stroke(S):n.stroke(),n.globalCompositeOperation=Ee}n.setLineDash&&n.setLineDash([])}},je=function(){if(ne>0){if(n.lineWidth=ne,n.lineCap="butt",n.setLineDash)switch(oe){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"solid":case"double":n.setLineDash([]);break}var pe=m;E&&(pe={x:0,y:0});var Ee=l.getNodeShape(e),qe=H;Q==="inside"&&(qe=0),Q==="outside"&&(qe*=2);var Be=(c+qe+(ne+ye))/c,Fe=(h+qe+(ne+ye))/h,ot=c*Be,st=h*Fe,$e=l.nodeShapes[Ee].points,mt;if(E){var Et=we(ot,st,Ee,$e);mt=Et.path}if(Ee==="ellipse")l.drawEllipsePath(mt||n,pe.x,pe.y,ot,st);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ee)){var dt=0,Yt=0,tn=0;Ee==="round-diamond"?dt=(qe+ye+ne)*1.4:Ee==="round-heptagon"?(dt=(qe+ye+ne)*1.075,tn=-(qe/2+ye+ne)/35):Ee==="round-hexagon"?dt=(qe+ye+ne)*1.12:Ee==="round-pentagon"?(dt=(qe+ye+ne)*1.13,tn=-(qe/2+ye+ne)/15):Ee==="round-tag"?(dt=(qe+ye+ne)*1.12,Yt=(qe/2+ne+ye)*.07):Ee==="round-triangle"&&(dt=(qe+ye+ne)*(Math.PI/2),tn=-(qe+ye/2+ne)/Math.PI),dt!==0&&(Be=(c+dt)/c,ot=c*Be,["round-hexagon","round-tag"].includes(Ee)||(Fe=(h+dt)/h,st=h*Fe)),Oe=Oe==="auto"?hx(ot,st):Oe;for(var zn=ot/2,rr=st/2,vn=Oe+(qe+ne+ye)/2,qn=new Array($e.length/2),Bn=new Array($e.length/2),ar=0;ar<$e.length/2;ar++)qn[ar]={x:pe.x+Yt+zn*$e[ar*2],y:pe.y+tn+rr*$e[ar*2+1]};var Wn,vr,gr,Qr,Lr=qn.length;for(vr=qn[Lr-1],Wn=0;Wn<Lr;Wn++)gr=qn[Wn%Lr],Qr=qn[(Wn+1)%Lr],Bn[Wn]=Hb(vr,gr,Qr,vn),vr=gr,gr=Qr;l.drawRoundPolygonPath(mt||n,pe.x+Yt,pe.y+tn,c*Be,h*Fe,$e,Bn)}else if(["roundrectangle","round-rectangle"].includes(Ee))Oe=Oe==="auto"?gf(ot,st):Oe,l.drawRoundRectanglePath(mt||n,pe.x,pe.y,ot,st,Oe+(qe+ne+ye)/2);else if(["cutrectangle","cut-rectangle"].includes(Ee))Oe=Oe==="auto"?Ob():Oe,l.drawCutRectanglePath(mt||n,pe.x,pe.y,ot,st,null,Oe+(qe+ne+ye)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ee))Oe=Oe==="auto"?gf(ot,st):Oe,l.drawBottomRoundRectanglePath(mt||n,pe.x,pe.y,ot,st,Oe+(qe+ne+ye)/2);else if(Ee==="barrel")l.drawBarrelPath(mt||n,pe.x,pe.y,ot,st);else if(Ee.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ee)){var wa=(qe+ne+ye)/c;$e=cy(dy($e,wa)),l.drawPolygonPath(mt||n,pe.x,pe.y,c,h,$e)}else{var Zn=(qe+ne+ye)/c;$e=cy(dy($e,-Zn)),l.drawPolygonPath(mt||n,pe.x,pe.y,c,h,$e)}if(E?n.stroke(mt):n.stroke(),oe==="double"){n.lineWidth=qe/3;var Vn=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",E?n.stroke(mt):n.stroke(),n.globalCompositeOperation=Vn}n.setLineDash&&n.setLineDash([])}},Ze=function(){i&&l.drawNodeOverlay(n,e,m,c,h)},tt=function(){i&&l.drawNodeUnderlay(n,e,m,c,h)},at=function(){l.drawElementText(n,e,null,r)},nt=e.pstyle("ghost").value==="yes";if(nt){var wt=e.pstyle("ghost-offset-x").pfValue,Ae=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,he=V*b;n.translate(wt,Ae),ae(),je(),Te(V*X),Ye(),Ct(he,!0),de(V*W),Xe(),ht(F!==0||H!==0),Ct(he,!1),Ke(he),n.translate(-wt,-Ae)}E&&n.translate(-m.x,-m.y),tt(),E&&n.translate(m.x,m.y),ae(),je(),Te(),Ye(),Ct(b,!0),de(),Xe(),ht(F!==0||H!==0),Ct(b,!1),Ke(),E&&n.translate(-m.x,-m.y),at(),Ze(),t&&n.translate(C.x1,C.y1)}};var mT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,i,o,l){var c=this;if(r.visible()){var h=r.pstyle("".concat(e,"-padding")).pfValue,d=r.pstyle("".concat(e,"-opacity")).value,v=r.pstyle("".concat(e,"-color")).value,m=r.pstyle("".concat(e,"-shape")).value,b=r.pstyle("".concat(e,"-corner-radius")).value;if(d>0){if(i=i||r.position(),o==null||l==null){var E=r.padding();o=r.width()+2*E,l=r.height()+2*E}c.colorFillStyle(t,v[0],v[1],v[2],d),c.nodeShapes[m].draw(t,i.x,i.y,o+h*2,l+h*2,b),t.fill()}}}};Rd.drawNodeOverlay=mT("overlay");Rd.drawNodeUnderlay=mT("underlay");Rd.hasPie=function(n){return n=n[0],n._private.hasPie};Rd.drawPie=function(n,e,t,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),l=r.x,c=r.y,h=e.width(),d=e.height(),v=Math.min(h,d)/2,m=0,b=this.usePaths();b&&(l=0,c=0),o.units==="%"?v=v*o.pfValue:o.pfValue!==void 0&&(v=o.pfValue/2);for(var E=1;E<=i.pieBackgroundN;E++){var S=e.pstyle("pie-"+E+"-background-size").value,A=e.pstyle("pie-"+E+"-background-color").value,T=e.pstyle("pie-"+E+"-background-opacity").value*t,C=S/100;C+m>1&&(C=1-m);var R=1.5*Math.PI+2*Math.PI*m,D=2*Math.PI*C,M=R+D;S===0||m>=1||m+C>1||(n.beginPath(),n.moveTo(l,c),n.arc(l,c,v,R,M),n.closePath(),this.colorFillStyle(n,A[0],A[1],A[2],T),n.fill(),m+=C)}};var ba={},f_=100;ba.getPixelRatio=function(){var n=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};ba.paintCache=function(n){for(var e=this.paintCaches=this.paintCaches||[],t=!0,r,i=0;i<e.length;i++)if(r=e[i],r.context===n){t=!1;break}return t&&(r={context:n},e.push(r)),r};ba.createGradientStyleFor=function(n,e,t,r,i){var o,l=this.usePaths(),c=t.pstyle(e+"-gradient-stop-colors").value,h=t.pstyle(e+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(t.isEdge()){var d=t.sourceEndpoint(),v=t.targetEndpoint(),m=t.midpoint(),b=vf(d,m),E=vf(v,m);o=n.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(b,E))}else{var S=l?{x:0,y:0}:t.position(),A=t.paddedWidth(),T=t.paddedHeight();o=n.createRadialGradient(S.x,S.y,0,S.x,S.y,Math.max(A,T))}else if(t.isEdge()){var C=t.sourceEndpoint(),R=t.targetEndpoint();o=n.createLinearGradient(C.x,C.y,R.x,R.y)}else{var D=l?{x:0,y:0}:t.position(),M=t.paddedWidth(),k=t.paddedHeight(),L=M/2,_=k/2,I=t.pstyle("background-gradient-direction").value;switch(I){case"to-bottom":o=n.createLinearGradient(D.x,D.y-_,D.x,D.y+_);break;case"to-top":o=n.createLinearGradient(D.x,D.y+_,D.x,D.y-_);break;case"to-left":o=n.createLinearGradient(D.x+L,D.y,D.x-L,D.y);break;case"to-right":o=n.createLinearGradient(D.x-L,D.y,D.x+L,D.y);break;case"to-bottom-right":case"to-right-bottom":o=n.createLinearGradient(D.x-L,D.y-_,D.x+L,D.y+_);break;case"to-top-right":case"to-right-top":o=n.createLinearGradient(D.x-L,D.y+_,D.x+L,D.y-_);break;case"to-bottom-left":case"to-left-bottom":o=n.createLinearGradient(D.x+L,D.y-_,D.x-L,D.y+_);break;case"to-top-left":case"to-left-top":o=n.createLinearGradient(D.x+L,D.y+_,D.x-L,D.y-_);break}}if(!o)return null;for(var B=h.length===c.length,P=c.length,F=0;F<P;F++)o.addColorStop(B?h[F]:F/(P-1),"rgba("+c[F][0]+","+c[F][1]+","+c[F][2]+","+i+")");return o};ba.gradientFillStyle=function(n,e,t,r){var i=this.createGradientStyleFor(n,"background",e,t,r);if(!i)return null;n.fillStyle=i};ba.colorFillStyle=function(n,e,t,r,i){n.fillStyle="rgba("+e+","+t+","+r+","+i+")"};ba.eleFillStyle=function(n,e,t){var r=e.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(n,e,r,t);else{var i=e.pstyle("background-color").value;this.colorFillStyle(n,i[0],i[1],i[2],t)}};ba.gradientStrokeStyle=function(n,e,t,r){var i=this.createGradientStyleFor(n,"line",e,t,r);if(!i)return null;n.strokeStyle=i};ba.colorStrokeStyle=function(n,e,t,r,i){n.strokeStyle="rgba("+e+","+t+","+r+","+i+")"};ba.eleStrokeStyle=function(n,e,t){var r=e.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(n,e,r,t);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(n,i[0],i[1],i[2],t)}};ba.matchCanvasSize=function(n){var e=this,t=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],l=e.getPixelRatio(),c=e.motionBlurPxRatio;(n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(l=c);var h=i*l,d=o*l,v;if(!(h===e.canvasWidth&&d===e.canvasHeight)){e.fontCaches=null;var m=t.canvasContainer;m.style.width=i+"px",m.style.height=o+"px";for(var b=0;b<e.CANVAS_LAYERS;b++)v=t.canvases[b],v.width=h,v.height=d,v.style.width=i+"px",v.style.height=o+"px";for(var b=0;b<e.BUFFER_COUNT;b++)v=t.bufferCanvases[b],v.width=h,v.height=d,v.style.width=i+"px",v.style.height=o+"px";e.textureMult=1,l<=1&&(v=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=h*e.textureMult,v.height=d*e.textureMult),e.canvasWidth=h,e.canvasHeight=d,e.pixelRatio=l}};ba.renderTo=function(n,e,t,r){this.render({forcedContext:n,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:r})};ba.clearCanvas=function(){var n=this,e=n.data;function t(r){r.clearRect(0,0,n.canvasWidth,n.canvasHeight)}t(e.contexts[n.NODE]),t(e.contexts[n.DRAG])};ba.render=function(n){var e=this;n=n||ux();var t=e.cy,r=n.forcedContext,i=n.drawAllLayers,o=n.drawOnlyNodeLayer,l=n.forcedZoom,c=n.forcedPan,h=n.forcedPxRatio===void 0?this.getPixelRatio():n.forcedPxRatio,d=e.data,v=d.canvasNeedsRedraw,m=e.textureOnViewport&&!r&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),b=n.motionBlur!==void 0?n.motionBlur:e.motionBlur,E=e.motionBlurPxRatio,S=t.hasCompoundNodes(),A=e.hoverData.draggingEles,T=!!(e.hoverData.selecting||e.touchData.selecting);b=b&&!r&&e.motionBlurEnabled&&!T;var C=b;r||(e.prevPxRatio!==h&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=h),!r&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),b&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(C=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!m&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var R=t.style(),D=t.zoom(),M=l!==void 0?l:D,k=t.pan(),L={x:k.x,y:k.y},_={zoom:D,pan:{x:k.x,y:k.y}},I=e.prevViewport,B=I===void 0||_.zoom!==I.zoom||_.pan.x!==I.pan.x||_.pan.y!==I.pan.y;!B&&!(A&&!S)&&(e.motionBlurPxRatio=1),c&&(L=c),M*=h,L.x*=h,L.y*=h;var P=e.getCachedZSortedEles();function F(de,ae,we,_e,He){var Ge=de.globalCompositeOperation;de.globalCompositeOperation="destination-out",e.colorFillStyle(de,255,255,255,e.motionBlurTransparency),de.fillRect(ae,we,_e,He),de.globalCompositeOperation=Ge}function H(de,ae){var we,_e,He,Ge;!e.clearingMotionBlur&&(de===d.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||de===d.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(we={x:k.x*E,y:k.y*E},_e=D*E,He=e.canvasWidth*E,Ge=e.canvasHeight*E):(we=L,_e=M,He=e.canvasWidth,Ge=e.canvasHeight),de.setTransform(1,0,0,1,0,0),ae==="motionBlur"?F(de,0,0,He,Ge):!r&&(ae===void 0||ae)&&de.clearRect(0,0,He,Ge),i||(de.translate(we.x,we.y),de.scale(_e,_e)),c&&de.translate(c.x,c.y),l&&de.scale(l,l)}if(m||(e.textureDrawLastFrame=!1),m){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var X=e.data.bufferContexts[e.TEXTURE_BUFFER];X.setTransform(1,0,0,1,0,0),X.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:X,drawOnlyNodeLayer:!0,forcedPxRatio:h*e.textureMult});var _=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};_.mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var K=d.contexts[e.NODE],ee=e.textureCache.texture,_=e.textureCache.viewport;K.setTransform(1,0,0,1,0,0),b?F(K,0,0,_.width,_.height):K.clearRect(0,0,_.width,_.height);var Y=R.core("outside-texture-bg-color").value,Z=R.core("outside-texture-bg-opacity").value;e.colorFillStyle(K,Y[0],Y[1],Y[2],Z),K.fillRect(0,0,_.width,_.height);var D=t.zoom();H(K,!1),K.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/h,_.height/_.zoom/h),K.drawImage(ee,_.mpan.x,_.mpan.y,_.width/_.zoom/h,_.height/_.zoom/h)}else e.textureOnViewport&&!r&&(e.textureCache=null);var Q=t.extent(),ue=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),U=e.hideEdgesOnViewport&&ue,W=[];if(W[e.NODE]=!v[e.NODE]&&b&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,W[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),W[e.DRAG]=!v[e.DRAG]&&b&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,W[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||i||o||W[e.NODE]){var ne=b&&!W[e.NODE]&&E!==1,K=r||(ne?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:d.contexts[e.NODE]),ce=b&&!ne?"motionBlur":void 0;H(K,ce),U?e.drawCachedNodes(K,P.nondrag,h,Q):e.drawLayeredElements(K,P.nondrag,h,Q),e.debug&&e.drawDebugPoints(K,P.nondrag),!i&&!b&&(v[e.NODE]=!1)}if(!o&&(v[e.DRAG]||i||W[e.DRAG])){var ne=b&&!W[e.DRAG]&&E!==1,K=r||(ne?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:d.contexts[e.DRAG]);H(K,b&&!ne?"motionBlur":void 0),U?e.drawCachedNodes(K,P.drag,h,Q):e.drawCachedElements(K,P.drag,h,Q),e.debug&&e.drawDebugPoints(K,P.drag),!i&&!b&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(n,H),b&&E!==1){var oe=d.contexts[e.NODE],me=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],ye=d.contexts[e.DRAG],Oe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Te=function(ae,we,_e){ae.setTransform(1,0,0,1,0,0),_e||!C?ae.clearRect(0,0,e.canvasWidth,e.canvasHeight):F(ae,0,0,e.canvasWidth,e.canvasHeight);var He=E;ae.drawImage(we,0,0,e.canvasWidth*He,e.canvasHeight*He,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||W[e.NODE])&&(Te(oe,me,W[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||W[e.DRAG])&&(Te(ye,Oe,W[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=_,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),b&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!m,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},f_)),r||t.emit("render")};var _v;ba.drawSelectionRectangle=function(n,e){var t=this,r=t.cy,i=t.data,o=r.style(),l=n.drawOnlyNodeLayer,c=n.drawAllLayers,h=i.canvasNeedsRedraw,d=n.forcedContext;if(t.showFps||!l&&h[t.SELECT_BOX]&&!c){var v=d||i.contexts[t.SELECT_BOX];if(e(v),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var m=t.cy.zoom(),b=o.core("selection-box-border-width").value/m;v.lineWidth=b,v.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",v.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),b>0&&(v.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",v.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(i.bgActivePosistion&&!t.hoverData.selecting){var m=t.cy.zoom(),E=i.bgActivePosistion;v.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",v.beginPath(),v.arc(E.x,E.y,o.core("active-bg-size").pfValue/m,0,2*Math.PI),v.fill()}var S=t.lastRedrawTime;if(t.showFps&&S){S=Math.round(S);var A=Math.round(1e3/S),T="1 frame = "+S+" ms = "+A+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!_v){var C=v.measureText(T);_v=C.actualBoundingBoxAscent}v.fillText(T,0,_v);var R=60;v.strokeRect(0,_v+10,250,20),v.fillRect(0,_v+10,250*Math.min(A/R,1),20)}c||(h[t.SELECT_BOX]=!1)}};function FE(n,e,t){var r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(r));return r}function c_(n,e,t){var r=FE(n,n.VERTEX_SHADER,e),i=FE(n,n.FRAGMENT_SHADER,t),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function d_(n,e,t){t===void 0&&(t=e);var r=n.makeOffscreenCanvas(e,t),i=r.context=r.getContext("2d");return r.clear=function(){return i.clearRect(0,0,r.width,r.height)},r.clear(),r}function Vb(n){var e=n.pixelRatio,t=n.cy.zoom(),r=n.cy.pan();return{zoom:t*e,pan:{x:r.x*e,y:r.y*e}}}function h_(n,e,t,r,i){var o=r*t+e.x,l=i*t+e.y;return l=Math.round(n.canvasHeight-l),[o,l]}function $m(n,e,t){var r=n[0]/255,i=n[1]/255,o=n[2]/255,l=e,c=t||new Array(4);return c[0]=r*l,c[1]=i*l,c[2]=o*l,c[3]=l,c}function Ym(n,e){var t=e||new Array(4);return t[0]=(n>>0&255)/255,t[1]=(n>>8&255)/255,t[2]=(n>>16&255)/255,t[3]=(n>>24&255)/255,t}function v_(n){return n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24)}function g_(n,e){var t=n.createTexture();return t.buffer=function(r){n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.generateMipmap(n.TEXTURE_2D),n.bindTexture(n.TEXTURE_2D,null)},t.deleteTexture=function(){n.deleteTexture(t)},t}function yT(n,e){switch(e){case"float":return[1,n.FLOAT,4];case"vec2":return[2,n.FLOAT,4];case"vec3":return[3,n.FLOAT,4];case"vec4":return[4,n.FLOAT,4];case"int":return[1,n.INT,4];case"ivec2":return[2,n.INT,4]}}function bT(n,e,t){switch(e){case n.FLOAT:return new Float32Array(t);case n.INT:return new Int32Array(t)}}function p_(n,e,t,r,i,o){switch(e){case n.FLOAT:return new Float32Array(t.buffer,o*r,i);case n.INT:return new Int32Array(t.buffer,o*r,i)}}function m_(n,e,t,r){var i=yT(n,e),o=Sr(i,2),l=o[0],c=o[1],h=bT(n,c,r),d=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,d),n.bufferData(n.ARRAY_BUFFER,h,n.STATIC_DRAW),c===n.FLOAT?n.vertexAttribPointer(t,l,c,!1,0,0):c===n.INT&&n.vertexAttribIPointer(t,l,c,0,0),n.enableVertexAttribArray(t),n.bindBuffer(n.ARRAY_BUFFER,null),d}function oi(n,e,t,r){var i=yT(n,t),o=Sr(i,3),l=o[0],c=o[1],h=o[2],d=bT(n,c,e*l),v=l*h,m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.bufferData(n.ARRAY_BUFFER,e*v,n.DYNAMIC_DRAW),n.enableVertexAttribArray(r),c===n.FLOAT?n.vertexAttribPointer(r,l,c,!1,v,0):c===n.INT&&n.vertexAttribIPointer(r,l,c,v,0),n.vertexAttribDivisor(r,1),n.bindBuffer(n.ARRAY_BUFFER,null);for(var b=new Array(e),E=0;E<e;E++)b[E]=p_(n,c,d,v,l,E);return m.dataArray=d,m.stride=v,m.size=l,m.getView=function(S){return b[S]},m.setPoint=function(S,A,T){var C=b[S];C[0]=A,C[1]=T},m.bufferSubData=function(S){n.bindBuffer(n.ARRAY_BUFFER,m),S?n.bufferSubData(n.ARRAY_BUFFER,0,d,0,S*l):n.bufferSubData(n.ARRAY_BUFFER,0,d)},m}function y_(n){var e=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,e);var t=n.createTexture();return n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.bindFramebuffer(n.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(r,i){n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r,i,0,n.RGBA,n.UNSIGNED_BYTE,null)},e}var HE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function Kv(){var n=new HE(9);return HE!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function wT(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function b_(n,e,t){var r=e[0],i=e[1],o=e[2],l=e[3],c=e[4],h=e[5],d=e[6],v=e[7],m=e[8],b=t[0],E=t[1],S=t[2],A=t[3],T=t[4],C=t[5],R=t[6],D=t[7],M=t[8];return n[0]=b*r+E*l+S*d,n[1]=b*i+E*c+S*v,n[2]=b*o+E*h+S*m,n[3]=A*r+T*l+C*d,n[4]=A*i+T*c+C*v,n[5]=A*o+T*h+C*m,n[6]=R*r+D*l+M*d,n[7]=R*i+D*c+M*v,n[8]=R*o+D*h+M*m,n}function by(n,e,t){var r=e[0],i=e[1],o=e[2],l=e[3],c=e[4],h=e[5],d=e[6],v=e[7],m=e[8],b=t[0],E=t[1];return n[0]=r,n[1]=i,n[2]=o,n[3]=l,n[4]=c,n[5]=h,n[6]=b*r+E*l+d,n[7]=b*i+E*c+v,n[8]=b*o+E*h+m,n}function ET(n,e,t){var r=e[0],i=e[1],o=e[2],l=e[3],c=e[4],h=e[5],d=e[6],v=e[7],m=e[8],b=Math.sin(t),E=Math.cos(t);return n[0]=E*r+b*l,n[1]=E*i+b*c,n[2]=E*o+b*h,n[3]=E*l-b*r,n[4]=E*c-b*i,n[5]=E*h-b*o,n[6]=d,n[7]=v,n[8]=m,n}function $b(n,e,t){var r=t[0],i=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=i*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function w_(n,e,t){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/t,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}var Xv={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},kv=xr({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),E_=function(){function n(e,t){Fl(this,n),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=t.webglTexSize,this.rows=t.webglTexRows,this.enableWrapping=t.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=t.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=t.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return Hl(n,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var r=t.w,i=t.h,o=this.texHeight,l=this.maxTexWidth,c=o/i,h=r*c,d=i*c;return h>l&&(c=l/r,h=r*c,d=i*c),{scale:c,texW:h,texH:d}}},{key:"draw",value:function(t,r,i){var o=this,l=this.atlasSize,c=this.rows,h=this.texHeight,d=this.getScale(r),v=d.scale,m=d.texW,b=d.texH,E=[null,null],S=function(D,M){if(i&&M){var k=M.context,L=D.x,_=D.row,I=L,B=h*_;k.save(),k.translate(I,B),k.scale(v,v),i(k,r),k.restore()}},A=function(){S(o.freePointer,o.canvas),E[0]={x:o.freePointer.x,y:o.freePointer.row*h,w:m,h:b},E[1]={x:o.freePointer.x+m,y:o.freePointer.row*h,w:0,h:b},o.freePointer.x+=m,o.freePointer.x==l&&(o.freePointer.x=0,o.freePointer.row++)},T=function(){var D=o.scratch,M=o.canvas;D.clear(),S({x:0,row:0},D);var k=l-o.freePointer.x,L=m-k,_=h;{var I=o.freePointer.x,B=o.freePointer.row*h,P=k;M.context.drawImage(D,0,0,P,_,I,B,P,_),E[0]={x:I,y:B,w:P,h:b}}{var F=k,H=(o.freePointer.row+1)*h,X=L;M&&M.context.drawImage(D,F,0,X,_,0,H,X,_),E[1]={x:0,y:H,w:X,h:b}}o.freePointer.x=L,o.freePointer.row++},C=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+m<=l)A();else{if(this.freePointer.row>=c-1)return!1;this.freePointer.x===l?(C(),A()):this.enableWrapping?T():(C(),A())}return this.keyToLocation.set(t,E),this.needsBuffer=!0,E}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){var r=this.atlasSize,i=this.rows,o=this.getScale(t),l=o.texW;return this.freePointer.x+l>r?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=g_(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),n}(),S_=function(){function n(e,t){Fl(this,n),this.r=e,this.opts=t,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return Hl(n,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(t){var r=this.keyToIds.get(t);return r||(r=new Set,this.keyToIds.set(t,r)),r}},{key:"_createAtlas",value:function(){var t=this.r,r=this.opts;return new E_(t,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,r=this.opts,i=r.webglTexSize,o=Math.floor(i/r.webglTexRows);this.scratch=r.createTextureCanvas(t,i,o,"scratch")}return this.scratch}},{key:"draw",value:function(t,r,i,o){if(this.styleKeyNeedsRedraw.has(r)){this.styleKeyNeedsRedraw.delete(r),this.deleteKey(t,r);var l=this.styleKeyToAtlas.get(r);l&&(l.forceGC=!0),this.styleKeyToAtlas.delete(r)}var c=this.styleKeyToAtlas.get(r);return c||(c=this.atlases[this.atlases.length-1],(!c||!c.canFit(i))&&(c=this._createAtlas(),this.atlases.push(c)),c.draw(r,i,o),this.styleKeyToAtlas.set(r,c),this.getIdsFor(r).add(t),this.idToKey.set(t,r)),c}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"deleteKey",value:function(t,r){this.idToKey.delete(t),this.getIdsFor(r).delete(t)}},{key:"checkKeyIsInvalid",value:function(t,r){if(!this.idToKey.has(t))return!1;var i=this.idToKey.get(t);return i!=r?(this.deleteKey(t,i),!0):!1}},{key:"_getKeysToCollect",value:function(){var t=new Set,r=li(this.styleKeyToAtlas.keys()),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;this.getIdsFor(o).size==0&&t.add(o)}}catch(l){r.e(l)}finally{r.f()}return t}},{key:"gc",value:function(){var t=this,r=this.atlases.some(function(b){return b.forceGC}),i=this._getKeysToCollect();if(i.size===0&&!r){console.log("nothing to garbage collect");return}var o=[],l=new Map,c=null,h=li(this.atlases),d;try{var v=function(){var E=d.value,S=E.getKeys(),A=x_(i,S);if(A.size===0&&!E.forceGC)return o.push(E),S.forEach(function(_){return l.set(_,E)}),"continue";c||(c=t._createAtlas(),o.push(c));var T=li(S),C;try{for(T.s();!(C=T.n()).done;){var R=C.value;if(!A.has(R)){var D=E.getOffsets(R),M=Sr(D,2),k=M[0],L=M[1];c.canFit({w:k.w+L.w,h:k.h})||(c=t._createAtlas(),o.push(c)),t._copyTextureToNewAtlas(R,E,c),l.set(R,c)}}}catch(_){T.e(_)}finally{T.f()}};for(h.s();!(d=h.n()).done;)var m=v()}catch(b){h.e(b)}finally{h.f()}this.atlases=o,this.styleKeyToAtlas=l}},{key:"_copyTextureToNewAtlas",value:function(t,r,i){var o=r.getOffsets(t),l=Sr(o,2),c=l[0],h=l[1];if(h.w===0)i.draw(t,c,function(b){b.drawImage(r.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h)});else{var d=this._getScratchCanvas();d.clear(),d.context.drawImage(r.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h),d.context.drawImage(r.canvas,h.x,h.y,h.w,h.h,c.w,0,h.w,h.h);var v=c.w+h.w,m=c.h;i.draw(t,{w:v,h:m},function(b){b.drawImage(d,0,0,v,m,0,0,v,m)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),n}();function x_(n,e){return n.intersection?n.intersection(e):new Set(GS(n).filter(function(t){return e.has(t)}))}var T_=function(){function n(e,t){Fl(this,n),this.r=e;var r=t;this.globalOptions=r,this.maxAtlases=r.webglTexPerBatch,this.atlasSize=r.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(r)}return Hl(n,[{key:"_cacheScratchCanvas",value:function(t){var r=-1,i=-1,o=null,l=t.createTextureCanvas;t.createTextureCanvas=function(c,h,d,v){return v?((!o||h!=r||d!=i)&&(r=h,i=d,o=l(c,h,d)),o):l(c,h,d)}}},{key:"addRenderType",value:function(t,r){var i=new S_(this.r,this.globalOptions),o=r;this.renderTypes.set(t,pt({type:t,atlasCollection:i},o))}},{key:"getRenderTypes",value:function(){return GS(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"invalidate",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.forceRedraw,o=i===void 0?!1:i,l=r.filterEle,c=l===void 0?function(){return!0}:l,h=r.filterType,d=h===void 0?function(){return!0}:h,v=!1,m=li(t),b;try{for(m.s();!(b=m.n()).done;){var E=b.value;if(c(E)){var S=E.id(),A=li(this.getRenderTypes()),T;try{for(A.s();!(T=A.n()).done;){var C=T.value;if(d(C.type)){var R=C.getKey(E);o?(C.atlasCollection.deleteKey(S,R),C.atlasCollection.styleKeyNeedsRedraw.add(R),v=!0):v|=C.atlasCollection.checkKeyIsInvalid(S,R)}}}catch(D){A.e(D)}finally{A.f()}}}}catch(D){m.e(D)}finally{m.f()}return v}},{key:"gc",value:function(){var t=li(this.getRenderTypes()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;i.atlasCollection.gc()}}catch(o){t.e(o)}finally{t.f()}}},{key:"isRenderable",value:function(t,r){var i=this.getRenderTypeOpts(r);return i&&i.isVisible(t)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(t,r,i){var o=this.renderTypes.get(i),l=o.getKey(t),c=t.id();return o.atlasCollection.draw(c,l,r,function(h){o.drawElement(h,t,r,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(t){var r=this.batchAtlases.indexOf(t);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(t),r=this.batchAtlases.length-1}return r}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(t,r){return r})}},{key:"getAtlasInfo",value:function(t,r){var i=this.renderTypes.get(r),o=i.getBoundingBox(t),l=this.getOrCreateAtlas(t,o,r),c=this.getAtlasIndexForBatch(l);if(c!==void 0){var h=i.getKey(t),d=l.getOffsets(h),v=Sr(d,2),m=v[0],b=v[1];return{atlasID:c,tex:m,tex1:m,tex2:b,bb:o,type:r,styleKey:h}}}},{key:"canAddToCurrentBatch",value:function(t,r){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var i=this.renderTypes.get(r),o=i.getKey(t),l=i.atlasCollection.getAtlas(o);return l&&this.batchAtlases.includes(l)}return!0}},{key:"setTransformMatrix",value:function(t,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=r.bb,c=r.type,h=r.tex1,d=r.tex2,v=this.getRenderTypeOpts(c),m=v.getPadding?v.getPadding(i):0,b=h.w/(h.w+d.w);o||(b=1-b);var E=this.getAdjustedBB(l,m,o,b),S,A;wT(t);var T=v.getRotation?v.getRotation(i):0;if(T!==0){var C=v.getRotationPoint(i),R=C.x,D=C.y;by(t,t,[R,D]),ET(t,t,T);var M=v.getRotationOffset(i);S=M.x+E.xOffset,A=M.y}else S=E.x1,A=E.y1;by(t,t,[S,A]),$b(t,t,[E.w,E.h])}},{key:"getTransformMatrix",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Kv();return this.setTransformMatrix(o,t,r,i),o}},{key:"getAdjustedBB",value:function(t,r,i,o){var l=t.x1,c=t.y1,h=t.w,d=t.h;r&&(l-=r,c-=r,h+=2*r,d+=2*r);var v=0,m=h*o;return i&&o<1?h=m:!i&&o<1&&(v=h-m,l+=v,h=m),{x1:l,y1:c,w:h,h:d,xOffset:v}}},{key:"getDebugInfo",value:function(){var t=[],r=li(this.renderTypes),i;try{for(r.s();!(i=r.n()).done;){var o=Sr(i.value,2),l=o[0],c=o[1],h=c.atlasCollection.getCounts(),d=h.keyCount,v=h.atlasCount;t.push({type:l,keyCount:d,atlasCount:v})}}catch(m){r.e(m)}finally{r.f()}return t}}]),n}(),R1=0,GE=1,qE=2,D1=3,C_=function(){function n(e,t,r){Fl(this,n),this.r=e,this.gl=t,this.maxInstances=r.webglBatchSize,this.maxAtlases=r.webglTexPerBatch,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,r.enableWrapping=!0,r.createTextureCanvas=d_,this.atlasManager=new T_(e,r),this.program=this.createShaderProgram(Xv.SCREEN),this.pickingProgram=this.createShaderProgram(Xv.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return Hl(n,[{key:"addTextureRenderType",value:function(t,r){this.atlasManager.addRenderType(t,r)}},{key:"invalidate",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,o=this.atlasManager;return i?o.invalidate(t,{filterType:function(c){return c===i},forceRedraw:!0}):o.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(t){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(R1,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(GE,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(qE,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(D1,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),o=this.atlasManager.getIndexArray(),l=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(o.map(function(d){return"uniform sampler2D uTexture".concat(d,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(R1,`) {
          `).concat(o.map(function(d){return"if(vAtlasId == ".concat(d,") outColor = texture(uTexture").concat(d,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(D1,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),c=c_(r,i,l);c.aPosition=r.getAttribLocation(c,"aPosition"),c.aIndex=r.getAttribLocation(c,"aIndex"),c.aVertType=r.getAttribLocation(c,"aVertType"),c.aAtlasId=r.getAttribLocation(c,"aAtlasId"),c.aTex1=r.getAttribLocation(c,"aTex1"),c.aTex2=r.getAttribLocation(c,"aTex2"),c.aScaleRotate1=r.getAttribLocation(c,"aScaleRotate1"),c.aTranslate1=r.getAttribLocation(c,"aTranslate1"),c.aScaleRotate2=r.getAttribLocation(c,"aScaleRotate2"),c.aTranslate2=r.getAttribLocation(c,"aTranslate2"),c.aPointAPointB=r.getAttribLocation(c,"aPointAPointB"),c.aPointCPointD=r.getAttribLocation(c,"aPointCPointD"),c.aLineWidth=r.getAttribLocation(c,"aLineWidth"),c.aEdgeColor=r.getAttribLocation(c,"aEdgeColor"),c.uPanZoomMatrix=r.getUniformLocation(c,"uPanZoomMatrix"),c.uAtlasSize=r.getUniformLocation(c,"uAtlasSize"),c.uBGColor=r.getUniformLocation(c,"uBGColor"),c.uTextures=[];for(var h=0;h<this.atlasManager.maxAtlases;h++)c.uTextures.push(r.getUniformLocation(c,"uTexture".concat(h)));return c}},{key:"createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1],r=[].concat(t,t);this.vertexCount=r.length/2;var i=this.maxInstances,o=this.gl,l=this.program,c=o.createVertexArray();return o.bindVertexArray(c),m_(o,"vec2",l.aPosition,r),this.indexBuffer=oi(o,i,"vec4",l.aIndex),this.vertTypeBuffer=oi(o,i,"int",l.aVertType),this.atlasIdBuffer=oi(o,i,"int",l.aAtlasId),this.tex1Buffer=oi(o,i,"vec4",l.aTex1),this.tex2Buffer=oi(o,i,"vec4",l.aTex2),this.scaleRotate1Buffer=oi(o,i,"vec4",l.aScaleRotate1),this.translate1Buffer=oi(o,i,"vec2",l.aTranslate1),this.scaleRotate2Buffer=oi(o,i,"vec4",l.aScaleRotate2),this.translate2Buffer=oi(o,i,"vec2",l.aTranslate2),this.pointAPointBBuffer=oi(o,i,"vec4",l.aPointAPointB),this.pointCPointDBuffer=oi(o,i,"vec4",l.aPointCPointD),this.lineWidthBuffer=oi(o,i,"float",l.aLineWidth),this.edgeColorBuffer=oi(o,i,"vec4",l.aEdgeColor),o.bindVertexArray(null),c}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return r.endsWith("Buffer")}).map(function(r){return t[r]})),this._buffers}},{key:"startFrame",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xv.SCREEN;this.panZoomMatrix=t,this.debugInfo=r,this.renderTarget=i,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||Kv()}},{key:"drawTexture",value:function(t,r,i){var o=this.atlasManager;if(o.isRenderable(t,i)){o.canAddToCurrentBatch(t,i)||this.endBatch();var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=R1;var c=this.indexBuffer.getView(l);Ym(r,c);var h=o.getAtlasInfo(t,i,h),d=h.atlasID,v=h.tex1,m=h.tex2,b=this.atlasIdBuffer.getView(l);b[0]=d;var E=this.tex1Buffer.getView(l);E[0]=v.x,E[1]=v.y,E[2]=v.w,E[3]=v.h;var S=this.tex2Buffer.getView(l);S[0]=m.x,S[1]=m.y,S[2]=m.w,S[3]=m.h;for(var A=this.getTempMatrix(),T=0,C=[1,2];T<C.length;T++){var R=C[T];o.setTransformMatrix(A,h,t,R===1);var D=this["scaleRotate".concat(R,"Buffer")].getView(l);D[0]=A[0],D[1]=A[1],D[2]=A[3],D[3]=A[4];var M=this["translate".concat(R,"Buffer")].getView(l);M[0]=A[6],M[1]=A[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(t,r,i){var o=t._private.rscratch,l,c,h;if(i==="source"?(l=o.arrowStartX,c=o.arrowStartY,h=o.srcArrowAngle):(l=o.arrowEndX,c=o.arrowEndY,h=o.tgtArrowAngle),!(isNaN(l)||l==null||isNaN(c)||c==null||isNaN(h)||h==null)){var d=t.pstyle(i+"-arrow-shape").value;if(d!=="none"){var v=t.pstyle(i+"-arrow-color").value,m=t.pstyle("opacity").value,b=t.pstyle("line-opacity").value,E=m*b,S=t.pstyle("width").pfValue,A=t.pstyle("arrow-scale").value,T=this.r.getArrowWidth(S,A),C=this.getTempMatrix();wT(C),by(C,C,[l,c]),$b(C,C,[T,T]),ET(C,C,h);var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=D1;var D=this.indexBuffer.getView(R);Ym(r,D);var M=this.edgeColorBuffer.getView(R);$m(v,E,M);var k=this.scaleRotate1Buffer.getView(R);k[0]=C[0],k[1]=C[1],k[2]=C[3],k[3]=C[4];var L=this.translate1Buffer.getView(R);L[0]=C[6],L[1]=C[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(t,r){var i=t.pstyle("opacity").value,o=t.pstyle("line-opacity").value,l=t.pstyle("width").pfValue,c=t.pstyle("line-color").value,h=i*o,d=this.getEdgePoints(t);if(d.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),d.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=GE;var m=this.indexBuffer.getView(v);Ym(r,m);var b=this.edgeColorBuffer.getView(v);$m(c,h,b);var E=this.lineWidthBuffer.getView(v);E[0]=l;var S=this.pointAPointBBuffer.getView(v);S[0]=d[0],S[1]=d[1],S[2]=d[2],S[3]=d[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var A=0;A<d.length-2;A+=2){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=qE;var C=this.indexBuffer.getView(T);Ym(r,C);var R=this.edgeColorBuffer.getView(T);$m(c,h,R);var D=this.lineWidthBuffer.getView(T);D[0]=l;var M=d[A-2],k=d[A-1],L=d[A],_=d[A+1],I=d[A+2],B=d[A+3],P=d[A+4],F=d[A+5];A==0&&(M=2*L-I+.001,k=2*_-B+.001),A==d.length-4&&(P=2*I-L+.001,F=2*B-_+.001);var H=this.pointAPointBBuffer.getView(T);H[0]=M,H[1]=k,H[2]=L,H[3]=_;var X=this.pointCPointDBuffer.getView(T);X[0]=I,X[1]=B,X[2]=P,X[3]=F,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(t){var r=t._private.rscratch,i=r.allpts;if(i.length==4)return i;var o=this.getNumSegments(t);return this.getCurveSegmentPoints(i,o)}},{key:"getNumSegments",value:function(t){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(t,r){if(t.length==4)return t;for(var i=Array((r+1)*2),o=0;o<=r;o++)if(o==0)i[0]=t[0],i[1]=t[1];else if(o==r)i[o*2]=t[t.length-2],i[o*2+1]=t[t.length-1];else{var l=o/r;this.setCurvePoint(t,l,i,o*2)}return i}},{key:"setCurvePoint",value:function(t,r,i,o){if(t.length<=2)i[o]=t[0],i[o+1]=t[1];else{for(var l=Array(t.length-2),c=0;c<l.length;c+=2){var h=(1-r)*t[c]+r*t[c+2],d=(1-r)*t[c+1]+r*t[c+3];l[c]=h,l[c+1]=d}return this.setCurvePoint(l,r,i,o)}}},{key:"endBatch",value:function(){var t=this.gl,r=this.vao,i=this.vertexCount,o=this.instanceCount;if(o!==0){var l=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(l),t.bindVertexArray(r);var c=li(this.buffers),h;try{for(c.s();!(h=c.n()).done;){var d=h.value;d.bufferSubData(o)}}catch(S){c.e(S)}finally{c.f()}for(var v=this.atlasManager.getAtlases(),m=0;m<v.length;m++)v[m].bufferIfNeeded(t);for(var b=0;b<v.length;b++)t.activeTexture(t.TEXTURE0+b),t.bindTexture(t.TEXTURE_2D,v[b].texture),t.uniform1i(l.uTextures[b],b);t.uniformMatrix3fv(l.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(l.uAtlasSize,this.atlasManager.atlasSize);var E=$m(this.bgColor,1);t.uniform4fv(l.uBGColor,E),t.drawArraysInstanced(t.TRIANGLES,0,i,o),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:o,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),n}();function VE(n,e){return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e,")")}var A_=function(){function n(e){Fl(this,n),this.r=e}return Hl(n,[{key:"getStyleKey",value:function(t,r){var i=this.getStyle(t,r),o=i.shape,l=i.opacity,c=i.color;if(!o)return null;var h=r.width(),d=r.height(),v=VE(c,l);return kl("".concat(o,"-").concat(h,"-").concat(d,"-").concat(v))}},{key:"isVisible",value:function(t,r){var i=r.pstyle("".concat(t,"-opacity")).value;return i>0}},{key:"getStyle",value:function(t,r){var i=r.pstyle("".concat(t,"-opacity")).value,o=r.pstyle("".concat(t,"-color")).value,l=r.pstyle("".concat(t,"-shape")).value;return{opacity:i,color:o,shape:l}}},{key:"getPadding",value:function(t,r){return r.pstyle("".concat(t,"-padding")).pfValue}},{key:"draw",value:function(t,r,i,o){if(this.isVisible(t,i)){var l=this.r,c=o.w,h=o.h,d=c/2,v=h/2,m=this.getStyle(t,i),b=m.shape,E=m.color,S=m.opacity;r.save(),r.fillStyle=VE(E,S),b==="round-rectangle"||b==="roundrectangle"?l.drawRoundRectanglePath(r,d,v,c,h,"auto"):b==="ellipse"&&l.drawEllipsePath(r,d,v,c,h),r.fill(),r.restore()}}}]),n}();function R_(n){var e=n&&n.style&&n.style.backgroundColor||"white";return XS(e)}var ST={};ST.initWebgl=function(n,e){var t=this,r=t.data.contexts[t.WEBGL],i=n.cy.container();n.bgColor=R_(i),n.webglTexSize=Math.min(n.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),n.webglTexRows=Math.min(n.webglTexRows,54),n.webglBatchSize=Math.min(n.webglBatchSize,16384),n.webglTexPerBatch=Math.min(n.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=n.webglDebug,t.webglDebugShowAtlases=n.webglDebugShowAtlases,console.log("max texture units",r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",r.getParameter(r.MAX_TEXTURE_SIZE)),console.log("webgl options",n),t.pickingFrameBuffer=y_(r),t.pickingFrameBuffer.needsDraw=!0;var o=function(v){return t.getTextAngle(v,null)},l=function(v){var m=v.pstyle("label");return m&&m.value};t.eleDrawing=new C_(t,r,n);var c=new A_(t);t.eleDrawing.addTextureRenderType("node-body",kv({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(v){return v.visible()}})),t.eleDrawing.addTextureRenderType("node-label",kv({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:o,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l})),t.eleDrawing.addTextureRenderType("node-overlay",kv({getBoundingBox:e.getElementBox,getKey:function(v){return c.getStyleKey("overlay",v)},drawElement:function(v,m,b){return c.draw("overlay",v,m,b)},isVisible:function(v){return c.isVisible("overlay",v)},getPadding:function(v){return c.getPadding("overlay",v)}})),t.eleDrawing.addTextureRenderType("node-underlay",kv({getBoundingBox:e.getElementBox,getKey:function(v){return c.getStyleKey("underlay",v)},drawElement:function(v,m,b){return c.draw("underlay",v,m,b)},isVisible:function(v){return c.isVisible("underlay",v)},getPadding:function(v){return c.getPadding("underlay",v)}})),t.eleDrawing.addTextureRenderType("edge-label",kv({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:o,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l}));var h=bg(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(d,v){var m=!1;v&&v.length>0&&(m|=t.eleDrawing.invalidate(v)),m&&h()}),D_(t)};function D_(n){{var e=n.render;n.render=function(o){o=o||{};var l=n.cy;n.webgl&&(l.zoom()>hT?(O_(n),e.call(n,o)):(M_(n),TT(n,o,Xv.SCREEN)))}}{var t=n.matchCanvasSize;n.matchCanvasSize=function(o){t.call(n,o),n.pickingFrameBuffer.setFramebufferAttachmentSizes(n.canvasWidth,n.canvasHeight),n.pickingFrameBuffer.needsDraw=!0}}n.findNearestElements=function(o,l,c,h){return z_(n,o,l)};{var r=n.invalidateCachedZSortedEles;n.invalidateCachedZSortedEles=function(){r.call(n),n.pickingFrameBuffer.needsDraw=!0}}{var i=n.notify;n.notify=function(o,l){i.call(n,o,l),o==="viewport"||o==="bounds"?n.pickingFrameBuffer.needsDraw=!0:o==="background"&&n.eleDrawing.invalidate(l,{type:"node-body"})}}}function O_(n){var e=n.data.contexts[n.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function M_(n){var e=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.canvasWidth,n.canvasHeight),r.restore()};e(n.data.contexts[n.NODE]),e(n.data.contexts[n.DRAG])}function B_(n){var e=n.canvasWidth,t=n.canvasHeight,r=Vb(n),i=r.pan,o=r.zoom,l=Kv();by(l,l,[i.x,i.y]),$b(l,l,[o,o]);var c=Kv();w_(c,e,t);var h=Kv();return b_(h,c,l),h}function xT(n,e){var t=n.canvasWidth,r=n.canvasHeight,i=Vb(n),o=i.pan,l=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,r),e.translate(o.x,o.y),e.scale(l,l)}function N_(n,e){n.drawSelectionRectangle(e,function(t){return xT(n,t)})}function __(n){var e=n.data.contexts[n.NODE];e.save(),xT(n,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function k_(n){var e=function(i,o,l){for(var c=i.atlasManager.getRenderTypeOpts(o),h=n.data.contexts[n.NODE],d=.125,v=c.atlasCollection.atlases,m=0;m<v.length;m++){var b=v[m],E=b.canvas,S=E.width,A=E.height,T=S*m,C=E.height*l;h.save(),h.scale(d,d),h.drawImage(E,T,C),h.strokeStyle="black",h.rect(T,C,S,A),h.stroke(),h.restore()}},t=0;e(n.eleDrawing,"node-body",t++),e(n.eleDrawing,"node-label",t++)}function L_(n,e,t,r,i){var o,l,c,h,d=Vb(n),v=d.pan,m=d.zoom;{var b=h_(n,v,m,e,t),E=Sr(b,2),S=E[0],A=E[1],T=6;o=S-T/2,l=A-T/2,c=T,h=T}if(c===0||h===0)return[];var C=n.data.contexts[n.WEBGL];C.bindFramebuffer(C.FRAMEBUFFER,n.pickingFrameBuffer),n.pickingFrameBuffer.needsDraw&&(C.viewport(0,0,C.canvas.width,C.canvas.height),TT(n,null,Xv.PICKING),n.pickingFrameBuffer.needsDraw=!1);var R=c*h,D=new Uint8Array(R*4);C.readPixels(o,l,c,h,C.RGBA,C.UNSIGNED_BYTE,D),C.bindFramebuffer(C.FRAMEBUFFER,null);for(var M=new Set,k=0;k<R;k++){var L=D.slice(k*4,k*4+4),_=v_(L)-1;_>=0&&M.add(_)}return M}function z_(n,e,t){var r=L_(n,e,t),i=n.getCachedZSortedEles(),o,l,c=li(r),h;try{for(c.s();!(h=c.n()).done;){var d=h.value,v=i[d];if(!o&&v.isNode()&&(o=v),!l&&v.isEdge()&&(l=v),o&&l)break}}catch(m){c.e(m)}finally{c.f()}return[o,l].filter(Boolean)}function TT(n,e,t){var r,i;n.webglDebug&&(i=[],r=performance.now());var o=n.eleDrawing,l=0;if(t.screen&&n.data.canvasNeedsRedraw[n.SELECT_BOX]&&N_(n,e),n.data.canvasNeedsRedraw[n.NODE]||t.picking){var c=function(H,X){X+=1,H.isNode()?(o.drawTexture(H,X,"node-underlay"),o.drawTexture(H,X,"node-body"),o.drawTexture(H,X,"node-label"),o.drawTexture(H,X,"node-overlay")):(o.drawEdgeLine(H,X),o.drawEdgeArrow(H,X,"source"),o.drawEdgeArrow(H,X,"target"),o.drawTexture(H,X,"edge-label"))},h=n.data.contexts[n.WEBGL];t.screen?(h.clearColor(0,0,0,0),h.enable(h.BLEND),h.blendFunc(h.ONE,h.ONE_MINUS_SRC_ALPHA)):h.disable(h.BLEND),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),h.viewport(0,0,h.canvas.width,h.canvas.height);var d=B_(n),v=n.getCachedZSortedEles();if(l=v.length,o.startFrame(d,i,t),t.screen){for(var m=0;m<v.nondrag.length;m++)c(v.nondrag[m],m);for(var b=0;b<v.drag.length;b++)c(v.drag[b],-1)}else if(t.picking)for(var E=0;E<v.length;E++)c(v[E],E);o.endFrame(),n.data.gc&&(console.log("Garbage Collect!"),n.data.gc=!1,o.gc()),t.screen&&n.webglDebugShowAtlases&&(__(n),k_(n)),n.data.canvasNeedsRedraw[n.NODE]=!1,n.data.canvasNeedsRedraw[n.DRAG]=!1}if(n.webglDebug){var S=performance.now(),A=!0,T=0,C=0,R=li(i),D;try{for(R.s();!(D=R.n()).done;){var M=D.value;T++,C+=M.count}}catch(F){R.e(F)}finally{R.f()}var k=Math.ceil(S-r),L="".concat(l," elements, ").concat(C," rectangles, ").concat(T," batches");if(A)console.log("WebGL (".concat(t.name,") - ").concat(L));else{console.log("WebGL render (".concat(t.name,") - frame time ").concat(k,"ms")),console.log("  ".concat(L)),console.log("Texture Atlases Used:");var _=o.getAtlasDebugInfo(),I=li(_),B;try{for(I.s();!(B=I.n()).done;){var P=B.value;console.log("  ".concat(P.type,": ").concat(P.keyCount," keys, ").concat(P.atlasCount," atlases"))}}catch(F){I.e(F)}finally{I.f()}console.log("")}}}var ql={};ql.drawPolygonPath=function(n,e,t,r,i,o){var l=r/2,c=i/2;n.beginPath&&n.beginPath(),n.moveTo(e+l*o[0],t+c*o[1]);for(var h=1;h<o.length/2;h++)n.lineTo(e+l*o[h*2],t+c*o[h*2+1]);n.closePath()};ql.drawRoundPolygonPath=function(n,e,t,r,i,o,l){l.forEach(function(c){return aT(n,c)}),n.closePath()};ql.drawRoundRectanglePath=function(n,e,t,r,i,o){var l=r/2,c=i/2,h=o==="auto"?gf(r,i):Math.min(o,c,l);n.beginPath&&n.beginPath(),n.moveTo(e,t-c),n.arcTo(e+l,t-c,e+l,t,h),n.arcTo(e+l,t+c,e,t+c,h),n.arcTo(e-l,t+c,e-l,t,h),n.arcTo(e-l,t-c,e,t-c,h),n.lineTo(e,t-c),n.closePath()};ql.drawBottomRoundRectanglePath=function(n,e,t,r,i,o){var l=r/2,c=i/2,h=o==="auto"?gf(r,i):o;n.beginPath&&n.beginPath(),n.moveTo(e,t-c),n.lineTo(e+l,t-c),n.lineTo(e+l,t),n.arcTo(e+l,t+c,e,t+c,h),n.arcTo(e-l,t+c,e-l,t,h),n.lineTo(e-l,t-c),n.lineTo(e,t-c),n.closePath()};ql.drawCutRectanglePath=function(n,e,t,r,i,o,l){var c=r/2,h=i/2,d=l==="auto"?Ob():l;n.beginPath&&n.beginPath(),n.moveTo(e-c+d,t-h),n.lineTo(e+c-d,t-h),n.lineTo(e+c,t-h+d),n.lineTo(e+c,t+h-d),n.lineTo(e+c-d,t+h),n.lineTo(e-c+d,t+h),n.lineTo(e-c,t+h-d),n.lineTo(e-c,t-h+d),n.closePath()};ql.drawBarrelPath=function(n,e,t,r,i){var o=r/2,l=i/2,c=e-o,h=e+o,d=t-l,v=t+l,m=Z1(r,i),b=m.widthOffset,E=m.heightOffset,S=m.ctrlPtOffsetPct*b;n.beginPath&&n.beginPath(),n.moveTo(c,d+E),n.lineTo(c,v-E),n.quadraticCurveTo(c+S,v,c+b,v),n.lineTo(h-b,v),n.quadraticCurveTo(h-S,v,h,v-E),n.lineTo(h,d+E),n.quadraticCurveTo(h-S,d,h-b,d),n.lineTo(c+b,d),n.quadraticCurveTo(c+S,d,c,d+E),n.closePath()};var $E=Math.sin(0),YE=Math.cos(0),lb={},sb={},CT=Math.PI/40;for(var Qc=0*Math.PI;Qc<2*Math.PI;Qc+=CT)lb[Qc]=Math.sin(Qc),sb[Qc]=Math.cos(Qc);ql.drawEllipsePath=function(n,e,t,r,i){if(n.beginPath&&n.beginPath(),n.ellipse)n.ellipse(e,t,r/2,i/2,0,0,2*Math.PI);else for(var o,l,c=r/2,h=i/2,d=0*Math.PI;d<2*Math.PI;d+=CT)o=e-c*lb[d]*$E+c*sb[d]*YE,l=t+h*sb[d]*$E+h*lb[d]*YE,d===0?n.moveTo(o,l):n.lineTo(o,l);n.closePath()};var Cg={};Cg.createBuffer=function(n,e){var t=document.createElement("canvas");return t.width=n,t.height=e,[t,t.getContext("2d")]};Cg.bufferCanvasImage=function(n){var e=this.cy,t=e.mutableElements(),r=t.boundingBox(),i=this.findContainerClientCoords(),o=n.full?Math.ceil(r.w):i[2],l=n.full?Math.ceil(r.h):i[3],c=Ve(n.maxWidth)||Ve(n.maxHeight),h=this.getPixelRatio(),d=1;if(n.scale!==void 0)o*=n.scale,l*=n.scale,d=n.scale;else if(c){var v=1/0,m=1/0;Ve(n.maxWidth)&&(v=d*n.maxWidth/o),Ve(n.maxHeight)&&(m=d*n.maxHeight/l),d=Math.min(v,m),o*=d,l*=d}c||(o*=h,l*=h,d*=h);var b=document.createElement("canvas");b.width=o,b.height=l,b.style.width=o+"px",b.style.height=l+"px";var E=b.getContext("2d");if(o>0&&l>0){E.clearRect(0,0,o,l),E.globalCompositeOperation="source-over";var S=this.getCachedZSortedEles();if(n.full)E.translate(-r.x1*d,-r.y1*d),E.scale(d,d),this.drawElements(E,S),E.scale(1/d,1/d),E.translate(r.x1*d,r.y1*d);else{var A=e.pan(),T={x:A.x*d,y:A.y*d};d*=e.zoom(),E.translate(T.x,T.y),E.scale(d,d),this.drawElements(E,S),E.scale(1/d,1/d),E.translate(-T.x,-T.y)}n.bg&&(E.globalCompositeOperation="destination-over",E.fillStyle=n.bg,E.rect(0,0,o,l),E.fill())}return b};function I_(n,e){for(var t=atob(n),r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([r],{type:e})}function KE(n){var e=n.indexOf(",");return n.substr(e+1)}function AT(n,e,t){var r=function(){return e.toDataURL(t,n.quality)};switch(n.output){case"blob-promise":return new bd(function(i,o){try{e.toBlob(function(l){l!=null?i(l):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,n.quality)}catch(l){o(l)}});case"blob":return I_(KE(r()),t);case"base64":return KE(r());case"base64uri":default:return r()}}Cg.png=function(n){return AT(n,this.bufferCanvasImage(n),"image/png")};Cg.jpg=function(n){return AT(n,this.bufferCanvasImage(n),"image/jpeg")};var RT={};RT.nodeShapeImpl=function(n,e,t,r,i,o,l,c){switch(n){case"ellipse":return this.drawEllipsePath(e,t,r,i,o);case"polygon":return this.drawPolygonPath(e,t,r,i,o,l);case"round-polygon":return this.drawRoundPolygonPath(e,t,r,i,o,l,c);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,r,i,o,c);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,r,i,o,l,c);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,r,i,o,c);case"barrel":return this.drawBarrelPath(e,t,r,i,o)}};var P_=DT,zt=DT.prototype;zt.CANVAS_LAYERS=3;zt.SELECT_BOX=0;zt.DRAG=1;zt.NODE=2;zt.WEBGL=3;zt.CANVAS_TYPES=["2d","2d","2d","webgl2"];zt.BUFFER_COUNT=3;zt.TEXTURE_BUFFER=0;zt.MOTIONBLUR_BUFFER_NODE=1;zt.MOTIONBLUR_BUFFER_DRAG=2;function DT(n){var e=this,t=e.cy.window(),r=t.document;n.webgl&&(zt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(zt.CANVAS_LAYERS),contexts:new Array(zt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(zt.CANVAS_LAYERS),bufferCanvases:new Array(zt.BUFFER_COUNT),bufferContexts:new Array(zt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var l=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,l.position="relative",l.zIndex="0",l.overflow="hidden";var c=n.cy.container();c.appendChild(e.data.canvasContainer),c.style[i]=o;var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};rA()&&(h["-ms-touch-action"]="none",h["touch-action"]="none");for(var d=0;d<zt.CANVAS_LAYERS;d++){var v=e.data.canvases[d]=r.createElement("canvas"),m=zt.CANVAS_TYPES[d];e.data.contexts[d]=v.getContext(m),e.data.contexts[d]||Hn("Could not create canvas of type "+m),Object.keys(h).forEach(function(de){v.style[de]=h[de]}),v.style.position="absolute",v.setAttribute("data-id","layer"+d),v.style.zIndex=String(zt.CANVAS_LAYERS-d),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[d]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[zt.NODE].setAttribute("data-id","layer"+zt.NODE+"-node"),e.data.canvases[zt.SELECT_BOX].setAttribute("data-id","layer"+zt.SELECT_BOX+"-selectbox"),e.data.canvases[zt.DRAG].setAttribute("data-id","layer"+zt.DRAG+"-drag"),e.data.canvases[zt.WEBGL]&&e.data.canvases[zt.WEBGL].setAttribute("data-id","layer"+zt.WEBGL+"-webgl");for(var d=0;d<zt.BUFFER_COUNT;d++)e.data.bufferCanvases[d]=r.createElement("canvas"),e.data.bufferContexts[d]=e.data.bufferCanvases[d].getContext("2d"),e.data.bufferCanvases[d].style.position="absolute",e.data.bufferCanvases[d].setAttribute("data-id","buffer"+d),e.data.bufferCanvases[d].style.zIndex=String(-d-1),e.data.bufferCanvases[d].style.visibility="hidden";e.pathsEnabled=!0;var b=Ua(),E=function(ae){return{x:(ae.x1+ae.x2)/2,y:(ae.y1+ae.y2)/2}},S=function(ae){return{x:-ae.w/2,y:-ae.h/2}},A=function(ae){var we=ae[0]._private,_e=we.oldBackgroundTimestamp===we.backgroundTimestamp;return!_e},T=function(ae){return ae[0]._private.nodeKey},C=function(ae){return ae[0]._private.labelStyleKey},R=function(ae){return ae[0]._private.sourceLabelStyleKey},D=function(ae){return ae[0]._private.targetLabelStyleKey},M=function(ae,we,_e,He,Ge){return e.drawElement(ae,we,_e,!1,!1,Ge)},k=function(ae,we,_e,He,Ge){return e.drawElementText(ae,we,_e,He,"main",Ge)},L=function(ae,we,_e,He,Ge){return e.drawElementText(ae,we,_e,He,"source",Ge)},_=function(ae,we,_e,He,Ge){return e.drawElementText(ae,we,_e,He,"target",Ge)},I=function(ae){return ae.boundingBox(),ae[0]._private.bodyBounds},B=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.main||b},P=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.source||b},F=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.target||b},H=function(ae,we){return we},X=function(ae){return E(I(ae))},K=function(ae,we,_e){var He=ae?ae+"-":"";return{x:we.x+_e.pstyle(He+"text-margin-x").pfValue,y:we.y+_e.pstyle(He+"text-margin-y").pfValue}},ee=function(ae,we,_e){var He=ae[0]._private.rscratch;return{x:He[we],y:He[_e]}},Y=function(ae){return K("",ee(ae,"labelX","labelY"),ae)},Z=function(ae){return K("source",ee(ae,"sourceLabelX","sourceLabelY"),ae)},Q=function(ae){return K("target",ee(ae,"targetLabelX","targetLabelY"),ae)},ue=function(ae){return S(I(ae))},U=function(ae){return S(P(ae))},W=function(ae){return S(F(ae))},ne=function(ae){var we=B(ae),_e=S(B(ae));if(ae.isNode()){switch(ae.pstyle("text-halign").value){case"left":_e.x=-we.w-(we.leftPad||0);break;case"right":_e.x=-(we.rightPad||0);break}switch(ae.pstyle("text-valign").value){case"top":_e.y=-we.h-(we.topPad||0);break;case"bottom":_e.y=-(we.botPad||0);break}}return _e},ce=e.data.eleTxrCache=new qv(e,{getKey:T,doesEleInvalidateKey:A,drawElement:M,getBoundingBox:I,getRotationPoint:X,getRotationOffset:ue,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),oe=e.data.lblTxrCache=new qv(e,{getKey:C,drawElement:k,getBoundingBox:B,getRotationPoint:Y,getRotationOffset:ne,isVisible:H}),me=e.data.slbTxrCache=new qv(e,{getKey:R,drawElement:L,getBoundingBox:P,getRotationPoint:Z,getRotationOffset:U,isVisible:H}),ye=e.data.tlbTxrCache=new qv(e,{getKey:D,drawElement:_,getBoundingBox:F,getRotationPoint:Q,getRotationOffset:W,isVisible:H}),Oe=e.data.lyrTxrCache=new vT(e);e.onUpdateEleCalcs(function(ae,we){ce.invalidateElements(we),oe.invalidateElements(we),me.invalidateElements(we),ye.invalidateElements(we),Oe.invalidateElements(we);for(var _e=0;_e<we.length;_e++){var He=we[_e]._private;He.oldBackgroundTimestamp=He.backgroundTimestamp}});var Te=function(ae){for(var we=0;we<ae.length;we++)Oe.enqueueElementRefinement(ae[we].ele)};ce.onDequeue(Te),oe.onDequeue(Te),me.onDequeue(Te),ye.onDequeue(Te),n.webgl&&e.initWebgl(n,{getStyleKey:T,getLabelKey:C,drawElement:M,drawLabel:k,getElementBox:I,getLabelBox:B,getElementRotationPoint:X,getElementRotationOffset:ue,getLabelRotationPoint:Y,getLabelRotationOffset:ne})}zt.redrawHint=function(n,e){var t=this;switch(n){case"eles":t.data.canvasNeedsRedraw[zt.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[zt.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[zt.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var U_=typeof Path2D<"u";zt.path2dEnabled=function(n){if(n===void 0)return this.pathsEnabled;this.pathsEnabled=!!n};zt.usePaths=function(){return U_&&this.pathsEnabled};zt.setImgSmoothing=function(n,e){n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled=e:(n.webkitImageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.msImageSmoothingEnabled=e)};zt.getImgSmoothing=function(n){return n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled:n.webkitImageSmoothingEnabled||n.mozImageSmoothingEnabled||n.msImageSmoothingEnabled};zt.makeOffscreenCanvas=function(n,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":dr(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(n,e);else{var r=this.cy.window(),i=r.document;t=i.createElement("canvas"),t.width=n,t.height=e}return t};[gT,Wu,Bo,qb,Sf,Rd,ba,ST,ql,Cg,RT].forEach(function(n){pt(zt,n)});var F_=[{name:"null",impl:tT},{name:"base",impl:cT},{name:"canvas",impl:P_}],H_=[{type:"layout",extensions:SN},{type:"renderer",extensions:F_}],OT={},MT={};function BT(n,e,t){var r=t,i=function(I){sn("Can not register `"+e+"` for `"+n+"` since `"+I+"` already exists in the prototype and can not be overridden")};if(n==="core"){if(fg.prototype[e])return i(e);fg.prototype[e]=t}else if(n==="collection"){if(_r.prototype[e])return i(e);_r.prototype[e]=t}else if(n==="layout"){for(var o=function(I){this.options=I,t.call(this,I),Zt(this._private)||(this._private={}),this._private.cy=I.cy,this._private.listeners=[],this.createEmitter()},l=o.prototype=Object.create(t.prototype),c=[],h=0;h<c.length;h++){var d=c[h];l[d]=l[d]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var v=t.prototype.stop;l.stop=function(){var _=this.options;if(_&&_.animate){var I=this.animations;if(I)for(var B=0;B<I.length;B++)I[B].stop()}return v?v.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var m=function(I){return I._private.cy},b={addEventFields:function(I,B){B.layout=I,B.cy=m(I),B.target=I},bubble:function(){return!0},parent:function(I){return m(I)}};pt(l,{createEmitter:function(){return this._private.emitter=new Py(b,this),this},emitter:function(){return this._private.emitter},on:function(I,B){return this.emitter().on(I,B),this},one:function(I,B){return this.emitter().one(I,B),this},once:function(I,B){return this.emitter().one(I,B),this},removeListener:function(I,B){return this.emitter().removeListener(I,B),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(I,B){return this.emitter().emit(I,B),this}}),ln.eventAliasesOn(l),r=o}else if(n==="renderer"&&e!=="null"&&e!=="base"){var E=NT("renderer","base"),S=E.prototype,A=t,T=t.prototype,C=function(){E.apply(this,arguments),A.apply(this,arguments)},R=C.prototype;for(var D in S){var M=S[D],k=T[D]!=null;if(k)return i(D);R[D]=M}for(var L in T)R[L]=T[L];S.clientFunctions.forEach(function(_){R[_]=R[_]||function(){Hn("Renderer does not implement `renderer."+_+"()` on its prototype")}}),r=C}else if(n==="__proto__"||n==="constructor"||n==="prototype")return Hn(n+" is an illegal type to be registered, possibly lead to prototype pollutions");return WS({map:OT,keys:[n,e],value:r})}function NT(n,e){return ZS({map:OT,keys:[n,e]})}function G_(n,e,t,r,i){return WS({map:MT,keys:[n,e,t,r],value:i})}function q_(n,e,t,r){return ZS({map:MT,keys:[n,e,t,r]})}var fb=function(){if(arguments.length===2)return NT.apply(null,arguments);if(arguments.length===3)return BT.apply(null,arguments);if(arguments.length===4)return q_.apply(null,arguments);if(arguments.length===5)return G_.apply(null,arguments);Hn("Invalid extension access syntax")};fg.prototype.extension=fb;H_.forEach(function(n){n.extensions.forEach(function(e){BT(n.type,e.name,e.impl)})});var _T=function n(){if(!(this instanceof n))return new n;this.length=0},yf=_T.prototype;yf.instanceString=function(){return"stylesheet"};yf.selector=function(n){var e=this.length++;return this[e]={selector:n,properties:[]},this};yf.css=function(n,e){var t=this.length-1;if(ct(n))this[t].properties.push({name:n,value:e});else if(Zt(n))for(var r=n,i=Object.keys(r),o=0;o<i.length;o++){var l=i[o],c=r[l];if(c!=null){var h=$r.properties[l]||$r.properties[Oy(l)];if(h!=null){var d=h.name,v=c;this[t].properties.push({name:d,value:v})}}}return this};yf.style=yf.css;yf.generateStyle=function(n){var e=new $r(n);return this.appendToStyle(e)};yf.appendToStyle=function(n){for(var e=0;e<this.length;e++){var t=this[e],r=t.selector,i=t.properties;n.selector(r);for(var o=0;o<i.length;o++){var l=i[o];n.css(l.name,l.value)}}return n};var V_="3.31.0",bf=function(e){if(e===void 0&&(e={}),Zt(e))return new fg(e);if(ct(e))return fb.apply(fb,arguments)};bf.use=function(n){var e=Array.prototype.slice.call(arguments,1);return e.unshift(bf),n.apply(null,e),this};bf.warnings=function(n){return ax(n)};bf.version=V_;bf.stylesheet=bf.Stylesheet=_T;class $_{constructor(e){xe(this,"kind",ut.AUTOMATON);xe(this,"id");xe(this,"cy");xe(this,"elems");this.id=e}reinitialize(e){this.id=uy,this.elems=e}getElements(){var r;const e=(r=this.cy)==null?void 0:r.nodes().map(i=>({data:i.data(),group:i.group(),classes:i.classes(),position:i.position()})),t=this.cy.edges().map(i=>({data:i.data(),group:i.group(),classes:i.classes()}));return[...e,...t]}init(){var e;(e=this.cy)==null||e.destroy(),this.cy=bf({container:document.getElementById(this.id),elements:this.elems??[{group:"nodes",data:{id:Ay},position:{x:0,y:0}}],style:[{selector:"node",style:{"background-color":"#666",label:"data(id)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)"}}],layout:{name:"preset"}}),this.cy.on("tap","node, edge",t=>{console.log(t.target.id())})}fit(){var e;(e=this.cy)==null||e.fit()}addNode(e,t){var r;(r=this.cy)==null||r.add({group:"nodes",data:{id:e},position:t})}removeNode(e){var t;(t=this.cy)==null||t.remove(`node#${e}`)}renameNode(e,t){console.log(e,t)}setInitialNode(e){console.log(e)}setIsFinalNode(e,t){console.log(e,t)}addEdge(e,t,r,i){var o;(o=this.cy)==null||o.add({group:"edges",data:{id:e,source:t,target:r,label:i}})}editEdge(e,t){console.log(e,t)}removeEdge(e){var t;(t=this.cy)==null||t.remove(`edge#${e}`)}highlightElements(e){var t;for(const r of e){const i=(t=this.cy)==null?void 0:t.getElementById(r);i&&i.nonempty()?r.startsWith("_")?i.style({"line-color":"salmon","target-arrow-color":"salmon"}):i.style({"background-color":"salmon"}):console.warn(`Element with id "${r}" not found.`)}}clearHighlights(){var e,t;(e=this.cy)==null||e.nodes().forEach(r=>{r.style({"background-color":"#666"})}),(t=this.cy)==null||t.edges().forEach(r=>{r.style({"line-color":"#ccc","target-arrow-color":"#ccc"})})}}class kT{constructor(e){xe(this,"visual");this.visual=e}visitAddStateCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.addNode(e.stateId,{x:0,y:0})}visitRemoveStateCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.removeNode(e.stateId)}visitRenameStateCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.renameNode(e.stateId,e.newStateId)}visitSetInitialStateCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.setInitialNode(e.stateId)}visitSetStateFinalFlagCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.setIsFinalNode(e.stateId,e.shouldBeFinal)}visitAddEdgeCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.addEdge(e.edge.id,e.fromStateId,e.toStateId,e.edge.label)}visitRemoveEdgeCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.removeEdge(e.edgeId)}visitEditEdgeCommand(e){if(this.visual.kind!==ut.AUTOMATON)throw new Error("Type mismatch");this.visual.editEdge(e.edgeId,e.edge.label)}visitAddProductionRuleCommand(e){var t,r;if(this.visual.kind!==ut.GRAMMAR)throw new Error("Type mismatch");this.visual.storeRuleId(e.productionRule.id),this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitRemoveProductionRuleCommand(e){var t,r;if(this.visual.kind!==ut.GRAMMAR)throw new Error("Type mismatch");this.visual.removeRuleId(e.productionRuleId),this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitEditProductionRuleCommand(e){throw this.visual.kind!==ut.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitAddNonterminalsCommand(e){var t,r;if(this.visual.kind!==ut.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitAddTerminalsCommand(e){var t,r;if(this.visual.kind!==ut.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitSetInitialNonterminalCommand(e){throw this.visual.kind!==ut.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitRemoveNonterminalCommand(e){var t,r;if(this.visual.kind!==ut.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitRemoveTerminalCommand(e){var t,r;if(this.visual.kind!==ut.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}}class Vl{constructor(e){xe(this,"kind",ut.AUTOMATON);xe(this,"automaton");xe(this,"backup");this.automaton=e}saveBackup(){this.backup=this.automaton.save()}undo(){this.backup&&this.automaton.restore(this.backup)}}class wy extends Vl{constructor(t,r){super(t);xe(this,"stateId");this.stateId=r}accept(t){t.visitAddStateCommand(this)}execute(){if(this.automaton.states.some(t=>t===this.stateId))return new Ie(`Cannot add state ${this.stateId}, as it has already been added before.`);this.saveBackup(),this.automaton.states.push(this.stateId)}}class Y_ extends Vl{constructor(t,r){super(t);xe(this,"stateId");this.stateId=r}accept(t){t.visitRemoveStateCommand(this)}execute(){const t=this.automaton.states.findIndex(r=>r===this.stateId);if(t===-1)return new Ie(`Cannot remove state ${this.stateId}, as it does not exist.`);if(this.stateId===this.automaton.initialStateId)return new Ie(`Cannot remove state ${this.stateId}, as it is the initial state.`);this.saveBackup(),this.automaton.finalStateIds=this.automaton.finalStateIds.filter(r=>r!==this.stateId),this.automaton.states.length>1&&t!==this.automaton.states.length-1?this.automaton.states[t]=this.automaton.states.pop():this.automaton.states.pop(),this.automaton.deltaFunctionMatrix[this.stateId]={};for(const r in this.automaton.deltaFunctionMatrix)for(const i in this.automaton.deltaFunctionMatrix[r])i===this.stateId&&(this.automaton.deltaFunctionMatrix[r][i]=[])}}class Yb extends Vl{constructor(t,r,i){super(t);xe(this,"stateId");xe(this,"newStateId");this.stateId=r,this.newStateId=i}accept(t){t.visitRenameStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new Ie(`Cannot edit state ${this.stateId}, as it does not exist.`);if(this.automaton.states.some(t=>t===this.newStateId)&&this.newStateId!==this.stateId)return new Ie(`Cannot rename state ${this.stateId} to ${this.newStateId}, as there is already a state with that name.`);this.saveBackup(),this.automaton.states=this.automaton.states.map(t=>t===this.stateId?this.newStateId:t),this.automaton.initialStateId===this.stateId&&(this.automaton.initialStateId=this.newStateId),this.automaton.finalStateIds=this.automaton.finalStateIds.map(t=>t===this.stateId?this.newStateId:t),this.automaton.deltaFunctionMatrix[this.stateId]!==void 0&&(this.automaton.deltaFunctionMatrix[this.newStateId]=oy.cloneDeep(this.automaton.deltaFunctionMatrix[this.stateId]),this.automaton.deltaFunctionMatrix[this.stateId]={});for(const t in this.automaton.deltaFunctionMatrix)this.automaton.deltaFunctionMatrix[t][this.stateId]!==void 0&&(this.automaton.deltaFunctionMatrix[t][this.newStateId]=oy.cloneDeep(this.automaton.deltaFunctionMatrix[t][this.stateId]),this.automaton.deltaFunctionMatrix[t][this.stateId]=[])}}class cg extends Vl{constructor(t,r,i){super(t);xe(this,"stateId");xe(this,"shouldBeFinal");this.stateId=r,this.shouldBeFinal=i}accept(t){t.visitSetStateFinalFlagCommand(this)}execute(){if(this.automaton.states.every(r=>r!==this.stateId))return new Ie(`Cannot edit state ${this.stateId}, as it does not exist.`);const t=this.automaton.finalStateIds.some(r=>r===this.stateId);t&&this.shouldBeFinal||!t&&!this.shouldBeFinal||(this.saveBackup(),this.shouldBeFinal?this.automaton.finalStateIds.push(this.stateId):this.automaton.finalStateIds=this.automaton.finalStateIds.filter(r=>r!==this.stateId))}}class K_ extends Vl{constructor(t,r){super(t);xe(this,"stateId");this.stateId=r}accept(t){t.visitSetInitialStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new Ie(`Cannot edit state ${this.stateId}, as it does not exist.`);this.saveBackup(),this.automaton.initialStateId=this.stateId}}class lf extends Vl{constructor(t,r,i,o){super(t);xe(this,"fromStateId");xe(this,"toStateId");xe(this,"edge");this.fromStateId=r,this.toStateId=i,this.edge=o}accept(t){t.visitAddEdgeCommand(this)}execute(){this.saveBackup();const t=this.automaton.states.some(i=>i===this.fromStateId),r=this.automaton.states.some(i=>i===this.toStateId);if(!t||!r)return new Ie(`Cannot add edge. Both ${this.fromStateId} and ${this.toStateId} state IDs have to exist.`);if(this.automaton.deltaFunctionMatrix[this.fromStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId]={}),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]=[]),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].some(i=>i.equals(this.edge)))return new Ie("Cannot add edge, as it already exists.");this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].push(this.edge)}}class LT extends Vl{constructor(t,r,i,o){super(t);xe(this,"edgeId");xe(this,"fromStateId");xe(this,"toStateId");this.edgeId=o,this.fromStateId=r,this.toStateId=i}accept(t){t.visitRemoveEdgeCommand(this)}execute(){var r,i;const t=(i=(r=this.automaton.deltaFunctionMatrix[this.fromStateId])==null?void 0:r[this.toStateId])==null?void 0:i.findIndex(o=>o.id===this.edgeId);if(t===void 0)return new Ie(`Cannot remove edge ${this.edgeId} because one of its states does not exist.`);if(t===-1)return new Ie(`Cannot remove edge ${this.edgeId}, as it does not exist on states ${this.fromStateId}, ${this.toStateId}.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length>1&&t!==this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length-1?this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId][t]=this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop():this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop(),console.log(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId])}}class X_ extends Vl{constructor(t,r,i){super(t);xe(this,"edgeId");xe(this,"edge");this.edgeId=r,this.edge=i}accept(t){t.visitEditEdgeCommand(this)}execute(){let t="",r="",i=-1;for(const o in this.automaton.deltaFunctionMatrix){for(const l in this.automaton.deltaFunctionMatrix[o]){const c=this.automaton.deltaFunctionMatrix[o][l].findIndex(h=>h.id===this.edgeId);if(c!==-1){t=o,r=l,i=c;break}}if(i!==-1)break}if(i===-1)return new Ie(`Cannot edit edge ${this.edgeId}, as it does not exist.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[t][r][i]=this.edge}}class dg{constructor(e,t,r){xe(this,"kind",ut.AUTOMATON);xe(this,"mode");xe(this,"automatonType");xe(this,"visual");xe(this,"visitor");xe(this,"factory");xe(this,"automaton");xe(this,"simulation");xe(this,"algorithm",!1);this.automatonType=e,this.factory=new P2(e),this.automaton=this.factory.createAutomaton(Ay),this.visual=new $_(t),this.visitor=new kT(this.visual),this.mode=r}init(){this.visual.init(),this.visual.fit()}undo(){return this.automaton.undo(),new Ie("Not implemented.")}fit(){this.visual.fit()}addState(e,t){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");let r=this.checkStateId(e);if(r!==void 0)return r;const i=new wy(this.automaton,e);if(r=this.automaton.executeCommand(i),r!==void 0)return r;this.visual.addNode(e,t)}removeState(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new Y_(this.automaton,e),r=this.automaton.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}renameState(e,t){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");let r=this.checkStateId(t);if(r!==void 0)return r;const i=new Yb(this.automaton,e,t);if(r=this.automaton.executeCommand(i),r!==void 0)return r;i.accept(this.visitor)}setInitialState(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new K_(this.automaton,e),r=this.automaton.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}setIsFinalState(e,t){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const r=new cg(this.automaton,e,t),i=this.automaton.executeCommand(r);if(i!==void 0)return i;r.accept(this.visitor)}addEdge(e,t,r){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");let i=this.checkEdgeProps(r);if(i!==void 0)return i;const o=this.factory.createEdge(r),l=new lf(this.automaton,e,t,o);if(i=this.automaton.executeCommand(l),i!==void 0)return i;l.accept(this.visitor)}removeEdge(e,t,r){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const i=new LT(this.automaton,e,t,r),o=this.automaton.executeCommand(i);if(o!==void 0)return o;i.accept(this.visitor)}editEdge(e,t){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");let r=this.checkEdgeProps(t);if(r!==void 0)return r;const i=this.factory.createEdge(t),o=new X_(this.automaton,e,i);if(r=this.automaton.executeCommand(o),r!==void 0)return r;o.accept(this.visitor)}highlight(e){if(this.mode.mode!==It.VISUAL)return new Ie("Operation is only permitted in visual mode.");this.visual.clearHighlights(),this.visual.highlightElements(e)}containsWord(e){return this.automaton.createRunSimulation(e).run()}runStart(e){if(this.mode.mode!==It.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.algorithm)return new Ie("Cannot start new simulation when an algorithm is in progress.");if(this.simulation!==void 0)return new Ie("Cannot start new simulation when a simulation is already in progress.");this.simulation=this.automaton.createRunSimulation(e)}runNext(){if(this.mode.mode!==It.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ie("Run simulation does not exist. Try starting a simulation first.");const e=new PS(this.simulation),t=this.simulation.executeCommand(e);if(t!==void 0)return t;const r=e.getResult();if(r===void 0)return new Ie("Command result is empty.");this.visual.clearHighlights(),this.visual.highlightElements([r.id,this.simulation.configuration.stateId])}runUndo(){if(this.mode.mode!==It.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ie("Run simulation does not exist. Try starting a simulation first.");const e=this.simulation.undo();if(e!==void 0)return new Ie(e.details)}runEnd(){if(this.mode.mode!==It.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ie("Run simulation does not exist. Try starting a simulation first.");this.visual.clearHighlights(),this.simulation=void 0}getRemainingInput(){var e;return(e=this.simulation)==null?void 0:e.configuration.remainingInput}createEdge(e){return this.factory.createEdge(e)}checkStateId(e){if(e.trim().length===0)return new Ie("State ID must contain at least one non-whitespace character.");if(e.charAt(0)=="_")return new Ie("State ID cannot start with an underscore")}checkEdgeProps(e){if(e.inputChar.trim().length===0)return new Ie("Input char must contain at least one non-whitespace character.");if(this.automatonType===On.PDA){if(e.readStackChar===void 0||e.writeStackWord===void 0)return new Ie("PDA edge must specify character(s) read from and written to the stack");if(e.readStackChar.trim().length===0||e.writeStackWord.length===0)return new Ie("Read and written stack character(s) must not contain whitespace-only symbols");for(const t in e.writeStackWord)if(t.trim().length===0)return new Ie("Read and written stack character(s) must not contain whitespace-only symbols")}}simulationInProgress(){return this.simulation!==void 0}algorithmInProgress(e){this.algorithm=e}}class $l{constructor(e){xe(this,"kind",ut.GRAMMAR);xe(this,"grammar");xe(this,"backup");this.grammar=e}saveBackup(){this.backup=this.grammar.save()}undo(){this.backup&&this.grammar.restore(this.backup)}}class Dl extends $l{constructor(t,r){super(t);xe(this,"productionRule");this.productionRule=r}accept(t){t.visitAddProductionRuleCommand(this)}execute(){if(this.grammar.productionRules.includes(this.productionRule))return new Ie(`Cannot add production rule: ${this.productionRule.toString()}: it is already present.`);if(this.grammar.productionRules.some(t=>t.equals(this.productionRule)))return new Ie(`Cannot add production rule: ${this.productionRule.toString()}: it is already present.`);this.saveBackup(),this.grammar.productionRules.push(this.productionRule)}}class W_ extends $l{constructor(t,r){super(t);xe(this,"productionRuleId");this.productionRuleId=r}accept(t){t.visitRemoveProductionRuleCommand(this)}execute(){const t=this.grammar.productionRules.filter(r=>r.id!==this.productionRuleId);if(t.length===this.grammar.productionRules.length)return new Ie(`Cannot remove production rule ${this.productionRuleId}: production rule is not present.`);this.saveBackup(),this.grammar.productionRules=t}}class Z_ extends $l{constructor(t,r,i){super(t);xe(this,"productionRuleId");xe(this,"productionRule");this.productionRuleId=r,this.productionRule=i}accept(t){t.visitEditProductionRuleCommand(this)}execute(){const t=this.grammar.productionRules.findIndex(r=>r.id===this.productionRuleId);if(t===-1)return new Ie(`Cannot edit production rule ${this.productionRuleId}: production rule is not present.`);if(this.grammar.productionRules.some(r=>r.equals(this.productionRule)))return new Ie(`Cannot replace production rule ${this.productionRuleId} with rule ${this.productionRule.toString()}: it is already present.`);this.saveBackup(),this.grammar.productionRules[t]=this.productionRule}}class Q_ extends $l{constructor(t,r){super(t);xe(this,"nonterminals");this.nonterminals=r}accept(t){t.visitAddNonterminalsCommand(this)}execute(){for(const t of this.nonterminals){if(this.grammar.terminalSymbols.includes(t))return new Ie(`Cannot add nonterminal symbol ${t}: it is already present as a terminal symbol.`);if(this.grammar.nonTerminalSymbols.includes(t))return new Ie(`Cannot add nonterminal symbol ${t}: it is already present.`);if(t===fr)return new Ie("Cannot add epsilon as nonterminal symbol.")}this.saveBackup();for(const t of this.nonterminals)this.grammar.nonTerminalSymbols.includes(t)||this.grammar.nonTerminalSymbols.push(t)}}class j_ extends $l{constructor(t,r){super(t);xe(this,"terminals");this.terminals=r}accept(t){t.visitAddTerminalsCommand(this)}execute(){for(const t of this.terminals){if(this.grammar.nonTerminalSymbols.includes(t))return new Ie(`Cannot add terminal symbol ${t}: it is already present as a nonterminal symbol.`);if(this.grammar.terminalSymbols.includes(t))return new Ie(`Cannot add terminal symbol ${t}: it is already present.`);if(t===fr)return new Ie("Cannot add epsilon as terminal symbol.")}this.saveBackup();for(const t of this.terminals)this.grammar.terminalSymbols.includes(t)||this.grammar.terminalSymbols.push(t)}}class J_ extends $l{constructor(t,r){super(t);xe(this,"nonterminal");this.nonterminal=r}accept(t){t.visitSetInitialNonterminalCommand(this)}execute(){if(!this.grammar.nonTerminalSymbols.includes(this.nonterminal))return new Ie(`Cannot set nonterminal symbol ${this.nonterminal} as initial: nonterminal is not present.`);this.saveBackup(),this.grammar.initialNonTerminalSymbol=this.nonterminal}}class ek extends $l{constructor(t,r){super(t);xe(this,"nonterminal");this.nonterminal=r}accept(t){t.visitRemoveNonterminalCommand(this)}execute(){const t=this.grammar.nonTerminalSymbols.findIndex(r=>r===this.nonterminal);if(t===-1)return new Ie(`Cannot remove nonterminal symbol ${this.nonterminal}: nonterminal is not present.`);if(this.nonterminal===this.grammar.initialNonTerminalSymbol)return new Ie(`Cannot remove nonterminal symbol ${this.nonterminal}: it is the initial nonterminal.`);for(const r of this.grammar.productionRules)if(this.nonterminal===r.inputNonTerminal||r.outputSymbols.includes(this.nonterminal))return new Ie(`Cannot remove nonterminal symbol ${this.nonterminal}: it is being used in production rule ${r.toString()}.`);this.saveBackup(),this.grammar.nonTerminalSymbols.length>1&&t!==this.grammar.nonTerminalSymbols.length-1?this.grammar.nonTerminalSymbols[t]=this.grammar.nonTerminalSymbols.pop():this.grammar.nonTerminalSymbols.pop()}}class tk extends $l{constructor(t,r){super(t);xe(this,"terminal");this.terminal=r}accept(t){t.visitRemoveTerminalCommand(this)}execute(){const t=this.grammar.terminalSymbols.findIndex(r=>r===this.terminal);if(t===-1)return new Ie(`Cannot remove terminal symbol ${this.terminal}: terminal is not present.`);for(const r of this.grammar.productionRules)if(r.outputSymbols.includes(this.terminal))return new Ie(`Cannot remove terminal symbol ${this.terminal}: it is being used in production rule ${r.toString()}.`);this.saveBackup(),this.grammar.terminalSymbols.length>1&&t!==this.grammar.terminalSymbols.length-1?this.grammar.terminalSymbols[t]=this.grammar.terminalSymbols.pop():this.grammar.terminalSymbols.pop()}}class Kb{constructor(){xe(this,"production_rule_id_increment",0)}nextProductionRuleString(){return`_production_rule_${this.production_rule_id_increment++}`}}class nk extends Kb{constructor(t){super();xe(this,"internalFactory");if(t===Vr.REGULAR)this.internalFactory=new rk;else if(t===Vr.CONTEXT_FREE)this.internalFactory=new ak;else{const r=Object.values(Vr);throw new Error(`Unsupported automaton type: ${t}. Supported types are ${JSON.stringify(r)}.`)}}createGrammar(t,r,i){return this.internalFactory.createGrammar(t,r,i)}createProductionRule(t,r,i){if(t===null)throw new Error("Cannot add production rule: input non-terminal is empty.");if(r===void 0)throw new Error("Cannot add production rule: output symbols are empty.");if(!i.hasNonTerminalSymbol(t))throw new Error(`Cannot add production rule: non-terminal ${t} is not present in grammar's non-terminals ${i.nonTerminalSymbols}`);for(const o of r)if(!i.hasNonTerminalSymbol(o)&&!i.hasTerminalSymbol(o)&&(o!==fr||r.length!==1))throw new Error(`Cannot add production rule: output symbol ${o} is not present in grammar's non-terminals ${i.nonTerminalSymbols} or terminals ${i.terminalSymbols}`);return this.internalFactory.createProductionRule(t,r,i)}}class rk extends Kb{createGrammar(e,t,r){return new FS(Vr.REGULAR,e,t,r)}createProductionRule(e,t,r){const i=t.slice(-1)[0],o=i===fr,l=r.hasTerminalSymbol(i),c=r.hasNonTerminalSymbol(i),h=t.slice(0,-1);let d=!0;for(const m of h)d&&(d=r.hasTerminalSymbol(m));if(!(d&&(l||c)||o))throw new Error(`Cannot add production rule: production rule ${e} -> ${t.join("")} is not a regular rule.`);return Jv.createByFactory(this.nextProductionRuleString(),e,t)}}class ak extends Kb{createGrammar(e,t,r){return new FS(Vr.CONTEXT_FREE,e,t,r)}createProductionRule(e,t,r){if(r===null)throw"Fuck eslint when so that i can successfully commit this shit.";return Jv.createByFactory(this.nextProductionRuleString(),e,t)}}var O1={exports:{}},Lv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function ik(){if(XE)return Lv;XE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Lv.Fragment=e,Lv.jsx=t,Lv.jsxs=t,Lv}var WE;function uk(){return WE||(WE=1,O1.exports=ik()),O1.exports}var Xb=uk();const ie=Xb.jsx,Tt=Xb.jsxs,Xr=Xb.Fragment;class ok{constructor(){xe(this,"kind",ut.GRAMMAR);xe(this,"grammar");xe(this,"representation",ie(Xr,{}));xe(this,"existingRuleIds",[]);xe(this,"highlightedRuleIds",new Set);xe(this,"highlightedSymbols",new Set);xe(this,"refresher")}setGrammar(e){this.grammar=e}display(){return this.representation}storeRuleId(e){this.existingRuleIds.push(e)}removeRuleId(e){this.existingRuleIds=this.existingRuleIds.filter(t=>t!==e)}getRuleIdByIndex(e){var t;return(t=this.existingRuleIds)==null?void 0:t[e]}highlight(e){var t;for(const r of e)r.charAt(0)==="_"?this.highlightedRuleIds.add(r):this.highlightedSymbols.add(r);this.refresh(),(t=this.refresher)==null||t.call(this,this.display())}clearHighlights(){var e;this.highlightedRuleIds.clear(),this.highlightedSymbols.clear(),this.refresh(),(e=this.refresher)==null||e.call(this,this.display())}refresh(){if(!this.grammar){this.representation=ie(Xr,{children:"No grammar set."});return}const e=ie("span",{children:this.grammar.nonTerminalSymbols.map((o,l,c)=>Tt("span",{className:this.highlightedSymbols.has(o)?"highlight":"",children:[o,l<c.length-1?", ":""]},`nt-${o}`))}),t=ie("span",{children:this.grammar.terminalSymbols.map((o,l,c)=>Tt("span",{className:this.highlightedSymbols.has(o)?"highlight":"",children:[o,l<c.length-1?", ":""]},`t-${o}`))}),r=this.grammar.initialNonTerminalSymbol,i=this.grammar.productionRules.map(o=>{const l=`${o.inputNonTerminal} → ${o.outputSymbols.join(" ")}`,c=this.highlightedRuleIds.has(o.id);return ie("div",{className:c?"highlight":"",children:l},`g-rule-visual-${o.id}`)});this.representation=Tt("div",{children:[Tt("div",{children:[ie("strong",{children:"Non-terminals:"})," ",e]}),Tt("div",{children:[ie("strong",{children:"Terminals:"})," ",t]}),Tt("div",{children:[ie("strong",{children:"Initial symbol:"})," ",r]}),ie("div",{children:ie("strong",{children:"Production Rules:"})}),i]})}}class Wb{constructor(e,t){xe(this,"kind",ut.GRAMMAR);xe(this,"mode");xe(this,"factory");xe(this,"grammar");xe(this,"simulation");xe(this,"visual");xe(this,"visitor");this.factory=new nk(e),this.grammar=this.factory.createGrammar([Dw],[],Dw),this.visual=new ok,this.visual.setGrammar(this.grammar),this.visitor=new kT(this.visual),this.mode=t}display(){return this.visual.display()}addProductionRule(e,t){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");try{const r=this.factory.createProductionRule(e,t,this.grammar),i=new Dl(this.grammar,r),o=this.grammar.executeCommand(i);if(o!==void 0)return o;i.accept(this.visitor)}catch(r){if(r instanceof Error)return new Ie(r.message)}}editProductionRule(e,t,r){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");try{const i=this.factory.createProductionRule(t,r,this.grammar),o=new Z_(this.grammar,e,i),l=this.grammar.executeCommand(o);if(l!==void 0)return l;o.accept(this.visitor)}catch(i){if(i instanceof Error)return new Ie(i.message)}}removeProductionRule(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new W_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}addNonterminals(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");for(const i of e){const o=i.trim();if(o.length===0)return new Ie("Nonterminal symbol must contain at least one non-whitespace character.");if(o.charAt(0)==="_")return new Ie("Nonterminal symbol cannot start with an underscore.");if(o.includes(" "))return new Ie("Nonterminal symbol must not contain spaces.")}const t=new Q_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}addTerminals(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");for(const i of e){const o=i.trim();if(o.length===0)return new Ie("Terminal symbol must contain at least one non-whitespace character.");if(o.charAt(0)==="_")return new Ie("Terminal symbol cannot start with an underscore.");if(o.includes(" "))return new Ie("Terminal symbol must not contain spaces.")}const t=new j_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}removeNonterminal(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new ek(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}removeTerminal(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new tk(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}setInitialNonterminal(e){if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new J_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}undo(){var t,r;if(this.mode.mode!==It.EDIT)return new Ie("Operation is only permitted in edit mode.");const e=this.grammar.undo();return this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display()),e}highlight(e){if(this.mode.mode!==It.VISUAL)return new Ie("Operation is only permitted in visual mode.");this.visual.clearHighlights(),this.visual.highlight(e)}simulateParsing(e){return this.mode.mode!==It.VISUAL?new Ie("Operation is only permitted in visual mode."):new Ie(`Not implemented. ${e}`)}}var It=(n=>(n[n.EDIT=0]="EDIT",n[n.VISUAL=1]="VISUAL",n))(It||{}),ut=(n=>(n[n.GRAMMAR=0]="GRAMMAR",n[n.AUTOMATON=1]="AUTOMATON",n))(ut||{}),Tl=(n=>(n[n.AUTOMATON_FINITE=0]="AUTOMATON_FINITE",n[n.GRAMMAR_REGULAR=1]="GRAMMAR_REGULAR",n[n.GRAMMAR_PHRASAL=2]="GRAMMAR_PHRASAL",n))(Tl||{});class ZE{constructor(){xe(this,"mode",0)}}class lk{constructor(){xe(this,"mode",new ZE);xe(this,"primary");xe(this,"secondary");xe(this,"algorithm");xe(this,"setMode");xe(this,"setPrimaryType");xe(this,"setSecondaryType");this.mode=new ZE,this.primary=new dg(On.FINITE,uy,this.mode)}newWindow(e){var t,r,i,o;if(e===0){const l=this.primary.kind===1;this.primary=new dg(On.FINITE,uy,this.mode),l&&this.primary.init(),(t=this.setPrimaryType)==null||t.call(this,this.primary)}else this.primary=new Wb(e===1?Vr.REGULAR:Vr.CONTEXT_FREE,this.mode),(r=this.setPrimaryType)==null||r.call(this,this.primary),this.primary.visual.refresh(),(o=(i=this.primary.visual).refresher)==null||o.call(i,this.primary.display());this.mode.mode===1&&this.switchToEditMode(!1)}switchToEditMode(e){var t;if(this.mode.mode===0)return new Ie("Cannot switch to edit mode when already in edit mode.");this.primary.kind===1&&this.primary.runEnd(),this.algorithmDelete(e),this.mode.mode=0,(t=this.setMode)==null||t.call(this,this.mode.mode)}switchToVisualMode(){var e;if(this.mode.mode===1)return new Ie("Cannot switch to visual mode when already in visual mode.");this.mode.mode=1,(e=this.setMode)==null||e.call(this,this.mode.mode)}transform(){if(this.mode.mode===0)return new Ie("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ie("Cannot simulate algorithm step before start.");try{let e=this.algorithm.next();if(e===void 0)return new Ie("Algorithm is already completed.");for(;e!==void 0;)this.algorithmStep(e),e=this.algorithm.next()}catch(e){if(e instanceof Error)return new Ie(e.message)}}algorithmStart(e){var t,r;if(this.mode.mode===0)return new Ie("Cannot simulate algorithm in edit mode.");if(this.algorithm!==void 0)return new Ie("Cannot start new algorithm when an algorithm is already in progress.");if(this.primary.kind===1&&this.primary.simulationInProgress())return new Ie("Cannot start algorithm when a simulation is in progress.");try{this.algorithm=e,this.secondary=e.init(this.mode)}catch(i){if(i instanceof Error)return this.algorithmDelete(!1),new Ie(i.message)}(t=this.setPrimaryType)==null||t.call(this,this.primary),(r=this.setSecondaryType)==null||r.call(this,this.secondary),this.primary.kind===1&&this.primary.algorithmInProgress(!0)}algorithmNext(){if(this.mode.mode===0)return new Ie("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ie("Cannot simulate algorithm step before start.");try{const e=this.algorithm.next();if(e===void 0)return new Ie("Algorithm is already completed.");this.algorithmStep(e)}catch(e){if(e instanceof Error)return new Ie(e.message)}}algorithmUndo(){return this.mode.mode===0?new Ie("Cannot simulate algorithm in edit mode."):this.algorithm===void 0?new Ie("Cannot undo algorithm step before start."):this.algorithm.undo()}algorithmDelete(e){var t,r;if((t=this.setSecondaryType)==null||t.call(this,void 0),e){if(this.secondary===void 0)return new Ie("Cannot keep second window, because the window does not exit.");this.moveWindows()}this.primary.kind===1&&this.primary.algorithmInProgress(!1),(r=this.setPrimaryType)==null||r.call(this,this.primary),this.primary.highlight([]),this.secondary=void 0,this.algorithm=void 0}moveWindows(){var e,t,r;if(this.primary.kind===1&&((e=this.secondary)==null?void 0:e.kind)===1){const i=this.secondary.visual.getElements();this.primary=this.secondary,this.primary.visual.reinitialize(i),this.primary.visual.init()}else if(this.primary.kind===0&&((t=this.secondary)==null?void 0:t.kind)===1){const i=this.secondary.visual.getElements();(r=this.setPrimaryType)==null||r.call(this,this.secondary),this.primary=this.secondary,this.primary.visual.reinitialize(i)}else this.primary=this.secondary}algorithmStep(e){if(this.algorithm.outputType===void 0){switch(this.primary.kind){case 0:if(e.command.kind!==0)return new Ie("Automaton command is not applicable to grammar.");this.primary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new Ie("Grammar command is not applicable to automaton.");this.primary.automaton.executeCommand(e.command);break}e.command.accept(this.primary.visitor)}else{if(this.secondary===void 0)return new Ie("Second window does not exist.");switch(this.primary.highlight(e.highlight),this.secondary.kind){case 0:if(e.command.kind!==0)return new Ie("Automaton command is not applicable to grammar.");this.secondary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new Ie("Grammar command is not applicable to automaton.");this.secondary.automaton.executeCommand(e.command);break}e.command.accept(this.secondary.visitor)}}}const Fa=te.createContext(void 0),sk=({children:n})=>ie(Fa.Provider,{value:new lk,children:n});var M1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var QE;function fk(){return QE||(QE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(M1)),M1.exports}var ck=fk();const Vt=md(ck);function cb(){return cb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cb.apply(null,arguments)}function zT(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var B1,jE;function dk(){if(jE)return B1;jE=1;var n=function(e,t,r,i,o,l,c,h){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,i,o,l,c,h],m=0;d=new Error(t.replace(/%s/g,function(){return v[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return B1=n,B1}var hk=dk();const vk=md(hk);function JE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function gk(n){var e=pk(n,"string");return typeof e=="symbol"?e:String(e)}function pk(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function mk(n,e,t){var r=te.useRef(n!==void 0),i=te.useState(e),o=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&o!==e&&l(e),[c?n:o,te.useCallback(function(d){for(var v=arguments.length,m=new Array(v>1?v-1:0),b=1;b<v;b++)m[b-1]=arguments[b];t&&t.apply(void 0,[d].concat(m)),l(d)},[t])]}function IT(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[JE(r)],c=o[r],h=zT(o,[JE(r),r].map(gk)),d=e[r],v=mk(c,l,n[d]),m=v[0],b=v[1];return cb({},h,(i={},i[r]=m,i[d]=b,i))},n)}function db(n,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},db(n,e)}function yk(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,db(n,e)}const PT=["xxl","xl","lg","md","sm","xs"],UT="xs",Ag=te.createContext({prefixes:{},breakpoints:PT,minBreakpoint:UT}),{Consumer:Wz,Provider:Zz}=Ag;function cn(n,e){const{prefixes:t}=te.useContext(Ag);return n||t[e]||e}function FT(){const{breakpoints:n}=te.useContext(Ag);return n}function HT(){const{minBreakpoint:n}=te.useContext(Ag);return n}function GT(){const{dir:n}=te.useContext(Ag);return n==="rtl"}function Rg(n){return n&&n.ownerDocument||document}function bk(n){var e=Rg(n);return e&&e.defaultView||window}function wk(n,e){return bk(n).getComputedStyle(n,e)}var Ek=/([A-Z])/g;function Sk(n){return n.replace(Ek,"-$1").toLowerCase()}var xk=/^ms-/;function Km(n){return Sk(n).replace(xk,"-ms-")}var Tk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ck(n){return!!(n&&Tk.test(n))}function sf(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Km(e))||wk(n).getPropertyValue(Km(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(Km(i)):Ck(i)?r+=i+"("+o+") ":t+=Km(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var N1={exports:{}},_1,eS;function Ak(){if(eS)return _1;eS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _1=n,_1}var k1,tS;function Rk(){if(tS)return k1;tS=1;var n=Ak();function e(){}function t(){}return t.resetWarningCache=e,k1=function(){function r(l,c,h,d,v,m){if(m!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},k1}var nS;function Dk(){return nS||(nS=1,N1.exports=Rk()()),N1.exports}var Ok=Dk();const on=md(Ok);var Mk=BS();const ad=md(Mk),rS={disabled:!1},qT=za.createContext(null);var Bk=function(e){return e.scrollTop},Vv="unmounted",rf="exited",Cl="entering",uf="entered",hb="exiting",No=function(n){yk(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,h;return o.appearStatus=null,r.in?c?(h=rf,o.appearStatus=Cl):h=uf:r.unmountOnExit||r.mountOnEnter?h=Vv:h=rf,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Vv?{status:rf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Cl&&l!==uf&&(o=Cl):(l===Cl||l===uf)&&(o=hb)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Cl){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:ad.findDOMNode(this);l&&Bk(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rf&&this.setState({status:Vv})},t.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,h=this.props.nodeRef?[c]:[ad.findDOMNode(this),c],d=h[0],v=h[1],m=this.getTimeouts(),b=c?m.appear:m.enter;if(!i&&!l||rS.disabled){this.safeSetState({status:uf},function(){o.props.onEntered(d)});return}this.props.onEnter(d,v),this.safeSetState({status:Cl},function(){o.props.onEntering(d,v),o.onTransitionEnd(b,function(){o.safeSetState({status:uf},function(){o.props.onEntered(d,v)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:ad.findDOMNode(this);if(!o||rS.disabled){this.safeSetState({status:rf},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:hb},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:rf},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:ad.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],v=h[1];this.props.addEndListener(d,v)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Vv)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=zT(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return za.createElement(qT.Provider,{value:null},typeof l=="function"?l(i,c):za.cloneElement(za.Children.only(l),c))},e}(za.Component);No.contextType=qT;No.propTypes={};function jc(){}No.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jc,onEntering:jc,onEntered:jc,onExit:jc,onExiting:jc,onExited:jc};No.UNMOUNTED=Vv;No.EXITED=rf;No.ENTERING=Cl;No.ENTERED=uf;No.EXITING=hb;function Nk(n){return n.code==="Escape"||n.keyCode===27}function _k(){const n=te.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Yy(n){if(!n||typeof n=="function")return null;const{major:e}=_k();return e>=19?n.props.ref:n.ref}const Dd=!!(typeof window<"u"&&window.document&&window.document.createElement);var vb=!1,gb=!1;try{var L1={get passive(){return vb=!0},get once(){return gb=vb=!0}};Dd&&(window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,!0))}catch{}function Zb(n,e,t,r){if(r&&typeof r!="boolean"&&!gb){var i=r.once,o=r.capture,l=t;!gb&&i&&(l=t.__once||function c(h){this.removeEventListener(e,c,o),t.call(this,h)},t.__once=l),n.addEventListener(e,l,vb?r:o)}n.addEventListener(e,t,r)}function pb(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Ml(n,e,t,r){return Zb(n,e,t,r),function(){pb(n,e,t,r)}}function kk(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function Lk(n){var e=sf(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function zk(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||kk(n,"transitionend",!0)},e+t),o=Ml(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function VT(n,e,t,r){t==null&&(t=Lk(n)||0);var i=zk(n,t,r),o=Ml(n,"transitionend",e);return function(){i(),o()}}function aS(n,e){const t=sf(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Ik(n,e){const t=aS(n,"transitionDuration"),r=aS(n,"transitionDelay"),i=VT(n,o=>{o.target===n&&(i(),e(o))},t+r)}function Pk(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function Uk(n){n.offsetHeight}const iS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Fk(n,e){const t=iS(n),r=iS(e);return i=>{t&&t(i),r&&r(i)}}function Ky(n,e){return te.useMemo(()=>Fk(n,e),[n,e])}function Hk(n){return n&&"setState"in n?ad.findDOMNode(n):n??null}const $T=za.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:c,childRef:h,...d},v)=>{const m=te.useRef(null),b=Ky(m,h),E=L=>{b(Hk(L))},S=L=>_=>{L&&m.current&&L(m.current,_)},A=te.useCallback(S(n),[n]),T=te.useCallback(S(e),[e]),C=te.useCallback(S(t),[t]),R=te.useCallback(S(r),[r]),D=te.useCallback(S(i),[i]),M=te.useCallback(S(o),[o]),k=te.useCallback(S(l),[l]);return ie(No,{ref:v,...d,onEnter:A,onEntered:C,onEntering:T,onExit:R,onExited:M,onExiting:D,addEndListener:k,nodeRef:m,children:typeof c=="function"?(L,_)=>c(L,{..._,ref:E}):za.cloneElement(c,{ref:E})})});$T.displayName="TransitionWrapper";function Gk(n){const e=te.useRef(n);return te.useEffect(()=>{e.current=n},[n]),e}function Ey(n){const e=Gk(n);return te.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const qk=n=>te.forwardRef((e,t)=>ie("div",{...e,ref:t,className:Vt(e.className,n)}));function Vk(){return te.useState(null)}function $k(n){const e=te.useRef(n);return te.useEffect(()=>{e.current=n},[n]),e}function ya(n){const e=$k(n);return te.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function Yk(n,e,t,r=!1){const i=ya(t);te.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}function YT(){const n=te.useRef(!0),e=te.useRef(()=>n.current);return te.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function KT(n){const e=te.useRef(null);return te.useEffect(()=>{e.current=n}),e.current}const Kk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Xk=typeof document<"u",uS=Xk||Kk?te.useLayoutEffect:te.useEffect,Wk=["as","disabled"];function Zk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Qk(n){return!n||n.trim()==="#"}function Qb({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||i!=null?n="a":n="button");const d={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},d];const v=b=>{if((e||n==="a"&&Qk(t))&&b.preventDefault(),e){b.stopPropagation();return}l==null||l(b)},m=b=>{b.key===" "&&(b.preventDefault(),v(b))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:v,onKeyDown:m},d]}const XT=te.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=Zk(n,Wk);const[o,{tagName:l}]=Qb(Object.assign({tagName:t,disabled:r},i));return ie(l,Object.assign({},i,o,{ref:e}))});XT.displayName="Button";const jk=["onKeyDown"];function Jk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function eL(n){return!n||n.trim()==="#"}const WT=te.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=Jk(n,jk);const[i]=Qb(Object.assign({tagName:"a"},r)),o=ya(l=>{i.onKeyDown(l),t==null||t(l)});return eL(r.href)||r.role==="button"?ie("a",Object.assign({ref:e},r,i,{onKeyDown:o})):ie("a",Object.assign({ref:e},r,{onKeyDown:t}))});WT.displayName="Anchor";const tL={[Cl]:"show",[uf]:"show"},jb=te.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=te.useCallback((h,d)=>{Uk(h),r==null||r(h,d)},[r]);return ie($T,{ref:o,addEndListener:Ik,...l,onEnter:c,childRef:Yy(e),children:(h,d)=>te.cloneElement(e,{...d,className:Vt("fade",n,e.props.className,tL[h],t[h])})})});jb.displayName="Fade";const nL={"aria-label":on.string,onClick:on.func,variant:on.oneOf(["white"])},Jb=te.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>ie("button",{ref:i,type:"button",className:Vt("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Jb.displayName="CloseButton";Jb.propTypes=nL;const hg=te.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...c},h)=>{const d=cn(e,"btn"),[v,{tagName:m}]=Qb({tagName:n,disabled:o,...c});return ie(m,{...v,...c,ref:h,disabled:o,className:Vt(l,d,i&&"active",t&&`${d}-${t}`,r&&`${d}-${r}`,c.href&&o&&"disabled")})});hg.displayName="Button";const ZT=te.forwardRef(({bsPrefix:n,size:e,vertical:t=!1,className:r,role:i="group",as:o="div",...l},c)=>{const h=cn(n,"btn-group");let d=h;return t&&(d=`${h}-vertical`),ie(o,{...l,ref:c,role:i,className:Vt(r,d,e&&`${h}-${e}`)})});ZT.displayName="ButtonGroup";function rL(n){const e=te.useRef(n);return e.current=n,e}function aL(n){const e=rL(n);te.useEffect(()=>()=>e.current(),[])}function iL(n,e){let t=0;return te.Children.map(n,r=>te.isValidElement(r)?e(r,t++):r)}function uL(n,e){return te.Children.toArray(n).some(t=>te.isValidElement(t)&&t.type===e)}function oL({as:n,bsPrefix:e,className:t,...r}){e=cn(e,"col");const i=FT(),o=HT(),l=[],c=[];return i.forEach(h=>{const d=r[h];delete r[h];let v,m,b;typeof d=="object"&&d!=null?{span:v,offset:m,order:b}=d:v=d;const E=h!==o?`-${h}`:"";v&&l.push(v===!0?`${e}${E}`:`${e}${E}-${v}`),b!=null&&c.push(`order${E}-${b}`),m!=null&&c.push(`offset${E}-${m}`)}),[{...r,className:Vt(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const QT=te.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=oL(n);return ie(i,{...r,ref:e,className:Vt(t,!l.length&&o)})});QT.displayName="Col";var lL=Function.prototype.bind.call(Function.prototype.call,[].slice);function Al(n,e){return lL(n.querySelectorAll(e))}function sL(n,e,t){const r=te.useRef(n!==void 0),[i,o]=te.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&o(e),[l?n:i,te.useCallback((...h)=>{const[d,...v]=h;let m=t==null?void 0:t(d,...v);return o(d),m},[t])]}function fL(){const[,n]=te.useReducer(e=>e+1,0);return n}const Xy=te.createContext(null);var oS=Object.prototype.hasOwnProperty;function lS(n,e,t){for(t of n.keys())if(Wv(t,e))return t}function Wv(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Wv(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=lS(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=lS(e,i),!i)||!Wv(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(oS.call(n,t)&&++r&&!oS.call(e,t)||!(t in e)||!Wv(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function cL(n){const e=YT();return[n[0],te.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Ia="top",_i="bottom",ki="right",Pa="left",ew="auto",Dg=[Ia,_i,ki,Pa],hd="start",vg="end",dL="clippingParents",jT="viewport",zv="popper",hL="reference",sS=Dg.reduce(function(n,e){return n.concat([e+"-"+hd,e+"-"+vg])},[]),JT=[].concat(Dg,[ew]).reduce(function(n,e){return n.concat([e,e+"-"+hd,e+"-"+vg])},[]),vL="beforeRead",gL="read",pL="afterRead",mL="beforeMain",yL="main",bL="afterMain",wL="beforeWrite",EL="write",SL="afterWrite",xL=[vL,gL,pL,mL,yL,bL,wL,EL,SL];function $u(n){return n.split("-")[0]}function fi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function wf(n){var e=fi(n).Element;return n instanceof e||n instanceof Element}function Yu(n){var e=fi(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function tw(n){if(typeof ShadowRoot>"u")return!1;var e=fi(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var ff=Math.max,Sy=Math.min,vd=Math.round;function mb(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function eC(){return!/^((?!chrome|android).)*safari/i.test(mb())}function gd(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&Yu(n)&&(i=n.offsetWidth>0&&vd(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&vd(r.height)/n.offsetHeight||1);var l=wf(n)?fi(n):window,c=l.visualViewport,h=!eC()&&t,d=(r.left+(h&&c?c.offsetLeft:0))/i,v=(r.top+(h&&c?c.offsetTop:0))/o,m=r.width/i,b=r.height/o;return{width:m,height:b,top:v,right:d+m,bottom:v+b,left:d,x:d,y:v}}function nw(n){var e=gd(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function tC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&tw(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ul(n){return n?(n.nodeName||"").toLowerCase():null}function Ro(n){return fi(n).getComputedStyle(n)}function TL(n){return["table","td","th"].indexOf(Ul(n))>=0}function Yl(n){return((wf(n)?n.ownerDocument:n.document)||window.document).documentElement}function Wy(n){return Ul(n)==="html"?n:n.assignedSlot||n.parentNode||(tw(n)?n.host:null)||Yl(n)}function fS(n){return!Yu(n)||Ro(n).position==="fixed"?null:n.offsetParent}function CL(n){var e=/firefox/i.test(mb()),t=/Trident/i.test(mb());if(t&&Yu(n)){var r=Ro(n);if(r.position==="fixed")return null}var i=Wy(n);for(tw(i)&&(i=i.host);Yu(i)&&["html","body"].indexOf(Ul(i))<0;){var o=Ro(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Og(n){for(var e=fi(n),t=fS(n);t&&TL(t)&&Ro(t).position==="static";)t=fS(t);return t&&(Ul(t)==="html"||Ul(t)==="body"&&Ro(t).position==="static")?e:t||CL(n)||e}function rw(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Zv(n,e,t){return ff(n,Sy(e,t))}function AL(n,e,t){var r=Zv(n,e,t);return r>t?t:r}function nC(){return{top:0,right:0,bottom:0,left:0}}function rC(n){return Object.assign({},nC(),n)}function aC(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var RL=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,rC(typeof e!="number"?e:aC(e,Dg))};function DL(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=$u(t.placement),h=rw(c),d=[Pa,ki].indexOf(c)>=0,v=d?"height":"width";if(!(!o||!l)){var m=RL(i.padding,t),b=nw(o),E=h==="y"?Ia:Pa,S=h==="y"?_i:ki,A=t.rects.reference[v]+t.rects.reference[h]-l[h]-t.rects.popper[v],T=l[h]-t.rects.reference[h],C=Og(o),R=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,D=A/2-T/2,M=m[E],k=R-b[v]-m[S],L=R/2-b[v]/2+D,_=Zv(M,L,k),I=h;t.modifiersData[r]=(e={},e[I]=_,e.centerOffset=_-L,e)}}function OL(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||tC(e.elements.popper,i)&&(e.elements.arrow=i))}const ML={name:"arrow",enabled:!0,phase:"main",fn:DL,effect:OL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pd(n){return n.split("-")[1]}var BL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NL(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:vd(t*i)/i||0,y:vd(r*i)/i||0}}function cS(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,c=n.position,h=n.gpuAcceleration,d=n.adaptive,v=n.roundOffsets,m=n.isFixed,b=l.x,E=b===void 0?0:b,S=l.y,A=S===void 0?0:S,T=typeof v=="function"?v({x:E,y:A}):{x:E,y:A};E=T.x,A=T.y;var C=l.hasOwnProperty("x"),R=l.hasOwnProperty("y"),D=Pa,M=Ia,k=window;if(d){var L=Og(t),_="clientHeight",I="clientWidth";if(L===fi(t)&&(L=Yl(t),Ro(L).position!=="static"&&c==="absolute"&&(_="scrollHeight",I="scrollWidth")),L=L,i===Ia||(i===Pa||i===ki)&&o===vg){M=_i;var B=m&&L===k&&k.visualViewport?k.visualViewport.height:L[_];A-=B-r.height,A*=h?1:-1}if(i===Pa||(i===Ia||i===_i)&&o===vg){D=ki;var P=m&&L===k&&k.visualViewport?k.visualViewport.width:L[I];E-=P-r.width,E*=h?1:-1}}var F=Object.assign({position:c},d&&BL),H=v===!0?NL({x:E,y:A},fi(t)):{x:E,y:A};if(E=H.x,A=H.y,h){var X;return Object.assign({},F,(X={},X[M]=R?"0":"",X[D]=C?"0":"",X.transform=(k.devicePixelRatio||1)<=1?"translate("+E+"px, "+A+"px)":"translate3d("+E+"px, "+A+"px, 0)",X))}return Object.assign({},F,(e={},e[M]=R?A+"px":"",e[D]=C?E+"px":"",e.transform="",e))}function _L(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,h=c===void 0?!0:c,d={placement:$u(e.placement),variation:pd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cS(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cS(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_L,data:{}};var Xm={passive:!0};function LL(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,h=fi(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(v){v.addEventListener("scroll",t.update,Xm)}),c&&h.addEventListener("resize",t.update,Xm),function(){o&&d.forEach(function(v){v.removeEventListener("scroll",t.update,Xm)}),c&&h.removeEventListener("resize",t.update,Xm)}}const zL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LL,data:{}};var IL={left:"right",right:"left",bottom:"top",top:"bottom"};function iy(n){return n.replace(/left|right|bottom|top/g,function(e){return IL[e]})}var PL={start:"end",end:"start"};function dS(n){return n.replace(/start|end/g,function(e){return PL[e]})}function aw(n){var e=fi(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function iw(n){return gd(Yl(n)).left+aw(n).scrollLeft}function UL(n,e){var t=fi(n),r=Yl(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;var d=eC();(d||!d&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:o,height:l,x:c+iw(n),y:h}}function FL(n){var e,t=Yl(n),r=aw(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=ff(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ff(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+iw(n),h=-r.scrollTop;return Ro(i||t).direction==="rtl"&&(c+=ff(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:c,y:h}}function uw(n){var e=Ro(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function iC(n){return["html","body","#document"].indexOf(Ul(n))>=0?n.ownerDocument.body:Yu(n)&&uw(n)?n:iC(Wy(n))}function Qv(n,e){var t;e===void 0&&(e=[]);var r=iC(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=fi(r),l=i?[o].concat(o.visualViewport||[],uw(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(Qv(Wy(l)))}function yb(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function HL(n,e){var t=gd(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function hS(n,e,t){return e===jT?yb(UL(n,t)):wf(e)?HL(e,t):yb(FL(Yl(n)))}function GL(n){var e=Qv(Wy(n)),t=["absolute","fixed"].indexOf(Ro(n).position)>=0,r=t&&Yu(n)?Og(n):n;return wf(r)?e.filter(function(i){return wf(i)&&tC(i,r)&&Ul(i)!=="body"}):[]}function qL(n,e,t,r){var i=e==="clippingParents"?GL(n):[].concat(e),o=[].concat(i,[t]),l=o[0],c=o.reduce(function(h,d){var v=hS(n,d,r);return h.top=ff(v.top,h.top),h.right=Sy(v.right,h.right),h.bottom=Sy(v.bottom,h.bottom),h.left=ff(v.left,h.left),h},hS(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function uC(n){var e=n.reference,t=n.element,r=n.placement,i=r?$u(r):null,o=r?pd(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,h;switch(i){case Ia:h={x:l,y:e.y-t.height};break;case _i:h={x:l,y:e.y+e.height};break;case ki:h={x:e.x+e.width,y:c};break;case Pa:h={x:e.x-t.width,y:c};break;default:h={x:e.x,y:e.y}}var d=i?rw(i):null;if(d!=null){var v=d==="y"?"height":"width";switch(o){case hd:h[d]=h[d]-(e[v]/2-t[v]/2);break;case vg:h[d]=h[d]+(e[v]/2-t[v]/2);break}}return h}function gg(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,h=c===void 0?dL:c,d=t.rootBoundary,v=d===void 0?jT:d,m=t.elementContext,b=m===void 0?zv:m,E=t.altBoundary,S=E===void 0?!1:E,A=t.padding,T=A===void 0?0:A,C=rC(typeof T!="number"?T:aC(T,Dg)),R=b===zv?hL:zv,D=n.rects.popper,M=n.elements[S?R:b],k=qL(wf(M)?M:M.contextElement||Yl(n.elements.popper),h,v,l),L=gd(n.elements.reference),_=uC({reference:L,element:D,placement:i}),I=yb(Object.assign({},D,_)),B=b===zv?I:L,P={top:k.top-B.top+C.top,bottom:B.bottom-k.bottom+C.bottom,left:k.left-B.left+C.left,right:B.right-k.right+C.right},F=n.modifiersData.offset;if(b===zv&&F){var H=F[i];Object.keys(P).forEach(function(X){var K=[ki,_i].indexOf(X)>=0?1:-1,ee=[Ia,_i].indexOf(X)>=0?"y":"x";P[X]+=H[ee]*K})}return P}function VL(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,h=t.allowedAutoPlacements,d=h===void 0?JT:h,v=pd(r),m=v?c?sS:sS.filter(function(S){return pd(S)===v}):Dg,b=m.filter(function(S){return d.indexOf(S)>=0});b.length===0&&(b=m);var E=b.reduce(function(S,A){return S[A]=gg(n,{placement:A,boundary:i,rootBoundary:o,padding:l})[$u(A)],S},{});return Object.keys(E).sort(function(S,A){return E[S]-E[A]})}function $L(n){if($u(n)===ew)return[];var e=iy(n);return[dS(n),e,dS(e)]}function YL(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,h=t.fallbackPlacements,d=t.padding,v=t.boundary,m=t.rootBoundary,b=t.altBoundary,E=t.flipVariations,S=E===void 0?!0:E,A=t.allowedAutoPlacements,T=e.options.placement,C=$u(T),R=C===T,D=h||(R||!S?[iy(T)]:$L(T)),M=[T].concat(D).reduce(function(oe,me){return oe.concat($u(me)===ew?VL(e,{placement:me,boundary:v,rootBoundary:m,padding:d,flipVariations:S,allowedAutoPlacements:A}):me)},[]),k=e.rects.reference,L=e.rects.popper,_=new Map,I=!0,B=M[0],P=0;P<M.length;P++){var F=M[P],H=$u(F),X=pd(F)===hd,K=[Ia,_i].indexOf(H)>=0,ee=K?"width":"height",Y=gg(e,{placement:F,boundary:v,rootBoundary:m,altBoundary:b,padding:d}),Z=K?X?ki:Pa:X?_i:Ia;k[ee]>L[ee]&&(Z=iy(Z));var Q=iy(Z),ue=[];if(o&&ue.push(Y[H]<=0),c&&ue.push(Y[Z]<=0,Y[Q]<=0),ue.every(function(oe){return oe})){B=F,I=!1;break}_.set(F,ue)}if(I)for(var U=S?3:1,W=function(me){var ye=M.find(function(Oe){var Te=_.get(Oe);if(Te)return Te.slice(0,me).every(function(de){return de})});if(ye)return B=ye,"break"},ne=U;ne>0;ne--){var ce=W(ne);if(ce==="break")break}e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}}const KL={name:"flip",enabled:!0,phase:"main",fn:YL,requiresIfExists:["offset"],data:{_skip:!1}};function vS(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function gS(n){return[Ia,ki,_i,Pa].some(function(e){return n[e]>=0})}function XL(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=gg(e,{elementContext:"reference"}),c=gg(e,{altBoundary:!0}),h=vS(l,r),d=vS(c,i,o),v=gS(h),m=gS(d);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:v,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":m})}const WL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:XL};function ZL(n,e,t){var r=$u(n),i=[Pa,Ia].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*i,[Pa,ki].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function QL(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=JT.reduce(function(v,m){return v[m]=ZL(m,e.rects,o),v},{}),c=l[e.placement],h=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=l}const jL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QL};function JL(n){var e=n.state,t=n.name;e.modifiersData[t]=uC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const e5={name:"popperOffsets",enabled:!0,phase:"read",fn:JL,data:{}};function t5(n){return n==="x"?"y":"x"}function n5(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,h=t.boundary,d=t.rootBoundary,v=t.altBoundary,m=t.padding,b=t.tether,E=b===void 0?!0:b,S=t.tetherOffset,A=S===void 0?0:S,T=gg(e,{boundary:h,rootBoundary:d,padding:m,altBoundary:v}),C=$u(e.placement),R=pd(e.placement),D=!R,M=rw(C),k=t5(M),L=e.modifiersData.popperOffsets,_=e.rects.reference,I=e.rects.popper,B=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,P=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(L){if(o){var X,K=M==="y"?Ia:Pa,ee=M==="y"?_i:ki,Y=M==="y"?"height":"width",Z=L[M],Q=Z+T[K],ue=Z-T[ee],U=E?-I[Y]/2:0,W=R===hd?_[Y]:I[Y],ne=R===hd?-I[Y]:-_[Y],ce=e.elements.arrow,oe=E&&ce?nw(ce):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nC(),ye=me[K],Oe=me[ee],Te=Zv(0,_[Y],oe[Y]),de=D?_[Y]/2-U-Te-ye-P.mainAxis:W-Te-ye-P.mainAxis,ae=D?-_[Y]/2+U+Te+Oe+P.mainAxis:ne+Te+Oe+P.mainAxis,we=e.elements.arrow&&Og(e.elements.arrow),_e=we?M==="y"?we.clientTop||0:we.clientLeft||0:0,He=(X=F==null?void 0:F[M])!=null?X:0,Ge=Z+de-He-_e,Ye=Z+ae-He,Ct=Zv(E?Sy(Q,Ge):Q,Z,E?ff(ue,Ye):ue);L[M]=Ct,H[M]=Ct-Z}if(c){var ht,Ke=M==="x"?Ia:Pa,Xe=M==="x"?_i:ki,je=L[k],Ze=k==="y"?"height":"width",tt=je+T[Ke],at=je-T[Xe],nt=[Ia,Pa].indexOf(C)!==-1,wt=(ht=F==null?void 0:F[k])!=null?ht:0,Ae=nt?tt:je-_[Ze]-I[Ze]-wt+P.altAxis,V=nt?je+_[Ze]+I[Ze]-wt-P.altAxis:at,he=E&&nt?AL(Ae,je,V):Zv(E?Ae:tt,je,E?V:at);L[k]=he,H[k]=he-je}e.modifiersData[r]=H}}const r5={name:"preventOverflow",enabled:!0,phase:"main",fn:n5,requiresIfExists:["offset"]};function a5(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function i5(n){return n===fi(n)||!Yu(n)?aw(n):a5(n)}function u5(n){var e=n.getBoundingClientRect(),t=vd(e.width)/n.offsetWidth||1,r=vd(e.height)/n.offsetHeight||1;return t!==1||r!==1}function o5(n,e,t){t===void 0&&(t=!1);var r=Yu(e),i=Yu(e)&&u5(e),o=Yl(e),l=gd(n,i,t),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Ul(e)!=="body"||uw(o))&&(c=i5(e)),Yu(e)?(h=gd(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):o&&(h.x=iw(o))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function l5(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var h=e.get(c);h&&i(h)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function s5(n){var e=l5(n);return xL.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function f5(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function c5(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var pS={placement:"bottom",modifiers:[],strategy:"absolute"};function mS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function d5(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?pS:i;return function(c,h,d){d===void 0&&(d=o);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},pS,o),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},m=[],b=!1,E={state:v,setOptions:function(C){var R=typeof C=="function"?C(v.options):C;A(),v.options=Object.assign({},o,v.options,R),v.scrollParents={reference:wf(c)?Qv(c):c.contextElement?Qv(c.contextElement):[],popper:Qv(h)};var D=s5(c5([].concat(r,v.options.modifiers)));return v.orderedModifiers=D.filter(function(M){return M.enabled}),S(),E.update()},forceUpdate:function(){if(!b){var C=v.elements,R=C.reference,D=C.popper;if(mS(R,D)){v.rects={reference:o5(R,Og(D),v.options.strategy==="fixed"),popper:nw(D)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(P){return v.modifiersData[P.name]=Object.assign({},P.data)});for(var M=0;M<v.orderedModifiers.length;M++){if(v.reset===!0){v.reset=!1,M=-1;continue}var k=v.orderedModifiers[M],L=k.fn,_=k.options,I=_===void 0?{}:_,B=k.name;typeof L=="function"&&(v=L({state:v,options:I,name:B,instance:E})||v)}}}},update:f5(function(){return new Promise(function(T){E.forceUpdate(),T(v)})}),destroy:function(){A(),b=!0}};if(!mS(c,h))return E;E.setOptions(d).then(function(T){!b&&d.onFirstUpdate&&d.onFirstUpdate(T)});function S(){v.orderedModifiers.forEach(function(T){var C=T.name,R=T.options,D=R===void 0?{}:R,M=T.effect;if(typeof M=="function"){var k=M({state:v,name:C,instance:E,options:D}),L=function(){};m.push(k||L)}})}function A(){m.forEach(function(T){return T()}),m=[]}return E}}const h5=d5({defaultModifiers:[WL,e5,kL,zL,jL,KL,r5,ML]}),v5=["enabled","placement","strategy","modifiers"];function g5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const p5={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},m5={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},y5=[];function b5(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=y5}=t,c=g5(t,v5);const h=te.useRef(l),d=te.useRef(),v=te.useCallback(()=>{var T;(T=d.current)==null||T.update()},[]),m=te.useCallback(()=>{var T;(T=d.current)==null||T.forceUpdate()},[]),[b,E]=cL(te.useState({placement:i,update:v,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),S=te.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:T})=>{const C={},R={};Object.keys(T.elements).forEach(D=>{C[D]=T.styles[D],R[D]=T.attributes[D]}),E({state:T,styles:C,attributes:R,update:v,forceUpdate:m,placement:T.placement})}}),[v,m,E]),A=te.useMemo(()=>(Wv(h.current,l)||(h.current=l),h.current),[l]);return te.useEffect(()=>{!d.current||!r||d.current.setOptions({placement:i,strategy:o,modifiers:[...A,S,p5]})},[o,i,S,r,A]),te.useEffect(()=>{if(!(!r||n==null||e==null))return d.current=h5(n,e,Object.assign({},c,{placement:i,strategy:o,modifiers:[...A,m5,S]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,E(T=>Object.assign({},T,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),b}function xy(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var z1,yS;function w5(){if(yS)return z1;yS=1;var n=function(){};return z1=n,z1}var E5=w5();const S5=md(E5),bS=()=>{};function x5(n){return n.button===0}function T5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const I1=n=>n&&("current"in n?n.current:n),wS={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function C5(n,e=bS,{disabled:t,clickTrigger:r="click"}={}){const i=te.useRef(!1),o=te.useRef(!1),l=te.useCallback(d=>{const v=I1(n);S5(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!v||T5(d)||!x5(d)||!!xy(v,d.target)||o.current,o.current=!1},[n]),c=ya(d=>{const v=I1(n);v&&xy(v,d.target)?o.current=!0:o.current=!1}),h=ya(d=>{i.current||e(d)});te.useEffect(()=>{var d,v;if(t||n==null)return;const m=Rg(I1(n)),b=m.defaultView||window;let E=(d=b.event)!=null?d:(v=b.parent)==null?void 0:v.event,S=null;wS[r]&&(S=Ml(m,wS[r],c,!0));const A=Ml(m,r,l,!0),T=Ml(m,r,R=>{if(R===E){E=void 0;return}h(R)});let C=[];return"ontouchstart"in m.documentElement&&(C=[].slice.call(m.body.children).map(R=>Ml(R,"mousemove",bS))),()=>{S==null||S(),A(),T(),C.forEach(R=>R())}},[n,t,r,l,c,h])}function A5(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function R5(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function D5({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:c,popperConfig:h={}}){var d,v,m,b,E;const S=A5(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:o?"fixed":h.strategy,modifiers:R5(Object.assign({},S,{eventListeners:{enabled:e,options:(d=S.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},S.preventOverflow,{options:l?Object.assign({padding:l},(v=S.preventOverflow)==null?void 0:v.options):(m=S.preventOverflow)==null?void 0:m.options}),offset:{options:Object.assign({offset:i},(b=S.offset)==null?void 0:b.options)},arrow:Object.assign({},S.arrow,{enabled:!!c,options:Object.assign({},(E=S.arrow)==null?void 0:E.options,{element:c})}),flip:Object.assign({enabled:!!r},S.flip)}))})}const O5=["children","usePopper"];function M5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const B5=()=>{};function oC(n={}){const e=te.useContext(Xy),[t,r]=Vk(),i=te.useRef(!1),{flip:o,offset:l,rootCloseEvent:c,fixed:h=!1,placement:d,popperConfig:v={},enableEventListeners:m=!0,usePopper:b=!!e}=n,E=(e==null?void 0:e.show)==null?!!n.show:e.show;E&&!i.current&&(i.current=!0);const S=L=>{e==null||e.toggle(!1,L)},{placement:A,setMenu:T,menuElement:C,toggleElement:R}=e||{},D=b5(R,C,D5({placement:d||A||"bottom-start",enabled:b,enableEvents:m??E,offset:l,flip:o,fixed:h,arrowElement:t,popperConfig:v})),M=Object.assign({ref:T||B5,"aria-labelledby":R==null?void 0:R.id},D.attributes.popper,{style:D.styles.popper}),k={show:E,placement:A,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:b?D:null,arrowProps:b?Object.assign({ref:r},D.attributes.arrow,{style:D.styles.arrow}):{}};return C5(C,S,{clickTrigger:c,disabled:!E}),[M,k]}function lC(n){let{children:e,usePopper:t=!0}=n,r=M5(n,O5);const[i,o]=oC(Object.assign({},r,{usePopper:t}));return ie(Xr,{children:e(i,o)})}lC.displayName="DropdownMenu";const sC={prefix:String(Math.round(Math.random()*1e10)),current:0},fC=za.createContext(sC),N5=za.createContext(!1);let P1=new WeakMap;function _5(n=!1){let e=te.useContext(fC),t=te.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=P1.get(o);l==null?P1.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,P1.delete(o))}t.current=++e.current}return t.current}function k5(n){let e=te.useContext(fC),t=_5(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function L5(n){let e=za.useId(),[t]=te.useState(F5()),r=t?"react-aria":`react-aria${sC.prefix}`;return n||`${r}-${e}`}const z5=typeof za.useId=="function"?L5:k5;function I5(){return!1}function P5(){return!0}function U5(n){return()=>{}}function F5(){return typeof za.useSyncExternalStore=="function"?za.useSyncExternalStore(U5,I5,P5):te.useContext(N5)}const cC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},ES=()=>{};function dC(){const n=z5(),{show:e=!1,toggle:t=ES,setToggle:r,menuElement:i}=te.useContext(Xy)||{},o=te.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||ES,onClick:o,"aria-expanded":!!e};return i&&cC(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function hC({children:n}){const[e,t]=dC();return ie(Xr,{children:n(e,t)})}hC.displayName="DropdownToggle";const bb=te.createContext(null),SS=(n,e=null)=>n!=null?String(n):e||null,vC=te.createContext(null);vC.displayName="NavContext";const H5="data-rr-ui-";function ow(n){return`${H5}${n}`}const G5=["eventKey","disabled","onClick","active","as"];function q5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function gC({key:n,href:e,active:t,disabled:r,onClick:i}){const o=te.useContext(bb),l=te.useContext(vC),{activeKey:c}=l||{},h=SS(n,e),d=t==null&&n!=null?SS(c)===h:t;return[{onClick:ya(m=>{r||(i==null||i(m),o&&!m.isPropagationStopped()&&o(h,m))}),"aria-disabled":r||void 0,"aria-selected":d,[ow("dropdown-item")]:""},{isActive:d}]}const pC=te.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=XT}=n,c=q5(n,G5);const[h]=gC({key:t,href:c.href,disabled:r,onClick:i,active:o});return ie(l,Object.assign({},c,{ref:e},h))});pC.displayName="DropdownItem";const mC=te.createContext(Dd?window:void 0);mC.Provider;function Zy(){return te.useContext(mC)}function xS(){const n=fL(),e=te.useRef(null),t=te.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Mg({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${ow("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}){const h=Zy(),[d,v]=sL(e,n,r),[m,b]=xS(),E=m.current,[S,A]=xS(),T=S.current,C=KT(d),R=te.useRef(null),D=te.useRef(!1),M=te.useContext(bb),k=te.useCallback((F,H,X=H==null?void 0:H.type)=>{v(F,{originalEvent:H,source:X})},[v]),L=ya((F,H)=>{t==null||t(F,H),k(!1,H,"select"),H.isPropagationStopped()||M==null||M(F,H)}),_=te.useMemo(()=>({toggle:k,placement:l,show:d,menuElement:E,toggleElement:T,setMenu:b,setToggle:A}),[k,l,d,E,T,b,A]);E&&C&&!d&&(D.current=E.contains(E.ownerDocument.activeElement));const I=ya(()=>{T&&T.focus&&T.focus()}),B=ya(()=>{const F=R.current;let H=o;if(H==null&&(H=m.current&&cC(m.current)?"keyboard":!1),H===!1||H==="keyboard"&&!/^key.+$/.test(F))return;const X=Al(m.current,i)[0];X&&X.focus&&X.focus()});te.useEffect(()=>{d?B():D.current&&(D.current=!1,I())},[d,D,I,B]),te.useEffect(()=>{R.current=null});const P=(F,H)=>{if(!m.current)return null;const X=Al(m.current,i);let K=X.indexOf(F)+H;return K=Math.max(0,Math.min(K,X.length)),X[K]};return Yk(te.useCallback(()=>h.document,[h]),"keydown",F=>{var H,X;const{key:K}=F,ee=F.target,Y=(H=m.current)==null?void 0:H.contains(ee),Z=(X=S.current)==null?void 0:X.contains(ee);if(/input|textarea/i.test(ee.tagName)&&(K===" "||K!=="Escape"&&Y||K==="Escape"&&ee.type==="search")||!Y&&!Z||K==="Tab"&&(!m.current||!d))return;R.current=F.type;const ue={originalEvent:F,source:F.type};switch(K){case"ArrowUp":{const U=P(ee,-1);U&&U.focus&&U.focus(),F.preventDefault();return}case"ArrowDown":if(F.preventDefault(),!d)v(!0,ue);else{const U=P(ee,1);U&&U.focus&&U.focus()}return;case"Tab":Zb(ee.ownerDocument,"keyup",U=>{var W;(U.key==="Tab"&&!U.target||!((W=m.current)!=null&&W.contains(U.target)))&&v(!1,ue)},{once:!0});break;case"Escape":K==="Escape"&&(F.preventDefault(),F.stopPropagation()),v(!1,ue);break}}),ie(bb.Provider,{value:L,children:ie(Xy.Provider,{value:_,children:c})})}Mg.displayName="Dropdown";Mg.Menu=lC;Mg.Toggle=hC;Mg.Item=pC;const lw=te.createContext({});lw.displayName="DropdownContext";const yC=te.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=cn(e,"dropdown-divider"),ie(t,{ref:o,className:Vt(n,e),role:r,...i})));yC.displayName="DropdownDivider";const bC=te.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=cn(e,"dropdown-header"),ie(t,{ref:o,className:Vt(n,e),role:r,...i})));bC.displayName="DropdownHeader";const wC=te.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=WT,...c},h)=>{const d=cn(n,"dropdown-item"),[v,m]=gC({key:t,href:c.href,disabled:r,onClick:i,active:o});return ie(l,{...c,...v,ref:h,className:Vt(e,d,m.isActive&&"active",r&&"disabled")})});wC.displayName="DropdownItem";const EC=te.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=cn(e,"dropdown-item-text"),ie(t,{ref:i,className:Vt(n,e),...r})));EC.displayName="DropdownItemText";const V5=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$5=typeof document<"u",Y5=$5||V5?te.useLayoutEffect:te.useEffect,sw=te.createContext(null);sw.displayName="InputGroupContext";const SC=te.createContext(null);SC.displayName="NavbarContext";function xC(n,e){return n}const Jc=on.oneOf(["start","end"]),K5=on.oneOfType([Jc,on.shape({sm:Jc}),on.shape({md:Jc}),on.shape({lg:Jc}),on.shape({xl:Jc}),on.shape({xxl:Jc}),on.object]);function TC(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",h=t?"right-end":"left-end",d=t?"left-start":"right-start",v=t?"left-end":"right-end";let m=n?l:o;return e==="up"?m=n?i:r:e==="end"?m=n?v:d:e==="start"?m=n?h:c:e==="down-centered"?m="bottom":e==="up-centered"&&(m="top"),m}const fw=te.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:c="div",popperConfig:h,variant:d,...v},m)=>{let b=!1;const E=te.useContext(SC),S=cn(n,"dropdown-menu"),{align:A,drop:T,isRTL:C}=te.useContext(lw);t=t||A;const R=te.useContext(sw),D=[];if(t)if(typeof t=="object"){const F=Object.keys(t);if(F.length){const H=F[0],X=t[H];b=X==="start",D.push(`${S}-${H}-${X}`)}}else t==="end"&&(b=!0);const M=TC(b,T,C),[k,{hasShown:L,popper:_,show:I,toggle:B}]=oC({flip:i,rootCloseEvent:r,show:o,usePopper:!E&&D.length===0,offset:[0,2],popperConfig:h,placement:M});if(k.ref=Ky(xC(m),k.ref),Y5(()=>{I&&(_==null||_.update())},[I]),!L&&!l&&!R)return null;typeof c!="string"&&(k.show=I,k.close=()=>B==null?void 0:B(!1),k.align=t);let P=v.style;return _!=null&&_.placement&&(P={...v.style,...k.style},v["x-placement"]=_.placement),ie(c,{...v,...k,style:P,...(D.length||E)&&{"data-bs-popper":"static"},className:Vt(e,S,I&&"show",b&&`${S}-end`,d&&`${S}-${d}`,...D)})});fw.displayName="DropdownMenu";const cw=te.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=hg,...o},l)=>{const c=cn(n,"dropdown-toggle"),h=te.useContext(Xy);r!==void 0&&(o.bsPrefix=r);const[d]=dC();return d.ref=Ky(d.ref,xC(l)),ie(i,{className:Vt(t,c,e&&`${c}-split`,(h==null?void 0:h.show)&&"show"),...d,...o})});cw.displayName="DropdownToggle";const CC=te.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:c,onToggle:h,focusFirstItemOnShow:d,as:v="div",navbar:m,autoClose:b=!0,...E}=IT(n,{show:"onToggle"}),S=te.useContext(sw),A=cn(t,"dropdown"),T=GT(),C=_=>b===!1?_==="click":b==="inside"?_!=="rootClose":b==="outside"?_!=="select":!0,R=Ey((_,I)=>{var B;!((B=I.originalEvent)==null||(B=B.target)==null)&&B.classList.contains("dropdown-toggle")&&I.source==="mousedown"||(I.originalEvent.currentTarget===document&&(I.source!=="keydown"||I.originalEvent.key==="Escape")&&(I.source="rootClose"),C(I.source)&&(h==null||h(_,I)))}),M=TC(l==="end",r,T),k=te.useMemo(()=>({align:l,drop:r,isRTL:T}),[l,r,T]),L={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return ie(lw.Provider,{value:k,children:ie(Mg,{placement:M,show:i,onSelect:c,onToggle:R,focusFirstItemOnShow:d,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:S?E.children:ie(v,{...E,ref:e,className:Vt(o,i&&"show",L[r])})})})});CC.displayName="Dropdown";const Do=Object.assign(CC,{Toggle:cw,Menu:fw,Item:wC,ItemText:EC,Divider:yC,Header:bC}),X5={id:on.string,href:on.string,onClick:on.func,title:on.node.isRequired,disabled:on.bool,align:K5,menuRole:on.string,renderMenuOnMount:on.bool,rootCloseEvent:on.string,menuVariant:on.oneOf(["dark"]),flip:on.bool,bsPrefix:on.string,variant:on.string,size:on.string},Od=te.forwardRef(({title:n,children:e,bsPrefix:t,rootCloseEvent:r,variant:i,size:o,menuRole:l,renderMenuOnMount:c,disabled:h,href:d,id:v,menuVariant:m,flip:b,...E},S)=>Tt(Do,{ref:S,...E,children:[ie(cw,{id:v,href:d,size:o,variant:i,disabled:h,childBsPrefix:t,children:n}),ie(fw,{role:l,renderOnMount:c,rootCloseEvent:r,variant:m,flip:b,children:e})]}));Od.displayName="DropdownButton";Od.propTypes=X5;const W5={type:on.string,tooltip:on.bool,as:on.elementType},Qy=te.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>ie(n,{...i,ref:o,className:Vt(e,`${t}-${r?"tooltip":"feedback"}`)}));Qy.displayName="Feedback";Qy.propTypes=W5;const Oo=te.createContext({}),dw=te.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},h)=>{const{controlId:d}=te.useContext(Oo);return e=cn(e,"form-check-input"),ie(l,{...c,ref:h,type:r,id:n||d,className:Vt(t,e,i&&"is-valid",o&&"is-invalid")})});dw.displayName="FormCheckInput";const Ty=te.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=te.useContext(Oo);return n=cn(n,"form-check-label"),ie("label",{...r,ref:i,htmlFor:t||o,className:Vt(e,n)})});Ty.displayName="FormCheckLabel";const AC=te.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:v,className:m,style:b,title:E="",type:S="checkbox",label:A,children:T,as:C="input",...R},D)=>{e=cn(e,"form-check"),t=cn(t,"form-switch");const{controlId:M}=te.useContext(Oo),k=te.useMemo(()=>({controlId:n||M}),[M,n]),L=!T&&A!=null&&A!==!1||uL(T,Ty),_=ie(dw,{...R,type:S==="switch"?"checkbox":S,ref:D,isValid:l,isInvalid:c,disabled:o,as:C});return ie(Oo.Provider,{value:k,children:ie("div",{style:b,className:Vt(m,L&&e,r&&`${e}-inline`,i&&`${e}-reverse`,S==="switch"&&t),children:T||Tt(Xr,{children:[_,L&&ie(Ty,{title:E,children:A}),d&&ie(Qy,{type:v,tooltip:h,children:d})]})})})});AC.displayName="FormCheck";const Cy=Object.assign(AC,{Input:dw,Label:Ty}),RC=te.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:h,readOnly:d,as:v="input",...m},b)=>{const{controlId:E}=te.useContext(Oo);return n=cn(n,"form-control"),ie(v,{...m,type:e,size:r,ref:b,readOnly:d,id:i||E,className:Vt(o,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});RC.displayName="FormControl";const Z5=Object.assign(RC,{Feedback:Qy}),DC=te.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=cn(e,"form-floating"),ie(t,{ref:i,className:Vt(n,e),...r})));DC.displayName="FormFloating";const hw=te.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=te.useMemo(()=>({controlId:n}),[n]);return ie(Oo.Provider,{value:i,children:ie(e,{...t,ref:r})})});hw.displayName="FormGroup";const OC=te.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:h}=te.useContext(Oo);e=cn(e,"form-label");let d="col-form-label";typeof t=="string"&&(d=`${d} ${d}-${t}`);const v=Vt(i,e,r&&"visually-hidden",t&&d);return o=o||h,t?ie(QT,{ref:c,as:"label",className:v,htmlFor:o,...l}):ie(n,{ref:c,className:v,htmlFor:o,...l})});OC.displayName="FormLabel";const MC=te.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=te.useContext(Oo);return n=cn(n,"form-range"),ie("input",{...r,type:"range",ref:i,className:Vt(e,n),id:t||o})});MC.displayName="FormRange";const BC=te.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...c},h)=>{const{controlId:d}=te.useContext(Oo);return n=cn(n,"form-select"),ie("select",{...c,size:t,ref:h,className:Vt(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||d})});BC.displayName="FormSelect";const NC=te.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=cn(n,"form-text"),ie(t,{...i,ref:o,className:Vt(e,n,r&&"text-muted")})));NC.displayName="FormText";const _C=te.forwardRef((n,e)=>ie(Cy,{...n,ref:e,type:"switch"}));_C.displayName="Switch";const Q5=Object.assign(_C,{Input:Cy.Input,Label:Cy.Label}),kC=te.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=cn(n,"form-floating"),Tt(hw,{ref:l,className:Vt(e,n),controlId:r,...o,children:[t,ie("label",{htmlFor:r,children:i})]})));kC.displayName="FloatingLabel";const j5={_ref:on.any,validated:on.bool,as:on.elementType},vw=te.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>ie(t,{...r,ref:i,className:Vt(n,e&&"was-validated")}));vw.displayName="Form";vw.propTypes=j5;const TS=Object.assign(vw,{Group:hw,Control:Z5,Floating:DC,Check:Cy,Switch:Q5,Label:OC,Text:NC,Range:MC,Select:BC,FloatingLabel:kC}),CS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function J5(n,e){const t=CS(n),r=CS(e);return i=>{t&&t(i),r&&r(i)}}function gw(n,e){return te.useMemo(()=>J5(n,e),[n,e])}var Wm;function AS(n){if((!Wm&&Wm!==0||n)&&Dd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Wm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Wm}function ez(){return te.useState(null)}function U1(n){n===void 0&&(n=Rg());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function tz(n){const e=te.useRef(n);return e.current=n,e}function nz(n){const e=tz(n);te.useEffect(()=>()=>e.current(),[])}function rz(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const RS=ow("modal-open");class pw{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return rz(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(sf(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(RS,""),sf(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(RS),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const F1=(n,e)=>Dd?n==null?(e||Rg()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function az(n,e){const t=Zy(),[r,i]=te.useState(()=>F1(n,t==null?void 0:t.document));if(!r){const o=F1(n);o&&i(o)}return te.useEffect(()=>{},[e,r]),te.useEffect(()=>{const o=F1(n);o!==r&&i(o)},[n,r]),r}function iz({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const o=te.useRef(null),l=te.useRef(e),c=ya(t);te.useEffect(()=>{e?l.current=!0:c(o.current)},[e,c]);const h=gw(o,Yy(n)),d=te.cloneElement(n,{ref:h});return e?d:i||!l.current&&r?null:d}const uz=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function oz(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function lz(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:o,onExited:l,addEndListener:c,children:h}=n,d=oz(n,uz);const v=te.useRef(null),m=gw(v,Yy(h)),b=M=>k=>{M&&v.current&&M(v.current,k)},E=te.useCallback(b(e),[e]),S=te.useCallback(b(t),[t]),A=te.useCallback(b(r),[r]),T=te.useCallback(b(i),[i]),C=te.useCallback(b(o),[o]),R=te.useCallback(b(l),[l]),D=te.useCallback(b(c),[c]);return Object.assign({},d,{nodeRef:v},e&&{onEnter:E},t&&{onEntering:S},r&&{onEntered:A},i&&{onExit:T},o&&{onExiting:C},l&&{onExited:R},c&&{addEndListener:D},{children:typeof h=="function"?(M,k)=>h(M,Object.assign({},k,{ref:m})):te.cloneElement(h,{ref:m})})}const sz=["component"];function fz(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const cz=te.forwardRef((n,e)=>{let{component:t}=n,r=fz(n,sz);const i=lz(r);return ie(t,Object.assign({ref:e},i))});function dz({in:n,onTransition:e}){const t=te.useRef(null),r=te.useRef(!0),i=ya(e);return uS(()=>{if(!t.current)return;let o=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,i]),uS(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function hz({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[o,l]=te.useState(!e);e&&o&&l(!1);const c=dz({in:!!e,onTransition:d=>{const v=()=>{d.isStale()||(d.in?r==null||r(d.element,d.initial):(l(!0),t==null||t(d.element)))};Promise.resolve(i(d)).then(v,m=>{throw d.in||l(!0),m})}}),h=gw(c,Yy(n));return o&&!e?null:te.cloneElement(n,{ref:h})}function DS(n,e,t){return n?ie(cz,Object.assign({},t,{component:n})):e?ie(hz,Object.assign({},t,{transition:e})):ie(iz,Object.assign({},t))}const vz=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function gz(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let H1;function pz(n){return H1||(H1=new pw({ownerDocument:n==null?void 0:n.document})),H1}function mz(n){const e=Zy(),t=n||pz(e),r=te.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:te.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:te.useCallback(i=>{r.current.backdrop=i},[])})}const LC=te.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:o,children:l,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:v,transition:m,runTransition:b,backdropTransition:E,runBackdropTransition:S,autoFocus:A=!0,enforceFocus:T=!0,restoreFocus:C=!0,restoreFocusOptions:R,renderDialog:D,renderBackdrop:M=Ye=>ie("div",Object.assign({},Ye)),manager:k,container:L,onShow:_,onHide:I=()=>{},onExit:B,onExited:P,onExiting:F,onEnter:H,onEntering:X,onEntered:K}=n,ee=gz(n,vz);const Y=Zy(),Z=az(L),Q=mz(k),ue=YT(),U=KT(t),[W,ne]=te.useState(!t),ce=te.useRef(null);te.useImperativeHandle(e,()=>Q,[Q]),Dd&&!U&&t&&(ce.current=U1(Y==null?void 0:Y.document)),t&&W&&ne(!1);const oe=ya(()=>{if(Q.add(),ae.current=Ml(document,"keydown",Te),de.current=Ml(document,"focus",()=>setTimeout(ye),!0),_&&_(),A){var Ye,Ct;const ht=U1((Ye=(Ct=Q.dialog)==null?void 0:Ct.ownerDocument)!=null?Ye:Y==null?void 0:Y.document);Q.dialog&&ht&&!xy(Q.dialog,ht)&&(ce.current=ht,Q.dialog.focus())}}),me=ya(()=>{if(Q.remove(),ae.current==null||ae.current(),de.current==null||de.current(),C){var Ye;(Ye=ce.current)==null||Ye.focus==null||Ye.focus(R),ce.current=null}});te.useEffect(()=>{!t||!Z||oe()},[t,Z,oe]),te.useEffect(()=>{W&&me()},[W,me]),nz(()=>{me()});const ye=ya(()=>{if(!T||!ue()||!Q.isTopModal())return;const Ye=U1(Y==null?void 0:Y.document);Q.dialog&&Ye&&!xy(Q.dialog,Ye)&&Q.dialog.focus()}),Oe=ya(Ye=>{Ye.target===Ye.currentTarget&&(d==null||d(Ye),c===!0&&I())}),Te=ya(Ye=>{h&&Nk(Ye)&&Q.isTopModal()&&(v==null||v(Ye),Ye.defaultPrevented||I())}),de=te.useRef(),ae=te.useRef(),we=(...Ye)=>{ne(!0),P==null||P(...Ye)};if(!Z)return null;const _e=Object.assign({role:r,ref:Q.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ee,{style:o,className:i,tabIndex:-1});let He=D?D(_e):ie("div",Object.assign({},_e,{children:te.cloneElement(l,{role:"document"})}));He=DS(m,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:B,onExiting:F,onExited:we,onEnter:H,onEntering:X,onEntered:K,children:He});let Ge=null;return c&&(Ge=M({ref:Q.setBackdropRef,onClick:Oe}),Ge=DS(E,S,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ge})),ie(Xr,{children:ad.createPortal(Tt(Xr,{children:[Ge,He]}),Z)})});LC.displayName="Modal";const yz=Object.assign(LC,{Manager:pw});function bz(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function wz(n,e){n.classList?n.classList.add(e):bz(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function OS(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ez(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=OS(n.className,e):n.setAttribute("class",OS(n.className&&n.className.baseVal||"",e))}const ed={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Sz extends pw{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,sf(t,{[e]:`${parseFloat(sf(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],sf(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(wz(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Al(t,ed.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Al(t,ed.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Al(t,ed.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Ez(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Al(t,ed.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Al(t,ed.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Al(t,ed.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let G1;function xz(n){return G1||(G1=new Sz(n)),G1}const zC=te.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=cn(e,"modal-body"),ie(t,{ref:i,className:Vt(n,e),...r})));zC.displayName="ModalBody";const IC=te.createContext({onHide(){}}),mw=te.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:o,children:l,scrollable:c,...h},d)=>{n=cn(n,"modal");const v=`${n}-dialog`,m=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return ie("div",{...h,ref:d,className:Vt(v,e,i&&`${n}-${i}`,r&&`${v}-centered`,c&&`${v}-scrollable`,o&&m),children:ie("div",{className:Vt(`${n}-content`,t),children:l})})});mw.displayName="ModalDialog";const PC=te.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=cn(e,"modal-footer"),ie(t,{ref:i,className:Vt(n,e),...r})));PC.displayName="ModalFooter";const UC=te.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...o},l)=>{const c=te.useContext(IC),h=Ey(()=>{c==null||c.onHide(),r==null||r()});return Tt("div",{ref:l,...o,children:[i,t&&ie(Jb,{"aria-label":n,variant:e,onClick:h})]})});UC.displayName="AbstractModalHeader";const FC=te.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=cn(n,"modal-header"),ie(UC,{ref:o,...i,className:Vt(e,n),closeLabel:t,closeButton:r})));FC.displayName="ModalHeader";const Tz=qk("h4"),HC=te.forwardRef(({className:n,bsPrefix:e,as:t=Tz,...r},i)=>(e=cn(e,"modal-title"),ie(t,{ref:i,className:Vt(n,e),...r})));HC.displayName="ModalTitle";function Cz(n){return ie(jb,{...n,timeout:null})}function Az(n){return ie(jb,{...n,timeout:null})}const GC=te.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:o,dialogAs:l=mw,"data-bs-theme":c,"aria-labelledby":h,"aria-describedby":d,"aria-label":v,show:m=!1,animation:b=!0,backdrop:E=!0,keyboard:S=!0,onEscapeKeyDown:A,onShow:T,onHide:C,container:R,autoFocus:D=!0,enforceFocus:M=!0,restoreFocus:k=!0,restoreFocusOptions:L,onEntered:_,onExit:I,onExiting:B,onEnter:P,onEntering:F,onExited:H,backdropClassName:X,manager:K,...ee},Y)=>{const[Z,Q]=te.useState({}),[ue,U]=te.useState(!1),W=te.useRef(!1),ne=te.useRef(!1),ce=te.useRef(null),[oe,me]=ez(),ye=Ky(Y,me),Oe=Ey(C),Te=GT();n=cn(n,"modal");const de=te.useMemo(()=>({onHide:Oe}),[Oe]);function ae(){return K||xz({isRTL:Te})}function we(Ae){if(!Dd)return;const V=ae().getScrollbarWidth()>0,he=Ae.scrollHeight>Rg(Ae).documentElement.clientHeight;Q({paddingRight:V&&!he?AS():void 0,paddingLeft:!V&&he?AS():void 0})}const _e=Ey(()=>{oe&&we(oe.dialog)});aL(()=>{pb(window,"resize",_e),ce.current==null||ce.current()});const He=()=>{W.current=!0},Ge=Ae=>{W.current&&oe&&Ae.target===oe.dialog&&(ne.current=!0),W.current=!1},Ye=()=>{U(!0),ce.current=VT(oe.dialog,()=>{U(!1)})},Ct=Ae=>{Ae.target===Ae.currentTarget&&Ye()},ht=Ae=>{if(E==="static"){Ct(Ae);return}if(ne.current||Ae.target!==Ae.currentTarget){ne.current=!1;return}C==null||C()},Ke=Ae=>{S?A==null||A(Ae):(Ae.preventDefault(),E==="static"&&Ye())},Xe=(Ae,V)=>{Ae&&we(Ae),P==null||P(Ae,V)},je=Ae=>{ce.current==null||ce.current(),I==null||I(Ae)},Ze=(Ae,V)=>{F==null||F(Ae,V),Zb(window,"resize",_e)},tt=Ae=>{Ae&&(Ae.style.display=""),H==null||H(Ae),pb(window,"resize",_e)},at=te.useCallback(Ae=>ie("div",{...Ae,className:Vt(`${n}-backdrop`,X,!b&&"show")}),[b,X,n]),nt={...t,...Z};nt.display="block";const wt=Ae=>ie("div",{role:"dialog",...Ae,style:nt,className:Vt(e,n,ue&&`${n}-static`,!b&&"show"),onClick:E?ht:void 0,onMouseUp:Ge,"data-bs-theme":c,"aria-label":v,"aria-labelledby":h,"aria-describedby":d,children:ie(l,{...ee,onMouseDown:He,className:r,contentClassName:i,children:o})});return ie(IC.Provider,{value:de,children:ie(yz,{show:m,ref:ye,backdrop:E,container:R,keyboard:!0,autoFocus:D,enforceFocus:M,restoreFocus:k,restoreFocusOptions:L,onEscapeKeyDown:Ke,onShow:T,onHide:C,onEnter:Xe,onEntering:Ze,onEntered:_,onExit:je,onExiting:B,onExited:tt,manager:ae(),transition:b?Cz:void 0,backdropTransition:b?Az:void 0,renderBackdrop:at,renderDialog:wt})})});GC.displayName="Modal";const Iv=Object.assign(GC,{Body:zC,Header:FC,Title:HC,Footer:PC,Dialog:mw,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Rz(n,e=PT,t=UT){const r=[];return Object.entries(n).forEach(([i,o])=>{o!=null&&(typeof o=="object"?e.forEach(l=>{const c=o[l];if(c!=null){const h=l!==t?`-${l}`:"";r.push(`${i}${h}-${c}`)}}):r.push(`${i}-${o}`))}),r}const qC=te.forwardRef(({as:n="div",bsPrefix:e,className:t,direction:r,gap:i,...o},l)=>{e=cn(e,r==="horizontal"?"hstack":"vstack");const c=FT(),h=HT();return ie(n,{...o,ref:l,className:Vt(t,e,...Rz({gap:i},c,h))})});qC.displayName="Stack";const Dz=()=>{},jv=te.forwardRef(({bsPrefix:n,name:e,className:t,checked:r,type:i,onChange:o,value:l,disabled:c,id:h,inputRef:d,...v},m)=>(n=cn(n,"btn-check"),Tt(Xr,{children:[ie("input",{className:n,name:e,type:i,value:l,ref:d,autoComplete:"off",checked:!!r,disabled:!!c,onChange:o||Dz,id:h}),ie(hg,{...v,ref:m,className:Vt(t,c&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:h})]})));jv.displayName="ToggleButton";const VC=te.forwardRef((n,e)=>{const{children:t,type:r="radio",name:i,value:o,onChange:l,vertical:c=!1,...h}=IT(n,{value:"onChange"}),d=()=>o==null?[]:[].concat(o),v=(m,b)=>{if(!l)return;const E=d(),S=E.indexOf(m)!==-1;if(r==="radio"){S||l(m,b);return}l(S?E.filter(A=>A!==m):[...E,m],b)};return r!=="radio"||i||vk(!1),ie(ZT,{...h,ref:e,vertical:c,children:iL(t,m=>{const b=d(),{value:E,onChange:S}=m.props,A=T=>v(E,T);return te.cloneElement(m,{type:r,name:m.name||i,checked:b.indexOf(E)!==-1,onChange:Pk(S,A)})})})});VC.displayName="ToggleButtonGroup";const Oz=Object.assign(VC,{Button:jv});function Mz(){const n=te.useContext(Fa),e=te.useRef(""),t=te.useRef(""),r=te.useRef(""),i=te.useRef("");if(!n)throw new Error("AutomatonWindow must be used within a CoreProvider");function o(){const m=n.primary;switch(m.kind){case ut.AUTOMATON:{const b=m.addState(e.current,{x:200,y:50});b!==void 0&&console.log(b.details);break}case ut.GRAMMAR:console.log("Cannot add state to grammar.");break}}function l(){const m=n.primary;switch(m.kind){case ut.AUTOMATON:{const b=m.removeState(e.current);b!==void 0&&console.log(b.details);break}case ut.GRAMMAR:console.log("Cannot remove state from grammar.");break}}function c(){const m=n.primary;switch(m.kind){case ut.AUTOMATON:{const b=m.addEdge(t.current,r.current,{id:"",inputChar:i.current});b!==void 0&&console.log(b.details);break}case ut.GRAMMAR:console.log("Cannot add edge to grammar.");break}}function h(){const m=n.primary;switch(m.kind){case ut.AUTOMATON:{const b=m.removeEdge(t.current,r.current,e.current);b!==void 0&&console.log(b.details);break}case ut.GRAMMAR:console.log("Cannot remove edge from grammar.");break}}function d(){const m=n==null?void 0:n.primary.undo();m!==void 0&&console.log(m.details)}function v(){const m=n.primary;switch(m.kind){case ut.AUTOMATON:{m.fit();break}case ut.GRAMMAR:console.log("Fit is not applicable to grammar window.");break}}return ie(Xr,{children:Tt("div",{className:"d-flex",children:[Tt("div",{className:"col",children:[ie("div",{children:"From:"}),ie("input",{onChange:m=>t.current=m.target.value})]}),Tt("div",{className:"col",children:[ie("div",{children:"To:"}),ie("input",{onChange:m=>r.current=m.target.value})]}),Tt("div",{className:"col",children:[ie("div",{children:"Character:"}),ie("input",{onChange:m=>i.current=m.target.value})]}),Tt("div",{className:"col",children:[ie("div",{children:"ID:"}),ie("input",{onChange:m=>e.current=m.target.value})]}),ie("button",{className:"btn btn-primary mt-auto",onClick:c,children:"Add edge"}),ie("button",{className:"btn btn-primary mt-auto",onClick:h,children:"Remove edge"}),ie("button",{className:"btn btn-primary mt-auto",onClick:o,children:"Add state"}),ie("button",{className:"btn btn-primary mt-auto",onClick:l,children:"Remove state"}),ie("button",{className:"btn btn-primary mt-auto",onClick:d,children:"Undo"}),ie("button",{className:"btn btn-primary mt-auto",onClick:v,children:"Fit automaton to screen"})]})})}function $C({setButtonSet:n}){const e=te.useContext(Fa);if(!e)throw new Error("Algorithms must be used within a CoreProvider");function t(){const l=e.algorithmNext();l!==void 0&&alert(l.details)}function r(){const l=e.algorithmUndo();l!==void 0&&alert(l.details)}function i(){const l=e.transform();l!==void 0&&alert(l.details)}function o(l){const c=e.algorithmDelete(l);c!==void 0&&alert(c.details),n(cf.NOTHING)}return ie(Xr,{children:ie("div",{className:"row",children:ie("div",{className:"col",children:Tt(qC,{direction:"horizontal",gap:3,children:[ie("button",{className:"btn btn-primary",onClick:t,children:"Next step"}),ie("button",{className:"btn btn-primary",onClick:r,children:"Undo step"}),ie("button",{className:"btn btn-primary",onClick:i,children:"Skip to the end"}),e.secondary===void 0?ie("button",{className:"btn btn-primary",onClick:()=>o(!1),children:"Close algorithm"}):Tt(Od,{id:"dropdown-algorithm-button",title:"Close algorithm",children:[ie(Do.Item,{onClick:()=>o(!1),children:"Keep first window"}),ie(Do.Item,{onClick:()=>o(!0),children:"Keep second window"})]})]})})})})}function Bz({buttonSet:n,setButtonSet:e}){const t=te.useContext(Fa);if(t===void 0)throw new Error("StartSimulationButtons must be used within a CoreProvider");const r=t.primary;if(r.kind!==ut.AUTOMATON)throw new Error("StartSimulationButtons must be used with Automaton in primary window");const[i,o]=te.useState(""),[l,c]=te.useState([]),[h,d]=te.useState([]),[v,m]=te.useState([]),[b,E]=te.useState(!1),[S,A]=te.useState(1),T=te.useRef(null),C=te.useRef(null),R=()=>{var B;E(!0),(B=T==null?void 0:T.current)==null||B.play(),C.current===null&&(C.current=window.setInterval(()=>{_()||D()},S*1e3))},D=()=>{var B;E(!1),(B=T==null?void 0:T.current)==null||B.pause(),C.current!==null&&(clearInterval(C.current),C.current=null)};te.useEffect(()=>()=>{C.current!==null&&clearInterval(C.current)},[]);const M=B=>{T.current&&(T.current.playbackRate=B)},k=()=>{const B=i.split("");T.current&&(T.current.currentTime=0);const P=r.runStart(B);if(P!==void 0){alert(P.details);return}e(cf.SIMULATION),m(B),d(B),c([])},L=()=>{const B=r.runEnd();if(B!==void 0){alert(B.details);return}e(cf.NOTHING),d([]),c([]),D()};function _(){if(r.kind!==ut.AUTOMATON)return!1;const B=r.runNext();if(B)return alert(B.details),!1;const P=r.getRemainingInput();if(!P)return!1;const F=v.length-P.length,H=v.slice(0,F);return c(H),d(P),!0}function I(){if(r.kind!==ut.AUTOMATON)return!1;const B=r.runUndo();if(B)return alert(B.details),!1;const P=r.getRemainingInput();if(!P)return!1;const F=v.length-P.length,H=v.slice(0,F);return c(H),d(P),!0}return n===cf.NOTHING?Tt("div",{children:["vstupné slovo: ",ie("input",{type:"text",value:i,onChange:B=>o(B.target.value),placeholder:fr}),ie("button",{onClick:k,children:"Simuluj slovo"})," ",ie("br",{})]}):Tt("div",{children:[ie("audio",{ref:T,src:"/fojalka/simulation-music.aac",hidden:!0,loop:!0}),Tt("div",{children:["čítané slovo:",ie("input",{type:"text",size:l.length+1,value:l.join(""),readOnly:!0}),ie("input",{type:"text",size:h.length+1,value:"→"+h.join(""),readOnly:!0}),ie("button",{onClick:()=>L(),children:"stopni simulaciu"})," ",ie("br",{}),ie("button",{onClick:I,children:"predchadzajuci krok"}),ie("button",{onClick:_,children:"dalsi krok"})," ",ie("br",{}),"autoplay",Tt("div",{hidden:b,children:[ie("button",{onClick:R,children:"⏵"})," | rýchlosť",ie("input",{type:"number",min:.1,max:2,step:.1,value:S,onChange:B=>{A(Number(B.target.value)),M(Number(B.target.value))}})]}),ie("button",{onClick:D,hidden:!b,children:"⏸"})]})]})}class Bg{constructor(){xe(this,"inputType");xe(this,"outputType");xe(this,"results");xe(this,"index",0)}next(){if(this.results===void 0)throw new Error("Cannot simulate algorithm step before start.");if(this.index!==this.results.length)return this.results[this.index++]}}class Nz extends Bg{constructor(t){super();xe(this,"inputType",{Kind:ut.AUTOMATON,AutomatonType:On.FINITE});xe(this,"outputType",{Kind:ut.AUTOMATON,AutomatonType:On.FINITE});xe(this,"inputCore");xe(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.automaton.automatonType!==this.inputType.AutomatonType)throw new Error("Cannot use algorithm, as it only works with finite automata.");if(this.hasEpsilonTransitions())throw new Error("Cannot use algorithm, as the input automaton has epsilon transitions.");return this.outputCore=new dg(On.FINITE,Ry,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ie("Cannot undo algorithm step before start.");if(this.index===0)return new Ie("There is nothing to undo.");this.outputCore.automaton.undo(),this.index--}precomputeResults(){const t=[],r=[],i=[];i.push(this.inputCore.automaton.initialStateId),r.push(i),t.push(i);const o=[],l=this.inputCore.automaton.deltaFunctionMatrix;for(const d in l)for(const v in l[d])for(const m of l[d][v])o.includes(m.inputChar)||o.push(m.inputChar);this.results=[];let c=new Yb(this.outputCore.automaton,Ay,this.stateToString(i)),h=[this.inputCore.automaton.initialStateId];for(this.results.push({highlight:h,command:c}),this.inputCore.automaton.finalStateIds.includes(this.inputCore.automaton.initialStateId)&&(c=new cg(this.outputCore.automaton,this.stateToString(i),!0),this.results.push({highlight:h,command:c}));r.length!==0;){const d=r.pop();for(const v of o){const m=[],b=[];for(const S of d)for(const A in l[S])for(const T of l[S][A])T.inputChar===v&&(m.includes(A)||m.push(A),b.push(T.id));h=m,t.some(S=>this.equalState(S,m))||(t.push(m),r.push(m),c=new wy(this.outputCore.automaton,this.stateToString(m)),this.results.push({highlight:h,command:c}),this.inputCore.automaton.finalStateIds.some(S=>m.includes(S))&&(c=new cg(this.outputCore.automaton,this.stateToString(m),!0),this.results.push({highlight:h,command:c})));const E=this.outputCore.createEdge({id:"",inputChar:v});c=new lf(this.outputCore.automaton,this.stateToString(d),this.stateToString(m),E),this.results.push({highlight:b,command:c})}}}stateToString(t){return"{"+t.join()+"}"}equalState(t,r){return t.length!==r.length?!1:t.every(i=>r.includes(i))}hasEpsilonTransitions(){const t=this.inputCore.automaton.deltaFunctionMatrix;for(const r in t)for(const i in t[r])if(t[r][i].some(o=>o.inputChar===fr))return!0;return!1}}class _z extends Bg{constructor(t){super();xe(this,"inputType",{Kind:ut.AUTOMATON,AutomatonType:On.FINITE});xe(this,"outputType");xe(this,"inputCore");xe(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.automaton.automatonType!==this.inputType.AutomatonType)throw new Error("Cannot use algorithm, as it only works with finite automata.");this.hasEpsilonTransitions()?this.precomputeResults():this.results=[],this.outputCore=new dg(On.FINITE,Ry,t)}undo(){if(this.results===void 0)return new Ie("Cannot undo algorithm step before start.");if(this.index===0)return new Ie("There is nothing to undo.");this.inputCore.automaton.undo(),this.index--}precomputeResults(){this.results=[];const t={},r=[],i=this.inputCore.automaton.deltaFunctionMatrix,o=this.inputCore.automaton.initialStateId,l=[];for(const h of this.inputCore.automaton.states)for(t[h]=[h],l.push(h);l.length!==0;){const d=l.pop();for(const v in i[d])!t[h].includes(v)&&i[d][v].some(m=>m.inputChar===fr)&&(l.push(v),t[h].push(v))}const c=[];for(const h in i)for(const d in i[h])for(const v of i[h][d])!c.includes(v.inputChar)&&v.inputChar!==fr&&c.push(v.inputChar);for(const h in i)for(const d in i[h])for(const v of i[h][d])if(v.inputChar===fr){const m=new LT(this.inputCore.automaton,h,d,v.id);this.results.push({highlight:[],command:m})}for(const h of this.inputCore.automaton.states)if(h!==o)for(const d of c){const v=this.getEndStates(h,d,t);for(const m of v)if((i[h][m]===void 0||!i[h][m].some(b=>b.inputChar===d))&&!r.some(b=>b[0]===h&&b[1]===m&&b[2]===d)){const b=this.inputCore.createEdge({id:"",inputChar:d}),E=new lf(this.inputCore.automaton,h,m,b);this.results.push({highlight:[],command:E}),r.push([h,m,d])}}for(const h of c)for(const d of t[o]){const v=this.getEndStates(d,h,t);for(const m of v)if((i[o][m]===void 0||!i[o][m].some(b=>b.inputChar===h))&&!r.some(b=>b[0]===o&&b[1]===m&&b[2]===h)){const b=this.inputCore.createEdge({id:"",inputChar:h}),E=new lf(this.inputCore.automaton,o,m,b);this.results.push({highlight:[],command:E}),r.push([o,m,h])}}if(t[o].some(h=>this.inputCore.automaton.finalStateIds.includes(h))){const h=new cg(this.inputCore.automaton,o,!0);this.results.push({highlight:[],command:h})}}hasEpsilonTransitions(){const t=this.inputCore.automaton.deltaFunctionMatrix;for(const r in t)for(const i in t[r])if(t[r][i].some(o=>o.inputChar===fr))return!0;return!1}getEndStates(t,r,i){const o=[];for(const l in this.inputCore.automaton.deltaFunctionMatrix[t])for(const c of this.inputCore.automaton.deltaFunctionMatrix[t][l])if(c.inputChar===r)for(const h of i[l])o.includes(h)||o.push(h);return o}}class kz extends Bg{constructor(t){super();xe(this,"inputType",{Kind:ut.AUTOMATON,AutomatonType:On.FINITE});xe(this,"outputType",{Kind:ut.GRAMMAR,GrammarType:Vr.REGULAR});xe(this,"inputCore");xe(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.automaton.automatonType!==this.inputType.AutomatonType)throw new Error("Cannot use algorithm, as it only works with finite automata.");return this.outputCore=new Wb(Vr.REGULAR,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ie("Cannot undo algorithm step before start.");if(this.index===0)return new Ie("There is nothing to undo.");this.outputCore.grammar.undo(),this.index--}precomputeResults(){this.results=[];const t=this.inputCore.automaton.deltaFunctionMatrix;this.outputCore.grammar.nonTerminalSymbols=[...this.inputCore.automaton.states],this.outputCore.grammar.terminalSymbols=this.getAlphabet(),this.outputCore.grammar.initialNonTerminalSymbol=this.inputCore.automaton.initialStateId;for(const r in t)for(const i in t[r])for(const o of t[r][i]){let l=[];o.inputChar===fr?l=[i]:l=[o.inputChar,i];const c=this.outputCore.factory.createProductionRule(r,l,this.outputCore.grammar),h=new Dl(this.outputCore.grammar,c);this.results.push({highlight:[o.id],command:h})}for(const r of this.inputCore.automaton.finalStateIds){const i=this.outputCore.factory.createProductionRule(r,[fr],this.outputCore.grammar),o=new Dl(this.outputCore.grammar,i);this.results.push({highlight:[r],command:o})}}getAlphabet(){const t=this.inputCore.automaton.deltaFunctionMatrix,r=[];for(const i in t)for(const o in t[i])for(const l of t[i][o])!r.includes(l.inputChar)&&l.inputChar!==fr&&r.push(l.inputChar);return r}}class Lz extends Bg{constructor(t){super();xe(this,"inputType",{Kind:ut.GRAMMAR,GrammarType:Vr.REGULAR});xe(this,"outputType",{Kind:ut.AUTOMATON,AutomatonType:On.FINITE});xe(this,"inputCore");xe(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.grammar.grammarType!==this.inputType.GrammarType)throw new Error("Cannot use algorithm, as it only works with regular grammars.");if(!this.isGrammarInNormalForm())throw new Error("Cannot use algorithm, as the grammar is not in required normal form.");return this.outputCore=new dg(On.FINITE,Ry,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ie("Cannot undo algorithm step before start.");if(this.index===0)return new Ie("There is nothing to undo.");this.outputCore.automaton.undo(),this.index--}precomputeResults(){this.results=[];const t=this.inputCore.grammar.initialNonTerminalSymbol;let r=new Yb(this.outputCore.automaton,Ay,t);this.results.push({highlight:[t],command:r});for(const i of this.inputCore.grammar.nonTerminalSymbols)i!==t&&(r=new wy(this.outputCore.automaton,i),this.results.push({highlight:[i],command:r}));r=new wy(this.outputCore.automaton,"fin"),this.results.push({highlight:[],command:r}),r=new cg(this.outputCore.automaton,"fin",!0),this.results.push({highlight:[],command:r});for(const i of this.inputCore.grammar.productionRules){const o=i.outputSymbols[0],l=i.outputSymbols[1];if(i.outputSymbols.length===2){const c=this.outputCore.createEdge({id:"",inputChar:o});r=new lf(this.outputCore.automaton,i.inputNonTerminal,l,c)}else if(this.inputCore.grammar.hasNonTerminalSymbol(o)){const c=this.outputCore.createEdge({id:"",inputChar:fr});r=new lf(this.outputCore.automaton,i.inputNonTerminal,o,c)}else{const c=this.outputCore.createEdge({id:"",inputChar:o});r=new lf(this.outputCore.automaton,i.inputNonTerminal,"fin",c)}this.results.push({highlight:[i.id],command:r})}}isGrammarInNormalForm(){for(const t of this.inputCore.grammar.productionRules)if(t.outputSymbols.length>2||t.outputSymbols.length==2&&!this.inputCore.grammar.hasNonTerminalSymbol(t.outputSymbols[1]))return!1;return!0}}class zz extends Bg{constructor(t){super();xe(this,"inputType",{Kind:ut.GRAMMAR,GrammarType:Vr.REGULAR});xe(this,"outputType",{Kind:ut.GRAMMAR,GrammarType:Vr.REGULAR});xe(this,"inputCore");xe(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.grammar.grammarType!==this.inputType.GrammarType)throw new Error("Cannot use algorithm, as it only works with regular grammars.");return this.outputCore=new Wb(Vr.REGULAR,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ie("Cannot undo algorithm step before start.");if(this.index===0)return new Ie("There is nothing to undo.");this.outputCore.grammar.undo(),this.index--}precomputeResults(){this.outputCore.grammar.nonTerminalSymbols=[...this.inputCore.grammar.nonTerminalSymbols],this.outputCore.grammar.terminalSymbols=[...this.inputCore.grammar.terminalSymbols],this.outputCore.grammar.initialNonTerminalSymbol=this.inputCore.grammar.initialNonTerminalSymbol,this.results=[];let t=1;for(const r of this.inputCore.grammar.productionRules){const i=r.outputSymbols.slice(-1)[0],o=r.outputSymbols.slice(-2)[0];if(r.outputSymbols.length>2||r.outputSymbols.length===2&&this.inputCore.grammar.hasTerminalSymbol(i)){const l=r.outputSymbols.slice(0,-2);let c=r.inputNonTerminal,h=1;for(const d of l){const v="ψ"+t+","+h;this.outputCore.grammar.nonTerminalSymbols.push(v);const m=this.outputCore.factory.createProductionRule(c,[d,v],this.outputCore.grammar),b=new Dl(this.outputCore.grammar,m);this.results.push({highlight:[r.id],command:b}),c=v,h++}if(this.inputCore.grammar.hasTerminalSymbol(i)){const d="ψ"+t+","+h;this.outputCore.grammar.nonTerminalSymbols.push(d);let v=this.outputCore.factory.createProductionRule(c,[o,d],this.outputCore.grammar),m=new Dl(this.outputCore.grammar,v);this.results.push({highlight:[r.id],command:m}),v=this.outputCore.factory.createProductionRule(d,[i],this.outputCore.grammar),m=new Dl(this.outputCore.grammar,v),this.results.push({highlight:[r.id],command:m})}else{const d=this.outputCore.factory.createProductionRule(c,[o,i],this.outputCore.grammar),v=new Dl(this.outputCore.grammar,d);this.results.push({highlight:[r.id],command:v})}t++}else{const l=new Dl(this.outputCore.grammar,r);this.results.push({highlight:[r.id],command:l})}}}}function Iz({setButtonSet:n}){const e=te.useContext(Fa);if(e===void 0)throw new Error("StartGrammarAlgorithmButton must be used within CoreProvider.");const t=[{name:"Regulárna gramatika -> nedeterministický automat",inputType:Vr.REGULAR,algorithm:()=>{if(e.primary.kind!=ut.GRAMMAR)throw new Error("Invalid algorithm input type");return new Lz(e.primary)}},{name:"Normálna forma",inputType:Vr.REGULAR,algorithm:()=>{if(e.primary.kind!=ut.GRAMMAR)throw new Error("Invalid algorithm input type.");return new zz(e.primary)}}];function r(o){const l=e==null?void 0:e.algorithmStart(o);if(l!==void 0){alert(l.details);return}n(cf.ALGORITHM)}const i=t.filter(o=>e.primary.kind===ut.GRAMMAR&&e.primary.grammar.grammarType===o.inputType).map(o=>ie(Do.Item,{onClick:()=>r(o.algorithm()),children:o.name},o.name));return ie(Xr,{children:ie(Od,{id:"dropdown-algorithm-button",title:"Start algorithm",children:i.length>0?i:ie(Do.Item,{disabled:!0,children:"No algorithms available"})})})}function Pz({setButtonSet:n}){const e=te.useContext(Fa);if(e===void 0)throw new Error("StartAutomatonAlgorithmButton must be used within CoreProvider.");const t=[{name:"Nedeterministický automat -> deterministický automat",inputType:On.FINITE,algorithm:()=>{if(e.primary.kind!=ut.AUTOMATON)throw new Error("Invalid algorithm input type.");return new Nz(e.primary)}},{name:"Odepsilonovanie",inputType:On.FINITE,algorithm:()=>{if(e.primary.kind!=ut.AUTOMATON)throw new Error("Invalid algorithm input type.");return new _z(e.primary)}},{name:"Nedeterministický automat -> regulárna gramatika",inputType:On.FINITE,algorithm:()=>{if(e.primary.kind!=ut.AUTOMATON)throw new Error("Invalid algorithm input type.");return new kz(e.primary)}}];function r(o){const l=e==null?void 0:e.algorithmStart(o);if(l!==void 0){alert(l.details);return}n(cf.ALGORITHM)}const i=t.filter(o=>e.primary.kind===ut.AUTOMATON&&e.primary.automaton.automatonType===o.inputType).map(o=>ie(Do.Item,{onClick:()=>r(o.algorithm()),children:o.name},o.name));return ie(Xr,{children:ie(Od,{id:"dropdown-algorithm-button",title:"Start algorithm",children:i.length>0?i:ie(Do.Item,{disabled:!0,children:"No algorithms available"})})})}var cf=(n=>(n[n.NOTHING=0]="NOTHING",n[n.SIMULATION=1]="SIMULATION",n[n.ALGORITHM=2]="ALGORITHM",n))(cf||{});function Uz(){const[n,e]=te.useState(0);return Tt(Xr,{children:[n===0?ie(Pz,{setButtonSet:e}):null,n!==2?ie(Bz,{buttonSet:n,setButtonSet:e}):null,n===2?ie($C,{setButtonSet:e}):null]})}function Fz(){const[n,e]=te.useState(0);return ie(Xr,{children:n===0?ie(Iz,{setButtonSet:e}):ie($C,{setButtonSet:e})})}function Hz({mode:n,primaryType:e}){if(!te.useContext(Fa))throw new Error("Buttons must be used within a CoreProvider");return n===It.EDIT?Tt("div",{children:[ie(MS,{mode:n}),ie("hr",{}),e.kind===ut.AUTOMATON?ie(Mz,{}):null]}):Tt("div",{children:[ie(MS,{mode:n}),ie("hr",{}),e.kind===ut.AUTOMATON?ie(Uz,{}):ie(Fz,{})]})}function MS({mode:n}){if(!te.useContext(Fa))throw new Error("GlobalButtons must be used within a CoreProvider");return Tt("div",{className:"d-flex",children:[ie(Gz,{mode:n}),ie(qz,{}),n===It.EDIT?ie(Vz,{}):null]})}function Gz({mode:n}){const e=te.useContext(Fa);if(!e)throw new Error("SwitchModeButtons must be used within a CoreProvider");const t=(r,i=!1)=>{r===It.EDIT?e.switchToEditMode(i):e.switchToVisualMode()};return n===It.EDIT?ie("button",{className:"btn btn-primary",onClick:()=>t(It.VISUAL),children:"Switch to Visual mode"}):e.secondary===void 0?ie("button",{className:"btn btn-primary",onClick:()=>t(It.EDIT,!1),children:"Switch to Edit mode"}):Tt(Od,{id:"dropdown-algorithm-button",title:"Switch to Edit mode",children:[ie(Do.Item,{onClick:()=>t(It.EDIT,!1),children:"Keep first window"}),ie(Do.Item,{onClick:()=>t(It.EDIT,!0),children:"Keep second window"})]})}function qz(){const n=te.useContext(Fa),[e,t]=te.useState(!1),[r,i]=te.useState(Tl.AUTOMATON_FINITE);if(!n)throw new Error("NewWindowButton must be used within a CoreProvider");const o=async l=>{l.preventDefault(),n.newWindow(r),t(!1)};return Tt(Xr,{children:[ie("button",{className:"btn btn-primary",onClick:()=>t(!0),children:"New Window"}),Tt(Iv,{show:e,onHide:()=>t(!1),children:[ie(Iv.Header,{closeButton:!0,children:ie(Iv.Title,{children:"Nové okno"})}),ie(Iv.Body,{children:Tt(TS,{onSubmit:o,children:[Tt(Oz,{name:"objectType",type:"radio",value:r,onChange:i,vertical:!0,className:"w-100",children:[ie(jv,{id:"finite",value:Tl.AUTOMATON_FINITE,variant:r===Tl.AUTOMATON_FINITE?"primary":"outline-primary",children:"Konečný stavový automat"}),ie(jv,{id:"regular",value:Tl.GRAMMAR_REGULAR,variant:r===Tl.GRAMMAR_REGULAR?"primary":"outline-primary",children:"Regulárna gramatika"}),ie(jv,{id:"phrasal",value:Tl.GRAMMAR_PHRASAL,variant:r===Tl.GRAMMAR_PHRASAL?"primary":"outline-primary",children:"Bezkontextová gramatika"})]}),Tt(TS.Group,{className:"d-flex justify-content-center mt-2 gap-2",children:[ie(hg,{type:"submit",children:"Vytvoriť"}),ie(hg,{variant:"danger",onClick:()=>t(!1),children:"Zrušiť"})]})]})}),ie(Iv.Footer,{children:ie("p",{className:"text-danger",children:"Vytvorenie nového okna zmaže existujúce okná."})})]})]})}function Vz(){return Tt(Xr,{children:[ie("button",{className:"btn btn-primary",children:"Import"}),ie("button",{className:"btn btn-primary",children:"Export"})]})}function q1({primary:n}){const e=te.useContext(Fa);if(!e)throw new Error("AutomatonWindow must be used within a CoreProvider");return te.useEffect(()=>{var t;if(n&&e.primary.kind===ut.AUTOMATON)e.primary.init();else if(!n)((t=e.secondary)==null?void 0:t.kind)===ut.AUTOMATON&&e.secondary.init();else throw new Error("AutomatonWindow could not be initialized correctly")},[n,e]),ie("div",{id:n?uy:Ry})}const $z=({grammarRepr:n})=>n?Tt("div",{className:"section",children:[ie("h3",{children:"Grammar Representation"}),ie("pre",{className:"grammar-representation",children:n})]}):null,V1=({primary:n})=>{const e=te.useContext(Fa);if(e===void 0)throw new Error("GrammarWindow must be used within a CoreProvider");const t=n?e.primary:e.secondary;if(t.kind!==ut.GRAMMAR)throw new Error("GrammarWindow must be used with GrammarCore");const[r,i]=te.useState(t.grammar.nonTerminalSymbols),[o,l]=te.useState(t.grammar.terminalSymbols),[c,h]=te.useState(t.grammar.productionRules.map(I=>({input:I.inputNonTerminal,output:I.outputSymbols}))),[d,v]=te.useState({input:"",output:""}),[m,b]=te.useState(""),[E,S]=te.useState(""),[A,T]=te.useState(t.display());t.visual.refresher=T,te.useEffect(()=>{i(t.grammar.nonTerminalSymbols),l(t.grammar.terminalSymbols),h(t.grammar.productionRules.map(I=>({input:I.inputNonTerminal,output:I.outputSymbols}))),v({input:"",output:""}),b(""),S(""),t.visual.refresh(),T(t.display())},[t]),te.useEffect(()=>{h(t.grammar.productionRules.map(I=>({input:I.inputNonTerminal,output:I.outputSymbols})))},[A,t]);const C=()=>{const I=t.display();T(I)},R=()=>{const I=t.addNonterminals([m]);if(I){alert(I.details);return}i(t.grammar.nonTerminalSymbols),b(""),C()},D=I=>{const B=r[I],P=t.removeNonterminal(B);if(P){alert(P.details);return}i(t.grammar.nonTerminalSymbols),C()},M=()=>{const I=t.addTerminals([E]);if(I){alert(I.details);return}l(t.grammar.terminalSymbols),S(""),C()},k=I=>{const B=o[I],P=t.removeTerminal(B);if(P){alert(P.details);return}l(t.grammar.terminalSymbols),C()},L=()=>{const I=d.input.trim(),B=d.output.trim().split(" ").filter(Boolean);if(!I||B.length===0){alert("Please enter both LHS and RHS.");return}const P=t.addProductionRule(I,B);if(P){alert(P.details);return}h(t.grammar.productionRules.map(F=>({input:F.inputNonTerminal,output:F.outputSymbols}))),C(),v({input:"",output:""})},_=I=>{const B=t.visual.getRuleIdByIndex(I);B===void 0&&alert("Trying to remove non-existent rule");const P=t.removeProductionRule(B);if(P){alert(P.details);return}h(t.grammar.productionRules.map(F=>({input:F.inputNonTerminal,output:F.outputSymbols}))),C()};return Tt("div",{className:"grammar-container",children:[ie("h2",{className:"grammar-header",children:"Gramatika"}),Tt("div",{className:"section",children:[ie("h3",{children:"Non-Terminals"}),ie("div",{className:"list",children:r.map((I,B)=>Tt("div",{className:"list-item",children:[ie("span",{children:I}),e.mode.mode===It.EDIT?ie("button",{onClick:()=>D(B),className:"delete-btn",children:"✕"}):null]},B))}),e.mode.mode===It.EDIT?Tt("div",{className:"input-row",children:[ie("input",{value:m,onChange:I=>b(I.target.value),placeholder:"Non-terminal (e.g. A)"}),ie("button",{onClick:R,children:"Add"})]}):null]}),Tt("div",{className:"section",children:[ie("h3",{children:"Terminals"}),ie("div",{className:"list",children:o.map((I,B)=>Tt("div",{className:"list-item",children:[ie("span",{children:I}),e.mode.mode===It.EDIT?ie("button",{onClick:()=>k(B),className:"delete-btn",children:"✕"}):null]},B))}),e.mode.mode===It.EDIT?Tt("div",{className:"input-row",children:[ie("input",{value:E,onChange:I=>S(I.target.value),placeholder:"Terminal (e.g. a)"}),ie("button",{onClick:M,children:"Add"})]}):null]}),Tt("div",{className:"section",children:[ie("h3",{children:"Production Rules"}),ie("div",{className:"list",children:c.map((I,B)=>Tt("div",{className:"list-item",children:[Tt("span",{children:[I.input," → ",I.output.join(" ")]}),e.mode.mode===It.EDIT?ie("button",{onClick:()=>_(B),className:"delete-btn",children:"✕"}):null]},B))}),e.mode.mode===It.EDIT?Tt("div",{className:"input-row rule-input-row",children:[ie("input",{value:d.input,onChange:I=>v({...d,input:I.target.value}),placeholder:"LHS (e.g. S)"}),ie("span",{children:"→"}),ie("input",{value:d.output,onChange:I=>v({...d,output:I.target.value}),placeholder:"RHS (e.g. a A)"}),ie("button",{onClick:L,children:"Add Rule"})]}):null]}),ie($z,{grammarRepr:A})]})};function Yz({primaryType:n,secondaryType:e}){if(!te.useContext(Fa))throw new Error("Windows must be used within a CoreProvider");return e===void 0?ie("div",{id:"cy-window",className:"d-flex flex-row",children:ie("div",{className:"col-12",children:n.kind===ut.AUTOMATON?ie(q1,{primary:!0}):ie(V1,{primary:!0})})}):Tt("div",{id:"cy-window",className:"d-flex flex-row",children:[ie("div",{className:"col-6",children:n.kind===ut.AUTOMATON?ie(q1,{primary:!0}):ie(V1,{primary:!0})}),ie("div",{className:"col-6",children:e.kind===ut.AUTOMATON?ie(q1,{primary:!1}):ie(V1,{primary:!1})})]})}function Kz(){const n=te.useContext(Fa);if(!n)throw new Error("SwitchModeButtons must be used within a CoreProvider");const[e,t]=te.useState(n.mode.mode),[r,i]=te.useState(n.primary),[o,l]=te.useState(n.secondary);return n.setMode=t,n.setPrimaryType=i,n.setSecondaryType=l,Tt("div",{className:"container-fluid",children:[ie("h1",{children:"Víla Fojálka"}),ie(Hz,{mode:e,primaryType:r}),ie(Yz,{primaryType:r,secondaryType:o})]})}B2.createRoot(document.getElementById("root")).render(ie(te.StrictMode,{children:ie(sk,{children:ie(Kz,{})})}));
