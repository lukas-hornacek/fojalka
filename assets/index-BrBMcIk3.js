var vS=Object.defineProperty;var dS=(n,e,t)=>e in n?vS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Re=(n,e,t)=>dS(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(u){if(u.ep)return;u.ep=!0;const l=t(u);fetch(u.href,l)}})();var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iy={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function gS(){if(J0)return Rt;J0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function T(P,Z,ne){this.props=P,this.context=Z,this.refs=D,this.updater=ne||x}T.prototype.isReactComponent={},T.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},T.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=T.prototype;function R(P,Z,ne){this.props=P,this.context=Z,this.refs=D,this.updater=ne||x}var M=R.prototype=new C;M.constructor=R,S(M,T.prototype),M.isPureReactComponent=!0;var _=Array.isArray,k={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function O(P,Z,ne,de,se,we){return ne=we.ref,{$$typeof:n,type:P,key:Z,ref:ne!==void 0?ne:null,props:we}}function I(P,Z){return O(P.type,Z,void 0,void 0,void 0,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function F(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ne){return Z[ne]})}var Y=/\/+/g;function V(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):Z.toString(36)}function W(){}function K(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(W,W):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ee(P,Z,ne,de,se){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(we){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case n:case e:me=!0;break;case m:return me=P._init,ee(me(P._payload),Z,ne,de,se)}}if(me)return se=se(P),me=de===""?"."+V(P,0):de,_(se)?(ne="",me!=null&&(ne=me.replace(Y,"$&/")+"/"),ee(se,Z,ne,"",function(ve){return ve})):se!=null&&(L(se)&&(se=I(se,ne+(se.key==null||P&&P.key===se.key?"":(""+se.key).replace(Y,"$&/")+"/")+me)),Z.push(se)),1;me=0;var Me=de===""?".":de+":";if(_(P))for(var Se=0;Se<P.length;Se++)de=P[Se],we=Me+V(de,Se),me+=ee(de,Z,ne,we,se);else if(Se=w(P),typeof Se=="function")for(P=Se.call(P),Se=0;!(de=P.next()).done;)de=de.value,we=Me+V(de,Se++),me+=ee(de,Z,ne,we,se);else if(we==="object"){if(typeof P.then=="function")return ee(K(P),Z,ne,de,se);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return me}function X(P,Z,ne){if(P==null)return P;var de=[],se=0;return ee(P,de,"","",function(we){return Z.call(ne,we,se++)}),de}function Q(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(ne){(P._status===0||P._status===-1)&&(P._status=1,P._result=ne)},function(ne){(P._status===0||P._status===-1)&&(P._status=2,P._result=ne)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var j=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function le(){}return Rt.Children={map:X,forEach:function(P,Z,ne){X(P,function(){Z.apply(this,arguments)},ne)},count:function(P){var Z=0;return X(P,function(){Z++}),Z},toArray:function(P){return X(P,function(Z){return Z})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Rt.Component=T,Rt.Fragment=t,Rt.Profiler=u,Rt.PureComponent=R,Rt.StrictMode=a,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(P){return function(){return P.apply(null,arguments)}},Rt.cloneElement=function(P,Z,ne){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=S({},P.props),se=P.key,we=void 0;if(Z!=null)for(me in Z.ref!==void 0&&(we=void 0),Z.key!==void 0&&(se=""+Z.key),Z)!z.call(Z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Z.ref===void 0||(de[me]=Z[me]);var me=arguments.length-2;if(me===1)de.children=ne;else if(1<me){for(var Me=Array(me),Se=0;Se<me;Se++)Me[Se]=arguments[Se+2];de.children=Me}return O(P.type,se,void 0,void 0,we,de)},Rt.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Rt.createElement=function(P,Z,ne){var de,se={},we=null;if(Z!=null)for(de in Z.key!==void 0&&(we=""+Z.key),Z)z.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(se[de]=Z[de]);var me=arguments.length-2;if(me===1)se.children=ne;else if(1<me){for(var Me=Array(me),Se=0;Se<me;Se++)Me[Se]=arguments[Se+2];se.children=Me}if(P&&P.defaultProps)for(de in me=P.defaultProps,me)se[de]===void 0&&(se[de]=me[de]);return O(P,we,void 0,void 0,null,se)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(P){return{$$typeof:c,render:P}},Rt.isValidElement=L,Rt.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:Q}},Rt.memo=function(P,Z){return{$$typeof:v,type:P,compare:Z===void 0?null:Z}},Rt.startTransition=function(P){var Z=k.T,ne={};k.T=ne;try{var de=P(),se=k.S;se!==null&&se(ne,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(le,j)}catch(we){j(we)}finally{k.T=Z}},Rt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Rt.use=function(P){return k.H.use(P)},Rt.useActionState=function(P,Z,ne){return k.H.useActionState(P,Z,ne)},Rt.useCallback=function(P,Z){return k.H.useCallback(P,Z)},Rt.useContext=function(P){return k.H.useContext(P)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(P,Z){return k.H.useDeferredValue(P,Z)},Rt.useEffect=function(P,Z){return k.H.useEffect(P,Z)},Rt.useId=function(){return k.H.useId()},Rt.useImperativeHandle=function(P,Z,ne){return k.H.useImperativeHandle(P,Z,ne)},Rt.useInsertionEffect=function(P,Z){return k.H.useInsertionEffect(P,Z)},Rt.useLayoutEffect=function(P,Z){return k.H.useLayoutEffect(P,Z)},Rt.useMemo=function(P,Z){return k.H.useMemo(P,Z)},Rt.useOptimistic=function(P,Z){return k.H.useOptimistic(P,Z)},Rt.useReducer=function(P,Z,ne){return k.H.useReducer(P,Z,ne)},Rt.useRef=function(P){return k.H.useRef(P)},Rt.useState=function(P){return k.H.useState(P)},Rt.useSyncExternalStore=function(P,Z,ne){return k.H.useSyncExternalStore(P,Z,ne)},Rt.useTransition=function(){return k.H.useTransition()},Rt.version="19.0.0",Rt}var j0;function E0(){return j0||(j0=1,Iy.exports=gS()),Iy.exports}var jt=E0();const mS=hS(jt);var Uy={exports:{}},Ud={},Py={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function pS(){return e1||(e1=1,function(n){function e(X,Q){var j=X.length;X.push(Q);e:for(;0<j;){var le=j-1>>>1,P=X[le];if(0<u(P,Q))X[le]=Q,X[j]=P,j=le;else break e}}function t(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var Q=X[0],j=X.pop();if(j!==Q){X[0]=j;e:for(var le=0,P=X.length,Z=P>>>1;le<Z;){var ne=2*(le+1)-1,de=X[ne],se=ne+1,we=X[se];if(0>u(de,j))se<P&&0>u(we,de)?(X[le]=we,X[se]=j,le=se):(X[le]=de,X[ne]=j,le=ne);else if(se<P&&0>u(we,j))X[le]=we,X[se]=j,le=se;else break e}}return Q}function u(X,Q){var j=X.sortIndex-Q.sortIndex;return j!==0?j:X.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var f=Date,c=f.now();n.unstable_now=function(){return f.now()-c}}var g=[],v=[],m=1,p=null,w=3,x=!1,S=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(X){for(var Q=t(v);Q!==null;){if(Q.callback===null)a(v);else if(Q.startTime<=X)a(v),Q.sortIndex=Q.expirationTime,e(g,Q);else break;Q=t(v)}}function _(X){if(D=!1,M(X),!S)if(t(g)!==null)S=!0,K();else{var Q=t(v);Q!==null&&ee(_,Q.startTime-X)}}var k=!1,z=-1,O=5,I=-1;function L(){return!(n.unstable_now()-I<O)}function F(){if(k){var X=n.unstable_now();I=X;var Q=!0;try{e:{S=!1,D&&(D=!1,C(z),z=-1),x=!0;var j=w;try{t:{for(M(X),p=t(g);p!==null&&!(p.expirationTime>X&&L());){var le=p.callback;if(typeof le=="function"){p.callback=null,w=p.priorityLevel;var P=le(p.expirationTime<=X);if(X=n.unstable_now(),typeof P=="function"){p.callback=P,M(X),Q=!0;break t}p===t(g)&&a(g),M(X)}else a(g);p=t(g)}if(p!==null)Q=!0;else{var Z=t(v);Z!==null&&ee(_,Z.startTime-X),Q=!1}}break e}finally{p=null,w=j,x=!1}Q=void 0}}finally{Q?Y():k=!1}}}var Y;if(typeof R=="function")Y=function(){R(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=F,Y=function(){W.postMessage(null)}}else Y=function(){T(F,0)};function K(){k||(k=!0,Y())}function ee(X,Q){z=T(function(){X(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){S||x||(S=!0,K())},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(X){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var j=w;w=Q;try{return X()}finally{w=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var j=w;w=X;try{return Q()}finally{w=j}},n.unstable_scheduleCallback=function(X,Q,j){var le=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?le+j:le):j=le,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=j+P,X={id:m++,callback:Q,priorityLevel:X,startTime:j,expirationTime:P,sortIndex:-1},j>le?(X.sortIndex=j,e(v,X),t(g)===null&&X===t(v)&&(D?(C(z),z=-1):D=!0,ee(_,j-le))):(X.sortIndex=P,e(g,X),S||x||(S=!0,K())),X},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(X){var Q=w;return function(){var j=w;w=Q;try{return X.apply(this,arguments)}finally{w=j}}}}(Hy)),Hy}var t1;function yS(){return t1||(t1=1,Py.exports=pS()),Py.exports}var Fy={exports:{}},Ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function bS(){if(n1)return Ur;n1=1;var n=E0();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)v+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},u=Symbol.for("react.portal");function l(g,v,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:p==null?null:""+p,children:g,containerInfo:v,implementation:m}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ur.createPortal=function(g,v){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return l(g,v,null,m)},Ur.flushSync=function(g){var v=f.T,m=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=v,a.p=m,a.d.f()}},Ur.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(g,v))},Ur.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Ur.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var m=v.as,p=c(m,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,x=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;m==="style"?a.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:p,integrity:w,fetchPriority:x}):m==="script"&&a.d.X(g,{crossOrigin:p,integrity:w,fetchPriority:x,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ur.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var m=c(v.as,v.crossOrigin);a.d.M(g,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(g)},Ur.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var m=v.as,p=c(m,v.crossOrigin);a.d.L(g,m,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ur.preloadModule=function(g,v){if(typeof g=="string")if(v){var m=c(v.as,v.crossOrigin);a.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(g)},Ur.requestFormReset=function(g){a.d.r(g)},Ur.unstable_batchedUpdates=function(g,v){return g(v)},Ur.useFormState=function(g,v,m){return f.H.useFormState(g,v,m)},Ur.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ur.version="19.0.0",Ur}var r1;function wS(){if(r1)return Fy.exports;r1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fy.exports=bS(),Fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function ES(){if(a1)return Ud;a1=1;var n=yS(),e=E0(),t=wS();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),_=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case g:return"Fragment";case c:return"Portal";case m:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case S:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return i=r.displayName||null,i!==null?i:I(r.type)||"Memo";case R:i=r._payload,r=r._init;try{return I(r(i))}catch{}}return null}var L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,Y,V;function W(r){if(Y===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Y=i&&i[1]||"",V=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+r+V}var K=!1;function ee(r,i){if(!r||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ce){var ye=Ce}Reflect.construct(r,[],ze)}else{try{ze.call()}catch(Ce){ye=Ce}r.call(ze.prototype)}}else{try{throw Error()}catch(Ce){ye=Ce}(ze=r())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ce){if(Ce&&ye&&typeof Ce.stack=="string")return[Ce.stack,ye.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=h.DetermineComponentFrameRoot(),B=E[0],H=E[1];if(B&&H){var $=B.split(`
`),ie=H.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===ie.length)for(h=$.length-1,y=ie.length-1;1<=h&&0<=y&&$[h]!==ie[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==ie[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==ie[y]){var De=`
`+$[h].replace(" at new "," at ");return r.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",r.displayName)),De}while(1<=h&&0<=y);break}}}finally{K=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?W(s):""}function X(r){switch(r.tag){case 26:case 27:case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return r=ee(r.type,!1),r;case 11:return r=ee(r.type.render,!1),r;case 1:return r=ee(r.type,!0),r;default:return""}}function Q(r){try{var i="";do i+=X(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function j(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function le(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function P(r){if(j(r)!==r)throw Error(a(188))}function Z(r){var i=r.alternate;if(!i){if(i=j(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,h=i;;){var y=s.return;if(y===null)break;var E=y.alternate;if(E===null){if(h=y.return,h!==null){s=h;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===s)return P(y),r;if(E===h)return P(y),i;E=E.sibling}throw Error(a(188))}if(s.return!==h.return)s=y,h=E;else{for(var B=!1,H=y.child;H;){if(H===s){B=!0,s=y,h=E;break}if(H===h){B=!0,h=y,s=E;break}H=H.sibling}if(!B){for(H=E.child;H;){if(H===s){B=!0,s=E,h=y;break}if(H===h){B=!0,h=E,s=y;break}H=H.sibling}if(!B)throw Error(a(189))}}if(s.alternate!==h)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function ne(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=ne(r),i!==null)return i;r=r.sibling}return null}var de=Array.isArray,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},me=[],Me=-1;function Se(r){return{current:r}}function ve(r){0>Me||(r.current=me[Me],me[Me]=null,Me--)}function re(r,i){Me++,me[Me]=r.current,r.current=i}var be=Se(null),Ne=Se(null),Pe=Se(null),Fe=Se(null);function mt(r,i){switch(re(Pe,i),re(Ne,r),re(be,null),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?sm(i):0;break;default:if(r=r===8?i.parentNode:i,i=r.tagName,r=r.namespaceURI)r=sm(r),i=om(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ve(be),re(be,i)}function Lt(){ve(be),ve(Ne),ve(Pe)}function xt(r){r.memoizedState!==null&&re(Fe,r);var i=be.current,s=om(i,r.type);i!==s&&(re(Ne,r),re(be,s))}function Xe(r){Ne.current===r&&(ve(be),ve(Ne)),Fe.current===r&&(ve(Fe),bo._currentValue=we)}var Ke=Object.prototype.hasOwnProperty,et=n.unstable_scheduleCallback,$e=n.unstable_cancelCallback,tt=n.unstable_shouldYield,lt=n.unstable_requestPaint,st=n.unstable_now,Et=n.unstable_getCurrentPriorityLevel,Le=n.unstable_ImmediatePriority,G=n.unstable_UserBlockingPriority,fe=n.unstable_NormalPriority,xe=n.unstable_LowPriority,he=n.unstable_IdlePriority,pe=n.log,He=n.unstable_setDisableYieldValue,Ae=null,Ue=null;function nt(r){if(Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ae,r,void 0,(r.current.flags&128)===128)}catch{}}function at(r){if(typeof pe=="function"&&He(r),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ae,r)}catch{}}var Ve=Math.clz32?Math.clz32:ot,dt=Math.log,pt=Math.LN2;function ot(r){return r>>>=0,r===0?32:31-(dt(r)/pt|0)|0}var qt=128,$t=4194304;function _n(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function jn(r,i){var s=r.pendingLanes;if(s===0)return 0;var h=0,y=r.suspendedLanes,E=r.pingedLanes,B=r.warmLanes;r=r.finishedLanes!==0;var H=s&134217727;return H!==0?(s=H&~y,s!==0?h=_n(s):(E&=H,E!==0?h=_n(E):r||(B=H&~B,B!==0&&(h=_n(B))))):(H=s&~y,H!==0?h=_n(H):E!==0?h=_n(E):r||(B=s&~B,B!==0&&(h=_n(B)))),h===0?0:i!==0&&i!==h&&(i&y)===0&&(y=h&-h,B=i&-i,y>=B||y===32&&(B&4194176)!==0)?i:h}function cn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Pn(r,i){switch(r){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var r=qt;return qt<<=1,(qt&4194176)===0&&(qt=128),r}function er(){var r=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),r}function Yn(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function or(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function fr(r,i,s,h,y,E){var B=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var H=r.entanglements,$=r.expirationTimes,ie=r.hiddenUpdates;for(s=B&~s;0<s;){var De=31-Ve(s),ze=1<<De;H[De]=0,$[De]=-1;var ye=ie[De];if(ye!==null)for(ie[De]=null,De=0;De<ye.length;De++){var Ce=ye[De];Ce!==null&&(Ce.lane&=-536870913)}s&=~ze}h!==0&&Vr(r,h,0),E!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=E&~(B&~i))}function Vr(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var h=31-Ve(i);r.entangledLanes|=i,r.entanglements[h]=r.entanglements[h]|1073741824|s&4194218}function Br(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var h=31-Ve(s),y=1<<h;y&i|r[h]&i&&(r[h]|=i),s&=~y}}function va(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Xn(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:Em(r.type))}function Hn(r,i){var s=se.p;try{return se.p=r,i()}finally{se.p=s}}var En=Math.random().toString(36).slice(2),Nn="__reactFiber$"+En,vn="__reactProps$"+En,Ei="__reactContainer$"+En,bs="__reactEvents$"+En,qo="__reactListeners$"+En,Fc="__reactHandles$"+En,Go="__reactResources$"+En,Lu="__reactMarker$"+En;function ws(r){delete r[Nn],delete r[vn],delete r[bs],delete r[qo],delete r[Fc]}function Si(r){var i=r[Nn];if(i)return i;for(var s=r.parentNode;s;){if(i=s[Ei]||s[Nn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=cm(r);r!==null;){if(s=r[Nn])return s;r=cm(r)}return i}r=s,s=r.parentNode}return null}function da(r){if(r=r[Nn]||r[Ei]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function ha(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Ma(r){var i=r[Go];return i||(i=r[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function hn(r){r[Lu]=!0}var Es=new Set,Vo={};function Kn(r,i){Ba(r,i),Ba(r+"Capture",i)}function Ba(r,i){for(Vo[r]=i,r=0;r<i.length;r++)Es.add(i[r])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Or={},Yo={};function Dp(r){return Ke.call(Yo,r)?!0:Ke.call(Or,r)?!1:$i.test(r)?Yo[r]=!0:(Or[r]=!0,!1)}function Xo(r,i,s){if(Dp(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Ss(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function Ja(r,i,s,h){if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+h)}}function Xr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ko(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rp(r){var i=Ko(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var y=s.get,E=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return y.call(this)},set:function(B){h=""+B,E.call(this,B)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return h},setValue:function(B){h=""+B},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function xs(r){r._valueTracker||(r._valueTracker=Rp(r))}function Ts(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),h="";return r&&(h=Ko(r)?r.checked?"true":"false":r.value),r=h,r!==s?(i.setValue(r),!0):!1}function Cs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Mp=/[\n"\\]/g;function Kr(r){return r.replace(Mp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zo(r,i,s,h,y,E,B,H){r.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.type=B:r.removeAttribute("type"),i!=null?B==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Xr(i)):r.value!==""+Xr(i)&&(r.value=""+Xr(i)):B!=="submit"&&B!=="reset"||r.removeAttribute("value"),i!=null?qc(r,B,Xr(i)):s!=null?qc(r,B,Xr(s)):h!=null&&r.removeAttribute("value"),y==null&&E!=null&&(r.defaultChecked=!!E),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.name=""+Xr(H):r.removeAttribute("name")}function Wo(r,i,s,h,y,E,B,H){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.type=E),i!=null||s!=null){if(!(E!=="submit"&&E!=="reset"||i!=null))return;s=s!=null?""+Xr(s):"",i=i!=null?""+Xr(i):s,H||i===r.value||(r.value=i),r.defaultValue=i}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=H?r.checked:!!h,r.defaultChecked=!!h,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(r.name=B)}function qc(r,i,s){i==="number"&&Cs(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function zu(r,i,s,h){if(r=r.options,i){i={};for(var y=0;y<s.length;y++)i["$"+s[y]]=!0;for(s=0;s<r.length;s++)y=i.hasOwnProperty("$"+r[s].value),r[s].selected!==y&&(r[s].selected=y),y&&h&&(r[s].defaultSelected=!0)}else{for(s=""+Xr(s),i=null,y=0;y<r.length;y++){if(r[y].value===s){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}i!==null||r[y].disabled||(i=r[y])}i!==null&&(i.selected=!0)}}function Qo(r,i,s){if(i!=null&&(i=""+Xr(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+Xr(s):""}function $o(r,i,s,h){if(i==null){if(h!=null){if(s!=null)throw Error(a(92));if(de(h)){if(1<h.length)throw Error(a(93));h=h[0]}s=h}s==null&&(s=""),i=s}s=Xr(i),r.defaultValue=s,h=r.textContent,h===s&&h!==""&&h!==null&&(r.value=h)}function Oa(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(r,i,s){var h=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?h?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":h?r.setProperty(i,s):typeof s!="number"||s===0||Dh.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function Rh(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var h in s)!s.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in i)h=i[y],i.hasOwnProperty(y)&&s[y]!==h&&Gc(r,y,h)}else for(var E in i)i.hasOwnProperty(E)&&Gc(r,E,i[E])}function Jo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(r){return Bh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Vc=null;function Yc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vl=null,ku=null;function Oh(r){var i=da(r);if(i&&(r=i.stateNode)){var s=r[vn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Zo(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Kr(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var h=s[i];if(h!==r&&h.form===r.form){var y=h[vn]||null;if(!y)throw Error(a(90));Zo(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<s.length;i++)h=s[i],h.form===r.form&&Ts(h)}break e;case"textarea":Qo(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&zu(r,!!s.multiple,i,!1)}}}var Xc=!1;function _h(r,i,s){if(Xc)return r(i,s);Xc=!0;try{var h=r(i);return h}finally{if(Xc=!1,(vl!==null||ku!==null)&&(Yf(),vl&&(i=vl,r=ku,ku=vl=null,Oh(i),r)))for(i=0;i<r.length;i++)Oh(r[i])}}function Ds(r,i){var s=r.stateNode;if(s===null)return null;var h=s[vn]||null;if(h===null)return null;s=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Rs=!1;if(Yr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Rs=!1}var Ji=null,Kc=null,jo=null;function Nh(){if(jo)return jo;var r,i=Kc,s=i.length,h,y="value"in Ji?Ji.value:Ji.textContent,E=y.length;for(r=0;r<s&&i[r]===y[r];r++);var B=s-r;for(h=1;h<=B&&i[s-h]===y[E-h];h++);return jo=y.slice(r,1<h?1-h:void 0)}function en(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Jt(){return!0}function Lh(){return!1}function _r(r){function i(s,h,y,E,B){this._reactName=s,this._targetInst=y,this.type=h,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(s=r[H],this[H]=s?s(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Jt:Lh,this.isPropagationStopped=Lh,this}return F(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),i}var Iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ef=_r(Iu),Bs=F({},Iu,{view:0,detail:0}),Bp=_r(Bs),tf,Zc,Ln,dl=F({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ln&&(Ln&&r.type==="mousemove"?(tf=r.screenX-Ln.screenX,Zc=r.screenY-Ln.screenY):Zc=tf=0,Ln=r),tf)},movementY:function(r){return"movementY"in r?r.movementY:Zc}}),ji=_r(dl),zh=F({},dl,{dataTransfer:0}),Wc=_r(zh),ga=F({},Bs,{relatedTarget:0}),nf=_r(ga),kh=F({},Iu,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=_r(kh),Uh=F({},Iu,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ph=_r(Uh),Hh=F({},Iu,{data:0}),Nr=_r(Hh),Op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ma={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=_p[r])?!!i[r]:!1}function ja(){return Fh}var rf=F({},Bs,{key:function(r){if(r.key){var i=Op[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=en(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ma[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(r){return r.type==="keypress"?en(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?en(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qc=_r(rf),gn=F({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=_r(gn),$c=F({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),Np=_r($c),Jc=F({},Iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lp=_r(Jc),zp=F({},dl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=_r(zp),qh=F({},Iu,{newState:0,oldState:0}),af=_r(qh),hl=[9,13,27,32],jc=Yr&&"CompositionEvent"in window,gl=null;Yr&&"documentMode"in document&&(gl=document.documentMode);var Gh=Yr&&"TextEvent"in window&&!gl,uf=Yr&&(!jc||gl&&8<gl&&11>=gl),lf=" ",ev=!1;function Vh(r,i){switch(r){case"keyup":return hl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var eu=!1;function Ip(r,i){switch(r){case"compositionend":return sf(i);case"keypress":return i.which!==32?null:(ev=!0,lf);case"textInput":return r=i.data,r===lf&&ev?null:r;default:return null}}function Yh(r,i){if(eu)return r==="compositionend"||!jc&&Vh(r,i)?(r=Nh(),jo=Kc=Ji=null,eu=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uf&&i.locale!=="ko"?null:i.data;default:return null}}var Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Zr[r.type]:i==="textarea"}function ml(r,i,s,h){vl?ku?ku.push(h):ku=[h]:vl=h,i=Wf(i,"onChange"),0<i.length&&(s=new ef("onChange","change",null,s,h),r.push({event:s,listeners:i}))}var pl=null,yl=null;function Up(r){um(r,0)}function ff(r){var i=ha(r);if(Ts(i))return r}function Xh(r,i){if(r==="change")return i}var Kh=!1;if(Yr){var tv;if(Yr){var tu="oninput"in document;if(!tu){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),tu=typeof Zh.oninput=="function"}tv=tu}else tv=!1;Kh=tv&&(!document.documentMode||9<document.documentMode)}function Wh(){pl&&(pl.detachEvent("onpropertychange",cf),yl=pl=null)}function cf(r){if(r.propertyName==="value"&&ff(yl)){var i=[];ml(i,yl,r,Yc(r)),_h(Up,i)}}function Qh(r,i,s){r==="focusin"?(Wh(),pl=i,yl=s,pl.attachEvent("onpropertychange",cf)):r==="focusout"&&Wh()}function nu(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ff(yl)}function vf(r,i){if(r==="click")return ff(i)}function Pp(r,i){if(r==="input"||r==="change")return ff(i)}function Hp(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wr=typeof Object.is=="function"?Object.is:Hp;function ei(r,i){if(Wr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),h=Object.keys(i);if(s.length!==h.length)return!1;for(h=0;h<s.length;h++){var y=s[h];if(!Ke.call(i,y)||!Wr(r[y],i[y]))return!1}return!0}function pa(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nv(r,i){var s=pa(r);r=0;for(var h;s;){if(s.nodeType===3){if(h=r+s.textContent.length,r<=i&&h>=i)return{node:s,offset:i-r};r=h}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pa(s)}}function $h(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?$h(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Jh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Cs(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=Cs(r.document)}return i}function rv(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Fp(r,i){var s=Jh(i);i=r.focusedElem;var h=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&$h(i.ownerDocument.documentElement,i)){if(h!==null&&rv(i)){if(r=h.start,s=h.end,s===void 0&&(s=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(s,i.value.length);else if(s=(r=i.ownerDocument||document)&&r.defaultView||window,s.getSelection){s=s.getSelection();var y=i.textContent.length,E=Math.min(h.start,y);h=h.end===void 0?E:Math.min(h.end,y),!s.extend&&E>h&&(y=h,h=E,E=y),y=nv(i,E);var B=nv(i,h);y&&B&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(r=r.createRange(),r.setStart(y.node,y.offset),s.removeAllRanges(),E>h?(s.addRange(r),s.extend(B.node,B.offset)):(r.setEnd(B.node,B.offset),s.addRange(r)))}}for(r=[],s=i;s=s.parentNode;)s.nodeType===1&&r.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)s=r[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qp=Yr&&"documentMode"in document&&11>=document.documentMode,_a=null,ue=null,Te=null,Ee=!1;function Ze(r,i,s){var h=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ee||_a==null||_a!==Cs(h)||(h=_a,"selectionStart"in h&&rv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Te&&ei(Te,h)||(Te=h,h=Wf(ue,"onSelect"),0<h.length&&(i=new ef("onSelect","select",null,i,s),r.push({event:i,listeners:h}),i.target=_a)))}function ft(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var zt={animationend:ft("Animation","AnimationEnd"),animationiteration:ft("Animation","AnimationIteration"),animationstart:ft("Animation","AnimationStart"),transitionrun:ft("Transition","TransitionRun"),transitionstart:ft("Transition","TransitionStart"),transitioncancel:ft("Transition","TransitionCancel"),transitionend:ft("Transition","TransitionEnd")},zn={},tn={};Yr&&(tn=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);function Ti(r){if(zn[r])return zn[r];if(!zt[r])return r;var i=zt[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in tn)return zn[r]=i[s];return r}var jh=Ti("animationend"),Qr=Ti("animationiteration"),Os=Ti("animationstart"),Gp=Ti("transitionrun"),bl=Ti("transitionstart"),df=Ti("transitioncancel"),_s=Ti("transitionend"),Kt=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ya(r,i){Kt.set(r,i),Kn(i,[r])}var br=[],wl=0,av=0;function hf(){for(var r=wl,i=av=wl=0;i<r;){var s=br[i];br[i++]=null;var h=br[i];br[i++]=null;var y=br[i];br[i++]=null;var E=br[i];if(br[i++]=null,h!==null&&y!==null){var B=h.pending;B===null?y.next=y:(y.next=B.next,B.next=y),h.pending=y}E!==0&&iv(s,y,E)}}function Uu(r,i,s,h){br[wl++]=r,br[wl++]=i,br[wl++]=s,br[wl++]=h,av|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function ti(r,i,s,h){return Uu(r,i,s,h),Pu(r)}function Na(r,i){return Uu(r,null,null,i),Pu(r)}function iv(r,i,s){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s);for(var y=!1,E=r.return;E!==null;)E.childLanes|=s,h=E.alternate,h!==null&&(h.childLanes|=s),E.tag===22&&(r=E.stateNode,r===null||r._visibility&1||(y=!0)),r=E,E=E.return;y&&i!==null&&r.tag===3&&(E=r.stateNode,y=31-Ve(s),E=E.hiddenUpdates,r=E[y],r===null?E[y]=[i]:r.push(i),i.lane=s|536870912)}function Pu(r){if(50<fo)throw fo=0,ad=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Hu={},uv=new WeakMap;function wr(r,i){if(typeof r=="object"&&r!==null){var s=uv.get(r);return s!==void 0?s:(i={value:r,source:i,stack:Q(i)},uv.set(r,i),i)}return{value:r,source:i,stack:Q(i)}}var Fu=[],ni=0,ri=null,qu=0,ba=[],wa=0,Gu=null,Ea=1,Sa="";function Ci(r,i){Fu[ni++]=qu,Fu[ni++]=ri,ri=r,qu=i}function tg(r,i,s){ba[wa++]=Ea,ba[wa++]=Sa,ba[wa++]=Gu,Gu=r;var h=Ea;r=Sa;var y=32-Ve(h)-1;h&=~(1<<y),s+=1;var E=32-Ve(i)+y;if(30<E){var B=y-y%5;E=(h&(1<<B)-1).toString(32),h>>=B,y-=B,Ea=1<<32-Ve(i)+y|s<<y|h,Sa=E+r}else Ea=1<<E|s<<y|h,Sa=r}function gf(r){r.return!==null&&(Ci(r,1),tg(r,1,0))}function lv(r){for(;r===ri;)ri=Fu[--ni],Fu[ni]=null,qu=Fu[--ni],Fu[ni]=null;for(;r===Gu;)Gu=ba[--wa],ba[wa]=null,Sa=ba[--wa],ba[wa]=null,Ea=ba[--wa],ba[wa]=null}var Er=null,kt=null,yt=!1,La=null,ai=!1,mf=Error(a(519));function Vu(r){var i=Error(a(418,""));throw Ai(wr(i,r)),mf}function pf(r){var i=r.stateNode,s=r.type,h=r.memoizedProps;switch(i[Nn]=r,i[vn]=h,s){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(s=0;s<ho.length;s++)It(ho[s],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),Wo(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),xs(i);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),$o(i,h.value,h.defaultValue,h.children),xs(i)}s=h.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||h.suppressHydrationWarning===!0||wt(i.textContent,s)?(h.popover!=null&&(It("beforetoggle",i),It("toggle",i)),h.onScroll!=null&&It("scroll",i),h.onScrollEnd!=null&&It("scrollend",i),h.onClick!=null&&(i.onclick=Qf),i=!0):i=!1,i||Vu(r)}function El(r){for(Er=r.return;Er;)switch(Er.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:Er=Er.return}}function Yu(r){if(r!==Er)return!1;if(!yt)return El(r),yt=!0,!1;var i=!1,s;if((s=r.tag!==3&&r.tag!==27)&&((s=r.tag===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||mo(r.type,r.memoizedProps)),s=!s),s&&(i=!0),i&&kt&&Vu(r),El(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){kt=Ya(r.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}kt=null}}else kt=Er?Ya(r.stateNode.nextSibling):null;return!0}function ii(){kt=Er=null,yt=!1}function Ai(r){La===null?La=[r]:La.push(r)}var Di=Error(a(460)),Ns=Error(a(474)),ru={then:function(){}};function ng(r){return r=r.status,r==="fulfilled"||r==="rejected"}function yf(){}function rg(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(yf,yf),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===Di?Error(a(483)):r;default:if(typeof i.status=="string")i.then(yf,yf);else{if(r=nn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(h){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=h}},function(h){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===Di?Error(a(483)):r}throw Ls=i,Di}}var Ls=null;function ag(){if(Ls===null)throw Error(a(459));var r=Ls;return Ls=null,r}var Ri=null,Mi=0;function zs(r){var i=Mi;return Mi+=1,Ri===null&&(Ri=[]),rg(Ri,r,i)}function U(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Bi(r,i){throw i.$$typeof===l?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function ks(r){var i=r._init;return i(r._payload)}function $r(r){function i(ce,ae){if(r){var ge=ce.deletions;ge===null?(ce.deletions=[ae],ce.flags|=16):ge.push(ae)}}function s(ce,ae){if(!r)return null;for(;ae!==null;)i(ce,ae),ae=ae.sibling;return null}function h(ce){for(var ae=new Map;ce!==null;)ce.key!==null?ae.set(ce.key,ce):ae.set(ce.index,ce),ce=ce.sibling;return ae}function y(ce,ae){return ce=bu(ce,ae),ce.index=0,ce.sibling=null,ce}function E(ce,ae,ge){return ce.index=ge,r?(ge=ce.alternate,ge!==null?(ge=ge.index,ge<ae?(ce.flags|=33554434,ae):ge):(ce.flags|=33554434,ae)):(ce.flags|=1048576,ae)}function B(ce){return r&&ce.alternate===null&&(ce.flags|=33554434),ce}function H(ce,ae,ge,Oe){return ae===null||ae.tag!==6?(ae=Qv(ge,ce.mode,Oe),ae.return=ce,ae):(ae=y(ae,ge),ae.return=ce,ae)}function $(ce,ae,ge,Oe){var We=ge.type;return We===g?De(ce,ae,ge.props.children,Oe,ge.key):ae!==null&&(ae.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===R&&ks(We)===ae.type)?(ae=y(ae,ge.props),U(ae,ge),ae.return=ce,ae):(ae=io(ge.type,ge.key,ge.props,null,ce.mode,Oe),U(ae,ge),ae.return=ce,ae)}function ie(ce,ae,ge,Oe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ge.containerInfo||ae.stateNode.implementation!==ge.implementation?(ae=$v(ge,ce.mode,Oe),ae.return=ce,ae):(ae=y(ae,ge.children||[]),ae.return=ce,ae)}function De(ce,ae,ge,Oe,We){return ae===null||ae.tag!==7?(ae=ju(ge,ce.mode,Oe,We),ae.return=ce,ae):(ae=y(ae,ge),ae.return=ce,ae)}function ze(ce,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Qv(""+ae,ce.mode,ge),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case f:return ge=io(ae.type,ae.key,ae.props,null,ce.mode,ge),U(ge,ae),ge.return=ce,ge;case c:return ae=$v(ae,ce.mode,ge),ae.return=ce,ae;case R:var Oe=ae._init;return ae=Oe(ae._payload),ze(ce,ae,ge)}if(de(ae)||z(ae))return ae=ju(ae,ce.mode,ge,null),ae.return=ce,ae;if(typeof ae.then=="function")return ze(ce,zs(ae),ge);if(ae.$$typeof===x)return ze(ce,Uf(ce,ae),ge);Bi(ce,ae)}return null}function ye(ce,ae,ge,Oe){var We=ae!==null?ae.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return We!==null?null:H(ce,ae,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case f:return ge.key===We?$(ce,ae,ge,Oe):null;case c:return ge.key===We?ie(ce,ae,ge,Oe):null;case R:return We=ge._init,ge=We(ge._payload),ye(ce,ae,ge,Oe)}if(de(ge)||z(ge))return We!==null?null:De(ce,ae,ge,Oe,null);if(typeof ge.then=="function")return ye(ce,ae,zs(ge),Oe);if(ge.$$typeof===x)return ye(ce,ae,Uf(ce,ge),Oe);Bi(ce,ge)}return null}function Ce(ce,ae,ge,Oe,We){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ce=ce.get(ge)||null,H(ae,ce,""+Oe,We);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case f:return ce=ce.get(Oe.key===null?ge:Oe.key)||null,$(ae,ce,Oe,We);case c:return ce=ce.get(Oe.key===null?ge:Oe.key)||null,ie(ae,ce,Oe,We);case R:var Mt=Oe._init;return Oe=Mt(Oe._payload),Ce(ce,ae,ge,Oe,We)}if(de(Oe)||z(Oe))return ce=ce.get(ge)||null,De(ae,ce,Oe,We,null);if(typeof Oe.then=="function")return Ce(ce,ae,ge,zs(Oe),We);if(Oe.$$typeof===x)return Ce(ce,ae,ge,Uf(ae,Oe),We);Bi(ae,Oe)}return null}function Je(ce,ae,ge,Oe){for(var We=null,Mt=null,rt=ae,ct=ae=0,Vt=null;rt!==null&&ct<ge.length;ct++){rt.index>ct?(Vt=rt,rt=null):Vt=rt.sibling;var Ht=ye(ce,rt,ge[ct],Oe);if(Ht===null){rt===null&&(rt=Vt);break}r&&rt&&Ht.alternate===null&&i(ce,rt),ae=E(Ht,ae,ct),Mt===null?We=Ht:Mt.sibling=Ht,Mt=Ht,rt=Vt}if(ct===ge.length)return s(ce,rt),yt&&Ci(ce,ct),We;if(rt===null){for(;ct<ge.length;ct++)rt=ze(ce,ge[ct],Oe),rt!==null&&(ae=E(rt,ae,ct),Mt===null?We=rt:Mt.sibling=rt,Mt=rt);return yt&&Ci(ce,ct),We}for(rt=h(rt);ct<ge.length;ct++)Vt=Ce(rt,ce,ct,ge[ct],Oe),Vt!==null&&(r&&Vt.alternate!==null&&rt.delete(Vt.key===null?ct:Vt.key),ae=E(Vt,ae,ct),Mt===null?We=Vt:Mt.sibling=Vt,Mt=Vt);return r&&rt.forEach(function(Au){return i(ce,Au)}),yt&&Ci(ce,ct),We}function bt(ce,ae,ge,Oe){if(ge==null)throw Error(a(151));for(var We=null,Mt=null,rt=ae,ct=ae=0,Vt=null,Ht=ge.next();rt!==null&&!Ht.done;ct++,Ht=ge.next()){rt.index>ct?(Vt=rt,rt=null):Vt=rt.sibling;var Au=ye(ce,rt,Ht.value,Oe);if(Au===null){rt===null&&(rt=Vt);break}r&&rt&&Au.alternate===null&&i(ce,rt),ae=E(Au,ae,ct),Mt===null?We=Au:Mt.sibling=Au,Mt=Au,rt=Vt}if(Ht.done)return s(ce,rt),yt&&Ci(ce,ct),We;if(rt===null){for(;!Ht.done;ct++,Ht=ge.next())Ht=ze(ce,Ht.value,Oe),Ht!==null&&(ae=E(Ht,ae,ct),Mt===null?We=Ht:Mt.sibling=Ht,Mt=Ht);return yt&&Ci(ce,ct),We}for(rt=h(rt);!Ht.done;ct++,Ht=ge.next())Ht=Ce(rt,ce,ct,Ht.value,Oe),Ht!==null&&(r&&Ht.alternate!==null&&rt.delete(Ht.key===null?ct:Ht.key),ae=E(Ht,ae,ct),Mt===null?We=Ht:Mt.sibling=Ht,Mt=Ht);return r&&rt.forEach(function(_y){return i(ce,_y)}),yt&&Ci(ce,ct),We}function Cn(ce,ae,ge,Oe){if(typeof ge=="object"&&ge!==null&&ge.type===g&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case f:e:{for(var We=ge.key;ae!==null;){if(ae.key===We){if(We=ge.type,We===g){if(ae.tag===7){s(ce,ae.sibling),Oe=y(ae,ge.props.children),Oe.return=ce,ce=Oe;break e}}else if(ae.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===R&&ks(We)===ae.type){s(ce,ae.sibling),Oe=y(ae,ge.props),U(Oe,ge),Oe.return=ce,ce=Oe;break e}s(ce,ae);break}else i(ce,ae);ae=ae.sibling}ge.type===g?(Oe=ju(ge.props.children,ce.mode,Oe,ge.key),Oe.return=ce,ce=Oe):(Oe=io(ge.type,ge.key,ge.props,null,ce.mode,Oe),U(Oe,ge),Oe.return=ce,ce=Oe)}return B(ce);case c:e:{for(We=ge.key;ae!==null;){if(ae.key===We)if(ae.tag===4&&ae.stateNode.containerInfo===ge.containerInfo&&ae.stateNode.implementation===ge.implementation){s(ce,ae.sibling),Oe=y(ae,ge.children||[]),Oe.return=ce,ce=Oe;break e}else{s(ce,ae);break}else i(ce,ae);ae=ae.sibling}Oe=$v(ge,ce.mode,Oe),Oe.return=ce,ce=Oe}return B(ce);case R:return We=ge._init,ge=We(ge._payload),Cn(ce,ae,ge,Oe)}if(de(ge))return Je(ce,ae,ge,Oe);if(z(ge)){if(We=z(ge),typeof We!="function")throw Error(a(150));return ge=We.call(ge),bt(ce,ae,ge,Oe)}if(typeof ge.then=="function")return Cn(ce,ae,zs(ge),Oe);if(ge.$$typeof===x)return Cn(ce,ae,Uf(ce,ge),Oe);Bi(ce,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,ae!==null&&ae.tag===6?(s(ce,ae.sibling),Oe=y(ae,ge),Oe.return=ce,ce=Oe):(s(ce,ae),Oe=Qv(ge,ce.mode,Oe),Oe.return=ce,ce=Oe),B(ce)):s(ce,ae)}return function(ce,ae,ge,Oe){try{Mi=0;var We=Cn(ce,ae,ge,Oe);return Ri=null,We}catch(rt){if(rt===Di)throw rt;var Mt=aa(29,rt,null,ce.mode);return Mt.lanes=Oe,Mt.return=ce,Mt}finally{}}}var St=$r(!0),ig=$r(!1),Sl=Se(null),bf=Se(0);function au(r,i){r=Fi,re(bf,r),re(Sl,i),Fi=r|i.baseLanes}function sv(){re(bf,Fi),re(Sl,Sl.current)}function ov(){Fi=bf.current,ve(Sl),ve(bf)}var xa=Se(null),ui=null;function iu(r){var i=r.alternate;re(Zn,Zn.current&1),re(xa,r),ui===null&&(i===null||Sl.current!==null||i.memoizedState!==null)&&(ui=r)}function li(r){if(r.tag===22){if(re(Zn,Zn.current),re(xa,r),ui===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ui=r)}}else uu()}function uu(){re(Zn,Zn.current),re(xa,xa.current)}function Oi(r){ve(xa),ui===r&&(ui=null),ve(Zn)}var Zn=Se(0);function wf(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vp=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,h){r.push(h)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},_i=n.unstable_scheduleCallback,Yp=n.unstable_NormalPriority,Wn={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fv(){return{controller:new Vp,data:new Map,refCount:0}}function Is(r){r.refCount--,r.refCount===0&&_i(Yp,function(){r.controller.abort()})}var Us=null,Ni=0,xl=0,Tl=null;function za(r,i){if(Us===null){var s=Us=[];Ni=0,xl=hd(),Tl={status:"pending",value:void 0,then:function(h){s.push(h)}}}return Ni++,i.then(ug,ug),i}function ug(){if(--Ni===0&&Us!==null){Tl!==null&&(Tl.status="fulfilled");var r=Us;Us=null,xl=0,Tl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function Xp(r,i){var s=[],h={status:"pending",value:null,reason:null,then:function(y){s.push(y)}};return r.then(function(){h.status="fulfilled",h.value=i;for(var y=0;y<s.length;y++)(0,s[y])(i)},function(y){for(h.status="rejected",h.reason=y,y=0;y<s.length;y++)(0,s[y])(void 0)}),h}var lg=L.S;L.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&za(r,i),lg!==null&&lg(r,i)};var Xu=Se(null);function cv(){var r=Xu.current;return r!==null?r:nn.pooledCache}function Ps(r,i){i===null?re(Xu,Xu.current):re(Xu,i.pool)}function vv(){var r=cv();return r===null?null:{parent:Wn._currentValue,pool:r}}var lu=0,Dt=null,Zt=null,mn=null,Ku=!1,Cl=!1,su=!1,Ef=0,Jr=0,ou=null,Zu=0;function Gt(){throw Error(a(321))}function dv(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Wr(r[s],i[s]))return!1;return!0}function Sf(r,i,s,h,y,E){return lu=E,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=r===null||r.memoizedState===null?zr:si,su=!1,E=s(h,y),su=!1,Cl&&(E=Al(i,s,h,y)),hv(r),E}function hv(r){L.H=Rn;var i=Zt!==null&&Zt.next!==null;if(lu=0,mn=Zt=Dt=null,Ku=!1,Jr=0,ou=null,i)throw Error(a(300));r===null||Qn||(r=r.dependencies,r!==null&&If(r)&&(Qn=!0))}function Al(r,i,s,h){Dt=r;var y=0;do{if(Cl&&(ou=null),Jr=0,Cl=!1,25<=y)throw Error(a(301));if(y+=1,mn=Zt=null,r.updateQueue!=null){var E=r.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}L.H=vu,E=i(s,h)}while(Cl);return E}function fu(){var r=L.H,i=r.useState()[0];return i=typeof i.then=="function"?Wu(i):i,r=r.useState()[0],(Zt!==null?Zt.memoizedState:null)!==r&&(Dt.flags|=1024),i}function xf(){var r=Ef!==0;return Ef=0,r}function gv(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function Dl(r){if(Ku){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ku=!1}lu=0,mn=Zt=Dt=null,Cl=!1,Jr=Ef=0,ou=null}function Lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Dt.memoizedState=mn=r:mn=mn.next=r,mn}function kn(){if(Zt===null){var r=Dt.alternate;r=r!==null?r.memoizedState:null}else r=Zt.next;var i=mn===null?Dt.memoizedState:mn.next;if(i!==null)mn=i,Zt=r;else{if(r===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));Zt=r,r={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},mn===null?Dt.memoizedState=mn=r:mn=mn.next=r}return mn}var Fn;Fn=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wu(r){var i=Jr;return Jr+=1,ou===null&&(ou=[]),r=rg(ou,r,i),i=Dt,(mn===null?i.memoizedState:mn.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?zr:si),r}function Hs(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wu(r);if(r.$$typeof===x)return vr(r)}throw Error(a(438,String(r)))}function Ta(r){var i=null,s=Dt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var h=Dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Fn(),Dt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),h=0;h<r;h++)s[h]=_;return i.index++,s}function ka(r,i){return typeof i=="function"?i(r):i}function Qu(r){var i=kn();return Li(i,Zt,r)}function Li(r,i,s){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=s;var y=r.baseQueue,E=h.pending;if(E!==null){if(y!==null){var B=y.next;y.next=E.next,E.next=B}i.baseQueue=y=E,h.pending=null}if(E=r.baseState,y===null)r.memoizedState=E;else{i=y.next;var H=B=null,$=null,ie=i,De=!1;do{var ze=ie.lane&-536870913;if(ze!==ie.lane?(Pt&ze)===ze:(lu&ze)===ze){var ye=ie.revertLane;if(ye===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ze===xl&&(De=!0);else if((lu&ye)===ye){ie=ie.next,ye===xl&&(De=!0);continue}else ze={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(H=$=ze,B=E):$=$.next=ze,Dt.lanes|=ye,wu|=ye;ze=ie.action,su&&s(E,ze),E=ie.hasEagerState?ie.eagerState:s(E,ze)}else ye={lane:ze,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(H=$=ye,B=E):$=$.next=ye,Dt.lanes|=ze,wu|=ze;ie=ie.next}while(ie!==null&&ie!==i);if($===null?B=E:$.next=H,!Wr(E,r.memoizedState)&&(Qn=!0,De&&(s=Tl,s!==null)))throw s;r.memoizedState=E,r.baseState=B,r.baseQueue=$,h.lastRenderedState=E}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Tf(r){var i=kn(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var h=s.dispatch,y=s.pending,E=i.memoizedState;if(y!==null){s.pending=null;var B=y=y.next;do E=r(E,B.action),B=B.next;while(B!==y);Wr(E,i.memoizedState)||(Qn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),s.lastRenderedState=E}return[E,h]}function cr(r,i,s){var h=Dt,y=kn(),E=yt;if(E){if(s===void 0)throw Error(a(407));s=s()}else s=i();var B=!Wr((Zt||y).memoizedState,s);if(B&&(y.memoizedState=s,Qn=!0),y=y.queue,Rf(og.bind(null,h,y,r),[r]),y.getSnapshot!==i||B||mn!==null&&mn.memoizedState.tag&1){if(h.flags|=2048,cu(9,sg.bind(null,h,y,s,i),{destroy:void 0},null),nn===null)throw Error(a(349));E||(lu&60)!==0||Cf(h,i,s)}return s}function Cf(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=Dt.updateQueue,i===null?(i=Fn(),Dt.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function sg(r,i,s,h){i.value=s,i.getSnapshot=h,fg(i)&&Af(r)}function og(r,i,s){return s(function(){fg(i)&&Af(r)})}function fg(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Wr(r,s)}catch{return!0}}function Af(r){var i=Na(r,2);i!==null&&hr(i,r,2)}function mv(r){var i=Lr();if(typeof r=="function"){var s=r;if(r=s(),su){at(!0);try{s()}finally{at(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:r},i}function Rl(r,i,s,h){return r.baseState=s,Li(r,Zt,typeof h=="function"?h:ka)}function cg(r,i,s,h,y){if(Nl(r))throw Error(a(485));if(r=i.action,r!==null){var E={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){E.listeners.push(B)}};L.T!==null?s(!0):E.isTransition=!1,h(E),s=i.pending,s===null?(E.next=i.pending=E,vg(i,E)):(E.next=s.next,i.pending=s.next=E)}}function vg(r,i){var s=i.action,h=i.payload,y=r.state;if(i.isTransition){var E=L.T,B={};L.T=B;try{var H=s(y,h),$=L.S;$!==null&&$(B,H),dg(r,i,H)}catch(ie){pv(r,i,ie)}finally{L.T=E}}else try{E=s(y,h),dg(r,i,E)}catch(ie){pv(r,i,ie)}}function dg(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(h){Ml(r,i,h)},function(h){return pv(r,i,h)}):Ml(r,i,s)}function Ml(r,i,s){i.status="fulfilled",i.value=s,hg(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,vg(r,s)))}function pv(r,i,s){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=s,hg(i),i=i.next;while(i!==h)}r.action=null}function hg(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Df(r,i){return i}function yv(r,i){if(yt){var s=nn.formState;if(s!==null){e:{var h=Dt;if(yt){if(kt){t:{for(var y=kt,E=ai;y.nodeType!==8;){if(!E){y=null;break t}if(y=Ya(y.nextSibling),y===null){y=null;break t}}E=y.data,y=E==="F!"||E==="F"?y:null}if(y){kt=Ya(y.nextSibling),h=y.data==="F!";break e}}Vu(h)}h=!1}h&&(i=s[0])}}return s=Lr(),s.memoizedState=s.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:i},s.queue=h,s=jr.bind(null,Dt,h),h.dispatch=s,h=mv(!1),E=_l.bind(null,Dt,!1,h.queue),h=Lr(),y={state:i,dispatch:null,action:r,pending:null},h.queue=y,s=cg.bind(null,Dt,y,E,s),y.dispatch=s,h.memoizedState=r,[i,s,!1]}function gg(r){var i=kn();return mg(i,Zt,r)}function mg(r,i,s){i=Li(r,i,Df)[0],r=Qu(ka)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Wu(i):i;var h=kn(),y=h.queue,E=y.dispatch;return s!==h.memoizedState&&(Dt.flags|=2048,cu(9,Kp.bind(null,y,s),{destroy:void 0},null)),[i,E,r]}function Kp(r,i){r.action=i}function bv(r){var i=kn(),s=Zt;if(s!==null)return mg(i,s,r);kn(),i=i.memoizedState,s=kn();var h=s.queue.dispatch;return s.memoizedState=r,[i,h,!1]}function cu(r,i,s,h){return r={tag:r,create:i,inst:s,deps:h,next:null},i=Dt.updateQueue,i===null&&(i=Fn(),Dt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(h=s.next,s.next=r,r.next=h,i.lastEffect=r),r}function pg(){return kn().memoizedState}function Bl(r,i,s,h){var y=Lr();Dt.flags|=r,y.memoizedState=cu(1|i,s,{destroy:void 0},h===void 0?null:h)}function Fs(r,i,s,h){var y=kn();h=h===void 0?null:h;var E=y.memoizedState.inst;Zt!==null&&h!==null&&dv(h,Zt.memoizedState.deps)?y.memoizedState=cu(i,s,E,h):(Dt.flags|=r,y.memoizedState=cu(1|i,s,E,h))}function wv(r,i){Bl(8390656,8,r,i)}function Rf(r,i){Fs(2048,8,r,i)}function qs(r,i){return Fs(4,2,r,i)}function yg(r,i){return Fs(4,4,r,i)}function Ev(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Sv(r,i,s){s=s!=null?s.concat([r]):null,Fs(4,4,Ev.bind(null,i,r),s)}function xv(){}function Tv(r,i){var s=kn();i=i===void 0?null:i;var h=s.memoizedState;return i!==null&&dv(i,h[1])?h[0]:(s.memoizedState=[r,i],r)}function bg(r,i){var s=kn();i=i===void 0?null:i;var h=s.memoizedState;if(i!==null&&dv(i,h[1]))return h[0];if(h=r(),su){at(!0);try{r()}finally{at(!1)}}return s.memoizedState=[h,i],h}function Gs(r,i,s){return s===void 0||(lu&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=Vg(),Dt.lanes|=r,wu|=r,s)}function Cv(r,i,s,h){return Wr(s,i)?s:Sl.current!==null?(r=Gs(r,s,h),Wr(r,i)||(Qn=!0),r):(lu&42)===0?(Qn=!0,r.memoizedState=s):(r=Vg(),Dt.lanes|=r,wu|=r,i)}function Mf(r,i,s,h,y){var E=se.p;se.p=E!==0&&8>E?E:8;var B=L.T,H={};L.T=H,_l(r,!1,i,s);try{var $=y(),ie=L.S;if(ie!==null&&ie(H,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var De=Xp($,h);Ys(r,i,De,ua(r))}else Ys(r,i,h,ua(r))}catch(ze){Ys(r,i,{then:function(){},status:"rejected",reason:ze},ua())}finally{se.p=E,L.T=B}}function Zp(){}function Vs(r,i,s,h){if(r.tag!==5)throw Error(a(476));var y=At(r).queue;Mf(r,y,i,we,s===null?Zp:function(){return wg(r),s(h)})}function At(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:we},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function wg(r){var i=At(r).next.queue;Ys(r,i,{},ua())}function Av(){return vr(bo)}function Ol(){return kn().memoizedState}function Dv(){return kn().memoizedState}function Wp(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=ua();r=Fa(s);var h=ea(i,r,s);h!==null&&(hr(h,i,s),it(h,i,s)),i={cache:fv()},r.payload=i;return}i=i.return}}function Qp(r,i,s){var h=ua();s={lane:h,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Nl(r)?Rv(i,s):(s=ti(r,i,s,h),s!==null&&(hr(s,r,h),Mv(s,i,h)))}function jr(r,i,s){var h=ua();Ys(r,i,s,h)}function Ys(r,i,s,h){var y={lane:h,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nl(r))Rv(i,y);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var B=i.lastRenderedState,H=E(B,s);if(y.hasEagerState=!0,y.eagerState=H,Wr(H,B))return Uu(r,i,y,0),nn===null&&hf(),!1}catch{}finally{}if(s=ti(r,i,y,h),s!==null)return hr(s,r,h),Mv(s,i,h),!0}return!1}function _l(r,i,s,h){if(h={lane:2,revertLane:hd(),action:h,hasEagerState:!1,eagerState:null,next:null},Nl(r)){if(i)throw Error(a(479))}else i=ti(r,s,h,2),i!==null&&hr(i,r,2)}function Nl(r){var i=r.alternate;return r===Dt||i!==null&&i===Dt}function Rv(r,i){Cl=Ku=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function Mv(r,i,s){if((s&4194176)!==0){var h=i.lanes;h&=r.pendingLanes,s|=h,i.lanes=s,Br(r,s)}}var Rn={readContext:vr,use:Hs,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt};Rn.useCacheRefresh=Gt,Rn.useMemoCache=Gt,Rn.useHostTransitionStatus=Gt,Rn.useFormState=Gt,Rn.useActionState=Gt,Rn.useOptimistic=Gt;var zr={readContext:vr,use:Hs,useCallback:function(r,i){return Lr().memoizedState=[r,i===void 0?null:i],r},useContext:vr,useEffect:wv,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,Bl(4194308,4,Ev.bind(null,i,r),s)},useLayoutEffect:function(r,i){return Bl(4194308,4,r,i)},useInsertionEffect:function(r,i){Bl(4,2,r,i)},useMemo:function(r,i){var s=Lr();i=i===void 0?null:i;var h=r();if(su){at(!0);try{r()}finally{at(!1)}}return s.memoizedState=[h,i],h},useReducer:function(r,i,s){var h=Lr();if(s!==void 0){var y=s(i);if(su){at(!0);try{s(i)}finally{at(!1)}}}else y=i;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=Qp.bind(null,Dt,r),[h.memoizedState,r]},useRef:function(r){var i=Lr();return r={current:r},i.memoizedState=r},useState:function(r){r=mv(r);var i=r.queue,s=jr.bind(null,Dt,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:xv,useDeferredValue:function(r,i){var s=Lr();return Gs(s,r,i)},useTransition:function(){var r=mv(!1);return r=Mf.bind(null,Dt,r.queue,!0,!1),Lr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var h=Dt,y=Lr();if(yt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),nn===null)throw Error(a(349));(Pt&60)!==0||Cf(h,i,s)}y.memoizedState=s;var E={value:s,getSnapshot:i};return y.queue=E,wv(og.bind(null,h,E,r),[r]),h.flags|=2048,cu(9,sg.bind(null,h,E,s,i),{destroy:void 0},null),s},useId:function(){var r=Lr(),i=nn.identifierPrefix;if(yt){var s=Sa,h=Ea;s=(h&~(1<<32-Ve(h)-1)).toString(32)+s,i=":"+i+"R"+s,s=Ef++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Zu++,i=":"+i+"r"+s.toString(32)+":";return r.memoizedState=i},useCacheRefresh:function(){return Lr().memoizedState=Wp.bind(null,Dt)}};zr.useMemoCache=Ta,zr.useHostTransitionStatus=Av,zr.useFormState=yv,zr.useActionState=yv,zr.useOptimistic=function(r){var i=Lr();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=_l.bind(null,Dt,!0,s),s.dispatch=i,[r,i]};var si={readContext:vr,use:Hs,useCallback:Tv,useContext:vr,useEffect:Rf,useImperativeHandle:Sv,useInsertionEffect:qs,useLayoutEffect:yg,useMemo:bg,useReducer:Qu,useRef:pg,useState:function(){return Qu(ka)},useDebugValue:xv,useDeferredValue:function(r,i){var s=kn();return Cv(s,Zt.memoizedState,r,i)},useTransition:function(){var r=Qu(ka)[0],i=kn().memoizedState;return[typeof r=="boolean"?r:Wu(r),i]},useSyncExternalStore:cr,useId:Ol};si.useCacheRefresh=Dv,si.useMemoCache=Ta,si.useHostTransitionStatus=Av,si.useFormState=gg,si.useActionState=gg,si.useOptimistic=function(r,i){var s=kn();return Rl(s,Zt,r,i)};var vu={readContext:vr,use:Hs,useCallback:Tv,useContext:vr,useEffect:Rf,useImperativeHandle:Sv,useInsertionEffect:qs,useLayoutEffect:yg,useMemo:bg,useReducer:Tf,useRef:pg,useState:function(){return Tf(ka)},useDebugValue:xv,useDeferredValue:function(r,i){var s=kn();return Zt===null?Gs(s,r,i):Cv(s,Zt.memoizedState,r,i)},useTransition:function(){var r=Tf(ka)[0],i=kn().memoizedState;return[typeof r=="boolean"?r:Wu(r),i]},useSyncExternalStore:cr,useId:Ol};vu.useCacheRefresh=Dv,vu.useMemoCache=Ta,vu.useHostTransitionStatus=Av,vu.useFormState=bv,vu.useActionState=bv,vu.useOptimistic=function(r,i){var s=kn();return Zt!==null?Rl(s,Zt,r,i):(s.baseState=r,[r,s.queue.dispatch])};function Ll(r,i,s,h){i=r.memoizedState,s=s(h,i),s=s==null?i:F({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Bf={isMounted:function(r){return(r=r._reactInternals)?j(r)===r:!1},enqueueSetState:function(r,i,s){r=r._reactInternals;var h=ua(),y=Fa(h);y.payload=i,s!=null&&(y.callback=s),i=ea(r,y,h),i!==null&&(hr(i,r,h),it(i,r,h))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var h=ua(),y=Fa(h);y.tag=1,y.payload=i,s!=null&&(y.callback=s),i=ea(r,y,h),i!==null&&(hr(i,r,h),it(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=ua(),h=Fa(s);h.tag=2,i!=null&&(h.callback=i),i=ea(r,h,s),i!==null&&(hr(i,r,s),it(i,r,s))}};function Of(r,i,s,h,y,E,B){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,E,B):i.prototype&&i.prototype.isPureReactComponent?!ei(s,h)||!ei(y,E):!0}function Bv(r,i,s,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,h),i.state!==r&&Bf.enqueueReplaceState(i,i.state,null)}function zi(r,i){var s=i;if("ref"in i){s={};for(var h in i)h!=="ref"&&(s[h]=i[h])}if(r=r.defaultProps){s===i&&(s=F({},s));for(var y in r)s[y]===void 0&&(s[y]=r[y])}return s}var zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ki(r){zl(r)}function Eg(r){console.error(r)}function Ii(r){zl(r)}function Xs(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function Ov(r,i,s){try{var h=r.onCaughtError;h(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ks(r,i,s){return s=Fa(s),s.tag=3,s.payload={element:null},s.callback=function(){Xs(r,i)},s}function Sg(r){return r=Fa(r),r.tag=3,r}function xg(r,i,s,h){var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var E=h.value;r.payload=function(){return y(E)},r.callback=function(){Ov(i,s,h)}}var B=s.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(r.callback=function(){Ov(i,s,h),typeof y!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})})}function $p(r,i,s,h,y){if(s.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=s.alternate,i!==null&&Hl(i,s,y,!0),s=xa.current,s!==null){switch(s.tag){case 13:return ui===null?ud():s.alternate===null&&Bn===0&&(Bn=3),s.flags&=-257,s.flags|=65536,s.lanes=y,h===ru?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([h]):i.add(h),sd(r,h,y)),!1;case 22:return s.flags|=65536,h===ru?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([h]):s.add(h)),sd(r,h,y)),!1}throw Error(a(435,s.tag))}return sd(r,h,y),ud(),!1}if(yt)return i=xa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,h!==mf&&(r=Error(a(422),{cause:h}),Ai(wr(r,s)))):(h!==mf&&(i=Error(a(423),{cause:h}),Ai(wr(i,s))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=wr(h,s),y=Ks(r.stateNode,h,y),Fl(r,y),Bn!==4&&(Bn=2)),!1;var E=Error(a(520),{cause:h});if(E=wr(E,s),lo===null?lo=[E]:lo.push(E),Bn!==4&&(Bn=2),i===null)return!0;h=wr(h,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=y&-y,s.lanes|=r,r=Ks(s.stateNode,h,r),Fl(s,r),!1;case 1:if(i=s.type,E=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(gi===null||!gi.has(E))))return s.flags|=65536,y&=-y,s.lanes|=y,y=Sg(y),xg(y,r,s,h),Fl(s,y),!1}s=s.return}while(s!==null);return!1}var _v=Error(a(461)),Qn=!1;function tr(r,i,s,h){i.child=r===null?ig(i,null,s,h):St(i,r.child,s,h)}function Nv(r,i,s,h,y){s=s.render;var E=i.ref;if("ref"in h){var B={};for(var H in h)H!=="ref"&&(B[H]=h[H])}else B=h;return mu(i),h=Sf(r,i,s,B,E,y),H=xf(),r!==null&&!Qn?(gv(r,i,y),Ua(r,i,y)):(yt&&H&&gf(i),i.flags|=1,tr(r,i,h,y),i.child)}function Lv(r,i,s,h,y){if(r===null){var E=s.type;return typeof E=="function"&&!Wv(E)&&E.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=E,Sr(r,i,E,h,y)):(r=io(s.type,null,h,i,i.mode,y),r.ref=i.ref,r.return=i,i.child=r)}if(E=r.child,!Ul(r,y)){var B=E.memoizedProps;if(s=s.compare,s=s!==null?s:ei,s(B,h)&&r.ref===i.ref)return Ua(r,i,y)}return i.flags|=1,r=bu(E,h),r.ref=i.ref,r.return=i,i.child=r}function Sr(r,i,s,h,y){if(r!==null){var E=r.memoizedProps;if(ei(E,h)&&r.ref===i.ref)if(Qn=!1,i.pendingProps=h=E,Ul(r,y))(r.flags&131072)!==0&&(Qn=!0);else return i.lanes=r.lanes,Ua(r,i,y)}return kl(r,i,s,h,y)}function Ia(r,i,s){var h=i.pendingProps,y=h.children,E=(i.stateNode._pendingVisibility&2)!==0,B=r!==null?r.memoizedState:null;if(Zs(r,i),h.mode==="hidden"||E){if((i.flags&128)!==0){if(h=B!==null?B.baseLanes|s:s,r!==null){for(y=i.child=r.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;i.childLanes=E&~h}else i.childLanes=0,i.child=null;return Tg(r,i,h,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ps(i,B!==null?B.cachePool:null),B!==null?au(i,B):sv(),li(i);else return i.lanes=i.childLanes=536870912,Tg(r,i,B!==null?B.baseLanes|s:s,s)}else B!==null?(Ps(i,B.cachePool),au(i,B),uu(),i.memoizedState=null):(r!==null&&Ps(i,null),sv(),uu());return tr(r,i,y,s),i.child}function Tg(r,i,s,h){var y=cv();return y=y===null?null:{parent:Wn._currentValue,pool:y},i.memoizedState={baseLanes:s,cachePool:y},r!==null&&Ps(i,null),sv(),li(i),r!==null&&Hl(r,i,h,!0),null}function Zs(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=2097664)}}function kl(r,i,s,h,y){return mu(i),s=Sf(r,i,s,h,void 0,y),h=xf(),r!==null&&!Qn?(gv(r,i,y),Ua(r,i,y)):(yt&&h&&gf(i),i.flags|=1,tr(r,i,s,y),i.child)}function $u(r,i,s,h,y,E){return mu(i),i.updateQueue=null,s=Al(i,h,s,y),hv(r),h=xf(),r!==null&&!Qn?(gv(r,i,E),Ua(r,i,E)):(yt&&h&&gf(i),i.flags|=1,tr(r,i,s,E),i.child)}function zv(r,i,s,h,y){if(mu(i),i.stateNode===null){var E=Hu,B=s.contextType;typeof B=="object"&&B!==null&&(E=vr(B)),E=new s(h,E),i.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Bf,i.stateNode=E,E._reactInternals=i,E=i.stateNode,E.props=h,E.state=i.memoizedState,E.refs={},$s(i),B=s.contextType,E.context=typeof B=="object"&&B!==null?vr(B):Hu,E.state=i.memoizedState,B=s.getDerivedStateFromProps,typeof B=="function"&&(Ll(i,s,B,h),E.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(B=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),B!==E.state&&Bf.enqueueReplaceState(E,E.state,null),eo(i,h,E,y),qa(),E.state=i.memoizedState),typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(r===null){E=i.stateNode;var H=i.memoizedProps,$=zi(s,H);E.props=$;var ie=E.context,De=s.contextType;B=Hu,typeof De=="object"&&De!==null&&(B=vr(De));var ze=s.getDerivedStateFromProps;De=typeof ze=="function"||typeof E.getSnapshotBeforeUpdate=="function",H=i.pendingProps!==H,De||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H||ie!==B)&&Bv(i,E,h,B),ci=!1;var ye=i.memoizedState;E.state=ye,eo(i,h,E,y),qa(),ie=i.memoizedState,H||ye!==ie||ci?(typeof ze=="function"&&(Ll(i,s,ze,h),ie=i.memoizedState),($=ci||Of(i,s,$,h,ye,ie,B))?(De||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=ie),E.props=h,E.state=ie,E.context=B,h=$):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Js(r,i),B=i.memoizedProps,De=zi(s,B),E.props=De,ze=i.pendingProps,ye=E.context,ie=s.contextType,$=Hu,typeof ie=="object"&&ie!==null&&($=vr(ie)),H=s.getDerivedStateFromProps,(ie=typeof H=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B!==ze||ye!==$)&&Bv(i,E,h,$),ci=!1,ye=i.memoizedState,E.state=ye,eo(i,h,E,y),qa();var Ce=i.memoizedState;B!==ze||ye!==Ce||ci||r!==null&&r.dependencies!==null&&If(r.dependencies)?(typeof H=="function"&&(Ll(i,s,H,h),Ce=i.memoizedState),(De=ci||Of(i,s,De,h,ye,Ce,$)||r!==null&&r.dependencies!==null&&If(r.dependencies))?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,Ce,$),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,Ce,$)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ce),E.props=h,E.state=Ce,E.context=$,h=De):(typeof E.componentDidUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=1024),h=!1)}return E=h,Zs(r,i),h=(i.flags&128)!==0,E||h?(E=i.stateNode,s=h&&typeof s.getDerivedStateFromError!="function"?null:E.render(),i.flags|=1,r!==null&&h?(i.child=St(i,r.child,null,y),i.child=St(i,null,s,y)):tr(r,i,s,y),i.memoizedState=E.state,r=i.child):r=Ua(r,i,y),r}function kv(r,i,s,h){return ii(),i.flags|=256,tr(r,i,s,h),i.child}var Iv={dehydrated:null,treeContext:null,retryLane:0};function _f(r){return{baseLanes:r,cachePool:vv()}}function du(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=Ca),r}function Il(r,i,s){var h=i.pendingProps,y=!1,E=(i.flags&128)!==0,B;if((B=E)||(B=r!==null&&r.memoizedState===null?!1:(Zn.current&2)!==0),B&&(y=!0,i.flags&=-129),B=(i.flags&32)!==0,i.flags&=-33,r===null){if(yt){if(y?iu(i):uu(),yt){var H=kt,$;if($=H){e:{for($=H,H=ai;$.nodeType!==8;){if(!H){H=null;break e}if($=Ya($.nextSibling),$===null){H=null;break e}}H=$}H!==null?(i.memoizedState={dehydrated:H,treeContext:Gu!==null?{id:Ea,overflow:Sa}:null,retryLane:536870912},$=aa(18,null,null,0),$.stateNode=H,$.return=i,i.child=$,Er=i,kt=null,$=!0):$=!1}$||Vu(i)}if(H=i.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return H.data==="$!"?i.lanes=16:i.lanes=536870912,null;Oi(i)}return H=h.children,h=h.fallback,y?(uu(),y=i.mode,H=Nf({mode:"hidden",children:H},y),h=ju(h,y,s,null),H.return=i,h.return=i,H.sibling=h,i.child=H,y=i.child,y.memoizedState=_f(s),y.childLanes=du(r,B,s),i.memoizedState=Iv,h):(iu(i),Uv(i,H))}if($=r.memoizedState,$!==null&&(H=$.dehydrated,H!==null)){if(E)i.flags&256?(iu(i),i.flags&=-257,i=Lf(r,i,s)):i.memoizedState!==null?(uu(),i.child=r.child,i.flags|=128,i=null):(uu(),y=h.fallback,H=i.mode,h=Nf({mode:"visible",children:h.children},H),y=ju(y,H,s,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,St(i,r.child,null,s),h=i.child,h.memoizedState=_f(s),h.childLanes=du(r,B,s),i.memoizedState=Iv,i=y);else if(iu(i),H.data==="$!"){if(B=H.nextSibling&&H.nextSibling.dataset,B)var ie=B.dgst;B=ie,h=Error(a(419)),h.stack="",h.digest=B,Ai({value:h,source:null,stack:null}),i=Lf(r,i,s)}else if(Qn||Hl(r,i,s,!1),B=(s&r.childLanes)!==0,Qn||B){if(B=nn,B!==null){if(h=s&-s,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(B.suspendedLanes|s))!==0?0:h,h!==0&&h!==$.retryLane)throw $.retryLane=h,Na(r,h),hr(B,r,h),_v}H.data==="$?"||ud(),i=Lf(r,i,s)}else H.data==="$?"?(i.flags|=128,i.child=r.child,i=sy.bind(null,r),H._reactRetry=i,i=null):(r=$.treeContext,kt=Ya(H.nextSibling),Er=i,yt=!0,La=null,ai=!1,r!==null&&(ba[wa++]=Ea,ba[wa++]=Sa,ba[wa++]=Gu,Ea=r.id,Sa=r.overflow,Gu=i),i=Uv(i,h.children),i.flags|=4096);return i}return y?(uu(),y=h.fallback,H=i.mode,$=r.child,ie=$.sibling,h=bu($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&31457280,ie!==null?y=bu(ie,y):(y=ju(y,H,s,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,H=r.child.memoizedState,H===null?H=_f(s):($=H.cachePool,$!==null?(ie=Wn._currentValue,$=$.parent!==ie?{parent:ie,pool:ie}:$):$=vv(),H={baseLanes:H.baseLanes|s,cachePool:$}),y.memoizedState=H,y.childLanes=du(r,B,s),i.memoizedState=Iv,h):(iu(i),s=r.child,r=s.sibling,s=bu(s,{mode:"visible",children:h.children}),s.return=i,s.sibling=null,r!==null&&(B=i.deletions,B===null?(i.deletions=[r],i.flags|=16):B.push(r)),i.child=s,i.memoizedState=null,s)}function Uv(r,i){return i=Nf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Nf(r,i){return Hg(r,i,0,null)}function Lf(r,i,s){return St(i,r.child,null,s),r=Uv(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ws(r,i,s){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Ha(r.return,i,s)}function zf(r,i,s,h,y){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:s,tailMode:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=s,E.tailMode=y)}function Qs(r,i,s){var h=i.pendingProps,y=h.revealOrder,E=h.tail;if(tr(r,i,h.children,s),h=Zn.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ws(r,s,i);else if(r.tag===19)Ws(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(re(Zn,h),y){case"forwards":for(s=i.child,y=null;s!==null;)r=s.alternate,r!==null&&wf(r)===null&&(y=s),s=s.sibling;s=y,s===null?(y=i.child,i.child=null):(y=s.sibling,s.sibling=null),zf(i,!1,y,s,E);break;case"backwards":for(s=null,y=i.child,i.child=null;y!==null;){if(r=y.alternate,r!==null&&wf(r)===null){i.child=y;break}r=y.sibling,y.sibling=s,s=y,y=r}zf(i,!0,s,null,E);break;case"together":zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ua(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),wu|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(Hl(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=bu(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=bu(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function Ul(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&If(r)))}function Jp(r,i,s){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),gu(i,Wn,r.memoizedState.cache),ii();break;case 27:case 5:xt(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:gu(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(iu(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Il(r,i,s):(iu(i),r=Ua(r,i,s),r!==null?r.sibling:null);iu(i);break;case 19:var y=(r.flags&128)!==0;if(h=(s&i.childLanes)!==0,h||(Hl(r,i,s,!1),h=(s&i.childLanes)!==0),y){if(h)return Qs(r,i,s);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),re(Zn,Zn.current),h)break;return null;case 22:case 23:return i.lanes=0,Ia(r,i,s);case 24:gu(i,Wn,r.memoizedState.cache)}return Ua(r,i,s)}function Pv(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)Qn=!0;else{if(!Ul(r,s)&&(i.flags&128)===0)return Qn=!1,Jp(r,i,s);Qn=(r.flags&131072)!==0}else Qn=!1,yt&&(i.flags&1048576)!==0&&tg(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var h=i.elementType,y=h._init;if(h=y(h._payload),i.type=h,typeof h=="function")Wv(h)?(r=zi(h,r),i.tag=1,i=zv(null,i,h,r,s)):(i.tag=0,i=kl(null,i,h,r,s));else{if(h!=null){if(y=h.$$typeof,y===S){i.tag=11,i=Nv(null,i,h,r,s);break e}else if(y===C){i.tag=14,i=Lv(null,i,h,r,s);break e}}throw i=I(h)||h,Error(a(306,i,""))}}return i;case 0:return kl(r,i,i.type,i.pendingProps,s);case 1:return h=i.type,y=zi(h,i.pendingProps),zv(r,i,h,y,s);case 3:e:{if(mt(i,i.stateNode.containerInfo),r===null)throw Error(a(387));var E=i.pendingProps;y=i.memoizedState,h=y.element,Js(r,i),eo(i,E,null,s);var B=i.memoizedState;if(E=B.cache,gu(i,Wn,E),E!==y.cache&&kf(i,[Wn],s,!0),qa(),E=B.element,y.isDehydrated)if(y={element:E,isDehydrated:!1,cache:B.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=kv(r,i,E,s);break e}else if(E!==h){h=wr(Error(a(424)),i),Ai(h),i=kv(r,i,E,s);break e}else for(kt=Ya(i.stateNode.containerInfo.firstChild),Er=i,yt=!0,La=null,ai=!0,s=ig(i,null,E,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ii(),E===h){i=Ua(r,i,s);break e}tr(r,i,E,s)}i=i.child}return i;case 26:return Zs(r,i),r===null?(s=Rd(i.type,null,i.pendingProps,null))?i.memoizedState=s:yt||(s=i.type,r=i.pendingProps,h=$f(Pe.current).createElement(s),h[Nn]=i,h[vn]=r,rr(h,s,r),hn(h),i.stateNode=h):i.memoizedState=Rd(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return xt(i),r===null&&yt&&(h=i.stateNode=Dd(i.type,i.pendingProps,Pe.current),Er=i,ai=!0,kt=Ya(h.firstChild)),h=i.pendingProps.children,r!==null||yt?tr(r,i,h,s):i.child=St(i,null,h,s),Zs(r,i),i.child;case 5:return r===null&&yt&&((y=h=kt)&&(h=gy(h,i.type,i.pendingProps,ai),h!==null?(i.stateNode=h,Er=i,kt=Ya(h.firstChild),ai=!1,y=!0):y=!1),y||Vu(i)),xt(i),y=i.type,E=i.pendingProps,B=r!==null?r.memoizedProps:null,h=E.children,mo(y,E)?h=null:B!==null&&mo(y,B)&&(i.flags|=32),i.memoizedState!==null&&(y=Sf(r,i,fu,null,null,s),bo._currentValue=y),Zs(r,i),tr(r,i,h,s),i.child;case 6:return r===null&&yt&&((r=s=kt)&&(s=my(s,i.pendingProps,ai),s!==null?(i.stateNode=s,Er=i,kt=null,r=!0):r=!1),r||Vu(i)),null;case 13:return Il(r,i,s);case 4:return mt(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=St(i,null,h,s):tr(r,i,h,s),i.child;case 11:return Nv(r,i,i.type,i.pendingProps,s);case 7:return tr(r,i,i.pendingProps,s),i.child;case 8:return tr(r,i,i.pendingProps.children,s),i.child;case 12:return tr(r,i,i.pendingProps.children,s),i.child;case 10:return h=i.pendingProps,gu(i,i.type,h.value),tr(r,i,h.children,s),i.child;case 9:return y=i.type._context,h=i.pendingProps.children,mu(i),y=vr(y),h=h(y),i.flags|=1,tr(r,i,h,s),i.child;case 14:return Lv(r,i,i.type,i.pendingProps,s);case 15:return Sr(r,i,i.type,i.pendingProps,s);case 19:return Qs(r,i,s);case 22:return Ia(r,i,s);case 24:return mu(i),h=vr(Wn),r===null?(y=cv(),y===null&&(y=nn,E=fv(),y.pooledCache=E,E.refCount++,E!==null&&(y.pooledCacheLanes|=s),y=E),i.memoizedState={parent:h,cache:y},$s(i),gu(i,Wn,y)):((r.lanes&s)!==0&&(Js(r,i),eo(i,null,null,s),qa()),y=r.memoizedState,E=i.memoizedState,y.parent!==h?(y={parent:h,cache:h},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),gu(i,Wn,h)):(h=E.cache,gu(i,Wn,h),h!==y.cache&&kf(i,[Wn],s,!0))),tr(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Pl=Se(null),hu=null,Pa=null;function gu(r,i,s){re(Pl,i._currentValue),i._currentValue=s}function oi(r){r._currentValue=Pl.current,ve(Pl)}function Ha(r,i,s){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===s)break;r=r.return}}function kf(r,i,s,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var E=y.dependencies;if(E!==null){var B=y.child;E=E.firstContext;e:for(;E!==null;){var H=E;E=y;for(var $=0;$<i.length;$++)if(H.context===i[$]){E.lanes|=s,H=E.alternate,H!==null&&(H.lanes|=s),Ha(E.return,s,r),h||(B=null);break e}E=H.next}}else if(y.tag===18){if(B=y.return,B===null)throw Error(a(341));B.lanes|=s,E=B.alternate,E!==null&&(E.lanes|=s),Ha(B,s,r),B=null}else B=y.child;if(B!==null)B.return=y;else for(B=y;B!==null;){if(B===r){B=null;break}if(y=B.sibling,y!==null){y.return=B.return,B=y;break}B=B.return}y=B}}function Hl(r,i,s,h){r=null;for(var y=i,E=!1;y!==null;){if(!E){if((y.flags&524288)!==0)E=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var B=y.alternate;if(B===null)throw Error(a(387));if(B=B.memoizedProps,B!==null){var H=y.type;Wr(y.pendingProps.value,B.value)||(r!==null?r.push(H):r=[H])}}else if(y===Fe.current){if(B=y.alternate,B===null)throw Error(a(387));B.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(bo):r=[bo])}y=y.return}r!==null&&kf(i,r,s,h),i.flags|=262144}function If(r){for(r=r.firstContext;r!==null;){if(!Wr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function mu(r){hu=r,Pa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vr(r){return fi(hu,r)}function Uf(r,i){return hu===null&&mu(r),fi(r,i)}function fi(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pa===null){if(r===null)throw Error(a(308));Pa=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Pa=Pa.next=i;return s}var ci=!1;function $s(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Js(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ea(r,i,s){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(xn&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,i=Pu(r),iv(r,null,s),i}return Uu(r,h,i,s),Pu(r)}function it(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var h=i.lanes;h&=r.pendingLanes,s|=h,i.lanes=s,Br(r,s)}}function Fl(r,i){var s=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,s===h)){var y=null,E=null;if(s=s.firstBaseUpdate,s!==null){do{var B={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};E===null?y=E=B:E=E.next=B,s=s.next}while(s!==null);E===null?y=E=i:E=E.next=i}else y=E=i;s={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:h.shared,callbacks:h.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var js=!1;function qa(){if(js){var r=Tl;if(r!==null)throw r}}function eo(r,i,s,h){js=!1;var y=r.updateQueue;ci=!1;var E=y.firstBaseUpdate,B=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var $=H,ie=$.next;$.next=null,B===null?E=ie:B.next=ie,B=$;var De=r.alternate;De!==null&&(De=De.updateQueue,H=De.lastBaseUpdate,H!==B&&(H===null?De.firstBaseUpdate=ie:H.next=ie,De.lastBaseUpdate=$))}if(E!==null){var ze=y.baseState;B=0,De=ie=$=null,H=E;do{var ye=H.lane&-536870913,Ce=ye!==H.lane;if(Ce?(Pt&ye)===ye:(h&ye)===ye){ye!==0&&ye===xl&&(js=!0),De!==null&&(De=De.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Je=r,bt=H;ye=i;var Cn=s;switch(bt.tag){case 1:if(Je=bt.payload,typeof Je=="function"){ze=Je.call(Cn,ze,ye);break e}ze=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=bt.payload,ye=typeof Je=="function"?Je.call(Cn,ze,ye):Je,ye==null)break e;ze=F({},ze,ye);break e;case 2:ci=!0}}ye=H.callback,ye!==null&&(r.flags|=64,Ce&&(r.flags|=8192),Ce=y.callbacks,Ce===null?y.callbacks=[ye]:Ce.push(ye))}else Ce={lane:ye,tag:H.tag,payload:H.payload,callback:H.callback,next:null},De===null?(ie=De=Ce,$=ze):De=De.next=Ce,B|=ye;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;Ce=H,H=Ce.next,Ce.next=null,y.lastBaseUpdate=Ce,y.shared.pending=null}}while(!0);De===null&&($=ze),y.baseState=$,y.firstBaseUpdate=ie,y.lastBaseUpdate=De,E===null&&(y.shared.lanes=0),wu|=B,r.lanes=B,r.memoizedState=ze}}function Pf(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function Hv(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Pf(s[r],i)}function qn(r,i){try{var s=i.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var y=h.next;s=y;do{if((s.tag&r)===r){h=void 0;var E=s.create,B=s.inst;h=E(),B.destroy=h}s=s.next}while(s!==y)}}catch(H){ln(i,i.return,H)}}function pu(r,i,s){try{var h=i.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var E=y.next;h=E;do{if((h.tag&r)===r){var B=h.inst,H=B.destroy;if(H!==void 0){B.destroy=void 0,y=i;var $=s;try{H()}catch(ie){ln(y,$,ie)}}}h=h.next}while(h!==E)}}catch(ie){ln(i,i.return,ie)}}function Cg(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{Hv(i,s)}catch(h){ln(r,r.return,h)}}}function Fv(r,i,s){s.props=zi(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(h){ln(r,i,h)}}function Ju(r,i){try{var s=r.ref;if(s!==null){var h=r.stateNode;switch(r.tag){case 26:case 27:case 5:var y=h;break;default:y=h}typeof s=="function"?r.refCleanup=s(y):s.current=y}}catch(E){ln(r,i,E)}}function kr(r,i){var s=r.ref,h=r.refCleanup;if(s!==null)if(typeof h=="function")try{h()}catch(y){ln(r,i,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(y){ln(r,i,y)}else s.current=null}function Ag(r){var i=r.type,s=r.memoizedProps,h=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&h.focus();break e;case"img":s.src?h.src=s.src:s.srcSet&&(h.srcset=s.srcSet)}}catch(y){ln(r,r.return,y)}}function Dg(r,i,s){try{var h=r.stateNode;xu(h,r.type,s,i),h[vn]=i}catch(y){ln(r,r.return,y)}}function Rg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Ga(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Rg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nr(r,i,s){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(r,i):s.insertBefore(r,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(r,s)):(i=s,i.appendChild(r)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Qf));else if(h!==4&&h!==27&&(r=r.child,r!==null))for(nr(r,i,s),r=r.sibling;r!==null;)nr(r,i,s),r=r.sibling}function ql(r,i,s){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(h!==4&&h!==27&&(r=r.child,r!==null))for(ql(r,i,s),r=r.sibling;r!==null;)ql(r,i,s),r=r.sibling}var Ui=!1,pn=!1,qv=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Mn=null,Gv=!1;function Bg(r,i){if(r=r.containerInfo,Ed=wo,r=Jh(r),rv(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var h=s.getSelection&&s.getSelection();if(h&&h.rangeCount!==0){s=h.anchorNode;var y=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{s.nodeType,E.nodeType}catch{s=null;break e}var B=0,H=-1,$=-1,ie=0,De=0,ze=r,ye=null;t:for(;;){for(var Ce;ze!==s||y!==0&&ze.nodeType!==3||(H=B+y),ze!==E||h!==0&&ze.nodeType!==3||($=B+h),ze.nodeType===3&&(B+=ze.nodeValue.length),(Ce=ze.firstChild)!==null;)ye=ze,ze=Ce;for(;;){if(ze===r)break t;if(ye===s&&++ie===y&&(H=B),ye===E&&++De===h&&($=B),(Ce=ze.nextSibling)!==null)break;ze=ye,ye=ze.parentNode}ze=Ce}s=H===-1||$===-1?null:{start:H,end:$}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sd={focusedElem:r,selectionRange:s},wo=!1,Mn=i;Mn!==null;)if(i=Mn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Mn=r;else for(;Mn!==null;){switch(i=Mn,E=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&E!==null){r=void 0,s=i,y=E.memoizedProps,E=E.memoizedState,h=s.stateNode;try{var Je=zi(s.type,y,s.elementType===s.type);r=h.getSnapshotBeforeUpdate(Je,E),h.__reactInternalSnapshotBeforeUpdate=r}catch(bt){ln(s,s.return,bt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)Ad(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ad(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,Mn=r;break}Mn=i.return}return Je=Gv,Gv=!1,Je}function Og(r,i,s){var h=s.flags;switch(s.tag){case 0:case 11:case 15:di(r,s),h&4&&qn(5,s);break;case 1:if(di(r,s),h&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(H){ln(s,s.return,H)}else{var y=zi(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(y,i,r.__reactInternalSnapshotBeforeUpdate)}catch(H){ln(s,s.return,H)}}h&64&&Cg(s),h&512&&Ju(s,s.return);break;case 3:if(di(r,s),h&64&&(h=s.updateQueue,h!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Hv(h,r)}catch(H){ln(s,s.return,H)}}break;case 26:di(r,s),h&512&&Ju(s,s.return);break;case 27:case 5:di(r,s),i===null&&h&4&&Ag(s),h&512&&Ju(s,s.return);break;case 12:di(r,s);break;case 13:di(r,s),h&4&&Ng(r,s);break;case 22:if(y=s.memoizedState!==null||Ui,!y){i=i!==null&&i.memoizedState!==null||pn;var E=Ui,B=pn;Ui=y,(pn=i)&&!B?Ir(r,s,(s.subtreeFlags&8772)!==0):di(r,s),Ui=E,pn=B}h&512&&(s.memoizedProps.mode==="manual"?Ju(s,s.return):kr(s,s.return));break;default:di(r,s)}}function _g(r){var i=r.alternate;i!==null&&(r.alternate=null,_g(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&ws(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Gn=null,ta=!1;function vi(r,i,s){for(s=s.child;s!==null;)Vv(r,i,s),s=s.sibling}function Vv(r,i,s){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ae,s)}catch{}switch(s.tag){case 26:pn||kr(s,i),vi(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pn||kr(s,i);var h=Gn,y=ta;for(Gn=s.stateNode,vi(r,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);ws(s),Gn=h,ta=y;break;case 5:pn||kr(s,i);case 6:y=Gn;var E=ta;if(Gn=null,vi(r,i,s),Gn=y,ta=E,Gn!==null)if(ta)try{r=Gn,h=s.stateNode,r.nodeType===8?r.parentNode.removeChild(h):r.removeChild(h)}catch(B){ln(s,i,B)}else try{Gn.removeChild(s.stateNode)}catch(B){ln(s,i,B)}break;case 18:Gn!==null&&(ta?(i=Gn,s=s.stateNode,i.nodeType===8?Cd(i.parentNode,s):i.nodeType===1&&Cd(i,s),Co(i)):Cd(Gn,s.stateNode));break;case 4:h=Gn,y=ta,Gn=s.stateNode.containerInfo,ta=!0,vi(r,i,s),Gn=h,ta=y;break;case 0:case 11:case 14:case 15:pn||pu(2,s,i),pn||pu(4,s,i),vi(r,i,s);break;case 1:pn||(kr(s,i),h=s.stateNode,typeof h.componentWillUnmount=="function"&&Fv(s,i,h)),vi(r,i,s);break;case 21:vi(r,i,s);break;case 22:pn||kr(s,i),pn=(h=pn)||s.memoizedState!==null,vi(r,i,s),pn=h;break;default:vi(r,i,s)}}function Ng(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Co(r)}catch(s){ln(i,i.return,s)}}function Yv(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Mg),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Mg),i;default:throw Error(a(435,r.tag))}}function Hf(r,i){var s=Yv(r);i.forEach(function(h){var y=oy.bind(null,r,h);s.has(h)||(s.add(h),h.then(y,y))})}function dr(r,i){var s=i.deletions;if(s!==null)for(var h=0;h<s.length;h++){var y=s[h],E=r,B=i,H=B;e:for(;H!==null;){switch(H.tag){case 27:case 5:Gn=H.stateNode,ta=!1;break e;case 3:Gn=H.stateNode.containerInfo,ta=!0;break e;case 4:Gn=H.stateNode.containerInfo,ta=!0;break e}H=H.return}if(Gn===null)throw Error(a(160));Vv(E,B,y),Gn=null,ta=!1,E=y.alternate,E!==null&&(E.return=null),y.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xv(i,r),i=i.sibling}var na=null;function Xv(r,i){var s=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:dr(i,r),ra(r),h&4&&(pu(3,r,r.return),qn(3,r),pu(5,r,r.return));break;case 1:dr(i,r),ra(r),h&512&&(pn||s===null||kr(s,s.return)),h&64&&Ui&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?h:s.concat(h))));break;case 26:var y=na;if(dr(i,r),ra(r),h&512&&(pn||s===null||kr(s,s.return)),h&4){var E=s!==null?s.memoizedState:null;if(h=r.memoizedState,s===null)if(h===null)if(r.stateNode===null){e:{h=r.type,s=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":E=y.getElementsByTagName("title")[0],(!E||E[Lu]||E[Nn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=y.createElement(h),y.head.insertBefore(E,y.querySelector("head > title"))),rr(E,h,s),E[Nn]=r,hn(E),h=E;break e;case"link":var B=gm("link","href",y).get(h+(s.href||""));if(B){for(var H=0;H<B.length;H++)if(E=B[H],E.getAttribute("href")===(s.href==null?null:s.href)&&E.getAttribute("rel")===(s.rel==null?null:s.rel)&&E.getAttribute("title")===(s.title==null?null:s.title)&&E.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){B.splice(H,1);break t}}E=y.createElement(h),rr(E,h,s),y.head.appendChild(E);break;case"meta":if(B=gm("meta","content",y).get(h+(s.content||""))){for(H=0;H<B.length;H++)if(E=B[H],E.getAttribute("content")===(s.content==null?null:""+s.content)&&E.getAttribute("name")===(s.name==null?null:s.name)&&E.getAttribute("property")===(s.property==null?null:s.property)&&E.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&E.getAttribute("charset")===(s.charSet==null?null:s.charSet)){B.splice(H,1);break t}}E=y.createElement(h),rr(E,h,s),y.head.appendChild(E);break;default:throw Error(a(468,h))}E[Nn]=r,hn(E),h=E}r.stateNode=h}else mm(y,r.type,r.stateNode);else r.stateNode=po(y,h,r.memoizedProps);else E!==h?(E===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):E.count--,h===null?mm(y,r.type,r.stateNode):po(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Dg(r,r.memoizedProps,s.memoizedProps)}break;case 27:if(h&4&&r.alternate===null){y=r.stateNode,E=r.memoizedProps;try{for(var $=y.firstChild;$;){var ie=$.nextSibling,De=$.nodeName;$[Lu]||De==="HEAD"||De==="BODY"||De==="SCRIPT"||De==="STYLE"||De==="LINK"&&$.rel.toLowerCase()==="stylesheet"||y.removeChild($),$=ie}for(var ze=r.type,ye=y.attributes;ye.length;)y.removeAttributeNode(ye[0]);rr(y,ze,E),y[Nn]=r,y[vn]=E}catch(Je){ln(r,r.return,Je)}}case 5:if(dr(i,r),ra(r),h&512&&(pn||s===null||kr(s,s.return)),r.flags&32){y=r.stateNode;try{Oa(y,"")}catch(Je){ln(r,r.return,Je)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Dg(r,y,s!==null?s.memoizedProps:y)),h&1024&&(qv=!0);break;case 6:if(dr(i,r),ra(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,s=r.stateNode;try{s.nodeValue=h}catch(Je){ln(r,r.return,Je)}}break;case 3:if(rc=null,y=na,na=ec(i.containerInfo),dr(i,r),na=y,ra(r),h&4&&s!==null&&s.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(Je){ln(r,r.return,Je)}qv&&(qv=!1,to(r));break;case 4:h=na,na=ec(r.stateNode.containerInfo),dr(i,r),ra(r),na=h;break;case 12:dr(i,r),ra(r);break;case 13:dr(i,r),ra(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(td=st()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Hf(r,h)));break;case 22:if(h&512&&(pn||s===null||kr(s,s.return)),$=r.memoizedState!==null,ie=s!==null&&s.memoizedState!==null,De=Ui,ze=pn,Ui=De||$,pn=ze||ie,dr(i,r),pn=ze,Ui=De,ra(r),i=r.stateNode,i._current=r,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,h&8192&&(i._visibility=$?i._visibility&-2:i._visibility|1,$&&(i=Ui||pn,s===null||ie||i||xr(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(s=null,i=r;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){ie=s=i;try{if(y=ie.stateNode,$)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{B=ie.stateNode,H=ie.memoizedProps.style;var Ce=H!=null&&H.hasOwnProperty("display")?H.display:null;B.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(Je){ln(ie,ie.return,Je)}}}else if(i.tag===6){if(s===null){ie=i;try{ie.stateNode.nodeValue=$?"":ie.memoizedProps}catch(Je){ln(ie,ie.return,Je)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=r.updateQueue,h!==null&&(s=h.retryQueue,s!==null&&(h.retryQueue=null,Hf(r,s))));break;case 19:dr(i,r),ra(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Hf(r,h)));break;case 21:break;default:dr(i,r),ra(r)}}function ra(r){var i=r.flags;if(i&2){try{if(r.tag!==27){e:{for(var s=r.return;s!==null;){if(Rg(s)){var h=s;break e}s=s.return}throw Error(a(160))}switch(h.tag){case 27:var y=h.stateNode,E=Ga(r);ql(r,E,y);break;case 5:var B=h.stateNode;h.flags&32&&(Oa(B,""),h.flags&=-33);var H=Ga(r);ql(r,H,B);break;case 3:case 4:var $=h.stateNode.containerInfo,ie=Ga(r);nr(r,ie,$);break;default:throw Error(a(161))}}}catch(De){ln(r,r.return,De)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function to(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;to(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function di(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Og(r,i.alternate,i),i=i.sibling}function xr(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:pu(4,i,i.return),xr(i);break;case 1:kr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Fv(i,i.return,s),xr(i);break;case 26:case 27:case 5:kr(i,i.return),xr(i);break;case 22:kr(i,i.return),i.memoizedState===null&&xr(i);break;default:xr(i)}r=r.sibling}}function Ir(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,y=r,E=i,B=E.flags;switch(E.tag){case 0:case 11:case 15:Ir(y,E,s),qn(4,E);break;case 1:if(Ir(y,E,s),h=E,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ie){ln(h,h.return,ie)}if(h=E,y=h.updateQueue,y!==null){var H=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Pf($[y],H)}catch(ie){ln(h,h.return,ie)}}s&&B&64&&Cg(E),Ju(E,E.return);break;case 26:case 27:case 5:Ir(y,E,s),s&&h===null&&B&4&&Ag(E),Ju(E,E.return);break;case 12:Ir(y,E,s);break;case 13:Ir(y,E,s),s&&B&4&&Ng(y,E);break;case 22:E.memoizedState===null&&Ir(y,E,s),Ju(E,E.return);break;default:Ir(y,E,s)}i=i.sibling}}function Kv(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&Is(s))}function Ff(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Is(r))}function yu(r,i,s,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lg(r,i,s,h),i=i.sibling}function Lg(r,i,s,h){var y=i.flags;switch(i.tag){case 0:case 11:case 15:yu(r,i,s,h),y&2048&&qn(9,i);break;case 3:yu(r,i,s,h),y&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Is(r)));break;case 12:if(y&2048){yu(r,i,s,h),r=i.stateNode;try{var E=i.memoizedProps,B=E.id,H=E.onPostCommit;typeof H=="function"&&H(B,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){ln(i,i.return,$)}}else yu(r,i,s,h);break;case 23:break;case 22:E=i.stateNode,i.memoizedState!==null?E._visibility&4?yu(r,i,s,h):no(r,i):E._visibility&4?yu(r,i,s,h):(E._visibility|=4,Gl(r,i,s,h,(i.subtreeFlags&10256)!==0)),y&2048&&Kv(i.alternate,i);break;case 24:yu(r,i,s,h),y&2048&&Ff(i.alternate,i);break;default:yu(r,i,s,h)}}function Gl(r,i,s,h,y){for(y=y&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var E=r,B=i,H=s,$=h,ie=B.flags;switch(B.tag){case 0:case 11:case 15:Gl(E,B,H,$,y),qn(8,B);break;case 23:break;case 22:var De=B.stateNode;B.memoizedState!==null?De._visibility&4?Gl(E,B,H,$,y):no(E,B):(De._visibility|=4,Gl(E,B,H,$,y)),y&&ie&2048&&Kv(B.alternate,B);break;case 24:Gl(E,B,H,$,y),y&&ie&2048&&Ff(B.alternate,B);break;default:Gl(E,B,H,$,y)}i=i.sibling}}function no(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,h=i,y=h.flags;switch(h.tag){case 22:no(s,h),y&2048&&Kv(h.alternate,h);break;case 24:no(s,h),y&2048&&Ff(h.alternate,h);break;default:no(s,h)}i=i.sibling}}var ro=8192;function Vl(r){if(r.subtreeFlags&ro)for(r=r.child;r!==null;)zg(r),r=r.sibling}function zg(r){switch(r.tag){case 26:Vl(r),r.flags&ro&&r.memoizedState!==null&&xy(na,r.memoizedState,r.memoizedProps);break;case 5:Vl(r);break;case 3:case 4:var i=na;na=ec(r.stateNode.containerInfo),Vl(r),na=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=ro,ro=16777216,Vl(r),ro=i):Vl(r));break;default:Vl(r)}}function kg(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function ao(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var h=i[s];Mn=h,Zv(h,r)}kg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ig(r),r=r.sibling}function Ig(r){switch(r.tag){case 0:case 11:case 15:ao(r),r.flags&2048&&pu(9,r,r.return);break;case 3:ao(r);break;case 12:ao(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&4&&(r.return===null||r.return.tag!==13)?(i._visibility&=-5,qf(r)):ao(r);break;default:ao(r)}}function qf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var h=i[s];Mn=h,Zv(h,r)}kg(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:pu(8,i,i.return),qf(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,qf(i));break;default:qf(i)}r=r.sibling}}function Zv(r,i){for(;Mn!==null;){var s=Mn;switch(s.tag){case 0:case 11:case 15:pu(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var h=s.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Is(s.memoizedState.cache)}if(h=s.child,h!==null)h.return=s,Mn=h;else e:for(s=r;Mn!==null;){h=Mn;var y=h.sibling,E=h.return;if(_g(h),h===s){Mn=null;break e}if(y!==null){y.return=E,Mn=y;break e}Mn=E}}}function Ug(r,i,s,h){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(r,i,s,h){return new Ug(r,i,s,h)}function Wv(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bu(r,i){var s=r.alternate;return s===null?(s=aa(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&31457280,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function Pg(r,i){r.flags&=31457282;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function io(r,i,s,h,y,E){var B=0;if(h=r,typeof r=="function")Wv(r)&&(B=1);else if(typeof r=="string")B=Ey(r,s,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case g:return ju(s.children,y,E,i);case v:B=8,y|=24;break;case m:return r=aa(12,s,i,y|2),r.elementType=m,r.lanes=E,r;case D:return r=aa(13,s,i,y),r.elementType=D,r.lanes=E,r;case T:return r=aa(19,s,i,y),r.elementType=T,r.lanes=E,r;case M:return Hg(s,y,E,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case p:case x:B=10;break e;case w:B=9;break e;case S:B=11;break e;case C:B=14;break e;case R:B=16,h=null;break e}B=29,s=Error(a(130,r===null?"null":typeof r,"")),h=null}return i=aa(B,s,i,y),i.elementType=r,i.type=h,i.lanes=E,i}function ju(r,i,s,h){return r=aa(7,r,h,i),r.lanes=s,r}function Hg(r,i,s,h){r=aa(22,r,h,i),r.elementType=M,r.lanes=s;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var E=y._current;if(E===null)throw Error(a(456));if((y._pendingVisibility&2)===0){var B=Na(E,2);B!==null&&(y._pendingVisibility|=2,hr(B,E,2))}},attach:function(){var E=y._current;if(E===null)throw Error(a(456));if((y._pendingVisibility&2)!==0){var B=Na(E,2);B!==null&&(y._pendingVisibility&=-3,hr(B,E,2))}}};return r.stateNode=y,r}function Qv(r,i,s){return r=aa(6,r,null,i),r.lanes=s,r}function $v(r,i,s){return i=aa(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Pi(r){r.flags|=4}function Fg(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!pm(i)){if(i=xa.current,i!==null&&((Pt&4194176)===Pt?ui!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==ui))throw Ls=ru,Ns;r.flags|=8192}}function Tr(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?er():536870912,r.lanes|=i,Xl|=i)}function uo(r,i){if(!yt)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Sn(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,h=0;if(i)for(var y=r.child;y!==null;)s|=y.lanes|y.childLanes,h|=y.subtreeFlags&31457280,h|=y.flags&31457280,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)s|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=s,i}function jp(r,i,s){var h=i.pendingProps;switch(lv(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(i),null;case 1:return Sn(i),null;case 3:return s=i.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),oi(Wn),Lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(Yu(i)?Pi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,La!==null&&(Kl(La),La=null))),Sn(i),null;case 26:return s=i.memoizedState,r===null?(Pi(i),s!==null?(Sn(i),Fg(i,s)):(Sn(i),i.flags&=-16777217)):s?s!==r.memoizedState?(Pi(i),Sn(i),Fg(i,s)):(Sn(i),i.flags&=-16777217):(r.memoizedProps!==h&&Pi(i),Sn(i),i.flags&=-16777217),null;case 27:Xe(i),s=Pe.current;var y=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==h&&Pi(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return Sn(i),null}r=be.current,Yu(i)?pf(i):(r=Dd(y,h,s),i.stateNode=r,Pi(i))}return Sn(i),null;case 5:if(Xe(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&Pi(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return Sn(i),null}if(r=be.current,Yu(i))pf(i);else{switch(y=$f(Pe.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(s,{is:h.is}):y.createElement(s)}}r[Nn]=i,r[vn]=h;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=r;e:switch(rr(r,s,h),s){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pi(i)}}return Sn(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==h&&Pi(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(a(166));if(r=Pe.current,Yu(i)){if(r=i.stateNode,s=i.memoizedProps,h=null,y=Er,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[Nn]=i,r=!!(r.nodeValue===s||h!==null&&h.suppressHydrationWarning===!0||wt(r.nodeValue,s)),r||Vu(i)}else r=$f(r).createTextNode(h),r[Nn]=i,i.stateNode=r}return Sn(i),null;case 13:if(h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Yu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[Nn]=i}else ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Sn(i),y=!1}else La!==null&&(Kl(La),La=null),y=!0;if(!y)return i.flags&256?(Oi(i),i):(Oi(i),null)}if(Oi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=h!==null,r=r!==null&&r.memoizedState!==null,s){h=i.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var E=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),Tr(i,i.updateQueue),Sn(i),null;case 4:return Lt(),r===null&&bd(i.stateNode.containerInfo),Sn(i),null;case 10:return oi(i.type),Sn(i),null;case 19:if(ve(Zn),y=i.memoizedState,y===null)return Sn(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)uo(y,!1);else{if(Bn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(E=wf(r),E!==null){for(i.flags|=128,uo(y,!1),r=E.updateQueue,i.updateQueue=r,Tr(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)Pg(s,r),s=s.sibling;return re(Zn,Zn.current&1|2),i.child}r=r.sibling}y.tail!==null&&st()>Gf&&(i.flags|=128,h=!0,uo(y,!1),i.lanes=4194304)}else{if(!h)if(r=wf(E),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Tr(i,r),uo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!yt)return Sn(i),null}else 2*st()-y.renderingStartTime>Gf&&s!==536870912&&(i.flags|=128,h=!0,uo(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(r=y.last,r!==null?r.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=st(),i.sibling=null,r=Zn.current,re(Zn,h?r&1|2:r&1),i):(Sn(i),null);case 22:case 23:return Oi(i),ov(),h=i.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(s&536870912)!==0&&(i.flags&128)===0&&(Sn(i),i.subtreeFlags&6&&(i.flags|=8192)):Sn(i),s=i.updateQueue,s!==null&&Tr(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==s&&(i.flags|=2048),r!==null&&ve(Xu),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),oi(Wn),Sn(i),null;case 25:return null}throw Error(a(156,i.tag))}function qg(r,i){switch(lv(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return oi(Wn),Lt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 13:if(Oi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ve(Zn),null;case 4:return Lt(),null;case 10:return oi(i.type),null;case 22:case 23:return Oi(i),ov(),r!==null&&ve(Xu),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return oi(Wn),null;case 25:return null;default:return null}}function Gg(r,i){switch(lv(i),i.tag){case 3:oi(Wn),Lt();break;case 26:case 27:case 5:Xe(i);break;case 4:Lt();break;case 13:Oi(i);break;case 19:ve(Zn);break;case 10:oi(i.type);break;case 22:case 23:Oi(i),ov(),r!==null&&ve(Xu);break;case 24:oi(Wn)}}var ey={getCacheForType:function(r){var i=vr(Wn),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},ty=typeof WeakMap=="function"?WeakMap:Map,xn=0,nn=null,_t=null,Pt=0,sn=0,ia=null,Hi=!1,Yl=!1,Jv=!1,Fi=0,Bn=0,wu=0,el=0,jv=0,Ca=0,Xl=0,lo=null,hi=null,ed=!1,td=0,Gf=1/0,Vf=null,gi=null,so=!1,tl=null,oo=0,nd=0,rd=null,fo=0,ad=null;function ua(){if((xn&2)!==0&&Pt!==0)return Pt&-Pt;if(L.T!==null){var r=xl;return r!==0?r:hd()}return Xn()}function Vg(){Ca===0&&(Ca=(Pt&536870912)===0||yt?Dn():536870912);var r=xa.current;return r!==null&&(r.flags|=32),Ca}function hr(r,i,s){(r===nn&&sn===2||r.cancelPendingCommit!==null)&&(Zl(r,0),qi(r,Pt,Ca,!1)),or(r,s),((xn&2)===0||r!==nn)&&(r===nn&&((xn&2)===0&&(el|=s),Bn===4&&qi(r,Pt,Ca,!1)),Va(r))}function Yg(r,i,s){if((xn&6)!==0)throw Error(a(327));var h=!s&&(i&60)===0&&(i&r.expiredLanes)===0||cn(r,i),y=h?ay(r,i):ld(r,i,!0),E=h;do{if(y===0){Yl&&!h&&qi(r,i,0,!1);break}else if(y===6)qi(r,i,0,!Hi);else{if(s=r.current.alternate,E&&!ny(s)){y=ld(r,i,!1),E=!1;continue}if(y===2){if(E=i,r.errorRecoveryDisabledLanes&E)var B=0;else B=r.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){i=B;e:{var H=r;y=lo;var $=H.current.memoizedState.isDehydrated;if($&&(Zl(H,B).flags|=256),B=ld(H,B,!1),B!==2){if(Jv&&!$){H.errorRecoveryDisabledLanes|=E,el|=E,y=4;break e}E=hi,hi=y,E!==null&&Kl(E)}y=B}if(E=!1,y!==2)continue}}if(y===1){Zl(r,0),qi(r,i,0,!0);break}e:{switch(h=r,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){qi(h,i,Ca,!Hi);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(h.finishedWork=s,h.finishedLanes=i,(i&62914560)===i&&(E=td+300-st(),10<E)){if(qi(h,i,Ca,!Hi),jn(h,0)!==0)break e;h.timeoutHandle=Td(Xg.bind(null,h,s,hi,Vf,ed,i,Ca,el,Xl,Hi,2,-0,0),E);break e}Xg(h,s,hi,Vf,ed,i,Ca,el,Xl,Hi,0,-0,0)}}break}while(!0);Va(r)}function Kl(r){hi===null?hi=r:hi.push.apply(hi,r)}function Xg(r,i,s,h,y,E,B,H,$,ie,De,ze,ye){var Ce=i.subtreeFlags;if((Ce&8192||(Ce&16785408)===16785408)&&(yo={stylesheets:null,count:0,unsuspend:Sy},zg(i),i=Ty(),i!==null)){r.cancelPendingCommit=i(jg.bind(null,r,s,h,y,B,H,$,1,ze,ye)),qi(r,E,B,!ie);return}jg(r,s,h,y,B,H,$,De,ze,ye)}function ny(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var h=0;h<s.length;h++){var y=s[h],E=y.getSnapshot;y=y.value;try{if(!Wr(E(),y))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qi(r,i,s,h){i&=~jv,i&=~el,r.suspendedLanes|=i,r.pingedLanes&=~i,h&&(r.warmLanes|=i),h=r.expirationTimes;for(var y=i;0<y;){var E=31-Ve(y),B=1<<E;h[E]=-1,y&=~B}s!==0&&Vr(r,s,i)}function Yf(){return(xn&6)===0?(al(0),!1):!0}function id(){if(_t!==null){if(sn===0)var r=_t.return;else r=_t,Pa=hu=null,Dl(r),Ri=null,Mi=0,r=_t;for(;r!==null;)Gg(r.alternate,r),r=r.return;_t=null}}function Zl(r,i){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,Jf(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),id(),nn=r,_t=s=bu(r.current,null),Pt=i,sn=0,ia=null,Hi=!1,Yl=cn(r,i),Jv=!1,Xl=Ca=jv=el=wu=Bn=0,hi=lo=null,ed=!1,(i&8)!==0&&(i|=i&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=i;0<h;){var y=31-Ve(h),E=1<<y;i|=r[y],h&=~E}return Fi=i,hf(),s}function Kg(r,i){Dt=null,L.H=Rn,i===Di?(i=ag(),sn=3):i===Ns?(i=ag(),sn=4):sn=i===_v?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ia=i,_t===null&&(Bn=1,Xs(r,wr(i,r.current)))}function Zg(){var r=L.H;return L.H=Rn,r===null?Rn:r}function Wg(){var r=L.A;return L.A=ey,r}function ud(){Bn=4,Hi||(Pt&4194176)!==Pt&&xa.current!==null||(Yl=!0),(wu&134217727)===0&&(el&134217727)===0||nn===null||qi(nn,Pt,Ca,!1)}function ld(r,i,s){var h=xn;xn|=2;var y=Zg(),E=Wg();(nn!==r||Pt!==i)&&(Vf=null,Zl(r,i)),i=!1;var B=Bn;e:do try{if(sn!==0&&_t!==null){var H=_t,$=ia;switch(sn){case 8:id(),B=6;break e;case 3:case 2:case 6:xa.current===null&&(i=!0);var ie=sn;if(sn=0,ia=null,nl(r,H,$,ie),s&&Yl){B=0;break e}break;default:ie=sn,sn=0,ia=null,nl(r,H,$,ie)}}ry(),B=Bn;break}catch(De){Kg(r,De)}while(!0);return i&&r.shellSuspendCounter++,Pa=hu=null,xn=h,L.H=y,L.A=E,_t===null&&(nn=null,Pt=0,hf()),B}function ry(){for(;_t!==null;)Qg(_t)}function ay(r,i){var s=xn;xn|=2;var h=Zg(),y=Wg();nn!==r||Pt!==i?(Vf=null,Gf=st()+500,Zl(r,i)):Yl=cn(r,i);e:do try{if(sn!==0&&_t!==null){i=_t;var E=ia;t:switch(sn){case 1:sn=0,ia=null,nl(r,i,E,1);break;case 2:if(ng(E)){sn=0,ia=null,$g(i);break}i=function(){sn===2&&nn===r&&(sn=7),Va(r)},E.then(i,i);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:ng(E)?(sn=0,ia=null,$g(i)):(sn=0,ia=null,nl(r,i,E,7));break;case 5:var B=null;switch(_t.tag){case 26:B=_t.memoizedState;case 5:case 27:var H=_t;if(!B||pm(B)){sn=0,ia=null;var $=H.sibling;if($!==null)_t=$;else{var ie=H.return;ie!==null?(_t=ie,co(ie)):_t=null}break t}}sn=0,ia=null,nl(r,i,E,5);break;case 6:sn=0,ia=null,nl(r,i,E,6);break;case 8:id(),Bn=6;break e;default:throw Error(a(462))}}iy();break}catch(De){Kg(r,De)}while(!0);return Pa=hu=null,L.H=h,L.A=y,xn=s,_t!==null?0:(nn=null,Pt=0,hf(),Bn)}function iy(){for(;_t!==null&&!tt();)Qg(_t)}function Qg(r){var i=Pv(r.alternate,r,Fi);r.memoizedProps=r.pendingProps,i===null?co(r):_t=i}function $g(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=$u(s,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=$u(s,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Dl(i);default:Gg(s,i),i=_t=Pg(i,Fi),i=Pv(s,i,Fi)}r.memoizedProps=r.pendingProps,i===null?co(r):_t=i}function nl(r,i,s,h){Pa=hu=null,Dl(i),Ri=null,Mi=0;var y=i.return;try{if($p(r,y,i,s,Pt)){Bn=1,Xs(r,wr(s,r.current)),_t=null;return}}catch(E){if(y!==null)throw _t=y,E;Bn=1,Xs(r,wr(s,r.current)),_t=null;return}i.flags&32768?(yt||h===1?r=!0:Yl||(Pt&536870912)!==0?r=!1:(Hi=r=!0,(h===2||h===3||h===6)&&(h=xa.current,h!==null&&h.tag===13&&(h.flags|=16384))),Jg(i,r)):co(i)}function co(r){var i=r;do{if((i.flags&32768)!==0){Jg(i,Hi);return}r=i.return;var s=jp(i.alternate,i,Fi);if(s!==null){_t=s;return}if(i=i.sibling,i!==null){_t=i;return}_t=i=r}while(i!==null);Bn===0&&(Bn=5)}function Jg(r,i){do{var s=qg(r.alternate,r);if(s!==null){s.flags&=32767,_t=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){_t=r;return}_t=r=s}while(r!==null);Bn=6,_t=null}function jg(r,i,s,h,y,E,B,H,$,ie){var De=L.T,ze=se.p;try{se.p=2,L.T=null,uy(r,i,s,h,ze,y,E,B,H,$,ie)}finally{L.T=De,se.p=ze}}function uy(r,i,s,h,y,E,B,H){do Gi();while(tl!==null);if((xn&6)!==0)throw Error(a(327));var $=r.finishedWork;if(h=r.finishedLanes,$===null)return null;if(r.finishedWork=null,r.finishedLanes=0,$===r.current)throw Error(a(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var ie=$.lanes|$.childLanes;if(ie|=av,fr(r,h,ie,E,B,H),r===nn&&(_t=nn=null,Pt=0),($.subtreeFlags&10256)===0&&($.flags&10256)===0||so||(so=!0,nd=ie,rd=s,fy(fe,function(){return Gi(),null})),s=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||s?(s=L.T,L.T=null,E=se.p,se.p=2,B=xn,xn|=4,Bg(r,$),Xv($,r),Fp(Sd,r.containerInfo),wo=!!Ed,Sd=Ed=null,r.current=$,Og(r,$.alternate,$),lt(),xn=B,se.p=E,L.T=s):r.current=$,so?(so=!1,tl=r,oo=h):em(r,ie),ie=r.pendingLanes,ie===0&&(gi=null),nt($.stateNode),Va(r),i!==null)for(y=r.onRecoverableError,$=0;$<i.length;$++)ie=i[$],y(ie.value,{componentStack:ie.stack});return(oo&3)!==0&&Gi(),ie=r.pendingLanes,(h&4194218)!==0&&(ie&42)!==0?r===ad?fo++:(fo=0,ad=r):fo=0,al(0),null}function em(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Is(i)))}function Gi(){if(tl!==null){var r=tl,i=nd;nd=0;var s=va(oo),h=L.T,y=se.p;try{if(se.p=32>s?32:s,L.T=null,tl===null)var E=!1;else{s=rd,rd=null;var B=tl,H=oo;if(tl=null,oo=0,(xn&6)!==0)throw Error(a(331));var $=xn;if(xn|=4,Ig(B.current),Lg(B,B.current,H,s),xn=$,al(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ae,B)}catch{}E=!0}return E}finally{se.p=y,L.T=h,em(r,i)}}return!1}function tm(r,i,s){i=wr(s,i),i=Ks(r.stateNode,i,2),r=ea(r,i,2),r!==null&&(or(r,2),Va(r))}function ln(r,i,s){if(r.tag===3)tm(r,r,s);else for(;i!==null;){if(i.tag===3){tm(i,r,s);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){r=wr(s,r),s=Sg(2),h=ea(i,s,2),h!==null&&(xg(s,h,i,r),or(h,2),Va(h));break}}i=i.return}}function sd(r,i,s){var h=r.pingCache;if(h===null){h=r.pingCache=new ty;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(s)||(Jv=!0,y.add(s),r=ly.bind(null,r,i,s),i.then(r,r))}function ly(r,i,s){var h=r.pingCache;h!==null&&h.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,nn===r&&(Pt&s)===s&&(Bn===4||Bn===3&&(Pt&62914560)===Pt&&300>st()-td?(xn&2)===0&&Zl(r,0):jv|=s,Xl===Pt&&(Xl=0)),Va(r)}function nm(r,i){i===0&&(i=er()),r=Na(r,i),r!==null&&(or(r,i),Va(r))}function sy(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),nm(r,s)}function oy(r,i){var s=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(s=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(i),nm(r,s)}function fy(r,i){return et(r,i)}var Xf=null,Wl=null,od=!1,rl=!1,fd=!1,Eu=0;function Va(r){r!==Wl&&r.next===null&&(Wl===null?Xf=Wl=r:Wl=Wl.next=r),rl=!0,od||(od=!0,cy(rm))}function al(r,i){if(!fd&&rl){fd=!0;do for(var s=!1,h=Xf;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var E=0;else{var B=h.suspendedLanes,H=h.pingedLanes;E=(1<<31-Ve(42|r)+1)-1,E&=y&~(B&~H),E=E&201326677?E&201326677|1:E?E|2:0}E!==0&&(s=!0,dd(h,E))}else E=Pt,E=jn(h,h===nn?E:0),(E&3)===0||cn(h,E)||(s=!0,dd(h,E));h=h.next}while(s);fd=!1}}function rm(){rl=od=!1;var r=0;Eu!==0&&(Vi()&&(r=Eu),Eu=0);for(var i=st(),s=null,h=Xf;h!==null;){var y=h.next,E=cd(h,i);E===0?(h.next=null,s===null?Xf=y:s.next=y,y===null&&(Wl=s)):(s=h,(r!==0||(E&3)!==0)&&(rl=!0)),h=y}al(r)}function cd(r,i){for(var s=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,E=r.pendingLanes&-62914561;0<E;){var B=31-Ve(E),H=1<<B,$=y[B];$===-1?((H&s)===0||(H&h)!==0)&&(y[B]=Pn(H,i)):$<=i&&(r.expiredLanes|=H),E&=~H}if(i=nn,s=Pt,s=jn(r,r===i?s:0),h=r.callbackNode,s===0||r===i&&sn===2||r.cancelPendingCommit!==null)return h!==null&&h!==null&&$e(h),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||cn(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(h!==null&&$e(h),va(s)){case 2:case 8:s=G;break;case 32:s=fe;break;case 268435456:s=he;break;default:s=fe}return h=vd.bind(null,r),s=et(s,h),r.callbackPriority=i,r.callbackNode=s,i}return h!==null&&h!==null&&$e(h),r.callbackPriority=2,r.callbackNode=null,2}function vd(r,i){var s=r.callbackNode;if(Gi()&&r.callbackNode!==s)return null;var h=Pt;return h=jn(r,r===nn?h:0),h===0?null:(Yg(r,h,i),cd(r,st()),r.callbackNode!=null&&r.callbackNode===s?vd.bind(null,r):null)}function dd(r,i){if(Gi())return null;Yg(r,i,!0)}function cy(r){On(function(){(xn&6)!==0?et(Le,r):r()})}function hd(){return Eu===0&&(Eu=Dn()),Eu}function am(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:As(""+r)}function vo(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function Kf(r,i,s,h,y){if(i==="submit"&&s&&s.stateNode===y){var E=am((y[vn]||null).action),B=h.submitter;B&&(i=(i=B[vn]||null)?am(i.formAction):B.getAttribute("formAction"),i!==null&&(E=i,B=null));var H=new ef("action","action",null,h,y);r.push({event:H,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Eu!==0){var $=B?vo(y,B):new FormData(y);Vs(s,{pending:!0,data:$,method:y.method,action:E},null,$)}}else typeof E=="function"&&(H.preventDefault(),$=B?vo(y,B):new FormData(y),Vs(s,{pending:!0,data:$,method:y.method,action:E},E,$))},currentTarget:y}]})}}for(var gd=0;gd<eg.length;gd++){var md=eg[gd],pd=md.toLowerCase(),im=md[0].toUpperCase()+md.slice(1);ya(pd,"on"+im)}ya(jh,"onAnimationEnd"),ya(Qr,"onAnimationIteration"),ya(Os,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(Gp,"onTransitionRun"),ya(bl,"onTransitionStart"),ya(df,"onTransitionCancel"),ya(_s,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function um(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var h=r[s],y=h.event;h=h.listeners;e:{var E=void 0;if(i)for(var B=h.length-1;0<=B;B--){var H=h[B],$=H.instance,ie=H.currentTarget;if(H=H.listener,$!==E&&y.isPropagationStopped())break e;E=H,y.currentTarget=ie;try{E(y)}catch(De){zl(De)}y.currentTarget=null,E=$}else for(B=0;B<h.length;B++){if(H=h[B],$=H.instance,ie=H.currentTarget,H=H.listener,$!==E&&y.isPropagationStopped())break e;E=H,y.currentTarget=ie;try{E(y)}catch(De){zl(De)}y.currentTarget=null,E=$}}}}function It(r,i){var s=i[bs];s===void 0&&(s=i[bs]=new Set);var h=r+"__bubble";s.has(h)||(lm(i,r,2,!1),s.add(h))}function yd(r,i,s){var h=0;i&&(h|=4),lm(s,r,h,i)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function bd(r){if(!r[Zf]){r[Zf]=!0,Es.forEach(function(s){s!=="selectionchange"&&(vy.has(s)||yd(s,!1,r),yd(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Zf]||(i[Zf]=!0,yd("selectionchange",!1,i))}}function lm(r,i,s,h){switch(Em(i)){case 2:var y=Ay;break;case 8:y=Dy;break;default:y=Ld}s=y.bind(null,i,s,r),y=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(i,s,{capture:!0,passive:y}):r.addEventListener(i,s,!0):y!==void 0?r.addEventListener(i,s,{passive:y}):r.addEventListener(i,s,!1)}function wd(r,i,s,h,y){var E=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var B=h.tag;if(B===3||B===4){var H=h.stateNode.containerInfo;if(H===y||H.nodeType===8&&H.parentNode===y)break;if(B===4)for(B=h.return;B!==null;){var $=B.tag;if(($===3||$===4)&&($=B.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;B=B.return}for(;H!==null;){if(B=Si(H),B===null)return;if($=B.tag,$===5||$===6||$===26||$===27){h=E=B;continue e}H=H.parentNode}}h=h.return}_h(function(){var ie=E,De=Yc(s),ze=[];e:{var ye=Kt.get(r);if(ye!==void 0){var Ce=ef,Je=r;switch(r){case"keypress":if(en(s)===0)break e;case"keydown":case"keyup":Ce=Qc;break;case"focusin":Je="focus",Ce=nf;break;case"focusout":Je="blur",Ce=nf;break;case"beforeblur":case"afterblur":Ce=nf;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Np;break;case jh:case Qr:case Os:Ce=Ih;break;case _s:Ce=Lp;break;case"scroll":case"scrollend":Ce=Bp;break;case"wheel":Ce=kp;break;case"copy":case"cut":case"paste":Ce=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=xi;break;case"toggle":case"beforetoggle":Ce=af}var bt=(i&4)!==0,Cn=!bt&&(r==="scroll"||r==="scrollend"),ce=bt?ye!==null?ye+"Capture":null:ye;bt=[];for(var ae=ie,ge;ae!==null;){var Oe=ae;if(ge=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||ge===null||ce===null||(Oe=Ds(ae,ce),Oe!=null&&bt.push(go(ae,Oe,ge))),Cn)break;ae=ae.return}0<bt.length&&(ye=new Ce(ye,Je,null,s,De),ze.push({event:ye,listeners:bt}))}}if((i&7)===0){e:{if(ye=r==="mouseover"||r==="pointerover",Ce=r==="mouseout"||r==="pointerout",ye&&s!==Vc&&(Je=s.relatedTarget||s.fromElement)&&(Si(Je)||Je[Ei]))break e;if((Ce||ye)&&(ye=De.window===De?De:(ye=De.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ce?(Je=s.relatedTarget||s.toElement,Ce=ie,Je=Je?Si(Je):null,Je!==null&&(Cn=j(Je),bt=Je.tag,Je!==Cn||bt!==5&&bt!==27&&bt!==6)&&(Je=null)):(Ce=null,Je=ie),Ce!==Je)){if(bt=ji,Oe="onMouseLeave",ce="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(bt=xi,Oe="onPointerLeave",ce="onPointerEnter",ae="pointer"),Cn=Ce==null?ye:ha(Ce),ge=Je==null?ye:ha(Je),ye=new bt(Oe,ae+"leave",Ce,s,De),ye.target=Cn,ye.relatedTarget=ge,Oe=null,Si(De)===ie&&(bt=new bt(ce,ae+"enter",Je,s,De),bt.target=ge,bt.relatedTarget=Cn,Oe=bt),Cn=Oe,Ce&&Je)t:{for(bt=Ce,ce=Je,ae=0,ge=bt;ge;ge=Ql(ge))ae++;for(ge=0,Oe=ce;Oe;Oe=Ql(Oe))ge++;for(;0<ae-ge;)bt=Ql(bt),ae--;for(;0<ge-ae;)ce=Ql(ce),ge--;for(;ae--;){if(bt===ce||ce!==null&&bt===ce.alternate)break t;bt=Ql(bt),ce=Ql(ce)}bt=null}else bt=null;Ce!==null&&Aa(ze,ye,Ce,bt,!1),Je!==null&&Cn!==null&&Aa(ze,Cn,Je,bt,!0)}}e:{if(ye=ie?ha(ie):window,Ce=ye.nodeName&&ye.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ye.type==="file")var We=Xh;else if(of(ye))if(Kh)We=Pp;else{We=nu;var Mt=Qh}else Ce=ye.nodeName,!Ce||Ce.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ie&&Jo(ie.elementType)&&(We=Xh):We=vf;if(We&&(We=We(r,ie))){ml(ze,We,s,De);break e}Mt&&Mt(r,ye,ie),r==="focusout"&&ie&&ye.type==="number"&&ie.memoizedProps.value!=null&&qc(ye,"number",ye.value)}switch(Mt=ie?ha(ie):window,r){case"focusin":(of(Mt)||Mt.contentEditable==="true")&&(_a=Mt,ue=ie,Te=null);break;case"focusout":Te=ue=_a=null;break;case"mousedown":Ee=!0;break;case"contextmenu":case"mouseup":case"dragend":Ee=!1,Ze(ze,s,De);break;case"selectionchange":if(qp)break;case"keydown":case"keyup":Ze(ze,s,De)}var rt;if(jc)e:{switch(r){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else eu?Vh(r,s)&&(ct="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(uf&&s.locale!=="ko"&&(eu||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&eu&&(rt=Nh()):(Ji=De,Kc="value"in Ji?Ji.value:Ji.textContent,eu=!0)),Mt=Wf(ie,ct),0<Mt.length&&(ct=new Nr(ct,r,null,s,De),ze.push({event:ct,listeners:Mt}),rt?ct.data=rt:(rt=sf(s),rt!==null&&(ct.data=rt)))),(rt=Gh?Ip(r,s):Yh(r,s))&&(ct=Wf(ie,"onBeforeInput"),0<ct.length&&(Mt=new Nr("onBeforeInput","beforeinput",null,s,De),ze.push({event:Mt,listeners:ct}),Mt.data=rt)),Kf(ze,r,ie,s,De)}um(ze,i)})}function go(r,i,s){return{instance:r,listener:i,currentTarget:s}}function Wf(r,i){for(var s=i+"Capture",h=[];r!==null;){var y=r,E=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||E===null||(y=Ds(r,s),y!=null&&h.unshift(go(r,y,E)),y=Ds(r,i),y!=null&&h.push(go(r,y,E))),r=r.return}return h}function Ql(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Aa(r,i,s,h,y){for(var E=i._reactName,B=[];s!==null&&s!==h;){var H=s,$=H.alternate,ie=H.stateNode;if(H=H.tag,$!==null&&$===h)break;H!==5&&H!==26&&H!==27||ie===null||($=ie,y?(ie=Ds(s,E),ie!=null&&B.unshift(go(s,ie,$))):y||(ie=Ds(s,E),ie!=null&&B.push(go(s,ie,$)))),s=s.return}B.length!==0&&r.push({event:i,listeners:B})}var dy=/\r\n?/g,hy=/\u0000|\uFFFD/g;function Su(r){return(typeof r=="string"?r:""+r).replace(dy,`
`).replace(hy,"")}function wt(r,i){return i=Su(i),Su(r)===i}function Qf(){}function Tt(r,i,s,h,y,E){switch(s){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Oa(r,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Oa(r,""+h);break;case"className":Ss(r,"class",h);break;case"tabIndex":Ss(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(r,s,h);break;case"style":Rh(r,h,E);break;case"data":if(i!=="object"){Ss(r,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(s);break}h=As(""+h),r.setAttribute(s,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(s==="formAction"?(i!=="input"&&Tt(r,i,"name",y.name,y,null),Tt(r,i,"formEncType",y.formEncType,y,null),Tt(r,i,"formMethod",y.formMethod,y,null),Tt(r,i,"formTarget",y.formTarget,y,null)):(Tt(r,i,"encType",y.encType,y,null),Tt(r,i,"method",y.method,y,null),Tt(r,i,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(s);break}h=As(""+h),r.setAttribute(s,h);break;case"onClick":h!=null&&(r.onclick=Qf);break;case"onScroll":h!=null&&It("scroll",r);break;case"onScrollEnd":h!=null&&It("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(s=h.__html,s!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}s=As(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(s,""+h):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":h===!0?r.setAttribute(s,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(s,h):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(s,h):r.removeAttribute(s);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(s):r.setAttribute(s,h);break;case"popover":It("beforetoggle",r),It("toggle",r),Xo(r,"popover",h);break;case"xlinkActuate":Ja(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ja(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ja(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ja(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ja(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ja(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ja(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ja(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ja(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Xo(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mh.get(s)||s,Xo(r,s,h))}}function Tn(r,i,s,h,y,E){switch(s){case"style":Rh(r,h,E);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(s=h.__html,s!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof h=="string"?Oa(r,h):(typeof h=="number"||typeof h=="bigint")&&Oa(r,""+h);break;case"onScroll":h!=null&&It("scroll",r);break;case"onScrollEnd":h!=null&&It("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(y=s.endsWith("Capture"),i=s.slice(2,y?s.length-7:void 0),E=r[vn]||null,E=E!=null?E[s]:null,typeof E=="function"&&r.removeEventListener(i,E,y),typeof h=="function")){typeof E!="function"&&E!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,h,y);break e}s in r?r[s]=h:h===!0?r.setAttribute(s,""):Xo(r,s,h)}}}function rr(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",r),It("load",r);var h=!1,y=!1,E;for(E in s)if(s.hasOwnProperty(E)){var B=s[E];if(B!=null)switch(E){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Tt(r,i,E,B,s,null)}}y&&Tt(r,i,"srcSet",s.srcSet,s,null),h&&Tt(r,i,"src",s.src,s,null);return;case"input":It("invalid",r);var H=E=B=y=null,$=null,ie=null;for(h in s)if(s.hasOwnProperty(h)){var De=s[h];if(De!=null)switch(h){case"name":y=De;break;case"type":B=De;break;case"checked":$=De;break;case"defaultChecked":ie=De;break;case"value":E=De;break;case"defaultValue":H=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(a(137,i));break;default:Tt(r,i,h,De,s,null)}}Wo(r,E,H,$,ie,B,y,!1),xs(r);return;case"select":It("invalid",r),h=B=E=null;for(y in s)if(s.hasOwnProperty(y)&&(H=s[y],H!=null))switch(y){case"value":E=H;break;case"defaultValue":B=H;break;case"multiple":h=H;default:Tt(r,i,y,H,s,null)}i=E,s=B,r.multiple=!!h,i!=null?zu(r,!!h,i,!1):s!=null&&zu(r,!!h,s,!0);return;case"textarea":It("invalid",r),E=y=h=null;for(B in s)if(s.hasOwnProperty(B)&&(H=s[B],H!=null))switch(B){case"value":h=H;break;case"defaultValue":y=H;break;case"children":E=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(91));break;default:Tt(r,i,B,H,s,null)}$o(r,h,y,E),xs(r);return;case"option":for($ in s)if(s.hasOwnProperty($)&&(h=s[$],h!=null))switch($){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tt(r,i,$,h,s,null)}return;case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":It("load",r);break;case"video":case"audio":for(h=0;h<ho.length;h++)It(ho[h],r);break;case"image":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"embed":case"source":case"link":It("error",r),It("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in s)if(s.hasOwnProperty(ie)&&(h=s[ie],h!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Tt(r,i,ie,h,s,null)}return;default:if(Jo(i)){for(De in s)s.hasOwnProperty(De)&&(h=s[De],h!==void 0&&Tn(r,i,De,h,s,void 0));return}}for(H in s)s.hasOwnProperty(H)&&(h=s[H],h!=null&&Tt(r,i,H,h,s,null))}function xu(r,i,s,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,E=null,B=null,H=null,$=null,ie=null,De=null;for(Ce in s){var ze=s[Ce];if(s.hasOwnProperty(Ce)&&ze!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":$=ze;default:h.hasOwnProperty(Ce)||Tt(r,i,Ce,null,h,ze)}}for(var ye in h){var Ce=h[ye];if(ze=s[ye],h.hasOwnProperty(ye)&&(Ce!=null||ze!=null))switch(ye){case"type":E=Ce;break;case"name":y=Ce;break;case"checked":ie=Ce;break;case"defaultChecked":De=Ce;break;case"value":B=Ce;break;case"defaultValue":H=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Ce!==ze&&Tt(r,i,ye,Ce,h,ze)}}Zo(r,B,H,$,ie,De,E,y);return;case"select":Ce=B=H=ye=null;for(E in s)if($=s[E],s.hasOwnProperty(E)&&$!=null)switch(E){case"value":break;case"multiple":Ce=$;default:h.hasOwnProperty(E)||Tt(r,i,E,null,h,$)}for(y in h)if(E=h[y],$=s[y],h.hasOwnProperty(y)&&(E!=null||$!=null))switch(y){case"value":ye=E;break;case"defaultValue":H=E;break;case"multiple":B=E;default:E!==$&&Tt(r,i,y,E,h,$)}i=H,s=B,h=Ce,ye!=null?zu(r,!!s,ye,!1):!!h!=!!s&&(i!=null?zu(r,!!s,i,!0):zu(r,!!s,s?[]:"",!1));return;case"textarea":Ce=ye=null;for(H in s)if(y=s[H],s.hasOwnProperty(H)&&y!=null&&!h.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Tt(r,i,H,null,h,y)}for(B in h)if(y=h[B],E=s[B],h.hasOwnProperty(B)&&(y!=null||E!=null))switch(B){case"value":ye=y;break;case"defaultValue":Ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==E&&Tt(r,i,B,y,h,E)}Qo(r,ye,Ce);return;case"option":for(var Je in s)if(ye=s[Je],s.hasOwnProperty(Je)&&ye!=null&&!h.hasOwnProperty(Je))switch(Je){case"selected":r.selected=!1;break;default:Tt(r,i,Je,null,h,ye)}for($ in h)if(ye=h[$],Ce=s[$],h.hasOwnProperty($)&&ye!==Ce&&(ye!=null||Ce!=null))switch($){case"selected":r.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Tt(r,i,$,ye,h,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)ye=s[bt],s.hasOwnProperty(bt)&&ye!=null&&!h.hasOwnProperty(bt)&&Tt(r,i,bt,null,h,ye);for(ie in h)if(ye=h[ie],Ce=s[ie],h.hasOwnProperty(ie)&&ye!==Ce&&(ye!=null||Ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,i));break;default:Tt(r,i,ie,ye,h,Ce)}return;default:if(Jo(i)){for(var Cn in s)ye=s[Cn],s.hasOwnProperty(Cn)&&ye!==void 0&&!h.hasOwnProperty(Cn)&&Tn(r,i,Cn,void 0,h,ye);for(De in h)ye=h[De],Ce=s[De],!h.hasOwnProperty(De)||ye===Ce||ye===void 0&&Ce===void 0||Tn(r,i,De,ye,h,Ce);return}}for(var ce in s)ye=s[ce],s.hasOwnProperty(ce)&&ye!=null&&!h.hasOwnProperty(ce)&&Tt(r,i,ce,null,h,ye);for(ze in h)ye=h[ze],Ce=s[ze],!h.hasOwnProperty(ze)||ye===Ce||ye==null&&Ce==null||Tt(r,i,ze,ye,h,Ce)}var Ed=null,Sd=null;function $f(r){return r.nodeType===9?r:r.ownerDocument}function sm(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function mo(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function Vi(){var r=window.event;return r&&r.type==="popstate"?r===xd?!1:(xd=r,!0):(xd=null,!1)}var Td=typeof setTimeout=="function"?setTimeout:void 0,Jf=typeof clearTimeout=="function"?clearTimeout:void 0,yn=typeof Promise=="function"?Promise:void 0,On=typeof queueMicrotask=="function"?queueMicrotask:typeof yn<"u"?function(r){return yn.resolve(null).then(r).catch(fm)}:Td;function fm(r){setTimeout(function(){throw r})}function Cd(r,i){var s=i,h=0;do{var y=s.nextSibling;if(r.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(h===0){r.removeChild(y),Co(i);return}h--}else s!=="$"&&s!=="$?"&&s!=="$!"||h++;s=y}while(s);Co(i)}function Ad(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),ws(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function gy(r,i,s,h){for(;r.nodeType===1;){var y=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Lu])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(E=r.getAttribute("rel"),E==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(E!==y.rel||r.getAttribute("href")!==(y.href==null?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(E=r.getAttribute("src"),(E!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&E&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var E=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===E)return r}else return r;if(r=Ya(r.nextSibling),r===null)break}return null}function my(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Ya(r.nextSibling),r===null))return null;return r}function Ya(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}function cm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function Dd(r,i,s){switch(i=$f(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}var gr=new Map,jf=new Set;function ec(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var mi=se.d;se.d={f:tc,r:la,D:py,C:yy,L:by,m:wy,X:Yi,S:dm,M:Ct};function tc(){var r=mi.f(),i=Yf();return r||i}function la(r){var i=da(r);i!==null&&i.tag===5&&i.type==="form"?wg(i):mi.r(r)}var Xa=typeof document>"u"?null:document;function vm(r,i,s){var h=Xa;if(h&&typeof i=="string"&&i){var y=Kr(i);y='link[rel="'+r+'"][href="'+y+'"]',typeof s=="string"&&(y+='[crossorigin="'+s+'"]'),jf.has(y)||(jf.add(y),r={rel:r,crossOrigin:s,href:i},h.querySelector(y)===null&&(i=h.createElement("link"),rr(i,"link",r),hn(i),h.head.appendChild(i)))}}function py(r){mi.D(r),vm("dns-prefetch",r,null)}function yy(r,i){mi.C(r,i),vm("preconnect",r,i)}function by(r,i,s){mi.L(r,i,s);var h=Xa;if(h&&r&&i){var y='link[rel="preload"][as="'+Kr(i)+'"]';i==="image"&&s&&s.imageSrcSet?(y+='[imagesrcset="'+Kr(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(y+='[imagesizes="'+Kr(s.imageSizes)+'"]')):y+='[href="'+Kr(r)+'"]';var E=y;switch(i){case"style":E=ar(r);break;case"script":E=Jl(r)}gr.has(E)||(r=F({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),gr.set(E,r),h.querySelector(y)!==null||i==="style"&&h.querySelector($l(E))||i==="script"&&h.querySelector(jl(E))||(i=h.createElement("link"),rr(i,"link",r),hn(i),h.head.appendChild(i)))}}function wy(r,i){mi.m(r,i);var s=Xa;if(s&&r){var h=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+Kr(h)+'"][href="'+Kr(r)+'"]',E=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Jl(r)}if(!gr.has(E)&&(r=F({rel:"modulepreload",href:r},i),gr.set(E,r),s.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(jl(E)))return}h=s.createElement("link"),rr(h,"link",r),hn(h),s.head.appendChild(h)}}}function dm(r,i,s){mi.S(r,i,s);var h=Xa;if(h&&r){var y=Ma(h).hoistableStyles,E=ar(r);i=i||"default";var B=y.get(E);if(!B){var H={loading:0,preload:null};if(B=h.querySelector($l(E)))H.loading=5;else{r=F({rel:"stylesheet",href:r,"data-precedence":i},s),(s=gr.get(E))&&Md(r,s);var $=B=h.createElement("link");hn($),rr($,"link",r),$._p=new Promise(function(ie,De){$.onload=ie,$.onerror=De}),$.addEventListener("load",function(){H.loading|=1}),$.addEventListener("error",function(){H.loading|=2}),H.loading|=4,nc(B,i,h)}B={type:"stylesheet",instance:B,count:1,state:H},y.set(E,B)}}}function Yi(r,i){mi.X(r,i);var s=Xa;if(s&&r){var h=Ma(s).hoistableScripts,y=Jl(r),E=h.get(y);E||(E=s.querySelector(jl(y)),E||(r=F({src:r,async:!0},i),(i=gr.get(y))&&Bd(r,i),E=s.createElement("script"),hn(E),rr(E,"link",r),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(y,E))}}function Ct(r,i){mi.M(r,i);var s=Xa;if(s&&r){var h=Ma(s).hoistableScripts,y=Jl(r),E=h.get(y);E||(E=s.querySelector(jl(y)),E||(r=F({src:r,async:!0,type:"module"},i),(i=gr.get(y))&&Bd(r,i),E=s.createElement("script"),hn(E),rr(E,"link",r),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(y,E))}}function Rd(r,i,s,h){var y=(y=Pe.current)?ec(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ar(s.href),s=Ma(y).hoistableStyles,h=s.get(i),h||(h={type:"style",instance:null,count:0,state:null},s.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=ar(s.href);var E=Ma(y).hoistableStyles,B=E.get(r);if(B||(y=y.ownerDocument||y,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(r,B),(E=y.querySelector($l(r)))&&!E._p&&(B.instance=E,B.state.loading=5),gr.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gr.set(r,s),E||Wt(y,r,s,B.state))),i&&h===null)throw Error(a(528,""));return B}if(i&&h!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Jl(s),s=Ma(y).hoistableScripts,h=s.get(i),h||(h={type:"script",instance:null,count:0,state:null},s.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ar(r){return'href="'+Kr(r)+'"'}function $l(r){return'link[rel="stylesheet"]['+r+"]"}function hm(r){return F({},r,{"data-precedence":r.precedence,precedence:null})}function Wt(r,i,s,h){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=r.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),rr(i,"link",s),hn(i),r.head.appendChild(i))}function Jl(r){return'[src="'+Kr(r)+'"]'}function jl(r){return"script[async]"+r}function po(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var h=r.querySelector('style[data-href~="'+Kr(s.href)+'"]');if(h)return i.instance=h,hn(h),h;var y=F({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),hn(h),rr(h,"style",y),nc(h,s.precedence,r),i.instance=h;case"stylesheet":y=ar(s.href);var E=r.querySelector($l(y));if(E)return i.state.loading|=4,i.instance=E,hn(E),E;h=hm(s),(y=gr.get(y))&&Md(h,y),E=(r.ownerDocument||r).createElement("link"),hn(E);var B=E;return B._p=new Promise(function(H,$){B.onload=H,B.onerror=$}),rr(E,"link",h),i.state.loading|=4,nc(E,s.precedence,r),i.instance=E;case"script":return E=Jl(s.src),(y=r.querySelector(jl(E)))?(i.instance=y,hn(y),y):(h=s,(y=gr.get(E))&&(h=F({},s),Bd(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),hn(y),rr(y,"link",h),r.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,nc(h,s.precedence,r));return i.instance}function nc(r,i,s){for(var h=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,E=y,B=0;B<h.length;B++){var H=h[B];if(H.dataset.precedence===i)E=H;else if(E!==y)break}E?E.parentNode.insertBefore(r,E.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function Md(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Bd(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var rc=null;function gm(r,i,s){if(rc===null){var h=new Map,y=rc=new Map;y.set(s,h)}else y=rc,h=y.get(s),h||(h=new Map,y.set(s,h));if(h.has(r))return h;for(h.set(r,null),s=s.getElementsByTagName(r),y=0;y<s.length;y++){var E=s[y];if(!(E[Lu]||E[Nn]||r==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var B=E.getAttribute(i)||"";B=r+B;var H=h.get(B);H?H.push(E):h.set(B,[E])}}return h}function mm(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function Ey(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pm(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var yo=null;function Sy(){}function xy(r,i,s){if(yo===null)throw Error(a(475));var h=yo;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var y=ar(s.href),E=r.querySelector($l(y));if(E){r=E._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=ac.bind(h),r.then(h,h)),i.state.loading|=4,i.instance=E,hn(E);return}E=r.ownerDocument||r,s=hm(s),(y=gr.get(y))&&Md(s,y),E=E.createElement("link"),hn(E);var B=E;B._p=new Promise(function(H,$){B.onload=H,B.onerror=$}),rr(E,"link",s),i.instance=E}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=ac.bind(h),r.addEventListener("load",i),r.addEventListener("error",i))}}function Ty(){if(yo===null)throw Error(a(475));var r=yo;return r.stylesheets&&r.count===0&&Od(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&Od(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var es=null;function Od(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,es=new Map,i.forEach(_d,r),es=null,ac.call(r))}function _d(r,i){if(!(i.state.loading&4)){var s=es.get(r);if(s)var h=s.get(null);else{s=new Map,es.set(r,s);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<y.length;E++){var B=y[E];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(s.set(B.dataset.precedence,B),h=B)}h&&s.set(null,h)}y=i.instance,B=y.getAttribute("data-precedence"),E=s.get(B)||h,E===h&&s.set(null,y),s.set(B,y),this.count++,h=ac.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),E?E.parentNode.insertBefore(y,E.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),i.state.loading|=4}}var bo={$$typeof:x,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function Cy(r,i,s,h,y,E,B,H){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=E,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function ym(r,i,s,h,y,E,B,H,$,ie,De,ze){return r=new Cy(r,i,s,B,H,$,ie,ze),i=1,E===!0&&(i|=24),E=aa(3,null,null,i),r.current=E,E.stateNode=r,i=fv(),i.refCount++,r.pooledCache=i,i.refCount++,E.memoizedState={element:h,isDehydrated:s,cache:i},$s(E),r}function $n(r){return r?(r=Hu,r):Hu}function Cr(r,i,s,h,y,E){y=$n(y),h.context===null?h.context=y:h.pendingContext=y,h=Fa(i),h.payload={element:s},E=E===void 0?null:E,E!==null&&(h.callback=E),s=ea(r,h,i),s!==null&&(hr(s,r,i),it(s,r,i))}function bm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function Nd(r,i){bm(r,i),(r=r.alternate)&&bm(r,i)}function wm(r){if(r.tag===13){var i=Na(r,67108864);i!==null&&hr(i,r,67108864),Nd(r,67108864)}}var wo=!0;function Ay(r,i,s,h){var y=L.T;L.T=null;var E=se.p;try{se.p=2,Ld(r,i,s,h)}finally{se.p=E,L.T=y}}function Dy(r,i,s,h){var y=L.T;L.T=null;var E=se.p;try{se.p=8,Ld(r,i,s,h)}finally{se.p=E,L.T=y}}function Ld(r,i,s,h){if(wo){var y=ic(h);if(y===null)wd(r,i,h,uc,s),Sm(r,h);else if(My(y,r,i,s,h))h.stopPropagation();else if(Sm(r,h),i&4&&-1<Ry.indexOf(r)){for(;y!==null;){var E=da(y);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var B=_n(E.pendingLanes);if(B!==0){var H=E;for(H.pendingLanes|=2,H.entangledLanes|=2;B;){var $=1<<31-Ve(B);H.entanglements[1]|=$,B&=~$}Va(E),(xn&6)===0&&(Gf=st()+500,al(0))}}break;case 13:H=Na(E,2),H!==null&&hr(H,E,2),Yf(),Nd(E,2)}if(E=ic(h),E===null&&wd(r,i,h,uc,s),E===y)break;y=E}y!==null&&h.stopPropagation()}else wd(r,i,h,null,s)}}function ic(r){return r=Yc(r),zd(r)}var uc=null;function zd(r){if(uc=null,r=Si(r),r!==null){var i=j(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=le(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return uc=r,null}function Em(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Le:return 2;case G:return 8;case fe:case xe:return 32;case he:return 268435456;default:return 32}default:return 32}}var lc=!1,Xi=null,Tu=null,Cu=null,Eo=new Map,So=new Map,sa=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(r,i){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Tu=null;break;case"mouseover":case"mouseout":Cu=null;break;case"pointerover":case"pointerout":Eo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(i.pointerId)}}function xo(r,i,s,h,y,E){return r===null||r.nativeEvent!==E?(r={blockedOn:i,domEventName:s,eventSystemFlags:h,nativeEvent:E,targetContainers:[y]},i!==null&&(i=da(i),i!==null&&wm(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),r)}function My(r,i,s,h,y){switch(i){case"focusin":return Xi=xo(Xi,r,i,s,h,y),!0;case"dragenter":return Tu=xo(Tu,r,i,s,h,y),!0;case"mouseover":return Cu=xo(Cu,r,i,s,h,y),!0;case"pointerover":var E=y.pointerId;return Eo.set(E,xo(Eo.get(E)||null,r,i,s,h,y)),!0;case"gotpointercapture":return E=y.pointerId,So.set(E,xo(So.get(E)||null,r,i,s,h,y)),!0}return!1}function xm(r){var i=Si(r.target);if(i!==null){var s=j(i);if(s!==null){if(i=s.tag,i===13){if(i=le(s),i!==null){r.blockedOn=i,Hn(r.priority,function(){if(s.tag===13){var h=ua(),y=Na(s,h);y!==null&&hr(y,s,h),Nd(s,h)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function To(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=ic(r.nativeEvent);if(s===null){s=r.nativeEvent;var h=new s.constructor(s.type,s);Vc=h,s.target.dispatchEvent(h),Vc=null}else return i=da(s),i!==null&&wm(i),r.blockedOn=s,!1;i.shift()}return!0}function kd(r,i,s){To(r)&&s.delete(i)}function By(){lc=!1,Xi!==null&&To(Xi)&&(Xi=null),Tu!==null&&To(Tu)&&(Tu=null),Cu!==null&&To(Cu)&&(Cu=null),Eo.forEach(kd),So.forEach(kd)}function sc(r,i){r.blockedOn===i&&(r.blockedOn=null,lc||(lc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,By)))}var oc=null;function Tm(r){oc!==r&&(oc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){oc===r&&(oc=null);for(var i=0;i<r.length;i+=3){var s=r[i],h=r[i+1],y=r[i+2];if(typeof h!="function"){if(zd(h||s)===null)continue;break}var E=da(s);E!==null&&(r.splice(i,3),i-=3,Vs(E,{pending:!0,data:y,method:s.method,action:h},h,y))}}))}function Co(r){function i($){return sc($,r)}Xi!==null&&sc(Xi,r),Tu!==null&&sc(Tu,r),Cu!==null&&sc(Cu,r),Eo.forEach(i),So.forEach(i);for(var s=0;s<sa.length;s++){var h=sa[s];h.blockedOn===r&&(h.blockedOn=null)}for(;0<sa.length&&(s=sa[0],s.blockedOn===null);)xm(s),s.blockedOn===null&&sa.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(h=0;h<s.length;h+=3){var y=s[h],E=s[h+1],B=y[vn]||null;if(typeof E=="function")B||Tm(s);else if(B){var H=null;if(E&&E.hasAttribute("formAction")){if(y=E,B=E[vn]||null)H=B.formAction;else if(zd(y)!==null)continue}else H=B.action;typeof H=="function"?s[h+1]=H:(s.splice(h,3),h-=3),Tm(s)}}}function Id(r){this._internalRoot=r}fc.prototype.render=Id.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,h=ua();Cr(s,h,r,i,null,null)},fc.prototype.unmount=Id.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;r.tag===0&&Gi(),Cr(r.current,2,null,r,null,null),Yf(),i[Ei]=null}};function fc(r){this._internalRoot=r}fc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Xn();r={blockedOn:null,target:r,priority:i};for(var s=0;s<sa.length&&i!==0&&i<sa[s].priority;s++);sa.splice(s,0,r),s===0&&xm(r)}};var Cm=e.version;if(Cm!=="19.0.0")throw Error(a(527,Cm,"19.0.0"));se.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=Z(i),r=r!==null?ne(r):null,r=r===null?null:r.stateNode,r};var Oy={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:Si,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Ae=cc.inject(Oy),Ue=cc}catch{}}return Ud.createRoot=function(r,i){if(!u(r))throw Error(a(299));var s=!1,h="",y=ki,E=Eg,B=Ii,H=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(E=i.onCaughtError),i.onRecoverableError!==void 0&&(B=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(H=i.unstable_transitionCallbacks)),i=ym(r,1,!1,null,null,s,h,y,E,B,H,null),r[Ei]=i.current,bd(r.nodeType===8?r.parentNode:r),new Id(i)},Ud.hydrateRoot=function(r,i,s){if(!u(r))throw Error(a(299));var h=!1,y="",E=ki,B=Eg,H=Ii,$=null,ie=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(B=s.onCaughtError),s.onRecoverableError!==void 0&&(H=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&($=s.unstable_transitionCallbacks),s.formState!==void 0&&(ie=s.formState)),i=ym(r,1,!0,i,s??null,h,y,E,B,H,$,ie),i.context=$n(null),s=i.current,h=ua(),y=Fa(h),y.callback=null,ea(s,y,h),i.current.lanes=h,or(i,h),Va(i),r[Ei]=i.current,bd(r),new fc(i)},Ud.version="19.0.0",Ud}var i1;function SS(){if(i1)return Uy.exports;i1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uy.exports=ES(),Uy.exports}var xS=SS();class Ie{constructor(e){Re(this,"details");this.details=e}}var fn=(n=>(n[n.EDIT=0]="EDIT",n[n.VISUAL=1]="VISUAL",n))(fn||{}),Ot=(n=>(n[n.GRAMMAR=0]="GRAMMAR",n[n.AUTOMATON=1]="AUTOMATON",n))(Ot||{});class S0{constructor(){Re(this,"mode",0)}}let TS=class{constructor(e){Re(this,"mode",new S0);Re(this,"primary");Re(this,"secondary");Re(this,"algorithm");this.primary=e,this.primary.mode=this.mode}switchToEditMode(e){if(this.mode.mode===0)return new Ie("Cannot switch to edit mode when already in edit mode.");this.algorithmDelete(e),this.mode.mode=0}switchToVisualMode(){if(this.mode.mode===1)return new Ie("Cannot switch to visual mode when already in visual mode.");this.mode.mode=1}transform(){if(this.mode.mode===0)return new Ie("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ie("Cannot simulate algorithm step before start.");try{let e=this.algorithm.next();if(e===void 0)return new Ie("Algorithm is already completed.");for(;e!==void 0;)this.algorithmStep(e),e=this.algorithm.next()}catch(e){if(e instanceof Error)return new Ie(e.message)}}algorithmStart(e){if(this.mode.mode===0)return new Ie("Cannot simulate algorithm in edit mode.");if(this.algorithm!==void 0)return new Ie("Cannot start new algorithm when an algorithm is already in progress.");if(this.primary.kind===1&&this.primary.simulationInProgress())return new Ie("Cannot start algorithm when a simulation is in progress.");try{this.algorithm=e,this.secondary=e.init(this.mode)}catch(t){if(t instanceof Error)return new Ie(t.message)}this.primary.kind===1&&this.primary.algorithmInProgress(!0)}algorithmNext(){if(this.mode.mode===0)return new Ie("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ie("Cannot simulate algorithm step before start.");try{const e=this.algorithm.next();if(e===void 0)return new Ie("Algorithm is already completed.");this.algorithmStep(e)}catch(e){if(e instanceof Error)return new Ie(e.message)}}algorithmUndo(){return this.mode.mode===0?new Ie("Cannot simulate algorithm in edit mode."):this.algorithm===void 0?new Ie("Cannot undo algorithm step before start."):this.algorithm.undo()}algorithmDelete(e){if(e){if(this.secondary===void 0)return new Ie("Cannot keep second window, because the window does not exit.");this.primary=this.secondary}this.primary.kind===1&&this.primary.algorithmInProgress(!1),this.secondary=void 0,this.algorithm=void 0}algorithmStep(e){if(this.algorithm.outputType===void 0){switch(this.primary.kind){case 0:if(e.command.kind!==0)return new Ie("Automaton command is not applicable to grammar.");this.primary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new Ie("Grammar command is not applicable to automaton.");this.primary.automaton.executeCommand(e.command);break}e.command.accept(this.primary.visitor)}else{if(this.secondary===void 0)return new Ie("Second window does not exist.");switch(this.primary.highlight(e.highlight),this.secondary.kind){case 0:if(e.command.kind!==0)return new Ie("Automaton command is not applicable to grammar.");this.secondary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new Ie("Grammar command is not applicable to automaton.");this.secondary.automaton.executeCommand(e.command);break}e.command.accept(this.secondary.visitor)}}};const mh="",u1="q",l1="Z",s1="",_b="cy-primary",Nb="cy-secondary";class Lb{constructor(e,t){Re(this,"stateId");Re(this,"remainingInput");this.stateId=e,this.remainingInput=t}accept(e){return e.visitFiniteConfiguration(this)}save(){return new CS(this.stateId,this.remainingInput)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput}}class zb{constructor(e,t,a){Re(this,"stateId");Re(this,"remainingInput");Re(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=a}accept(e){return e.visitPDAConfiguration(this)}save(){return new AS(this.stateId,this.remainingInput,this.stack)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput,this.stack=e.stack}}class CS{constructor(e,t){Re(this,"stateId");Re(this,"remainingInput");this.stateId=e,this.remainingInput=[...t]}}class AS{constructor(e,t,a){Re(this,"stateId");Re(this,"remainingInput");Re(this,"stack");this.stateId=e,this.remainingInput=[...t],this.stack=[...a]}}const kb=(n,e)=>{if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0};class op{constructor(e,t){Re(this,"id");Re(this,"inputChar");this.id=e,this.inputChar=t}get label(){return this.inputChar}equals(e){return e instanceof op?this.inputChar===e.inputChar:!1}}class Cc{constructor(e,t,a,u){Re(this,"id");Re(this,"inputChar");Re(this,"readStackChar");Re(this,"writeStackWord");this.id=e,this.inputChar=t,this.readStackChar=a,this.writeStackWord=u}get label(){return[this.inputChar,this.readStackChar,this.writeStackWord.join("")].join(",")}equals(e){return e instanceof Cc?this.inputChar===e.inputChar&&this.readStackChar===e.readStackChar&&kb(this.writeStackWord,e.writeStackWord):!1}}class DS{constructor(e){Re(this,"automaton");Re(this,"result");this.automaton=e}visitFiniteConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");const t=e.remainingInput[0];let a;const u=this.automaton.deltaFunctionMatrix[e.stateId];for(const l in u){const f=u[l];for(let c=0;c<f.length;c++)f[c].inputChar===t&&(a=l,this.result=f[c])}if(a===void 0)throw new Error("Step for the symbol doesn't exist in the delta function");return new Lb(a,e.remainingInput.slice(1))}visitPDAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=bi.PDA)throw new Error("Wrong automaton type");const t=e.remainingInput[0],a=e.stack[e.stack.length-1];let u,l;const f=this.automaton.deltaFunctionMatrix[e.stateId];e:for(const c in f){const g=f[c];for(let v=0;v<g.length;v++){const m=g[v];if(m instanceof Cc){if(m.inputChar===t&&m.readStackChar===a){u=c,l=m.writeStackWord,this.result=g[v];break e}}else throw new Error("AutomatonType is pushDown but one of its edges isn't")}}if(u===void 0||l===void 0)throw new Error("Step for the (symbol, top of stack) combination in the delta function doesn't exist");{const c=e.stack.slice(0,-1).concat(l);return new zb(u,e.remainingInput.slice(1),c)}}}class RS{constructor(e){Re(this,"simulation");Re(this,"backup");Re(this,"result");this.simulation=e}saveBackup(){this.backup=this.simulation.configuration.save()}undo(){this.backup&&this.simulation.configuration.restore(this.backup)}getResult(){return this.result}}class Ib extends RS{constructor(e){super(e)}execute(){this.saveBackup();const e=new DS(this.simulation.automaton);try{const t=this.simulation.configuration.accept(e);this.simulation.configuration=t,this.result=e.result}catch(t){if(t instanceof Error)return new Ie(t.message)}}}class o1{constructor(e,t){Re(this,"automaton");Re(this,"configuration");Re(this,"commandHistory");this.automaton=e,this.configuration=t,this.commandHistory=[]}executeCommand(e){const t=e.execute();if(t!==void 0)return t;this.commandHistory.push(e)}undo(){const e=this.commandHistory.pop();if(e===void 0)return new Ie("Cannot undo because command history is empty.");e.undo()}run(){for(;this.configuration.remainingInput.length>0;){const e=new Ib(this),t=e.execute();if(t!==void 0)throw new Error(t.details);this.commandHistory.push(e)}return this.automaton.finalStateIds.some(e=>this.configuration.stateId===e)}}var Kd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var MS=Kd.exports,f1;function BS(){return f1||(f1=1,function(n,e){(function(){var t,a="4.17.21",u=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",c="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,m="__lodash_placeholder__",p=1,w=2,x=4,S=1,D=2,T=1,C=2,R=4,M=8,_=16,k=32,z=64,O=128,I=256,L=512,F=30,Y="...",V=800,W=16,K=1,ee=2,X=3,Q=1/0,j=9007199254740991,le=17976931348623157e292,P=NaN,Z=4294967295,ne=Z-1,de=Z>>>1,se=[["ary",O],["bind",T],["bindKey",C],["curry",M],["curryRight",_],["flip",L],["partial",k],["partialRight",z],["rearg",I]],we="[object Arguments]",me="[object Array]",Me="[object AsyncFunction]",Se="[object Boolean]",ve="[object Date]",re="[object DOMException]",be="[object Error]",Ne="[object Function]",Pe="[object GeneratorFunction]",Fe="[object Map]",mt="[object Number]",Lt="[object Null]",xt="[object Object]",Xe="[object Promise]",Ke="[object Proxy]",et="[object RegExp]",$e="[object Set]",tt="[object String]",lt="[object Symbol]",st="[object Undefined]",Et="[object WeakMap]",Le="[object WeakSet]",G="[object ArrayBuffer]",fe="[object DataView]",xe="[object Float32Array]",he="[object Float64Array]",pe="[object Int8Array]",He="[object Int16Array]",Ae="[object Int32Array]",Ue="[object Uint8Array]",nt="[object Uint8ClampedArray]",at="[object Uint16Array]",Ve="[object Uint32Array]",dt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qt=/&(?:amp|lt|gt|quot|#39);/g,$t=/[&<>"']/g,_n=RegExp(qt.source),jn=RegExp($t.source),cn=/<%-([\s\S]+?)%>/g,Pn=/<%([\s\S]+?)%>/g,Dn=/<%=([\s\S]+?)%>/g,er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yn=/^\w*$/,or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fr=/[\\^$.*+?()[\]{}|]/g,Vr=RegExp(fr.source),Br=/^\s+/,va=/\s/,Xn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Hn=/\{\n\/\* \[wrapped with (.+)\] \*/,En=/,? & /,Nn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vn=/[()=,{}\[\]\/\s]/,Ei=/\\(\\)?/g,bs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qo=/\w*$/,Fc=/^[-+]0x[0-9a-f]+$/i,Go=/^0b[01]+$/i,Lu=/^\[object .+?Constructor\]$/,ws=/^0o[0-7]+$/i,Si=/^(?:0|[1-9]\d*)$/,da=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ha=/($^)/,Ma=/['\n\r\u2028\u2029\\]/g,hn="\\ud800-\\udfff",Es="\\u0300-\\u036f",Vo="\\ufe20-\\ufe2f",Kn="\\u20d0-\\u20ff",Ba=Es+Vo+Kn,Yr="\\u2700-\\u27bf",$i="a-z\\xdf-\\xf6\\xf8-\\xff",Or="\\xac\\xb1\\xd7\\xf7",Yo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dp="\\u2000-\\u206f",Xo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ss="A-Z\\xc0-\\xd6\\xd8-\\xde",Ja="\\ufe0e\\ufe0f",Xr=Or+Yo+Dp+Xo,Ko="[']",Rp="["+hn+"]",xs="["+Xr+"]",Ts="["+Ba+"]",Cs="\\d+",Mp="["+Yr+"]",Kr="["+$i+"]",Zo="[^"+hn+Xr+Cs+Yr+$i+Ss+"]",Wo="\\ud83c[\\udffb-\\udfff]",qc="(?:"+Ts+"|"+Wo+")",zu="[^"+hn+"]",Qo="(?:\\ud83c[\\udde6-\\uddff]){2}",$o="[\\ud800-\\udbff][\\udc00-\\udfff]",Oa="["+Ss+"]",Dh="\\u200d",Gc="(?:"+Kr+"|"+Zo+")",Rh="(?:"+Oa+"|"+Zo+")",Jo="(?:"+Ko+"(?:d|ll|m|re|s|t|ve))?",Mh="(?:"+Ko+"(?:D|LL|M|RE|S|T|VE))?",Bh=qc+"?",As="["+Ja+"]?",Vc="(?:"+Dh+"(?:"+[zu,Qo,$o].join("|")+")"+As+Bh+")*",Yc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ku=As+Bh+Vc,Oh="(?:"+[Mp,Qo,$o].join("|")+")"+ku,Xc="(?:"+[zu+Ts+"?",Ts,Qo,$o,Rp].join("|")+")",_h=RegExp(Ko,"g"),Ds=RegExp(Ts,"g"),Rs=RegExp(Wo+"(?="+Wo+")|"+Xc+ku,"g"),Ms=RegExp([Oa+"?"+Kr+"+"+Jo+"(?="+[xs,Oa,"$"].join("|")+")",Rh+"+"+Mh+"(?="+[xs,Oa+Gc,"$"].join("|")+")",Oa+"?"+Gc+"+"+Jo,Oa+"+"+Mh,vl,Yc,Cs,Oh].join("|"),"g"),Ji=RegExp("["+Dh+hn+Ba+Ja+"]"),Kc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nh=-1,en={};en[xe]=en[he]=en[pe]=en[He]=en[Ae]=en[Ue]=en[nt]=en[at]=en[Ve]=!0,en[we]=en[me]=en[G]=en[Se]=en[fe]=en[ve]=en[be]=en[Ne]=en[Fe]=en[mt]=en[xt]=en[et]=en[$e]=en[tt]=en[Et]=!1;var Jt={};Jt[we]=Jt[me]=Jt[G]=Jt[fe]=Jt[Se]=Jt[ve]=Jt[xe]=Jt[he]=Jt[pe]=Jt[He]=Jt[Ae]=Jt[Fe]=Jt[mt]=Jt[xt]=Jt[et]=Jt[$e]=Jt[tt]=Jt[lt]=Jt[Ue]=Jt[nt]=Jt[at]=Jt[Ve]=!0,Jt[be]=Jt[Ne]=Jt[Et]=!1;var Lh={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},_r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Iu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ef={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bs=parseFloat,Bp=parseInt,tf=typeof Am=="object"&&Am&&Am.Object===Object&&Am,Zc=typeof self=="object"&&self&&self.Object===Object&&self,Ln=tf||Zc||Function("return this")(),dl=e&&!e.nodeType&&e,ji=dl&&!0&&n&&!n.nodeType&&n,zh=ji&&ji.exports===dl,Wc=zh&&tf.process,ga=function(){try{var ue=ji&&ji.require&&ji.require("util").types;return ue||Wc&&Wc.binding&&Wc.binding("util")}catch{}}(),nf=ga&&ga.isArrayBuffer,kh=ga&&ga.isDate,Ih=ga&&ga.isMap,Uh=ga&&ga.isRegExp,Ph=ga&&ga.isSet,Hh=ga&&ga.isTypedArray;function Nr(ue,Te,Ee){switch(Ee.length){case 0:return ue.call(Te);case 1:return ue.call(Te,Ee[0]);case 2:return ue.call(Te,Ee[0],Ee[1]);case 3:return ue.call(Te,Ee[0],Ee[1],Ee[2])}return ue.apply(Te,Ee)}function Op(ue,Te,Ee,Ze){for(var ft=-1,zt=ue==null?0:ue.length;++ft<zt;){var zn=ue[ft];Te(Ze,zn,Ee(zn),ue)}return Ze}function ma(ue,Te){for(var Ee=-1,Ze=ue==null?0:ue.length;++Ee<Ze&&Te(ue[Ee],Ee,ue)!==!1;);return ue}function _p(ue,Te){for(var Ee=ue==null?0:ue.length;Ee--&&Te(ue[Ee],Ee,ue)!==!1;);return ue}function Fh(ue,Te){for(var Ee=-1,Ze=ue==null?0:ue.length;++Ee<Ze;)if(!Te(ue[Ee],Ee,ue))return!1;return!0}function ja(ue,Te){for(var Ee=-1,Ze=ue==null?0:ue.length,ft=0,zt=[];++Ee<Ze;){var zn=ue[Ee];Te(zn,Ee,ue)&&(zt[ft++]=zn)}return zt}function rf(ue,Te){var Ee=ue==null?0:ue.length;return!!Ee&&hl(ue,Te,0)>-1}function Qc(ue,Te,Ee){for(var Ze=-1,ft=ue==null?0:ue.length;++Ze<ft;)if(Ee(Te,ue[Ze]))return!0;return!1}function gn(ue,Te){for(var Ee=-1,Ze=ue==null?0:ue.length,ft=Array(Ze);++Ee<Ze;)ft[Ee]=Te(ue[Ee],Ee,ue);return ft}function xi(ue,Te){for(var Ee=-1,Ze=Te.length,ft=ue.length;++Ee<Ze;)ue[ft+Ee]=Te[Ee];return ue}function $c(ue,Te,Ee,Ze){var ft=-1,zt=ue==null?0:ue.length;for(Ze&&zt&&(Ee=ue[++ft]);++ft<zt;)Ee=Te(Ee,ue[ft],ft,ue);return Ee}function Np(ue,Te,Ee,Ze){var ft=ue==null?0:ue.length;for(Ze&&ft&&(Ee=ue[--ft]);ft--;)Ee=Te(Ee,ue[ft],ft,ue);return Ee}function Jc(ue,Te){for(var Ee=-1,Ze=ue==null?0:ue.length;++Ee<Ze;)if(Te(ue[Ee],Ee,ue))return!0;return!1}var Lp=uf("length");function zp(ue){return ue.split("")}function kp(ue){return ue.match(Nn)||[]}function qh(ue,Te,Ee){var Ze;return Ee(ue,function(ft,zt,zn){if(Te(ft,zt,zn))return Ze=zt,!1}),Ze}function af(ue,Te,Ee,Ze){for(var ft=ue.length,zt=Ee+(Ze?1:-1);Ze?zt--:++zt<ft;)if(Te(ue[zt],zt,ue))return zt;return-1}function hl(ue,Te,Ee){return Te===Te?Hp(ue,Te,Ee):af(ue,gl,Ee)}function jc(ue,Te,Ee,Ze){for(var ft=Ee-1,zt=ue.length;++ft<zt;)if(Ze(ue[ft],Te))return ft;return-1}function gl(ue){return ue!==ue}function Gh(ue,Te){var Ee=ue==null?0:ue.length;return Ee?sf(ue,Te)/Ee:P}function uf(ue){return function(Te){return Te==null?t:Te[ue]}}function lf(ue){return function(Te){return ue==null?t:ue[Te]}}function ev(ue,Te,Ee,Ze,ft){return ft(ue,function(zt,zn,tn){Ee=Ze?(Ze=!1,zt):Te(Ee,zt,zn,tn)}),Ee}function Vh(ue,Te){var Ee=ue.length;for(ue.sort(Te);Ee--;)ue[Ee]=ue[Ee].value;return ue}function sf(ue,Te){for(var Ee,Ze=-1,ft=ue.length;++Ze<ft;){var zt=Te(ue[Ze]);zt!==t&&(Ee=Ee===t?zt:Ee+zt)}return Ee}function eu(ue,Te){for(var Ee=-1,Ze=Array(ue);++Ee<ue;)Ze[Ee]=Te(Ee);return Ze}function Ip(ue,Te){return gn(Te,function(Ee){return[Ee,ue[Ee]]})}function Yh(ue){return ue&&ue.slice(0,nv(ue)+1).replace(Br,"")}function Zr(ue){return function(Te){return ue(Te)}}function of(ue,Te){return gn(Te,function(Ee){return ue[Ee]})}function ml(ue,Te){return ue.has(Te)}function pl(ue,Te){for(var Ee=-1,Ze=ue.length;++Ee<Ze&&hl(Te,ue[Ee],0)>-1;);return Ee}function yl(ue,Te){for(var Ee=ue.length;Ee--&&hl(Te,ue[Ee],0)>-1;);return Ee}function Up(ue,Te){for(var Ee=ue.length,Ze=0;Ee--;)ue[Ee]===Te&&++Ze;return Ze}var ff=lf(Lh),Xh=lf(_r);function Kh(ue){return"\\"+ef[ue]}function tv(ue,Te){return ue==null?t:ue[Te]}function tu(ue){return Ji.test(ue)}function Zh(ue){return Kc.test(ue)}function Wh(ue){for(var Te,Ee=[];!(Te=ue.next()).done;)Ee.push(Te.value);return Ee}function cf(ue){var Te=-1,Ee=Array(ue.size);return ue.forEach(function(Ze,ft){Ee[++Te]=[ft,Ze]}),Ee}function Qh(ue,Te){return function(Ee){return ue(Te(Ee))}}function nu(ue,Te){for(var Ee=-1,Ze=ue.length,ft=0,zt=[];++Ee<Ze;){var zn=ue[Ee];(zn===Te||zn===m)&&(ue[Ee]=m,zt[ft++]=Ee)}return zt}function vf(ue){var Te=-1,Ee=Array(ue.size);return ue.forEach(function(Ze){Ee[++Te]=Ze}),Ee}function Pp(ue){var Te=-1,Ee=Array(ue.size);return ue.forEach(function(Ze){Ee[++Te]=[Ze,Ze]}),Ee}function Hp(ue,Te,Ee){for(var Ze=Ee-1,ft=ue.length;++Ze<ft;)if(ue[Ze]===Te)return Ze;return-1}function Wr(ue,Te,Ee){for(var Ze=Ee+1;Ze--;)if(ue[Ze]===Te)return Ze;return Ze}function ei(ue){return tu(ue)?Jh(ue):Lp(ue)}function pa(ue){return tu(ue)?rv(ue):zp(ue)}function nv(ue){for(var Te=ue.length;Te--&&va.test(ue.charAt(Te)););return Te}var $h=lf(Iu);function Jh(ue){for(var Te=Rs.lastIndex=0;Rs.test(ue);)++Te;return Te}function rv(ue){return ue.match(Rs)||[]}function Fp(ue){return ue.match(Ms)||[]}var qp=function ue(Te){Te=Te==null?Ln:_a.defaults(Ln.Object(),Te,_a.pick(Ln,jo));var Ee=Te.Array,Ze=Te.Date,ft=Te.Error,zt=Te.Function,zn=Te.Math,tn=Te.Object,Ti=Te.RegExp,jh=Te.String,Qr=Te.TypeError,Os=Ee.prototype,Gp=zt.prototype,bl=tn.prototype,df=Te["__core-js_shared__"],_s=Gp.toString,Kt=bl.hasOwnProperty,eg=0,ya=function(){var o=/[^.]+$/.exec(df&&df.keys&&df.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),br=bl.toString,wl=_s.call(tn),av=Ln._,hf=Ti("^"+_s.call(Kt).replace(fr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uu=zh?Te.Buffer:t,ti=Te.Symbol,Na=Te.Uint8Array,iv=Uu?Uu.allocUnsafe:t,Pu=Qh(tn.getPrototypeOf,tn),Hu=tn.create,uv=bl.propertyIsEnumerable,wr=Os.splice,Fu=ti?ti.isConcatSpreadable:t,ni=ti?ti.iterator:t,ri=ti?ti.toStringTag:t,qu=function(){try{var o=qa(tn,"defineProperty");return o({},"",{}),o}catch{}}(),ba=Te.clearTimeout!==Ln.clearTimeout&&Te.clearTimeout,wa=Ze&&Ze.now!==Ln.Date.now&&Ze.now,Gu=Te.setTimeout!==Ln.setTimeout&&Te.setTimeout,Ea=zn.ceil,Sa=zn.floor,Ci=tn.getOwnPropertySymbols,tg=Uu?Uu.isBuffer:t,gf=Te.isFinite,lv=Os.join,Er=Qh(tn.keys,tn),kt=zn.max,yt=zn.min,La=Ze.now,ai=Te.parseInt,mf=zn.random,Vu=Os.reverse,pf=qa(Te,"DataView"),El=qa(Te,"Map"),Yu=qa(Te,"Promise"),ii=qa(Te,"Set"),Ai=qa(Te,"WeakMap"),Di=qa(tn,"create"),Ns=Ai&&new Ai,ru={},ng=Ir(pf),yf=Ir(El),rg=Ir(Yu),Ls=Ir(ii),ag=Ir(Ai),Ri=ti?ti.prototype:t,Mi=Ri?Ri.valueOf:t,zs=Ri?Ri.toString:t;function U(o){if(On(o)&&!wt(o)&&!(o instanceof St)){if(o instanceof $r)return o;if(Kt.call(o,"__wrapped__"))return Ff(o)}return new $r(o)}var Bi=function(){function o(){}return function(d){if(!yn(d))return{};if(Hu)return Hu(d);o.prototype=d;var b=new o;return o.prototype=t,b}}();function ks(){}function $r(o,d){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}U.templateSettings={escape:cn,evaluate:Pn,interpolate:Dn,variable:"",imports:{_:U}},U.prototype=ks.prototype,U.prototype.constructor=U,$r.prototype=Bi(ks.prototype),$r.prototype.constructor=$r;function St(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function ig(){var o=new St(this.__wrapped__);return o.__actions__=Sr(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Sr(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Sr(this.__views__),o}function Sl(){if(this.__filtered__){var o=new St(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function bf(){var o=this.__wrapped__.value(),d=this.__dir__,b=wt(o),A=d<0,N=b?o.length:0,q=pu(0,N,this.__views__),J=q.start,te=q.end,oe=te-J,Be=A?te:J-1,_e=this.__iteratees__,ke=_e.length,Ye=0,je=yt(oe,this.__takeCount__);if(!b||!A&&N==oe&&je==oe)return Bf(o,this.__actions__);var ht=[];e:for(;oe--&&Ye<je;){Be+=d;for(var Bt=-1,gt=o[Be];++Bt<ke;){var Ut=_e[Bt],Ft=Ut.iteratee,Ka=Ut.type,oa=Ft(gt);if(Ka==ee)gt=oa;else if(!oa){if(Ka==K)continue e;break e}}ht[Ye++]=gt}return ht}St.prototype=Bi(ks.prototype),St.prototype.constructor=St;function au(o){var d=-1,b=o==null?0:o.length;for(this.clear();++d<b;){var A=o[d];this.set(A[0],A[1])}}function sv(){this.__data__=Di?Di(null):{},this.size=0}function ov(o){var d=this.has(o)&&delete this.__data__[o];return this.size-=d?1:0,d}function xa(o){var d=this.__data__;if(Di){var b=d[o];return b===g?t:b}return Kt.call(d,o)?d[o]:t}function ui(o){var d=this.__data__;return Di?d[o]!==t:Kt.call(d,o)}function iu(o,d){var b=this.__data__;return this.size+=this.has(o)?0:1,b[o]=Di&&d===t?g:d,this}au.prototype.clear=sv,au.prototype.delete=ov,au.prototype.get=xa,au.prototype.has=ui,au.prototype.set=iu;function li(o){var d=-1,b=o==null?0:o.length;for(this.clear();++d<b;){var A=o[d];this.set(A[0],A[1])}}function uu(){this.__data__=[],this.size=0}function Oi(o){var d=this.__data__,b=Ku(d,o);if(b<0)return!1;var A=d.length-1;return b==A?d.pop():wr.call(d,b,1),--this.size,!0}function Zn(o){var d=this.__data__,b=Ku(d,o);return b<0?t:d[b][1]}function wf(o){return Ku(this.__data__,o)>-1}function Vp(o,d){var b=this.__data__,A=Ku(b,o);return A<0?(++this.size,b.push([o,d])):b[A][1]=d,this}li.prototype.clear=uu,li.prototype.delete=Oi,li.prototype.get=Zn,li.prototype.has=wf,li.prototype.set=Vp;function _i(o){var d=-1,b=o==null?0:o.length;for(this.clear();++d<b;){var A=o[d];this.set(A[0],A[1])}}function Yp(){this.size=0,this.__data__={hash:new au,map:new(El||li),string:new au}}function Wn(o){var d=Fl(this,o).delete(o);return this.size-=d?1:0,d}function fv(o){return Fl(this,o).get(o)}function Is(o){return Fl(this,o).has(o)}function Us(o,d){var b=Fl(this,o),A=b.size;return b.set(o,d),this.size+=b.size==A?0:1,this}_i.prototype.clear=Yp,_i.prototype.delete=Wn,_i.prototype.get=fv,_i.prototype.has=Is,_i.prototype.set=Us;function Ni(o){var d=-1,b=o==null?0:o.length;for(this.__data__=new _i;++d<b;)this.add(o[d])}function xl(o){return this.__data__.set(o,g),this}function Tl(o){return this.__data__.has(o)}Ni.prototype.add=Ni.prototype.push=xl,Ni.prototype.has=Tl;function za(o){var d=this.__data__=new li(o);this.size=d.size}function ug(){this.__data__=new li,this.size=0}function Xp(o){var d=this.__data__,b=d.delete(o);return this.size=d.size,b}function lg(o){return this.__data__.get(o)}function Xu(o){return this.__data__.has(o)}function cv(o,d){var b=this.__data__;if(b instanceof li){var A=b.__data__;if(!El||A.length<u-1)return A.push([o,d]),this.size=++b.size,this;b=this.__data__=new _i(A)}return b.set(o,d),this.size=b.size,this}za.prototype.clear=ug,za.prototype.delete=Xp,za.prototype.get=lg,za.prototype.has=Xu,za.prototype.set=cv;function Ps(o,d){var b=wt(o),A=!b&&Su(o),N=!b&&!A&&xu(o),q=!b&&!A&&!N&&Xa(o),J=b||A||N||q,te=J?eu(o.length,jh):[],oe=te.length;for(var Be in o)(d||Kt.call(o,Be))&&!(J&&(Be=="length"||N&&(Be=="offset"||Be=="parent")||q&&(Be=="buffer"||Be=="byteLength"||Be=="byteOffset")||Ga(Be,oe)))&&te.push(Be);return te}function vv(o){var d=o.length;return d?o[Mf(0,d-1)]:t}function lu(o,d){return to(Sr(o),Zu(d,0,o.length))}function Dt(o){return to(Sr(o))}function Zt(o,d,b){(b!==t&&!Aa(o[d],b)||b===t&&!(d in o))&&Jr(o,d,b)}function mn(o,d,b){var A=o[d];(!(Kt.call(o,d)&&Aa(A,b))||b===t&&!(d in o))&&Jr(o,d,b)}function Ku(o,d){for(var b=o.length;b--;)if(Aa(o[b][0],d))return b;return-1}function Cl(o,d,b,A){return fu(o,function(N,q,J){d(A,N,b(N),J)}),A}function su(o,d){return o&&Ia(d,$n(d),o)}function Ef(o,d){return o&&Ia(d,Cr(d),o)}function Jr(o,d,b){d=="__proto__"&&qu?qu(o,d,{configurable:!0,enumerable:!0,value:b,writable:!0}):o[d]=b}function ou(o,d){for(var b=-1,A=d.length,N=Ee(A),q=o==null;++b<A;)N[b]=q?t:es(o,d[b]);return N}function Zu(o,d,b){return o===o&&(b!==t&&(o=o<=b?o:b),d!==t&&(o=o>=d?o:d)),o}function Gt(o,d,b,A,N,q){var J,te=d&p,oe=d&w,Be=d&x;if(b&&(J=N?b(o,A,N,q):b(o)),J!==t)return J;if(!yn(o))return o;var _e=wt(o);if(_e){if(J=Ju(o),!te)return Sr(o,J)}else{var ke=qn(o),Ye=ke==Ne||ke==Pe;if(xu(o))return Ov(o,te);if(ke==xt||ke==we||Ye&&!N){if(J=oe||Ye?{}:kr(o),!te)return oe?Zs(o,Ef(J,o)):Tg(o,su(J,o))}else{if(!Jt[ke])return N?o:{};J=Ag(o,ke,te)}}q||(q=new za);var je=q.get(o);if(je)return je;q.set(o,J),mi(o)?o.forEach(function(gt){J.add(Gt(gt,d,b,gt,o,q))}):fm(o)&&o.forEach(function(gt,Ut){J.set(Ut,Gt(gt,d,b,Ut,o,q))});var ht=Be?oe?$s:ci:oe?Cr:$n,Bt=_e?t:ht(o);return ma(Bt||o,function(gt,Ut){Bt&&(Ut=gt,gt=o[Ut]),mn(J,Ut,Gt(gt,d,b,Ut,o,q))}),J}function dv(o){var d=$n(o);return function(b){return Sf(b,o,d)}}function Sf(o,d,b){var A=b.length;if(o==null)return!A;for(o=tn(o);A--;){var N=b[A],q=d[N],J=o[N];if(J===t&&!(N in o)||!q(J))return!1}return!0}function hv(o,d,b){if(typeof o!="function")throw new Qr(f);return dr(function(){o.apply(t,b)},d)}function Al(o,d,b,A){var N=-1,q=rf,J=!0,te=o.length,oe=[],Be=d.length;if(!te)return oe;b&&(d=gn(d,Zr(b))),A?(q=Qc,J=!1):d.length>=u&&(q=ml,J=!1,d=new Ni(d));e:for(;++N<te;){var _e=o[N],ke=b==null?_e:b(_e);if(_e=A||_e!==0?_e:0,J&&ke===ke){for(var Ye=Be;Ye--;)if(d[Ye]===ke)continue e;oe.push(_e)}else q(d,ke,A)||oe.push(_e)}return oe}var fu=zv(Ta),xf=zv(ka,!0);function gv(o,d){var b=!0;return fu(o,function(A,N,q){return b=!!d(A,N,q),b}),b}function Dl(o,d,b){for(var A=-1,N=o.length;++A<N;){var q=o[A],J=d(q);if(J!=null&&(te===t?J===J&&!la(J):b(J,te)))var te=J,oe=q}return oe}function Lr(o,d,b,A){var N=o.length;for(b=Ct(b),b<0&&(b=-b>N?0:N+b),A=A===t||A>N?N:Ct(A),A<0&&(A+=N),A=b>A?0:Rd(A);b<A;)o[b++]=d;return o}function kn(o,d){var b=[];return fu(o,function(A,N,q){d(A,N,q)&&b.push(A)}),b}function Fn(o,d,b,A,N){var q=-1,J=o.length;for(b||(b=Rg),N||(N=[]);++q<J;){var te=o[q];d>0&&b(te)?d>1?Fn(te,d-1,b,A,N):xi(N,te):A||(N[N.length]=te)}return N}var Wu=kv(),Hs=kv(!0);function Ta(o,d){return o&&Wu(o,d,$n)}function ka(o,d){return o&&Hs(o,d,$n)}function Qu(o,d){return ja(d,function(b){return Vi(o[b])})}function Li(o,d){d=ki(d,o);for(var b=0,A=d.length;o!=null&&b<A;)o=o[xr(d[b++])];return b&&b==A?o:t}function Tf(o,d,b){var A=d(o);return wt(o)?A:xi(A,b(o))}function cr(o){return o==null?o===t?st:Lt:ri&&ri in tn(o)?eo(o):ta(o)}function Cf(o,d){return o>d}function sg(o,d){return o!=null&&Kt.call(o,d)}function og(o,d){return o!=null&&d in tn(o)}function fg(o,d,b){return o>=yt(d,b)&&o<kt(d,b)}function Af(o,d,b){for(var A=b?Qc:rf,N=o[0].length,q=o.length,J=q,te=Ee(q),oe=1/0,Be=[];J--;){var _e=o[J];J&&d&&(_e=gn(_e,Zr(d))),oe=yt(_e.length,oe),te[J]=!b&&(d||N>=120&&_e.length>=120)?new Ni(J&&_e):t}_e=o[0];var ke=-1,Ye=te[0];e:for(;++ke<N&&Be.length<oe;){var je=_e[ke],ht=d?d(je):je;if(je=b||je!==0?je:0,!(Ye?ml(Ye,ht):A(Be,ht,b))){for(J=q;--J;){var Bt=te[J];if(!(Bt?ml(Bt,ht):A(o[J],ht,b)))continue e}Ye&&Ye.push(ht),Be.push(je)}}return Be}function mv(o,d,b,A){return Ta(o,function(N,q,J){d(A,b(N),q,J)}),A}function Rl(o,d,b){d=ki(d,o),o=Vv(o,d);var A=o==null?o:o[xr(Tr(d))];return A==null?t:Nr(A,o,b)}function cg(o){return On(o)&&cr(o)==we}function vg(o){return On(o)&&cr(o)==G}function dg(o){return On(o)&&cr(o)==ve}function Ml(o,d,b,A,N){return o===d?!0:o==null||d==null||!On(o)&&!On(d)?o!==o&&d!==d:pv(o,d,b,A,Ml,N)}function pv(o,d,b,A,N,q){var J=wt(o),te=wt(d),oe=J?me:qn(o),Be=te?me:qn(d);oe=oe==we?xt:oe,Be=Be==we?xt:Be;var _e=oe==xt,ke=Be==xt,Ye=oe==Be;if(Ye&&xu(o)){if(!xu(d))return!1;J=!0,_e=!1}if(Ye&&!_e)return q||(q=new za),J||Xa(o)?mu(o,d,b,A,N,q):vr(o,d,oe,b,A,N,q);if(!(b&S)){var je=_e&&Kt.call(o,"__wrapped__"),ht=ke&&Kt.call(d,"__wrapped__");if(je||ht){var Bt=je?o.value():o,gt=ht?d.value():d;return q||(q=new za),N(Bt,gt,b,A,q)}}return Ye?(q||(q=new za),Uf(o,d,b,A,N,q)):!1}function hg(o){return On(o)&&qn(o)==Fe}function Df(o,d,b,A){var N=b.length,q=N,J=!A;if(o==null)return!q;for(o=tn(o);N--;){var te=b[N];if(J&&te[2]?te[1]!==o[te[0]]:!(te[0]in o))return!1}for(;++N<q;){te=b[N];var oe=te[0],Be=o[oe],_e=te[1];if(J&&te[2]){if(Be===t&&!(oe in o))return!1}else{var ke=new za;if(A)var Ye=A(Be,_e,oe,o,d,ke);if(!(Ye===t?Ml(_e,Be,S|D,A,ke):Ye))return!1}}return!0}function yv(o){if(!yn(o)||qv(o))return!1;var d=Vi(o)?hf:Lu;return d.test(Ir(o))}function gg(o){return On(o)&&cr(o)==et}function mg(o){return On(o)&&qn(o)==$e}function Kp(o){return On(o)&&Jf(o.length)&&!!en[cr(o)]}function bv(o){return typeof o=="function"?o:o==null?Vt:typeof o=="object"?wt(o)?Rf(o[0],o[1]):wv(o):Q0(o)}function cu(o){if(!Mn(o))return Er(o);var d=[];for(var b in tn(o))Kt.call(o,b)&&b!="constructor"&&d.push(b);return d}function pg(o){if(!yn(o))return Gn(o);var d=Mn(o),b=[];for(var A in o)A=="constructor"&&(d||!Kt.call(o,A))||b.push(A);return b}function Bl(o,d){return o<d}function Fs(o,d){var b=-1,A=Tt(o)?Ee(o.length):[];return fu(o,function(N,q,J){A[++b]=d(N,q,J)}),A}function wv(o){var d=js(o);return d.length==1&&d[0][2]?Bg(d[0][0],d[0][1]):function(b){return b===o||Df(b,o,d)}}function Rf(o,d){return ql(o)&&Gv(d)?Bg(xr(o),d):function(b){var A=es(b,o);return A===t&&A===d?_d(b,o):Ml(d,A,S|D)}}function qs(o,d,b,A,N){o!==d&&Wu(d,function(q,J){if(N||(N=new za),yn(q))yg(o,d,J,b,qs,A,N);else{var te=A?A(Yv(o,J),q,J+"",o,d,N):t;te===t&&(te=q),Zt(o,J,te)}},Cr)}function yg(o,d,b,A,N,q,J){var te=Yv(o,b),oe=Yv(d,b),Be=J.get(oe);if(Be){Zt(o,b,Be);return}var _e=q?q(te,oe,b+"",o,d,J):t,ke=_e===t;if(ke){var Ye=wt(oe),je=!Ye&&xu(oe),ht=!Ye&&!je&&Xa(oe);_e=oe,Ye||je||ht?wt(te)?_e=te:Tn(te)?_e=Sr(te):je?(ke=!1,_e=Ov(oe,!0)):ht?(ke=!1,_e=_v(oe,!0)):_e=[]:gr(oe)||Su(oe)?(_e=te,Su(te)?_e=$l(te):(!yn(te)||Vi(te))&&(_e=kr(oe))):ke=!1}ke&&(J.set(oe,_e),N(_e,oe,A,q,J),J.delete(oe)),Zt(o,b,_e)}function Ev(o,d){var b=o.length;if(b)return d+=d<0?b:0,Ga(d,b)?o[d]:t}function Sv(o,d,b){d.length?d=gn(d,function(q){return wt(q)?function(J){return Li(J,q.length===1?q[0]:q)}:q}):d=[Vt];var A=-1;d=gn(d,Zr(it()));var N=Fs(o,function(q,J,te){var oe=gn(d,function(Be){return Be(q)});return{criteria:oe,index:++A,value:q}});return Vh(N,function(q,J){return tr(q,J,b)})}function xv(o,d){return Tv(o,d,function(b,A){return _d(o,A)})}function Tv(o,d,b){for(var A=-1,N=d.length,q={};++A<N;){var J=d[A],te=Li(o,J);b(te,J)&&Ol(q,ki(J,o),te)}return q}function bg(o){return function(d){return Li(d,o)}}function Gs(o,d,b,A){var N=A?jc:hl,q=-1,J=d.length,te=o;for(o===d&&(d=Sr(d)),b&&(te=gn(o,Zr(b)));++q<J;)for(var oe=0,Be=d[q],_e=b?b(Be):Be;(oe=N(te,_e,oe,A))>-1;)te!==o&&wr.call(te,oe,1),wr.call(o,oe,1);return o}function Cv(o,d){for(var b=o?d.length:0,A=b-1;b--;){var N=d[b];if(b==A||N!==q){var q=N;Ga(N)?wr.call(o,N,1):si(o,N)}}return o}function Mf(o,d){return o+Sa(mf()*(d-o+1))}function Zp(o,d,b,A){for(var N=-1,q=kt(Ea((d-o)/(b||1)),0),J=Ee(q);q--;)J[A?q:++N]=o,o+=b;return J}function Vs(o,d){var b="";if(!o||d<1||d>j)return b;do d%2&&(b+=o),d=Sa(d/2),d&&(o+=o);while(d);return b}function At(o,d){return na(vi(o,d,Vt),o+"")}function wg(o){return vv(sa(o))}function Av(o,d){var b=sa(o);return to(b,Zu(d,0,b.length))}function Ol(o,d,b,A){if(!yn(o))return o;d=ki(d,o);for(var N=-1,q=d.length,J=q-1,te=o;te!=null&&++N<q;){var oe=xr(d[N]),Be=b;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return o;if(N!=J){var _e=te[oe];Be=A?A(_e,oe,te):t,Be===t&&(Be=yn(_e)?_e:Ga(d[N+1])?[]:{})}mn(te,oe,Be),te=te[oe]}return o}var Dv=Ns?function(o,d){return Ns.set(o,d),o}:Vt,Wp=qu?function(o,d){return qu(o,"toString",{configurable:!0,enumerable:!1,value:We(d),writable:!0})}:Vt;function Qp(o){return to(sa(o))}function jr(o,d,b){var A=-1,N=o.length;d<0&&(d=-d>N?0:N+d),b=b>N?N:b,b<0&&(b+=N),N=d>b?0:b-d>>>0,d>>>=0;for(var q=Ee(N);++A<N;)q[A]=o[A+d];return q}function Ys(o,d){var b;return fu(o,function(A,N,q){return b=d(A,N,q),!b}),!!b}function _l(o,d,b){var A=0,N=o==null?A:o.length;if(typeof d=="number"&&d===d&&N<=de){for(;A<N;){var q=A+N>>>1,J=o[q];J!==null&&!la(J)&&(b?J<=d:J<d)?A=q+1:N=q}return N}return Nl(o,d,Vt,b)}function Nl(o,d,b,A){var N=0,q=o==null?0:o.length;if(q===0)return 0;d=b(d);for(var J=d!==d,te=d===null,oe=la(d),Be=d===t;N<q;){var _e=Sa((N+q)/2),ke=b(o[_e]),Ye=ke!==t,je=ke===null,ht=ke===ke,Bt=la(ke);if(J)var gt=A||ht;else Be?gt=ht&&(A||Ye):te?gt=ht&&Ye&&(A||!je):oe?gt=ht&&Ye&&!je&&(A||!Bt):je||Bt?gt=!1:gt=A?ke<=d:ke<d;gt?N=_e+1:q=_e}return yt(q,ne)}function Rv(o,d){for(var b=-1,A=o.length,N=0,q=[];++b<A;){var J=o[b],te=d?d(J):J;if(!b||!Aa(te,oe)){var oe=te;q[N++]=J===0?0:J}}return q}function Mv(o){return typeof o=="number"?o:la(o)?P:+o}function Rn(o){if(typeof o=="string")return o;if(wt(o))return gn(o,Rn)+"";if(la(o))return zs?zs.call(o):"";var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}function zr(o,d,b){var A=-1,N=rf,q=o.length,J=!0,te=[],oe=te;if(b)J=!1,N=Qc;else if(q>=u){var Be=d?null:gu(o);if(Be)return vf(Be);J=!1,N=ml,oe=new Ni}else oe=d?[]:te;e:for(;++A<q;){var _e=o[A],ke=d?d(_e):_e;if(_e=b||_e!==0?_e:0,J&&ke===ke){for(var Ye=oe.length;Ye--;)if(oe[Ye]===ke)continue e;d&&oe.push(ke),te.push(_e)}else N(oe,ke,b)||(oe!==te&&oe.push(ke),te.push(_e))}return te}function si(o,d){return d=ki(d,o),o=Vv(o,d),o==null||delete o[xr(Tr(d))]}function vu(o,d,b,A){return Ol(o,d,b(Li(o,d)),A)}function Ll(o,d,b,A){for(var N=o.length,q=A?N:-1;(A?q--:++q<N)&&d(o[q],q,o););return b?jr(o,A?0:q,A?q+1:N):jr(o,A?q+1:0,A?N:q)}function Bf(o,d){var b=o;return b instanceof St&&(b=b.value()),$c(d,function(A,N){return N.func.apply(N.thisArg,xi([A],N.args))},b)}function Of(o,d,b){var A=o.length;if(A<2)return A?zr(o[0]):[];for(var N=-1,q=Ee(A);++N<A;)for(var J=o[N],te=-1;++te<A;)te!=N&&(q[N]=Al(q[N]||J,o[te],d,b));return zr(Fn(q,1),d,b)}function Bv(o,d,b){for(var A=-1,N=o.length,q=d.length,J={};++A<N;){var te=A<q?d[A]:t;b(J,o[A],te)}return J}function zi(o){return Tn(o)?o:[]}function zl(o){return typeof o=="function"?o:Vt}function ki(o,d){return wt(o)?o:ql(o,d)?[o]:di(Wt(o))}var Eg=At;function Ii(o,d,b){var A=o.length;return b=b===t?A:b,!d&&b>=A?o:jr(o,d,b)}var Xs=ba||function(o){return Ln.clearTimeout(o)};function Ov(o,d){if(d)return o.slice();var b=o.length,A=iv?iv(b):new o.constructor(b);return o.copy(A),A}function Ks(o){var d=new o.constructor(o.byteLength);return new Na(d).set(new Na(o)),d}function Sg(o,d){var b=d?Ks(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.byteLength)}function xg(o){var d=new o.constructor(o.source,qo.exec(o));return d.lastIndex=o.lastIndex,d}function $p(o){return Mi?tn(Mi.call(o)):{}}function _v(o,d){var b=d?Ks(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.length)}function Qn(o,d){if(o!==d){var b=o!==t,A=o===null,N=o===o,q=la(o),J=d!==t,te=d===null,oe=d===d,Be=la(d);if(!te&&!Be&&!q&&o>d||q&&J&&oe&&!te&&!Be||A&&J&&oe||!b&&oe||!N)return 1;if(!A&&!q&&!Be&&o<d||Be&&b&&N&&!A&&!q||te&&b&&N||!J&&N||!oe)return-1}return 0}function tr(o,d,b){for(var A=-1,N=o.criteria,q=d.criteria,J=N.length,te=b.length;++A<J;){var oe=Qn(N[A],q[A]);if(oe){if(A>=te)return oe;var Be=b[A];return oe*(Be=="desc"?-1:1)}}return o.index-d.index}function Nv(o,d,b,A){for(var N=-1,q=o.length,J=b.length,te=-1,oe=d.length,Be=kt(q-J,0),_e=Ee(oe+Be),ke=!A;++te<oe;)_e[te]=d[te];for(;++N<J;)(ke||N<q)&&(_e[b[N]]=o[N]);for(;Be--;)_e[te++]=o[N++];return _e}function Lv(o,d,b,A){for(var N=-1,q=o.length,J=-1,te=b.length,oe=-1,Be=d.length,_e=kt(q-te,0),ke=Ee(_e+Be),Ye=!A;++N<_e;)ke[N]=o[N];for(var je=N;++oe<Be;)ke[je+oe]=d[oe];for(;++J<te;)(Ye||N<q)&&(ke[je+b[J]]=o[N++]);return ke}function Sr(o,d){var b=-1,A=o.length;for(d||(d=Ee(A));++b<A;)d[b]=o[b];return d}function Ia(o,d,b,A){var N=!b;b||(b={});for(var q=-1,J=d.length;++q<J;){var te=d[q],oe=A?A(b[te],o[te],te,b,o):t;oe===t&&(oe=o[te]),N?Jr(b,te,oe):mn(b,te,oe)}return b}function Tg(o,d){return Ia(o,Pf(o),d)}function Zs(o,d){return Ia(o,Hv(o),d)}function kl(o,d){return function(b,A){var N=wt(b)?Op:Cl,q=d?d():{};return N(b,o,it(A,2),q)}}function $u(o){return At(function(d,b){var A=-1,N=b.length,q=N>1?b[N-1]:t,J=N>2?b[2]:t;for(q=o.length>3&&typeof q=="function"?(N--,q):t,J&&nr(b[0],b[1],J)&&(q=N<3?t:q,N=1),d=tn(d);++A<N;){var te=b[A];te&&o(d,te,A,q)}return d})}function zv(o,d){return function(b,A){if(b==null)return b;if(!Tt(b))return o(b,A);for(var N=b.length,q=d?N:-1,J=tn(b);(d?q--:++q<N)&&A(J[q],q,J)!==!1;);return b}}function kv(o){return function(d,b,A){for(var N=-1,q=tn(d),J=A(d),te=J.length;te--;){var oe=J[o?te:++N];if(b(q[oe],oe,q)===!1)break}return d}}function Iv(o,d,b){var A=d&T,N=Il(o);function q(){var J=this&&this!==Ln&&this instanceof q?N:o;return J.apply(A?b:this,arguments)}return q}function _f(o){return function(d){d=Wt(d);var b=tu(d)?pa(d):t,A=b?b[0]:d.charAt(0),N=b?Ii(b,1).join(""):d.slice(1);return A[o]()+N}}function du(o){return function(d){return $c(Cn(kd(d).replace(_h,"")),o,"")}}function Il(o){return function(){var d=arguments;switch(d.length){case 0:return new o;case 1:return new o(d[0]);case 2:return new o(d[0],d[1]);case 3:return new o(d[0],d[1],d[2]);case 4:return new o(d[0],d[1],d[2],d[3]);case 5:return new o(d[0],d[1],d[2],d[3],d[4]);case 6:return new o(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new o(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var b=Bi(o.prototype),A=o.apply(b,d);return yn(A)?A:b}}function Uv(o,d,b){var A=Il(o);function N(){for(var q=arguments.length,J=Ee(q),te=q,oe=ea(N);te--;)J[te]=arguments[te];var Be=q<3&&J[0]!==oe&&J[q-1]!==oe?[]:nu(J,oe);if(q-=Be.length,q<b)return hu(o,d,Ws,N.placeholder,t,J,Be,t,t,b-q);var _e=this&&this!==Ln&&this instanceof N?A:o;return Nr(_e,this,J)}return N}function Nf(o){return function(d,b,A){var N=tn(d);if(!Tt(d)){var q=it(b,3);d=$n(d),b=function(te){return q(N[te],te,N)}}var J=o(d,b,A);return J>-1?N[q?d[J]:J]:t}}function Lf(o){return fi(function(d){var b=d.length,A=b,N=$r.prototype.thru;for(o&&d.reverse();A--;){var q=d[A];if(typeof q!="function")throw new Qr(f);if(N&&!J&&Fa(q)=="wrapper")var J=new $r([],!0)}for(A=J?A:b;++A<b;){q=d[A];var te=Fa(q),oe=te=="wrapper"?Js(q):t;oe&&pn(oe[0])&&oe[1]==(O|M|k|I)&&!oe[4].length&&oe[9]==1?J=J[Fa(oe[0])].apply(J,oe[3]):J=q.length==1&&pn(q)?J[te]():J.thru(q)}return function(){var Be=arguments,_e=Be[0];if(J&&Be.length==1&&wt(_e))return J.plant(_e).value();for(var ke=0,Ye=b?d[ke].apply(this,Be):_e;++ke<b;)Ye=d[ke].call(this,Ye);return Ye}})}function Ws(o,d,b,A,N,q,J,te,oe,Be){var _e=d&O,ke=d&T,Ye=d&C,je=d&(M|_),ht=d&L,Bt=Ye?t:Il(o);function gt(){for(var Ut=arguments.length,Ft=Ee(Ut),Ka=Ut;Ka--;)Ft[Ka]=arguments[Ka];if(je)var oa=ea(gt),Za=Up(Ft,oa);if(A&&(Ft=Nv(Ft,A,N,je)),q&&(Ft=Lv(Ft,q,J,je)),Ut-=Za,je&&Ut<Be){var Jn=nu(Ft,oa);return hu(o,d,Ws,gt.placeholder,b,Ft,Jn,te,oe,Be-Ut)}var Ki=ke?b:this,il=Ye?Ki[o]:o;return Ut=Ft.length,te?Ft=Ng(Ft,te):ht&&Ut>1&&Ft.reverse(),_e&&oe<Ut&&(Ft.length=oe),this&&this!==Ln&&this instanceof gt&&(il=Bt||Il(il)),il.apply(Ki,Ft)}return gt}function zf(o,d){return function(b,A){return mv(b,o,d(A),{})}}function Qs(o,d){return function(b,A){var N;if(b===t&&A===t)return d;if(b!==t&&(N=b),A!==t){if(N===t)return A;typeof b=="string"||typeof A=="string"?(b=Rn(b),A=Rn(A)):(b=Mv(b),A=Mv(A)),N=o(b,A)}return N}}function Ua(o){return fi(function(d){return d=gn(d,Zr(it())),At(function(b){var A=this;return o(d,function(N){return Nr(N,A,b)})})})}function Ul(o,d){d=d===t?" ":Rn(d);var b=d.length;if(b<2)return b?Vs(d,o):d;var A=Vs(d,Ea(o/ei(d)));return tu(d)?Ii(pa(A),0,o).join(""):A.slice(0,o)}function Jp(o,d,b,A){var N=d&T,q=Il(o);function J(){for(var te=-1,oe=arguments.length,Be=-1,_e=A.length,ke=Ee(_e+oe),Ye=this&&this!==Ln&&this instanceof J?q:o;++Be<_e;)ke[Be]=A[Be];for(;oe--;)ke[Be++]=arguments[++te];return Nr(Ye,N?b:this,ke)}return J}function Pv(o){return function(d,b,A){return A&&typeof A!="number"&&nr(d,b,A)&&(b=A=t),d=Yi(d),b===t?(b=d,d=0):b=Yi(b),A=A===t?d<b?1:-1:Yi(A),Zp(d,b,A,o)}}function Pl(o){return function(d,b){return typeof d=="string"&&typeof b=="string"||(d=ar(d),b=ar(b)),o(d,b)}}function hu(o,d,b,A,N,q,J,te,oe,Be){var _e=d&M,ke=_e?J:t,Ye=_e?t:J,je=_e?q:t,ht=_e?t:q;d|=_e?k:z,d&=~(_e?z:k),d&R||(d&=-4);var Bt=[o,d,N,je,ke,ht,Ye,te,oe,Be],gt=b.apply(t,Bt);return pn(o)&&Hf(gt,Bt),gt.placeholder=A,Xv(gt,o,d)}function Pa(o){var d=zn[o];return function(b,A){if(b=ar(b),A=A==null?0:yt(Ct(A),292),A&&gf(b)){var N=(Wt(b)+"e").split("e"),q=d(N[0]+"e"+(+N[1]+A));return N=(Wt(q)+"e").split("e"),+(N[0]+"e"+(+N[1]-A))}return d(b)}}var gu=ii&&1/vf(new ii([,-0]))[1]==Q?function(o){return new ii(o)}:Ly;function oi(o){return function(d){var b=qn(d);return b==Fe?cf(d):b==$e?Pp(d):Ip(d,o(d))}}function Ha(o,d,b,A,N,q,J,te){var oe=d&C;if(!oe&&typeof o!="function")throw new Qr(f);var Be=A?A.length:0;if(Be||(d&=-97,A=N=t),J=J===t?J:kt(Ct(J),0),te=te===t?te:Ct(te),Be-=N?N.length:0,d&z){var _e=A,ke=N;A=N=t}var Ye=oe?t:Js(o),je=[o,d,b,A,N,_e,ke,q,J,te];if(Ye&&_g(je,Ye),o=je[0],d=je[1],b=je[2],A=je[3],N=je[4],te=je[9]=je[9]===t?oe?0:o.length:kt(je[9]-Be,0),!te&&d&(M|_)&&(d&=-25),!d||d==T)var ht=Iv(o,d,b);else d==M||d==_?ht=Uv(o,d,te):(d==k||d==(T|k))&&!N.length?ht=Jp(o,d,b,A):ht=Ws.apply(t,je);var Bt=Ye?Dv:Hf;return Xv(Bt(ht,je),o,d)}function kf(o,d,b,A){return o===t||Aa(o,bl[b])&&!Kt.call(A,b)?d:o}function Hl(o,d,b,A,N,q){return yn(o)&&yn(d)&&(q.set(d,o),qs(o,d,t,Hl,q),q.delete(d)),o}function If(o){return gr(o)?t:o}function mu(o,d,b,A,N,q){var J=b&S,te=o.length,oe=d.length;if(te!=oe&&!(J&&oe>te))return!1;var Be=q.get(o),_e=q.get(d);if(Be&&_e)return Be==d&&_e==o;var ke=-1,Ye=!0,je=b&D?new Ni:t;for(q.set(o,d),q.set(d,o);++ke<te;){var ht=o[ke],Bt=d[ke];if(A)var gt=J?A(Bt,ht,ke,d,o,q):A(ht,Bt,ke,o,d,q);if(gt!==t){if(gt)continue;Ye=!1;break}if(je){if(!Jc(d,function(Ut,Ft){if(!ml(je,Ft)&&(ht===Ut||N(ht,Ut,b,A,q)))return je.push(Ft)})){Ye=!1;break}}else if(!(ht===Bt||N(ht,Bt,b,A,q))){Ye=!1;break}}return q.delete(o),q.delete(d),Ye}function vr(o,d,b,A,N,q,J){switch(b){case fe:if(o.byteLength!=d.byteLength||o.byteOffset!=d.byteOffset)return!1;o=o.buffer,d=d.buffer;case G:return!(o.byteLength!=d.byteLength||!q(new Na(o),new Na(d)));case Se:case ve:case mt:return Aa(+o,+d);case be:return o.name==d.name&&o.message==d.message;case et:case tt:return o==d+"";case Fe:var te=cf;case $e:var oe=A&S;if(te||(te=vf),o.size!=d.size&&!oe)return!1;var Be=J.get(o);if(Be)return Be==d;A|=D,J.set(o,d);var _e=mu(te(o),te(d),A,N,q,J);return J.delete(o),_e;case lt:if(Mi)return Mi.call(o)==Mi.call(d)}return!1}function Uf(o,d,b,A,N,q){var J=b&S,te=ci(o),oe=te.length,Be=ci(d),_e=Be.length;if(oe!=_e&&!J)return!1;for(var ke=oe;ke--;){var Ye=te[ke];if(!(J?Ye in d:Kt.call(d,Ye)))return!1}var je=q.get(o),ht=q.get(d);if(je&&ht)return je==d&&ht==o;var Bt=!0;q.set(o,d),q.set(d,o);for(var gt=J;++ke<oe;){Ye=te[ke];var Ut=o[Ye],Ft=d[Ye];if(A)var Ka=J?A(Ft,Ut,Ye,d,o,q):A(Ut,Ft,Ye,o,d,q);if(!(Ka===t?Ut===Ft||N(Ut,Ft,b,A,q):Ka)){Bt=!1;break}gt||(gt=Ye=="constructor")}if(Bt&&!gt){var oa=o.constructor,Za=d.constructor;oa!=Za&&"constructor"in o&&"constructor"in d&&!(typeof oa=="function"&&oa instanceof oa&&typeof Za=="function"&&Za instanceof Za)&&(Bt=!1)}return q.delete(o),q.delete(d),Bt}function fi(o){return na(vi(o,t,aa),o+"")}function ci(o){return Tf(o,$n,Pf)}function $s(o){return Tf(o,Cr,Hv)}var Js=Ns?function(o){return Ns.get(o)}:Ly;function Fa(o){for(var d=o.name+"",b=ru[d],A=Kt.call(ru,d)?b.length:0;A--;){var N=b[A],q=N.func;if(q==null||q==o)return N.name}return d}function ea(o){var d=Kt.call(U,"placeholder")?U:o;return d.placeholder}function it(){var o=U.iteratee||Ht;return o=o===Ht?bv:o,arguments.length?o(arguments[0],arguments[1]):o}function Fl(o,d){var b=o.__data__;return Ui(d)?b[typeof d=="string"?"string":"hash"]:b.map}function js(o){for(var d=$n(o),b=d.length;b--;){var A=d[b],N=o[A];d[b]=[A,N,Gv(N)]}return d}function qa(o,d){var b=tv(o,d);return yv(b)?b:t}function eo(o){var d=Kt.call(o,ri),b=o[ri];try{o[ri]=t;var A=!0}catch{}var N=br.call(o);return A&&(d?o[ri]=b:delete o[ri]),N}var Pf=Ci?function(o){return o==null?[]:(o=tn(o),ja(Ci(o),function(d){return uv.call(o,d)}))}:zy,Hv=Ci?function(o){for(var d=[];o;)xi(d,Pf(o)),o=Pu(o);return d}:zy,qn=cr;(pf&&qn(new pf(new ArrayBuffer(1)))!=fe||El&&qn(new El)!=Fe||Yu&&qn(Yu.resolve())!=Xe||ii&&qn(new ii)!=$e||Ai&&qn(new Ai)!=Et)&&(qn=function(o){var d=cr(o),b=d==xt?o.constructor:t,A=b?Ir(b):"";if(A)switch(A){case ng:return fe;case yf:return Fe;case rg:return Xe;case Ls:return $e;case ag:return Et}return d});function pu(o,d,b){for(var A=-1,N=b.length;++A<N;){var q=b[A],J=q.size;switch(q.type){case"drop":o+=J;break;case"dropRight":d-=J;break;case"take":d=yt(d,o+J);break;case"takeRight":o=kt(o,d-J);break}}return{start:o,end:d}}function Cg(o){var d=o.match(Hn);return d?d[1].split(En):[]}function Fv(o,d,b){d=ki(d,o);for(var A=-1,N=d.length,q=!1;++A<N;){var J=xr(d[A]);if(!(q=o!=null&&b(o,J)))break;o=o[J]}return q||++A!=N?q:(N=o==null?0:o.length,!!N&&Jf(N)&&Ga(J,N)&&(wt(o)||Su(o)))}function Ju(o){var d=o.length,b=new o.constructor(d);return d&&typeof o[0]=="string"&&Kt.call(o,"index")&&(b.index=o.index,b.input=o.input),b}function kr(o){return typeof o.constructor=="function"&&!Mn(o)?Bi(Pu(o)):{}}function Ag(o,d,b){var A=o.constructor;switch(d){case G:return Ks(o);case Se:case ve:return new A(+o);case fe:return Sg(o,b);case xe:case he:case pe:case He:case Ae:case Ue:case nt:case at:case Ve:return _v(o,b);case Fe:return new A;case mt:case tt:return new A(o);case et:return xg(o);case $e:return new A;case lt:return $p(o)}}function Dg(o,d){var b=d.length;if(!b)return o;var A=b-1;return d[A]=(b>1?"& ":"")+d[A],d=d.join(b>2?", ":" "),o.replace(Xn,`{
/* [wrapped with `+d+`] */
`)}function Rg(o){return wt(o)||Su(o)||!!(Fu&&o&&o[Fu])}function Ga(o,d){var b=typeof o;return d=d??j,!!d&&(b=="number"||b!="symbol"&&Si.test(o))&&o>-1&&o%1==0&&o<d}function nr(o,d,b){if(!yn(b))return!1;var A=typeof d;return(A=="number"?Tt(b)&&Ga(d,b.length):A=="string"&&d in b)?Aa(b[d],o):!1}function ql(o,d){if(wt(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||la(o)?!0:Yn.test(o)||!er.test(o)||d!=null&&o in tn(d)}function Ui(o){var d=typeof o;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?o!=="__proto__":o===null}function pn(o){var d=Fa(o),b=U[d];if(typeof b!="function"||!(d in St.prototype))return!1;if(o===b)return!0;var A=Js(b);return!!A&&o===A[0]}function qv(o){return!!ya&&ya in o}var Mg=df?Vi:ky;function Mn(o){var d=o&&o.constructor,b=typeof d=="function"&&d.prototype||bl;return o===b}function Gv(o){return o===o&&!yn(o)}function Bg(o,d){return function(b){return b==null?!1:b[o]===d&&(d!==t||o in tn(b))}}function Og(o){var d=vo(o,function(A){return b.size===v&&b.clear(),A}),b=d.cache;return d}function _g(o,d){var b=o[1],A=d[1],N=b|A,q=N<(T|C|O),J=A==O&&b==M||A==O&&b==I&&o[7].length<=d[8]||A==(O|I)&&d[7].length<=d[8]&&b==M;if(!(q||J))return o;A&T&&(o[2]=d[2],N|=b&T?0:R);var te=d[3];if(te){var oe=o[3];o[3]=oe?Nv(oe,te,d[4]):te,o[4]=oe?nu(o[3],m):d[4]}return te=d[5],te&&(oe=o[5],o[5]=oe?Lv(oe,te,d[6]):te,o[6]=oe?nu(o[5],m):d[6]),te=d[7],te&&(o[7]=te),A&O&&(o[8]=o[8]==null?d[8]:yt(o[8],d[8])),o[9]==null&&(o[9]=d[9]),o[0]=d[0],o[1]=N,o}function Gn(o){var d=[];if(o!=null)for(var b in tn(o))d.push(b);return d}function ta(o){return br.call(o)}function vi(o,d,b){return d=kt(d===t?o.length-1:d,0),function(){for(var A=arguments,N=-1,q=kt(A.length-d,0),J=Ee(q);++N<q;)J[N]=A[d+N];N=-1;for(var te=Ee(d+1);++N<d;)te[N]=A[N];return te[d]=b(J),Nr(o,this,te)}}function Vv(o,d){return d.length<2?o:Li(o,jr(d,0,-1))}function Ng(o,d){for(var b=o.length,A=yt(d.length,b),N=Sr(o);A--;){var q=d[A];o[A]=Ga(q,b)?N[q]:t}return o}function Yv(o,d){if(!(d==="constructor"&&typeof o[d]=="function")&&d!="__proto__")return o[d]}var Hf=ra(Dv),dr=Gu||function(o,d){return Ln.setTimeout(o,d)},na=ra(Wp);function Xv(o,d,b){var A=d+"";return na(o,Dg(A,Kv(Cg(A),b)))}function ra(o){var d=0,b=0;return function(){var A=La(),N=W-(A-b);if(b=A,N>0){if(++d>=V)return arguments[0]}else d=0;return o.apply(t,arguments)}}function to(o,d){var b=-1,A=o.length,N=A-1;for(d=d===t?A:d;++b<d;){var q=Mf(b,N),J=o[q];o[q]=o[b],o[b]=J}return o.length=d,o}var di=Og(function(o){var d=[];return o.charCodeAt(0)===46&&d.push(""),o.replace(or,function(b,A,N,q){d.push(N?q.replace(Ei,"$1"):A||b)}),d});function xr(o){if(typeof o=="string"||la(o))return o;var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}function Ir(o){if(o!=null){try{return _s.call(o)}catch{}try{return o+""}catch{}}return""}function Kv(o,d){return ma(se,function(b){var A="_."+b[0];d&b[1]&&!rf(o,A)&&o.push(A)}),o.sort()}function Ff(o){if(o instanceof St)return o.clone();var d=new $r(o.__wrapped__,o.__chain__);return d.__actions__=Sr(o.__actions__),d.__index__=o.__index__,d.__values__=o.__values__,d}function yu(o,d,b){(b?nr(o,d,b):d===t)?d=1:d=kt(Ct(d),0);var A=o==null?0:o.length;if(!A||d<1)return[];for(var N=0,q=0,J=Ee(Ea(A/d));N<A;)J[q++]=jr(o,N,N+=d);return J}function Lg(o){for(var d=-1,b=o==null?0:o.length,A=0,N=[];++d<b;){var q=o[d];q&&(N[A++]=q)}return N}function Gl(){var o=arguments.length;if(!o)return[];for(var d=Ee(o-1),b=arguments[0],A=o;A--;)d[A-1]=arguments[A];return xi(wt(b)?Sr(b):[b],Fn(d,1))}var no=At(function(o,d){return Tn(o)?Al(o,Fn(d,1,Tn,!0)):[]}),ro=At(function(o,d){var b=Tr(d);return Tn(b)&&(b=t),Tn(o)?Al(o,Fn(d,1,Tn,!0),it(b,2)):[]}),Vl=At(function(o,d){var b=Tr(d);return Tn(b)&&(b=t),Tn(o)?Al(o,Fn(d,1,Tn,!0),t,b):[]});function zg(o,d,b){var A=o==null?0:o.length;return A?(d=b||d===t?1:Ct(d),jr(o,d<0?0:d,A)):[]}function kg(o,d,b){var A=o==null?0:o.length;return A?(d=b||d===t?1:Ct(d),d=A-d,jr(o,0,d<0?0:d)):[]}function ao(o,d){return o&&o.length?Ll(o,it(d,3),!0,!0):[]}function Ig(o,d){return o&&o.length?Ll(o,it(d,3),!0):[]}function qf(o,d,b,A){var N=o==null?0:o.length;return N?(b&&typeof b!="number"&&nr(o,d,b)&&(b=0,A=N),Lr(o,d,b,A)):[]}function Zv(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var N=b==null?0:Ct(b);return N<0&&(N=kt(A+N,0)),af(o,it(d,3),N)}function Ug(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var N=A-1;return b!==t&&(N=Ct(b),N=b<0?kt(A+N,0):yt(N,A-1)),af(o,it(d,3),N,!0)}function aa(o){var d=o==null?0:o.length;return d?Fn(o,1):[]}function Wv(o){var d=o==null?0:o.length;return d?Fn(o,Q):[]}function bu(o,d){var b=o==null?0:o.length;return b?(d=d===t?1:Ct(d),Fn(o,d)):[]}function Pg(o){for(var d=-1,b=o==null?0:o.length,A={};++d<b;){var N=o[d];A[N[0]]=N[1]}return A}function io(o){return o&&o.length?o[0]:t}function ju(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var N=b==null?0:Ct(b);return N<0&&(N=kt(A+N,0)),hl(o,d,N)}function Hg(o){var d=o==null?0:o.length;return d?jr(o,0,-1):[]}var Qv=At(function(o){var d=gn(o,zi);return d.length&&d[0]===o[0]?Af(d):[]}),$v=At(function(o){var d=Tr(o),b=gn(o,zi);return d===Tr(b)?d=t:b.pop(),b.length&&b[0]===o[0]?Af(b,it(d,2)):[]}),Pi=At(function(o){var d=Tr(o),b=gn(o,zi);return d=typeof d=="function"?d:t,d&&b.pop(),b.length&&b[0]===o[0]?Af(b,t,d):[]});function Fg(o,d){return o==null?"":lv.call(o,d)}function Tr(o){var d=o==null?0:o.length;return d?o[d-1]:t}function uo(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var N=A;return b!==t&&(N=Ct(b),N=N<0?kt(A+N,0):yt(N,A-1)),d===d?Wr(o,d,N):af(o,gl,N,!0)}function Sn(o,d){return o&&o.length?Ev(o,Ct(d)):t}var jp=At(qg);function qg(o,d){return o&&o.length&&d&&d.length?Gs(o,d):o}function Gg(o,d,b){return o&&o.length&&d&&d.length?Gs(o,d,it(b,2)):o}function ey(o,d,b){return o&&o.length&&d&&d.length?Gs(o,d,t,b):o}var ty=fi(function(o,d){var b=o==null?0:o.length,A=ou(o,d);return Cv(o,gn(d,function(N){return Ga(N,b)?+N:N}).sort(Qn)),A});function xn(o,d){var b=[];if(!(o&&o.length))return b;var A=-1,N=[],q=o.length;for(d=it(d,3);++A<q;){var J=o[A];d(J,A,o)&&(b.push(J),N.push(A))}return Cv(o,N),b}function nn(o){return o==null?o:Vu.call(o)}function _t(o,d,b){var A=o==null?0:o.length;return A?(b&&typeof b!="number"&&nr(o,d,b)?(d=0,b=A):(d=d==null?0:Ct(d),b=b===t?A:Ct(b)),jr(o,d,b)):[]}function Pt(o,d){return _l(o,d)}function sn(o,d,b){return Nl(o,d,it(b,2))}function ia(o,d){var b=o==null?0:o.length;if(b){var A=_l(o,d);if(A<b&&Aa(o[A],d))return A}return-1}function Hi(o,d){return _l(o,d,!0)}function Yl(o,d,b){return Nl(o,d,it(b,2),!0)}function Jv(o,d){var b=o==null?0:o.length;if(b){var A=_l(o,d,!0)-1;if(Aa(o[A],d))return A}return-1}function Fi(o){return o&&o.length?Rv(o):[]}function Bn(o,d){return o&&o.length?Rv(o,it(d,2)):[]}function wu(o){var d=o==null?0:o.length;return d?jr(o,1,d):[]}function el(o,d,b){return o&&o.length?(d=b||d===t?1:Ct(d),jr(o,0,d<0?0:d)):[]}function jv(o,d,b){var A=o==null?0:o.length;return A?(d=b||d===t?1:Ct(d),d=A-d,jr(o,d<0?0:d,A)):[]}function Ca(o,d){return o&&o.length?Ll(o,it(d,3),!1,!0):[]}function Xl(o,d){return o&&o.length?Ll(o,it(d,3)):[]}var lo=At(function(o){return zr(Fn(o,1,Tn,!0))}),hi=At(function(o){var d=Tr(o);return Tn(d)&&(d=t),zr(Fn(o,1,Tn,!0),it(d,2))}),ed=At(function(o){var d=Tr(o);return d=typeof d=="function"?d:t,zr(Fn(o,1,Tn,!0),t,d)});function td(o){return o&&o.length?zr(o):[]}function Gf(o,d){return o&&o.length?zr(o,it(d,2)):[]}function Vf(o,d){return d=typeof d=="function"?d:t,o&&o.length?zr(o,t,d):[]}function gi(o){if(!(o&&o.length))return[];var d=0;return o=ja(o,function(b){if(Tn(b))return d=kt(b.length,d),!0}),eu(d,function(b){return gn(o,uf(b))})}function so(o,d){if(!(o&&o.length))return[];var b=gi(o);return d==null?b:gn(b,function(A){return Nr(d,t,A)})}var tl=At(function(o,d){return Tn(o)?Al(o,d):[]}),oo=At(function(o){return Of(ja(o,Tn))}),nd=At(function(o){var d=Tr(o);return Tn(d)&&(d=t),Of(ja(o,Tn),it(d,2))}),rd=At(function(o){var d=Tr(o);return d=typeof d=="function"?d:t,Of(ja(o,Tn),t,d)}),fo=At(gi);function ad(o,d){return Bv(o||[],d||[],mn)}function ua(o,d){return Bv(o||[],d||[],Ol)}var Vg=At(function(o){var d=o.length,b=d>1?o[d-1]:t;return b=typeof b=="function"?(o.pop(),b):t,so(o,b)});function hr(o){var d=U(o);return d.__chain__=!0,d}function Yg(o,d){return d(o),o}function Kl(o,d){return d(o)}var Xg=fi(function(o){var d=o.length,b=d?o[0]:0,A=this.__wrapped__,N=function(q){return ou(q,o)};return d>1||this.__actions__.length||!(A instanceof St)||!Ga(b)?this.thru(N):(A=A.slice(b,+b+(d?1:0)),A.__actions__.push({func:Kl,args:[N],thisArg:t}),new $r(A,this.__chain__).thru(function(q){return d&&!q.length&&q.push(t),q}))});function ny(){return hr(this)}function qi(){return new $r(this.value(),this.__chain__)}function Yf(){this.__values__===t&&(this.__values__=dm(this.value()));var o=this.__index__>=this.__values__.length,d=o?t:this.__values__[this.__index__++];return{done:o,value:d}}function id(){return this}function Zl(o){for(var d,b=this;b instanceof ks;){var A=Ff(b);A.__index__=0,A.__values__=t,d?N.__wrapped__=A:d=A;var N=A;b=b.__wrapped__}return N.__wrapped__=o,d}function Kg(){var o=this.__wrapped__;if(o instanceof St){var d=o;return this.__actions__.length&&(d=new St(this)),d=d.reverse(),d.__actions__.push({func:Kl,args:[nn],thisArg:t}),new $r(d,this.__chain__)}return this.thru(nn)}function Zg(){return Bf(this.__wrapped__,this.__actions__)}var Wg=kl(function(o,d,b){Kt.call(o,b)?++o[b]:Jr(o,b,1)});function ud(o,d,b){var A=wt(o)?Fh:gv;return b&&nr(o,d,b)&&(d=t),A(o,it(d,3))}function ld(o,d){var b=wt(o)?ja:kn;return b(o,it(d,3))}var ry=Nf(Zv),ay=Nf(Ug);function iy(o,d){return Fn(Gi(o,d),1)}function Qg(o,d){return Fn(Gi(o,d),Q)}function $g(o,d,b){return b=b===t?1:Ct(b),Fn(Gi(o,d),b)}function nl(o,d){var b=wt(o)?ma:fu;return b(o,it(d,3))}function co(o,d){var b=wt(o)?_p:xf;return b(o,it(d,3))}var Jg=kl(function(o,d,b){Kt.call(o,b)?o[b].push(d):Jr(o,b,[d])});function jg(o,d,b,A){o=Tt(o)?o:sa(o),b=b&&!A?Ct(b):0;var N=o.length;return b<0&&(b=kt(N+b,0)),tc(o)?b<=N&&o.indexOf(d,b)>-1:!!N&&hl(o,d,b)>-1}var uy=At(function(o,d,b){var A=-1,N=typeof d=="function",q=Tt(o)?Ee(o.length):[];return fu(o,function(J){q[++A]=N?Nr(d,J,b):Rl(J,d,b)}),q}),em=kl(function(o,d,b){Jr(o,b,d)});function Gi(o,d){var b=wt(o)?gn:Fs;return b(o,it(d,3))}function tm(o,d,b,A){return o==null?[]:(wt(d)||(d=d==null?[]:[d]),b=A?t:b,wt(b)||(b=b==null?[]:[b]),Sv(o,d,b))}var ln=kl(function(o,d,b){o[b?0:1].push(d)},function(){return[[],[]]});function sd(o,d,b){var A=wt(o)?$c:ev,N=arguments.length<3;return A(o,it(d,4),b,N,fu)}function ly(o,d,b){var A=wt(o)?Np:ev,N=arguments.length<3;return A(o,it(d,4),b,N,xf)}function nm(o,d){var b=wt(o)?ja:kn;return b(o,Kf(it(d,3)))}function sy(o){var d=wt(o)?vv:wg;return d(o)}function oy(o,d,b){(b?nr(o,d,b):d===t)?d=1:d=Ct(d);var A=wt(o)?lu:Av;return A(o,d)}function fy(o){var d=wt(o)?Dt:Qp;return d(o)}function Xf(o){if(o==null)return 0;if(Tt(o))return tc(o)?ei(o):o.length;var d=qn(o);return d==Fe||d==$e?o.size:cu(o).length}function Wl(o,d,b){var A=wt(o)?Jc:Ys;return b&&nr(o,d,b)&&(d=t),A(o,it(d,3))}var od=At(function(o,d){if(o==null)return[];var b=d.length;return b>1&&nr(o,d[0],d[1])?d=[]:b>2&&nr(d[0],d[1],d[2])&&(d=[d[0]]),Sv(o,Fn(d,1),[])}),rl=wa||function(){return Ln.Date.now()};function fd(o,d){if(typeof d!="function")throw new Qr(f);return o=Ct(o),function(){if(--o<1)return d.apply(this,arguments)}}function Eu(o,d,b){return d=b?t:d,d=o&&d==null?o.length:d,Ha(o,O,t,t,t,t,d)}function Va(o,d){var b;if(typeof d!="function")throw new Qr(f);return o=Ct(o),function(){return--o>0&&(b=d.apply(this,arguments)),o<=1&&(d=t),b}}var al=At(function(o,d,b){var A=T;if(b.length){var N=nu(b,ea(al));A|=k}return Ha(o,A,d,b,N)}),rm=At(function(o,d,b){var A=T|C;if(b.length){var N=nu(b,ea(rm));A|=k}return Ha(d,A,o,b,N)});function cd(o,d,b){d=b?t:d;var A=Ha(o,M,t,t,t,t,t,d);return A.placeholder=cd.placeholder,A}function vd(o,d,b){d=b?t:d;var A=Ha(o,_,t,t,t,t,t,d);return A.placeholder=vd.placeholder,A}function dd(o,d,b){var A,N,q,J,te,oe,Be=0,_e=!1,ke=!1,Ye=!0;if(typeof o!="function")throw new Qr(f);d=ar(d)||0,yn(b)&&(_e=!!b.leading,ke="maxWait"in b,q=ke?kt(ar(b.maxWait)||0,d):q,Ye="trailing"in b?!!b.trailing:Ye);function je(Jn){var Ki=A,il=N;return A=N=t,Be=Jn,J=o.apply(il,Ki),J}function ht(Jn){return Be=Jn,te=dr(Ut,d),_e?je(Jn):J}function Bt(Jn){var Ki=Jn-oe,il=Jn-Be,$0=d-Ki;return ke?yt($0,q-il):$0}function gt(Jn){var Ki=Jn-oe,il=Jn-Be;return oe===t||Ki>=d||Ki<0||ke&&il>=q}function Ut(){var Jn=rl();if(gt(Jn))return Ft(Jn);te=dr(Ut,Bt(Jn))}function Ft(Jn){return te=t,Ye&&A?je(Jn):(A=N=t,J)}function Ka(){te!==t&&Xs(te),Be=0,A=oe=N=te=t}function oa(){return te===t?J:Ft(rl())}function Za(){var Jn=rl(),Ki=gt(Jn);if(A=arguments,N=this,oe=Jn,Ki){if(te===t)return ht(oe);if(ke)return Xs(te),te=dr(Ut,d),je(oe)}return te===t&&(te=dr(Ut,d)),J}return Za.cancel=Ka,Za.flush=oa,Za}var cy=At(function(o,d){return hv(o,1,d)}),hd=At(function(o,d,b){return hv(o,ar(d)||0,b)});function am(o){return Ha(o,L)}function vo(o,d){if(typeof o!="function"||d!=null&&typeof d!="function")throw new Qr(f);var b=function(){var A=arguments,N=d?d.apply(this,A):A[0],q=b.cache;if(q.has(N))return q.get(N);var J=o.apply(this,A);return b.cache=q.set(N,J)||q,J};return b.cache=new(vo.Cache||_i),b}vo.Cache=_i;function Kf(o){if(typeof o!="function")throw new Qr(f);return function(){var d=arguments;switch(d.length){case 0:return!o.call(this);case 1:return!o.call(this,d[0]);case 2:return!o.call(this,d[0],d[1]);case 3:return!o.call(this,d[0],d[1],d[2])}return!o.apply(this,d)}}function gd(o){return Va(2,o)}var md=Eg(function(o,d){d=d.length==1&&wt(d[0])?gn(d[0],Zr(it())):gn(Fn(d,1),Zr(it()));var b=d.length;return At(function(A){for(var N=-1,q=yt(A.length,b);++N<q;)A[N]=d[N].call(this,A[N]);return Nr(o,this,A)})}),pd=At(function(o,d){var b=nu(d,ea(pd));return Ha(o,k,t,d,b)}),im=At(function(o,d){var b=nu(d,ea(im));return Ha(o,z,t,d,b)}),ho=fi(function(o,d){return Ha(o,I,t,t,t,d)});function vy(o,d){if(typeof o!="function")throw new Qr(f);return d=d===t?d:Ct(d),At(o,d)}function um(o,d){if(typeof o!="function")throw new Qr(f);return d=d==null?0:kt(Ct(d),0),At(function(b){var A=b[d],N=Ii(b,0,d);return A&&xi(N,A),Nr(o,this,N)})}function It(o,d,b){var A=!0,N=!0;if(typeof o!="function")throw new Qr(f);return yn(b)&&(A="leading"in b?!!b.leading:A,N="trailing"in b?!!b.trailing:N),dd(o,d,{leading:A,maxWait:d,trailing:N})}function yd(o){return Eu(o,1)}function Zf(o,d){return pd(zl(d),o)}function bd(){if(!arguments.length)return[];var o=arguments[0];return wt(o)?o:[o]}function lm(o){return Gt(o,x)}function wd(o,d){return d=typeof d=="function"?d:t,Gt(o,x,d)}function go(o){return Gt(o,p|x)}function Wf(o,d){return d=typeof d=="function"?d:t,Gt(o,p|x,d)}function Ql(o,d){return d==null||Sf(o,d,$n(d))}function Aa(o,d){return o===d||o!==o&&d!==d}var dy=Pl(Cf),hy=Pl(function(o,d){return o>=d}),Su=cg(function(){return arguments}())?cg:function(o){return On(o)&&Kt.call(o,"callee")&&!uv.call(o,"callee")},wt=Ee.isArray,Qf=nf?Zr(nf):vg;function Tt(o){return o!=null&&Jf(o.length)&&!Vi(o)}function Tn(o){return On(o)&&Tt(o)}function rr(o){return o===!0||o===!1||On(o)&&cr(o)==Se}var xu=tg||ky,Ed=kh?Zr(kh):dg;function Sd(o){return On(o)&&o.nodeType===1&&!gr(o)}function $f(o){if(o==null)return!0;if(Tt(o)&&(wt(o)||typeof o=="string"||typeof o.splice=="function"||xu(o)||Xa(o)||Su(o)))return!o.length;var d=qn(o);if(d==Fe||d==$e)return!o.size;if(Mn(o))return!cu(o).length;for(var b in o)if(Kt.call(o,b))return!1;return!0}function sm(o,d){return Ml(o,d)}function om(o,d,b){b=typeof b=="function"?b:t;var A=b?b(o,d):t;return A===t?Ml(o,d,t,b):!!A}function mo(o){if(!On(o))return!1;var d=cr(o);return d==be||d==re||typeof o.message=="string"&&typeof o.name=="string"&&!gr(o)}function xd(o){return typeof o=="number"&&gf(o)}function Vi(o){if(!yn(o))return!1;var d=cr(o);return d==Ne||d==Pe||d==Me||d==Ke}function Td(o){return typeof o=="number"&&o==Ct(o)}function Jf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=j}function yn(o){var d=typeof o;return o!=null&&(d=="object"||d=="function")}function On(o){return o!=null&&typeof o=="object"}var fm=Ih?Zr(Ih):hg;function Cd(o,d){return o===d||Df(o,d,js(d))}function Ad(o,d,b){return b=typeof b=="function"?b:t,Df(o,d,js(d),b)}function gy(o){return Dd(o)&&o!=+o}function my(o){if(Mg(o))throw new ft(l);return yv(o)}function Ya(o){return o===null}function cm(o){return o==null}function Dd(o){return typeof o=="number"||On(o)&&cr(o)==mt}function gr(o){if(!On(o)||cr(o)!=xt)return!1;var d=Pu(o);if(d===null)return!0;var b=Kt.call(d,"constructor")&&d.constructor;return typeof b=="function"&&b instanceof b&&_s.call(b)==wl}var jf=Uh?Zr(Uh):gg;function ec(o){return Td(o)&&o>=-9007199254740991&&o<=j}var mi=Ph?Zr(Ph):mg;function tc(o){return typeof o=="string"||!wt(o)&&On(o)&&cr(o)==tt}function la(o){return typeof o=="symbol"||On(o)&&cr(o)==lt}var Xa=Hh?Zr(Hh):Kp;function vm(o){return o===t}function py(o){return On(o)&&qn(o)==Et}function yy(o){return On(o)&&cr(o)==Le}var by=Pl(Bl),wy=Pl(function(o,d){return o<=d});function dm(o){if(!o)return[];if(Tt(o))return tc(o)?pa(o):Sr(o);if(ni&&o[ni])return Wh(o[ni]());var d=qn(o),b=d==Fe?cf:d==$e?vf:sa;return b(o)}function Yi(o){if(!o)return o===0?o:0;if(o=ar(o),o===Q||o===-1/0){var d=o<0?-1:1;return d*le}return o===o?o:0}function Ct(o){var d=Yi(o),b=d%1;return d===d?b?d-b:d:0}function Rd(o){return o?Zu(Ct(o),0,Z):0}function ar(o){if(typeof o=="number")return o;if(la(o))return P;if(yn(o)){var d=typeof o.valueOf=="function"?o.valueOf():o;o=yn(d)?d+"":d}if(typeof o!="string")return o===0?o:+o;o=Yh(o);var b=Go.test(o);return b||ws.test(o)?Bp(o.slice(2),b?2:8):Fc.test(o)?P:+o}function $l(o){return Ia(o,Cr(o))}function hm(o){return o?Zu(Ct(o),-9007199254740991,j):o===0?o:0}function Wt(o){return o==null?"":Rn(o)}var Jl=$u(function(o,d){if(Mn(d)||Tt(d)){Ia(d,$n(d),o);return}for(var b in d)Kt.call(d,b)&&mn(o,b,d[b])}),jl=$u(function(o,d){Ia(d,Cr(d),o)}),po=$u(function(o,d,b,A){Ia(d,Cr(d),o,A)}),nc=$u(function(o,d,b,A){Ia(d,$n(d),o,A)}),Md=fi(ou);function Bd(o,d){var b=Bi(o);return d==null?b:su(b,d)}var rc=At(function(o,d){o=tn(o);var b=-1,A=d.length,N=A>2?d[2]:t;for(N&&nr(d[0],d[1],N)&&(A=1);++b<A;)for(var q=d[b],J=Cr(q),te=-1,oe=J.length;++te<oe;){var Be=J[te],_e=o[Be];(_e===t||Aa(_e,bl[Be])&&!Kt.call(o,Be))&&(o[Be]=q[Be])}return o}),gm=At(function(o){return o.push(t,Hl),Nr(wo,t,o)});function mm(o,d){return qh(o,it(d,3),Ta)}function Ey(o,d){return qh(o,it(d,3),ka)}function pm(o,d){return o==null?o:Wu(o,it(d,3),Cr)}function yo(o,d){return o==null?o:Hs(o,it(d,3),Cr)}function Sy(o,d){return o&&Ta(o,it(d,3))}function xy(o,d){return o&&ka(o,it(d,3))}function Ty(o){return o==null?[]:Qu(o,$n(o))}function ac(o){return o==null?[]:Qu(o,Cr(o))}function es(o,d,b){var A=o==null?t:Li(o,d);return A===t?b:A}function Od(o,d){return o!=null&&Fv(o,d,sg)}function _d(o,d){return o!=null&&Fv(o,d,og)}var bo=zf(function(o,d,b){d!=null&&typeof d.toString!="function"&&(d=br.call(d)),o[d]=b},We(Vt)),Cy=zf(function(o,d,b){d!=null&&typeof d.toString!="function"&&(d=br.call(d)),Kt.call(o,d)?o[d].push(b):o[d]=[b]},it),ym=At(Rl);function $n(o){return Tt(o)?Ps(o):cu(o)}function Cr(o){return Tt(o)?Ps(o,!0):pg(o)}function bm(o,d){var b={};return d=it(d,3),Ta(o,function(A,N,q){Jr(b,d(A,N,q),A)}),b}function Nd(o,d){var b={};return d=it(d,3),Ta(o,function(A,N,q){Jr(b,N,d(A,N,q))}),b}var wm=$u(function(o,d,b){qs(o,d,b)}),wo=$u(function(o,d,b,A){qs(o,d,b,A)}),Ay=fi(function(o,d){var b={};if(o==null)return b;var A=!1;d=gn(d,function(q){return q=ki(q,o),A||(A=q.length>1),q}),Ia(o,$s(o),b),A&&(b=Gt(b,p|w|x,If));for(var N=d.length;N--;)si(b,d[N]);return b});function Dy(o,d){return ic(o,Kf(it(d)))}var Ld=fi(function(o,d){return o==null?{}:xv(o,d)});function ic(o,d){if(o==null)return{};var b=gn($s(o),function(A){return[A]});return d=it(d),Tv(o,b,function(A,N){return d(A,N[0])})}function uc(o,d,b){d=ki(d,o);var A=-1,N=d.length;for(N||(N=1,o=t);++A<N;){var q=o==null?t:o[xr(d[A])];q===t&&(A=N,q=b),o=Vi(q)?q.call(o):q}return o}function zd(o,d,b){return o==null?o:Ol(o,d,b)}function Em(o,d,b,A){return A=typeof A=="function"?A:t,o==null?o:Ol(o,d,b,A)}var lc=oi($n),Xi=oi(Cr);function Tu(o,d,b){var A=wt(o),N=A||xu(o)||Xa(o);if(d=it(d,4),b==null){var q=o&&o.constructor;N?b=A?new q:[]:yn(o)?b=Vi(q)?Bi(Pu(o)):{}:b={}}return(N?ma:Ta)(o,function(J,te,oe){return d(b,J,te,oe)}),b}function Cu(o,d){return o==null?!0:si(o,d)}function Eo(o,d,b){return o==null?o:vu(o,d,zl(b))}function So(o,d,b,A){return A=typeof A=="function"?A:t,o==null?o:vu(o,d,zl(b),A)}function sa(o){return o==null?[]:of(o,$n(o))}function Ry(o){return o==null?[]:of(o,Cr(o))}function Sm(o,d,b){return b===t&&(b=d,d=t),b!==t&&(b=ar(b),b=b===b?b:0),d!==t&&(d=ar(d),d=d===d?d:0),Zu(ar(o),d,b)}function xo(o,d,b){return d=Yi(d),b===t?(b=d,d=0):b=Yi(b),o=ar(o),fg(o,d,b)}function My(o,d,b){if(b&&typeof b!="boolean"&&nr(o,d,b)&&(d=b=t),b===t&&(typeof d=="boolean"?(b=d,d=t):typeof o=="boolean"&&(b=o,o=t)),o===t&&d===t?(o=0,d=1):(o=Yi(o),d===t?(d=o,o=0):d=Yi(d)),o>d){var A=o;o=d,d=A}if(b||o%1||d%1){var N=mf();return yt(o+N*(d-o+Bs("1e-"+((N+"").length-1))),d)}return Mf(o,d)}var xm=du(function(o,d,b){return d=d.toLowerCase(),o+(b?To(d):d)});function To(o){return bt(Wt(o).toLowerCase())}function kd(o){return o=Wt(o),o&&o.replace(da,ff).replace(Ds,"")}function By(o,d,b){o=Wt(o),d=Rn(d);var A=o.length;b=b===t?A:Zu(Ct(b),0,A);var N=b;return b-=d.length,b>=0&&o.slice(b,N)==d}function sc(o){return o=Wt(o),o&&jn.test(o)?o.replace($t,Xh):o}function oc(o){return o=Wt(o),o&&Vr.test(o)?o.replace(fr,"\\$&"):o}var Tm=du(function(o,d,b){return o+(b?"-":"")+d.toLowerCase()}),Co=du(function(o,d,b){return o+(b?" ":"")+d.toLowerCase()}),Id=_f("toLowerCase");function fc(o,d,b){o=Wt(o),d=Ct(d);var A=d?ei(o):0;if(!d||A>=d)return o;var N=(d-A)/2;return Ul(Sa(N),b)+o+Ul(Ea(N),b)}function Cm(o,d,b){o=Wt(o),d=Ct(d);var A=d?ei(o):0;return d&&A<d?o+Ul(d-A,b):o}function Oy(o,d,b){o=Wt(o),d=Ct(d);var A=d?ei(o):0;return d&&A<d?Ul(d-A,b)+o:o}function cc(o,d,b){return b||d==null?d=0:d&&(d=+d),ai(Wt(o).replace(Br,""),d||0)}function r(o,d,b){return(b?nr(o,d,b):d===t)?d=1:d=Ct(d),Vs(Wt(o),d)}function i(){var o=arguments,d=Wt(o[0]);return o.length<3?d:d.replace(o[1],o[2])}var s=du(function(o,d,b){return o+(b?"_":"")+d.toLowerCase()});function h(o,d,b){return b&&typeof b!="number"&&nr(o,d,b)&&(d=b=t),b=b===t?Z:b>>>0,b?(o=Wt(o),o&&(typeof d=="string"||d!=null&&!jf(d))&&(d=Rn(d),!d&&tu(o))?Ii(pa(o),0,b):o.split(d,b)):[]}var y=du(function(o,d,b){return o+(b?" ":"")+bt(d)});function E(o,d,b){return o=Wt(o),b=b==null?0:Zu(Ct(b),0,o.length),d=Rn(d),o.slice(b,b+d.length)==d}function B(o,d,b){var A=U.templateSettings;b&&nr(o,d,b)&&(d=t),o=Wt(o),d=po({},d,A,kf);var N=po({},d.imports,A.imports,kf),q=$n(N),J=of(N,q),te,oe,Be=0,_e=d.interpolate||ha,ke="__p += '",Ye=Ti((d.escape||ha).source+"|"+_e.source+"|"+(_e===Dn?bs:ha).source+"|"+(d.evaluate||ha).source+"|$","g"),je="//# sourceURL="+(Kt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nh+"]")+`
`;o.replace(Ye,function(gt,Ut,Ft,Ka,oa,Za){return Ft||(Ft=Ka),ke+=o.slice(Be,Za).replace(Ma,Kh),Ut&&(te=!0,ke+=`' +
__e(`+Ut+`) +
'`),oa&&(oe=!0,ke+=`';
`+oa+`;
__p += '`),Ft&&(ke+=`' +
((__t = (`+Ft+`)) == null ? '' : __t) +
'`),Be=Za+gt.length,gt}),ke+=`';
`;var ht=Kt.call(d,"variable")&&d.variable;if(!ht)ke=`with (obj) {
`+ke+`
}
`;else if(vn.test(ht))throw new ft(c);ke=(oe?ke.replace(dt,""):ke).replace(pt,"$1").replace(ot,"$1;"),ke="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var Bt=ce(function(){return zt(q,je+"return "+ke).apply(t,J)});if(Bt.source=ke,mo(Bt))throw Bt;return Bt}function H(o){return Wt(o).toLowerCase()}function $(o){return Wt(o).toUpperCase()}function ie(o,d,b){if(o=Wt(o),o&&(b||d===t))return Yh(o);if(!o||!(d=Rn(d)))return o;var A=pa(o),N=pa(d),q=pl(A,N),J=yl(A,N)+1;return Ii(A,q,J).join("")}function De(o,d,b){if(o=Wt(o),o&&(b||d===t))return o.slice(0,nv(o)+1);if(!o||!(d=Rn(d)))return o;var A=pa(o),N=yl(A,pa(d))+1;return Ii(A,0,N).join("")}function ze(o,d,b){if(o=Wt(o),o&&(b||d===t))return o.replace(Br,"");if(!o||!(d=Rn(d)))return o;var A=pa(o),N=pl(A,pa(d));return Ii(A,N).join("")}function ye(o,d){var b=F,A=Y;if(yn(d)){var N="separator"in d?d.separator:N;b="length"in d?Ct(d.length):b,A="omission"in d?Rn(d.omission):A}o=Wt(o);var q=o.length;if(tu(o)){var J=pa(o);q=J.length}if(b>=q)return o;var te=b-ei(A);if(te<1)return A;var oe=J?Ii(J,0,te).join(""):o.slice(0,te);if(N===t)return oe+A;if(J&&(te+=oe.length-te),jf(N)){if(o.slice(te).search(N)){var Be,_e=oe;for(N.global||(N=Ti(N.source,Wt(qo.exec(N))+"g")),N.lastIndex=0;Be=N.exec(_e);)var ke=Be.index;oe=oe.slice(0,ke===t?te:ke)}}else if(o.indexOf(Rn(N),te)!=te){var Ye=oe.lastIndexOf(N);Ye>-1&&(oe=oe.slice(0,Ye))}return oe+A}function Ce(o){return o=Wt(o),o&&_n.test(o)?o.replace(qt,$h):o}var Je=du(function(o,d,b){return o+(b?" ":"")+d.toUpperCase()}),bt=_f("toUpperCase");function Cn(o,d,b){return o=Wt(o),d=b?t:d,d===t?Zh(o)?Fp(o):kp(o):o.match(d)||[]}var ce=At(function(o,d){try{return Nr(o,t,d)}catch(b){return mo(b)?b:new ft(b)}}),ae=fi(function(o,d){return ma(d,function(b){b=xr(b),Jr(o,b,al(o[b],o))}),o});function ge(o){var d=o==null?0:o.length,b=it();return o=d?gn(o,function(A){if(typeof A[1]!="function")throw new Qr(f);return[b(A[0]),A[1]]}):[],At(function(A){for(var N=-1;++N<d;){var q=o[N];if(Nr(q[0],this,A))return Nr(q[1],this,A)}})}function Oe(o){return dv(Gt(o,p))}function We(o){return function(){return o}}function Mt(o,d){return o==null||o!==o?d:o}var rt=Lf(),ct=Lf(!0);function Vt(o){return o}function Ht(o){return bv(typeof o=="function"?o:Gt(o,p))}function Au(o){return wv(Gt(o,p))}function _y(o,d){return Rf(o,Gt(d,p))}var zE=At(function(o,d){return function(b){return Rl(b,o,d)}}),kE=At(function(o,d){return function(b){return Rl(o,b,d)}});function Ny(o,d,b){var A=$n(d),N=Qu(d,A);b==null&&!(yn(d)&&(N.length||!A.length))&&(b=d,d=o,o=this,N=Qu(d,$n(d)));var q=!(yn(b)&&"chain"in b)||!!b.chain,J=Vi(o);return ma(N,function(te){var oe=d[te];o[te]=oe,J&&(o.prototype[te]=function(){var Be=this.__chain__;if(q||Be){var _e=o(this.__wrapped__),ke=_e.__actions__=Sr(this.__actions__);return ke.push({func:oe,args:arguments,thisArg:o}),_e.__chain__=Be,_e}return oe.apply(o,xi([this.value()],arguments))})}),o}function IE(){return Ln._===this&&(Ln._=av),this}function Ly(){}function UE(o){return o=Ct(o),At(function(d){return Ev(d,o)})}var PE=Ua(gn),HE=Ua(Fh),FE=Ua(Jc);function Q0(o){return ql(o)?uf(xr(o)):bg(o)}function qE(o){return function(d){return o==null?t:Li(o,d)}}var GE=Pv(),VE=Pv(!0);function zy(){return[]}function ky(){return!1}function YE(){return{}}function XE(){return""}function KE(){return!0}function ZE(o,d){if(o=Ct(o),o<1||o>j)return[];var b=Z,A=yt(o,Z);d=it(d),o-=Z;for(var N=eu(A,d);++b<o;)d(b);return N}function WE(o){return wt(o)?gn(o,xr):la(o)?[o]:Sr(di(Wt(o)))}function QE(o){var d=++eg;return Wt(o)+d}var $E=Qs(function(o,d){return o+d},0),JE=Pa("ceil"),jE=Qs(function(o,d){return o/d},1),eS=Pa("floor");function tS(o){return o&&o.length?Dl(o,Vt,Cf):t}function nS(o,d){return o&&o.length?Dl(o,it(d,2),Cf):t}function rS(o){return Gh(o,Vt)}function aS(o,d){return Gh(o,it(d,2))}function iS(o){return o&&o.length?Dl(o,Vt,Bl):t}function uS(o,d){return o&&o.length?Dl(o,it(d,2),Bl):t}var lS=Qs(function(o,d){return o*d},1),sS=Pa("round"),oS=Qs(function(o,d){return o-d},0);function fS(o){return o&&o.length?sf(o,Vt):0}function cS(o,d){return o&&o.length?sf(o,it(d,2)):0}return U.after=fd,U.ary=Eu,U.assign=Jl,U.assignIn=jl,U.assignInWith=po,U.assignWith=nc,U.at=Md,U.before=Va,U.bind=al,U.bindAll=ae,U.bindKey=rm,U.castArray=bd,U.chain=hr,U.chunk=yu,U.compact=Lg,U.concat=Gl,U.cond=ge,U.conforms=Oe,U.constant=We,U.countBy=Wg,U.create=Bd,U.curry=cd,U.curryRight=vd,U.debounce=dd,U.defaults=rc,U.defaultsDeep=gm,U.defer=cy,U.delay=hd,U.difference=no,U.differenceBy=ro,U.differenceWith=Vl,U.drop=zg,U.dropRight=kg,U.dropRightWhile=ao,U.dropWhile=Ig,U.fill=qf,U.filter=ld,U.flatMap=iy,U.flatMapDeep=Qg,U.flatMapDepth=$g,U.flatten=aa,U.flattenDeep=Wv,U.flattenDepth=bu,U.flip=am,U.flow=rt,U.flowRight=ct,U.fromPairs=Pg,U.functions=Ty,U.functionsIn=ac,U.groupBy=Jg,U.initial=Hg,U.intersection=Qv,U.intersectionBy=$v,U.intersectionWith=Pi,U.invert=bo,U.invertBy=Cy,U.invokeMap=uy,U.iteratee=Ht,U.keyBy=em,U.keys=$n,U.keysIn=Cr,U.map=Gi,U.mapKeys=bm,U.mapValues=Nd,U.matches=Au,U.matchesProperty=_y,U.memoize=vo,U.merge=wm,U.mergeWith=wo,U.method=zE,U.methodOf=kE,U.mixin=Ny,U.negate=Kf,U.nthArg=UE,U.omit=Ay,U.omitBy=Dy,U.once=gd,U.orderBy=tm,U.over=PE,U.overArgs=md,U.overEvery=HE,U.overSome=FE,U.partial=pd,U.partialRight=im,U.partition=ln,U.pick=Ld,U.pickBy=ic,U.property=Q0,U.propertyOf=qE,U.pull=jp,U.pullAll=qg,U.pullAllBy=Gg,U.pullAllWith=ey,U.pullAt=ty,U.range=GE,U.rangeRight=VE,U.rearg=ho,U.reject=nm,U.remove=xn,U.rest=vy,U.reverse=nn,U.sampleSize=oy,U.set=zd,U.setWith=Em,U.shuffle=fy,U.slice=_t,U.sortBy=od,U.sortedUniq=Fi,U.sortedUniqBy=Bn,U.split=h,U.spread=um,U.tail=wu,U.take=el,U.takeRight=jv,U.takeRightWhile=Ca,U.takeWhile=Xl,U.tap=Yg,U.throttle=It,U.thru=Kl,U.toArray=dm,U.toPairs=lc,U.toPairsIn=Xi,U.toPath=WE,U.toPlainObject=$l,U.transform=Tu,U.unary=yd,U.union=lo,U.unionBy=hi,U.unionWith=ed,U.uniq=td,U.uniqBy=Gf,U.uniqWith=Vf,U.unset=Cu,U.unzip=gi,U.unzipWith=so,U.update=Eo,U.updateWith=So,U.values=sa,U.valuesIn=Ry,U.without=tl,U.words=Cn,U.wrap=Zf,U.xor=oo,U.xorBy=nd,U.xorWith=rd,U.zip=fo,U.zipObject=ad,U.zipObjectDeep=ua,U.zipWith=Vg,U.entries=lc,U.entriesIn=Xi,U.extend=jl,U.extendWith=po,Ny(U,U),U.add=$E,U.attempt=ce,U.camelCase=xm,U.capitalize=To,U.ceil=JE,U.clamp=Sm,U.clone=lm,U.cloneDeep=go,U.cloneDeepWith=Wf,U.cloneWith=wd,U.conformsTo=Ql,U.deburr=kd,U.defaultTo=Mt,U.divide=jE,U.endsWith=By,U.eq=Aa,U.escape=sc,U.escapeRegExp=oc,U.every=ud,U.find=ry,U.findIndex=Zv,U.findKey=mm,U.findLast=ay,U.findLastIndex=Ug,U.findLastKey=Ey,U.floor=eS,U.forEach=nl,U.forEachRight=co,U.forIn=pm,U.forInRight=yo,U.forOwn=Sy,U.forOwnRight=xy,U.get=es,U.gt=dy,U.gte=hy,U.has=Od,U.hasIn=_d,U.head=io,U.identity=Vt,U.includes=jg,U.indexOf=ju,U.inRange=xo,U.invoke=ym,U.isArguments=Su,U.isArray=wt,U.isArrayBuffer=Qf,U.isArrayLike=Tt,U.isArrayLikeObject=Tn,U.isBoolean=rr,U.isBuffer=xu,U.isDate=Ed,U.isElement=Sd,U.isEmpty=$f,U.isEqual=sm,U.isEqualWith=om,U.isError=mo,U.isFinite=xd,U.isFunction=Vi,U.isInteger=Td,U.isLength=Jf,U.isMap=fm,U.isMatch=Cd,U.isMatchWith=Ad,U.isNaN=gy,U.isNative=my,U.isNil=cm,U.isNull=Ya,U.isNumber=Dd,U.isObject=yn,U.isObjectLike=On,U.isPlainObject=gr,U.isRegExp=jf,U.isSafeInteger=ec,U.isSet=mi,U.isString=tc,U.isSymbol=la,U.isTypedArray=Xa,U.isUndefined=vm,U.isWeakMap=py,U.isWeakSet=yy,U.join=Fg,U.kebabCase=Tm,U.last=Tr,U.lastIndexOf=uo,U.lowerCase=Co,U.lowerFirst=Id,U.lt=by,U.lte=wy,U.max=tS,U.maxBy=nS,U.mean=rS,U.meanBy=aS,U.min=iS,U.minBy=uS,U.stubArray=zy,U.stubFalse=ky,U.stubObject=YE,U.stubString=XE,U.stubTrue=KE,U.multiply=lS,U.nth=Sn,U.noConflict=IE,U.noop=Ly,U.now=rl,U.pad=fc,U.padEnd=Cm,U.padStart=Oy,U.parseInt=cc,U.random=My,U.reduce=sd,U.reduceRight=ly,U.repeat=r,U.replace=i,U.result=uc,U.round=sS,U.runInContext=ue,U.sample=sy,U.size=Xf,U.snakeCase=s,U.some=Wl,U.sortedIndex=Pt,U.sortedIndexBy=sn,U.sortedIndexOf=ia,U.sortedLastIndex=Hi,U.sortedLastIndexBy=Yl,U.sortedLastIndexOf=Jv,U.startCase=y,U.startsWith=E,U.subtract=oS,U.sum=fS,U.sumBy=cS,U.template=B,U.times=ZE,U.toFinite=Yi,U.toInteger=Ct,U.toLength=Rd,U.toLower=H,U.toNumber=ar,U.toSafeInteger=hm,U.toString=Wt,U.toUpper=$,U.trim=ie,U.trimEnd=De,U.trimStart=ze,U.truncate=ye,U.unescape=Ce,U.uniqueId=QE,U.upperCase=Je,U.upperFirst=bt,U.each=nl,U.eachRight=co,U.first=io,Ny(U,function(){var o={};return Ta(U,function(d,b){Kt.call(U.prototype,b)||(o[b]=d)}),o}(),{chain:!1}),U.VERSION=a,ma(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){U[o].placeholder=U}),ma(["drop","take"],function(o,d){St.prototype[o]=function(b){b=b===t?1:kt(Ct(b),0);var A=this.__filtered__&&!d?new St(this):this.clone();return A.__filtered__?A.__takeCount__=yt(b,A.__takeCount__):A.__views__.push({size:yt(b,Z),type:o+(A.__dir__<0?"Right":"")}),A},St.prototype[o+"Right"]=function(b){return this.reverse()[o](b).reverse()}}),ma(["filter","map","takeWhile"],function(o,d){var b=d+1,A=b==K||b==X;St.prototype[o]=function(N){var q=this.clone();return q.__iteratees__.push({iteratee:it(N,3),type:b}),q.__filtered__=q.__filtered__||A,q}}),ma(["head","last"],function(o,d){var b="take"+(d?"Right":"");St.prototype[o]=function(){return this[b](1).value()[0]}}),ma(["initial","tail"],function(o,d){var b="drop"+(d?"":"Right");St.prototype[o]=function(){return this.__filtered__?new St(this):this[b](1)}}),St.prototype.compact=function(){return this.filter(Vt)},St.prototype.find=function(o){return this.filter(o).head()},St.prototype.findLast=function(o){return this.reverse().find(o)},St.prototype.invokeMap=At(function(o,d){return typeof o=="function"?new St(this):this.map(function(b){return Rl(b,o,d)})}),St.prototype.reject=function(o){return this.filter(Kf(it(o)))},St.prototype.slice=function(o,d){o=Ct(o);var b=this;return b.__filtered__&&(o>0||d<0)?new St(b):(o<0?b=b.takeRight(-o):o&&(b=b.drop(o)),d!==t&&(d=Ct(d),b=d<0?b.dropRight(-d):b.take(d-o)),b)},St.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},St.prototype.toArray=function(){return this.take(Z)},Ta(St.prototype,function(o,d){var b=/^(?:filter|find|map|reject)|While$/.test(d),A=/^(?:head|last)$/.test(d),N=U[A?"take"+(d=="last"?"Right":""):d],q=A||/^find/.test(d);N&&(U.prototype[d]=function(){var J=this.__wrapped__,te=A?[1]:arguments,oe=J instanceof St,Be=te[0],_e=oe||wt(J),ke=function(Ut){var Ft=N.apply(U,xi([Ut],te));return A&&Ye?Ft[0]:Ft};_e&&b&&typeof Be=="function"&&Be.length!=1&&(oe=_e=!1);var Ye=this.__chain__,je=!!this.__actions__.length,ht=q&&!Ye,Bt=oe&&!je;if(!q&&_e){J=Bt?J:new St(this);var gt=o.apply(J,te);return gt.__actions__.push({func:Kl,args:[ke],thisArg:t}),new $r(gt,Ye)}return ht&&Bt?o.apply(this,te):(gt=this.thru(ke),ht?A?gt.value()[0]:gt.value():gt)})}),ma(["pop","push","shift","sort","splice","unshift"],function(o){var d=Os[o],b=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",A=/^(?:pop|shift)$/.test(o);U.prototype[o]=function(){var N=arguments;if(A&&!this.__chain__){var q=this.value();return d.apply(wt(q)?q:[],N)}return this[b](function(J){return d.apply(wt(J)?J:[],N)})}}),Ta(St.prototype,function(o,d){var b=U[d];if(b){var A=b.name+"";Kt.call(ru,A)||(ru[A]=[]),ru[A].push({name:d,func:b})}}),ru[Ws(t,C).name]=[{name:"wrapper",func:t}],St.prototype.clone=ig,St.prototype.reverse=Sl,St.prototype.value=bf,U.prototype.at=Xg,U.prototype.chain=ny,U.prototype.commit=qi,U.prototype.next=Yf,U.prototype.plant=Zl,U.prototype.reverse=Kg,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=Zg,U.prototype.first=U.prototype.head,ni&&(U.prototype[ni]=id),U},_a=qp();ji?((ji.exports=_a)._=_a,dl._=_a):Ln._=_a}).call(MS)}(Kd,Kd.exports)),Kd.exports}var Qm=BS(),bi=(n=>(n.FINITE="FINITE",n.PDA="PDA",n.TURING="TURING",n))(bi||{});class Ub{constructor({states:e=[],deltaFunctionMatrix:t={},automatonType:a,initialStateId:u,finalStateIds:l=[]}){Re(this,"states");Re(this,"deltaFunctionMatrix");Re(this,"automatonType");Re(this,"commandHistory");Re(this,"initialStateId");Re(this,"finalStateIds");this.states=e,this.commandHistory=[],this.automatonType=a,this.deltaFunctionMatrix=t,this.initialStateId=u,this.finalStateIds=l}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new Ie("Cannot undo because command history is empty.")}save(){return new OS(this.states,this.deltaFunctionMatrix,this.automatonType,this.initialStateId,this.finalStateIds)}restore(e){this.states=e.states,this.deltaFunctionMatrix=e.deltaFunctionMatrix,this.automatonType=e.automatonType,this.initialStateId=e.initialStateId,this.finalStateIds=e.finalStateIds}isDeterministic(){const e=new Set([]),t=new Set([]);this.automatonType=="PDA"&&t.add(l1);for(const a in this.deltaFunctionMatrix)for(const u in this.deltaFunctionMatrix[a]){const l=this.deltaFunctionMatrix[a][u];for(const f of l)if(e.add(f.inputChar),this.automatonType=="PDA"&&f instanceof Cc){t.add(f.readStackChar);for(const c of f.writeStackWord)t.add(c)}}if(e.has(mh)||this.states.length!=Object.keys(this.deltaFunctionMatrix).length)return!1;switch(this.automatonType){case"FINITE":for(const a in this.deltaFunctionMatrix){const u=new Set([]);let l=0;for(const f in this.deltaFunctionMatrix[a]){const c=this.deltaFunctionMatrix[a][f];l+=c.length;for(const g of c)if(g instanceof op)u.add(g.inputChar);else throw new Error("Finite automaton has non-finite edge")}if(l!=u.size||l!=e.size)return!1}return!0;case"PDA":for(const a in this.deltaFunctionMatrix){const u={};let l=0;for(const c in this.deltaFunctionMatrix[a]){const g=this.deltaFunctionMatrix[a][c];l+=g.length;for(const v of g)if(v instanceof Cc)u[v.inputChar]===void 0&&(u[v.inputChar]=new Set([])),u[v.inputChar].add(v.readStackChar);else throw new Error("PDA has non-PDA edge")}let f=0;for(const c in u)f=f+u[c].size;if(l!=f||l!=e.size*t.size)return!1}return!0}return!1}createRunSimulation(e){switch(this.automatonType){case"FINITE":return new o1(this,new Lb(this.initialStateId,e));case"PDA":return new o1(this,new zb(this.initialStateId,e,[l1]));case"TURING":throw new Error("Not implemented.")}}}class OS{constructor(e,t,a,u,l){Re(this,"states");Re(this,"automatonType");Re(this,"deltaFunctionMatrix");Re(this,"initialStateId");Re(this,"finalStateIds");this.states=[...e],this.automatonType=a,this.initialStateId=u,this.finalStateIds=[...l],this.deltaFunctionMatrix=Qm.cloneDeep(t)}}class _S{constructor(e){Re(this,"internalFactory");Re(this,"edgeCounter",0);if(e===bi.FINITE)this.internalFactory=new NS;else if(e===bi.PDA)this.internalFactory=new LS;else{const t=[bi.FINITE,bi.PDA];throw new Error(`Unsupported automaton type: ${e}. Supported types are ${JSON.stringify(t)}.`)}}createAutomaton(e){return this.internalFactory.createAutomaton(e)}createEdge(e){return e.id=`_${this.edgeCounter}`,this.edgeCounter++,this.internalFactory.createEdge(e)}}class NS{createAutomaton(e){return new Ub({states:[e],deltaFunctionMatrix:{},automatonType:bi.FINITE,initialStateId:e,finalStateIds:[]})}createEdge(e){return new op(e.id,e.inputChar)}}class LS{createAutomaton(e){return new Ub({states:[e],deltaFunctionMatrix:{},automatonType:bi.PDA,initialStateId:e,finalStateIds:[]})}createEdge(e){if(!e.readStackChar||!e.writeStackWord)throw new Error("Cannot create PDAEdge without both readStackChar and writeStackWord arguments");return new Cc(e.id,e.inputChar,e.readStackChar,e.writeStackWord)}}function lr(n){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(n)}function ds(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function hs(n,e,t){return e&&zS(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Pb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pr(n,e){return IS(n)||PS(n,e)||x0(n,e)||FS()}function Hb(n){return kS(n)||US(n)||x0(n)||HS()}function kS(n){if(Array.isArray(n))return a0(n)}function IS(n){if(Array.isArray(n))return n}function US(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function PS(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a=[],u=!0,l=!1,f,c;try{for(t=t.call(n);!(u=(f=t.next()).done)&&(a.push(f.value),!(e&&a.length===e));u=!0);}catch(g){l=!0,c=g}finally{try{!u&&t.return!=null&&t.return()}finally{if(l)throw c}}return a}}function x0(n,e){if(n){if(typeof n=="string")return a0(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a0(n,e)}}function a0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function HS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qa(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=x0(n))||e){t&&(n=t);var a=0,u=function(){};return{s:u,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(g){throw g},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,f=!1,c;return{s:function(){t=t.call(n)},n:function(){var g=t.next();return l=g.done,g},e:function(g){f=!0,c=g},f:function(){try{!l&&t.return!=null&&t.return()}finally{if(f)throw c}}}}var ir=typeof window>"u"?null:window,c1=ir?ir.navigator:null;ir&&ir.document;var qS=lr(""),Fb=lr({}),GS=lr(function(){}),VS=typeof HTMLElement>"u"?"undefined":lr(HTMLElement),ph=function(e){return e&&e.instanceString&&Un(e.instanceString)?e.instanceString():null},ut=function(e){return e!=null&&lr(e)==qS},Un=function(e){return e!=null&&lr(e)===GS},dn=function(e){return!$a(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Xt=function(e){return e!=null&&lr(e)===Fb&&!dn(e)&&e.constructor===Object},YS=function(e){return e!=null&&lr(e)===Fb},Ge=function(e){return e!=null&&lr(e)===lr(1)&&!isNaN(e)},XS=function(e){return Ge(e)&&Math.floor(e)===e},$m=function(e){if(VS!=="undefined")return e!=null&&e instanceof HTMLElement},$a=function(e){return yh(e)||qb(e)},yh=function(e){return ph(e)==="collection"&&e._private.single},qb=function(e){return ph(e)==="collection"&&!e._private.single},T0=function(e){return ph(e)==="core"},Gb=function(e){return ph(e)==="stylesheet"},KS=function(e){return ph(e)==="event"},ls=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},ZS=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},WS=function(e){return Xt(e)&&Ge(e.x1)&&Ge(e.x2)&&Ge(e.y1)&&Ge(e.y2)},QS=function(e){return YS(e)&&Un(e.then)},$S=function(){return c1&&c1.userAgent.match(/msie|trident|edge/i)},rh=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var l=[],f=0;f<arguments.length;f++)l.push(arguments[f]);return l.join("$")});var a=function u(){var l=this,f=arguments,c,g=t.apply(l,f),v=u.cache;return(c=v[g])||(c=v[g]=e.apply(l,f)),c};return a.cache={},a},C0=rh(function(n){return n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),fp=rh(function(n){return n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Vb=rh(function(n,e){return n+e[0].toUpperCase()+e.substring(1)},function(n,e){return n+"$"+e}),v1=function(e){return ls(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},ur="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",JS="rgb[a]?\\(("+ur+"[%]?)\\s*,\\s*("+ur+"[%]?)\\s*,\\s*("+ur+"[%]?)(?:\\s*,\\s*("+ur+"))?\\)",jS="rgb[a]?\\((?:"+ur+"[%]?)\\s*,\\s*(?:"+ur+"[%]?)\\s*,\\s*(?:"+ur+"[%]?)(?:\\s*,\\s*(?:"+ur+"))?\\)",ex="hsl[a]?\\(("+ur+")\\s*,\\s*("+ur+"[%])\\s*,\\s*("+ur+"[%])(?:\\s*,\\s*("+ur+"))?\\)",tx="hsl[a]?\\((?:"+ur+")\\s*,\\s*(?:"+ur+"[%])\\s*,\\s*(?:"+ur+"[%])(?:\\s*,\\s*(?:"+ur+"))?\\)",nx="\\#[0-9a-fA-F]{3}",rx="\\#[0-9a-fA-F]{6}",Yb=function(e,t){return e<t?-1:e>t?1:0},ax=function(e,t){return-1*Yb(e,t)},vt=Object.assign!=null?Object.assign.bind(Object):function(n){for(var e=arguments,t=1;t<e.length;t++){var a=e[t];if(a!=null)for(var u=Object.keys(a),l=0;l<u.length;l++){var f=u[l];n[f]=a[f]}}return n},ix=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,a,u,l,f=16;return t?(a=parseInt(e[1]+e[1],f),u=parseInt(e[2]+e[2],f),l=parseInt(e[3]+e[3],f)):(a=parseInt(e[1]+e[2],f),u=parseInt(e[3]+e[4],f),l=parseInt(e[5]+e[6],f)),[a,u,l]}},ux=function(e){var t,a,u,l,f,c,g,v;function m(S,D,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?S+(D-S)*6*T:T<1/2?D:T<2/3?S+(D-S)*(2/3-T)*6:S}var p=new RegExp("^"+ex+"$").exec(e);if(p){if(a=parseInt(p[1]),a<0?a=(360- -1*a%360)%360:a>360&&(a=a%360),a/=360,u=parseFloat(p[2]),u<0||u>100||(u=u/100,l=parseFloat(p[3]),l<0||l>100)||(l=l/100,f=p[4],f!==void 0&&(f=parseFloat(f),f<0||f>1)))return;if(u===0)c=g=v=Math.round(l*255);else{var w=l<.5?l*(1+u):l+u-l*u,x=2*l-w;c=Math.round(255*m(x,w,a+1/3)),g=Math.round(255*m(x,w,a)),v=Math.round(255*m(x,w,a-1/3))}t=[c,g,v,f]}return t},lx=function(e){var t,a=new RegExp("^"+JS+"$").exec(e);if(a){t=[];for(var u=[],l=1;l<=3;l++){var f=a[l];if(f[f.length-1]==="%"&&(u[l]=!0),f=parseFloat(f),u[l]&&(f=f/100*255),f<0||f>255)return;t.push(Math.floor(f))}var c=u[1]||u[2]||u[3],g=u[1]&&u[2]&&u[3];if(c&&!g)return;var v=a[4];if(v!==void 0){if(v=parseFloat(v),v<0||v>1)return;t.push(v)}}return t},sx=function(e){return ox[e.toLowerCase()]},Xb=function(e){return(dn(e)?e:null)||sx(e)||ix(e)||lx(e)||ux(e)},ox={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Kb=function(e){for(var t=e.map,a=e.keys,u=a.length,l=0;l<u;l++){var f=a[l];if(Xt(f))throw Error("Tried to set map with object key");l<a.length-1?(t[f]==null&&(t[f]={}),t=t[f]):t[f]=e.value}},Zb=function(e){for(var t=e.map,a=e.keys,u=a.length,l=0;l<u;l++){var f=a[l];if(Xt(f))throw Error("Tried to get map with object key");if(t=t[f],t==null)return t}return t};function fx(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var No=fx,Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cx(n,e){return e={exports:{}},n(e,e.exports),e.exports}var vx=typeof Zd=="object"&&Zd&&Zd.Object===Object&&Zd,dx=vx,hx=typeof self=="object"&&self&&self.Object===Object&&self,gx=dx||hx||Function("return this")(),cp=gx,mx=function(){return cp.Date.now()},qy=mx,px=/\s/;function yx(n){for(var e=n.length;e--&&px.test(n.charAt(e)););return e}var bx=yx,wx=/^\s+/;function Ex(n){return n&&n.slice(0,bx(n)+1).replace(wx,"")}var Sx=Ex,xx=cp.Symbol,Ac=xx,Wb=Object.prototype,Tx=Wb.hasOwnProperty,Cx=Wb.toString,Pd=Ac?Ac.toStringTag:void 0;function Ax(n){var e=Tx.call(n,Pd),t=n[Pd];try{n[Pd]=void 0;var a=!0}catch{}var u=Cx.call(n);return a&&(e?n[Pd]=t:delete n[Pd]),u}var Dx=Ax,Rx=Object.prototype,Mx=Rx.toString;function Bx(n){return Mx.call(n)}var Ox=Bx,_x="[object Null]",Nx="[object Undefined]",d1=Ac?Ac.toStringTag:void 0;function Lx(n){return n==null?n===void 0?Nx:_x:d1&&d1 in Object(n)?Dx(n):Ox(n)}var Qb=Lx;function zx(n){return n!=null&&typeof n=="object"}var kx=zx,Ix="[object Symbol]";function Ux(n){return typeof n=="symbol"||kx(n)&&Qb(n)==Ix}var bh=Ux,h1=NaN,Px=/^[-+]0x[0-9a-f]+$/i,Hx=/^0b[01]+$/i,Fx=/^0o[0-7]+$/i,qx=parseInt;function Gx(n){if(typeof n=="number")return n;if(bh(n))return h1;if(No(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=No(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Sx(n);var t=Hx.test(n);return t||Fx.test(n)?qx(n.slice(2),t?2:8):Px.test(n)?h1:+n}var g1=Gx,Vx="Expected a function",Yx=Math.max,Xx=Math.min;function Kx(n,e,t){var a,u,l,f,c,g,v=0,m=!1,p=!1,w=!0;if(typeof n!="function")throw new TypeError(Vx);e=g1(e)||0,No(t)&&(m=!!t.leading,p="maxWait"in t,l=p?Yx(g1(t.maxWait)||0,e):l,w="trailing"in t?!!t.trailing:w);function x(z){var O=a,I=u;return a=u=void 0,v=z,f=n.apply(I,O),f}function S(z){return v=z,c=setTimeout(C,e),m?x(z):f}function D(z){var O=z-g,I=z-v,L=e-O;return p?Xx(L,l-I):L}function T(z){var O=z-g,I=z-v;return g===void 0||O>=e||O<0||p&&I>=l}function C(){var z=qy();if(T(z))return R(z);c=setTimeout(C,D(z))}function R(z){return c=void 0,w&&a?x(z):(a=u=void 0,f)}function M(){c!==void 0&&clearTimeout(c),v=0,a=g=u=c=void 0}function _(){return c===void 0?f:R(qy())}function k(){var z=qy(),O=T(z);if(a=arguments,u=this,g=z,O){if(c===void 0)return S(g);if(p)return clearTimeout(c),c=setTimeout(C,e),x(g)}return c===void 0&&(c=setTimeout(C,e)),f}return k.cancel=M,k.flush=_,k}var wh=Kx,Gy=ir?ir.performance:null,$b=Gy&&Gy.now?function(){return Gy.now()}:function(){return Date.now()},Zx=function(){if(ir){if(ir.requestAnimationFrame)return function(n){ir.requestAnimationFrame(n)};if(ir.mozRequestAnimationFrame)return function(n){ir.mozRequestAnimationFrame(n)};if(ir.webkitRequestAnimationFrame)return function(n){ir.webkitRequestAnimationFrame(n)};if(ir.msRequestAnimationFrame)return function(n){ir.msRequestAnimationFrame(n)}}return function(n){n&&setTimeout(function(){n($b())},1e3/60)}}(),Jm=function(e){return Zx(e)},ll=$b,yc=9261,Jb=65599,Wd=5381,jb=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yc,a=t,u;u=e.next(),!u.done;)a=a*Jb+u.value|0;return a},ah=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yc;return t*Jb+e|0},ih=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wd;return(t<<5)+t+e|0},Wx=function(e,t){return e*2097152+t},ts=function(e){return e[0]*2097152+e[1]},Dm=function(e,t){return[ah(e[0],t[0]),ih(e[1],t[1])]},Qx=function(e,t){var a={value:0,done:!1},u=0,l=e.length,f={next:function(){return u<l?a.value=e[u++]:a.done=!0,a}};return jb(f,t)},ss=function(e,t){var a={value:0,done:!1},u=0,l=e.length,f={next:function(){return u<l?a.value=e.charCodeAt(u++):a.done=!0,a}};return jb(f,t)},ew=function(){return $x(arguments)},$x=function(e){for(var t,a=0;a<e.length;a++){var u=e[a];a===0?t=ss(u):t=ss(u,t)}return t},m1=!0,Jx=console.warn!=null,jx=console.trace!=null,A0=Number.MAX_SAFE_INTEGER||9007199254740991,tw=function(){return!0},jm=function(){return!1},p1=function(){return 0},D0=function(){},In=function(e){throw new Error(e)},nw=function(e){if(e!==void 0)m1=!!e;else return m1},un=function(e){nw()&&(Jx?console.warn(e):(console.log(e),jx&&console.trace()))},eT=function(e){return vt({},e)},Mu=function(e){return e==null?e:dn(e)?e.slice():Xt(e)?eT(e):e},tT=function(e){return e.slice()},rw=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},nT={},aw=function(){return nT},yr=function(e){var t=Object.keys(e);return function(a){for(var u={},l=0;l<t.length;l++){var f=t[l],c=a==null?void 0:a[f];u[f]=c===void 0?e[f]:c}return u}},os=function(e,t,a){for(var u=e.length-1;u>=0;u--)e[u]===t&&e.splice(u,1)},R0=function(e){e.splice(0,e.length)},rT=function(e,t){for(var a=0;a<t.length;a++){var u=t[a];e.push(u)}},Wi=function(e,t,a){return a&&(t=Vb(a,t)),e[t]},rs=function(e,t,a,u){a&&(t=Vb(a,t)),e[t]=u},aT=function(){function n(){ds(this,n),this._obj={}}return hs(n,[{key:"set",value:function(t,a){return this._obj[t]=a,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}]),n}(),Bu=typeof Map<"u"?Map:aT,iT="undefined",uT=function(){function n(e){if(ds(this,n),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var a=0;a<t.length;a++)this.add(t[a])}}return hs(n,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var a=this._obj;a[t]!==1&&(a[t]=1,this.size++)}},{key:"delete",value:function(t){var a=this._obj;a[t]===1&&(a[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(a){return t.has(a)})}},{key:"forEach",value:function(t,a){return this.toArray().forEach(t,a)}}]),n}(),Bc=(typeof Set>"u"?"undefined":lr(Set))!==iT?Set:uT,vp=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!T0(e)){In("An element must have a core reference and parameters set");return}var u=t.group;if(u==null&&(t.data&&t.data.source!=null&&t.data.target!=null?u="edges":u="nodes"),u!=="nodes"&&u!=="edges"){In("An element must be of type `nodes` or `edges`; you specified `"+u+"`");return}this.length=1,this[0]=this;var l=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:u,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?u==="edges":!!t.pannable,active:!1,classes:new Bc,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(l.position.x==null&&(l.position.x=0),l.position.y==null&&(l.position.y=0),t.renderedPosition){var f=t.renderedPosition,c=e.pan(),g=e.zoom();l.position={x:(f.x-c.x)/g,y:(f.y-c.y)/g}}var v=[];dn(t.classes)?v=t.classes:ut(t.classes)&&(v=t.classes.split(/\s+/));for(var m=0,p=v.length;m<p;m++){var w=v[m];!w||w===""||l.classes.add(w)}this.createEmitter();var x=t.style||t.css;x&&(un("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(x)),(a===void 0||a)&&this.restore()},y1=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(a,u,l){var f;Xt(a)&&!$a(a)&&(f=a,a=f.roots||f.root,u=f.visit,l=f.directed),l=arguments.length===2&&!Un(u)?u:l,u=Un(u)?u:function(){};for(var c=this._private.cy,g=a=ut(a)?this.filter(a):a,v=[],m=[],p={},w={},x={},S=0,D,T=this.byGroup(),C=T.nodes,R=T.edges,M=0;M<g.length;M++){var _=g[M],k=_.id();_.isNode()&&(v.unshift(_),e.bfs&&(x[k]=!0,m.push(_)),w[k]=0)}for(var z=function(){var W=e.bfs?v.shift():v.pop(),K=W.id();if(e.dfs){if(x[K])return"continue";x[K]=!0,m.push(W)}var ee=w[K],X=p[K],Q=X!=null?X.source():null,j=X!=null?X.target():null,le=X==null?void 0:W.same(Q)?j[0]:Q[0],P=void 0;if(P=u(W,X,le,S++,ee),P===!0)return D=W,"break";if(P===!1)return"break";for(var Z=W.connectedEdges().filter(function(me){return(!l||me.source().same(W))&&R.has(me)}),ne=0;ne<Z.length;ne++){var de=Z[ne],se=de.connectedNodes().filter(function(me){return!me.same(W)&&C.has(me)}),we=se.id();se.length!==0&&!x[we]&&(se=se[0],v.push(se),e.bfs&&(x[we]=!0,m.push(se)),p[we]=de,w[we]=w[K]+1)}};v.length!==0;){var O=z();if(O!=="continue"&&O==="break")break}for(var I=c.collection(),L=0;L<m.length;L++){var F=m[L],Y=p[F.id()];Y!=null&&I.push(Y),I.push(F)}return{path:c.collection(I),found:c.collection(D)}}},uh={breadthFirstSearch:y1({bfs:!0}),depthFirstSearch:y1({dfs:!0})};uh.bfs=uh.breadthFirstSearch;uh.dfs=uh.depthFirstSearch;var lT=cx(function(n,e){(function(){var t,a,u,l,f,c,g,v,m,p,w,x,S,D,T;u=Math.floor,p=Math.min,a=function(C,R){return C<R?-1:C>R?1:0},m=function(C,R,M,_,k){var z;if(M==null&&(M=0),k==null&&(k=a),M<0)throw new Error("lo must be non-negative");for(_==null&&(_=C.length);M<_;)z=u((M+_)/2),k(R,C[z])<0?_=z:M=z+1;return[].splice.apply(C,[M,M-M].concat(R)),R},c=function(C,R,M){return M==null&&(M=a),C.push(R),D(C,0,C.length-1,M)},f=function(C,R){var M,_;return R==null&&(R=a),M=C.pop(),C.length?(_=C[0],C[0]=M,T(C,0,R)):_=M,_},v=function(C,R,M){var _;return M==null&&(M=a),_=C[0],C[0]=R,T(C,0,M),_},g=function(C,R,M){var _;return M==null&&(M=a),C.length&&M(C[0],R)<0&&(_=[C[0],R],R=_[0],C[0]=_[1],T(C,0,M)),R},l=function(C,R){var M,_,k,z,O,I;for(R==null&&(R=a),z=(function(){I=[];for(var L=0,F=u(C.length/2);0<=F?L<F:L>F;0<=F?L++:L--)I.push(L);return I}).apply(this).reverse(),O=[],_=0,k=z.length;_<k;_++)M=z[_],O.push(T(C,M,R));return O},S=function(C,R,M){var _;if(M==null&&(M=a),_=C.indexOf(R),_!==-1)return D(C,0,_,M),T(C,_,M)},w=function(C,R,M){var _,k,z,O,I;if(M==null&&(M=a),k=C.slice(0,R),!k.length)return k;for(l(k,M),I=C.slice(R),z=0,O=I.length;z<O;z++)_=I[z],g(k,_,M);return k.sort(M).reverse()},x=function(C,R,M){var _,k,z,O,I,L,F,Y,V;if(M==null&&(M=a),R*10<=C.length){if(z=C.slice(0,R).sort(M),!z.length)return z;for(k=z[z.length-1],F=C.slice(R),O=0,L=F.length;O<L;O++)_=F[O],M(_,k)<0&&(m(z,_,0,null,M),z.pop(),k=z[z.length-1]);return z}for(l(C,M),V=[],I=0,Y=p(R,C.length);0<=Y?I<Y:I>Y;0<=Y?++I:--I)V.push(f(C,M));return V},D=function(C,R,M,_){var k,z,O;for(_==null&&(_=a),k=C[M];M>R;){if(O=M-1>>1,z=C[O],_(k,z)<0){C[M]=z,M=O;continue}break}return C[M]=k},T=function(C,R,M){var _,k,z,O,I;for(M==null&&(M=a),k=C.length,I=R,z=C[R],_=2*R+1;_<k;)O=_+1,O<k&&!(M(C[_],C[O])<0)&&(_=O),C[R]=C[_],R=_,_=2*R+1;return C[R]=z,D(C,I,R,M)},t=function(){C.push=c,C.pop=f,C.replace=v,C.pushpop=g,C.heapify=l,C.updateItem=S,C.nlargest=w,C.nsmallest=x;function C(R){this.cmp=R??a,this.nodes=[]}return C.prototype.push=function(R){return c(this.nodes,R,this.cmp)},C.prototype.pop=function(){return f(this.nodes,this.cmp)},C.prototype.peek=function(){return this.nodes[0]},C.prototype.contains=function(R){return this.nodes.indexOf(R)!==-1},C.prototype.replace=function(R){return v(this.nodes,R,this.cmp)},C.prototype.pushpop=function(R){return g(this.nodes,R,this.cmp)},C.prototype.heapify=function(){return l(this.nodes,this.cmp)},C.prototype.updateItem=function(R){return S(this.nodes,R,this.cmp)},C.prototype.clear=function(){return this.nodes=[]},C.prototype.empty=function(){return this.nodes.length===0},C.prototype.size=function(){return this.nodes.length},C.prototype.clone=function(){var R;return R=new C,R.nodes=this.nodes.slice(0),R},C.prototype.toArray=function(){return this.nodes.slice(0)},C.prototype.insert=C.prototype.push,C.prototype.top=C.prototype.peek,C.prototype.front=C.prototype.peek,C.prototype.has=C.prototype.contains,C.prototype.copy=C.prototype.clone,C}(),function(C,R){return n.exports=R()}(this,function(){return t})}).call(Zd)}),Eh=lT,sT=yr({root:null,weight:function(e){return 1},directed:!1}),oT={dijkstra:function(e){if(!Xt(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var a=sT(e),u=a.root,l=a.weight,f=a.directed,c=this,g=l,v=ut(u)?this.filter(u)[0]:u[0],m={},p={},w={},x=this.byGroup(),S=x.nodes,D=x.edges;D.unmergeBy(function(ee){return ee.isLoop()});for(var T=function(X){return m[X.id()]},C=function(X,Q){m[X.id()]=Q,R.updateItem(X)},R=new Eh(function(ee,X){return T(ee)-T(X)}),M=0;M<S.length;M++){var _=S[M];m[_.id()]=_.same(v)?0:1/0,R.push(_)}for(var k=function(X,Q){for(var j=(f?X.edgesTo(Q):X.edgesWith(Q)).intersect(D),le=1/0,P,Z=0;Z<j.length;Z++){var ne=j[Z],de=g(ne);(de<le||!P)&&(le=de,P=ne)}return{edge:P,dist:le}};R.size()>0;){var z=R.pop(),O=T(z),I=z.id();if(w[I]=O,O!==1/0)for(var L=z.neighborhood().intersect(S),F=0;F<L.length;F++){var Y=L[F],V=Y.id(),W=k(z,Y),K=O+W.dist;K<T(Y)&&(C(Y,K),p[V]={node:z,edge:W.edge})}}return{distanceTo:function(X){var Q=ut(X)?S.filter(X)[0]:X[0];return w[Q.id()]},pathTo:function(X){var Q=ut(X)?S.filter(X)[0]:X[0],j=[],le=Q,P=le.id();if(Q.length>0)for(j.unshift(Q);p[P];){var Z=p[P];j.unshift(Z.edge),j.unshift(Z.node),le=Z.node,P=le.id()}return c.spawn(j)}}}},fT={kruskal:function(e){e=e||function(M){return 1};for(var t=this.byGroup(),a=t.nodes,u=t.edges,l=a.length,f=new Array(l),c=a,g=function(_){for(var k=0;k<f.length;k++){var z=f[k];if(z.has(_))return k}},v=0;v<l;v++)f[v]=this.spawn(a[v]);for(var m=u.sort(function(M,_){return e(M)-e(_)}),p=0;p<m.length;p++){var w=m[p],x=w.source()[0],S=w.target()[0],D=g(x),T=g(S),C=f[D],R=f[T];D!==T&&(c.merge(w),C.merge(R),f.splice(T,1))}return c}},cT=yr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),vT={aStar:function(e){var t=this.cy(),a=cT(e),u=a.root,l=a.goal,f=a.heuristic,c=a.directed,g=a.weight;u=t.collection(u)[0],l=t.collection(l)[0];var v=u.id(),m=l.id(),p={},w={},x={},S=new Eh(function(P,Z){return w[P.id()]-w[Z.id()]}),D=new Bc,T={},C={},R=function(Z,ne){S.push(Z),D.add(ne)},M,_,k=function(){M=S.pop(),_=M.id(),D.delete(_)},z=function(Z){return D.has(Z)};R(u,v),p[v]=0,w[v]=f(u);for(var O=0;S.size()>0;){if(k(),O++,_===m){for(var I=[],L=l,F=m,Y=C[F];I.unshift(L),Y!=null&&I.unshift(Y),L=T[F],L!=null;)F=L.id(),Y=C[F];return{found:!0,distance:p[_],path:this.spawn(I),steps:O}}x[_]=!0;for(var V=M._private.edges,W=0;W<V.length;W++){var K=V[W];if(this.hasElementWithId(K.id())&&!(c&&K.data("source")!==_)){var ee=K.source(),X=K.target(),Q=ee.id()!==_?ee:X,j=Q.id();if(this.hasElementWithId(j)&&!x[j]){var le=p[_]+g(K);if(!z(j)){p[j]=le,w[j]=le+f(Q),R(Q,j),T[j]=M,C[j]=K;continue}le<p[j]&&(p[j]=le,w[j]=le+f(Q),T[j]=M,C[j]=K)}}}}return{found:!1,distance:void 0,path:void 0,steps:O}}},dT=yr({weight:function(e){return 1},directed:!1}),hT={floydWarshall:function(e){for(var t=this.cy(),a=dT(e),u=a.weight,l=a.directed,f=u,c=this.byGroup(),g=c.nodes,v=c.edges,m=g.length,p=m*m,w=function(de){return g.indexOf(de)},x=function(de){return g[de]},S=new Array(p),D=0;D<p;D++){var T=D%m,C=(D-T)/m;C===T?S[D]=0:S[D]=1/0}for(var R=new Array(p),M=new Array(p),_=0;_<v.length;_++){var k=v[_],z=k.source()[0],O=k.target()[0];if(z!==O){var I=w(z),L=w(O),F=I*m+L,Y=f(k);if(S[F]>Y&&(S[F]=Y,R[F]=L,M[F]=k),!l){var V=L*m+I;!l&&S[V]>Y&&(S[V]=Y,R[V]=I,M[V]=k)}}}for(var W=0;W<m;W++)for(var K=0;K<m;K++)for(var ee=K*m+W,X=0;X<m;X++){var Q=K*m+X,j=W*m+X;S[ee]+S[j]<S[Q]&&(S[Q]=S[ee]+S[j],R[Q]=R[ee])}var le=function(de){return(ut(de)?t.filter(de):de)[0]},P=function(de){return w(le(de))},Z={distance:function(de,se){var we=P(de),me=P(se);return S[we*m+me]},path:function(de,se){var we=P(de),me=P(se),Me=x(we);if(we===me)return Me.collection();if(R[we*m+me]==null)return t.collection();var Se=t.collection(),ve=we,re;for(Se.merge(Me);we!==me;)ve=we,we=R[we*m+me],re=M[ve*m+we],Se.merge(re),Se.merge(x(we));return Se}};return Z}},gT=yr({weight:function(e){return 1},directed:!1,root:null}),mT={bellmanFord:function(e){var t=this,a=gT(e),u=a.weight,l=a.directed,f=a.root,c=u,g=this,v=this.cy(),m=this.byGroup(),p=m.edges,w=m.nodes,x=w.length,S=new Bu,D=!1,T=[];f=v.collection(f)[0],p.unmergeBy(function(xt){return xt.isLoop()});for(var C=p.length,R=function(Xe){var Ke=S.get(Xe.id());return Ke||(Ke={},S.set(Xe.id(),Ke)),Ke},M=function(Xe){return(ut(Xe)?v.$(Xe):Xe)[0]},_=function(Xe){return R(M(Xe)).dist},k=function(Xe){for(var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,et=M(Xe),$e=[],tt=et;;){if(tt==null)return t.spawn();var lt=R(tt),st=lt.edge,Et=lt.pred;if($e.unshift(tt[0]),tt.same(Ke)&&$e.length>0)break;st!=null&&$e.unshift(st),tt=Et}return g.spawn($e)},z=0;z<x;z++){var O=w[z],I=R(O);O.same(f)?I.dist=0:I.dist=1/0,I.pred=null,I.edge=null}for(var L=!1,F=function(Xe,Ke,et,$e,tt,lt){var st=$e.dist+lt;st<tt.dist&&!et.same($e.edge)&&(tt.dist=st,tt.pred=Xe,tt.edge=et,L=!0)},Y=1;Y<x;Y++){L=!1;for(var V=0;V<C;V++){var W=p[V],K=W.source(),ee=W.target(),X=c(W),Q=R(K),j=R(ee);F(K,ee,W,Q,j,X),l||F(ee,K,W,j,Q,X)}if(!L)break}if(L)for(var le=[],P=0;P<C;P++){var Z=p[P],ne=Z.source(),de=Z.target(),se=c(Z),we=R(ne).dist,me=R(de).dist;if(we+se<me||!l&&me+se<we)if(D||(un("Graph contains a negative weight cycle for Bellman-Ford"),D=!0),e.findNegativeWeightCycles!==!1){var Me=[];we+se<me&&Me.push(ne),!l&&me+se<we&&Me.push(de);for(var Se=Me.length,ve=0;ve<Se;ve++){var re=Me[ve],be=[re];be.push(R(re).edge);for(var Ne=R(re).pred;be.indexOf(Ne)===-1;)be.push(Ne),be.push(R(Ne).edge),Ne=R(Ne).pred;be=be.slice(be.indexOf(Ne));for(var Pe=be[0].id(),Fe=0,mt=2;mt<be.length;mt+=2)be[mt].id()<Pe&&(Pe=be[mt].id(),Fe=mt);be=be.slice(Fe).concat(be.slice(0,Fe)),be.push(be[0]);var Lt=be.map(function(xt){return xt.id()}).join(",");le.indexOf(Lt)===-1&&(T.push(g.spawn(be)),le.push(Lt))}}else break}return{distanceTo:_,pathTo:k,hasNegativeWeightCycle:D,negativeWeightCycles:T}}},pT=Math.sqrt(2),yT=function(e,t,a){a.length===0&&In("Karger-Stein must be run on a connected (sub)graph");for(var u=a[e],l=u[1],f=u[2],c=t[l],g=t[f],v=a,m=v.length-1;m>=0;m--){var p=v[m],w=p[1],x=p[2];(t[w]===c&&t[x]===g||t[w]===g&&t[x]===c)&&v.splice(m,1)}for(var S=0;S<v.length;S++){var D=v[S];D[1]===g?(v[S]=D.slice(),v[S][1]=c):D[2]===g&&(v[S]=D.slice(),v[S][2]=c)}for(var T=0;T<t.length;T++)t[T]===g&&(t[T]=c);return v},Vy=function(e,t,a,u){for(;a>u;){var l=Math.floor(Math.random()*t.length);t=yT(l,e,t),a--}return t},bT={kargerStein:function(){var e=this,t=this.byGroup(),a=t.nodes,u=t.edges;u.unmergeBy(function(j){return j.isLoop()});var l=a.length,f=u.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),g=Math.floor(l/pT);if(l<2){In("At least 2 nodes are required for Karger-Stein algorithm");return}for(var v=[],m=0;m<f;m++){var p=u[m];v.push([m,a.indexOf(p.source()),a.indexOf(p.target())])}for(var w=1/0,x=[],S=new Array(l),D=new Array(l),T=new Array(l),C=function(le,P){for(var Z=0;Z<l;Z++)P[Z]=le[Z]},R=0;R<=c;R++){for(var M=0;M<l;M++)D[M]=M;var _=Vy(D,v.slice(),l,g),k=_.slice();C(D,T);var z=Vy(D,_,g,2),O=Vy(T,k,g,2);z.length<=O.length&&z.length<w?(w=z.length,x=z,C(D,S)):O.length<=z.length&&O.length<w&&(w=O.length,x=O,C(T,S))}for(var I=this.spawn(x.map(function(j){return u[j[0]]})),L=this.spawn(),F=this.spawn(),Y=S[0],V=0;V<S.length;V++){var W=S[V],K=a[V];W===Y?L.merge(K):F.merge(K)}var ee=function(le){var P=e.spawn();return le.forEach(function(Z){P.merge(Z),Z.connectedEdges().forEach(function(ne){e.contains(ne)&&!I.contains(ne)&&P.merge(ne)})}),P},X=[ee(L),ee(F)],Q={cut:I,components:X,partition1:L,partition2:F};return Q}},wT=function(e){return{x:e.x,y:e.y}},dp=function(e,t,a){return{x:e.x*t+a.x,y:e.y*t+a.y}},iw=function(e,t,a){return{x:(e.x-a.x)/t,y:(e.y-a.y)/t}},bc=function(e){return{x:e[0],y:e[1]}},ET=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=1/0,l=t;l<a;l++){var f=e[l];isFinite(f)&&(u=Math.min(f,u))}return u},ST=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=-1/0,l=t;l<a;l++){var f=e[l];isFinite(f)&&(u=Math.max(f,u))}return u},xT=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=0,l=0,f=t;f<a;f++){var c=e[f];isFinite(c)&&(u+=c,l++)}return u/l},TT=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;u?e=e.slice(t,a):(a<e.length&&e.splice(a,e.length-a),t>0&&e.splice(0,t));for(var c=0,g=e.length-1;g>=0;g--){var v=e[g];f?isFinite(v)||(e[g]=-1/0,c++):e.splice(g,1)}l&&e.sort(function(w,x){return w-x});var m=e.length,p=Math.floor(m/2);return m%2!==0?e[p+1+c]:(e[p-1+c]+e[p+c])/2},CT=function(e){return Math.PI*e/180},Rm=function(e,t){return Math.atan2(t,e)-Math.PI/2},M0=Math.log2||function(n){return Math.log(n)/Math.log(2)},uw=function(e){return e>0?1:e<0?-1:0},Lo=function(e,t){return Math.sqrt(Do(e,t))},Do=function(e,t){var a=t.x-e.x,u=t.y-e.y;return a*a+u*u},AT=function(e){for(var t=e.length,a=0,u=0;u<t;u++)a+=e[u];for(var l=0;l<t;l++)e[l]=e[l]/a;return e},mr=function(e,t,a,u){return(1-u)*(1-u)*e+2*(1-u)*u*t+u*u*a},Ec=function(e,t,a,u){return{x:mr(e.x,t.x,a.x,u),y:mr(e.y,t.y,a.y,u)}},DT=function(e,t,a,u){var l={x:t.x-e.x,y:t.y-e.y},f=Lo(e,t),c={x:l.x/f,y:l.y/f};return a=a??0,u=u??a*f,{x:e.x+c.x*u,y:e.y+c.y*u}},lh=function(e,t,a){return Math.max(e,Math.min(a,t))},Ra=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},RT=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},MT=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},BT=function(e,t,a){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+a,y2:e.y2+a,w:e.w,h:e.h}},lw=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},OT=function(e,t,a){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a),e.y2=Math.max(e.y2,a),e.h=e.y2-e.y1},Fm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},qm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],a,u,l,f;if(t.length===1)a=u=l=f=t[0];else if(t.length===2)a=l=t[0],f=u=t[1];else if(t.length===4){var c=pr(t,4);a=c[0],u=c[1],l=c[2],f=c[3]}return e.x1-=f,e.x2+=u,e.y1-=a,e.y2+=l,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},b1=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},B0=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},Dc=function(e,t,a){return e.x1<=t&&t<=e.x2&&e.y1<=a&&a<=e.y2},_T=function(e,t){return Dc(e,t.x,t.y)},sw=function(e,t){return Dc(e,t.x1,t.y1)&&Dc(e,t.x2,t.y2)},ow=function(e,t,a,u,l,f,c){var g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",v=g==="auto"?zo(l,f):g,m=l/2,p=f/2;v=Math.min(v,m,p);var w=v!==m,x=v!==p,S;if(w){var D=a-m+v-c,T=u-p-c,C=a+m-v+c,R=T;if(S=as(e,t,a,u,D,T,C,R,!1),S.length>0)return S}if(x){var M=a+m+c,_=u-p+v-c,k=M,z=u+p-v+c;if(S=as(e,t,a,u,M,_,k,z,!1),S.length>0)return S}if(w){var O=a-m+v-c,I=u+p+c,L=a+m-v+c,F=I;if(S=as(e,t,a,u,O,I,L,F,!1),S.length>0)return S}if(x){var Y=a-m-c,V=u-p+v-c,W=Y,K=u+p-v+c;if(S=as(e,t,a,u,Y,V,W,K,!1),S.length>0)return S}var ee;{var X=a-m+v,Q=u-p+v;if(ee=Qd(e,t,a,u,X,Q,v+c),ee.length>0&&ee[0]<=X&&ee[1]<=Q)return[ee[0],ee[1]]}{var j=a+m-v,le=u-p+v;if(ee=Qd(e,t,a,u,j,le,v+c),ee.length>0&&ee[0]>=j&&ee[1]<=le)return[ee[0],ee[1]]}{var P=a+m-v,Z=u+p-v;if(ee=Qd(e,t,a,u,P,Z,v+c),ee.length>0&&ee[0]>=P&&ee[1]>=Z)return[ee[0],ee[1]]}{var ne=a-m+v,de=u+p-v;if(ee=Qd(e,t,a,u,ne,de,v+c),ee.length>0&&ee[0]<=ne&&ee[1]>=de)return[ee[0],ee[1]]}return[]},NT=function(e,t,a,u,l,f,c){var g=c,v=Math.min(a,l),m=Math.max(a,l),p=Math.min(u,f),w=Math.max(u,f);return v-g<=e&&e<=m+g&&p-g<=t&&t<=w+g},LT=function(e,t,a,u,l,f,c,g,v){var m={x1:Math.min(a,c,l)-v,x2:Math.max(a,c,l)+v,y1:Math.min(u,g,f)-v,y2:Math.max(u,g,f)+v};return!(e<m.x1||e>m.x2||t<m.y1||t>m.y2)},zT=function(e,t,a,u){a-=u;var l=t*t-4*e*a;if(l<0)return[];var f=Math.sqrt(l),c=2*e,g=(-t+f)/c,v=(-t-f)/c;return[g,v]},kT=function(e,t,a,u,l){var f=1e-5;e===0&&(e=f),t/=e,a/=e,u/=e;var c,g,v,m,p,w,x,S;if(g=(3*a-t*t)/9,v=-(27*u)+t*(9*a-2*(t*t)),v/=54,c=g*g*g+v*v,l[1]=0,x=t/3,c>0){p=v+Math.sqrt(c),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),w=v-Math.sqrt(c),w=w<0?-Math.pow(-w,1/3):Math.pow(w,1/3),l[0]=-x+p+w,x+=(p+w)/2,l[4]=l[2]=-x,x=Math.sqrt(3)*(-w+p)/2,l[3]=x,l[5]=-x;return}if(l[5]=l[3]=0,c===0){S=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),l[0]=-x+2*S,l[4]=l[2]=-(S+x);return}g=-g,m=g*g*g,m=Math.acos(v/Math.sqrt(m)),S=2*Math.sqrt(g),l[0]=-x+S*Math.cos(m/3),l[2]=-x+S*Math.cos((m+2*Math.PI)/3),l[4]=-x+S*Math.cos((m+4*Math.PI)/3)},IT=function(e,t,a,u,l,f,c,g){var v=1*a*a-4*a*l+2*a*c+4*l*l-4*l*c+c*c+u*u-4*u*f+2*u*g+4*f*f-4*f*g+g*g,m=1*9*a*l-3*a*a-3*a*c-6*l*l+3*l*c+9*u*f-3*u*u-3*u*g-6*f*f+3*f*g,p=1*3*a*a-6*a*l+a*c-a*e+2*l*l+2*l*e-c*e+3*u*u-6*u*f+u*g-u*t+2*f*f+2*f*t-g*t,w=1*a*l-a*a+a*e-l*e+u*f-u*u+u*t-f*t,x=[];kT(v,m,p,w,x);for(var S=1e-7,D=[],T=0;T<6;T+=2)Math.abs(x[T+1])<S&&x[T]>=0&&x[T]<=1&&D.push(x[T]);D.push(1),D.push(0);for(var C=-1,R,M,_,k=0;k<D.length;k++)R=Math.pow(1-D[k],2)*a+2*(1-D[k])*D[k]*l+D[k]*D[k]*c,M=Math.pow(1-D[k],2)*u+2*(1-D[k])*D[k]*f+D[k]*D[k]*g,_=Math.pow(R-e,2)+Math.pow(M-t,2),C>=0?_<C&&(C=_):C=_;return C},UT=function(e,t,a,u,l,f){var c=[e-a,t-u],g=[l-a,f-u],v=g[0]*g[0]+g[1]*g[1],m=c[0]*c[0]+c[1]*c[1],p=c[0]*g[0]+c[1]*g[1],w=p*p/v;return p<0?m:w>v?(e-l)*(e-l)+(t-f)*(t-f):m-w},Da=function(e,t,a){for(var u,l,f,c,g,v=0,m=0;m<a.length/2;m++)if(u=a[m*2],l=a[m*2+1],m+1<a.length/2?(f=a[(m+1)*2],c=a[(m+1)*2+1]):(f=a[(m+1-a.length/2)*2],c=a[(m+1-a.length/2)*2+1]),!(u==e&&f==e))if(u>=e&&e>=f||u<=e&&e<=f)g=(e-u)/(f-u)*(c-l)+l,g>t&&v++;else continue;return v%2!==0},sl=function(e,t,a,u,l,f,c,g,v){var m=new Array(a.length),p;g[0]!=null?(p=Math.atan(g[1]/g[0]),g[0]<0?p=p+Math.PI/2:p=-p-Math.PI/2):p=g;for(var w=Math.cos(-p),x=Math.sin(-p),S=0;S<m.length/2;S++)m[S*2]=f/2*(a[S*2]*w-a[S*2+1]*x),m[S*2+1]=c/2*(a[S*2+1]*w+a[S*2]*x),m[S*2]+=u,m[S*2+1]+=l;var D;if(v>0){var T=tp(m,-v);D=ep(T)}else D=m;return Da(e,t,D)},PT=function(e,t,a,u,l,f,c,g){for(var v=new Array(a.length*2),m=0;m<g.length;m++){var p=g[m];v[m*4+0]=p.startX,v[m*4+1]=p.startY,v[m*4+2]=p.stopX,v[m*4+3]=p.stopY;var w=Math.pow(p.cx-e,2)+Math.pow(p.cy-t,2);if(w<=Math.pow(p.radius,2))return!0}return Da(e,t,v)},ep=function(e){for(var t=new Array(e.length/2),a,u,l,f,c,g,v,m,p=0;p<e.length/4;p++){a=e[p*4],u=e[p*4+1],l=e[p*4+2],f=e[p*4+3],p<e.length/4-1?(c=e[(p+1)*4],g=e[(p+1)*4+1],v=e[(p+1)*4+2],m=e[(p+1)*4+3]):(c=e[0],g=e[1],v=e[2],m=e[3]);var w=as(a,u,l,f,c,g,v,m,!0);t[p*2]=w[0],t[p*2+1]=w[1]}return t},tp=function(e,t){for(var a=new Array(e.length*2),u,l,f,c,g=0;g<e.length/2;g++){u=e[g*2],l=e[g*2+1],g<e.length/2-1?(f=e[(g+1)*2],c=e[(g+1)*2+1]):(f=e[0],c=e[1]);var v=c-l,m=-(f-u),p=Math.sqrt(v*v+m*m),w=v/p,x=m/p;a[g*4]=u+w*t,a[g*4+1]=l+x*t,a[g*4+2]=f+w*t,a[g*4+3]=c+x*t}return a},HT=function(e,t,a,u,l,f){var c=a-e,g=u-t;c/=l,g/=f;var v=Math.sqrt(c*c+g*g),m=v-1;if(m<0)return[];var p=m/v;return[(a-e)*p+e,(u-t)*p+t]},Oo=function(e,t,a,u,l,f,c){return e-=l,t-=f,e/=a/2+c,t/=u/2+c,e*e+t*t<=1},Qd=function(e,t,a,u,l,f,c){var g=[a-e,u-t],v=[e-l,t-f],m=g[0]*g[0]+g[1]*g[1],p=2*(v[0]*g[0]+v[1]*g[1]),w=v[0]*v[0]+v[1]*v[1]-c*c,x=p*p-4*m*w;if(x<0)return[];var S=(-p+Math.sqrt(x))/(2*m),D=(-p-Math.sqrt(x))/(2*m),T=Math.min(S,D),C=Math.max(S,D),R=[];if(T>=0&&T<=1&&R.push(T),C>=0&&C<=1&&R.push(C),R.length===0)return[];var M=R[0]*g[0]+e,_=R[0]*g[1]+t;if(R.length>1){if(R[0]==R[1])return[M,_];var k=R[1]*g[0]+e,z=R[1]*g[1]+t;return[M,_,k,z]}else return[M,_]},Yy=function(e,t,a){return t<=e&&e<=a||a<=e&&e<=t?e:e<=t&&t<=a||a<=t&&t<=e?t:a},as=function(e,t,a,u,l,f,c,g,v){var m=e-l,p=a-e,w=c-l,x=t-f,S=u-t,D=g-f,T=w*x-D*m,C=p*x-S*m,R=D*p-w*S;if(R!==0){var M=T/R,_=C/R,k=.001,z=0-k,O=1+k;return z<=M&&M<=O&&z<=_&&_<=O?[e+M*p,t+M*S]:v?[e+M*p,t+M*S]:[]}else return T===0||C===0?Yy(e,a,c)===c?[c,g]:Yy(e,a,l)===l?[l,f]:Yy(l,c,a)===a?[a,u]:[]:[]},sh=function(e,t,a,u,l,f,c,g){var v=[],m,p=new Array(a.length),w=!0;f==null&&(w=!1);var x;if(w){for(var S=0;S<p.length/2;S++)p[S*2]=a[S*2]*f+u,p[S*2+1]=a[S*2+1]*c+l;if(g>0){var D=tp(p,-g);x=ep(D)}else x=p}else x=a;for(var T,C,R,M,_=0;_<x.length/2;_++)T=x[_*2],C=x[_*2+1],_<x.length/2-1?(R=x[(_+1)*2],M=x[(_+1)*2+1]):(R=x[0],M=x[1]),m=as(e,t,u,l,T,C,R,M),m.length!==0&&v.push(m[0],m[1]);return v},FT=function(e,t,a,u,l,f,c,g,v){var m=[],p,w=new Array(a.length*2);v.forEach(function(R,M){M===0?(w[w.length-2]=R.startX,w[w.length-1]=R.startY):(w[M*4-2]=R.startX,w[M*4-1]=R.startY),w[M*4]=R.stopX,w[M*4+1]=R.stopY,p=Qd(e,t,u,l,R.cx,R.cy,R.radius),p.length!==0&&m.push(p[0],p[1])});for(var x=0;x<w.length/4;x++)p=as(e,t,u,l,w[x*4],w[x*4+1],w[x*4+2],w[x*4+3],!1),p.length!==0&&m.push(p[0],p[1]);if(m.length>2){for(var S=[m[0],m[1]],D=Math.pow(S[0]-e,2)+Math.pow(S[1]-t,2),T=1;T<m.length/2;T++){var C=Math.pow(m[T*2]-e,2)+Math.pow(m[T*2+1]-t,2);C<=D&&(S[0]=m[T*2],S[1]=m[T*2+1],D=C)}return S}return m},Mm=function(e,t,a){var u=[e[0]-t[0],e[1]-t[1]],l=Math.sqrt(u[0]*u[0]+u[1]*u[1]),f=(l-a)/l;return f<0&&(f=1e-5),[t[0]+f*u[0],t[1]+f*u[1]]},fa=function(e,t){var a=i0(e,t);return a=fw(a),a},fw=function(e){for(var t,a,u=e.length/2,l=1/0,f=1/0,c=-1/0,g=-1/0,v=0;v<u;v++)t=e[2*v],a=e[2*v+1],l=Math.min(l,t),c=Math.max(c,t),f=Math.min(f,a),g=Math.max(g,a);for(var m=2/(c-l),p=2/(g-f),w=0;w<u;w++)t=e[2*w]=e[2*w]*m,a=e[2*w+1]=e[2*w+1]*p,l=Math.min(l,t),c=Math.max(c,t),f=Math.min(f,a),g=Math.max(g,a);if(f<-1)for(var x=0;x<u;x++)a=e[2*x+1]=e[2*x+1]+(-1-f);return e},i0=function(e,t){var a=1/e*2*Math.PI,u=e%2===0?Math.PI/2+a/2:Math.PI/2;u+=t;for(var l=new Array(e*2),f,c=0;c<e;c++)f=c*a+u,l[2*c]=Math.cos(f),l[2*c+1]=Math.sin(-f);return l},zo=function(e,t){return Math.min(e/4,t/4,8)},cw=function(e,t){return Math.min(e/10,t/10,8)},O0=function(){return 8},qT=function(e,t,a){return[e-2*t+a,2*(t-e),e]},u0=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},GT=yr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),VT={pageRank:function(e){for(var t=GT(e),a=t.dampingFactor,u=t.precision,l=t.iterations,f=t.weight,c=this._private.cy,g=this.byGroup(),v=g.nodes,m=g.edges,p=v.length,w=p*p,x=m.length,S=new Array(w),D=new Array(p),T=(1-a)/p,C=0;C<p;C++){for(var R=0;R<p;R++){var M=C*p+R;S[M]=0}D[C]=0}for(var _=0;_<x;_++){var k=m[_],z=k.data("source"),O=k.data("target");if(z!==O){var I=v.indexOfId(z),L=v.indexOfId(O),F=f(k),Y=L*p+I;S[Y]+=F,D[I]+=F}}for(var V=1/p+T,W=0;W<p;W++)if(D[W]===0)for(var K=0;K<p;K++){var ee=K*p+W;S[ee]=V}else for(var X=0;X<p;X++){var Q=X*p+W;S[Q]=S[Q]/D[W]+T}for(var j=new Array(p),le=new Array(p),P,Z=0;Z<p;Z++)j[Z]=1;for(var ne=0;ne<l;ne++){for(var de=0;de<p;de++)le[de]=0;for(var se=0;se<p;se++)for(var we=0;we<p;we++){var me=se*p+we;le[se]+=S[me]*j[we]}AT(le),P=j,j=le,le=P;for(var Me=0,Se=0;Se<p;Se++){var ve=P[Se]-j[Se];Me+=ve*ve}if(Me<u)break}var re={rank:function(Ne){return Ne=c.collection(Ne)[0],j[v.indexOf(Ne)]}};return re}},w1=yr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Sc={degreeCentralityNormalized:function(e){e=w1(e);var t=this.cy(),a=this.nodes(),u=a.length;if(e.directed){for(var m={},p={},w=0,x=0,S=0;S<u;S++){var D=a[S],T=D.id();e.root=D;var C=this.degreeCentrality(e);w<C.indegree&&(w=C.indegree),x<C.outdegree&&(x=C.outdegree),m[T]=C.indegree,p[T]=C.outdegree}return{indegree:function(M){return w==0?0:(ut(M)&&(M=t.filter(M)),m[M.id()]/w)},outdegree:function(M){return x===0?0:(ut(M)&&(M=t.filter(M)),p[M.id()]/x)}}}else{for(var l={},f=0,c=0;c<u;c++){var g=a[c];e.root=g;var v=this.degreeCentrality(e);f<v.degree&&(f=v.degree),l[g.id()]=v.degree}return{degree:function(M){return f===0?0:(ut(M)&&(M=t.filter(M)),l[M.id()]/f)}}}},degreeCentrality:function(e){e=w1(e);var t=this.cy(),a=this,u=e,l=u.root,f=u.weight,c=u.directed,g=u.alpha;if(l=t.collection(l)[0],c){for(var x=l.connectedEdges(),S=x.filter(function(z){return z.target().same(l)&&a.has(z)}),D=x.filter(function(z){return z.source().same(l)&&a.has(z)}),T=S.length,C=D.length,R=0,M=0,_=0;_<S.length;_++)R+=f(S[_]);for(var k=0;k<D.length;k++)M+=f(D[k]);return{indegree:Math.pow(T,1-g)*Math.pow(R,g),outdegree:Math.pow(C,1-g)*Math.pow(M,g)}}else{for(var v=l.connectedEdges().intersection(a),m=v.length,p=0,w=0;w<v.length;w++)p+=f(v[w]);return{degree:Math.pow(m,1-g)*Math.pow(p,g)}}}};Sc.dc=Sc.degreeCentrality;Sc.dcn=Sc.degreeCentralityNormalised=Sc.degreeCentralityNormalized;var E1=yr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),xc={closenessCentralityNormalized:function(e){for(var t=E1(e),a=t.harmonic,u=t.weight,l=t.directed,f=this.cy(),c={},g=0,v=this.nodes(),m=this.floydWarshall({weight:u,directed:l}),p=0;p<v.length;p++){for(var w=0,x=v[p],S=0;S<v.length;S++)if(p!==S){var D=m.distance(x,v[S]);a?w+=1/D:w+=D}a||(w=1/w),g<w&&(g=w),c[x.id()]=w}return{closeness:function(C){return g==0?0:(ut(C)?C=f.filter(C)[0].id():C=C.id(),c[C]/g)}}},closenessCentrality:function(e){var t=E1(e),a=t.root,u=t.weight,l=t.directed,f=t.harmonic;a=this.filter(a)[0];for(var c=this.dijkstra({root:a,weight:u,directed:l}),g=0,v=this.nodes(),m=0;m<v.length;m++){var p=v[m];if(!p.same(a)){var w=c.distanceTo(p);f?g+=1/w:g+=w}}return f?g:1/g}};xc.cc=xc.closenessCentrality;xc.ccn=xc.closenessCentralityNormalised=xc.closenessCentralityNormalized;var YT=yr({weight:null,directed:!1}),l0={betweennessCentrality:function(e){for(var t=YT(e),a=t.directed,u=t.weight,l=u!=null,f=this.cy(),c=this.nodes(),g={},v={},m=0,p={set:function(M,_){v[M]=_,_>m&&(m=_)},get:function(M){return v[M]}},w=0;w<c.length;w++){var x=c[w],S=x.id();a?g[S]=x.outgoers().nodes():g[S]=x.openNeighborhood().nodes(),p.set(S,0)}for(var D=function(M){for(var _=c[M].id(),k=[],z={},O={},I={},L=new Eh(function(we,me){return I[we]-I[me]}),F=0;F<c.length;F++){var Y=c[F].id();z[Y]=[],O[Y]=0,I[Y]=1/0}for(O[_]=1,I[_]=0,L.push(_);!L.empty();){var V=L.pop();if(k.push(V),l)for(var W=0;W<g[V].length;W++){var K=g[V][W],ee=f.getElementById(V),X=void 0;ee.edgesTo(K).length>0?X=ee.edgesTo(K)[0]:X=K.edgesTo(ee)[0];var Q=u(X);K=K.id(),I[K]>I[V]+Q&&(I[K]=I[V]+Q,L.nodes.indexOf(K)<0?L.push(K):L.updateItem(K),O[K]=0,z[K]=[]),I[K]==I[V]+Q&&(O[K]=O[K]+O[V],z[K].push(V))}else for(var j=0;j<g[V].length;j++){var le=g[V][j].id();I[le]==1/0&&(L.push(le),I[le]=I[V]+1),I[le]==I[V]+1&&(O[le]=O[le]+O[V],z[le].push(V))}}for(var P={},Z=0;Z<c.length;Z++)P[c[Z].id()]=0;for(;k.length>0;){for(var ne=k.pop(),de=0;de<z[ne].length;de++){var se=z[ne][de];P[se]=P[se]+O[se]/O[ne]*(1+P[ne])}ne!=c[M].id()&&p.set(ne,p.get(ne)+P[ne])}},T=0;T<c.length;T++)D(T);var C={betweenness:function(M){var _=f.collection(M).id();return p.get(_)},betweennessNormalized:function(M){if(m==0)return 0;var _=f.collection(M).id();return p.get(_)/m}};return C.betweennessNormalised=C.betweennessNormalized,C}};l0.bc=l0.betweennessCentrality;var XT=yr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(n){return 1}]}),KT=function(e){return XT(e)},ZT=function(e,t){for(var a=0,u=0;u<t.length;u++)a+=t[u](e);return a},WT=function(e,t,a){for(var u=0;u<t;u++)e[u*t+u]=a},vw=function(e,t){for(var a,u=0;u<t;u++){a=0;for(var l=0;l<t;l++)a+=e[l*t+u];for(var f=0;f<t;f++)e[f*t+u]=e[f*t+u]/a}},QT=function(e,t,a){for(var u=new Array(a*a),l=0;l<a;l++){for(var f=0;f<a;f++)u[l*a+f]=0;for(var c=0;c<a;c++)for(var g=0;g<a;g++)u[l*a+g]+=e[l*a+c]*t[c*a+g]}return u},$T=function(e,t,a){for(var u=e.slice(0),l=1;l<a;l++)e=QT(e,u,t);return e},JT=function(e,t,a){for(var u=new Array(t*t),l=0;l<t*t;l++)u[l]=Math.pow(e[l],a);return vw(u,t),u},jT=function(e,t,a,u){for(var l=0;l<a;l++){var f=Math.round(e[l]*Math.pow(10,u))/Math.pow(10,u),c=Math.round(t[l]*Math.pow(10,u))/Math.pow(10,u);if(f!==c)return!1}return!0},e2=function(e,t,a,u){for(var l=[],f=0;f<t;f++){for(var c=[],g=0;g<t;g++)Math.round(e[f*t+g]*1e3)/1e3>0&&c.push(a[g]);c.length!==0&&l.push(u.collection(c))}return l},t2=function(e,t){for(var a=0;a<e.length;a++)if(!t[a]||e[a].id()!==t[a].id())return!1;return!0},n2=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)t!=a&&t2(e[t],e[a])&&e.splice(a,1);return e},S1=function(e){for(var t=this.nodes(),a=this.edges(),u=this.cy(),l=KT(e),f={},c=0;c<t.length;c++)f[t[c].id()]=c;for(var g=t.length,v=g*g,m=new Array(v),p,w=0;w<v;w++)m[w]=0;for(var x=0;x<a.length;x++){var S=a[x],D=f[S.source().id()],T=f[S.target().id()],C=ZT(S,l.attributes);m[D*g+T]+=C,m[T*g+D]+=C}WT(m,g,l.multFactor),vw(m,g);for(var R=!0,M=0;R&&M<l.maxIterations;)R=!1,p=$T(m,g,l.expandFactor),m=JT(p,g,l.inflateFactor),jT(m,p,v,4)||(R=!0),M++;var _=e2(m,g,t,u);return _=n2(_),_},r2={markovClustering:S1,mcl:S1},a2=function(e){return e},dw=function(e,t){return Math.abs(t-e)},x1=function(e,t,a){return e+dw(t,a)},T1=function(e,t,a){return e+Math.pow(a-t,2)},i2=function(e){return Math.sqrt(e)},u2=function(e,t,a){return Math.max(e,dw(t,a))},Hd=function(e,t,a,u,l){for(var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:a2,c=u,g,v,m=0;m<e;m++)g=t(m),v=a(m),c=l(c,g,v);return f(c)},Rc={euclidean:function(e,t,a){return e>=2?Hd(e,t,a,0,T1,i2):Hd(e,t,a,0,x1)},squaredEuclidean:function(e,t,a){return Hd(e,t,a,0,T1)},manhattan:function(e,t,a){return Hd(e,t,a,0,x1)},max:function(e,t,a){return Hd(e,t,a,-1/0,u2)}};Rc["squared-euclidean"]=Rc.squaredEuclidean;Rc.squaredeuclidean=Rc.squaredEuclidean;function hp(n,e,t,a,u,l){var f;return Un(n)?f=n:f=Rc[n]||Rc.euclidean,e===0&&Un(n)?f(u,l):f(e,t,a,u,l)}var l2=yr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),_0=function(e){return l2(e)},np=function(e,t,a,u,l){var f=l!=="kMedoids",c=f?function(p){return a[p]}:function(p){return u[p](a)},g=function(w){return u[w](t)},v=a,m=t;return hp(e,u.length,c,g,v,m)},Xy=function(e,t,a){for(var u=a.length,l=new Array(u),f=new Array(u),c=new Array(t),g=null,v=0;v<u;v++)l[v]=e.min(a[v]).value,f[v]=e.max(a[v]).value;for(var m=0;m<t;m++){g=[];for(var p=0;p<u;p++)g[p]=Math.random()*(f[p]-l[p])+l[p];c[m]=g}return c},hw=function(e,t,a,u,l){for(var f=1/0,c=0,g=0;g<t.length;g++){var v=np(a,e,t[g],u,l);v<f&&(f=v,c=g)}return c},gw=function(e,t,a){for(var u=[],l=null,f=0;f<t.length;f++)l=t[f],a[l.id()]===e&&u.push(l);return u},s2=function(e,t,a){return Math.abs(t-e)<=a},o2=function(e,t,a){for(var u=0;u<e.length;u++)for(var l=0;l<e[u].length;l++){var f=Math.abs(e[u][l]-t[u][l]);if(f>a)return!1}return!0},f2=function(e,t,a){for(var u=0;u<a;u++)if(e===t[u])return!0;return!1},C1=function(e,t){var a=new Array(t);if(e.length<50)for(var u=0;u<t;u++){for(var l=e[Math.floor(Math.random()*e.length)];f2(l,a,u);)l=e[Math.floor(Math.random()*e.length)];a[u]=l}else for(var f=0;f<t;f++)a[f]=e[Math.floor(Math.random()*e.length)];return a},A1=function(e,t,a){for(var u=0,l=0;l<t.length;l++)u+=np("manhattan",t[l],e,a,"kMedoids");return u},c2=function(e){var t=this.cy(),a=this.nodes(),u=null,l=_0(e),f=new Array(l.k),c={},g;l.testMode?typeof l.testCentroids=="number"?(l.testCentroids,g=Xy(a,l.k,l.attributes)):lr(l.testCentroids)==="object"?g=l.testCentroids:g=Xy(a,l.k,l.attributes):g=Xy(a,l.k,l.attributes);for(var v=!0,m=0;v&&m<l.maxIterations;){for(var p=0;p<a.length;p++)u=a[p],c[u.id()]=hw(u,g,l.distance,l.attributes,"kMeans");v=!1;for(var w=0;w<l.k;w++){var x=gw(w,a,c);if(x.length!==0){for(var S=l.attributes.length,D=g[w],T=new Array(S),C=new Array(S),R=0;R<S;R++){C[R]=0;for(var M=0;M<x.length;M++)u=x[M],C[R]+=l.attributes[R](u);T[R]=C[R]/x.length,s2(T[R],D[R],l.sensitivityThreshold)||(v=!0)}g[w]=T,f[w]=t.collection(x)}}m++}return f},v2=function(e){var t=this.cy(),a=this.nodes(),u=null,l=_0(e),f=new Array(l.k),c,g={},v,m=new Array(l.k);l.testMode?typeof l.testCentroids=="number"||(lr(l.testCentroids)==="object"?c=l.testCentroids:c=C1(a,l.k)):c=C1(a,l.k);for(var p=!0,w=0;p&&w<l.maxIterations;){for(var x=0;x<a.length;x++)u=a[x],g[u.id()]=hw(u,c,l.distance,l.attributes,"kMedoids");p=!1;for(var S=0;S<c.length;S++){var D=gw(S,a,g);if(D.length!==0){m[S]=A1(c[S],D,l.attributes);for(var T=0;T<D.length;T++)v=A1(D[T],D,l.attributes),v<m[S]&&(m[S]=v,c[S]=D[T],p=!0);f[S]=t.collection(D)}}w++}return f},d2=function(e,t,a,u,l){for(var f,c,g=0;g<t.length;g++)for(var v=0;v<e.length;v++)u[g][v]=Math.pow(a[g][v],l.m);for(var m=0;m<e.length;m++)for(var p=0;p<l.attributes.length;p++){f=0,c=0;for(var w=0;w<t.length;w++)f+=u[w][m]*l.attributes[p](t[w]),c+=u[w][m];e[m][p]=f/c}},h2=function(e,t,a,u,l){for(var f=0;f<e.length;f++)t[f]=e[f].slice();for(var c,g,v,m=2/(l.m-1),p=0;p<a.length;p++)for(var w=0;w<u.length;w++){c=0;for(var x=0;x<a.length;x++)g=np(l.distance,u[w],a[p],l.attributes,"cmeans"),v=np(l.distance,u[w],a[x],l.attributes,"cmeans"),c+=Math.pow(g/v,m);e[w][p]=1/c}},g2=function(e,t,a,u){for(var l=new Array(a.k),f=0;f<l.length;f++)l[f]=[];for(var c,g,v=0;v<t.length;v++){c=-1/0,g=-1;for(var m=0;m<t[0].length;m++)t[v][m]>c&&(c=t[v][m],g=m);l[g].push(e[v])}for(var p=0;p<l.length;p++)l[p]=u.collection(l[p]);return l},D1=function(e){var t=this.cy(),a=this.nodes(),u=_0(e),l,f,c,g,v;g=new Array(a.length);for(var m=0;m<a.length;m++)g[m]=new Array(u.k);c=new Array(a.length);for(var p=0;p<a.length;p++)c[p]=new Array(u.k);for(var w=0;w<a.length;w++){for(var x=0,S=0;S<u.k;S++)c[w][S]=Math.random(),x+=c[w][S];for(var D=0;D<u.k;D++)c[w][D]=c[w][D]/x}f=new Array(u.k);for(var T=0;T<u.k;T++)f[T]=new Array(u.attributes.length);v=new Array(a.length);for(var C=0;C<a.length;C++)v[C]=new Array(u.k);for(var R=!0,M=0;R&&M<u.maxIterations;)R=!1,d2(f,a,c,v,u),h2(c,g,f,a,u),o2(c,g,u.sensitivityThreshold)||(R=!0),M++;return l=g2(a,c,u,t),{clusters:l,degreeOfMembership:c}},m2={kMeans:c2,kMedoids:v2,fuzzyCMeans:D1,fcm:D1},p2=yr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),y2={single:"min",complete:"max"},b2=function(e){var t=p2(e),a=y2[t.linkage];return a!=null&&(t.linkage=a),t},R1=function(e,t,a,u,l){for(var f=0,c=1/0,g,v=l.attributes,m=function(L,F){return hp(l.distance,v.length,function(Y){return v[Y](L)},function(Y){return v[Y](F)},L,F)},p=0;p<e.length;p++){var w=e[p].key,x=a[w][u[w]];x<c&&(f=w,c=x)}if(l.mode==="threshold"&&c>=l.threshold||l.mode==="dendrogram"&&e.length===1)return!1;var S=t[f],D=t[u[f]],T;l.mode==="dendrogram"?T={left:S,right:D,key:S.key}:T={value:S.value.concat(D.value),key:S.key},e[S.index]=T,e.splice(D.index,1),t[S.key]=T;for(var C=0;C<e.length;C++){var R=e[C];S.key===R.key?g=1/0:l.linkage==="min"?(g=a[S.key][R.key],a[S.key][R.key]>a[D.key][R.key]&&(g=a[D.key][R.key])):l.linkage==="max"?(g=a[S.key][R.key],a[S.key][R.key]<a[D.key][R.key]&&(g=a[D.key][R.key])):l.linkage==="mean"?g=(a[S.key][R.key]*S.size+a[D.key][R.key]*D.size)/(S.size+D.size):l.mode==="dendrogram"?g=m(R.value,S.value):g=m(R.value[0],S.value[0]),a[S.key][R.key]=a[R.key][S.key]=g}for(var M=0;M<e.length;M++){var _=e[M].key;if(u[_]===S.key||u[_]===D.key){for(var k=_,z=0;z<e.length;z++){var O=e[z].key;a[_][O]<a[_][k]&&(k=O)}u[_]=k}e[M].index=M}return S.key=D.key=S.index=D.index=null,!0},Bm=function n(e,t,a){e&&(e.value?t.push(e.value):(e.left&&n(e.left,t),e.right&&n(e.right,t)))},w2=function n(e,t){if(!e)return"";if(e.left&&e.right){var a=n(e.left,t),u=n(e.right,t),l=t.add({group:"nodes",data:{id:a+","+u}});return t.add({group:"edges",data:{source:a,target:l.id()}}),t.add({group:"edges",data:{source:u,target:l.id()}}),l.id()}else if(e.value)return e.value.id()},E2=function n(e,t,a){if(!e)return[];var u=[],l=[],f=[];return t===0?(e.left&&Bm(e.left,u),e.right&&Bm(e.right,l),f=u.concat(l),[a.collection(f)]):t===1?e.value?[a.collection(e.value)]:(e.left&&Bm(e.left,u),e.right&&Bm(e.right,l),[a.collection(u),a.collection(l)]):e.value?[a.collection(e.value)]:(e.left&&(u=n(e.left,t-1,a)),e.right&&(l=n(e.right,t-1,a)),u.concat(l))},M1=function(e){for(var t=this.cy(),a=this.nodes(),u=b2(e),l=u.attributes,f=function(M,_){return hp(u.distance,l.length,function(k){return l[k](M)},function(k){return l[k](_)},M,_)},c=[],g=[],v=[],m=[],p=0;p<a.length;p++){var w={value:u.mode==="dendrogram"?a[p]:[a[p]],key:p,index:p};c[p]=w,m[p]=w,g[p]=[],v[p]=0}for(var x=0;x<c.length;x++)for(var S=0;S<=x;S++){var D=void 0;u.mode==="dendrogram"?D=x===S?1/0:f(c[x].value,c[S].value):D=x===S?1/0:f(c[x].value[0],c[S].value[0]),g[x][S]=D,g[S][x]=D,D<g[x][v[x]]&&(v[x]=S)}for(var T=R1(c,m,g,v,u);T;)T=R1(c,m,g,v,u);var C;return u.mode==="dendrogram"?(C=E2(c[0],u.dendrogramDepth,t),u.addDendrogram&&w2(c[0],t)):(C=new Array(c.length),c.forEach(function(R,M){R.key=R.index=null,C[M]=t.collection(R.value)})),C},S2={hierarchicalClustering:M1,hca:M1},x2=yr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),T2=function(e){var t=e.damping,a=e.preference;.5<=t&&t<1||In("Damping must range on [0.5, 1).  Got: ".concat(t));var u=["median","mean","min","max"];return u.some(function(l){return l===a})||Ge(a)||In("Preference must be one of [".concat(u.map(function(l){return"'".concat(l,"'")}).join(", "),"] or a number.  Got: ").concat(a)),x2(e)},C2=function(e,t,a,u){var l=function(c,g){return u[g](c)};return-hp(e,u.length,function(f){return l(t,f)},function(f){return l(a,f)},t,a)},A2=function(e,t){var a=null;return t==="median"?a=TT(e):t==="mean"?a=xT(e):t==="min"?a=ET(e):t==="max"?a=ST(e):a=t,a},D2=function(e,t,a){for(var u=[],l=0;l<e;l++)t[l*e+l]+a[l*e+l]>0&&u.push(l);return u},B1=function(e,t,a){for(var u=[],l=0;l<e;l++){for(var f=-1,c=-1/0,g=0;g<a.length;g++){var v=a[g];t[l*e+v]>c&&(f=v,c=t[l*e+v])}f>0&&u.push(f)}for(var m=0;m<a.length;m++)u[a[m]]=a[m];return u},R2=function(e,t,a){for(var u=B1(e,t,a),l=0;l<a.length;l++){for(var f=[],c=0;c<u.length;c++)u[c]===a[l]&&f.push(c);for(var g=-1,v=-1/0,m=0;m<f.length;m++){for(var p=0,w=0;w<f.length;w++)p+=t[f[w]*e+f[m]];p>v&&(g=m,v=p)}a[l]=f[g]}return u=B1(e,t,a),u},O1=function(e){for(var t=this.cy(),a=this.nodes(),u=T2(e),l={},f=0;f<a.length;f++)l[a[f].id()]=f;var c,g,v,m,p,w;c=a.length,g=c*c,v=new Array(g);for(var x=0;x<g;x++)v[x]=-1/0;for(var S=0;S<c;S++)for(var D=0;D<c;D++)S!==D&&(v[S*c+D]=C2(u.distance,a[S],a[D],u.attributes));m=A2(v,u.preference);for(var T=0;T<c;T++)v[T*c+T]=m;p=new Array(g);for(var C=0;C<g;C++)p[C]=0;w=new Array(g);for(var R=0;R<g;R++)w[R]=0;for(var M=new Array(c),_=new Array(c),k=new Array(c),z=0;z<c;z++)M[z]=0,_[z]=0,k[z]=0;for(var O=new Array(c*u.minIterations),I=0;I<O.length;I++)O[I]=0;var L;for(L=0;L<u.maxIterations;L++){for(var F=0;F<c;F++){for(var Y=-1/0,V=-1/0,W=-1,K=0,ee=0;ee<c;ee++)M[ee]=p[F*c+ee],K=w[F*c+ee]+v[F*c+ee],K>=Y?(V=Y,Y=K,W=ee):K>V&&(V=K);for(var X=0;X<c;X++)p[F*c+X]=(1-u.damping)*(v[F*c+X]-Y)+u.damping*M[X];p[F*c+W]=(1-u.damping)*(v[F*c+W]-V)+u.damping*M[W]}for(var Q=0;Q<c;Q++){for(var j=0,le=0;le<c;le++)M[le]=w[le*c+Q],_[le]=Math.max(0,p[le*c+Q]),j+=_[le];j-=_[Q],_[Q]=p[Q*c+Q],j+=_[Q];for(var P=0;P<c;P++)w[P*c+Q]=(1-u.damping)*Math.min(0,j-_[P])+u.damping*M[P];w[Q*c+Q]=(1-u.damping)*(j-_[Q])+u.damping*M[Q]}for(var Z=0,ne=0;ne<c;ne++){var de=w[ne*c+ne]+p[ne*c+ne]>0?1:0;O[L%u.minIterations*c+ne]=de,Z+=de}if(Z>0&&(L>=u.minIterations-1||L==u.maxIterations-1)){for(var se=0,we=0;we<c;we++){k[we]=0;for(var me=0;me<u.minIterations;me++)k[we]+=O[me*c+we];(k[we]===0||k[we]===u.minIterations)&&se++}if(se===c)break}}for(var Me=D2(c,p,w),Se=R2(c,v,Me),ve={},re=0;re<Me.length;re++)ve[Me[re]]=[];for(var be=0;be<a.length;be++){var Ne=l[a[be].id()],Pe=Se[Ne];Pe!=null&&ve[Pe].push(a[be])}for(var Fe=new Array(Me.length),mt=0;mt<Me.length;mt++)Fe[mt]=t.collection(ve[Me[mt]]);return Fe},M2={affinityPropagation:O1,ap:O1},B2=yr({root:void 0,directed:!1}),O2={hierholzer:function(e){if(!Xt(e)){var t=arguments;e={root:t[0],directed:t[1]}}var a=B2(e),u=a.root,l=a.directed,f=this,c=!1,g,v,m;u&&(m=ut(u)?this.filter(u)[0].id():u[0].id());var p={},w={};l?f.forEach(function(R){var M=R.id();if(R.isNode()){var _=R.indegree(!0),k=R.outdegree(!0),z=_-k,O=k-_;z==1?g?c=!0:g=M:O==1?v?c=!0:v=M:(O>1||z>1)&&(c=!0),p[M]=[],R.outgoers().forEach(function(I){I.isEdge()&&p[M].push(I.id())})}else w[M]=[void 0,R.target().id()]}):f.forEach(function(R){var M=R.id();if(R.isNode()){var _=R.degree(!0);_%2&&(g?v?c=!0:v=M:g=M),p[M]=[],R.connectedEdges().forEach(function(k){return p[M].push(k.id())})}else w[M]=[R.source().id(),R.target().id()]});var x={found:!1,trail:void 0};if(c)return x;if(v&&g)if(l){if(m&&v!=m)return x;m=v}else{if(m&&v!=m&&g!=m)return x;m||(m=v)}else m||(m=f[0].id());var S=function(M){for(var _=M,k=[M],z,O,I;p[_].length;)z=p[_].shift(),O=w[z][0],I=w[z][1],_!=I?(p[I]=p[I].filter(function(L){return L!=z}),_=I):!l&&_!=O&&(p[O]=p[O].filter(function(L){return L!=z}),_=O),k.unshift(z),k.unshift(_);return k},D=[],T=[];for(T=S(m);T.length!=1;)p[T[0]].length==0?(D.unshift(f.getElementById(T.shift())),D.unshift(f.getElementById(T.shift()))):T=S(T.shift()).concat(T);D.unshift(f.getElementById(T.shift()));for(var C in p)if(p[C].length)return x;return x.found=!0,x.trail=this.spawn(D,!0),x}},Om=function(){var e=this,t={},a=0,u=0,l=[],f=[],c={},g=function(w,x){for(var S=f.length-1,D=[],T=e.spawn();f[S].x!=w||f[S].y!=x;)D.push(f.pop().edge),S--;D.push(f.pop().edge),D.forEach(function(C){var R=C.connectedNodes().intersection(e);T.merge(C),R.forEach(function(M){var _=M.id(),k=M.connectedEdges().intersection(e);T.merge(M),t[_].cutVertex?T.merge(k.filter(function(z){return z.isLoop()})):T.merge(k)})}),l.push(T)},v=function p(w,x,S){w===S&&(u+=1),t[x]={id:a,low:a++,cutVertex:!1};var D=e.getElementById(x).connectedEdges().intersection(e);if(D.size()===0)l.push(e.spawn(e.getElementById(x)));else{var T,C,R,M;D.forEach(function(_){T=_.source().id(),C=_.target().id(),R=T===x?C:T,R!==S&&(M=_.id(),c[M]||(c[M]=!0,f.push({x,y:R,edge:_})),R in t?t[x].low=Math.min(t[x].low,t[R].id):(p(w,R,x),t[x].low=Math.min(t[x].low,t[R].low),t[x].id<=t[R].low&&(t[x].cutVertex=!0,g(x,R))))})}};e.forEach(function(p){if(p.isNode()){var w=p.id();w in t||(u=0,v(w,w),t[w].cutVertex=u>1)}});var m=Object.keys(t).filter(function(p){return t[p].cutVertex}).map(function(p){return e.getElementById(p)});return{cut:e.spawn(m),components:l}},_2={hopcroftTarjanBiconnected:Om,htbc:Om,htb:Om,hopcroftTarjanBiconnectedComponents:Om},_m=function(){var e=this,t={},a=0,u=[],l=[],f=e.spawn(e),c=function g(v){l.push(v),t[v]={index:a,low:a++,explored:!1};var m=e.getElementById(v).connectedEdges().intersection(e);if(m.forEach(function(D){var T=D.target().id();T!==v&&(T in t||g(T),t[T].explored||(t[v].low=Math.min(t[v].low,t[T].low)))}),t[v].index===t[v].low){for(var p=e.spawn();;){var w=l.pop();if(p.merge(e.getElementById(w)),t[w].low=t[v].index,t[w].explored=!0,w===v)break}var x=p.edgesWith(p),S=p.merge(x);u.push(S),f=f.difference(S)}};return e.forEach(function(g){if(g.isNode()){var v=g.id();v in t||c(v)}}),{cut:f,components:u}},N2={tarjanStronglyConnected:_m,tsc:_m,tscc:_m,tarjanStronglyConnectedComponents:_m},mw={};[uh,oT,fT,vT,hT,mT,bT,VT,Sc,xc,l0,r2,m2,S2,M2,O2,_2,N2].forEach(function(n){vt(mw,n)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var pw=0,yw=1,bw=2,ol=function n(e){if(!(this instanceof n))return new n(e);this.id="Thenable/1.0.7",this.state=pw,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};ol.prototype={fulfill:function(e){return _1(this,yw,"fulfillValue",e)},reject:function(e){return _1(this,bw,"rejectReason",e)},then:function(e,t){var a=this,u=new ol;return a.onFulfilled.push(L1(e,u,"fulfill")),a.onRejected.push(L1(t,u,"reject")),ww(a),u.proxy}};var _1=function(e,t,a,u){return e.state===pw&&(e.state=t,e[a]=u,ww(e)),e},ww=function(e){e.state===yw?N1(e,"onFulfilled",e.fulfillValue):e.state===bw&&N1(e,"onRejected",e.rejectReason)},N1=function(e,t,a){if(e[t].length!==0){var u=e[t];e[t]=[];var l=function(){for(var c=0;c<u.length;c++)u[c](a)};typeof setImmediate=="function"?setImmediate(l):setTimeout(l,0)}},L1=function(e,t,a){return function(u){if(typeof e!="function")t[a].call(t,u);else{var l;try{l=e(u)}catch(f){t.reject(f);return}L2(t,l)}}},L2=function n(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var a;if(lr(t)==="object"&&t!==null||typeof t=="function")try{a=t.then}catch(l){e.reject(l);return}if(typeof a=="function"){var u=!1;try{a.call(t,function(l){u||(u=!0,l===t?e.reject(new TypeError("circular thenable chain")):n(e,l))},function(l){u||(u=!0,e.reject(l))})}catch(l){u||e.reject(l)}return}e.fulfill(t)};ol.all=function(n){return new ol(function(e,t){for(var a=new Array(n.length),u=0,l=function(g,v){a[g]=v,u++,u===n.length&&e(a)},f=0;f<n.length;f++)(function(c){var g=n[c],v=g!=null&&g.then!=null;if(v)g.then(function(p){l(c,p)},function(p){t(p)});else{var m=g;l(c,m)}})(f)})};ol.resolve=function(n){return new ol(function(e,t){e(n)})};ol.reject=function(n){return new ol(function(e,t){t(n)})};var Oc=typeof Promise<"u"?Promise:ol,s0=function(e,t,a){var u=T0(e),l=!u,f=this._private=vt({duration:1e3},t,a);if(f.target=e,f.style=f.style||f.css,f.started=!1,f.playing=!1,f.hooked=!1,f.applying=!1,f.progress=0,f.completes=[],f.frames=[],f.complete&&Un(f.complete)&&f.completes.push(f.complete),l){var c=e.position();f.startPosition=f.startPosition||{x:c.x,y:c.y},f.startStyle=f.startStyle||e.cy().style().getAnimationStartStyle(e,f.style)}if(u){var g=e.pan();f.startPan={x:g.x,y:g.y},f.startZoom=e.zoom()}this.length=1,this[0]=this},ko=s0.prototype;vt(ko,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,a=e.target._private.animation;e.queue?t=a.queue:t=a.current,t.push(this),$a(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,a=t.playing;return e===void 0?t.progress:(a&&this.pause(),t.progress=e,t.started=!1,a&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var a=function(v,m){var p=e[v];p!=null&&(e[v]=e[m],e[m]=p)};if(a("zoom","startZoom"),a("pan","startPan"),a("position","startPosition"),e.style)for(var u=0;u<e.style.length;u++){var l=e.style[u],f=l.name,c=e.startStyle[f];e.startStyle[f]=l,e.style[u]=c}return t&&this.play(),this},promise:function(e){var t=this._private,a;switch(e){case"frame":a=t.frames;break;default:case"complete":case"completed":a=t.completes}return new Oc(function(u,l){a.push(function(){u()})})}});ko.complete=ko.completed;ko.run=ko.play;ko.running=ko.playing;var z2={animated:function(){return function(){var t=this,a=t.length!==void 0,u=a?t:[t],l=this._private.cy||this;if(!l.styleEnabled())return!1;var f=u[0];if(f)return f._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,a=t.length!==void 0,u=a?t:[t],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var f=0;f<u.length;f++){var c=u[f];c._private.animation.queue=[]}return this}},delay:function(){return function(t,a){var u=this._private.cy||this;return u.styleEnabled()?this.animate({delay:t,duration:t,complete:a}):this}},delayAnimation:function(){return function(t,a){var u=this._private.cy||this;return u.styleEnabled()?this.animation({delay:t,duration:t,complete:a}):this}},animation:function(){return function(t,a){var u=this,l=u.length!==void 0,f=l?u:[u],c=this._private.cy||this,g=!l,v=!g;if(!c.styleEnabled())return this;var m=c.style();t=vt({},t,a);var p=Object.keys(t).length===0;if(p)return new s0(f[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(v&&(t.style=m.getPropsList(t.style||t.css),t.css=void 0),v&&t.renderedPosition!=null){var w=t.renderedPosition,x=c.pan(),S=c.zoom();t.position=iw(w,S,x)}if(g&&t.panBy!=null){var D=t.panBy,T=c.pan();t.pan={x:T.x+D.x,y:T.y+D.y}}var C=t.center||t.centre;if(g&&C!=null){var R=c.getCenterPan(C.eles,t.zoom);R!=null&&(t.pan=R)}if(g&&t.fit!=null){var M=t.fit,_=c.getFitViewport(M.eles||M.boundingBox,M.padding);_!=null&&(t.pan=_.pan,t.zoom=_.zoom)}if(g&&Xt(t.zoom)){var k=c.getZoomedViewport(t.zoom);k!=null?(k.zoomed&&(t.zoom=k.zoom),k.panned&&(t.pan=k.pan)):t.zoom=null}return new s0(f[0],t)}},animate:function(){return function(t,a){var u=this,l=u.length!==void 0,f=l?u:[u],c=this._private.cy||this;if(!c.styleEnabled())return this;a&&(t=vt({},t,a));for(var g=0;g<f.length;g++){var v=f[g],m=v.animated()&&(t.queue===void 0||t.queue),p=v.animation(t,m?{queue:!0}:void 0);p.play()}return this}},stop:function(){return function(t,a){var u=this,l=u.length!==void 0,f=l?u:[u],c=this._private.cy||this;if(!c.styleEnabled())return this;for(var g=0;g<f.length;g++){for(var v=f[g],m=v._private,p=m.animation.current,w=0;w<p.length;w++){var x=p[w],S=x._private;a&&(S.duration=0)}t&&(m.animation.queue=[]),a||(m.animation.current=[])}return c.notify("draw"),this}}},k2=Array.isArray,gp=k2,I2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U2=/^\w*$/;function P2(n,e){if(gp(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||bh(n)?!0:U2.test(n)||!I2.test(n)||e!=null&&n in Object(e)}var H2=P2,F2="[object AsyncFunction]",q2="[object Function]",G2="[object GeneratorFunction]",V2="[object Proxy]";function Y2(n){if(!No(n))return!1;var e=Qb(n);return e==q2||e==G2||e==F2||e==V2}var X2=Y2,K2=cp["__core-js_shared__"],Ky=K2,z1=function(){var n=/[^.]+$/.exec(Ky&&Ky.keys&&Ky.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Z2(n){return!!z1&&z1 in n}var W2=Z2,Q2=Function.prototype,$2=Q2.toString;function J2(n){if(n!=null){try{return $2.call(n)}catch{}try{return n+""}catch{}}return""}var j2=J2,eC=/[\\^$.*+?()[\]{}|]/g,tC=/^\[object .+?Constructor\]$/,nC=Function.prototype,rC=Object.prototype,aC=nC.toString,iC=rC.hasOwnProperty,uC=RegExp("^"+aC.call(iC).replace(eC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lC(n){if(!No(n)||W2(n))return!1;var e=X2(n)?uC:tC;return e.test(j2(n))}var sC=lC;function oC(n,e){return n==null?void 0:n[e]}var fC=oC;function cC(n,e){var t=fC(n,e);return sC(t)?t:void 0}var N0=cC,vC=N0(Object,"create"),oh=vC;function dC(){this.__data__=oh?oh(null):{},this.size=0}var hC=dC;function gC(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var mC=gC,pC="__lodash_hash_undefined__",yC=Object.prototype,bC=yC.hasOwnProperty;function wC(n){var e=this.__data__;if(oh){var t=e[n];return t===pC?void 0:t}return bC.call(e,n)?e[n]:void 0}var EC=wC,SC=Object.prototype,xC=SC.hasOwnProperty;function TC(n){var e=this.__data__;return oh?e[n]!==void 0:xC.call(e,n)}var CC=TC,AC="__lodash_hash_undefined__";function DC(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=oh&&e===void 0?AC:e,this}var RC=DC;function _c(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}_c.prototype.clear=hC;_c.prototype.delete=mC;_c.prototype.get=EC;_c.prototype.has=CC;_c.prototype.set=RC;var k1=_c;function MC(){this.__data__=[],this.size=0}var BC=MC;function OC(n,e){return n===e||n!==n&&e!==e}var Ew=OC;function _C(n,e){for(var t=n.length;t--;)if(Ew(n[t][0],e))return t;return-1}var mp=_C,NC=Array.prototype,LC=NC.splice;function zC(n){var e=this.__data__,t=mp(e,n);if(t<0)return!1;var a=e.length-1;return t==a?e.pop():LC.call(e,t,1),--this.size,!0}var kC=zC;function IC(n){var e=this.__data__,t=mp(e,n);return t<0?void 0:e[t][1]}var UC=IC;function PC(n){return mp(this.__data__,n)>-1}var HC=PC;function FC(n,e){var t=this.__data__,a=mp(t,n);return a<0?(++this.size,t.push([n,e])):t[a][1]=e,this}var qC=FC;function Nc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}Nc.prototype.clear=BC;Nc.prototype.delete=kC;Nc.prototype.get=UC;Nc.prototype.has=HC;Nc.prototype.set=qC;var GC=Nc,VC=N0(cp,"Map"),YC=VC;function XC(){this.size=0,this.__data__={hash:new k1,map:new(YC||GC),string:new k1}}var KC=XC;function ZC(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var WC=ZC;function QC(n,e){var t=n.__data__;return WC(e)?t[typeof e=="string"?"string":"hash"]:t.map}var pp=QC;function $C(n){var e=pp(this,n).delete(n);return this.size-=e?1:0,e}var JC=$C;function jC(n){return pp(this,n).get(n)}var eA=jC;function tA(n){return pp(this,n).has(n)}var nA=tA;function rA(n,e){var t=pp(this,n),a=t.size;return t.set(n,e),this.size+=t.size==a?0:1,this}var aA=rA;function Lc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}Lc.prototype.clear=KC;Lc.prototype.delete=JC;Lc.prototype.get=eA;Lc.prototype.has=nA;Lc.prototype.set=aA;var Sw=Lc,iA="Expected a function";function L0(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(iA);var t=function(){var a=arguments,u=e?e.apply(this,a):a[0],l=t.cache;if(l.has(u))return l.get(u);var f=n.apply(this,a);return t.cache=l.set(u,f)||l,f};return t.cache=new(L0.Cache||Sw),t}L0.Cache=Sw;var uA=L0,lA=500;function sA(n){var e=uA(n,function(a){return t.size===lA&&t.clear(),a}),t=e.cache;return e}var oA=sA,fA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cA=/\\(\\)?/g,vA=oA(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(fA,function(t,a,u,l){e.push(u?l.replace(cA,"$1"):a||t)}),e}),xw=vA;function dA(n,e){for(var t=-1,a=n==null?0:n.length,u=Array(a);++t<a;)u[t]=e(n[t],t,n);return u}var Tw=dA,I1=Ac?Ac.prototype:void 0,U1=I1?I1.toString:void 0;function Cw(n){if(typeof n=="string")return n;if(gp(n))return Tw(n,Cw)+"";if(bh(n))return U1?U1.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var hA=Cw;function gA(n){return n==null?"":hA(n)}var Aw=gA;function mA(n,e){return gp(n)?n:H2(n,e)?[n]:xw(Aw(n))}var Dw=mA;function pA(n){if(typeof n=="string"||bh(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var z0=pA;function yA(n,e){e=Dw(e,n);for(var t=0,a=e.length;n!=null&&t<a;)n=n[z0(e[t++])];return t&&t==a?n:void 0}var bA=yA;function wA(n,e,t){var a=n==null?void 0:bA(n,e);return a===void 0?t:a}var EA=wA,SA=function(){try{var n=N0(Object,"defineProperty");return n({},"",{}),n}catch{}}(),P1=SA;function xA(n,e,t){e=="__proto__"&&P1?P1(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var TA=xA,CA=Object.prototype,AA=CA.hasOwnProperty;function DA(n,e,t){var a=n[e];(!(AA.call(n,e)&&Ew(a,t))||t===void 0&&!(e in n))&&TA(n,e,t)}var RA=DA,MA=9007199254740991,BA=/^(?:0|[1-9]\d*)$/;function OA(n,e){var t=typeof n;return e=e??MA,!!e&&(t=="number"||t!="symbol"&&BA.test(n))&&n>-1&&n%1==0&&n<e}var _A=OA;function NA(n,e,t,a){if(!No(n))return n;e=Dw(e,n);for(var u=-1,l=e.length,f=l-1,c=n;c!=null&&++u<l;){var g=z0(e[u]),v=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return n;if(u!=f){var m=c[g];v=a?a(m,g,c):void 0,v===void 0&&(v=No(m)?m:_A(e[u+1])?[]:{})}RA(c,g,v),c=c[g]}return n}var LA=NA;function zA(n,e,t){return n==null?n:LA(n,e,t)}var kA=zA;function IA(n,e){var t=-1,a=n.length;for(e||(e=Array(a));++t<a;)e[t]=n[t];return e}var UA=IA;function PA(n){return gp(n)?Tw(n,z0):bh(n)?[n]:UA(xw(Aw(n)))}var HA=PA,FA={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(u){},beforeSet:function(u,l){},onSet:function(u){},canSet:function(u){return!0}};return e=vt({},t,e),function(u,l){var f=e,c=this,g=c.length!==void 0,v=g?c:[c],m=g?c[0]:c;if(ut(u)){var p=u.indexOf(".")!==-1,w=p&&HA(u);if(f.allowGetting&&l===void 0){var x;return m&&(f.beforeGet(m),w&&m._private[f.field][u]===void 0?x=EA(m._private[f.field],w):x=m._private[f.field][u]),x}else if(f.allowSetting&&l!==void 0){var S=!f.immutableKeys[u];if(S){var D=Pb({},u,l);f.beforeSet(c,D);for(var T=0,C=v.length;T<C;T++){var R=v[T];f.canSet(R)&&(w&&m._private[f.field][u]===void 0?kA(R._private[f.field],w,l):R._private[f.field][u]=l)}f.updateStyle&&c.updateStyle(),f.onSet(c),f.settingTriggersEvent&&c[f.triggerFnName](f.settingEvent)}}}else if(f.allowSetting&&Xt(u)){var M=u,_,k,z=Object.keys(M);f.beforeSet(c,M);for(var O=0;O<z.length;O++){_=z[O],k=M[_];var I=!f.immutableKeys[_];if(I)for(var L=0;L<v.length;L++){var F=v[L];f.canSet(F)&&(F._private[f.field][_]=k)}}f.updateStyle&&c.updateStyle(),f.onSet(c),f.settingTriggersEvent&&c[f.triggerFnName](f.settingEvent)}else if(f.allowBinding&&Un(u)){var Y=u;c.on(f.bindingEvent,Y)}else if(f.allowGetting&&u===void 0){var V;return m&&(f.beforeGet(m),V=m._private[f.field]),V}return c}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=vt({},t,e),function(u){var l=e,f=this,c=f.length!==void 0,g=c?f:[f];if(ut(u)){for(var v=u.split(/\s+/),m=v.length,p=0;p<m;p++){var w=v[p];if(!ls(w)){var x=!l.immutableKeys[w];if(x)for(var S=0,D=g.length;S<D;S++)g[S]._private[l.field][w]=void 0}}l.triggerEvent&&f[l.triggerFnName](l.event)}else if(u===void 0){for(var T=0,C=g.length;T<C;T++)for(var R=g[T]._private[l.field],M=Object.keys(R),_=0;_<M.length;_++){var k=M[_],z=!l.immutableKeys[k];z&&(R[k]=void 0)}l.triggerEvent&&f[l.triggerFnName](l.event)}return f}}},qA={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(a,u){var l=this,f=Array.prototype.slice.call(arguments,0);return new Oc(function(c,g){var v=function(x){l.off.apply(l,p),c(x)},m=f.concat([v]),p=m.concat([]);l.on.apply(l,m)})}}},an={};[z2,FA,qA].forEach(function(n){vt(an,n)});var GA={animate:an.animate(),animation:an.animation(),animated:an.animated(),clearQueue:an.clearQueue(),delay:an.delay(),delayAnimation:an.delayAnimation(),stop:an.stop()},Gm={classes:function(e){var t=this;if(e===void 0){var a=[];return t[0]._private.classes.forEach(function(S){return a.push(S)}),a}else dn(e)||(e=(e||"").match(/\S+/g)||[]);for(var u=[],l=new Bc(e),f=0;f<t.length;f++){for(var c=t[f],g=c._private,v=g.classes,m=!1,p=0;p<e.length;p++){var w=e[p],x=v.has(w);if(!x){m=!0;break}}m||(m=v.size!==e.length),m&&(g.classes=l,u.push(c))}return u.length>0&&this.spawn(u).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){dn(e)||(e=e.match(/\S+/g)||[]);for(var a=this,u=t===void 0,l=[],f=0,c=a.length;f<c;f++)for(var g=a[f],v=g._private.classes,m=!1,p=0;p<e.length;p++){var w=e[p],x=v.has(w),S=!1;t||u&&!x?(v.add(w),S=!0):(!t||u&&x)&&(v.delete(w),S=!0),!m&&S&&(l.push(g),m=!0)}return l.length>0&&this.spawn(l).updateStyle().emit("class"),a},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var a=this;if(t==null)t=250;else if(t===0)return a;return a.addClass(e),setTimeout(function(){a.removeClass(e)},t),a}};Gm.className=Gm.classNames=Gm.classes;var Yt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:ur,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Yt.variable="(?:[\\w-.]|(?:\\\\"+Yt.metaChar+"))+";Yt.className="(?:[\\w-]|(?:\\\\"+Yt.metaChar+"))+";Yt.value=Yt.string+"|"+Yt.number;Yt.id=Yt.variable;(function(){var n,e,t;for(n=Yt.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],Yt.comparatorOp+="|@"+e;for(n=Yt.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],!(e.indexOf("!")>=0)&&e!=="="&&(Yt.comparatorOp+="|\\!"+e)})();var on=function(){return{checks:[]}},Qe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},o0=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(n,e){return ax(n.selector,e.selector)}),VA=function(){for(var n={},e,t=0;t<o0.length;t++)e=o0[t],n[e.selector]=e.matches;return n}(),YA=function(e,t){return VA[e](t)},XA="("+o0.map(function(n){return n.selector}).join("|")+")",vc=function(e){return e.replace(new RegExp("\\\\("+Yt.metaChar+")","g"),function(t,a){return a})},ns=function(e,t,a){e[e.length-1]=a},f0=[{name:"group",query:!0,regex:"("+Yt.group+")",populate:function(e,t,a){var u=pr(a,1),l=u[0];t.checks.push({type:Qe.GROUP,value:l==="*"?l:l+"s"})}},{name:"state",query:!0,regex:XA,populate:function(e,t,a){var u=pr(a,1),l=u[0];t.checks.push({type:Qe.STATE,value:l})}},{name:"id",query:!0,regex:"\\#("+Yt.id+")",populate:function(e,t,a){var u=pr(a,1),l=u[0];t.checks.push({type:Qe.ID,value:vc(l)})}},{name:"className",query:!0,regex:"\\.("+Yt.className+")",populate:function(e,t,a){var u=pr(a,1),l=u[0];t.checks.push({type:Qe.CLASS,value:vc(l)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Yt.variable+")\\s*\\]",populate:function(e,t,a){var u=pr(a,1),l=u[0];t.checks.push({type:Qe.DATA_EXIST,field:vc(l)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Yt.variable+")\\s*("+Yt.comparatorOp+")\\s*("+Yt.value+")\\s*\\]",populate:function(e,t,a){var u=pr(a,3),l=u[0],f=u[1],c=u[2],g=new RegExp("^"+Yt.string+"$").exec(c)!=null;g?c=c.substring(1,c.length-1):c=parseFloat(c),t.checks.push({type:Qe.DATA_COMPARE,field:vc(l),operator:f,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Yt.boolOp+")\\s*("+Yt.variable+")\\s*\\]",populate:function(e,t,a){var u=pr(a,2),l=u[0],f=u[1];t.checks.push({type:Qe.DATA_BOOL,field:vc(f),operator:l})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Yt.meta+")\\s*("+Yt.comparatorOp+")\\s*("+Yt.number+")\\s*\\]\\]",populate:function(e,t,a){var u=pr(a,3),l=u[0],f=u[1],c=u[2];t.checks.push({type:Qe.META_COMPARE,field:vc(l),operator:f,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:Yt.separator,populate:function(e,t){var a=e.currentSubject,u=e.edgeCount,l=e.compoundCount,f=e[e.length-1];a!=null&&(f.subject=a,e.currentSubject=null),f.edgeCount=u,f.compoundCount=l,e.edgeCount=0,e.compoundCount=0;var c=e[e.length++]=on();return c}},{name:"directedEdge",separator:!0,regex:Yt.directedEdge,populate:function(e,t){if(e.currentSubject==null){var a=on(),u=t,l=on();return a.checks.push({type:Qe.DIRECTED_EDGE,source:u,target:l}),ns(e,t,a),e.edgeCount++,l}else{var f=on(),c=t,g=on();return f.checks.push({type:Qe.NODE_SOURCE,source:c,target:g}),ns(e,t,f),e.edgeCount++,g}}},{name:"undirectedEdge",separator:!0,regex:Yt.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var a=on(),u=t,l=on();return a.checks.push({type:Qe.UNDIRECTED_EDGE,nodes:[u,l]}),ns(e,t,a),e.edgeCount++,l}else{var f=on(),c=t,g=on();return f.checks.push({type:Qe.NODE_NEIGHBOR,node:c,neighbor:g}),ns(e,t,f),g}}},{name:"child",separator:!0,regex:Yt.child,populate:function(e,t){if(e.currentSubject==null){var a=on(),u=on(),l=e[e.length-1];return a.checks.push({type:Qe.CHILD,parent:l,child:u}),ns(e,t,a),e.compoundCount++,u}else if(e.currentSubject===t){var f=on(),c=e[e.length-1],g=on(),v=on(),m=on(),p=on();return f.checks.push({type:Qe.COMPOUND_SPLIT,left:c,right:g,subject:v}),v.checks=t.checks,t.checks=[{type:Qe.TRUE}],p.checks.push({type:Qe.TRUE}),g.checks.push({type:Qe.PARENT,parent:p,child:m}),ns(e,c,f),e.currentSubject=v,e.compoundCount++,m}else{var w=on(),x=on(),S=[{type:Qe.PARENT,parent:w,child:x}];return w.checks=t.checks,t.checks=S,e.compoundCount++,x}}},{name:"descendant",separator:!0,regex:Yt.descendant,populate:function(e,t){if(e.currentSubject==null){var a=on(),u=on(),l=e[e.length-1];return a.checks.push({type:Qe.DESCENDANT,ancestor:l,descendant:u}),ns(e,t,a),e.compoundCount++,u}else if(e.currentSubject===t){var f=on(),c=e[e.length-1],g=on(),v=on(),m=on(),p=on();return f.checks.push({type:Qe.COMPOUND_SPLIT,left:c,right:g,subject:v}),v.checks=t.checks,t.checks=[{type:Qe.TRUE}],p.checks.push({type:Qe.TRUE}),g.checks.push({type:Qe.ANCESTOR,ancestor:p,descendant:m}),ns(e,c,f),e.currentSubject=v,e.compoundCount++,m}else{var w=on(),x=on(),S=[{type:Qe.ANCESTOR,ancestor:w,descendant:x}];return w.checks=t.checks,t.checks=S,e.compoundCount++,x}}},{name:"subject",modifier:!0,regex:Yt.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return un("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var a=e[e.length-1],u=a.checks[0],l=u==null?null:u.type;l===Qe.DIRECTED_EDGE?u.type=Qe.NODE_TARGET:l===Qe.UNDIRECTED_EDGE&&(u.type=Qe.NODE_NEIGHBOR,u.node=u.nodes[1],u.neighbor=u.nodes[0],u.nodes=null)}}];f0.forEach(function(n){return n.regexObj=new RegExp("^"+n.regex)});var KA=function(e){for(var t,a,u,l=0;l<f0.length;l++){var f=f0[l],c=f.name,g=e.match(f.regexObj);if(g!=null){a=g,t=f,u=c;var v=g[0];e=e.substring(v.length);break}}return{expr:t,match:a,name:u,remaining:e}},ZA=function(e){var t=e.match(/^\s+/);if(t){var a=t[0];e=e.substring(a.length)}return e},WA=function(e){var t=this,a=t.inputText=e,u=t[0]=on();for(t.length=1,a=ZA(a);;){var l=KA(a);if(l.expr==null)return un("The selector `"+e+"`is invalid"),!1;var f=l.match.slice(1),c=l.expr.populate(t,u,f);if(c===!1)return!1;if(c!=null&&(u=c),a=l.remaining,a.match(/^\s*$/))break}var g=t[t.length-1];t.currentSubject!=null&&(g.subject=t.currentSubject),g.edgeCount=t.edgeCount,g.compoundCount=t.compoundCount;for(var v=0;v<t.length;v++){var m=t[v];if(m.compoundCount>0&&m.edgeCount>0)return un("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(m.edgeCount>1)return un("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;m.edgeCount===1&&un("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},QA=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(m){return m??""},t=function(m){return ut(m)?'"'+m+'"':e(m)},a=function(m){return" "+m+" "},u=function(m,p){var w=m.type,x=m.value;switch(w){case Qe.GROUP:{var S=e(x);return S.substring(0,S.length-1)}case Qe.DATA_COMPARE:{var D=m.field,T=m.operator;return"["+D+a(e(T))+t(x)+"]"}case Qe.DATA_BOOL:{var C=m.operator,R=m.field;return"["+e(C)+R+"]"}case Qe.DATA_EXIST:{var M=m.field;return"["+M+"]"}case Qe.META_COMPARE:{var _=m.operator,k=m.field;return"[["+k+a(e(_))+t(x)+"]]"}case Qe.STATE:return x;case Qe.ID:return"#"+x;case Qe.CLASS:return"."+x;case Qe.PARENT:case Qe.CHILD:return l(m.parent,p)+a(">")+l(m.child,p);case Qe.ANCESTOR:case Qe.DESCENDANT:return l(m.ancestor,p)+" "+l(m.descendant,p);case Qe.COMPOUND_SPLIT:{var z=l(m.left,p),O=l(m.subject,p),I=l(m.right,p);return z+(z.length>0?" ":"")+O+I}case Qe.TRUE:return""}},l=function(m,p){return m.checks.reduce(function(w,x,S){return w+(p===m&&S===0?"$":"")+u(x,p)},"")},f="",c=0;c<this.length;c++){var g=this[c];f+=l(g,g.subject),this.length>1&&c<this.length-1&&(f+=", ")}return this.toStringCache=f,f},$A={parse:WA,toString:QA},Rw=function(e,t,a){var u,l=ut(e),f=Ge(e),c=ut(a),g,v,m=!1,p=!1,w=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),p=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),m=!0),(l||c||m)&&(g=!l&&!f?"":""+e,v=""+a),m&&(e=g=g.toLowerCase(),a=v=v.toLowerCase()),t){case"*=":u=g.indexOf(v)>=0;break;case"$=":u=g.indexOf(v,g.length-v.length)>=0;break;case"^=":u=g.indexOf(v)===0;break;case"=":u=e===a;break;case">":w=!0,u=e>a;break;case">=":w=!0,u=e>=a;break;case"<":w=!0,u=e<a;break;case"<=":w=!0,u=e<=a;break;default:u=!1;break}return p&&(e!=null||!w)&&(u=!u),u},JA=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},jA=function(e){return e!==void 0},k0=function(e,t){return e.data(t)},eD=function(e,t){return e[t]()},Vn=[],An=function(e,t){return e.checks.every(function(a){return Vn[a.type](a,t)})};Vn[Qe.GROUP]=function(n,e){var t=n.value;return t==="*"||t===e.group()};Vn[Qe.STATE]=function(n,e){var t=n.value;return YA(t,e)};Vn[Qe.ID]=function(n,e){var t=n.value;return e.id()===t};Vn[Qe.CLASS]=function(n,e){var t=n.value;return e.hasClass(t)};Vn[Qe.META_COMPARE]=function(n,e){var t=n.field,a=n.operator,u=n.value;return Rw(eD(e,t),a,u)};Vn[Qe.DATA_COMPARE]=function(n,e){var t=n.field,a=n.operator,u=n.value;return Rw(k0(e,t),a,u)};Vn[Qe.DATA_BOOL]=function(n,e){var t=n.field,a=n.operator;return JA(k0(e,t),a)};Vn[Qe.DATA_EXIST]=function(n,e){var t=n.field;return n.operator,jA(k0(e,t))};Vn[Qe.UNDIRECTED_EDGE]=function(n,e){var t=n.nodes[0],a=n.nodes[1],u=e.source(),l=e.target();return An(t,u)&&An(a,l)||An(a,u)&&An(t,l)};Vn[Qe.NODE_NEIGHBOR]=function(n,e){return An(n.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&An(n.neighbor,t)})};Vn[Qe.DIRECTED_EDGE]=function(n,e){return An(n.source,e.source())&&An(n.target,e.target())};Vn[Qe.NODE_SOURCE]=function(n,e){return An(n.source,e)&&e.outgoers().some(function(t){return t.isNode()&&An(n.target,t)})};Vn[Qe.NODE_TARGET]=function(n,e){return An(n.target,e)&&e.incomers().some(function(t){return t.isNode()&&An(n.source,t)})};Vn[Qe.CHILD]=function(n,e){return An(n.child,e)&&An(n.parent,e.parent())};Vn[Qe.PARENT]=function(n,e){return An(n.parent,e)&&e.children().some(function(t){return An(n.child,t)})};Vn[Qe.DESCENDANT]=function(n,e){return An(n.descendant,e)&&e.ancestors().some(function(t){return An(n.ancestor,t)})};Vn[Qe.ANCESTOR]=function(n,e){return An(n.ancestor,e)&&e.descendants().some(function(t){return An(n.descendant,t)})};Vn[Qe.COMPOUND_SPLIT]=function(n,e){return An(n.subject,e)&&An(n.left,e)&&An(n.right,e)};Vn[Qe.TRUE]=function(){return!0};Vn[Qe.COLLECTION]=function(n,e){var t=n.value;return t.has(e)};Vn[Qe.FILTER]=function(n,e){var t=n.value;return t(e)};var tD=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Qe.ID)return e.getElementById(t[0].checks[0].value).collection();var a=function(l){for(var f=0;f<t.length;f++){var c=t[f];if(An(c,l))return!0}return!1};return t.text()==null&&(a=function(){return!0}),e.filter(a)},nD=function(e){for(var t=this,a=0;a<t.length;a++){var u=t[a];if(An(u,e))return!0}return!1},rD={matches:nD,filter:tD},fs=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||ut(e)&&e.match(/^\s*$/)||($a(e)?this.addQuery({checks:[{type:Qe.COLLECTION,value:e.collection()}]}):Un(e)?this.addQuery({checks:[{type:Qe.FILTER,value:e}]}):ut(e)?this.parse(e)||(this.invalid=!0):In("A selector must be created from a string; found "))},cs=fs.prototype;[$A,rD].forEach(function(n){return vt(cs,n)});cs.text=function(){return this.inputText};cs.size=function(){return this.length};cs.eq=function(n){return this[n]};cs.sameText=function(n){return!this.invalid&&!n.invalid&&this.text()===n.text()};cs.addQuery=function(n){this[this.length++]=n};cs.selector=cs.toString;var is={allAre:function(e){var t=new fs(e);return this.every(function(a){return t.matches(a)})},is:function(e){var t=new fs(e);return this.some(function(a){return t.matches(a)})},some:function(e,t){for(var a=0;a<this.length;a++){var u=t?e.apply(t,[this[a],a,this]):e(this[a],a,this);if(u)return!0}return!1},every:function(e,t){for(var a=0;a<this.length;a++){var u=t?e.apply(t,[this[a],a,this]):e(this[a],a,this);if(!u)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,a=e.length;return t!==a?!1:t===1?this[0]===e[0]:this.every(function(u){return e.hasElementWithId(u.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(a){return t.hasElementWithId(a.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(a){return t.hasElementWithId(a.id())})}};is.allAreNeighbours=is.allAreNeighbors;is.has=is.contains;is.equal=is.equals=is.same;var wi=function(e,t){return function(u,l,f,c){var g=u,v=this,m;if(g==null?m="":$a(g)&&g.length===1&&(m=g.id()),v.length===1&&m){var p=v[0]._private,w=p.traversalCache=p.traversalCache||{},x=w[t]=w[t]||[],S=ss(m),D=x[S];return D||(x[S]=e.call(v,u,l,f,c))}else return e.call(v,u,l,f,c)}},Mc={parent:function(e){var t=[];if(this.length===1){var a=this[0]._private.parent;if(a)return a}for(var u=0;u<this.length;u++){var l=this[u],f=l._private.parent;f&&t.push(f)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],a=this.parent();a.nonempty();){for(var u=0;u<a.length;u++){var l=a[u];t.push(l)}a=a.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,a=0;a<this.length;a++){var u=this[a],l=u.parents();t=t||l,t=t.intersect(l)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:wi(function(n){for(var e=[],t=0;t<this.length;t++)for(var a=this[t],u=a._private.children,l=0;l<u.length;l++)e.push(u[l]);return this.spawn(e,!0).filter(n)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function a(u){for(var l=0;l<u.length;l++){var f=u[l];t.push(f),f.children().nonempty()&&a(f.children())}}return a(this.children()),this.spawn(t,!0).filter(e)}};function I0(n,e,t,a){for(var u=[],l=new Bc,f=n.cy(),c=f.hasCompoundNodes(),g=0;g<n.length;g++){var v=n[g];t?u.push(v):c&&a(u,l,v)}for(;u.length>0;){var m=u.shift();e(m),l.add(m.id()),c&&a(u,l,m)}return n}function Mw(n,e,t){if(t.isParent())for(var a=t._private.children,u=0;u<a.length;u++){var l=a[u];e.has(l.id())||n.push(l)}}Mc.forEachDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return I0(this,n,e,Mw)};function Bw(n,e,t){if(t.isChild()){var a=t._private.parent;e.has(a.id())||n.push(a)}}Mc.forEachUp=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return I0(this,n,e,Bw)};function aD(n,e,t){Bw(n,e,t),Mw(n,e,t)}Mc.forEachUpAndDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return I0(this,n,e,aD)};Mc.ancestors=Mc.parents;var fh,Ow;fh=Ow={data:an.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:an.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:an.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:an.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:an.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:an.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};fh.attr=fh.data;fh.removeAttr=fh.removeData;var iD=Ow,yp={};function Zy(n){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var a=0,u=t[0],l=u._private.edges,f=0;f<l.length;f++){var c=l[f];!e&&c.isLoop()||(a+=n(u,c))}return a}else return}}vt(yp,{degree:Zy(function(n,e){return e.source().same(e.target())?2:1}),indegree:Zy(function(n,e){return e.target().same(n)?1:0}),outdegree:Zy(function(n,e){return e.source().same(n)?1:0})});function dc(n,e){return function(t){for(var a,u=this.nodes(),l=0;l<u.length;l++){var f=u[l],c=f[n](t);c!==void 0&&(a===void 0||e(c,a))&&(a=c)}return a}}vt(yp,{minDegree:dc("degree",function(n,e){return n<e}),maxDegree:dc("degree",function(n,e){return n>e}),minIndegree:dc("indegree",function(n,e){return n<e}),maxIndegree:dc("indegree",function(n,e){return n>e}),minOutdegree:dc("outdegree",function(n,e){return n<e}),maxOutdegree:dc("outdegree",function(n,e){return n>e})});vt(yp,{totalDegree:function(e){for(var t=0,a=this.nodes(),u=0;u<a.length;u++)t+=a[u].degree(e);return t}});var Qi,_w,Nw=function(e,t,a){for(var u=0;u<e.length;u++){var l=e[u];if(!l.locked()){var f=l._private.position,c={x:t.x!=null?t.x-f.x:0,y:t.y!=null?t.y-f.y:0};l.isParent()&&!(c.x===0&&c.y===0)&&l.children().shift(c,a),l.dirtyBoundingBoxCache()}}},H1={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Nw(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Qi=_w={position:an.data(H1),silentPosition:an.data(vt({},H1,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Nw(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Xt(e))t?this.silentPosition(e):this.position(e);else if(Un(e)){var a=e,u=this.cy();u.startBatch();for(var l=0;l<this.length;l++){var f=this[l],c=void 0;(c=a(f,l))&&(t?f.silentPosition(c):f.position(c))}u.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,a){var u;if(Xt(e)?(u={x:Ge(e.x)?e.x:0,y:Ge(e.y)?e.y:0},a=t):ut(e)&&Ge(t)&&(u={x:0,y:0},u[e]=t),u!=null){var l=this.cy();l.startBatch();for(var f=0;f<this.length;f++){var c=this[f];if(!(l.hasCompoundNodes()&&c.isChild()&&c.ancestors().anySame(this))){var g=c.position(),v={x:g.x+u.x,y:g.y+u.y};a?c.silentPosition(v):c.position(v)}}l.endBatch()}return this},silentShift:function(e,t){return Xt(e)?this.shift(e,!0):ut(e)&&Ge(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var a=this[0],u=this.cy(),l=u.zoom(),f=u.pan(),c=Xt(e)?e:void 0,g=c!==void 0||t!==void 0&&ut(e);if(a&&a.isNode())if(g)for(var v=0;v<this.length;v++){var m=this[v];t!==void 0?m.position(e,(t-f[e])/l):c!==void 0&&m.position(iw(c,l,f))}else{var p=a.position();return c=dp(p,l,f),e===void 0?c:c[e]}else if(!g)return;return this},relativePosition:function(e,t){var a=this[0],u=this.cy(),l=Xt(e)?e:void 0,f=l!==void 0||t!==void 0&&ut(e),c=u.hasCompoundNodes();if(a&&a.isNode())if(f)for(var g=0;g<this.length;g++){var v=this[g],m=c?v.parent():null,p=m&&m.length>0,w=p;p&&(m=m[0]);var x=w?m.position():{x:0,y:0};t!==void 0?v.position(e,t+x[e]):l!==void 0&&v.position({x:l.x+x.x,y:l.y+x.y})}else{var S=a.position(),D=c?a.parent():null,T=D&&D.length>0,C=T;T&&(D=D[0]);var R=C?D.position():{x:0,y:0};return l={x:S.x-R.x,y:S.y-R.y},e===void 0?l:l[e]}else if(!f)return;return this}};Qi.modelPosition=Qi.point=Qi.position;Qi.modelPositions=Qi.points=Qi.positions;Qi.renderedPoint=Qi.renderedPosition;Qi.relativePoint=Qi.relativePosition;var uD=_w,Tc,gs;Tc=gs={};gs.renderedBoundingBox=function(n){var e=this.boundingBox(n),t=this.cy(),a=t.zoom(),u=t.pan(),l=e.x1*a+u.x,f=e.x2*a+u.x,c=e.y1*a+u.y,g=e.y2*a+u.y;return{x1:l,x2:f,y1:c,y2:g,w:f-l,h:g-c}};gs.dirtyCompoundBoundsCache=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var a=t._private;a.compoundBoundsClean=!1,a.bbCache=null,n||t.emitAndNotify("bounds")}}),this)};gs.updateCompoundBounds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!n&&e.batching())return this;function t(f){if(!f.isParent())return;var c=f._private,g=f.children(),v=f.pstyle("compound-sizing-wrt-labels").value==="include",m={width:{val:f.pstyle("min-width").pfValue,left:f.pstyle("min-width-bias-left"),right:f.pstyle("min-width-bias-right")},height:{val:f.pstyle("min-height").pfValue,top:f.pstyle("min-height-bias-top"),bottom:f.pstyle("min-height-bias-bottom")}},p=g.boundingBox({includeLabels:v,includeOverlays:!1,useCache:!1}),w=c.position;(p.w===0||p.h===0)&&(p={w:f.pstyle("width").pfValue,h:f.pstyle("height").pfValue},p.x1=w.x-p.w/2,p.x2=w.x+p.w/2,p.y1=w.y-p.h/2,p.y2=w.y+p.h/2);function x(L,F,Y){var V=0,W=0,K=F+Y;return L>0&&K>0&&(V=F/K*L,W=Y/K*L),{biasDiff:V,biasComplementDiff:W}}function S(L,F,Y,V){if(Y.units==="%")switch(V){case"width":return L>0?Y.pfValue*L:0;case"height":return F>0?Y.pfValue*F:0;case"average":return L>0&&F>0?Y.pfValue*(L+F)/2:0;case"min":return L>0&&F>0?L>F?Y.pfValue*F:Y.pfValue*L:0;case"max":return L>0&&F>0?L>F?Y.pfValue*L:Y.pfValue*F:0;default:return 0}else return Y.units==="px"?Y.pfValue:0}var D=m.width.left.value;m.width.left.units==="px"&&m.width.val>0&&(D=D*100/m.width.val);var T=m.width.right.value;m.width.right.units==="px"&&m.width.val>0&&(T=T*100/m.width.val);var C=m.height.top.value;m.height.top.units==="px"&&m.height.val>0&&(C=C*100/m.height.val);var R=m.height.bottom.value;m.height.bottom.units==="px"&&m.height.val>0&&(R=R*100/m.height.val);var M=x(m.width.val-p.w,D,T),_=M.biasDiff,k=M.biasComplementDiff,z=x(m.height.val-p.h,C,R),O=z.biasDiff,I=z.biasComplementDiff;c.autoPadding=S(p.w,p.h,f.pstyle("padding"),f.pstyle("padding-relative-to").value),c.autoWidth=Math.max(p.w,m.width.val),w.x=(-_+p.x1+p.x2+k)/2,c.autoHeight=Math.max(p.h,m.height.val),w.y=(-O+p.y1+p.y2+I)/2}for(var a=0;a<this.length;a++){var u=this[a],l=u._private;(!l.compoundBoundsClean||n)&&(t(u),e.batching()||(l.compoundBoundsClean=!0))}return this};var yi=function(e){return e===1/0||e===-1/0?0:e},Zi=function(e,t,a,u,l){u-t===0||l-a===0||t==null||a==null||u==null||l==null||(e.x1=t<e.x1?t:e.x1,e.x2=u>e.x2?u:e.x2,e.y1=a<e.y1?a:e.y1,e.y2=l>e.y2?l:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ro=function(e,t){return t==null?e:Zi(e,t.x1,t.y1,t.x2,t.y2)},Fd=function(e,t,a){return Wi(e,t,a)},Nm=function(e,t,a){if(!t.cy().headless()){var u=t._private,l=u.rstyle,f=l.arrowWidth/2,c=t.pstyle(a+"-arrow-shape").value,g,v;if(c!=="none"){a==="source"?(g=l.srcX,v=l.srcY):a==="target"?(g=l.tgtX,v=l.tgtY):(g=l.midX,v=l.midY);var m=u.arrowBounds=u.arrowBounds||{},p=m[a]=m[a]||{};p.x1=g-f,p.y1=v-f,p.x2=g+f,p.y2=v+f,p.w=p.x2-p.x1,p.h=p.y2-p.y1,Fm(p,1),Zi(e,p.x1,p.y1,p.x2,p.y2)}}},Wy=function(e,t,a){if(!t.cy().headless()){var u;a?u=a+"-":u="";var l=t._private,f=l.rstyle,c=t.pstyle(u+"label").strValue;if(c){var g=t.pstyle("text-halign"),v=t.pstyle("text-valign"),m=Fd(f,"labelWidth",a),p=Fd(f,"labelHeight",a),w=Fd(f,"labelX",a),x=Fd(f,"labelY",a),S=t.pstyle(u+"text-margin-x").pfValue,D=t.pstyle(u+"text-margin-y").pfValue,T=t.isEdge(),C=t.pstyle(u+"text-rotation"),R=t.pstyle("text-outline-width").pfValue,M=t.pstyle("text-border-width").pfValue,_=M/2,k=t.pstyle("text-background-padding").pfValue,z=2,O=p,I=m,L=I/2,F=O/2,Y,V,W,K;if(T)Y=w-L,V=w+L,W=x-F,K=x+F;else{switch(g.value){case"left":Y=w-I,V=w;break;case"center":Y=w-L,V=w+L;break;case"right":Y=w,V=w+I;break}switch(v.value){case"top":W=x-O,K=x;break;case"center":W=x-F,K=x+F;break;case"bottom":W=x,K=x+O;break}}var ee=S-Math.max(R,_)-k-z,X=S+Math.max(R,_)+k+z,Q=D-Math.max(R,_)-k-z,j=D+Math.max(R,_)+k+z;Y+=ee,V+=X,W+=Q,K+=j;var le=a||"main",P=l.labelBounds,Z=P[le]=P[le]||{};Z.x1=Y,Z.y1=W,Z.x2=V,Z.y2=K,Z.w=V-Y,Z.h=K-W,Z.leftPad=ee,Z.rightPad=X,Z.topPad=Q,Z.botPad=j;var ne=T&&C.strValue==="autorotate",de=C.pfValue!=null&&C.pfValue!==0;if(ne||de){var se=ne?Fd(l.rstyle,"labelAngle",a):C.pfValue,we=Math.cos(se),me=Math.sin(se),Me=(Y+V)/2,Se=(W+K)/2;if(!T){switch(g.value){case"left":Me=V;break;case"right":Me=Y;break}switch(v.value){case"top":Se=K;break;case"bottom":Se=W;break}}var ve=function(xt,Xe){return xt=xt-Me,Xe=Xe-Se,{x:xt*we-Xe*me+Me,y:xt*me+Xe*we+Se}},re=ve(Y,W),be=ve(Y,K),Ne=ve(V,W),Pe=ve(V,K);Y=Math.min(re.x,be.x,Ne.x,Pe.x),V=Math.max(re.x,be.x,Ne.x,Pe.x),W=Math.min(re.y,be.y,Ne.y,Pe.y),K=Math.max(re.y,be.y,Ne.y,Pe.y)}var Fe=le+"Rot",mt=P[Fe]=P[Fe]||{};mt.x1=Y,mt.y1=W,mt.x2=V,mt.y2=K,mt.w=V-Y,mt.h=K-W,Zi(e,Y,W,V,K),Zi(l.labelBounds.all,Y,W,V,K)}return e}},lD=function(e,t){if(!t.cy().headless()){var a=t.pstyle("outline-opacity").value,u=t.pstyle("outline-width").value;if(a>0&&u>0){var l=t.pstyle("outline-offset").value,f=t.pstyle("shape").value,c=u+l,g=(e.w+c*2)/e.w,v=(e.h+c*2)/e.h,m=0,p=0;["diamond","pentagon","round-triangle"].includes(f)?(g=(e.w+c*2.4)/e.w,p=-c/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(f)?g=(e.w+c*2.4)/e.w:f==="star"?(g=(e.w+c*2.8)/e.w,v=(e.h+c*2.6)/e.h,p=-c/3.8):f==="triangle"?(g=(e.w+c*2.8)/e.w,v=(e.h+c*2.4)/e.h,p=-c/1.4):f==="vee"&&(g=(e.w+c*4.4)/e.w,v=(e.h+c*3.8)/e.h,p=-c*.5);var w=e.h*v-e.h,x=e.w*g-e.w;if(qm(e,[Math.ceil(w/2),Math.ceil(x/2)]),m!=0||p!==0){var S=BT(e,m,p);lw(e,S)}}}},sD=function(e,t){var a=e._private.cy,u=a.styleEnabled(),l=a.headless(),f=Ra(),c=e._private,g=e.isNode(),v=e.isEdge(),m,p,w,x,S,D,T=c.rstyle,C=g&&u?e.pstyle("bounds-expansion").pfValue:[0],R=function(Lt){return Lt.pstyle("display").value!=="none"},M=!u||R(e)&&(!v||R(e.source())&&R(e.target()));if(M){var _=0,k=0;u&&t.includeOverlays&&(_=e.pstyle("overlay-opacity").value,_!==0&&(k=e.pstyle("overlay-padding").value));var z=0,O=0;u&&t.includeUnderlays&&(z=e.pstyle("underlay-opacity").value,z!==0&&(O=e.pstyle("underlay-padding").value));var I=Math.max(k,O),L=0,F=0;if(u&&(L=e.pstyle("width").pfValue,F=L/2),g&&t.includeNodes){var Y=e.position();S=Y.x,D=Y.y;var V=e.outerWidth(),W=V/2,K=e.outerHeight(),ee=K/2;m=S-W,p=S+W,w=D-ee,x=D+ee,Zi(f,m,w,p,x),u&&t.includeOutlines&&lD(f,e)}else if(v&&t.includeEdges)if(u&&!l){var X=e.pstyle("curve-style").strValue;if(m=Math.min(T.srcX,T.midX,T.tgtX),p=Math.max(T.srcX,T.midX,T.tgtX),w=Math.min(T.srcY,T.midY,T.tgtY),x=Math.max(T.srcY,T.midY,T.tgtY),m-=F,p+=F,w-=F,x+=F,Zi(f,m,w,p,x),X==="haystack"){var Q=T.haystackPts;if(Q&&Q.length===2){if(m=Q[0].x,w=Q[0].y,p=Q[1].x,x=Q[1].y,m>p){var j=m;m=p,p=j}if(w>x){var le=w;w=x,x=le}Zi(f,m-F,w-F,p+F,x+F)}}else if(X==="bezier"||X==="unbundled-bezier"||X.endsWith("segments")||X.endsWith("taxi")){var P;switch(X){case"bezier":case"unbundled-bezier":P=T.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":P=T.linePts;break}if(P!=null)for(var Z=0;Z<P.length;Z++){var ne=P[Z];m=ne.x-F,p=ne.x+F,w=ne.y-F,x=ne.y+F,Zi(f,m,w,p,x)}}}else{var de=e.source(),se=de.position(),we=e.target(),me=we.position();if(m=se.x,p=me.x,w=se.y,x=me.y,m>p){var Me=m;m=p,p=Me}if(w>x){var Se=w;w=x,x=Se}m-=F,p+=F,w-=F,x+=F,Zi(f,m,w,p,x)}if(u&&t.includeEdges&&v&&(Nm(f,e,"mid-source"),Nm(f,e,"mid-target"),Nm(f,e,"source"),Nm(f,e,"target")),u){var ve=e.pstyle("ghost").value==="yes";if(ve){var re=e.pstyle("ghost-offset-x").pfValue,be=e.pstyle("ghost-offset-y").pfValue;Zi(f,f.x1+re,f.y1+be,f.x2+re,f.y2+be)}}var Ne=c.bodyBounds=c.bodyBounds||{};b1(Ne,f),qm(Ne,C),Fm(Ne,1),u&&(m=f.x1,p=f.x2,w=f.y1,x=f.y2,Zi(f,m-I,w-I,p+I,x+I));var Pe=c.overlayBounds=c.overlayBounds||{};b1(Pe,f),qm(Pe,C),Fm(Pe,1);var Fe=c.labelBounds=c.labelBounds||{};Fe.all!=null?MT(Fe.all):Fe.all=Ra(),u&&t.includeLabels&&(t.includeMainLabels&&Wy(f,e,null),v&&(t.includeSourceLabels&&Wy(f,e,"source"),t.includeTargetLabels&&Wy(f,e,"target")))}return f.x1=yi(f.x1),f.y1=yi(f.y1),f.x2=yi(f.x2),f.y2=yi(f.y2),f.w=yi(f.x2-f.x1),f.h=yi(f.y2-f.y1),f.w>0&&f.h>0&&M&&(qm(f,C),Fm(f,1)),f},Lw=function(e){var t=0,a=function(f){return(f?1:0)<<t++},u=0;return u+=a(e.incudeNodes),u+=a(e.includeEdges),u+=a(e.includeLabels),u+=a(e.includeMainLabels),u+=a(e.includeSourceLabels),u+=a(e.includeTargetLabels),u+=a(e.includeOverlays),u+=a(e.includeOutlines),u},zw=function(e){if(e.isEdge()){var t=e.source().position(),a=e.target().position(),u=function(f){return Math.round(f)};return Qx([u(t.x),u(t.y),u(a.x),u(a.y)])}else return 0},F1=function(e,t){var a=e._private,u,l=e.isEdge(),f=t==null?q1:Lw(t),c=f===q1,g=zw(e),v=a.bbCachePosKey===g,m=t.useCache&&v,p=function(D){return D._private.bbCache==null||D._private.styleDirty},w=!m||p(e)||l&&(p(e.source())||p(e.target()));if(w?(v||e.recalculateRenderedStyle(m),u=sD(e,ch),a.bbCache=u,a.bbCachePosKey=g):u=a.bbCache,!c){var x=e.isNode();u=Ra(),(t.includeNodes&&x||t.includeEdges&&!x)&&(t.includeOverlays?Ro(u,a.overlayBounds):Ro(u,a.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!l||t.includeSourceLabels&&t.includeTargetLabels)?Ro(u,a.labelBounds.all):(t.includeMainLabels&&Ro(u,a.labelBounds.mainRot),t.includeSourceLabels&&Ro(u,a.labelBounds.sourceRot),t.includeTargetLabels&&Ro(u,a.labelBounds.targetRot))),u.w=u.x2-u.x1,u.h=u.y2-u.y1}return u},ch={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},q1=Lw(ch),G1=yr(ch);gs.boundingBox=function(n){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(n===void 0||n.useCache===void 0||n.useCache===!0))n===void 0?n=ch:n=G1(n),e=F1(this[0],n);else{e=Ra(),n=n||ch;var t=G1(n),a=this,u=a.cy(),l=u.styleEnabled();if(l)for(var f=0;f<a.length;f++){var c=a[f],g=c._private,v=zw(c),m=g.bbCachePosKey===v,p=t.useCache&&m&&!g.styleDirty;c.recalculateRenderedStyle(p)}this.updateCompoundBounds(!n.useCache);for(var w=0;w<a.length;w++){var x=a[w];Ro(e,F1(x,t))}}return e.x1=yi(e.x1),e.y1=yi(e.y1),e.x2=yi(e.x2),e.y2=yi(e.y2),e.w=yi(e.x2-e.x1),e.h=yi(e.y2-e.y1),e};gs.dirtyBoundingBoxCache=function(){for(var n=0;n<this.length;n++){var e=this[n]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};gs.boundingBoxAt=function(n){var e=this.nodes(),t=this.cy(),a=t.hasCompoundNodes(),u=t.collection();if(a&&(u=e.filter(function(v){return v.isParent()}),e=e.not(u)),Xt(n)){var l=n;n=function(){return l}}var f=function(m,p){return m._private.bbAtOldPos=n(m,p)},c=function(m){return m._private.bbAtOldPos};t.startBatch(),e.forEach(f).silentPositions(n),a&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0));var g=RT(this.boundingBox({useCache:!1}));return e.silentPositions(c),a&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0)),t.endBatch(),g};Tc.boundingbox=Tc.bb=Tc.boundingBox;Tc.renderedBoundingbox=Tc.renderedBoundingBox;var oD=gs,$d,Sh;$d=Sh={};var kw=function(e){e.uppercaseName=v1(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=v1(e.outerName),$d[e.name]=function(){var a=this[0],u=a._private,l=u.cy,f=l._private.styleEnabled;if(a)if(f){if(a.isParent())return a.updateCompoundBounds(),u[e.autoName]||0;var c=a.pstyle(e.name);switch(c.strValue){case"label":return a.recalculateRenderedStyle(),u.rstyle[e.labelName]||0;default:return c.pfValue}}else return 1},$d["outer"+e.uppercaseName]=function(){var a=this[0],u=a._private,l=u.cy,f=l._private.styleEnabled;if(a)if(f){var c=a[e.name](),g=a.pstyle("border-width").pfValue,v=2*a.padding();return c+g+v}else return 1},$d["rendered"+e.uppercaseName]=function(){var a=this[0];if(a){var u=a[e.name]();return u*this.cy().zoom()}},$d["rendered"+e.uppercaseOuterName]=function(){var a=this[0];if(a){var u=a[e.outerName]();return u*this.cy().zoom()}}};kw({name:"width"});kw({name:"height"});Sh.padding=function(){var n=this[0],e=n._private;return n.isParent()?(n.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:n.pstyle("padding").pfValue):n.pstyle("padding").pfValue};Sh.paddedHeight=function(){var n=this[0];return n.height()+2*n.padding()};Sh.paddedWidth=function(){var n=this[0];return n.width()+2*n.padding()};var fD=Sh,cD=function(e,t){if(e.isEdge())return t(e)},vD=function(e,t){if(e.isEdge()){var a=e.cy();return dp(t(e),a.zoom(),a.pan())}},dD=function(e,t){if(e.isEdge()){var a=e.cy(),u=a.pan(),l=a.zoom();return t(e).map(function(f){return dp(f,l,u)})}},hD=function(e){return e.renderer().getControlPoints(e)},gD=function(e){return e.renderer().getSegmentPoints(e)},mD=function(e){return e.renderer().getSourceEndpoint(e)},pD=function(e){return e.renderer().getTargetEndpoint(e)},yD=function(e){return e.renderer().getEdgeMidpoint(e)},V1={controlPoints:{get:hD,mult:!0},segmentPoints:{get:gD,mult:!0},sourceEndpoint:{get:mD},targetEndpoint:{get:pD},midpoint:{get:yD}},bD=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},wD=Object.keys(V1).reduce(function(n,e){var t=V1[e],a=bD(e);return n[e]=function(){return cD(this,t.get)},t.mult?n[a]=function(){return dD(this,t.get)}:n[a]=function(){return vD(this,t.get)},n},{}),ED=vt({},uD,oD,fD,wD);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Iw=function(e,t){this.recycle(e,t)};function qd(){return!1}function Lm(){return!0}Iw.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=qd,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Lm:qd):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var a=this.position,u=this.cy.zoom(),l=this.cy.pan();this.renderedPosition={x:a.x*u+l.x,y:a.y*u+l.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Lm;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Lm;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Lm,this.stopPropagation()},isDefaultPrevented:qd,isPropagationStopped:qd,isImmediatePropagationStopped:qd};var Uw=/^([^.]+)(\.(?:[^.]+))?$/,SD=".*",Pw={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Y1=Object.keys(Pw),xD={};function bp(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xD,e=arguments.length>1?arguments[1]:void 0,t=0;t<Y1.length;t++){var a=Y1[t];this[a]=n[a]||Pw[a]}this.context=e||this.context,this.listeners=[],this.emitting=0}var vs=bp.prototype,Hw=function(e,t,a,u,l,f,c){Un(u)&&(l=u,u=null),c&&(f==null?f=c:f=vt({},f,c));for(var g=dn(a)?a:a.split(/\s+/),v=0;v<g.length;v++){var m=g[v];if(!ls(m)){var p=m.match(Uw);if(p){var w=p[1],x=p[2]?p[2]:null,S=t(e,m,w,x,u,l,f);if(S===!1)break}}}},X1=function(e,t){return e.addEventFields(e.context,t),new Iw(t.type,t)},TD=function(e,t,a){if(KS(a)){t(e,a);return}else if(Xt(a)){t(e,X1(e,a));return}for(var u=dn(a)?a:a.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!ls(f)){var c=f.match(Uw);if(c){var g=c[1],v=c[2]?c[2]:null,m=X1(e,{type:g,namespace:v,target:e.context});t(e,m)}}}};vs.on=vs.addListener=function(n,e,t,a,u){return Hw(this,function(l,f,c,g,v,m,p){Un(m)&&l.listeners.push({event:f,callback:m,type:c,namespace:g,qualifier:v,conf:p})},n,e,t,a,u),this};vs.one=function(n,e,t,a){return this.on(n,e,t,a,{one:!0})};vs.removeListener=vs.off=function(n,e,t,a){var u=this;this.emitting!==0&&(this.listeners=tT(this.listeners));for(var l=this.listeners,f=function(v){var m=l[v];Hw(u,function(p,w,x,S,D,T){if((m.type===x||n==="*")&&(!S&&m.namespace!==".*"||m.namespace===S)&&(!D||p.qualifierCompare(m.qualifier,D))&&(!T||m.callback===T))return l.splice(v,1),!1},n,e,t,a)},c=l.length-1;c>=0;c--)f(c);return this};vs.removeAllListeners=function(){return this.removeListener("*")};vs.emit=vs.trigger=function(n,e,t){var a=this.listeners,u=a.length;return this.emitting++,dn(e)||(e=[e]),TD(this,function(l,f){t!=null&&(a=[{event:f.event,type:f.type,namespace:f.namespace,callback:t}],u=a.length);for(var c=function(m){var p=a[m];if(p.type===f.type&&(!p.namespace||p.namespace===f.namespace||p.namespace===SD)&&l.eventMatches(l.context,p,f)){var w=[f];e!=null&&rT(w,e),l.beforeEmit(l.context,p,f),p.conf&&p.conf.one&&(l.listeners=l.listeners.filter(function(D){return D!==p}));var x=l.callbackContext(l.context,p,f),S=p.callback.apply(x,w);l.afterEmit(l.context,p,f),S===!1&&(f.stopPropagation(),f.preventDefault())}},g=0;g<u;g++)c(g);l.bubble(l.context)&&!f.isPropagationStopped()&&l.parent(l.context).emit(f,e)},n),this.emitting--,this};var CD={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,a){var u=t.qualifier;return u!=null?e!==a.target&&yh(a.target)&&u.matches(a.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,a){return t.qualifier!=null?a.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},zm=function(e){return ut(e)?new fs(e):e},Fw={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],a=t._private;a.emitter||(a.emitter=new bp(CD,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,a){for(var u=zm(t),l=0;l<this.length;l++){var f=this[l];f.emitter().on(e,u,a)}return this},removeListener:function(e,t,a){for(var u=zm(t),l=0;l<this.length;l++){var f=this[l];f.emitter().removeListener(e,u,a)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,a){for(var u=zm(t),l=0;l<this.length;l++){var f=this[l];f.emitter().one(e,u,a)}return this},once:function(e,t,a){for(var u=zm(t),l=0;l<this.length;l++){var f=this[l];f.emitter().on(e,u,a,{once:!0,onceCollection:this})}},emit:function(e,t){for(var a=0;a<this.length;a++){var u=this[a];u.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};an.eventAliasesOn(Fw);var qw={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),a=0;a<this.length;a++){var u=this[a];u.isNode()?e.push(u):t.push(u)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(ut(e)||$a(e))return new fs(e).filter(this);if(Un(e)){for(var a=this.spawn(),u=this,l=0;l<u.length;l++){var f=u[l],c=t?e.apply(t,[f,l,u]):e(f,l,u);c&&a.push(f)}return a}return this.spawn()},not:function(e){if(e){ut(e)&&(e=this.filter(e));for(var t=this.spawn(),a=0;a<this.length;a++){var u=this[a],l=e.has(u);l||t.push(u)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(ut(e)){var t=e;return this.filter(t)}for(var a=this.spawn(),u=this,l=e,f=this.length<e.length,c=f?u:l,g=f?l:u,v=0;v<c.length;v++){var m=c[v];g.has(m)&&a.push(m)}return a},xor:function(e){var t=this._private.cy;ut(e)&&(e=t.$(e));var a=this.spawn(),u=this,l=e,f=function(g,v){for(var m=0;m<g.length;m++){var p=g[m],w=p._private.data.id,x=v.hasElementWithId(w);x||a.push(p)}};return f(u,l),f(l,u),a},diff:function(e){var t=this._private.cy;ut(e)&&(e=t.$(e));var a=this.spawn(),u=this.spawn(),l=this.spawn(),f=this,c=e,g=function(m,p,w){for(var x=0;x<m.length;x++){var S=m[x],D=S._private.data.id,T=p.hasElementWithId(D);T?l.merge(S):w.push(S)}};return g(f,c,a),g(c,f,u),{left:a,right:u,both:l}},add:function(e){var t=this._private.cy;if(!e)return this;if(ut(e)){var a=e;e=t.mutableElements().filter(a)}for(var u=this.spawnSelf(),l=0;l<e.length;l++){var f=e[l],c=!this.has(f);c&&u.push(f)}return u},merge:function(e){var t=this._private,a=t.cy;if(!e)return this;if(e&&ut(e)){var u=e;e=a.mutableElements().filter(u)}for(var l=t.map,f=0;f<e.length;f++){var c=e[f],g=c._private.data.id,v=!l.has(g);if(v){var m=this.length++;this[m]=c,l.set(g,{ele:c,index:m})}}return this},unmergeAt:function(e){var t=this[e],a=t.id(),u=this._private,l=u.map;this[e]=void 0,l.delete(a);var f=e===this.length-1;if(this.length>1&&!f){var c=this.length-1,g=this[c],v=g._private.data.id;this[c]=void 0,this[e]=g,l.set(v,{ele:g,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,a=e._private.data.id,u=t.map,l=u.get(a);if(!l)return this;var f=l.index;return this.unmergeAt(f),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&ut(e)){var a=e;e=t.mutableElements().filter(a)}for(var u=0;u<e.length;u++)this.unmergeOne(e[u]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var a=this[t];e(a)&&this.unmergeAt(t)}return this},map:function(e,t){for(var a=[],u=this,l=0;l<u.length;l++){var f=u[l],c=t?e.apply(t,[f,l,u]):e(f,l,u);a.push(c)}return a},reduce:function(e,t){for(var a=t,u=this,l=0;l<u.length;l++)a=e(a,u[l],l,u);return a},max:function(e,t){for(var a=-1/0,u,l=this,f=0;f<l.length;f++){var c=l[f],g=t?e.apply(t,[c,f,l]):e(c,f,l);g>a&&(a=g,u=c)}return{value:a,ele:u}},min:function(e,t){for(var a=1/0,u,l=this,f=0;f<l.length;f++){var c=l[f],g=t?e.apply(t,[c,f,l]):e(c,f,l);g<a&&(a=g,u=c)}return{value:a,ele:u}}},Qt=qw;Qt.u=Qt["|"]=Qt["+"]=Qt.union=Qt.or=Qt.add;Qt["\\"]=Qt["!"]=Qt["-"]=Qt.difference=Qt.relativeComplement=Qt.subtract=Qt.not;Qt.n=Qt["&"]=Qt["."]=Qt.and=Qt.intersection=Qt.intersect;Qt["^"]=Qt["(+)"]=Qt["(-)"]=Qt.symmetricDifference=Qt.symdiff=Qt.xor;Qt.fnFilter=Qt.filterFn=Qt.stdFilter=Qt.filter;Qt.complement=Qt.abscomp=Qt.absoluteComplement;var AD={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Gw=function(e,t){var a=e.cy(),u=a.hasCompoundNodes();function l(m){var p=m.pstyle("z-compound-depth");return p.value==="auto"?u?m.zDepth():0:p.value==="bottom"?-1:p.value==="top"?A0:0}var f=l(e)-l(t);if(f!==0)return f;function c(m){var p=m.pstyle("z-index-compare");return p.value==="auto"&&m.isNode()?1:0}var g=c(e)-c(t);if(g!==0)return g;var v=e.pstyle("z-index").value-t.pstyle("z-index").value;return v!==0?v:e.poolIndex()-t.poolIndex()},rp={forEach:function(e,t){if(Un(e))for(var a=this.length,u=0;u<a;u++){var l=this[u],f=t?e.apply(t,[l,u,this]):e(l,u,this);if(f===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var a=[],u=this.length;t==null&&(t=u),e==null&&(e=0),e<0&&(e=u+e),t<0&&(t=u+t);for(var l=e;l>=0&&l<t&&l<u;l++)a.push(this[l]);return this.spawn(a)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Un(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Gw)},zDepth:function(){var e=this[0];if(e){var t=e._private,a=t.group;if(a==="nodes"){var u=t.data.parent?e.parents().size():0;return e.isParent()?u:A0-1}else{var l=t.source,f=t.target,c=l.zDepth(),g=f.zDepth();return Math.max(c,g,0)}}}};rp.each=rp.forEach;var DD=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":lr(Symbol))!=e&&lr(Symbol.iterator)!=e;t&&(rp[Symbol.iterator]=function(){var a=this,u={value:void 0,done:!1},l=0,f=this.length;return Pb({next:function(){return l<f?u.value=a[l++]:(u.value=void 0,u.done=!0),u}},Symbol.iterator,function(){return this})})};DD();var RD=yr({nodeDimensionsIncludeLabels:!1}),Vm={layoutDimensions:function(e){e=RD(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var a=this.boundingBox();t={w:a.w,h:a.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,a){var u=this.nodes().filter(function(k){return!k.isParent()}),l=this.cy(),f=t.eles,c=function(z){return z.id()},g=rh(a,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var v=function(z,O,I){var L={x:O.x1+O.w/2,y:O.y1+O.h/2},F={x:(I.x-L.x)*z,y:(I.y-L.y)*z};return{x:L.x+F.x,y:L.y+F.y}},m=t.spacingFactor&&t.spacingFactor!==1,p=function(){if(!m)return null;for(var z=Ra(),O=0;O<u.length;O++){var I=u[O],L=g(I,O);OT(z,L.x,L.y)}return z},w=p(),x=rh(function(k,z){var O=g(k,z);if(m){var I=Math.abs(t.spacingFactor);O=v(I,w,O)}return t.transform!=null&&(O=t.transform(k,O)),O},c);if(t.animate){for(var S=0;S<u.length;S++){var D=u[S],T=x(D,S),C=t.animateFilter==null||t.animateFilter(D,S);if(C){var R=D.animation({position:T,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(R)}else D.position(T)}if(t.fit){var M=l.animation({fit:{boundingBox:f.boundingBoxAt(x),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(M)}else if(t.zoom!==void 0&&t.pan!==void 0){var _=l.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(_)}e.animations.forEach(function(k){return k.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Oc.all(e.animations.map(function(k){return k.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else u.positions(x),t.fit&&l.fit(t.eles,t.padding),t.zoom!=null&&l.zoom(t.zoom),t.pan&&l.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(vt({},e,{eles:this}))}};Vm.createLayout=Vm.makeLayout=Vm.layout;function Vw(n,e,t){var a=t._private,u=a.styleCache=a.styleCache||[],l;return(l=u[n])!=null||(l=u[n]=e(t)),l}function wp(n,e){return n=ss(n),function(a){return Vw(n,e,a)}}function Ep(n,e){n=ss(n);var t=function(u){return e.call(u)};return function(){var u=this[0];if(u)return Vw(n,t,u)}}var Dr={recalculateRenderedStyle:function(e){var t=this.cy(),a=t.renderer(),u=t.styleEnabled();return a&&u&&a.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(l){return l._private.styleCache=null};if(e.hasCompoundNodes()){var a;a=this.spawnSelf().merge(this.descendants()).merge(this.parents()),a.merge(a.connectedEdges()),a.forEach(t)}else this.forEach(function(u){t(u),u.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var a=t._private.batchStyleEles;return a.merge(this),this}var u=t.hasCompoundNodes(),l=this;e=!!(e||e===void 0),u&&(l=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var f=l;return e?f.emitAndNotify("style"):f.emit("style"),l.forEach(function(c){return c._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var a=this[t];a._private.styleDirty&&(a._private.styleDirty=!1,e.style().apply(a))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this[0],u=a.cy();if(u.styleEnabled()&&a){a._private.styleDirty&&(a._private.styleDirty=!1,u.style().apply(a));var l=a._private.style[e];return l??(t?u.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var a=t.pstyle(e);return a.pfValue!==void 0?a.pfValue:a.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var a=this[0];if(a)return t.style().getRenderedStyle(a,e)},style:function(e,t){var a=this.cy();if(!a.styleEnabled())return this;var u=!1,l=a.style();if(Xt(e)){var f=e;l.applyBypass(this,f,u),this.emitAndNotify("style")}else if(ut(e))if(t===void 0){var c=this[0];return c?l.getStylePropertyValue(c,e):void 0}else l.applyBypass(this,e,t,u),this.emitAndNotify("style");else if(e===void 0){var g=this[0];return g?l.getRawStyle(g):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var a=!1,u=t.style(),l=this;if(e===void 0)for(var f=0;f<l.length;f++){var c=l[f];u.removeAllBypasses(c,a)}else{e=e.split(/\s+/);for(var g=0;g<l.length;g++){var v=l[g];u.removeBypasses(v,e,a)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),a=this[0];if(a){var u=a._private,l=a.pstyle("opacity").value;if(!t)return l;var f=u.data.parent?a.parents():null;if(f)for(var c=0;c<f.length;c++){var g=f[c],v=g.pstyle("opacity").value;l=v*l}return l}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],a=t.cy().hasCompoundNodes();if(t)return a?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function Qy(n,e){var t=n._private,a=t.data.parent?n.parents():null;if(a)for(var u=0;u<a.length;u++){var l=a[u];if(!e(l))return!1}return!0}function U0(n){var e=n.ok,t=n.edgeOkViaNode||n.ok,a=n.parentOk||n.ok;return function(){var u=this.cy();if(!u.styleEnabled())return!0;var l=this[0],f=u.hasCompoundNodes();if(l){var c=l._private;if(!e(l))return!1;if(l.isNode())return!f||Qy(l,a);var g=c.source,v=c.target;return t(g)&&(!f||Qy(g,t))&&(g===v||t(v)&&(!f||Qy(v,t)))}}}var zc=wp("eleTakesUpSpace",function(n){return n.pstyle("display").value==="element"&&n.width()!==0&&(n.isNode()?n.height()!==0:!0)});Dr.takesUpSpace=Ep("takesUpSpace",U0({ok:zc}));var MD=wp("eleInteractive",function(n){return n.pstyle("events").value==="yes"&&n.pstyle("visibility").value==="visible"&&zc(n)}),BD=wp("parentInteractive",function(n){return n.pstyle("visibility").value==="visible"&&zc(n)});Dr.interactive=Ep("interactive",U0({ok:MD,parentOk:BD,edgeOkViaNode:zc}));Dr.noninteractive=function(){var n=this[0];if(n)return!n.interactive()};var OD=wp("eleVisible",function(n){return n.pstyle("visibility").value==="visible"&&n.pstyle("opacity").pfValue!==0&&zc(n)}),_D=zc;Dr.visible=Ep("visible",U0({ok:OD,edgeOkViaNode:_D}));Dr.hidden=function(){var n=this[0];if(n)return!n.visible()};Dr.isBundledBezier=Ep("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Dr.bypass=Dr.css=Dr.style;Dr.renderedCss=Dr.renderedStyle;Dr.removeBypass=Dr.removeCss=Dr.removeStyle;Dr.pstyle=Dr.parsedStyle;var us={};function K1(n){return function(){var e=arguments,t=[];if(e.length===2){var a=e[0],u=e[1];this.on(n.event,a,u)}else if(e.length===1&&Un(e[0])){var l=e[0];this.on(n.event,l)}else if(e.length===0||e.length===1&&dn(e[0])){for(var f=e.length===1?e[0]:null,c=0;c<this.length;c++){var g=this[c],v=!n.ableField||g._private[n.ableField],m=g._private[n.field]!=n.value;if(n.overrideAble){var p=n.overrideAble(g);if(p!==void 0&&(v=p,!p))return this}v&&(g._private[n.field]=n.value,m&&t.push(g))}var w=this.spawn(t);w.updateStyle(),w.emit(n.event),f&&w.emit(f)}return this}}function kc(n){us[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(t!==void 0)return t}return e._private[n.field]}},us[n.on]=K1({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),us[n.off]=K1({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}kc({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});kc({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});kc({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});kc({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});us.deselect=us.unselect;us.grabbed=function(){var n=this[0];if(n)return n._private.grabbed};kc({field:"active",on:"activate",off:"unactivate"});kc({field:"pannable",on:"panify",off:"unpanify"});us.inactive=function(){var n=this[0];if(n)return!n._private.active};var Hr={},Z1=function(e){return function(a){for(var u=this,l=[],f=0;f<u.length;f++){var c=u[f];if(c.isNode()){for(var g=!1,v=c.connectedEdges(),m=0;m<v.length;m++){var p=v[m],w=p.source(),x=p.target();if(e.noIncomingEdges&&x===c&&w!==c||e.noOutgoingEdges&&w===c&&x!==c){g=!0;break}}g||l.push(c)}}return this.spawn(l,!0).filter(a)}},W1=function(e){return function(t){for(var a=this,u=[],l=0;l<a.length;l++){var f=a[l];if(f.isNode())for(var c=f.connectedEdges(),g=0;g<c.length;g++){var v=c[g],m=v.source(),p=v.target();e.outgoing&&m===f?(u.push(v),u.push(p)):e.incoming&&p===f&&(u.push(v),u.push(m))}}return this.spawn(u,!0).filter(t)}},Q1=function(e){return function(t){for(var a=this,u=[],l={};;){var f=e.outgoing?a.outgoers():a.incomers();if(f.length===0)break;for(var c=!1,g=0;g<f.length;g++){var v=f[g],m=v.id();l[m]||(l[m]=!0,u.push(v),c=!0)}if(!c)break;a=f}return this.spawn(u,!0).filter(t)}};Hr.clearTraversalCache=function(){for(var n=0;n<this.length;n++)this[n]._private.traversalCache=null};vt(Hr,{roots:Z1({noIncomingEdges:!0}),leaves:Z1({noOutgoingEdges:!0}),outgoers:wi(W1({outgoing:!0}),"outgoers"),successors:Q1({outgoing:!0}),incomers:wi(W1({incoming:!0}),"incomers"),predecessors:Q1({})});vt(Hr,{neighborhood:wi(function(n){for(var e=[],t=this.nodes(),a=0;a<t.length;a++)for(var u=t[a],l=u.connectedEdges(),f=0;f<l.length;f++){var c=l[f],g=c.source(),v=c.target(),m=u===g?v:g;m.length>0&&e.push(m[0]),e.push(c[0])}return this.spawn(e,!0).filter(n)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Hr.neighbourhood=Hr.neighborhood;Hr.closedNeighbourhood=Hr.closedNeighborhood;Hr.openNeighbourhood=Hr.openNeighborhood;vt(Hr,{source:wi(function(e){var t=this[0],a;return t&&(a=t._private.source||t.cy().collection()),a&&e?a.filter(e):a},"source"),target:wi(function(e){var t=this[0],a;return t&&(a=t._private.target||t.cy().collection()),a&&e?a.filter(e):a},"target"),sources:$1({attr:"source"}),targets:$1({attr:"target"})});function $1(n){return function(t){for(var a=[],u=0;u<this.length;u++){var l=this[u],f=l._private[n.attr];f&&a.push(f)}return this.spawn(a,!0).filter(t)}}vt(Hr,{edgesWith:wi(J1(),"edgesWith"),edgesTo:wi(J1({thisIsSrc:!0}),"edgesTo")});function J1(n){return function(t){var a=[],u=this._private.cy,l=n||{};ut(t)&&(t=u.$(t));for(var f=0;f<t.length;f++)for(var c=t[f]._private.edges,g=0;g<c.length;g++){var v=c[g],m=v._private.data,p=this.hasElementWithId(m.source)&&t.hasElementWithId(m.target),w=t.hasElementWithId(m.source)&&this.hasElementWithId(m.target),x=p||w;x&&((l.thisIsSrc||l.thisIsTgt)&&(l.thisIsSrc&&!p||l.thisIsTgt&&!w)||a.push(v))}return this.spawn(a,!0)}}vt(Hr,{connectedEdges:wi(function(n){for(var e=[],t=this,a=0;a<t.length;a++){var u=t[a];if(u.isNode())for(var l=u._private.edges,f=0;f<l.length;f++){var c=l[f];e.push(c)}}return this.spawn(e,!0).filter(n)},"connectedEdges"),connectedNodes:wi(function(n){for(var e=[],t=this,a=0;a<t.length;a++){var u=t[a];u.isEdge()&&(e.push(u.source()[0]),e.push(u.target()[0]))}return this.spawn(e,!0).filter(n)},"connectedNodes"),parallelEdges:wi(j1(),"parallelEdges"),codirectedEdges:wi(j1({codirected:!0}),"codirectedEdges")});function j1(n){var e={codirected:!1};return n=vt({},e,n),function(a){for(var u=[],l=this.edges(),f=n,c=0;c<l.length;c++)for(var g=l[c],v=g._private,m=v.source,p=m._private.data.id,w=v.data.target,x=m._private.edges,S=0;S<x.length;S++){var D=x[S],T=D._private.data,C=T.target,R=T.source,M=C===w&&R===p,_=p===C&&w===R;(f.codirected&&M||!f.codirected&&(M||_))&&u.push(D)}return this.spawn(u,!0).filter(a)}}vt(Hr,{components:function(e){var t=this,a=t.cy(),u=a.collection(),l=e==null?t.nodes():e.nodes(),f=[];e!=null&&l.empty()&&(l=e.sources());var c=function(m,p){u.merge(m),l.unmerge(m),p.merge(m)};if(l.empty())return t.spawn();var g=function(){var m=a.collection();f.push(m);var p=l[0];c(p,m),t.bfs({directed:!1,roots:p,visit:function(x){return c(x,m)}}),m.forEach(function(w){w.connectedEdges().forEach(function(x){t.has(x)&&m.has(x.source())&&m.has(x.target())&&m.merge(x)})})};do g();while(l.length>0);return f},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Hr.componentsOf=Hr.components;var Rr=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){In("A collection must have a reference to the core");return}var l=new Bu,f=!1;if(!t)t=[];else if(t.length>0&&Xt(t[0])&&!yh(t[0])){f=!0;for(var c=[],g=new Bc,v=0,m=t.length;v<m;v++){var p=t[v];p.data==null&&(p.data={});var w=p.data;if(w.id==null)w.id=rw();else if(e.hasElementWithId(w.id)||g.has(w.id))continue;var x=new vp(e,p,!1);c.push(x),g.add(w.id)}t=c}this.length=0;for(var S=0,D=t.length;S<D;S++){var T=t[S][0];if(T!=null){var C=T._private.data.id;(!a||!l.has(C))&&(a&&l.set(C,{index:this.length,ele:T}),this[this.length]=T,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(R){this.lazyMap=R},rebuildMap:function(){for(var M=this.lazyMap=new Bu,_=this.eles,k=0;k<_.length;k++){var z=_[k];M.set(z.id(),{index:k,ele:z})}}},a&&(this._private.map=l),f&&!u&&this.restore()},wn=vp.prototype=Rr.prototype=Object.create(Array.prototype);wn.instanceString=function(){return"collection"};wn.spawn=function(n,e){return new Rr(this.cy(),n,e)};wn.spawnSelf=function(){return this.spawn(this)};wn.cy=function(){return this._private.cy};wn.renderer=function(){return this._private.cy.renderer()};wn.element=function(){return this[0]};wn.collection=function(){return qb(this)?this:new Rr(this._private.cy,[this])};wn.unique=function(){return new Rr(this._private.cy,this,!0)};wn.hasElementWithId=function(n){return n=""+n,this._private.map.has(n)};wn.getElementById=function(n){n=""+n;var e=this._private.cy,t=this._private.map.get(n);return t?t.ele:new Rr(e)};wn.$id=wn.getElementById;wn.poolIndex=function(){var n=this._private.cy,e=n._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};wn.indexOf=function(n){var e=n[0]._private.data.id;return this._private.map.get(e).index};wn.indexOfId=function(n){return n=""+n,this._private.map.get(n).index};wn.json=function(n){var e=this.element(),t=this.cy();if(e==null&&n)return this;if(e!=null){var a=e._private;if(Xt(n)){if(t.startBatch(),n.data){e.data(n.data);var u=a.data;if(e.isEdge()){var l=!1,f={},c=n.data.source,g=n.data.target;c!=null&&c!=u.source&&(f.source=""+c,l=!0),g!=null&&g!=u.target&&(f.target=""+g,l=!0),l&&(e=e.move(f))}else{var v="parent"in n.data,m=n.data.parent;v&&(m!=null||u.parent!=null)&&m!=u.parent&&(m===void 0&&(m=null),m!=null&&(m=""+m),e=e.move({parent:m}))}}n.position&&e.position(n.position);var p=function(D,T,C){var R=n[D];R!=null&&R!==a[D]&&(R?e[T]():e[C]())};return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),n.classes!=null&&e.classes(n.classes),t.endBatch(),this}else if(n===void 0){var w={data:Mu(a.data),position:Mu(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,pannable:a.pannable,classes:null};w.classes="";var x=0;return a.classes.forEach(function(S){return w.classes+=x++===0?S:" "+S}),w}}};wn.jsons=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e],a=t.json();n.push(a)}return n};wn.clone=function(){for(var n=this.cy(),e=[],t=0;t<this.length;t++){var a=this[t],u=a.json(),l=new vp(n,u,!1);e.push(l)}return new Rr(n,e)};wn.copy=wn.clone;wn.restore=function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,a=t.cy(),u=a._private,l=[],f=[],c,g=0,v=t.length;g<v;g++){var m=t[g];e&&!m.removed()||(m.isNode()?l.push(m):f.push(m))}c=l.concat(f);var p,w=function(){c.splice(p,1),p--};for(p=0;p<c.length;p++){var x=c[p],S=x._private,D=S.data;if(x.clearTraversalCache(),!(!e&&!S.removed)){if(D.id===void 0)D.id=rw();else if(Ge(D.id))D.id=""+D.id;else if(ls(D.id)||!ut(D.id)){In("Can not create element with invalid string ID `"+D.id+"`"),w();continue}else if(a.hasElementWithId(D.id)){In("Can not create second element with ID `"+D.id+"`"),w();continue}}var T=D.id;if(x.isNode()){var C=S.position;C.x==null&&(C.x=0),C.y==null&&(C.y=0)}if(x.isEdge()){for(var R=x,M=["source","target"],_=M.length,k=!1,z=0;z<_;z++){var O=M[z],I=D[O];Ge(I)&&(I=D[O]=""+D[O]),I==null||I===""?(In("Can not create edge `"+T+"` with unspecified "+O),k=!0):a.hasElementWithId(I)||(In("Can not create edge `"+T+"` with nonexistant "+O+" `"+I+"`"),k=!0)}if(k){w();continue}var L=a.getElementById(D.source),F=a.getElementById(D.target);L.same(F)?L._private.edges.push(R):(L._private.edges.push(R),F._private.edges.push(R)),R._private.source=L,R._private.target=F}S.map=new Bu,S.map.set(T,{ele:x,index:0}),S.removed=!1,e&&a.addToPool(x)}for(var Y=0;Y<l.length;Y++){var V=l[Y],W=V._private.data;Ge(W.parent)&&(W.parent=""+W.parent);var K=W.parent,ee=K!=null;if(ee||V._private.parent){var X=V._private.parent?a.collection().merge(V._private.parent):a.getElementById(K);if(X.empty())W.parent=void 0;else if(X[0].removed())un("Node added with missing parent, reference to parent removed"),W.parent=void 0,V._private.parent=null;else{for(var Q=!1,j=X;!j.empty();){if(V.same(j)){Q=!0,W.parent=void 0;break}j=j.parent()}Q||(X[0]._private.children.push(V),V._private.parent=X[0],u.hasCompoundNodes=!0)}}}if(c.length>0){for(var le=c.length===t.length?t:new Rr(a,c),P=0;P<le.length;P++){var Z=le[P];Z.isNode()||(Z.parallelEdges().clearTraversalCache(),Z.source().clearTraversalCache(),Z.target().clearTraversalCache())}var ne;u.hasCompoundNodes?ne=a.collection().merge(le).merge(le.connectedNodes()).merge(le.parent()):ne=le,ne.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?le.emitAndNotify("add"):e&&le.emit("add")}return t};wn.removed=function(){var n=this[0];return n&&n._private.removed};wn.inside=function(){var n=this[0];return n&&!n._private.removed};wn.remove=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,a=[],u={},l=t._private.cy;function f(K){for(var ee=K._private.edges,X=0;X<ee.length;X++)g(ee[X])}function c(K){for(var ee=K._private.children,X=0;X<ee.length;X++)g(ee[X])}function g(K){var ee=u[K.id()];e&&K.removed()||ee||(u[K.id()]=!0,K.isNode()?(a.push(K),f(K),c(K)):a.unshift(K))}for(var v=0,m=t.length;v<m;v++){var p=t[v];g(p)}function w(K,ee){var X=K._private.edges;os(X,ee),K.clearTraversalCache()}function x(K){K.clearTraversalCache()}var S=[];S.ids={};function D(K,ee){ee=ee[0],K=K[0];var X=K._private.children,Q=K.id();os(X,ee),ee._private.parent=null,S.ids[Q]||(S.ids[Q]=!0,S.push(K))}t.dirtyCompoundBoundsCache(),e&&l.removeFromPool(a);for(var T=0;T<a.length;T++){var C=a[T];if(C.isEdge()){var R=C.source()[0],M=C.target()[0];w(R,C),w(M,C);for(var _=C.parallelEdges(),k=0;k<_.length;k++){var z=_[k];x(z),z.isBundledBezier()&&z.dirtyBoundingBoxCache()}}else{var O=C.parent();O.length!==0&&D(O,C)}e&&(C._private.removed=!0)}var I=l._private.elements;l._private.hasCompoundNodes=!1;for(var L=0;L<I.length;L++){var F=I[L];if(F.isParent()){l._private.hasCompoundNodes=!0;break}}var Y=new Rr(this.cy(),a);Y.size()>0&&(n?Y.emitAndNotify("remove"):e&&Y.emit("remove"));for(var V=0;V<S.length;V++){var W=S[V];(!e||!W.removed())&&W.updateStyle()}return Y};wn.move=function(n){var e=this._private.cy,t=this,a=!1,u=!1,l=function(S){return S==null?S:""+S};if(n.source!==void 0||n.target!==void 0){var f=l(n.source),c=l(n.target),g=f!=null&&e.hasElementWithId(f),v=c!=null&&e.hasElementWithId(c);(g||v)&&(e.batch(function(){t.remove(a,u),t.emitAndNotify("moveout");for(var x=0;x<t.length;x++){var S=t[x],D=S._private.data;S.isEdge()&&(g&&(D.source=f),v&&(D.target=c))}t.restore(a,u)}),t.emitAndNotify("move"))}else if(n.parent!==void 0){var m=l(n.parent),p=m===null||e.hasElementWithId(m);if(p){var w=m===null?void 0:m;e.batch(function(){var x=t.remove(a,u);x.emitAndNotify("moveout");for(var S=0;S<t.length;S++){var D=t[S],T=D._private.data;D.isNode()&&(T.parent=w)}x.restore(a,u)}),t.emitAndNotify("move")}}return this};[mw,GA,Gm,is,Mc,iD,yp,ED,Fw,qw,AD,rp,Vm,Dr,us,Hr].forEach(function(n){vt(wn,n)});var ND={add:function(e){var t,a=this;if($a(e)){var u=e;if(u._private.cy===a)t=u.restore();else{for(var l=[],f=0;f<u.length;f++){var c=u[f];l.push(c.json())}t=new Rr(a,l)}}else if(dn(e)){var g=e;t=new Rr(a,g)}else if(Xt(e)&&(dn(e.nodes)||dn(e.edges))){for(var v=e,m=[],p=["nodes","edges"],w=0,x=p.length;w<x;w++){var S=p[w],D=v[S];if(dn(D))for(var T=0,C=D.length;T<C;T++){var R=vt({group:S},D[T]);m.push(R)}}t=new Rr(a,m)}else{var M=e;t=new vp(a,M).collection()}return t},remove:function(e){if(!$a(e)){if(ut(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function LD(n,e,t,a){var u=4,l=.001,f=1e-7,c=10,g=11,v=1/(g-1),m=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;n=Math.min(n,1),t=Math.min(t,1),n=Math.max(n,0),t=Math.max(t,0);var w=m?new Float32Array(g):new Array(g);function x(F,Y){return 1-3*Y+3*F}function S(F,Y){return 3*Y-6*F}function D(F){return 3*F}function T(F,Y,V){return((x(Y,V)*F+S(Y,V))*F+D(Y))*F}function C(F,Y,V){return 3*x(Y,V)*F*F+2*S(Y,V)*F+D(Y)}function R(F,Y){for(var V=0;V<u;++V){var W=C(Y,n,t);if(W===0)return Y;var K=T(Y,n,t)-F;Y-=K/W}return Y}function M(){for(var F=0;F<g;++F)w[F]=T(F*v,n,t)}function _(F,Y,V){var W,K,ee=0;do K=Y+(V-Y)/2,W=T(K,n,t)-F,W>0?V=K:Y=K;while(Math.abs(W)>f&&++ee<c);return K}function k(F){for(var Y=0,V=1,W=g-1;V!==W&&w[V]<=F;++V)Y+=v;--V;var K=(F-w[V])/(w[V+1]-w[V]),ee=Y+K*v,X=C(ee,n,t);return X>=l?R(F,ee):X===0?ee:_(F,Y,Y+v)}var z=!1;function O(){z=!0,(n!==e||t!==a)&&M()}var I=function(Y){return z||O(),n===e&&t===a?Y:Y===0?0:Y===1?1:T(k(Y),e,a)};I.getControlPoints=function(){return[{x:n,y:e},{x:t,y:a}]};var L="generateBezier("+[n,e,t,a]+")";return I.toString=function(){return L},I}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var zD=function(){function n(a){return-a.tension*a.x-a.friction*a.v}function e(a,u,l){var f={x:a.x+l.dx*u,v:a.v+l.dv*u,tension:a.tension,friction:a.friction};return{dx:f.v,dv:n(f)}}function t(a,u){var l={dx:a.v,dv:n(a)},f=e(a,u*.5,l),c=e(a,u*.5,f),g=e(a,u,c),v=1/6*(l.dx+2*(f.dx+c.dx)+g.dx),m=1/6*(l.dv+2*(f.dv+c.dv)+g.dv);return a.x=a.x+v*u,a.v=a.v+m*u,a}return function a(u,l,f){var c={x:-1,v:0,tension:null,friction:null},g=[0],v=0,m=1/1e4,p=16/1e3,w,x,S;for(u=parseFloat(u)||500,l=parseFloat(l)||20,f=f||null,c.tension=u,c.friction=l,w=f!==null,w?(v=a(u,l),x=v/f*p):x=p;S=t(S||c,x),g.push(1+S.x),v+=16,Math.abs(S.x)>m&&Math.abs(S.v)>m;);return w?function(D){return g[D*(g.length-1)|0]}:v}}(),bn=function(e,t,a,u){var l=LD(e,t,a,u);return function(f,c,g){return f+(c-f)*l(g)}},Ym={linear:function(e,t,a){return e+(t-e)*a},ease:bn(.25,.1,.25,1),"ease-in":bn(.42,0,1,1),"ease-out":bn(0,0,.58,1),"ease-in-out":bn(.42,0,.58,1),"ease-in-sine":bn(.47,0,.745,.715),"ease-out-sine":bn(.39,.575,.565,1),"ease-in-out-sine":bn(.445,.05,.55,.95),"ease-in-quad":bn(.55,.085,.68,.53),"ease-out-quad":bn(.25,.46,.45,.94),"ease-in-out-quad":bn(.455,.03,.515,.955),"ease-in-cubic":bn(.55,.055,.675,.19),"ease-out-cubic":bn(.215,.61,.355,1),"ease-in-out-cubic":bn(.645,.045,.355,1),"ease-in-quart":bn(.895,.03,.685,.22),"ease-out-quart":bn(.165,.84,.44,1),"ease-in-out-quart":bn(.77,0,.175,1),"ease-in-quint":bn(.755,.05,.855,.06),"ease-out-quint":bn(.23,1,.32,1),"ease-in-out-quint":bn(.86,0,.07,1),"ease-in-expo":bn(.95,.05,.795,.035),"ease-out-expo":bn(.19,1,.22,1),"ease-in-out-expo":bn(1,0,0,1),"ease-in-circ":bn(.6,.04,.98,.335),"ease-out-circ":bn(.075,.82,.165,1),"ease-in-out-circ":bn(.785,.135,.15,.86),spring:function(e,t,a){if(a===0)return Ym.linear;var u=zD(e,t,a);return function(l,f,c){return l+(f-l)*u(c)}},"cubic-bezier":bn};function eb(n,e,t,a,u){if(a===1||e===t)return t;var l=u(e,t,a);return n==null||((n.roundValue||n.color)&&(l=Math.round(l)),n.min!==void 0&&(l=Math.max(l,n.min)),n.max!==void 0&&(l=Math.min(l,n.max))),l}function tb(n,e){return n.pfValue!=null||n.value!=null?n.pfValue!=null&&(e==null||e.type.units!=="%")?n.pfValue:n.value:n}function hc(n,e,t,a,u){var l=u!=null?u.type:null;t<0?t=0:t>1&&(t=1);var f=tb(n,u),c=tb(e,u);if(Ge(f)&&Ge(c))return eb(l,f,c,t,a);if(dn(f)&&dn(c)){for(var g=[],v=0;v<c.length;v++){var m=f[v],p=c[v];if(m!=null&&p!=null){var w=eb(l,m,p,t,a);g.push(w)}else g.push(p)}return g}}function kD(n,e,t,a){var u=!a,l=n._private,f=e._private,c=f.easing,g=f.startTime,v=a?n:n.cy(),m=v.style();if(!f.easingImpl)if(c==null)f.easingImpl=Ym.linear;else{var p;if(ut(c)){var w=m.parse("transition-timing-function",c);p=w.value}else p=c;var x,S;ut(p)?(x=p,S=[]):(x=p[1],S=p.slice(2).map(function(le){return+le})),S.length>0?(x==="spring"&&S.push(f.duration),f.easingImpl=Ym[x].apply(null,S)):f.easingImpl=Ym[x]}var D=f.easingImpl,T;if(f.duration===0?T=1:T=(t-g)/f.duration,f.applying&&(T=f.progress),T<0?T=0:T>1&&(T=1),f.delay==null){var C=f.startPosition,R=f.position;if(R&&u&&!n.locked()){var M={};Gd(C.x,R.x)&&(M.x=hc(C.x,R.x,T,D)),Gd(C.y,R.y)&&(M.y=hc(C.y,R.y,T,D)),n.position(M)}var _=f.startPan,k=f.pan,z=l.pan,O=k!=null&&a;O&&(Gd(_.x,k.x)&&(z.x=hc(_.x,k.x,T,D)),Gd(_.y,k.y)&&(z.y=hc(_.y,k.y,T,D)),n.emit("pan"));var I=f.startZoom,L=f.zoom,F=L!=null&&a;F&&(Gd(I,L)&&(l.zoom=lh(l.minZoom,hc(I,L,T,D),l.maxZoom)),n.emit("zoom")),(O||F)&&n.emit("viewport");var Y=f.style;if(Y&&Y.length>0&&u){for(var V=0;V<Y.length;V++){var W=Y[V],K=W.name,ee=W,X=f.startStyle[K],Q=m.properties[X.name],j=hc(X,ee,T,D,Q);m.overrideBypass(n,K,j)}n.emit("style")}}return f.progress=T,T}function Gd(n,e){return n==null||e==null?!1:Ge(n)&&Ge(e)?!0:!!(n&&e)}function ID(n,e,t,a){var u=e._private;u.started=!0,u.startTime=t-u.progress*u.duration}function nb(n,e){var t=e._private.aniEles,a=[];function u(m,p){var w=m._private,x=w.animation.current,S=w.animation.queue,D=!1;if(x.length===0){var T=S.shift();T&&x.push(T)}for(var C=function(z){for(var O=z.length-1;O>=0;O--){var I=z[O];I()}z.splice(0,z.length)},R=x.length-1;R>=0;R--){var M=x[R],_=M._private;if(_.stopped){x.splice(R,1),_.hooked=!1,_.playing=!1,_.started=!1,C(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||ID(m,M,n),kD(m,M,n,p),_.applying&&(_.applying=!1),C(_.frames),_.step!=null&&_.step(n),M.completed()&&(x.splice(R,1),_.hooked=!1,_.playing=!1,_.started=!1,C(_.completes)),D=!0)}return!p&&x.length===0&&S.length===0&&a.push(m),D}for(var l=!1,f=0;f<t.length;f++){var c=t[f],g=u(c);l=l||g}var v=u(e,!0);(l||v)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(a),e.emit("step")}var UD={animate:an.animate(),animation:an.animation(),animated:an.animated(),clearQueue:an.clearQueue(),delay:an.delay(),delayAnimation:an.delayAnimation(),stop:an.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&Jm(function(l){nb(l,e),t()})}var a=e.renderer();a&&a.beforeRender?a.beforeRender(function(l,f){nb(f,e)},a.beforeRenderPriorities.animations):t()}},PD={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,a){var u=t.qualifier;return u!=null?e!==a.target&&yh(a.target)&&u.matches(a.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,a){return t.qualifier!=null?a.target:e}},km=function(e){return ut(e)?new fs(e):e},Yw={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new bp(PD,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,a){return this.emitter().on(e,km(t),a),this},removeListener:function(e,t,a){return this.emitter().removeListener(e,km(t),a),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,a){return this.emitter().one(e,km(t),a),this},once:function(e,t,a){return this.emitter().one(e,km(t),a),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};an.eventAliasesOn(Yw);var c0={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};c0.jpeg=c0.jpg;var Xm={layout:function(e){var t=this;if(e==null){In("Layout options must be specified to make a layout");return}if(e.name==null){In("A `name` must be specified to make a layout");return}var a=e.name,u=t.extension("layout",a);if(u==null){In("No such layout `"+a+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var l;ut(e.eles)?l=t.$(e.eles):l=e.eles!=null?e.eles:t.$();var f=new u(vt({},e,{cy:t,eles:l}));return f}};Xm.createLayout=Xm.makeLayout=Xm.layout;var HD={notify:function(e,t){var a=this._private;if(this.batching()){a.batchNotifications=a.batchNotifications||{};var u=a.batchNotifications[e]=a.batchNotifications[e]||this.collection();t!=null&&u.merge(t);return}if(a.notificationsEnabled){var l=this.renderer();this.destroyed()||!l||l.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(a){var u=e.batchNotifications[a];u.empty()?t.notify(a):t.notify(a,u)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var a=Object.keys(e),u=0;u<a.length;u++){var l=a[u],f=e[l],c=t.getElementById(l);c.data(f)}})}},FD=yr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),v0={renderTo:function(e,t,a,u){var l=this._private.renderer;return l.renderTo(e,t,a,u),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,a=t.extension("renderer",e.name);if(a==null){In("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&un("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var u=FD(e);u.cy=t,t._private.renderer=new a(u),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(a){var u=a._private;u.rscratch={},u.rstyle={},u.animation.current=[],u.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};v0.invalidateDimensions=v0.resize;var Km={collection:function(e,t){return ut(e)?this.$(e):$a(e)?e.collection():dn(e)?(t||(t={}),new Rr(this,e,t.unique,t.removed)):new Rr(this)},nodes:function(e){var t=this.$(function(a){return a.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(a){return a.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Km.elements=Km.filter=Km.$;var qr={},jd="t",qD="f";qr.apply=function(n){for(var e=this,t=e._private,a=t.cy,u=a.collection(),l=0;l<n.length;l++){var f=n[l],c=e.getContextMeta(f);if(!c.empty){var g=e.getContextStyle(c),v=e.applyContextStyle(c,g,f);f._private.appliedInitStyle?e.updateTransitions(f,v.diffProps):f._private.appliedInitStyle=!0;var m=e.updateStyleHints(f);m&&u.push(f)}}return u};qr.getPropertiesDiff=function(n,e){var t=this,a=t._private.propDiffs=t._private.propDiffs||{},u=n+"-"+e,l=a[u];if(l)return l;for(var f=[],c={},g=0;g<t.length;g++){var v=t[g],m=n[g]===jd,p=e[g]===jd,w=m!==p,x=v.mappedProperties.length>0;if(w||p&&x){var S=void 0;w&&x||w?S=v.properties:x&&(S=v.mappedProperties);for(var D=0;D<S.length;D++){for(var T=S[D],C=T.name,R=!1,M=g+1;M<t.length;M++){var _=t[M],k=e[M]===jd;if(k&&(R=_.properties[T.name]!=null,R))break}!c[C]&&!R&&(c[C]=!0,f.push(C))}}}return a[u]=f,f};qr.getContextMeta=function(n){for(var e=this,t="",a,u=n._private.styleCxtKey||"",l=0;l<e.length;l++){var f=e[l],c=f.selector&&f.selector.matches(n);c?t+=jd:t+=qD}return a=e.getPropertiesDiff(u,t),n._private.styleCxtKey=t,{key:t,diffPropNames:a,empty:a.length===0}};qr.getContextStyle=function(n){var e=n.key,t=this,a=this._private.contextStyles=this._private.contextStyles||{};if(a[e])return a[e];for(var u={_private:{key:e}},l=0;l<t.length;l++){var f=t[l],c=e[l]===jd;if(c)for(var g=0;g<f.properties.length;g++){var v=f.properties[g];u[v.name]=v}}return a[e]=u,u};qr.applyContextStyle=function(n,e,t){for(var a=this,u=n.diffPropNames,l={},f=a.types,c=0;c<u.length;c++){var g=u[c],v=e[g],m=t.pstyle(g);if(!v)if(m)m.bypass?v={name:g,deleteBypassed:!0}:v={name:g,delete:!0};else continue;if(m!==v){if(v.mapped===f.fn&&m!=null&&m.mapping!=null&&m.mapping.value===v.value){var p=m.mapping,w=p.fnValue=v.value(t);if(w===p.prevFnValue)continue}var x=l[g]={prev:m};a.applyParsedProperty(t,v),x.next=t.pstyle(g),x.next&&x.next.bypass&&(x.next=x.next.bypassed)}}return{diffProps:l}};qr.updateStyleHints=function(n){var e=n._private,t=this,a=t.propertyGroupNames,u=t.propertyGroupKeys,l=function(be,Ne,Pe){return t.getPropertiesHash(be,Ne,Pe)},f=e.styleKey;if(n.removed())return!1;var c=e.group==="nodes",g=n._private.style;a=Object.keys(g);for(var v=0;v<u.length;v++){var m=u[v];e.styleKeys[m]=[yc,Wd]}for(var p=function(be,Ne){return e.styleKeys[Ne][0]=ah(be,e.styleKeys[Ne][0])},w=function(be,Ne){return e.styleKeys[Ne][1]=ih(be,e.styleKeys[Ne][1])},x=function(be,Ne){p(be,Ne),w(be,Ne)},S=function(be,Ne){for(var Pe=0;Pe<be.length;Pe++){var Fe=be.charCodeAt(Pe);p(Fe,Ne),w(Fe,Ne)}},D=2e9,T=function(be){return-128<be&&be<128&&Math.floor(be)!==be?D-(be*1024|0):be},C=0;C<a.length;C++){var R=a[C],M=g[R];if(M!=null){var _=this.properties[R],k=_.type,z=_.groupKey,O=void 0;_.hashOverride!=null?O=_.hashOverride(n,M):M.pfValue!=null&&(O=M.pfValue);var I=_.enums==null?M.value:null,L=O!=null,F=I!=null,Y=L||F,V=M.units;if(k.number&&Y&&!k.multiple){var W=L?O:I;x(T(W),z),!L&&V!=null&&S(V,z)}else S(M.strValue,z)}}for(var K=[yc,Wd],ee=0;ee<u.length;ee++){var X=u[ee],Q=e.styleKeys[X];K[0]=ah(Q[0],K[0]),K[1]=ih(Q[1],K[1])}e.styleKey=Wx(K[0],K[1]);var j=e.styleKeys;e.labelDimsKey=ts(j.labelDimensions);var le=l(n,["label"],j.labelDimensions);if(e.labelKey=ts(le),e.labelStyleKey=ts(Dm(j.commonLabel,le)),!c){var P=l(n,["source-label"],j.labelDimensions);e.sourceLabelKey=ts(P),e.sourceLabelStyleKey=ts(Dm(j.commonLabel,P));var Z=l(n,["target-label"],j.labelDimensions);e.targetLabelKey=ts(Z),e.targetLabelStyleKey=ts(Dm(j.commonLabel,Z))}if(c){var ne=e.styleKeys,de=ne.nodeBody,se=ne.nodeBorder,we=ne.nodeOutline,me=ne.backgroundImage,Me=ne.compound,Se=ne.pie,ve=[de,se,we,me,Me,Se].filter(function(re){return re!=null}).reduce(Dm,[yc,Wd]);e.nodeKey=ts(ve),e.hasPie=Se!=null&&Se[0]!==yc&&Se[1]!==Wd}return f!==e.styleKey};qr.clearStyleHints=function(n){var e=n._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};qr.applyParsedProperty=function(n,e){var t=this,a=e,u=n._private.style,l,f=t.types,c=t.properties[a.name].type,g=a.bypass,v=u[a.name],m=v&&v.bypass,p=n._private,w="mapping",x=function(de){return de==null?null:de.pfValue!=null?de.pfValue:de.value},S=function(){var de=x(v),se=x(a);t.checkTriggers(n,a.name,de,se)};if(e.name==="curve-style"&&n.isEdge()&&(e.value!=="bezier"&&n.isLoop()||e.value==="haystack"&&(n.source().isParent()||n.target().isParent()))&&(a=e=this.parse(e.name,"bezier",g)),a.delete)return u[a.name]=void 0,S(),!0;if(a.deleteBypassed)return v?v.bypass?(v.bypassed=void 0,S(),!0):!1:(S(),!0);if(a.deleteBypass)return v?v.bypass?(u[a.name]=v.bypassed,S(),!0):!1:(S(),!0);var D=function(){un("Do not assign mappings to elements without corresponding data (i.e. ele `"+n.id()+"` has no mapping for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case f.mapData:{for(var T=a.field.split("."),C=p.data,R=0;R<T.length&&C;R++){var M=T[R];C=C[M]}if(C==null)return D(),!1;var _;if(Ge(C)){var k=a.fieldMax-a.fieldMin;k===0?_=0:_=(C-a.fieldMin)/k}else return un("Do not use continuous mappers without specifying numeric data (i.e. `"+a.field+": "+C+"` for `"+n.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),c.color){var z=a.valueMin[0],O=a.valueMax[0],I=a.valueMin[1],L=a.valueMax[1],F=a.valueMin[2],Y=a.valueMax[2],V=a.valueMin[3]==null?1:a.valueMin[3],W=a.valueMax[3]==null?1:a.valueMax[3],K=[Math.round(z+(O-z)*_),Math.round(I+(L-I)*_),Math.round(F+(Y-F)*_),Math.round(V+(W-V)*_)];l={bypass:a.bypass,name:a.name,value:K,strValue:"rgb("+K[0]+", "+K[1]+", "+K[2]+")"}}else if(c.number){var ee=a.valueMin+(a.valueMax-a.valueMin)*_;l=this.parse(a.name,ee,a.bypass,w)}else return!1;if(!l)return D(),!1;l.mapping=a,a=l;break}case f.data:{for(var X=a.field.split("."),Q=p.data,j=0;j<X.length&&Q;j++){var le=X[j];Q=Q[le]}if(Q!=null&&(l=this.parse(a.name,Q,a.bypass,w)),!l)return D(),!1;l.mapping=a,a=l;break}case f.fn:{var P=a.value,Z=a.fnValue!=null?a.fnValue:P(n);if(a.prevFnValue=Z,Z==null)return un("Custom function mappers may not return null (i.e. `"+a.name+"` for ele `"+n.id()+"` is null)"),!1;if(l=this.parse(a.name,Z,a.bypass,w),!l)return un("Custom function mappers may not return invalid values for the property type (i.e. `"+a.name+"` for ele `"+n.id()+"` is invalid)"),!1;l.mapping=Mu(a),a=l;break}case void 0:break;default:return!1}return g?(m?a.bypassed=v.bypassed:a.bypassed=v,u[a.name]=a):m?v.bypassed=a:u[a.name]=a,S(),!0};qr.cleanElements=function(n,e){for(var t=0;t<n.length;t++){var a=n[t];if(this.clearStyleHints(a),a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),!e)a._private.style={};else for(var u=a._private.style,l=Object.keys(u),f=0;f<l.length;f++){var c=l[f],g=u[c];g!=null&&(g.bypass?g.bypassed=null:u[c]=null)}}};qr.update=function(){var n=this._private.cy,e=n.mutableElements();e.updateStyle()};qr.updateTransitions=function(n,e){var t=this,a=n._private,u=n.pstyle("transition-property").value,l=n.pstyle("transition-duration").pfValue,f=n.pstyle("transition-delay").pfValue;if(u.length>0&&l>0){for(var c={},g=!1,v=0;v<u.length;v++){var m=u[v],p=n.pstyle(m),w=e[m];if(w){var x=w.prev,S=x,D=w.next!=null?w.next:p,T=!1,C=void 0,R=1e-6;S&&(Ge(S.pfValue)&&Ge(D.pfValue)?(T=D.pfValue-S.pfValue,C=S.pfValue+R*T):Ge(S.value)&&Ge(D.value)?(T=D.value-S.value,C=S.value+R*T):dn(S.value)&&dn(D.value)&&(T=S.value[0]!==D.value[0]||S.value[1]!==D.value[1]||S.value[2]!==D.value[2],C=S.strValue),T&&(c[m]=D.strValue,this.applyBypass(n,m,C),g=!0))}}if(!g)return;a.transitioning=!0,new Oc(function(M){f>0?n.delayAnimation(f).play().promise().then(M):M()}).then(function(){return n.animation({style:c,duration:l,easing:n.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(n,u),n.emitAndNotify("style"),a.transitioning=!1})}else a.transitioning&&(this.removeBypasses(n,u),n.emitAndNotify("style"),a.transitioning=!1)};qr.checkTrigger=function(n,e,t,a,u,l){var f=this.properties[e],c=u(f);c!=null&&c(t,a)&&l(f)};qr.checkZOrderTrigger=function(n,e,t,a){var u=this;this.checkTrigger(n,e,t,a,function(l){return l.triggersZOrder},function(){u._private.cy.notify("zorder",n)})};qr.checkBoundsTrigger=function(n,e,t,a){this.checkTrigger(n,e,t,a,function(u){return u.triggersBounds},function(u){n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),u.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(t==="bezier"||a==="bezier")&&n.parallelEdges().forEach(function(l){l.dirtyBoundingBoxCache()}),u.triggersBoundsOfConnectedEdges&&e==="display"&&(t==="none"||a==="none")&&n.connectedEdges().forEach(function(l){l.dirtyBoundingBoxCache()})})};qr.checkTriggers=function(n,e,t,a){n.dirtyStyleCache(),this.checkZOrderTrigger(n,e,t,a),this.checkBoundsTrigger(n,e,t,a)};var xh={};xh.applyBypass=function(n,e,t,a){var u=this,l=[],f=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var c=0;c<u.properties.length;c++){var g=u.properties[c],v=g.name,m=this.parse(v,t,!0);m&&l.push(m)}}else if(ut(e)){var p=this.parse(e,t,!0);p&&l.push(p)}else if(Xt(e)){var w=e;a=t;for(var x=Object.keys(w),S=0;S<x.length;S++){var D=x[S],T=w[D];if(T===void 0&&(T=w[fp(D)]),T!==void 0){var C=this.parse(D,T,!0);C&&l.push(C)}}}else return!1;if(l.length===0)return!1;for(var R=!1,M=0;M<n.length;M++){for(var _=n[M],k={},z=void 0,O=0;O<l.length;O++){var I=l[O];if(a){var L=_.pstyle(I.name);z=k[I.name]={prev:L}}R=this.applyParsedProperty(_,Mu(I))||R,a&&(z.next=_.pstyle(I.name))}R&&this.updateStyleHints(_),a&&this.updateTransitions(_,k,f)}return R};xh.overrideBypass=function(n,e,t){e=C0(e);for(var a=0;a<n.length;a++){var u=n[a],l=u._private.style[e],f=this.properties[e].type,c=f.color,g=f.mutiple,v=l?l.pfValue!=null?l.pfValue:l.value:null;!l||!l.bypass?this.applyBypass(u,e,t):(l.value=t,l.pfValue!=null&&(l.pfValue=t),c?l.strValue="rgb("+t.join(",")+")":g?l.strValue=t.join(" "):l.strValue=""+t,this.updateStyleHints(u)),this.checkTriggers(u,e,v,t)}};xh.removeAllBypasses=function(n,e){return this.removeBypasses(n,this.propertyNames,e)};xh.removeBypasses=function(n,e,t){for(var a=!0,u=0;u<n.length;u++){for(var l=n[u],f={},c=0;c<e.length;c++){var g=e[c],v=this.properties[g],m=l.pstyle(v.name);if(!(!m||!m.bypass)){var p="",w=this.parse(g,p,!0),x=f[v.name]={prev:m};this.applyParsedProperty(l,w),x.next=l.pstyle(v.name)}}this.updateStyleHints(l),t&&this.updateTransitions(l,f,a)}};var P0={};P0.getEmSizeInPixels=function(){var n=this.containerCss("font-size");return n!=null?parseFloat(n):1};P0.containerCss=function(n){var e=this._private.cy,t=e.container(),a=e.window();if(a&&t&&a.getComputedStyle)return a.getComputedStyle(t).getPropertyValue(n)};var Ou={};Ou.getRenderedStyle=function(n,e){return e?this.getStylePropertyValue(n,e,!0):this.getRawStyle(n,!0)};Ou.getRawStyle=function(n,e){var t=this;if(n=n[0],n){for(var a={},u=0;u<t.properties.length;u++){var l=t.properties[u],f=t.getStylePropertyValue(n,l.name,e);f!=null&&(a[l.name]=f,a[fp(l.name)]=f)}return a}};Ou.getIndexedStyle=function(n,e,t,a){var u=n.pstyle(e)[t][a];return u??n.cy().style().getDefaultProperty(e)[t][0]};Ou.getStylePropertyValue=function(n,e,t){var a=this;if(n=n[0],n){var u=a.properties[e];u.alias&&(u=u.pointsTo);var l=u.type,f=n.pstyle(u.name);if(f){var c=f.value,g=f.units,v=f.strValue;if(t&&l.number&&c!=null&&Ge(c)){var m=n.cy().zoom(),p=function(T){return T*m},w=function(T,C){return p(T)+C},x=dn(c),S=x?g.every(function(D){return D!=null}):g!=null;return S?x?c.map(function(D,T){return w(D,g[T])}).join(" "):w(c,g):x?c.map(function(D){return ut(D)?D:""+p(D)}).join(" "):""+p(c)}else if(v!=null)return v}return null}};Ou.getAnimationStartStyle=function(n,e){for(var t={},a=0;a<e.length;a++){var u=e[a],l=u.name,f=n.pstyle(l);f!==void 0&&(Xt(f)?f=this.parse(l,f.strValue):f=this.parse(l,f)),f&&(t[l]=f)}return t};Ou.getPropsList=function(n){var e=this,t=[],a=n,u=e.properties;if(a)for(var l=Object.keys(a),f=0;f<l.length;f++){var c=l[f],g=a[c],v=u[c]||u[C0(c)],m=this.parse(v.name,g);m&&t.push(m)}return t};Ou.getNonDefaultPropertiesHash=function(n,e,t){var a=t.slice(),u,l,f,c,g,v;for(g=0;g<e.length;g++)if(u=e[g],l=n.pstyle(u,!1),l!=null)if(l.pfValue!=null)a[0]=ah(c,a[0]),a[1]=ih(c,a[1]);else for(f=l.strValue,v=0;v<f.length;v++)c=f.charCodeAt(v),a[0]=ah(c,a[0]),a[1]=ih(c,a[1]);return a};Ou.getPropertiesHash=Ou.getNonDefaultPropertiesHash;var Sp={};Sp.appendFromJson=function(n){for(var e=this,t=0;t<n.length;t++){var a=n[t],u=a.selector,l=a.style||a.css,f=Object.keys(l);e.selector(u);for(var c=0;c<f.length;c++){var g=f[c],v=l[g];e.css(g,v)}}return e};Sp.fromJson=function(n){var e=this;return e.resetToDefault(),e.appendFromJson(n),e};Sp.json=function(){for(var n=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],a=t.selector,u=t.properties,l={},f=0;f<u.length;f++){var c=u[f];l[c.name]=c.strValue}n.push({selector:a?a.toString():"core",style:l})}return n};var H0={};H0.appendFromString=function(n){var e=this,t=this,a=""+n,u,l,f;a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){a.length>u.length?a=a.substr(u.length):a=""}function g(){l.length>f.length?l=l.substr(f.length):l=""}for(;;){var v=a.match(/^\s*$/);if(v)break;var m=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!m){un("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}u=m[0];var p=m[1];if(p!=="core"){var w=new fs(p);if(w.invalid){un("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),c();continue}}var x=m[2],S=!1;l=x;for(var D=[];;){var T=l.match(/^\s*$/);if(T)break;var C=l.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!C){un("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+x),S=!0;break}f=C[0];var R=C[1],M=C[2],_=e.properties[R];if(!_){un("Skipping property: Invalid property name in: "+f),g();continue}var k=t.parse(R,M);if(!k){un("Skipping property: Invalid property definition in: "+f),g();continue}D.push({name:R,val:M}),g()}if(S){c();break}t.selector(p);for(var z=0;z<D.length;z++){var O=D[z];t.css(O.name,O.val)}c()}return t};H0.fromString=function(n){var e=this;return e.resetToDefault(),e.appendFromString(n),e};var Ar={};(function(){var n=ur,e=jS,t=tx,a=nx,u=rx,l=function(ve){return"^"+ve+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},f=function(ve){var re=n+"|\\w+|"+e+"|"+t+"|"+a+"|"+u;return"^"+ve+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+re+")\\s*\\,\\s*("+re+")\\)$"},c=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ar.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:f("mapData")},mapLayoutData:{mapping:!0,regex:f("mapLayoutData")},mapScratch:{mapping:!0,regex:f("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ve,re){switch(ve.length){case 2:return re[0]!=="deg"&&re[0]!=="rad"&&re[1]!=="deg"&&re[1]!=="rad";case 1:return ut(ve[0])||re[0]==="deg"||re[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ve){var re=ve.length;return re===1||re===2||re===4}}};var g={zeroNonZero:function(ve,re){return(ve==null||re==null)&&ve!==re||ve==0&&re!=0?!0:ve!=0&&re==0},any:function(ve,re){return ve!=re},emptyNonEmpty:function(ve,re){var be=ls(ve),Ne=ls(re);return be&&!Ne||!be&&Ne}},v=Ar.types,m=[{name:"label",type:v.text,triggersBounds:g.any,triggersZOrder:g.emptyNonEmpty},{name:"text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any}],p=[{name:"source-label",type:v.text,triggersBounds:g.any},{name:"source-text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"source-text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"source-text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"source-text-offset",type:v.size,triggersBounds:g.any}],w=[{name:"target-label",type:v.text,triggersBounds:g.any},{name:"target-text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"target-text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"target-text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"target-text-offset",type:v.size,triggersBounds:g.any}],x=[{name:"font-family",type:v.fontFamily,triggersBounds:g.any},{name:"font-style",type:v.fontStyle,triggersBounds:g.any},{name:"font-weight",type:v.fontWeight,triggersBounds:g.any},{name:"font-size",type:v.size,triggersBounds:g.any},{name:"text-transform",type:v.textTransform,triggersBounds:g.any},{name:"text-wrap",type:v.textWrap,triggersBounds:g.any},{name:"text-overflow-wrap",type:v.textOverflowWrap,triggersBounds:g.any},{name:"text-max-width",type:v.size,triggersBounds:g.any},{name:"text-outline-width",type:v.size,triggersBounds:g.any},{name:"line-height",type:v.positiveNumber,triggersBounds:g.any}],S=[{name:"text-valign",type:v.valign,triggersBounds:g.any},{name:"text-halign",type:v.halign,triggersBounds:g.any},{name:"color",type:v.color},{name:"text-outline-color",type:v.color},{name:"text-outline-opacity",type:v.zeroOneNumber},{name:"text-background-color",type:v.color},{name:"text-background-opacity",type:v.zeroOneNumber},{name:"text-background-padding",type:v.size,triggersBounds:g.any},{name:"text-border-opacity",type:v.zeroOneNumber},{name:"text-border-color",type:v.color},{name:"text-border-width",type:v.size,triggersBounds:g.any},{name:"text-border-style",type:v.borderStyle,triggersBounds:g.any},{name:"text-background-shape",type:v.textBackgroundShape,triggersBounds:g.any},{name:"text-justification",type:v.justification}],D=[{name:"events",type:v.bool,triggersZOrder:g.any},{name:"text-events",type:v.bool,triggersZOrder:g.any}],T=[{name:"display",type:v.display,triggersZOrder:g.any,triggersBounds:g.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:v.visibility,triggersZOrder:g.any},{name:"opacity",type:v.zeroOneNumber,triggersZOrder:g.zeroNonZero},{name:"text-opacity",type:v.zeroOneNumber},{name:"min-zoomed-font-size",type:v.size},{name:"z-compound-depth",type:v.zCompoundDepth,triggersZOrder:g.any},{name:"z-index-compare",type:v.zIndexCompare,triggersZOrder:g.any},{name:"z-index",type:v.number,triggersZOrder:g.any}],C=[{name:"overlay-padding",type:v.size,triggersBounds:g.any},{name:"overlay-color",type:v.color},{name:"overlay-opacity",type:v.zeroOneNumber,triggersBounds:g.zeroNonZero},{name:"overlay-shape",type:v.overlayShape,triggersBounds:g.any},{name:"overlay-corner-radius",type:v.cornerRadius}],R=[{name:"underlay-padding",type:v.size,triggersBounds:g.any},{name:"underlay-color",type:v.color},{name:"underlay-opacity",type:v.zeroOneNumber,triggersBounds:g.zeroNonZero},{name:"underlay-shape",type:v.overlayShape,triggersBounds:g.any},{name:"underlay-corner-radius",type:v.cornerRadius}],M=[{name:"transition-property",type:v.propList},{name:"transition-duration",type:v.time},{name:"transition-delay",type:v.time},{name:"transition-timing-function",type:v.easing}],_=function(ve,re){return re.value==="label"?-ve.poolIndex():re.pfValue},k=[{name:"height",type:v.nodeSize,triggersBounds:g.any,hashOverride:_},{name:"width",type:v.nodeSize,triggersBounds:g.any,hashOverride:_},{name:"shape",type:v.nodeShape,triggersBounds:g.any},{name:"shape-polygon-points",type:v.polygonPointList,triggersBounds:g.any},{name:"corner-radius",type:v.cornerRadius},{name:"background-color",type:v.color},{name:"background-fill",type:v.fill},{name:"background-opacity",type:v.zeroOneNumber},{name:"background-blacken",type:v.nOneOneNumber},{name:"background-gradient-stop-colors",type:v.colors},{name:"background-gradient-stop-positions",type:v.percentages},{name:"background-gradient-direction",type:v.gradientDirection},{name:"padding",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"padding-relative-to",type:v.paddingRelativeTo,triggersBounds:g.any},{name:"bounds-expansion",type:v.boundsExpansion,triggersBounds:g.any}],z=[{name:"border-color",type:v.color},{name:"border-opacity",type:v.zeroOneNumber},{name:"border-width",type:v.size,triggersBounds:g.any},{name:"border-style",type:v.borderStyle},{name:"border-cap",type:v.lineCap},{name:"border-join",type:v.lineJoin},{name:"border-dash-pattern",type:v.numbers},{name:"border-dash-offset",type:v.number},{name:"border-position",type:v.linePosition}],O=[{name:"outline-color",type:v.color},{name:"outline-opacity",type:v.zeroOneNumber},{name:"outline-width",type:v.size,triggersBounds:g.any},{name:"outline-style",type:v.borderStyle},{name:"outline-offset",type:v.size,triggersBounds:g.any}],I=[{name:"background-image",type:v.urls},{name:"background-image-crossorigin",type:v.bgCrossOrigin},{name:"background-image-opacity",type:v.zeroOneNumbers},{name:"background-image-containment",type:v.bgContainment},{name:"background-image-smoothing",type:v.bools},{name:"background-position-x",type:v.bgPos},{name:"background-position-y",type:v.bgPos},{name:"background-width-relative-to",type:v.bgRelativeTo},{name:"background-height-relative-to",type:v.bgRelativeTo},{name:"background-repeat",type:v.bgRepeat},{name:"background-fit",type:v.bgFit},{name:"background-clip",type:v.bgClip},{name:"background-width",type:v.bgWH},{name:"background-height",type:v.bgWH},{name:"background-offset-x",type:v.bgPos},{name:"background-offset-y",type:v.bgPos}],L=[{name:"position",type:v.position,triggersBounds:g.any},{name:"compound-sizing-wrt-labels",type:v.compoundIncludeLabels,triggersBounds:g.any},{name:"min-width",type:v.size,triggersBounds:g.any},{name:"min-width-bias-left",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-width-bias-right",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-height",type:v.size,triggersBounds:g.any},{name:"min-height-bias-top",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-height-bias-bottom",type:v.sizeMaybePercent,triggersBounds:g.any}],F=[{name:"line-style",type:v.lineStyle},{name:"line-color",type:v.color},{name:"line-fill",type:v.fill},{name:"line-cap",type:v.lineCap},{name:"line-opacity",type:v.zeroOneNumber},{name:"line-dash-pattern",type:v.numbers},{name:"line-dash-offset",type:v.number},{name:"line-outline-width",type:v.size},{name:"line-outline-color",type:v.color},{name:"line-gradient-stop-colors",type:v.colors},{name:"line-gradient-stop-positions",type:v.percentages},{name:"curve-style",type:v.curveStyle,triggersBounds:g.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:v.zeroOneNumber,triggersBounds:g.any},{name:"source-endpoint",type:v.edgeEndpoint,triggersBounds:g.any},{name:"target-endpoint",type:v.edgeEndpoint,triggersBounds:g.any},{name:"control-point-step-size",type:v.size,triggersBounds:g.any},{name:"control-point-distances",type:v.bidirectionalSizes,triggersBounds:g.any},{name:"control-point-weights",type:v.numbers,triggersBounds:g.any},{name:"segment-distances",type:v.bidirectionalSizes,triggersBounds:g.any},{name:"segment-weights",type:v.numbers,triggersBounds:g.any},{name:"segment-radii",type:v.numbers,triggersBounds:g.any},{name:"radius-type",type:v.radiusType,triggersBounds:g.any},{name:"taxi-turn",type:v.bidirectionalSizeMaybePercent,triggersBounds:g.any},{name:"taxi-turn-min-distance",type:v.size,triggersBounds:g.any},{name:"taxi-direction",type:v.axisDirection,triggersBounds:g.any},{name:"taxi-radius",type:v.number,triggersBounds:g.any},{name:"edge-distances",type:v.edgeDistances,triggersBounds:g.any},{name:"arrow-scale",type:v.positiveNumber,triggersBounds:g.any},{name:"loop-direction",type:v.angle,triggersBounds:g.any},{name:"loop-sweep",type:v.angle,triggersBounds:g.any},{name:"source-distance-from-node",type:v.size,triggersBounds:g.any},{name:"target-distance-from-node",type:v.size,triggersBounds:g.any}],Y=[{name:"ghost",type:v.bool,triggersBounds:g.any},{name:"ghost-offset-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"ghost-offset-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"ghost-opacity",type:v.zeroOneNumber}],V=[{name:"selection-box-color",type:v.color},{name:"selection-box-opacity",type:v.zeroOneNumber},{name:"selection-box-border-color",type:v.color},{name:"selection-box-border-width",type:v.size},{name:"active-bg-color",type:v.color},{name:"active-bg-opacity",type:v.zeroOneNumber},{name:"active-bg-size",type:v.size},{name:"outside-texture-bg-color",type:v.color},{name:"outside-texture-bg-opacity",type:v.zeroOneNumber}],W=[];Ar.pieBackgroundN=16,W.push({name:"pie-size",type:v.sizeMaybePercent});for(var K=1;K<=Ar.pieBackgroundN;K++)W.push({name:"pie-"+K+"-background-color",type:v.color}),W.push({name:"pie-"+K+"-background-size",type:v.percent}),W.push({name:"pie-"+K+"-background-opacity",type:v.zeroOneNumber});var ee=[],X=Ar.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:v.arrowShape,triggersBounds:g.any},{name:"arrow-color",type:v.color},{name:"arrow-fill",type:v.arrowFill},{name:"arrow-width",type:v.arrowWidth}].forEach(function(Se){X.forEach(function(ve){var re=ve+"-"+Se.name,be=Se.type,Ne=Se.triggersBounds;ee.push({name:re,type:be,triggersBounds:Ne})})},{});var Q=Ar.properties=[].concat(D,M,T,C,R,Y,S,x,m,p,w,k,z,O,I,W,L,F,ee,V),j=Ar.propertyGroups={behavior:D,transition:M,visibility:T,overlay:C,underlay:R,ghost:Y,commonLabel:S,labelDimensions:x,mainLabel:m,sourceLabel:p,targetLabel:w,nodeBody:k,nodeBorder:z,nodeOutline:O,backgroundImage:I,pie:W,compound:L,edgeLine:F,edgeArrow:ee,core:V},le=Ar.propertyGroupNames={},P=Ar.propertyGroupKeys=Object.keys(j);P.forEach(function(Se){le[Se]=j[Se].map(function(ve){return ve.name}),j[Se].forEach(function(ve){return ve.groupKey=Se})});var Z=Ar.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ar.propertyNames=Q.map(function(Se){return Se.name});for(var ne=0;ne<Q.length;ne++){var de=Q[ne];Q[de.name]=de}for(var se=0;se<Z.length;se++){var we=Z[se],me=Q[we.pointsTo],Me={name:we.name,alias:!0,pointsTo:me};Q.push(Me),Q[we.name]=Me}})();Ar.getDefaultProperty=function(n){return this.getDefaultProperties()[n]};Ar.getDefaultProperties=function(){var n=this._private;if(n.defaultProperties!=null)return n.defaultProperties;for(var e=vt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(g,v){for(var m=1;m<=Ar.pieBackgroundN;m++){var p=v.name.replace("{{i}}",m),w=v.value;g[p]=w}return g},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(g,v){return Ar.arrowPrefixes.forEach(function(m){var p=m+"-"+v.name,w=v.value;g[p]=w}),g},{})),t={},a=0;a<this.properties.length;a++){var u=this.properties[a];if(!u.pointsTo){var l=u.name,f=e[l],c=this.parse(l,f);t[l]=c}}return n.defaultProperties=t,n.defaultProperties};Ar.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var xp={};xp.parse=function(n,e,t,a){var u=this;if(Un(e))return u.parseImplWarn(n,e,t,a);var l=a==="mapping"||a===!0||a===!1||a==null?"dontcare":a,f=t?"t":"f",c=""+e,g=ew(n,c,f,l),v=u.propCache=u.propCache||[],m;return(m=v[g])||(m=v[g]=u.parseImplWarn(n,e,t,a)),(t||a==="mapping")&&(m=Mu(m),m&&(m.value=Mu(m.value))),m};xp.parseImplWarn=function(n,e,t,a){var u=this.parseImpl(n,e,t,a);return!u&&e!=null&&un("The style property `".concat(n,": ").concat(e,"` is invalid")),u&&(u.name==="width"||u.name==="height")&&e==="label"&&un("The style value of `label` is deprecated for `"+u.name+"`"),u};xp.parseImpl=function(n,e,t,a){var u=this;n=C0(n);var l=u.properties[n],f=e,c=u.types;if(!l||e===void 0)return null;l.alias&&(l=l.pointsTo,n=l.name);var g=ut(e);g&&(e=e.trim());var v=l.type;if(!v)return null;if(t&&(e===""||e===null))return{name:n,value:e,bypass:!0,deleteBypass:!0};if(Un(e))return{name:n,value:e,strValue:"fn",mapped:c.fn,bypass:t};var m,p;if(!(!g||a||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(m=new RegExp(c.data.regex).exec(e))){if(t)return!1;var w=c.data;return{name:n,value:m,strValue:""+e,mapped:w,field:m[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(p=new RegExp(c.mapData.regex).exec(e))){if(t||v.multiple)return!1;var x=c.mapData;if(!(v.color||v.number))return!1;var S=this.parse(n,p[4]);if(!S||S.mapped)return!1;var D=this.parse(n,p[5]);if(!D||D.mapped)return!1;if(S.pfValue===D.pfValue||S.strValue===D.strValue)return un("`"+n+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+n+": "+S.strValue+"`"),this.parse(n,S.strValue);if(v.color){var T=S.value,C=D.value,R=T[0]===C[0]&&T[1]===C[1]&&T[2]===C[2]&&(T[3]===C[3]||(T[3]==null||T[3]===1)&&(C[3]==null||C[3]===1));if(R)return!1}return{name:n,value:p,strValue:""+e,mapped:x,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:S.value,valueMax:D.value,bypass:t}}}if(v.multiple&&a!=="multiple"){var M;if(g?M=e.split(/\s+/):dn(e)?M=e:M=[e],v.evenMultiple&&M.length%2!==0)return null;for(var _=[],k=[],z=[],O="",I=!1,L=0;L<M.length;L++){var F=u.parse(n,M[L],t,"multiple");I=I||ut(F.value),_.push(F.value),z.push(F.pfValue!=null?F.pfValue:F.value),k.push(F.units),O+=(L>0?" ":"")+F.strValue}return v.validate&&!v.validate(_,k)?null:v.singleEnum&&I?_.length===1&&ut(_[0])?{name:n,value:_[0],strValue:_[0],bypass:t}:null:{name:n,value:_,pfValue:z,strValue:O,bypass:t,units:k}}var Y=function(){for(var ve=0;ve<v.enums.length;ve++){var re=v.enums[ve];if(re===e)return{name:n,value:e,strValue:""+e,bypass:t}}return null};if(v.number){var V,W="px";if(v.units&&(V=v.units),v.implicitUnits&&(W=v.implicitUnits),!v.unitless)if(g){var K="px|em"+(v.allowPercent?"|\\%":"");V&&(K=V);var ee=e.match("^("+ur+")("+K+")?$");ee&&(e=ee[1],V=ee[2]||W)}else(!V||v.implicitUnits)&&(V=W);if(e=parseFloat(e),isNaN(e)&&v.enums===void 0)return null;if(isNaN(e)&&v.enums!==void 0)return e=f,Y();if(v.integer&&!XS(e)||v.min!==void 0&&(e<v.min||v.strictMin&&e===v.min)||v.max!==void 0&&(e>v.max||v.strictMax&&e===v.max))return null;var X={name:n,value:e,strValue:""+e+(V||""),units:V,bypass:t};return v.unitless||V!=="px"&&V!=="em"?X.pfValue=e:X.pfValue=V==="px"||!V?e:this.getEmSizeInPixels()*e,(V==="ms"||V==="s")&&(X.pfValue=V==="ms"?e:1e3*e),(V==="deg"||V==="rad")&&(X.pfValue=V==="rad"?e:CT(e)),V==="%"&&(X.pfValue=e/100),X}else if(v.propList){var Q=[],j=""+e;if(j!=="none"){for(var le=j.split(/\s*,\s*|\s+/),P=0;P<le.length;P++){var Z=le[P].trim();u.properties[Z]?Q.push(Z):un("`"+Z+"` is not a valid property name")}if(Q.length===0)return null}return{name:n,value:Q,strValue:Q.length===0?"none":Q.join(" "),bypass:t}}else if(v.color){var ne=Xb(e);return ne?{name:n,value:ne,pfValue:ne,strValue:"rgb("+ne[0]+","+ne[1]+","+ne[2]+")",bypass:t}:null}else if(v.regex||v.regexes){if(v.enums){var de=Y();if(de)return de}for(var se=v.regexes?v.regexes:[v.regex],we=0;we<se.length;we++){var me=new RegExp(se[we]),Me=me.exec(e);if(Me)return{name:n,value:v.singleRegexMatchValue?Me[1]:Me,strValue:""+e,bypass:t}}return null}else return v.string?{name:n,value:""+e,strValue:""+e,bypass:t}:v.enums?Y():null};var Pr=function n(e){if(!(this instanceof n))return new n(e);if(!T0(e)){In("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Fr=Pr.prototype;Fr.instanceString=function(){return"style"};Fr.clear=function(){for(var n=this._private,e=n.cy,t=e.elements(),a=0;a<this.length;a++)this[a]=void 0;return this.length=0,n.contextStyles={},n.propDiffs={},this.cleanElements(t,!0),t.forEach(function(u){var l=u[0]._private;l.styleDirty=!0,l.appliedInitStyle=!1}),this};Fr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Fr.core=function(n){return this._private.coreStyle[n]||this.getDefaultProperty(n)};Fr.selector=function(n){var e=n==="core"?null:new fs(n),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};Fr.css=function(){var n=this,e=arguments;if(e.length===1)for(var t=e[0],a=0;a<n.properties.length;a++){var u=n.properties[a],l=t[u.name];l===void 0&&(l=t[fp(u.name)]),l!==void 0&&this.cssRule(u.name,l)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Fr.style=Fr.css;Fr.cssRule=function(n,e){var t=this.parse(n,e);if(t){var a=this.length-1;this[a].properties.push(t),this[a].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[a].mappedProperties.push(t);var u=!this[a].selector;u&&(this._private.coreStyle[t.name]=t)}return this};Fr.append=function(n){return Gb(n)?n.appendToStyle(this):dn(n)?this.appendFromJson(n):ut(n)&&this.appendFromString(n),this};Pr.fromJson=function(n,e){var t=new Pr(n);return t.fromJson(e),t};Pr.fromString=function(n,e){return new Pr(n).fromString(e)};[qr,xh,P0,Ou,Sp,H0,Ar,xp].forEach(function(n){vt(Fr,n)});Pr.types=Fr.types;Pr.properties=Fr.properties;Pr.propertyGroups=Fr.propertyGroups;Pr.propertyGroupNames=Fr.propertyGroupNames;Pr.propertyGroupKeys=Fr.propertyGroupKeys;var GD={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return Gb(e)?t.style=e.generateStyle(this):dn(e)?t.style=Pr.fromJson(this,e):ut(e)?t.style=Pr.fromString(this,e):t.style=Pr(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},VD="single",Io={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=VD),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,a,u,l,f,c;switch(e.length){case 0:return t;case 1:if(ut(e[0]))return a=e[0],t[a];if(Xt(e[0])){if(!this._private.panningEnabled)return this;l=e[0],f=l.x,c=l.y,Ge(f)&&(t.x=f),Ge(c)&&(t.y=c),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=e[0],u=e[1],(a==="x"||a==="y")&&Ge(u)&&(t[a]=u),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var a=arguments,u=this._private.pan,l,f,c,g,v;if(!this._private.panningEnabled)return this;switch(a.length){case 1:Xt(e)&&(c=a[0],g=c.x,v=c.y,Ge(g)&&(u.x+=g),Ge(v)&&(u.y+=v),this.emit("pan viewport"));break;case 2:l=e,f=t,(l==="x"||l==="y")&&Ge(f)&&(u[l]+=f),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var a=this.getFitViewport(e,t);if(a){var u=this._private;u.zoom=a.zoom,u.pan=a.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Ge(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var a;if(ut(e)){var u=e;e=this.$(u)}else if(WS(e)){var l=e;a={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},a.w=a.x2-a.x1,a.h=a.y2-a.y1}else $a(e)||(e=this.mutableElements());if(!($a(e)&&e.empty())){a=a||e.boundingBox();var f=this.width(),c=this.height(),g;if(t=Ge(t)?t:0,!isNaN(f)&&!isNaN(c)&&f>0&&c>0&&!isNaN(a.w)&&!isNaN(a.h)&&a.w>0&&a.h>0){g=Math.min((f-2*t)/a.w,(c-2*t)/a.h),g=g>this._private.maxZoom?this._private.maxZoom:g,g=g<this._private.minZoom?this._private.minZoom:g;var v={x:(f-g*(a.x1+a.x2))/2,y:(c-g*(a.y1+a.y2))/2};return{zoom:g,pan:v}}}}},zoomRange:function(e,t){var a=this._private;if(t==null){var u=e;e=u.min,t=u.max}return Ge(e)&&Ge(t)&&e<=t?(a.minZoom=e,a.maxZoom=t):Ge(e)&&t===void 0&&e<=a.maxZoom?a.minZoom=e:Ge(t)&&e===void 0&&t>=a.minZoom&&(a.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,a=t.pan,u=t.zoom,l,f,c=!1;if(t.zoomingEnabled||(c=!0),Ge(e)?f=e:Xt(e)&&(f=e.level,e.position!=null?l=dp(e.position,u,a):e.renderedPosition!=null&&(l=e.renderedPosition),l!=null&&!t.panningEnabled&&(c=!0)),f=f>t.maxZoom?t.maxZoom:f,f=f<t.minZoom?t.minZoom:f,c||!Ge(f)||f===u||l!=null&&(!Ge(l.x)||!Ge(l.y)))return null;if(l!=null){var g=a,v=u,m=f,p={x:-m/v*(l.x-g.x)+l.x,y:-m/v*(l.y-g.y)+l.y};return{zoomed:!0,panned:!0,zoom:m,pan:p}}else return{zoomed:!0,panned:!1,zoom:f,pan:a}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),a=this._private;return t==null||!t.zoomed?this:(a.zoom=t.zoom,t.panned&&(a.pan.x=t.pan.x,a.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,a=!0,u=!0,l=[],f=!1,c=!1;if(!e)return this;if(Ge(e.zoom)||(a=!1),Xt(e.pan)||(u=!1),!a&&!u)return this;if(a){var g=e.zoom;g<t.minZoom||g>t.maxZoom||!t.zoomingEnabled?f=!0:(t.zoom=g,l.push("zoom"))}if(u&&(!f||!e.cancelOnFailedZoom)&&t.panningEnabled){var v=e.pan;Ge(v.x)&&(t.pan.x=v.x,c=!1),Ge(v.y)&&(t.pan.y=v.y,c=!1),c||l.push("pan")}return l.length>0&&(l.push("viewport"),this.emit(l.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(ut(e)){var a=e;e=this.mutableElements().filter(a)}else $a(e)||(e=this.mutableElements());if(e.length!==0){var u=e.boundingBox(),l=this.width(),f=this.height();t=t===void 0?this._private.zoom:t;var c={x:(l-t*(u.x1+u.x2))/2,y:(f-t*(u.y1+u.y2))/2};return c}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,a=this;return e.sizeCache=e.sizeCache||(t?function(){var u=a.window().getComputedStyle(t),l=function(c){return parseFloat(u.getPropertyValue(c))};return{width:t.clientWidth-l("padding-left")-l("padding-right"),height:t.clientHeight-l("padding-top")-l("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,a=this.renderedExtent(),u={x1:(a.x1-e.x)/t,x2:(a.x2-e.x)/t,y1:(a.y1-e.y)/t,y2:(a.y2-e.y)/t};return u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Io.centre=Io.center;Io.autolockNodes=Io.autolock;Io.autoungrabifyNodes=Io.autoungrabify;var vh={data:an.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:an.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:an.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:an.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};vh.attr=vh.data;vh.removeAttr=vh.removeData;var dh=function(e){var t=this;e=vt({},e);var a=e.container;a&&!$m(a)&&$m(a[0])&&(a=a[0]);var u=a?a._cyreg:null;u=u||{},u&&u.cy&&(u.cy.destroy(),u={});var l=u.readies=u.readies||[];a&&(a._cyreg=u),u.cy=t;var f=ir!==void 0&&a!==void 0&&!e.headless,c=e;c.layout=vt({name:f?"grid":"null"},c.layout),c.renderer=vt({name:f?"canvas":"null"},c.renderer);var g=function(S,D,T){return D!==void 0?D:T!==void 0?T:S},v=this._private={container:a,ready:!1,options:c,elements:new Rr(this),listeners:[],aniEles:new Rr(this),data:c.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:g(!0,c.zoomingEnabled),userZoomingEnabled:g(!0,c.userZoomingEnabled),panningEnabled:g(!0,c.panningEnabled),userPanningEnabled:g(!0,c.userPanningEnabled),boxSelectionEnabled:g(!0,c.boxSelectionEnabled),autolock:g(!1,c.autolock,c.autolockNodes),autoungrabify:g(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:g(!1,c.autounselectify),styleEnabled:c.styleEnabled===void 0?f:c.styleEnabled,zoom:Ge(c.zoom)?c.zoom:1,pan:{x:Xt(c.pan)&&Ge(c.pan.x)?c.pan.x:0,y:Xt(c.pan)&&Ge(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:g(250,c.multiClickDebounceTime)};this.createEmitter(),this.selectionType(c.selectionType),this.zoomRange({min:c.minZoom,max:c.maxZoom});var m=function(S,D){var T=S.some(QS);if(T)return Oc.all(S).then(D);D(S)};v.styleEnabled&&t.setStyle([]);var p=vt({},c,c.renderer);t.initRenderer(p);var w=function(S,D,T){t.notifications(!1);var C=t.mutableElements();C.length>0&&C.remove(),S!=null&&(Xt(S)||dn(S))&&t.add(S),t.one("layoutready",function(M){t.notifications(!0),t.emit(M),t.one("load",D),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",T),t.emit("done")});var R=vt({},t._private.options.layout);R.eles=t.elements(),t.layout(R).run()};m([c.style,c.elements],function(x){var S=x[0],D=x[1];v.styleEnabled&&t.style().append(S),w(D,function(){t.startAnimationLoop(),v.ready=!0,Un(c.ready)&&t.on("ready",c.ready);for(var T=0;T<l.length;T++){var C=l[T];t.on("ready",C)}u&&(u.readies=[]),t.emit("ready")},c.done)})},ap=dh.prototype;vt(ap,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return ir;var t=this._private.container.ownerDocument;return t===void 0||t==null?ir:t.defaultView||ir},mount:function(e){if(e!=null){var t=this,a=t._private,u=a.options;return!$m(e)&&$m(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),a.container=e,a.styleEnabled=!0,t.invalidateSize(),t.initRenderer(vt({},u,u.renderer,{name:u.renderer.name==="null"?"canvas":u.renderer.name})),t.startAnimationLoop(),t.style(u.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Mu(this._private.options)},json:function(e){var t=this,a=t._private,u=t.mutableElements(),l=function(_){return t.getElementById(_.id())};if(Xt(e)){if(t.startBatch(),e.elements){var f={},c=function(_,k){for(var z=[],O=[],I=0;I<_.length;I++){var L=_[I];if(!L.data.id){un("cy.json() cannot handle elements without an ID attribute");continue}var F=""+L.data.id,Y=t.getElementById(F);f[F]=!0,Y.length!==0?O.push({ele:Y,json:L}):(k&&(L.group=k),z.push(L))}t.add(z);for(var V=0;V<O.length;V++){var W=O[V],K=W.ele,ee=W.json;K.json(ee)}};if(dn(e.elements))c(e.elements);else for(var g=["nodes","edges"],v=0;v<g.length;v++){var m=g[v],p=e.elements[m];dn(p)&&c(p,m)}var w=t.collection();u.filter(function(M){return!f[M.id()]}).forEach(function(M){M.isParent()?w.merge(M):M.remove()}),w.forEach(function(M){return M.children().move({parent:null})}),w.forEach(function(M){return l(M).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==a.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==a.pan.x||e.pan.y!==a.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var x=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],S=0;S<x.length;S++){var D=x[S];e[D]!=null&&t[D](e[D])}return t.endBatch(),this}else{var T=!!e,C={};T?C.elements=this.elements().map(function(M){return M.json()}):(C.elements={},u.forEach(function(M){var _=M.group();C.elements[_]||(C.elements[_]=[]),C.elements[_].push(M.json())})),this._private.styleEnabled&&(C.style=t.style().json()),C.data=Mu(t.data());var R=a.options;return C.zoomingEnabled=a.zoomingEnabled,C.userZoomingEnabled=a.userZoomingEnabled,C.zoom=a.zoom,C.minZoom=a.minZoom,C.maxZoom=a.maxZoom,C.panningEnabled=a.panningEnabled,C.userPanningEnabled=a.userPanningEnabled,C.pan=Mu(a.pan),C.boxSelectionEnabled=a.boxSelectionEnabled,C.renderer=Mu(R.renderer),C.hideEdgesOnViewport=R.hideEdgesOnViewport,C.textureOnViewport=R.textureOnViewport,C.wheelSensitivity=R.wheelSensitivity,C.motionBlur=R.motionBlur,C.multiClickDebounceTime=R.multiClickDebounceTime,C}}});ap.$id=ap.getElementById;[ND,UD,Yw,c0,Xm,HD,v0,Km,GD,Io,vh].forEach(function(n){vt(ap,n)});var YD={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},XD={maximal:!1,acyclic:!1},gc=function(e){return e.scratch("breadthfirst")},rb=function(e,t){return e.scratch("breadthfirst",t)};function Xw(n){this.options=vt({},YD,XD,n)}Xw.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,a=t.nodes().filter(function(Xe){return Xe.isChildless()}),u=t,l=n.directed,f=n.acyclic||n.maximal||n.maximalAdjustments>0,c=!!n.boundingBox,g=e.extent(),v=Ra(c?n.boundingBox:{x1:g.x1,y1:g.y1,w:g.w,h:g.h}),m;if($a(n.roots))m=n.roots;else if(dn(n.roots)){for(var p=[],w=0;w<n.roots.length;w++){var x=n.roots[w],S=e.getElementById(x);p.push(S)}m=e.collection(p)}else if(ut(n.roots))m=e.$(n.roots);else if(l)m=a.roots();else{var D=t.components();m=e.collection();for(var T=function(Ke){var et=D[Ke],$e=et.maxDegree(!1),tt=et.filter(function(lt){return lt.degree(!1)===$e});m=m.add(tt)},C=0;C<D.length;C++)T(C)}var R=[],M={},_=function(Ke,et){R[et]==null&&(R[et]=[]);var $e=R[et].length;R[et].push(Ke),rb(Ke,{index:$e,depth:et})},k=function(Ke,et){var $e=gc(Ke),tt=$e.depth,lt=$e.index;R[tt][lt]=null,Ke.isChildless()&&_(Ke,et)};u.bfs({roots:m,directed:n.directed,visit:function(Ke,et,$e,tt,lt){var st=Ke[0],Et=st.id();st.isChildless()&&_(st,lt),M[Et]=!0}});for(var z=[],O=0;O<a.length;O++){var I=a[O];M[I.id()]||z.push(I)}var L=function(Ke){for(var et=R[Ke],$e=0;$e<et.length;$e++){var tt=et[$e];if(tt==null){et.splice($e,1),$e--;continue}rb(tt,{depth:Ke,index:$e})}},F=function(Ke,et){for(var $e=gc(Ke),tt=Ke.incomers().filter(function(xe){return xe.isNode()&&t.has(xe)}),lt=-1,st=Ke.id(),Et=0;Et<tt.length;Et++){var Le=tt[Et],G=gc(Le);lt=Math.max(lt,G.depth)}if($e.depth<=lt){if(!n.acyclic&&et[st])return null;var fe=lt+1;return k(Ke,fe),et[st]=fe,!0}return!1};if(l&&f){var Y=[],V={},W=function(Ke){return Y.push(Ke)},K=function(){return Y.shift()};for(a.forEach(function(Xe){return Y.push(Xe)});Y.length>0;){var ee=K(),X=F(ee,V);if(X)ee.outgoers().filter(function(Xe){return Xe.isNode()&&t.has(Xe)}).forEach(W);else if(X===null){un("Detected double maximal shift for node `"+ee.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var Q=0;if(n.avoidOverlap)for(var j=0;j<a.length;j++){var le=a[j],P=le.layoutDimensions(n),Z=P.w,ne=P.h;Q=Math.max(Q,Z,ne)}var de={},se=function(Ke){if(de[Ke.id()])return de[Ke.id()];for(var et=gc(Ke).depth,$e=Ke.neighborhood(),tt=0,lt=0,st=0;st<$e.length;st++){var Et=$e[st];if(!(Et.isEdge()||Et.isParent()||!a.has(Et))){var Le=gc(Et);if(Le!=null){var G=Le.index,fe=Le.depth;if(!(G==null||fe==null)){var xe=R[fe].length;fe<et&&(tt+=G/xe,lt++)}}}}return lt=Math.max(1,lt),tt=tt/lt,lt===0&&(tt=0),de[Ke.id()]=tt,tt},we=function(Ke,et){var $e=se(Ke),tt=se(et),lt=$e-tt;return lt===0?Yb(Ke.id(),et.id()):lt};n.depthSort!==void 0&&(we=n.depthSort);for(var me=R.length,Me=0;Me<me;Me++)R[Me].sort(we),L(Me);for(var Se=[],ve=0;ve<z.length;ve++)Se.push(z[ve]);var re=function(){for(var Ke=0;Ke<me;Ke++)L(Ke)};Se.length&&(R.unshift(Se),me=R.length,re());for(var be=0,Ne=0;Ne<me;Ne++)be=Math.max(R[Ne].length,be);var Pe={x:v.x1+v.w/2,y:v.y1+v.h/2},Fe=a.reduce(function(Xe,Ke){return function(et){return{w:Xe.w===-1?et.w:(Xe.w+et.w)/2,h:Xe.h===-1?et.h:(Xe.h+et.h)/2}}(Ke.boundingBox({includeLabels:n.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),mt=Math.max(me===1?0:c?(v.h-n.padding*2-Fe.h)/(me-1):(v.h-n.padding*2-Fe.h)/(me+1),Q),Lt=R.reduce(function(Xe,Ke){return Math.max(Xe,Ke.length)},0),xt=function(Ke){var et=gc(Ke),$e=et.depth,tt=et.index;if(n.circle){var lt=Math.min(v.w/2/me,v.h/2/me);lt=Math.max(lt,Q);var st=lt*$e+lt-(me>0&&R[0].length<=3?lt/2:0),Et=2*Math.PI/R[$e].length*tt;return $e===0&&R[0].length===1&&(st=1),{x:Pe.x+st*Math.cos(Et),y:Pe.y+st*Math.sin(Et)}}else{var Le=R[$e].length,G=Math.max(Le===1?0:c?(v.w-n.padding*2-Fe.w)/((n.grid?Lt:Le)-1):(v.w-n.padding*2-Fe.w)/((n.grid?Lt:Le)+1),Q),fe={x:Pe.x+(tt+1-(Le+1)/2)*G,y:Pe.y+($e+1-(me+1)/2)*mt};return fe}};return t.nodes().layoutPositions(this,n,xt),this};var KD={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Kw(n){this.options=vt({},KD,n)}Kw.prototype.run=function(){var n=this.options,e=n,t=n.cy,a=e.eles,u=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,l=a.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));for(var f=Ra(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),c={x:f.x1+f.w/2,y:f.y1+f.h/2},g=e.sweep===void 0?2*Math.PI-2*Math.PI/l.length:e.sweep,v=g/Math.max(1,l.length-1),m,p=0,w=0;w<l.length;w++){var x=l[w],S=x.layoutDimensions(e),D=S.w,T=S.h;p=Math.max(p,D,T)}if(Ge(e.radius)?m=e.radius:l.length<=1?m=0:m=Math.min(f.h,f.w)/2-p,l.length>1&&e.avoidOverlap){p*=1.75;var C=Math.cos(v)-Math.cos(0),R=Math.sin(v)-Math.sin(0),M=Math.sqrt(p*p/(C*C+R*R));m=Math.max(M,m)}var _=function(z,O){var I=e.startAngle+O*v*(u?1:-1),L=m*Math.cos(I),F=m*Math.sin(I),Y={x:c.x+L,y:c.y+F};return Y};return a.nodes().layoutPositions(this,e,_),this};var ZD={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Zw(n){this.options=vt({},ZD,n)}Zw.prototype.run=function(){for(var n=this.options,e=n,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.cy,u=e.eles,l=u.nodes().not(":parent"),f=Ra(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),c={x:f.x1+f.w/2,y:f.y1+f.h/2},g=[],v=0,m=0;m<l.length;m++){var p=l[m],w=void 0;w=e.concentric(p),g.push({value:w,node:p}),p._private.scratch.concentric=w}l.updateStyle();for(var x=0;x<l.length;x++){var S=l[x],D=S.layoutDimensions(e);v=Math.max(v,D.w,D.h)}g.sort(function(Fe,mt){return mt.value-Fe.value});for(var T=e.levelWidth(l),C=[[]],R=C[0],M=0;M<g.length;M++){var _=g[M];if(R.length>0){var k=Math.abs(R[0].value-_.value);k>=T&&(R=[],C.push(R))}R.push(_)}var z=v+e.minNodeSpacing;if(!e.avoidOverlap){var O=C.length>0&&C[0].length>1,I=Math.min(f.w,f.h)/2-z,L=I/(C.length+O?1:0);z=Math.min(z,L)}for(var F=0,Y=0;Y<C.length;Y++){var V=C[Y],W=e.sweep===void 0?2*Math.PI-2*Math.PI/V.length:e.sweep,K=V.dTheta=W/Math.max(1,V.length-1);if(V.length>1&&e.avoidOverlap){var ee=Math.cos(K)-Math.cos(0),X=Math.sin(K)-Math.sin(0),Q=Math.sqrt(z*z/(ee*ee+X*X));F=Math.max(Q,F)}V.r=F,F+=z}if(e.equidistant){for(var j=0,le=0,P=0;P<C.length;P++){var Z=C[P],ne=Z.r-le;j=Math.max(j,ne)}le=0;for(var de=0;de<C.length;de++){var se=C[de];de===0&&(le=se.r),se.r=le,le+=j}}for(var we={},me=0;me<C.length;me++)for(var Me=C[me],Se=Me.dTheta,ve=Me.r,re=0;re<Me.length;re++){var be=Me[re],Ne=e.startAngle+(t?1:-1)*Se*re,Pe={x:c.x+ve*Math.cos(Ne),y:c.y+ve*Math.sin(Ne)};we[be.node.id()]=Pe}return u.nodes().layoutPositions(this,e,function(Fe){var mt=Fe.id();return we[mt]}),this};var $y,WD={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Tp(n){this.options=vt({},WD,n),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),a=t.filter(function(u){var l=u.source().data("id"),f=u.target().data("id"),c=e.some(function(v){return v.data("id")===l}),g=e.some(function(v){return v.data("id")===f});return!c||!g});this.options.eles=this.options.eles.not(a)}Tp.prototype.run=function(){var n=this.options,e=n.cy,t=this;t.stopped=!1,(n.animate===!0||n.animate===!1)&&t.emit({type:"layoutstart",layout:t}),n.debug===!0?$y=!0:$y=!1;var a=QD(e,t,n);$y&&jD(a),n.randomize&&eR(a);var u=ll(),l=function(){tR(a,e,n),n.fit===!0&&e.fit(n.padding)},f=function(w){return!(t.stopped||w>=n.numIter||(nR(a,n),a.temperature=a.temperature*n.coolingFactor,a.temperature<n.minTemp))},c=function(){if(n.animate===!0||n.animate===!1)l(),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});else{var w=n.eles.nodes(),x=Ww(a,n,w);w.layoutPositions(t,n,x)}},g=0,v=!0;if(n.animate===!0){var m=function p(){for(var w=0;v&&w<n.refresh;)v=f(g),g++,w++;if(!v)ib(a,n),c();else{var x=ll();x-u>=n.animationThreshold&&l(),Jm(p)}};m()}else{for(;v;)v=f(g),g++;ib(a,n),c()}return this};Tp.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Tp.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var QD=function(e,t,a){for(var u=a.eles.edges(),l=a.eles.nodes(),f=Ra(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),c={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:l.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:u.size(),temperature:a.initialTemp,clientWidth:f.w,clientHeight:f.h,boundingBox:f},g=a.eles.components(),v={},m=0;m<g.length;m++)for(var p=g[m],w=0;w<p.length;w++){var x=p[w];v[x.id()]=m}for(var m=0;m<c.nodeSize;m++){var S=l[m],D=S.layoutDimensions(a),T={};T.isLocked=S.locked(),T.id=S.data("id"),T.parentId=S.data("parent"),T.cmptId=v[S.id()],T.children=[],T.positionX=S.position("x"),T.positionY=S.position("y"),T.offsetX=0,T.offsetY=0,T.height=D.w,T.width=D.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(S.style("padding")),T.padRight=parseFloat(S.style("padding")),T.padTop=parseFloat(S.style("padding")),T.padBottom=parseFloat(S.style("padding")),T.nodeRepulsion=Un(a.nodeRepulsion)?a.nodeRepulsion(S):a.nodeRepulsion,c.layoutNodes.push(T),c.idToIndex[T.id]=m}for(var C=[],R=0,M=-1,_=[],m=0;m<c.nodeSize;m++){var S=c.layoutNodes[m],k=S.parentId;k!=null?c.layoutNodes[c.idToIndex[k]].children.push(S.id):(C[++M]=S.id,_.push(S.id))}for(c.graphSet.push(_);R<=M;){var z=C[R++],O=c.idToIndex[z],x=c.layoutNodes[O],I=x.children;if(I.length>0){c.graphSet.push(I);for(var m=0;m<I.length;m++)C[++M]=I[m]}}for(var m=0;m<c.graphSet.length;m++)for(var L=c.graphSet[m],w=0;w<L.length;w++){var F=c.idToIndex[L[w]];c.indexToGraph[F]=m}for(var m=0;m<c.edgeSize;m++){var Y=u[m],V={};V.id=Y.data("id"),V.sourceId=Y.data("source"),V.targetId=Y.data("target");var W=Un(a.idealEdgeLength)?a.idealEdgeLength(Y):a.idealEdgeLength,K=Un(a.edgeElasticity)?a.edgeElasticity(Y):a.edgeElasticity,ee=c.idToIndex[V.sourceId],X=c.idToIndex[V.targetId],Q=c.indexToGraph[ee],j=c.indexToGraph[X];if(Q!=j){for(var le=$D(V.sourceId,V.targetId,c),P=c.graphSet[le],Z=0,T=c.layoutNodes[ee];P.indexOf(T.id)===-1;)T=c.layoutNodes[c.idToIndex[T.parentId]],Z++;for(T=c.layoutNodes[X];P.indexOf(T.id)===-1;)T=c.layoutNodes[c.idToIndex[T.parentId]],Z++;W*=Z*a.nestingFactor}V.idealLength=W,V.elasticity=K,c.layoutEdges.push(V)}return c},$D=function(e,t,a){var u=JD(e,t,0,a);return 2>u.count?0:u.graph},JD=function n(e,t,a,u){var l=u.graphSet[a];if(-1<l.indexOf(e)&&-1<l.indexOf(t))return{count:2,graph:a};for(var f=0,c=0;c<l.length;c++){var g=l[c],v=u.idToIndex[g],m=u.layoutNodes[v].children;if(m.length!==0){var p=u.indexToGraph[u.idToIndex[m[0]]],w=n(e,t,p,u);if(w.count!==0)if(w.count===1){if(f++,f===2)break}else return w}}return{count:f,graph:a}},jD,eR=function(e,t){for(var a=e.clientWidth,u=e.clientHeight,l=0;l<e.nodeSize;l++){var f=e.layoutNodes[l];f.children.length===0&&!f.isLocked&&(f.positionX=Math.random()*a,f.positionY=Math.random()*u)}},Ww=function(e,t,a){var u=e.boundingBox,l={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(a.forEach(function(f){var c=e.layoutNodes[e.idToIndex[f.data("id")]];l.x1=Math.min(l.x1,c.positionX),l.x2=Math.max(l.x2,c.positionX),l.y1=Math.min(l.y1,c.positionY),l.y2=Math.max(l.y2,c.positionY)}),l.w=l.x2-l.x1,l.h=l.y2-l.y1),function(f,c){var g=e.layoutNodes[e.idToIndex[f.data("id")]];if(t.boundingBox){var v=(g.positionX-l.x1)/l.w,m=(g.positionY-l.y1)/l.h;return{x:u.x1+v*u.w,y:u.y1+m*u.h}}else return{x:g.positionX,y:g.positionY}}},tR=function(e,t,a){var u=a.layout,l=a.eles.nodes(),f=Ww(e,a,l);l.positions(f),e.ready!==!0&&(e.ready=!0,u.one("layoutready",a.ready),u.emit({type:"layoutready",layout:this}))},nR=function(e,t,a){rR(e,t),uR(e),lR(e,t),sR(e),oR(e)},rR=function(e,t){for(var a=0;a<e.graphSet.length;a++)for(var u=e.graphSet[a],l=u.length,f=0;f<l;f++)for(var c=e.layoutNodes[e.idToIndex[u[f]]],g=f+1;g<l;g++){var v=e.layoutNodes[e.idToIndex[u[g]]];aR(c,v,e,t)}},ab=function(e){return-1+2*e*Math.random()},aR=function(e,t,a,u){var l=e.cmptId,f=t.cmptId;if(!(l!==f&&!a.isCompound)){var c=t.positionX-e.positionX,g=t.positionY-e.positionY,v=1;c===0&&g===0&&(c=ab(v),g=ab(v));var m=iR(e,t,c,g);if(m>0)var p=u.nodeOverlap*m,w=Math.sqrt(c*c+g*g),x=p*c/w,S=p*g/w;else var D=ip(e,c,g),T=ip(t,-1*c,-1*g),C=T.x-D.x,R=T.y-D.y,M=C*C+R*R,w=Math.sqrt(M),p=(e.nodeRepulsion+t.nodeRepulsion)/M,x=p*C/w,S=p*R/w;e.isLocked||(e.offsetX-=x,e.offsetY-=S),t.isLocked||(t.offsetX+=x,t.offsetY+=S)}},iR=function(e,t,a,u){if(a>0)var l=e.maxX-t.minX;else var l=t.maxX-e.minX;if(u>0)var f=e.maxY-t.minY;else var f=t.maxY-e.minY;return l>=0&&f>=0?Math.sqrt(l*l+f*f):0},ip=function(e,t,a){var u=e.positionX,l=e.positionY,f=e.height||1,c=e.width||1,g=a/t,v=f/c,m={};return t===0&&0<a||t===0&&0>a?(m.x=u,m.y=l+f/2,m):0<t&&-1*v<=g&&g<=v?(m.x=u+c/2,m.y=l+c*a/2/t,m):0>t&&-1*v<=g&&g<=v?(m.x=u-c/2,m.y=l-c*a/2/t,m):0<a&&(g<=-1*v||g>=v)?(m.x=u+f*t/2/a,m.y=l+f/2,m):(0>a&&(g<=-1*v||g>=v)&&(m.x=u-f*t/2/a,m.y=l-f/2),m)},uR=function(e,t){for(var a=0;a<e.edgeSize;a++){var u=e.layoutEdges[a],l=e.idToIndex[u.sourceId],f=e.layoutNodes[l],c=e.idToIndex[u.targetId],g=e.layoutNodes[c],v=g.positionX-f.positionX,m=g.positionY-f.positionY;if(!(v===0&&m===0)){var p=ip(f,v,m),w=ip(g,-1*v,-1*m),x=w.x-p.x,S=w.y-p.y,D=Math.sqrt(x*x+S*S),T=Math.pow(u.idealLength-D,2)/u.elasticity;if(D!==0)var C=T*x/D,R=T*S/D;else var C=0,R=0;f.isLocked||(f.offsetX+=C,f.offsetY+=R),g.isLocked||(g.offsetX-=C,g.offsetY-=R)}}},lR=function(e,t){if(t.gravity!==0)for(var a=1,u=0;u<e.graphSet.length;u++){var l=e.graphSet[u],f=l.length;if(u===0)var c=e.clientHeight/2,g=e.clientWidth/2;else var v=e.layoutNodes[e.idToIndex[l[0]]],m=e.layoutNodes[e.idToIndex[v.parentId]],c=m.positionX,g=m.positionY;for(var p=0;p<f;p++){var w=e.layoutNodes[e.idToIndex[l[p]]];if(!w.isLocked){var x=c-w.positionX,S=g-w.positionY,D=Math.sqrt(x*x+S*S);if(D>a){var T=t.gravity*x/D,C=t.gravity*S/D;w.offsetX+=T,w.offsetY+=C}}}}},sR=function(e,t){var a=[],u=0,l=-1;for(a.push.apply(a,e.graphSet[0]),l+=e.graphSet[0].length;u<=l;){var f=a[u++],c=e.idToIndex[f],g=e.layoutNodes[c],v=g.children;if(0<v.length&&!g.isLocked){for(var m=g.offsetX,p=g.offsetY,w=0;w<v.length;w++){var x=e.layoutNodes[e.idToIndex[v[w]]];x.offsetX+=m,x.offsetY+=p,a[++l]=v[w]}g.offsetX=0,g.offsetY=0}}},oR=function(e,t){for(var a=0;a<e.nodeSize;a++){var u=e.layoutNodes[a];0<u.children.length&&(u.maxX=void 0,u.minX=void 0,u.maxY=void 0,u.minY=void 0)}for(var a=0;a<e.nodeSize;a++){var u=e.layoutNodes[a];if(!(0<u.children.length||u.isLocked)){var l=fR(u.offsetX,u.offsetY,e.temperature);u.positionX+=l.x,u.positionY+=l.y,u.offsetX=0,u.offsetY=0,u.minX=u.positionX-u.width,u.maxX=u.positionX+u.width,u.minY=u.positionY-u.height,u.maxY=u.positionY+u.height,cR(u,e)}}for(var a=0;a<e.nodeSize;a++){var u=e.layoutNodes[a];0<u.children.length&&!u.isLocked&&(u.positionX=(u.maxX+u.minX)/2,u.positionY=(u.maxY+u.minY)/2,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY)}},fR=function(e,t,a){var u=Math.sqrt(e*e+t*t);if(u>a)var l={x:a*e/u,y:a*t/u};else var l={x:e,y:t};return l},cR=function n(e,t){var a=e.parentId;if(a!=null){var u=t.layoutNodes[t.idToIndex[a]],l=!1;if((u.maxX==null||e.maxX+u.padRight>u.maxX)&&(u.maxX=e.maxX+u.padRight,l=!0),(u.minX==null||e.minX-u.padLeft<u.minX)&&(u.minX=e.minX-u.padLeft,l=!0),(u.maxY==null||e.maxY+u.padBottom>u.maxY)&&(u.maxY=e.maxY+u.padBottom,l=!0),(u.minY==null||e.minY-u.padTop<u.minY)&&(u.minY=e.minY-u.padTop,l=!0),l)return n(u,t)}},ib=function(e,t){for(var a=e.layoutNodes,u=[],l=0;l<a.length;l++){var f=a[l],c=f.cmptId,g=u[c]=u[c]||[];g.push(f)}for(var v=0,l=0;l<u.length;l++){var m=u[l];if(m){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var p=0;p<m.length;p++){var w=m[p];m.x1=Math.min(m.x1,w.positionX-w.width/2),m.x2=Math.max(m.x2,w.positionX+w.width/2),m.y1=Math.min(m.y1,w.positionY-w.height/2),m.y2=Math.max(m.y2,w.positionY+w.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,v+=m.w*m.h}}u.sort(function(R,M){return M.w*M.h-R.w*R.h});for(var x=0,S=0,D=0,T=0,C=Math.sqrt(v)*e.clientWidth/e.clientHeight,l=0;l<u.length;l++){var m=u[l];if(m){for(var p=0;p<m.length;p++){var w=m[p];w.isLocked||(w.positionX+=x-m.x1,w.positionY+=S-m.y1)}x+=m.w+t.componentSpacing,D+=m.w+t.componentSpacing,T=Math.max(T,m.h),D>C&&(S+=T+t.componentSpacing,x=0,D=0,T=0)}}},vR={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Qw(n){this.options=vt({},vR,n)}Qw.prototype.run=function(){var n=this.options,e=n,t=n.cy,a=e.eles,u=a.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));var l=Ra(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(l.h===0||l.w===0)a.nodes().layoutPositions(this,e,function(de){return{x:l.x1,y:l.y1}});else{var f=u.size(),c=Math.sqrt(f*l.h/l.w),g=Math.round(c),v=Math.round(l.w/l.h*c),m=function(se){if(se==null)return Math.min(g,v);var we=Math.min(g,v);we==g?g=se:v=se},p=function(se){if(se==null)return Math.max(g,v);var we=Math.max(g,v);we==g?g=se:v=se},w=e.rows,x=e.cols!=null?e.cols:e.columns;if(w!=null&&x!=null)g=w,v=x;else if(w!=null&&x==null)g=w,v=Math.ceil(f/g);else if(w==null&&x!=null)v=x,g=Math.ceil(f/v);else if(v*g>f){var S=m(),D=p();(S-1)*D>=f?m(S-1):(D-1)*S>=f&&p(D-1)}else for(;v*g<f;){var T=m(),C=p();(C+1)*T>=f?p(C+1):m(T+1)}var R=l.w/v,M=l.h/g;if(e.condense&&(R=0,M=0),e.avoidOverlap)for(var _=0;_<u.length;_++){var k=u[_],z=k._private.position;(z.x==null||z.y==null)&&(z.x=0,z.y=0);var O=k.layoutDimensions(e),I=e.avoidOverlapPadding,L=O.w+I,F=O.h+I;R=Math.max(R,L),M=Math.max(M,F)}for(var Y={},V=function(se,we){return!!Y["c-"+se+"-"+we]},W=function(se,we){Y["c-"+se+"-"+we]=!0},K=0,ee=0,X=function(){ee++,ee>=v&&(ee=0,K++)},Q={},j=0;j<u.length;j++){var le=u[j],P=e.position(le);if(P&&(P.row!==void 0||P.col!==void 0)){var Z={row:P.row,col:P.col};if(Z.col===void 0)for(Z.col=0;V(Z.row,Z.col);)Z.col++;else if(Z.row===void 0)for(Z.row=0;V(Z.row,Z.col);)Z.row++;Q[le.id()]=Z,W(Z.row,Z.col)}}var ne=function(se,we){var me,Me;if(se.locked()||se.isParent())return!1;var Se=Q[se.id()];if(Se)me=Se.col*R+R/2+l.x1,Me=Se.row*M+M/2+l.y1;else{for(;V(K,ee);)X();me=ee*R+R/2+l.x1,Me=K*M+M/2+l.y1,W(K,ee),X()}return{x:me,y:Me}};u.layoutPositions(this,e,ne)}return this};var dR={ready:function(){},stop:function(){}};function F0(n){this.options=vt({},dR,n)}F0.prototype.run=function(){var n=this.options,e=n.eles,t=this;return n.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",n.ready),t.emit("layoutready"),t.one("layoutstop",n.stop),t.emit("layoutstop"),this};F0.prototype.stop=function(){return this};var hR={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function $w(n){this.options=vt({},hR,n)}$w.prototype.run=function(){var n=this.options,e=n.eles,t=e.nodes(),a=Un(n.positions);function u(l){if(n.positions==null)return wT(l.position());if(a)return n.positions(l);var f=n.positions[l._private.data.id];return f??null}return t.layoutPositions(this,n,function(l,f){var c=u(l);return l.locked()||c==null?!1:c}),this};var gR={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Jw(n){this.options=vt({},gR,n)}Jw.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,a=Ra(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u=function(f,c){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return t.nodes().layoutPositions(this,n,u),this};var mR=[{name:"breadthfirst",impl:Xw},{name:"circle",impl:Kw},{name:"concentric",impl:Zw},{name:"cose",impl:Tp},{name:"grid",impl:Qw},{name:"null",impl:F0},{name:"preset",impl:$w},{name:"random",impl:Jw}];function jw(n){this.options=n,this.notifications=0}var ub=function(){},lb=function(){throw new Error("A headless instance can not render images")};jw.prototype={recalculateRenderedStyle:ub,notify:function(){this.notifications++},init:ub,isHeadless:function(){return!0},png:lb,jpg:lb};var q0={};q0.arrowShapeWidth=.3;q0.registerArrowShapes=function(){var n=this.arrowShapes={},e=this,t=function(v,m,p,w,x,S,D){var T=x.x-p/2-D,C=x.x+p/2+D,R=x.y-p/2-D,M=x.y+p/2+D,_=T<=v&&v<=C&&R<=m&&m<=M;return _},a=function(v,m,p,w,x){var S=v*Math.cos(w)-m*Math.sin(w),D=v*Math.sin(w)+m*Math.cos(w),T=S*p,C=D*p,R=T+x.x,M=C+x.y;return{x:R,y:M}},u=function(v,m,p,w){for(var x=[],S=0;S<v.length;S+=2){var D=v[S],T=v[S+1];x.push(a(D,T,m,p,w))}return x},l=function(v){for(var m=[],p=0;p<v.length;p++){var w=v[p];m.push(w.x,w.y)}return m},f=function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").pfValue*2},c=function(v,m){ut(m)&&(m=n[m]),n[v]=vt({name:v,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(w,x,S,D,T,C){var R=l(u(this.points,S+2*C,D,T)),M=Da(w,x,R);return M},roughCollide:t,draw:function(w,x,S,D){var T=u(this.points,x,S,D);e.arrowShapeImpl("polygon")(w,T)},spacing:function(w){return 0},gap:f},m)};c("none",{collide:jm,roughCollide:jm,draw:D0,spacing:p1,gap:p1}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(v,m,p,w,x){var S=u(this.points,m,p,w),D=this.controlPoint,T=a(D[0],D[1],m,p,w);e.arrowShapeImpl(this.name)(v,S,T)},gap:function(v){return f(v)*.8}}),c("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(v,m,p,w,x,S,D){var T=l(u(this.points,p+2*D,w,x)),C=l(u(this.pointsTee,p+2*D,w,x)),R=Da(v,m,T)||Da(v,m,C);return R},draw:function(v,m,p,w,x){var S=u(this.points,m,p,w),D=u(this.pointsTee,m,p,w);e.arrowShapeImpl(this.name)(v,S,D)}}),c("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(v,m,p,w,x,S,D){var T=x,C=Math.pow(T.x-v,2)+Math.pow(T.y-m,2)<=Math.pow((p+2*D)*this.radius,2),R=l(u(this.points,p+2*D,w,x));return Da(v,m,R)||C},draw:function(v,m,p,w,x){var S=u(this.pointsTr,m,p,w);e.arrowShapeImpl(this.name)(v,S,w.x,w.y,this.radius*m)},spacing:function(v){return e.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),c("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(v,m){var p=this.baseCrossLinePts.slice(),w=m/v,x=3,S=5;return p[x]=p[x]-w,p[S]=p[S]-w,p},collide:function(v,m,p,w,x,S,D){var T=l(u(this.points,p+2*D,w,x)),C=l(u(this.crossLinePts(p,S),p+2*D,w,x)),R=Da(v,m,T)||Da(v,m,C);return R},draw:function(v,m,p,w,x){var S=u(this.points,m,p,w),D=u(this.crossLinePts(m,x),m,p,w);e.arrowShapeImpl(this.name)(v,S,D)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(v){return f(v)*.525}}),c("circle",{radius:.15,collide:function(v,m,p,w,x,S,D){var T=x,C=Math.pow(T.x-v,2)+Math.pow(T.y-m,2)<=Math.pow((p+2*D)*this.radius,2);return C},draw:function(v,m,p,w,x){e.arrowShapeImpl(this.name)(v,w.x,w.y,this.radius*m)},spacing:function(v){return e.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(v){return 1},gap:function(v){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}}),c("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(v){return .95*v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}})};var Ho={};Ho.projectIntoViewport=function(n,e){var t=this.cy,a=this.findContainerClientCoords(),u=a[0],l=a[1],f=a[4],c=t.pan(),g=t.zoom(),v=((n-u)/f-c.x)/g,m=((e-l)/f-c.y)/g;return[v,m]};Ho.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var n=this.container,e=n.getBoundingClientRect(),t=this.cy.window().getComputedStyle(n),a=function(C){return parseFloat(t.getPropertyValue(C))},u={left:a("padding-left"),right:a("padding-right"),top:a("padding-top"),bottom:a("padding-bottom")},l={left:a("border-left-width"),right:a("border-right-width"),top:a("border-top-width"),bottom:a("border-bottom-width")},f=n.clientWidth,c=n.clientHeight,g=u.left+u.right,v=u.top+u.bottom,m=l.left+l.right,p=e.width/(f+m),w=f-g,x=c-v,S=e.left+u.left+l.left,D=e.top+u.top+l.top;return this.containerBB=[S,D,w,x,p]};Ho.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ho.findNearestElement=function(n,e,t,a){return this.findNearestElements(n,e,t,a)[0]};Ho.findNearestElements=function(n,e,t,a){var u=this,l=this,f=l.getCachedZSortedEles(),c=[],g=l.cy.zoom(),v=l.cy.hasCompoundNodes(),m=(a?24:8)/g,p=(a?8:2)/g,w=(a?8:2)/g,x=1/0,S,D;t&&(f=f.interactive);function T(O,I){if(O.isNode()){if(D)return;D=O,c.push(O)}if(O.isEdge()&&(I==null||I<x))if(S){if(S.pstyle("z-compound-depth").value===O.pstyle("z-compound-depth").value&&S.pstyle("z-compound-depth").value===O.pstyle("z-compound-depth").value){for(var L=0;L<c.length;L++)if(c[L].isEdge()){c[L]=O,S=O,x=I??x;break}}}else c.push(O),S=O,x=I??x}function C(O){var I=O.outerWidth()+2*p,L=O.outerHeight()+2*p,F=I/2,Y=L/2,V=O.position(),W=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,K=O._private.rscratch;if(V.x-F<=n&&n<=V.x+F&&V.y-Y<=e&&e<=V.y+Y){var ee=l.nodeShapes[u.getNodeShape(O)];if(ee.checkPoint(n,e,0,I,L,V.x,V.y,W,K))return T(O,0),!0}}function R(O){var I=O._private,L=I.rscratch,F=O.pstyle("width").pfValue,Y=O.pstyle("arrow-scale").value,V=F/2+m,W=V*V,K=V*2,j=I.source,le=I.target,ee;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var X=L.allpts,Q=0;Q+3<X.length;Q+=2)if(NT(n,e,X[Q],X[Q+1],X[Q+2],X[Q+3],K)&&W>(ee=UT(n,e,X[Q],X[Q+1],X[Q+2],X[Q+3])))return T(O,ee),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var X=L.allpts,Q=0;Q+5<L.allpts.length;Q+=4)if(LT(n,e,X[Q],X[Q+1],X[Q+2],X[Q+3],X[Q+4],X[Q+5],K)&&W>(ee=IT(n,e,X[Q],X[Q+1],X[Q+2],X[Q+3],X[Q+4],X[Q+5])))return T(O,ee),!0}for(var j=j||I.source,le=le||I.target,P=u.getArrowWidth(F,Y),Z=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],Q=0;Q<Z.length;Q++){var ne=Z[Q],de=l.arrowShapes[O.pstyle(ne.name+"-arrow-shape").value],se=O.pstyle("width").pfValue;if(de.roughCollide(n,e,P,ne.angle,{x:ne.x,y:ne.y},se,m)&&de.collide(n,e,P,ne.angle,{x:ne.x,y:ne.y},se,m))return T(O),!0}v&&c.length>0&&(C(j),C(le))}function M(O,I,L){return Wi(O,I,L)}function _(O,I){var L=O._private,F=w,Y;I?Y=I+"-":Y="",O.boundingBox();var V=L.labelBounds[I||"main"],W=O.pstyle(Y+"label").value,K=O.pstyle("text-events").strValue==="yes";if(!(!K||!W)){var ee=M(L.rscratch,"labelX",I),X=M(L.rscratch,"labelY",I),Q=M(L.rscratch,"labelAngle",I),j=O.pstyle(Y+"text-margin-x").pfValue,le=O.pstyle(Y+"text-margin-y").pfValue,P=V.x1-F-j,Z=V.x2+F-j,ne=V.y1-F-le,de=V.y2+F-le;if(Q){var se=Math.cos(Q),we=Math.sin(Q),me=function(Pe,Fe){return Pe=Pe-ee,Fe=Fe-X,{x:Pe*se-Fe*we+ee,y:Pe*we+Fe*se+X}},Me=me(P,ne),Se=me(P,de),ve=me(Z,ne),re=me(Z,de),be=[Me.x+j,Me.y+le,ve.x+j,ve.y+le,re.x+j,re.y+le,Se.x+j,Se.y+le];if(Da(n,e,be))return T(O),!0}else if(Dc(V,n,e))return T(O),!0}}for(var k=f.length-1;k>=0;k--){var z=f[k];z.isNode()?C(z)||_(z):R(z)||_(z)||_(z,"source")||_(z,"target")}return c};Ho.getAllInBox=function(n,e,t,a){var u=this.getCachedZSortedEles().interactive,l=[],f=Math.min(n,t),c=Math.max(n,t),g=Math.min(e,a),v=Math.max(e,a);n=f,t=c,e=g,a=v;for(var m=Ra({x1:n,y1:e,x2:t,y2:a}),p=0;p<u.length;p++){var w=u[p];if(w.isNode()){var x=w,S=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});B0(m,S)&&!sw(S,m)&&l.push(x)}else{var D=w,T=D._private,C=T.rscratch;if(C.startX!=null&&C.startY!=null&&!Dc(m,C.startX,C.startY)||C.endX!=null&&C.endY!=null&&!Dc(m,C.endX,C.endY))continue;if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"||C.edgeType==="segments"||C.edgeType==="haystack"){for(var R=T.rstyle.bezierPts||T.rstyle.linePts||T.rstyle.haystackPts,M=!0,_=0;_<R.length;_++)if(!_T(m,R[_])){M=!1;break}M&&l.push(D)}else(C.edgeType==="haystack"||C.edgeType==="straight")&&l.push(D)}}return l};var up={};up.calculateArrowAngles=function(n){var e=n._private.rscratch,t=e.edgeType==="haystack",a=e.edgeType==="bezier",u=e.edgeType==="multibezier",l=e.edgeType==="segments",f=e.edgeType==="compound",c=e.edgeType==="self",g,v,m,p,w,x,C,R;if(t?(m=e.haystackPts[0],p=e.haystackPts[1],w=e.haystackPts[2],x=e.haystackPts[3]):(m=e.arrowStartX,p=e.arrowStartY,w=e.arrowEndX,x=e.arrowEndY),C=e.midX,R=e.midY,l)g=m-e.segpts[0],v=p-e.segpts[1];else if(u||f||c||a){var S=e.allpts,D=mr(S[0],S[2],S[4],.1),T=mr(S[1],S[3],S[5],.1);g=m-D,v=p-T}else g=m-C,v=p-R;e.srcArrowAngle=Rm(g,v);var C=e.midX,R=e.midY;if(t&&(C=(m+w)/2,R=(p+x)/2),g=w-m,v=x-p,l){var S=e.allpts;if(S.length/2%2===0){var M=S.length/2,_=M-2;g=S[M]-S[_],v=S[M+1]-S[_+1]}else if(e.isRound)g=e.midVector[1],v=-e.midVector[0];else{var M=S.length/2-1,_=M-2;g=S[M]-S[_],v=S[M+1]-S[_+1]}}else if(u||f||c){var S=e.allpts,k=e.ctrlpts,z,O,I,L;if(k.length/2%2===0){var F=S.length/2-1,Y=F+2,V=Y+2;z=mr(S[F],S[Y],S[V],0),O=mr(S[F+1],S[Y+1],S[V+1],0),I=mr(S[F],S[Y],S[V],1e-4),L=mr(S[F+1],S[Y+1],S[V+1],1e-4)}else{var Y=S.length/2-1,F=Y-2,V=Y+2;z=mr(S[F],S[Y],S[V],.4999),O=mr(S[F+1],S[Y+1],S[V+1],.4999),I=mr(S[F],S[Y],S[V],.5),L=mr(S[F+1],S[Y+1],S[V+1],.5)}g=I-z,v=L-O}if(e.midtgtArrowAngle=Rm(g,v),e.midDispX=g,e.midDispY=v,g*=-1,v*=-1,l){var S=e.allpts;if(S.length/2%2!==0){if(!e.isRound){var M=S.length/2-1,W=M+2;g=-(S[W]-S[M]),v=-(S[W+1]-S[M+1])}}}if(e.midsrcArrowAngle=Rm(g,v),l)g=w-e.segpts[e.segpts.length-2],v=x-e.segpts[e.segpts.length-1];else if(u||f||c||a){var S=e.allpts,K=S.length,D=mr(S[K-6],S[K-4],S[K-2],.9),T=mr(S[K-5],S[K-3],S[K-1],.9);g=w-D,v=x-T}else g=w-C,v=x-R;e.tgtArrowAngle=Rm(g,v)};up.getArrowWidth=up.getArrowHeight=function(n,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},a=t[n+", "+e];return a||(a=Math.max(Math.pow(n*13.37,.9),29)*e,t[n+", "+e]=a,a)};var d0,h0,Ru={},pi={},sb,ob,Bo,Zm,ul,Ao,Mo,Du,mc,Im,eE,tE,g0,m0,fb,cb=function(e,t,a){a.x=t.x-e.x,a.y=t.y-e.y,a.len=Math.sqrt(a.x*a.x+a.y*a.y),a.nx=a.x/a.len,a.ny=a.y/a.len,a.ang=Math.atan2(a.ny,a.nx)},pR=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},yR=function(e,t,a,u,l){if(e!==fb?cb(t,e,Ru):pR(pi,Ru),cb(t,a,pi),sb=Ru.nx*pi.ny-Ru.ny*pi.nx,ob=Ru.nx*pi.nx-Ru.ny*-pi.ny,ul=Math.asin(Math.max(-1,Math.min(1,sb))),Math.abs(ul)<1e-6){d0=t.x,h0=t.y,Mo=mc=0;return}Bo=1,Zm=!1,ob<0?ul<0?ul=Math.PI+ul:(ul=Math.PI-ul,Bo=-1,Zm=!0):ul>0&&(Bo=-1,Zm=!0),t.radius!==void 0?mc=t.radius:mc=u,Ao=ul/2,Im=Math.min(Ru.len/2,pi.len/2),l?(Du=Math.abs(Math.cos(Ao)*mc/Math.sin(Ao)),Du>Im?(Du=Im,Mo=Math.abs(Du*Math.sin(Ao)/Math.cos(Ao))):Mo=mc):(Du=Math.min(Im,mc),Mo=Math.abs(Du*Math.sin(Ao)/Math.cos(Ao))),g0=t.x+pi.nx*Du,m0=t.y+pi.ny*Du,d0=g0-pi.ny*Mo*Bo,h0=m0+pi.nx*Mo*Bo,eE=t.x+Ru.nx*Du,tE=t.y+Ru.ny*Du,fb=t};function nE(n,e){e.radius===0?n.lineTo(e.cx,e.cy):n.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function G0(n,e,t,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return a===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(yR(n,e,t,a,u),{cx:d0,cy:h0,radius:Mo,startX:eE,startY:tE,stopX:g0,stopY:m0,startAngle:Ru.ang+Math.PI/2*Bo,endAngle:pi.ang-Math.PI/2*Bo,counterClockwise:Zm})}var Gr={};Gr.findMidptPtsEtc=function(n,e){var t=e.posPts,a=e.intersectionPts,u=e.vectorNormInverse,l,f=n.pstyle("source-endpoint"),c=n.pstyle("target-endpoint"),g=f.units!=null&&c.units!=null,v=function(k,z,O,I){var L=I-z,F=O-k,Y=Math.sqrt(F*F+L*L);return{x:-L/Y,y:F/Y}},m=n.pstyle("edge-distances").value;switch(m){case"node-position":l=t;break;case"intersection":l=a;break;case"endpoints":{if(g){var p=this.manualEndptToPx(n.source()[0],f),w=pr(p,2),x=w[0],S=w[1],D=this.manualEndptToPx(n.target()[0],c),T=pr(D,2),C=T[0],R=T[1],M={x1:x,y1:S,x2:C,y2:R};u=v(x,S,C,R),l=M}else un("Edge ".concat(n.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),l=a;break}}return{midptPts:l,vectorNormInverse:u}};Gr.findHaystackPoints=function(n){for(var e=0;e<n.length;e++){var t=n[e],a=t._private,u=a.rscratch;if(!u.haystack){var l=Math.random()*2*Math.PI;u.source={x:Math.cos(l),y:Math.sin(l)},l=Math.random()*2*Math.PI,u.target={x:Math.cos(l),y:Math.sin(l)}}var f=a.source,c=a.target,g=f.position(),v=c.position(),m=f.width(),p=c.width(),w=f.height(),x=c.height(),S=t.pstyle("haystack-radius").value,D=S/2;u.haystackPts=u.allpts=[u.source.x*m*D+g.x,u.source.y*w*D+g.y,u.target.x*p*D+v.x,u.target.y*x*D+v.y],u.midX=(u.allpts[0]+u.allpts[2])/2,u.midY=(u.allpts[1]+u.allpts[3])/2,u.edgeType="haystack",u.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Gr.findSegmentsPoints=function(n,e){var t=n._private.rscratch,a=n.pstyle("segment-weights"),u=n.pstyle("segment-distances"),l=n.pstyle("segment-radii"),f=n.pstyle("radius-type"),c=Math.min(a.pfValue.length,u.pfValue.length),g=l.pfValue[l.pfValue.length-1],v=f.pfValue[f.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var m=0;m<c;m++){var p=a.pfValue[m],w=u.pfValue[m],x=1-p,S=p,D=this.findMidptPtsEtc(n,e),T=D.midptPts,C=D.vectorNormInverse,R={x:T.x1*x+T.x2*S,y:T.y1*x+T.y2*S};t.segpts.push(R.x+C.x*w,R.y+C.y*w),t.radii.push(l.pfValue[m]!==void 0?l.pfValue[m]:g),t.isArcRadius.push((f.pfValue[m]!==void 0?f.pfValue[m]:v)==="arc-radius")}};Gr.findLoopPoints=function(n,e,t,a){var u=n._private.rscratch,l=e.dirCounts,f=e.srcPos,c=n.pstyle("control-point-distances"),g=c?c.pfValue[0]:void 0,v=n.pstyle("loop-direction").pfValue,m=n.pstyle("loop-sweep").pfValue,p=n.pstyle("control-point-step-size").pfValue;u.edgeType="self";var w=t,x=p;a&&(w=0,x=g);var S=v-Math.PI/2,D=S-m/2,T=S+m/2,C=v+"_"+m;w=l[C]===void 0?l[C]=0:++l[C],u.ctrlpts=[f.x+Math.cos(D)*1.4*x*(w/3+1),f.y+Math.sin(D)*1.4*x*(w/3+1),f.x+Math.cos(T)*1.4*x*(w/3+1),f.y+Math.sin(T)*1.4*x*(w/3+1)]};Gr.findCompoundLoopPoints=function(n,e,t,a){var u=n._private.rscratch;u.edgeType="compound";var l=e.srcPos,f=e.tgtPos,c=e.srcW,g=e.srcH,v=e.tgtW,m=e.tgtH,p=n.pstyle("control-point-step-size").pfValue,w=n.pstyle("control-point-distances"),x=w?w.pfValue[0]:void 0,S=t,D=p;a&&(S=0,D=x);var T=50,C={x:l.x-c/2,y:l.y-g/2},R={x:f.x-v/2,y:f.y-m/2},M={x:Math.min(C.x,R.x),y:Math.min(C.y,R.y)},_=.5,k=Math.max(_,Math.log(c*.01)),z=Math.max(_,Math.log(v*.01));u.ctrlpts=[M.x,M.y-(1+Math.pow(T,1.12)/100)*D*(S/3+1)*k,M.x-(1+Math.pow(T,1.12)/100)*D*(S/3+1)*z,M.y]};Gr.findStraightEdgePoints=function(n){n._private.rscratch.edgeType="straight"};Gr.findBezierPoints=function(n,e,t,a,u){var l=n._private.rscratch,f=n.pstyle("control-point-step-size").pfValue,c=n.pstyle("control-point-distances"),g=n.pstyle("control-point-weights"),v=c&&g?Math.min(c.value.length,g.value.length):1,m=c?c.pfValue[0]:void 0,p=g.value[0],w=a;l.edgeType=w?"multibezier":"bezier",l.ctrlpts=[];for(var x=0;x<v;x++){var S=(.5-e.eles.length/2+t)*f*(u?-1:1),D=void 0,T=uw(S);w&&(m=c?c.pfValue[x]:f,p=g.value[x]),a?D=m:D=m!==void 0?T*m:void 0;var C=D!==void 0?D:S,R=1-p,M=p,_=this.findMidptPtsEtc(n,e),k=_.midptPts,z=_.vectorNormInverse,O={x:k.x1*R+k.x2*M,y:k.y1*R+k.y2*M};l.ctrlpts.push(O.x+z.x*C,O.y+z.y*C)}};Gr.findTaxiPoints=function(n,e){var t=n._private.rscratch;t.edgeType="segments";var a="vertical",u="horizontal",l="leftward",f="rightward",c="downward",g="upward",v="auto",m=e.posPts,p=e.srcW,w=e.srcH,x=e.tgtW,S=e.tgtH,D=n.pstyle("edge-distances").value,T=D!=="node-position",C=n.pstyle("taxi-direction").value,R=C,M=n.pstyle("taxi-turn"),_=M.units==="%",k=M.pfValue,z=k<0,O=n.pstyle("taxi-turn-min-distance").pfValue,I=T?(p+x)/2:0,L=T?(w+S)/2:0,F=m.x2-m.x1,Y=m.y2-m.y1,V=function(Ae,Ue){return Ae>0?Math.max(Ae-Ue,0):Math.min(Ae+Ue,0)},W=V(F,I),K=V(Y,L),ee=!1;R===v?C=Math.abs(W)>Math.abs(K)?u:a:R===g||R===c?(C=a,ee=!0):(R===l||R===f)&&(C=u,ee=!0);var X=C===a,Q=X?K:W,j=X?Y:F,le=uw(j),P=!1;!(ee&&(_||z))&&(R===c&&j<0||R===g&&j>0||R===l&&j>0||R===f&&j<0)&&(le*=-1,Q=le*Math.abs(Q),P=!0);var Z;if(_){var ne=k<0?1+k:k;Z=ne*Q}else{var de=k<0?Q:0;Z=de+k*le}var se=function(Ae){return Math.abs(Ae)<O||Math.abs(Ae)>=Math.abs(Q)},we=se(Z),me=se(Math.abs(Q)-Math.abs(Z)),Me=we||me;if(Me&&!P)if(X){var Se=Math.abs(j)<=w/2,ve=Math.abs(F)<=x/2;if(Se){var re=(m.x1+m.x2)/2,be=m.y1,Ne=m.y2;t.segpts=[re,be,re,Ne]}else if(ve){var Pe=(m.y1+m.y2)/2,Fe=m.x1,mt=m.x2;t.segpts=[Fe,Pe,mt,Pe]}else t.segpts=[m.x1,m.y2]}else{var Lt=Math.abs(j)<=p/2,xt=Math.abs(Y)<=S/2;if(Lt){var Xe=(m.y1+m.y2)/2,Ke=m.x1,et=m.x2;t.segpts=[Ke,Xe,et,Xe]}else if(xt){var $e=(m.x1+m.x2)/2,tt=m.y1,lt=m.y2;t.segpts=[$e,tt,$e,lt]}else t.segpts=[m.x2,m.y1]}else if(X){var st=m.y1+Z+(T?w/2*le:0),Et=m.x1,Le=m.x2;t.segpts=[Et,st,Le,st]}else{var G=m.x1+Z+(T?p/2*le:0),fe=m.y1,xe=m.y2;t.segpts=[G,fe,G,xe]}if(t.isRound){var he=n.pstyle("taxi-radius").value,pe=n.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(he),t.isArcRadius=new Array(t.segpts.length/2).fill(pe)}};Gr.tryToCorrectInvalidPoints=function(n,e){var t=n._private.rscratch;if(t.edgeType==="bezier"){var a=e.srcPos,u=e.tgtPos,l=e.srcW,f=e.srcH,c=e.tgtW,g=e.tgtH,v=e.srcShape,m=e.tgtShape,p=e.srcCornerRadius,w=e.tgtCornerRadius,x=e.srcRs,S=e.tgtRs,D=!Ge(t.startX)||!Ge(t.startY),T=!Ge(t.arrowStartX)||!Ge(t.arrowStartY),C=!Ge(t.endX)||!Ge(t.endY),R=!Ge(t.arrowEndX)||!Ge(t.arrowEndY),M=3,_=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth,k=M*_,z=Lo({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),O=z<k,I=Lo({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),L=I<k,F=!1;if(D||T||O){F=!0;var Y={x:t.ctrlpts[0]-a.x,y:t.ctrlpts[1]-a.y},V=Math.sqrt(Y.x*Y.x+Y.y*Y.y),W={x:Y.x/V,y:Y.y/V},K=Math.max(l,f),ee={x:t.ctrlpts[0]+W.x*2*K,y:t.ctrlpts[1]+W.y*2*K},X=v.intersectLine(a.x,a.y,l,f,ee.x,ee.y,0,p,x);O?(t.ctrlpts[0]=t.ctrlpts[0]+W.x*(k-z),t.ctrlpts[1]=t.ctrlpts[1]+W.y*(k-z)):(t.ctrlpts[0]=X[0]+W.x*k,t.ctrlpts[1]=X[1]+W.y*k)}if(C||R||L){F=!0;var Q={x:t.ctrlpts[0]-u.x,y:t.ctrlpts[1]-u.y},j=Math.sqrt(Q.x*Q.x+Q.y*Q.y),le={x:Q.x/j,y:Q.y/j},P=Math.max(l,f),Z={x:t.ctrlpts[0]+le.x*2*P,y:t.ctrlpts[1]+le.y*2*P},ne=m.intersectLine(u.x,u.y,c,g,Z.x,Z.y,0,w,S);L?(t.ctrlpts[0]=t.ctrlpts[0]+le.x*(k-I),t.ctrlpts[1]=t.ctrlpts[1]+le.y*(k-I)):(t.ctrlpts[0]=ne[0]+le.x*k,t.ctrlpts[1]=ne[1]+le.y*k)}F&&this.findEndpoints(n)}};Gr.storeAllpts=function(n){var e=n._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var a,u;e.ctrlpts.length/2%2===0?(a=e.allpts.length/2-1,e.midX=e.allpts[a],e.midY=e.allpts[a+1]):(a=e.allpts.length/2-3,u=.5,e.midX=mr(e.allpts[a],e.allpts[a+2],e.allpts[a+4],u),e.midY=mr(e.allpts[a+1],e.allpts[a+3],e.allpts[a+5],u))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var l=2;l+3<e.allpts.length;l+=2){var f=e.radii[l/2-1],c=e.isArcRadius[l/2-1];e.roundCorners.push(G0({x:e.allpts[l-2],y:e.allpts[l-1]},{x:e.allpts[l],y:e.allpts[l+1],radius:f},{x:e.allpts[l+2],y:e.allpts[l+3]},f,c))}}if(e.segpts.length%4===0){var g=e.segpts.length/2,v=g-2;e.midX=(e.segpts[v]+e.segpts[g])/2,e.midY=(e.segpts[v+1]+e.segpts[g+1])/2}else{var m=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[m],e.midY=e.segpts[m+1];else{var p={x:e.segpts[m],y:e.segpts[m+1]},w=e.roundCorners[m/2],x=[p.x-w.cx,p.y-w.cy],S=w.radius/Math.sqrt(Math.pow(x[0],2)+Math.pow(x[1],2));x=x.map(function(D){return D*S}),e.midX=w.cx+x[0],e.midY=w.cy+x[1],e.midVector=x}}}};Gr.checkForInvalidEdgeWarning=function(n){var e=n[0]._private.rscratch;e.nodesOverlap||Ge(e.startX)&&Ge(e.startY)&&Ge(e.endX)&&Ge(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,un("Edge `"+n.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Gr.findEdgeControlPoints=function(n){var e=this;if(!(!n||n.length===0)){for(var t=this,a=t.cy,u=a.hasCompoundNodes(),l={map:new Bu,get:function(O){var I=this.map.get(O[0]);return I!=null?I.get(O[1]):null},set:function(O,I){var L=this.map.get(O[0]);L==null&&(L=new Bu,this.map.set(O[0],L)),L.set(O[1],I)}},f=[],c=[],g=0;g<n.length;g++){var v=n[g],m=v._private,p=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(p==="haystack"){c.push(v);continue}var w=p==="unbundled-bezier"||p.endsWith("segments")||p==="straight"||p==="straight-triangle"||p.endsWith("taxi"),x=p==="unbundled-bezier"||p==="bezier",S=m.source,D=m.target,T=S.poolIndex(),C=D.poolIndex(),R=[T,C].sort(),M=l.get(R);M==null&&(M={eles:[]},l.set(R,M),f.push(R)),M.eles.push(v),w&&(M.hasUnbundled=!0),x&&(M.hasBezier=!0)}}for(var _=function(O){var I=f[O],L=l.get(I),F=void 0;if(!L.hasUnbundled){var Y=L.eles[0].parallelEdges().filter(function(G){return G.isBundledBezier()});R0(L.eles),Y.forEach(function(G){return L.eles.push(G)}),L.eles.sort(function(G,fe){return G.poolIndex()-fe.poolIndex()})}var V=L.eles[0],W=V.source(),K=V.target();if(W.poolIndex()>K.poolIndex()){var ee=W;W=K,K=ee}var X=L.srcPos=W.position(),Q=L.tgtPos=K.position(),j=L.srcW=W.outerWidth(),le=L.srcH=W.outerHeight(),P=L.tgtW=K.outerWidth(),Z=L.tgtH=K.outerHeight(),ne=L.srcShape=t.nodeShapes[e.getNodeShape(W)],de=L.tgtShape=t.nodeShapes[e.getNodeShape(K)],se=L.srcCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,we=L.tgtCornerRadius=K.pstyle("corner-radius").value==="auto"?"auto":K.pstyle("corner-radius").pfValue,me=L.tgtRs=K._private.rscratch,Me=L.srcRs=W._private.rscratch;L.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Se=0;Se<L.eles.length;Se++){var ve=L.eles[Se],re=ve[0]._private.rscratch,be=ve.pstyle("curve-style").value,Ne=be==="unbundled-bezier"||be.endsWith("segments")||be.endsWith("taxi"),Pe=!W.same(ve.source());if(!L.calculatedIntersection&&W!==K&&(L.hasBezier||L.hasUnbundled)){L.calculatedIntersection=!0;var Fe=ne.intersectLine(X.x,X.y,j,le,Q.x,Q.y,0,se,Me),mt=L.srcIntn=Fe,Lt=de.intersectLine(Q.x,Q.y,P,Z,X.x,X.y,0,we,me),xt=L.tgtIntn=Lt,Xe=L.intersectionPts={x1:Fe[0],x2:Lt[0],y1:Fe[1],y2:Lt[1]},Ke=L.posPts={x1:X.x,x2:Q.x,y1:X.y,y2:Q.y},et=Lt[1]-Fe[1],$e=Lt[0]-Fe[0],tt=Math.sqrt($e*$e+et*et),lt=L.vector={x:$e,y:et},st=L.vectorNorm={x:lt.x/tt,y:lt.y/tt},Et={x:-st.y,y:st.x};L.nodesOverlap=!Ge(tt)||de.checkPoint(Fe[0],Fe[1],0,P,Z,Q.x,Q.y,we,me)||ne.checkPoint(Lt[0],Lt[1],0,j,le,X.x,X.y,se,Me),L.vectorNormInverse=Et,F={nodesOverlap:L.nodesOverlap,dirCounts:L.dirCounts,calculatedIntersection:!0,hasBezier:L.hasBezier,hasUnbundled:L.hasUnbundled,eles:L.eles,srcPos:Q,srcRs:me,tgtPos:X,tgtRs:Me,srcW:P,srcH:Z,tgtW:j,tgtH:le,srcIntn:xt,tgtIntn:mt,srcShape:de,tgtShape:ne,posPts:{x1:Ke.x2,y1:Ke.y2,x2:Ke.x1,y2:Ke.y1},intersectionPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},vector:{x:-lt.x,y:-lt.y},vectorNorm:{x:-st.x,y:-st.y},vectorNormInverse:{x:-Et.x,y:-Et.y}}}var Le=Pe?F:L;re.nodesOverlap=Le.nodesOverlap,re.srcIntn=Le.srcIntn,re.tgtIntn=Le.tgtIntn,re.isRound=be.startsWith("round"),u&&(W.isParent()||W.isChild()||K.isParent()||K.isChild())&&(W.parents().anySame(K)||K.parents().anySame(W)||W.same(K)&&W.isParent())?e.findCompoundLoopPoints(ve,Le,Se,Ne):W===K?e.findLoopPoints(ve,Le,Se,Ne):be.endsWith("segments")?e.findSegmentsPoints(ve,Le):be.endsWith("taxi")?e.findTaxiPoints(ve,Le):be==="straight"||!Ne&&L.eles.length%2===1&&Se===Math.floor(L.eles.length/2)?e.findStraightEdgePoints(ve):e.findBezierPoints(ve,Le,Se,Ne,Pe),e.findEndpoints(ve),e.tryToCorrectInvalidPoints(ve,Le),e.checkForInvalidEdgeWarning(ve),e.storeAllpts(ve),e.storeEdgeProjections(ve),e.calculateArrowAngles(ve),e.recalculateEdgeLabelProjections(ve),e.calculateLabelAngles(ve)}},k=0;k<f.length;k++)_(k);this.findHaystackPoints(c)}};function rE(n){var e=[];if(n!=null){for(var t=0;t<n.length;t+=2){var a=n[t],u=n[t+1];e.push({x:a,y:u})}return e}}Gr.getSegmentPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="segments")return rE(e.segpts)};Gr.getControlPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return rE(e.ctrlpts)};Gr.getEdgeMidpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),{x:e.midX,y:e.midY}};var Th={};Th.manualEndptToPx=function(n,e){var t=this,a=n.position(),u=n.outerWidth(),l=n.outerHeight(),f=n._private.rscratch;if(e.value.length===2){var c=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(c[0]=c[0]*u),e.units[1]==="%"&&(c[1]=c[1]*l),c[0]+=a.x,c[1]+=a.y,c}else{var g=e.pfValue[0];g=-Math.PI/2+g;var v=2*Math.max(u,l),m=[a.x+Math.cos(g)*v,a.y+Math.sin(g)*v];return t.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,u,l,m[0],m[1],0,n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,f)}};Th.findEndpoints=function(n){var e=this,t,a=n.source()[0],u=n.target()[0],l=a.position(),f=u.position(),c=n.pstyle("target-arrow-shape").value,g=n.pstyle("source-arrow-shape").value,v=n.pstyle("target-distance-from-node").pfValue,m=n.pstyle("source-distance-from-node").pfValue,p=a._private.rscratch,w=u._private.rscratch,x=n.pstyle("curve-style").value,S=n._private.rscratch,D=S.edgeType,T=x==="taxi",C=D==="self"||D==="compound",R=D==="bezier"||D==="multibezier"||C,M=D!=="bezier",_=D==="straight"||D==="segments",k=D==="segments",z=R||M||_,O=C||T,I=n.pstyle("source-endpoint"),L=O?"outside-to-node":I.value,F=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue,Y=n.pstyle("target-endpoint"),V=O?"outside-to-node":Y.value,W=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;S.srcManEndpt=I,S.tgtManEndpt=Y;var K,ee,X,Q;if(R){var j=[S.ctrlpts[0],S.ctrlpts[1]],le=M?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:j;K=le,ee=j}else if(_){var P=k?S.segpts.slice(0,2):[f.x,f.y],Z=k?S.segpts.slice(S.segpts.length-2):[l.x,l.y];K=Z,ee=P}if(V==="inside-to-node")t=[f.x,f.y];else if(Y.units)t=this.manualEndptToPx(u,Y);else if(V==="outside-to-line")t=S.tgtIntn;else if(V==="outside-to-node"||V==="outside-to-node-or-label"?X=K:(V==="outside-to-line"||V==="outside-to-line-or-label")&&(X=[l.x,l.y]),t=e.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,u.outerWidth(),u.outerHeight(),X[0],X[1],0,W,w),V==="outside-to-node-or-label"||V==="outside-to-line-or-label"){var ne=u._private.rscratch,de=ne.labelWidth,se=ne.labelHeight,we=ne.labelX,me=ne.labelY,Me=de/2,Se=se/2,ve=u.pstyle("text-valign").value;ve==="top"?me-=Se:ve==="bottom"&&(me+=Se);var re=u.pstyle("text-halign").value;re==="left"?we-=Me:re==="right"&&(we+=Me);var be=sh(X[0],X[1],[we-Me,me-Se,we+Me,me-Se,we+Me,me+Se,we-Me,me+Se],f.x,f.y);if(be.length>0){var Ne=l,Pe=Do(Ne,bc(t)),Fe=Do(Ne,bc(be)),mt=Pe;if(Fe<Pe&&(t=be,mt=Fe),be.length>2){var Lt=Do(Ne,{x:be[2],y:be[3]});Lt<mt&&(t=[be[2],be[3]])}}}var xt=Mm(t,K,e.arrowShapes[c].spacing(n)+v),Xe=Mm(t,K,e.arrowShapes[c].gap(n)+v);if(S.endX=Xe[0],S.endY=Xe[1],S.arrowEndX=xt[0],S.arrowEndY=xt[1],L==="inside-to-node")t=[l.x,l.y];else if(I.units)t=this.manualEndptToPx(a,I);else if(L==="outside-to-line")t=S.srcIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?Q=ee:(L==="outside-to-line"||L==="outside-to-line-or-label")&&(Q=[f.x,f.y]),t=e.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),Q[0],Q[1],0,F,p),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var Ke=a._private.rscratch,et=Ke.labelWidth,$e=Ke.labelHeight,tt=Ke.labelX,lt=Ke.labelY,st=et/2,Et=$e/2,Le=a.pstyle("text-valign").value;Le==="top"?lt-=Et:Le==="bottom"&&(lt+=Et);var G=a.pstyle("text-halign").value;G==="left"?tt-=st:G==="right"&&(tt+=st);var fe=sh(Q[0],Q[1],[tt-st,lt-Et,tt+st,lt-Et,tt+st,lt+Et,tt-st,lt+Et],l.x,l.y);if(fe.length>0){var xe=f,he=Do(xe,bc(t)),pe=Do(xe,bc(fe)),He=he;if(pe<he&&(t=[fe[0],fe[1]],He=pe),fe.length>2){var Ae=Do(xe,{x:fe[2],y:fe[3]});Ae<He&&(t=[fe[2],fe[3]])}}}var Ue=Mm(t,ee,e.arrowShapes[g].spacing(n)+m),nt=Mm(t,ee,e.arrowShapes[g].gap(n)+m);S.startX=nt[0],S.startY=nt[1],S.arrowStartX=Ue[0],S.arrowStartY=Ue[1],z&&(!Ge(S.startX)||!Ge(S.startY)||!Ge(S.endX)||!Ge(S.endY)?S.badLine=!0:S.badLine=!1)};Th.getSourceEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Th.getTargetEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var V0={};function bR(n,e,t){for(var a=function(v,m,p,w){return mr(v,m,p,w)},u=e._private,l=u.rstyle.bezierPts,f=0;f<n.bezierProjPcts.length;f++){var c=n.bezierProjPcts[f];l.push({x:a(t[0],t[2],t[4],c),y:a(t[1],t[3],t[5],c)})}}V0.storeEdgeProjections=function(n){var e=n._private,t=e.rscratch,a=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,a==="multibezier"||a==="bezier"||a==="self"||a==="compound"){e.rstyle.bezierPts=[];for(var u=0;u+5<t.allpts.length;u+=4)bR(this,n,t.allpts.slice(u,u+6))}else if(a==="segments")for(var l=e.rstyle.linePts=[],u=0;u+1<t.allpts.length;u+=2)l.push({x:t.allpts[u],y:t.allpts[u+1]});else if(a==="haystack"){var f=t.haystackPts;e.rstyle.haystackPts=[{x:f[0],y:f[1]},{x:f[2],y:f[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth};V0.recalculateEdgeProjections=function(n){this.findEdgeControlPoints(n)};var _u={};_u.recalculateNodeLabelProjection=function(n){var e=n.pstyle("label").strValue;if(!ls(e)){var t,a,u=n._private,l=n.width(),f=n.height(),c=n.padding(),g=n.position(),v=n.pstyle("text-halign").strValue,m=n.pstyle("text-valign").strValue,p=u.rscratch,w=u.rstyle;switch(v){case"left":t=g.x-l/2-c;break;case"right":t=g.x+l/2+c;break;default:t=g.x}switch(m){case"top":a=g.y-f/2-c;break;case"bottom":a=g.y+f/2+c;break;default:a=g.y}p.labelX=t,p.labelY=a,w.labelX=t,w.labelY=a,this.calculateLabelAngles(n),this.applyLabelDimensions(n)}};var aE=function(e,t){var a=Math.atan(t/e);return e===0&&a<0&&(a=a*-1),a},iE=function(e,t){var a=t.x-e.x,u=t.y-e.y;return aE(a,u)},wR=function(e,t,a,u){var l=lh(0,u-.001,1),f=lh(0,u+.001,1),c=Ec(e,t,a,l),g=Ec(e,t,a,f);return iE(c,g)};_u.recalculateEdgeLabelProjections=function(n){var e,t=n._private,a=t.rscratch,u=this,l={mid:n.pstyle("label").strValue,source:n.pstyle("source-label").strValue,target:n.pstyle("target-label").strValue};if(l.mid||l.source||l.target){e={x:a.midX,y:a.midY};var f=function(p,w,x){rs(t.rscratch,p,w,x),rs(t.rstyle,p,w,x)};f("labelX",null,e.x),f("labelY",null,e.y);var c=aE(a.midDispX,a.midDispY);f("labelAutoAngle",null,c);var g=function m(){if(m.cache)return m.cache;for(var p=[],w=0;w+5<a.allpts.length;w+=4){var x={x:a.allpts[w],y:a.allpts[w+1]},S={x:a.allpts[w+2],y:a.allpts[w+3]},D={x:a.allpts[w+4],y:a.allpts[w+5]};p.push({p0:x,p1:S,p2:D,startDist:0,length:0,segments:[]})}var T=t.rstyle.bezierPts,C=u.bezierProjPcts.length;function R(O,I,L,F,Y){var V=Lo(I,L),W=O.segments[O.segments.length-1],K={p0:I,p1:L,t0:F,t1:Y,startDist:W?W.startDist+W.length:0,length:V};O.segments.push(K),O.length+=V}for(var M=0;M<p.length;M++){var _=p[M],k=p[M-1];k&&(_.startDist=k.startDist+k.length),R(_,_.p0,T[M*C],0,u.bezierProjPcts[0]);for(var z=0;z<C-1;z++)R(_,T[M*C+z],T[M*C+z+1],u.bezierProjPcts[z],u.bezierProjPcts[z+1]);R(_,T[M*C+C-1],_.p2,u.bezierProjPcts[C-1],1)}return m.cache=p},v=function(p){var w,x=p==="source";if(l[p]){var S=n.pstyle(p+"-text-offset").pfValue;switch(a.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var D=g(),T,C=0,R=0,M=0;M<D.length;M++){for(var _=D[x?M:D.length-1-M],k=0;k<_.segments.length;k++){var z=_.segments[x?k:_.segments.length-1-k],O=M===D.length-1&&k===_.segments.length-1;if(C=R,R+=z.length,R>=S||O){T={cp:_,segment:z};break}}if(T)break}var I=T.cp,L=T.segment,F=(S-C)/L.length,Y=L.t1-L.t0,V=x?L.t0+Y*F:L.t1-Y*F;V=lh(0,V,1),e=Ec(I.p0,I.p1,I.p2,V),w=wR(I.p0,I.p1,I.p2,V);break}case"straight":case"segments":case"haystack":{for(var W=0,K,ee,X,Q,j=a.allpts.length,le=0;le+3<j&&(x?(X={x:a.allpts[le],y:a.allpts[le+1]},Q={x:a.allpts[le+2],y:a.allpts[le+3]}):(X={x:a.allpts[j-2-le],y:a.allpts[j-1-le]},Q={x:a.allpts[j-4-le],y:a.allpts[j-3-le]}),K=Lo(X,Q),ee=W,W+=K,!(W>=S));le+=2);var P=S-ee,Z=P/K;Z=lh(0,Z,1),e=DT(X,Q,Z),w=iE(X,Q);break}}f("labelX",p,e.x),f("labelY",p,e.y),f("labelAutoAngle",p,w)}};v("source"),v("target"),this.applyLabelDimensions(n)}};_u.applyLabelDimensions=function(n){this.applyPrefixedLabelDimensions(n),n.isEdge()&&(this.applyPrefixedLabelDimensions(n,"source"),this.applyPrefixedLabelDimensions(n,"target"))};_u.applyPrefixedLabelDimensions=function(n,e){var t=n._private,a=this.getLabelText(n,e),u=this.calculateLabelDimensions(n,a),l=n.pstyle("line-height").pfValue,f=n.pstyle("text-wrap").strValue,c=Wi(t.rscratch,"labelWrapCachedLines",e)||[],g=f!=="wrap"?1:Math.max(c.length,1),v=u.height/g,m=v*l,p=u.width,w=u.height+(g-1)*(l-1)*v;rs(t.rstyle,"labelWidth",e,p),rs(t.rscratch,"labelWidth",e,p),rs(t.rstyle,"labelHeight",e,w),rs(t.rscratch,"labelHeight",e,w),rs(t.rscratch,"labelLineHeight",e,m)};_u.getLabelText=function(n,e){var t=n._private,a=e?e+"-":"",u=n.pstyle(a+"label").strValue,l=n.pstyle("text-transform").value,f=function(de,se){return se?(rs(t.rscratch,de,e,se),se):Wi(t.rscratch,de,e)};if(!u)return"";l=="none"||(l=="uppercase"?u=u.toUpperCase():l=="lowercase"&&(u=u.toLowerCase()));var c=n.pstyle("text-wrap").value;if(c==="wrap"){var g=f("labelKey");if(g!=null&&f("labelWrapKey")===g)return f("labelWrapCachedText");for(var v="",m=u.split(`
`),p=n.pstyle("text-max-width").pfValue,w=n.pstyle("text-overflow-wrap").value,x=w==="anywhere",S=[],D=/[\s\u200b]+|$/g,T=0;T<m.length;T++){var C=m[T],R=this.calculateLabelDimensions(n,C),M=R.width;if(x){var _=C.split("").join(v);C=_}if(M>p){var k=C.matchAll(D),z="",O=0,I=Qa(k),L;try{for(I.s();!(L=I.n()).done;){var F=L.value,Y=F[0],V=C.substring(O,F.index);O=F.index+Y.length;var W=z.length===0?V:z+V+Y,K=this.calculateLabelDimensions(n,W),ee=K.width;ee<=p?z+=V+Y:(z&&S.push(z),z=V+Y)}}catch(ne){I.e(ne)}finally{I.f()}z.match(/^[\s\u200b]+$/)||S.push(z)}else S.push(C)}f("labelWrapCachedLines",S),u=f("labelWrapCachedText",S.join(`
`)),f("labelWrapKey",g)}else if(c==="ellipsis"){var X=n.pstyle("text-max-width").pfValue,Q="",j="",le=!1;if(this.calculateLabelDimensions(n,u).width<X)return u;for(var P=0;P<u.length;P++){var Z=this.calculateLabelDimensions(n,Q+u[P]+j).width;if(Z>X)break;Q+=u[P],P===u.length-1&&(le=!0)}return le||(Q+=j),Q}return u};_u.getLabelJustification=function(n){var e=n.pstyle("text-justification").strValue,t=n.pstyle("text-halign").strValue;if(e==="auto")if(n.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};_u.calculateLabelDimensions=function(n,e){var t=this,a=t.cy.window(),u=a.document,l=ss(e,n._private.labelDimsKey),f=t.labelDimCache||(t.labelDimCache=[]),c=f[l];if(c!=null)return c;var g=0,v=n.pstyle("font-style").strValue,m=n.pstyle("font-size").pfValue,p=n.pstyle("font-family").strValue,w=n.pstyle("font-weight").strValue,x=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!x){x=this.labelCalcCanvas=u.createElement("canvas"),S=this.labelCalcCanvasContext=x.getContext("2d");var D=x.style;D.position="absolute",D.left="-9999px",D.top="-9999px",D.zIndex="-1",D.visibility="hidden",D.pointerEvents="none"}S.font="".concat(v," ").concat(w," ").concat(m,"px ").concat(p);for(var T=0,C=0,R=e.split(`
`),M=0;M<R.length;M++){var _=R[M],k=S.measureText(_),z=Math.ceil(k.width),O=m;T=Math.max(z,T),C+=O}return T+=g,C+=g,f[l]={width:T,height:C}};_u.calculateLabelAngle=function(n,e){var t=n._private,a=t.rscratch,u=n.isEdge(),l=e?e+"-":"",f=n.pstyle(l+"text-rotation"),c=f.strValue;return c==="none"?0:u&&c==="autorotate"?a.labelAutoAngle:c==="autorotate"?0:f.pfValue};_u.calculateLabelAngles=function(n){var e=this,t=n.isEdge(),a=n._private,u=a.rscratch;u.labelAngle=e.calculateLabelAngle(n),t&&(u.sourceLabelAngle=e.calculateLabelAngle(n,"source"),u.targetLabelAngle=e.calculateLabelAngle(n,"target"))};var uE={},vb=28,db=!1;uE.getNodeShape=function(n){var e=this,t=n.pstyle("shape").value;if(t==="cutrectangle"&&(n.width()<vb||n.height()<vb))return db||(un("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),db=!0),"rectangle";if(n.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var a=n.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(a).name}return t};var Cp={};Cp.registerCalculationListeners=function(){var n=this.cy,e=n.collection(),t=this,a=function(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(f),c)for(var g=0;g<f.length;g++){var v=f[g],m=v._private,p=m.rstyle;p.clean=!1,p.cleanConnected=!1}};t.binder(n).on("bounds.* dirty.*",function(f){var c=f.target;a(c)}).on("style.* background.*",function(f){var c=f.target;a(c,!1)});var u=function(f){if(f){var c=t.onUpdateEleCalcsFns;e.cleanStyle();for(var g=0;g<e.length;g++){var v=e[g],m=v._private.rstyle;v.isNode()&&!m.cleanConnected&&(a(v.connectedEdges()),m.cleanConnected=!0)}if(c)for(var p=0;p<c.length;p++){var w=c[p];w(f,e)}t.recalculateRenderedStyle(e),e=n.collection()}};t.flushRenderedStyleQueue=function(){u(!0)},t.beforeRender(u,t.beforeRenderPriorities.eleCalcs)};Cp.onUpdateEleCalcs=function(n){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(n)};Cp.recalculateRenderedStyle=function(n,e){var t=function(_){return _._private.rstyle.cleanConnected},a=[],u=[];if(!this.destroyed){e===void 0&&(e=!0);for(var l=0;l<n.length;l++){var f=n[l],c=f._private,g=c.rstyle;f.isEdge()&&(!t(f.source())||!t(f.target()))&&(g.clean=!1),!(e&&g.clean||f.removed())&&f.pstyle("display").value!=="none"&&(c.group==="nodes"?u.push(f):a.push(f),g.clean=!0)}for(var v=0;v<u.length;v++){var m=u[v],p=m._private,w=p.rstyle,x=m.position();this.recalculateNodeLabelProjection(m),w.nodeX=x.x,w.nodeY=x.y,w.nodeW=m.pstyle("width").pfValue,w.nodeH=m.pstyle("height").pfValue}this.recalculateEdgeProjections(a);for(var S=0;S<a.length;S++){var D=a[S],T=D._private,C=T.rstyle,R=T.rscratch;C.srcX=R.arrowStartX,C.srcY=R.arrowStartY,C.tgtX=R.arrowEndX,C.tgtY=R.arrowEndY,C.midX=R.midX,C.midY=R.midY,C.labelAngle=R.labelAngle,C.sourceLabelAngle=R.sourceLabelAngle,C.targetLabelAngle=R.targetLabelAngle}}};var Ap={};Ap.updateCachedGrabbedEles=function(){var n=this.cachedZSortedEles;if(n){n.drag=[],n.nondrag=[];for(var e=[],t=0;t<n.length;t++){var a=n[t],u=a._private.rscratch;a.grabbed()&&!a.isParent()?e.push(a):u.inDragLayer?n.drag.push(a):n.nondrag.push(a)}for(var t=0;t<e.length;t++){var a=e[t];n.drag.push(a)}}};Ap.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Ap.getCachedZSortedEles=function(n){if(n||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Gw),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var lE={};[Ho,up,Gr,Th,V0,_u,uE,Cp,Ap].forEach(function(n){vt(lE,n)});var sE={};sE.getCachedImage=function(n,e,t){var a=this,u=a.imageCache=a.imageCache||{},l=u[n];if(l)return l.image.complete||l.image.addEventListener("load",t),l.image;l=u[n]=u[n]||{};var f=l.image=new Image;f.addEventListener("load",t),f.addEventListener("error",function(){f.error=!0});var c="data:",g=n.substring(0,c.length).toLowerCase()===c;return g||(e=e==="null"?null:e,f.crossOrigin=e),f.src=n,f};var Ic={};Ic.registerBinding=function(n,e,t,a){var u=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(n)){for(var l=[],f=0;f<n.length;f++){var c=n[f];if(c!==void 0){var g=this.binder(c);l.push(g.on.apply(g,u))}}return l}var g=this.binder(n);return g.on.apply(g,u)};Ic.binder=function(n){var e=this,t=e.cy.window(),a=n===t||n===t.document||n===t.document.body||ZS(n);if(e.supportsPassiveEvents==null){var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){return u=!0,!0}});t.addEventListener("test",null,l)}catch{}e.supportsPassiveEvents=u}var f=function(g,v,m){var p=Array.prototype.slice.call(arguments);return a&&e.supportsPassiveEvents&&(p[2]={capture:m??!1,passive:!1,once:!1}),e.bindings.push({target:n,args:p}),(n.addEventListener||n.on).apply(n,p),this};return{on:f,addEventListener:f,addListener:f,bind:f}};Ic.nodeIsDraggable=function(n){return n&&n.isNode()&&!n.locked()&&n.grabbable()};Ic.nodeIsGrabbable=function(n){return this.nodeIsDraggable(n)&&n.interactive()};Ic.load=function(){var n=this,e=n.cy.window(),t=function(G){return G.selected()},a=function(G){var fe=G.getRootNode();if(fe&&fe.nodeType===11&&fe.host!==void 0)return fe},u=function(G,fe,xe,he){G==null&&(G=n.cy);for(var pe=0;pe<fe.length;pe++){var He=fe[pe];G.emit({originalEvent:xe,type:He,position:he})}},l=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},f=function(G,fe){var xe=!0;if(n.cy.hasCompoundNodes()&&G&&G.pannable())for(var he=0;fe&&he<fe.length;he++){var G=fe[he];if(G.isNode()&&G.isParent()&&!G.pannable()){xe=!1;break}}else xe=!0;return xe},c=function(G){G[0]._private.grabbed=!0},g=function(G){G[0]._private.grabbed=!1},v=function(G){G[0]._private.rscratch.inDragLayer=!0},m=function(G){G[0]._private.rscratch.inDragLayer=!1},p=function(G){G[0]._private.rscratch.isGrabTarget=!0},w=function(G){G[0]._private.rscratch.isGrabTarget=!1},x=function(G,fe){var xe=fe.addToList,he=xe.has(G);!he&&G.grabbable()&&!G.locked()&&(xe.merge(G),c(G))},S=function(G,fe){if(G.cy().hasCompoundNodes()&&!(fe.inDragLayer==null&&fe.addToList==null)){var xe=G.descendants();fe.inDragLayer&&(xe.forEach(v),xe.connectedEdges().forEach(v)),fe.addToList&&x(xe,fe)}},D=function(G,fe){fe=fe||{};var xe=G.cy().hasCompoundNodes();fe.inDragLayer&&(G.forEach(v),G.neighborhood().stdFilter(function(he){return!xe||he.isEdge()}).forEach(v)),fe.addToList&&G.forEach(function(he){x(he,fe)}),S(G,fe),R(G,{inDragLayer:fe.inDragLayer}),n.updateCachedGrabbedEles()},T=D,C=function(G){G&&(n.getCachedZSortedEles().forEach(function(fe){g(fe),m(fe),w(fe)}),n.updateCachedGrabbedEles())},R=function(G,fe){if(!(fe.inDragLayer==null&&fe.addToList==null)&&G.cy().hasCompoundNodes()){var xe=G.ancestors().orphans();if(!xe.same(G)){var he=xe.descendants().spawnSelf().merge(xe).unmerge(G).unmerge(G.descendants()),pe=he.connectedEdges();fe.inDragLayer&&(pe.forEach(v),he.forEach(v)),fe.addToList&&he.forEach(function(He){x(He,fe)})}}},M=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},_=typeof MutationObserver<"u",k=typeof ResizeObserver<"u";_?(n.removeObserver=new MutationObserver(function(Le){for(var G=0;G<Le.length;G++){var fe=Le[G],xe=fe.removedNodes;if(xe)for(var he=0;he<xe.length;he++){var pe=xe[he];if(pe===n.container){n.destroy();break}}}}),n.container.parentNode&&n.removeObserver.observe(n.container.parentNode,{childList:!0})):n.registerBinding(n.container,"DOMNodeRemoved",function(Le){n.destroy()});var z=wh(function(){n.cy.resize()},100);_&&(n.styleObserver=new MutationObserver(z),n.styleObserver.observe(n.container,{attributes:!0})),n.registerBinding(e,"resize",z),k&&(n.resizeObserver=new ResizeObserver(z),n.resizeObserver.observe(n.container));var O=function(G,fe){for(;G!=null;)fe(G),G=G.parentNode},I=function(){n.invalidateContainerClientCoordsCache()};O(n.container,function(Le){n.registerBinding(Le,"transitionend",I),n.registerBinding(Le,"animationend",I),n.registerBinding(Le,"scroll",I)}),n.registerBinding(n.container,"contextmenu",function(Le){Le.preventDefault()});var L=function(){return n.selection[4]!==0},F=function(G){for(var fe=n.findContainerClientCoords(),xe=fe[0],he=fe[1],pe=fe[2],He=fe[3],Ae=G.touches?G.touches:[G],Ue=!1,nt=0;nt<Ae.length;nt++){var at=Ae[nt];if(xe<=at.clientX&&at.clientX<=xe+pe&&he<=at.clientY&&at.clientY<=he+He){Ue=!0;break}}if(!Ue)return!1;for(var Ve=n.container,dt=G.target,pt=dt.parentNode,ot=!1;pt;){if(pt===Ve){ot=!0;break}pt=pt.parentNode}return!!ot};n.registerBinding(n.container,"mousedown",function(G){if(F(G)&&!(n.hoverData.which===1&&G.which!==1)){G.preventDefault(),M(),n.hoverData.capture=!0,n.hoverData.which=G.which;var fe=n.cy,xe=[G.clientX,G.clientY],he=n.projectIntoViewport(xe[0],xe[1]),pe=n.selection,He=n.findNearestElements(he[0],he[1],!0,!1),Ae=He[0],Ue=n.dragData.possibleDragElements;n.hoverData.mdownPos=he,n.hoverData.mdownGPos=xe;var nt=function(){n.hoverData.tapholdCancelled=!1,clearTimeout(n.hoverData.tapholdTimeout),n.hoverData.tapholdTimeout=setTimeout(function(){if(!n.hoverData.tapholdCancelled){var qt=n.hoverData.down;qt?qt.emit({originalEvent:G,type:"taphold",position:{x:he[0],y:he[1]}}):fe.emit({originalEvent:G,type:"taphold",position:{x:he[0],y:he[1]}})}},n.tapholdDuration)};if(G.which==3){n.hoverData.cxtStarted=!0;var at={originalEvent:G,type:"cxttapstart",position:{x:he[0],y:he[1]}};Ae?(Ae.activate(),Ae.emit(at),n.hoverData.down=Ae):fe.emit(at),n.hoverData.downTime=new Date().getTime(),n.hoverData.cxtDragged=!1}else if(G.which==1){Ae&&Ae.activate();{if(Ae!=null&&n.nodeIsGrabbable(Ae)){var Ve=function(qt){return{originalEvent:G,type:qt,position:{x:he[0],y:he[1]}}},dt=function(qt){qt.emit(Ve("grab"))};if(p(Ae),!Ae.selected())Ue=n.dragData.possibleDragElements=fe.collection(),T(Ae,{addToList:Ue}),Ae.emit(Ve("grabon")).emit(Ve("grab"));else{Ue=n.dragData.possibleDragElements=fe.collection();var pt=fe.$(function(ot){return ot.isNode()&&ot.selected()&&n.nodeIsGrabbable(ot)});D(pt,{addToList:Ue}),Ae.emit(Ve("grabon")),pt.forEach(dt)}n.redrawHint("eles",!0),n.redrawHint("drag",!0)}n.hoverData.down=Ae,n.hoverData.downs=He,n.hoverData.downTime=new Date().getTime()}u(Ae,["mousedown","tapstart","vmousedown"],G,{x:he[0],y:he[1]}),Ae==null?(pe[4]=1,n.data.bgActivePosistion={x:he[0],y:he[1]},n.redrawHint("select",!0),n.redraw()):Ae.pannable()&&(pe[4]=1),nt()}pe[0]=pe[2]=he[0],pe[1]=pe[3]=he[1]}},!1);var Y=a(n.container);n.registerBinding([e,Y],"mousemove",function(G){var fe=n.hoverData.capture;if(!(!fe&&!F(G))){var xe=!1,he=n.cy,pe=he.zoom(),He=[G.clientX,G.clientY],Ae=n.projectIntoViewport(He[0],He[1]),Ue=n.hoverData.mdownPos,nt=n.hoverData.mdownGPos,at=n.selection,Ve=null;!n.hoverData.draggingEles&&!n.hoverData.dragging&&!n.hoverData.selecting&&(Ve=n.findNearestElement(Ae[0],Ae[1],!0,!1));var dt=n.hoverData.last,pt=n.hoverData.down,ot=[Ae[0]-at[2],Ae[1]-at[3]],qt=n.dragData.possibleDragElements,$t;if(nt){var _n=He[0]-nt[0],jn=_n*_n,cn=He[1]-nt[1],Pn=cn*cn,Dn=jn+Pn;n.hoverData.isOverThresholdDrag=$t=Dn>=n.desktopTapThreshold2}var er=l(G);$t&&(n.hoverData.tapholdCancelled=!0);var Yn=function(){var vn=n.hoverData.dragDelta=n.hoverData.dragDelta||[];vn.length===0?(vn.push(ot[0]),vn.push(ot[1])):(vn[0]+=ot[0],vn[1]+=ot[1])};xe=!0,u(Ve,["mousemove","vmousemove","tapdrag"],G,{x:Ae[0],y:Ae[1]});var or=function(){n.data.bgActivePosistion=void 0,n.hoverData.selecting||he.emit({originalEvent:G,type:"boxstart",position:{x:Ae[0],y:Ae[1]}}),at[4]=1,n.hoverData.selecting=!0,n.redrawHint("select",!0),n.redraw()};if(n.hoverData.which===3){if($t){var fr={originalEvent:G,type:"cxtdrag",position:{x:Ae[0],y:Ae[1]}};pt?pt.emit(fr):he.emit(fr),n.hoverData.cxtDragged=!0,(!n.hoverData.cxtOver||Ve!==n.hoverData.cxtOver)&&(n.hoverData.cxtOver&&n.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:Ae[0],y:Ae[1]}}),n.hoverData.cxtOver=Ve,Ve&&Ve.emit({originalEvent:G,type:"cxtdragover",position:{x:Ae[0],y:Ae[1]}}))}}else if(n.hoverData.dragging){if(xe=!0,he.panningEnabled()&&he.userPanningEnabled()){var Vr;if(n.hoverData.justStartedPan){var Br=n.hoverData.mdownPos;Vr={x:(Ae[0]-Br[0])*pe,y:(Ae[1]-Br[1])*pe},n.hoverData.justStartedPan=!1}else Vr={x:ot[0]*pe,y:ot[1]*pe};he.panBy(Vr),he.emit("dragpan"),n.hoverData.dragged=!0}Ae=n.projectIntoViewport(G.clientX,G.clientY)}else if(at[4]==1&&(pt==null||pt.pannable())){if($t){if(!n.hoverData.dragging&&he.boxSelectionEnabled()&&(er||!he.panningEnabled()||!he.userPanningEnabled()))or();else if(!n.hoverData.selecting&&he.panningEnabled()&&he.userPanningEnabled()){var va=f(pt,n.hoverData.downs);va&&(n.hoverData.dragging=!0,n.hoverData.justStartedPan=!0,at[4]=0,n.data.bgActivePosistion=bc(Ue),n.redrawHint("select",!0),n.redraw())}pt&&pt.pannable()&&pt.active()&&pt.unactivate()}}else{if(pt&&pt.pannable()&&pt.active()&&pt.unactivate(),(!pt||!pt.grabbed())&&Ve!=dt&&(dt&&u(dt,["mouseout","tapdragout"],G,{x:Ae[0],y:Ae[1]}),Ve&&u(Ve,["mouseover","tapdragover"],G,{x:Ae[0],y:Ae[1]}),n.hoverData.last=Ve),pt)if($t){if(he.boxSelectionEnabled()&&er)pt&&pt.grabbed()&&(C(qt),pt.emit("freeon"),qt.emit("free"),n.dragData.didDrag&&(pt.emit("dragfreeon"),qt.emit("dragfree"))),or();else if(pt&&pt.grabbed()&&n.nodeIsDraggable(pt)){var Xn=!n.dragData.didDrag;Xn&&n.redrawHint("eles",!0),n.dragData.didDrag=!0,n.hoverData.draggingEles||D(qt,{inDragLayer:!0});var Hn={x:0,y:0};if(Ge(ot[0])&&Ge(ot[1])&&(Hn.x+=ot[0],Hn.y+=ot[1],Xn)){var En=n.hoverData.dragDelta;En&&Ge(En[0])&&Ge(En[1])&&(Hn.x+=En[0],Hn.y+=En[1])}n.hoverData.draggingEles=!0,qt.silentShift(Hn).emit("position drag"),n.redrawHint("drag",!0),n.redraw()}}else Yn();xe=!0}if(at[2]=Ae[0],at[3]=Ae[1],xe)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1);var V,W,K;n.registerBinding(e,"mouseup",function(G){if(!(n.hoverData.which===1&&G.which!==1&&n.hoverData.capture)){var fe=n.hoverData.capture;if(fe){n.hoverData.capture=!1;var xe=n.cy,he=n.projectIntoViewport(G.clientX,G.clientY),pe=n.selection,He=n.findNearestElement(he[0],he[1],!0,!1),Ae=n.dragData.possibleDragElements,Ue=n.hoverData.down,nt=l(G);if(n.data.bgActivePosistion&&(n.redrawHint("select",!0),n.redraw()),n.hoverData.tapholdCancelled=!0,n.data.bgActivePosistion=void 0,Ue&&Ue.unactivate(),n.hoverData.which===3){var at={originalEvent:G,type:"cxttapend",position:{x:he[0],y:he[1]}};if(Ue?Ue.emit(at):xe.emit(at),!n.hoverData.cxtDragged){var Ve={originalEvent:G,type:"cxttap",position:{x:he[0],y:he[1]}};Ue?Ue.emit(Ve):xe.emit(Ve)}n.hoverData.cxtDragged=!1,n.hoverData.which=null}else if(n.hoverData.which===1){if(u(He,["mouseup","tapend","vmouseup"],G,{x:he[0],y:he[1]}),!n.dragData.didDrag&&!n.hoverData.dragged&&!n.hoverData.selecting&&!n.hoverData.isOverThresholdDrag&&(u(Ue,["click","tap","vclick"],G,{x:he[0],y:he[1]}),W=!1,G.timeStamp-K<=xe.multiClickDebounceTime()?(V&&clearTimeout(V),W=!0,K=null,u(Ue,["dblclick","dbltap","vdblclick"],G,{x:he[0],y:he[1]})):(V=setTimeout(function(){W||u(Ue,["oneclick","onetap","voneclick"],G,{x:he[0],y:he[1]})},xe.multiClickDebounceTime()),K=G.timeStamp)),Ue==null&&!n.dragData.didDrag&&!n.hoverData.selecting&&!n.hoverData.dragged&&!l(G)&&(xe.$(t).unselect(["tapunselect"]),Ae.length>0&&n.redrawHint("eles",!0),n.dragData.possibleDragElements=Ae=xe.collection()),He==Ue&&!n.dragData.didDrag&&!n.hoverData.selecting&&He!=null&&He._private.selectable&&(n.hoverData.dragging||(xe.selectionType()==="additive"||nt?He.selected()?He.unselect(["tapunselect"]):He.select(["tapselect"]):nt||(xe.$(t).unmerge(He).unselect(["tapunselect"]),He.select(["tapselect"]))),n.redrawHint("eles",!0)),n.hoverData.selecting){var dt=xe.collection(n.getAllInBox(pe[0],pe[1],pe[2],pe[3]));n.redrawHint("select",!0),dt.length>0&&n.redrawHint("eles",!0),xe.emit({type:"boxend",originalEvent:G,position:{x:he[0],y:he[1]}});var pt=function($t){return $t.selectable()&&!$t.selected()};xe.selectionType()==="additive"||nt||xe.$(t).unmerge(dt).unselect(),dt.emit("box").stdFilter(pt).select().emit("boxselect"),n.redraw()}if(n.hoverData.dragging&&(n.hoverData.dragging=!1,n.redrawHint("select",!0),n.redrawHint("eles",!0),n.redraw()),!pe[4]){n.redrawHint("drag",!0),n.redrawHint("eles",!0);var ot=Ue&&Ue.grabbed();C(Ae),ot&&(Ue.emit("freeon"),Ae.emit("free"),n.dragData.didDrag&&(Ue.emit("dragfreeon"),Ae.emit("dragfree")))}}pe[4]=0,n.hoverData.down=null,n.hoverData.cxtStarted=!1,n.hoverData.draggingEles=!1,n.hoverData.selecting=!1,n.hoverData.isOverThresholdDrag=!1,n.dragData.didDrag=!1,n.hoverData.dragged=!1,n.hoverData.dragDelta=[],n.hoverData.mdownPos=null,n.hoverData.mdownGPos=null,n.hoverData.which=null}}},!1);var ee=function(G){if(!n.scrollingPage){var fe=n.cy,xe=fe.zoom(),he=fe.pan(),pe=n.projectIntoViewport(G.clientX,G.clientY),He=[pe[0]*xe+he.x,pe[1]*xe+he.y];if(n.hoverData.draggingEles||n.hoverData.dragging||n.hoverData.cxtStarted||L()){G.preventDefault();return}if(fe.panningEnabled()&&fe.userPanningEnabled()&&fe.zoomingEnabled()&&fe.userZoomingEnabled()){G.preventDefault(),n.data.wheelZooming=!0,clearTimeout(n.data.wheelTimeout),n.data.wheelTimeout=setTimeout(function(){n.data.wheelZooming=!1,n.redrawHint("eles",!0),n.redraw()},150);var Ae;G.deltaY!=null?Ae=G.deltaY/-250:G.wheelDeltaY!=null?Ae=G.wheelDeltaY/1e3:Ae=G.wheelDelta/1e3,Ae=Ae*n.wheelSensitivity;var Ue=G.deltaMode===1;Ue&&(Ae*=33);var nt=fe.zoom()*Math.pow(10,Ae);G.type==="gesturechange"&&(nt=n.gestureStartZoom*G.scale),fe.zoom({level:nt,renderedPosition:{x:He[0],y:He[1]}}),fe.emit(G.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};n.registerBinding(n.container,"wheel",ee,!0),n.registerBinding(e,"scroll",function(G){n.scrollingPage=!0,clearTimeout(n.scrollingPageTimeout),n.scrollingPageTimeout=setTimeout(function(){n.scrollingPage=!1},250)},!0),n.registerBinding(n.container,"gesturestart",function(G){n.gestureStartZoom=n.cy.zoom(),n.hasTouchStarted||G.preventDefault()},!0),n.registerBinding(n.container,"gesturechange",function(Le){n.hasTouchStarted||ee(Le)},!0),n.registerBinding(n.container,"mouseout",function(G){var fe=n.projectIntoViewport(G.clientX,G.clientY);n.cy.emit({originalEvent:G,type:"mouseout",position:{x:fe[0],y:fe[1]}})},!1),n.registerBinding(n.container,"mouseover",function(G){var fe=n.projectIntoViewport(G.clientX,G.clientY);n.cy.emit({originalEvent:G,type:"mouseover",position:{x:fe[0],y:fe[1]}})},!1);var X,Q,j,le,P,Z,ne,de,se,we,me,Me,Se,ve=function(G,fe,xe,he){return Math.sqrt((xe-G)*(xe-G)+(he-fe)*(he-fe))},re=function(G,fe,xe,he){return(xe-G)*(xe-G)+(he-fe)*(he-fe)},be;n.registerBinding(n.container,"touchstart",be=function(G){if(n.hasTouchStarted=!0,!!F(G)){M(),n.touchData.capture=!0,n.data.bgActivePosistion=void 0;var fe=n.cy,xe=n.touchData.now,he=n.touchData.earlier;if(G.touches[0]){var pe=n.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);xe[0]=pe[0],xe[1]=pe[1]}if(G.touches[1]){var pe=n.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);xe[2]=pe[0],xe[3]=pe[1]}if(G.touches[2]){var pe=n.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);xe[4]=pe[0],xe[5]=pe[1]}if(G.touches[1]){n.touchData.singleTouchMoved=!0,C(n.dragData.touchDragEles);var He=n.findContainerClientCoords();se=He[0],we=He[1],me=He[2],Me=He[3],X=G.touches[0].clientX-se,Q=G.touches[0].clientY-we,j=G.touches[1].clientX-se,le=G.touches[1].clientY-we,Se=0<=X&&X<=me&&0<=j&&j<=me&&0<=Q&&Q<=Me&&0<=le&&le<=Me;var Ae=fe.pan(),Ue=fe.zoom();P=ve(X,Q,j,le),Z=re(X,Q,j,le),ne=[(X+j)/2,(Q+le)/2],de=[(ne[0]-Ae.x)/Ue,(ne[1]-Ae.y)/Ue];var nt=200,at=nt*nt;if(Z<at&&!G.touches[2]){var Ve=n.findNearestElement(xe[0],xe[1],!0,!0),dt=n.findNearestElement(xe[2],xe[3],!0,!0);Ve&&Ve.isNode()?(Ve.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),n.touchData.start=Ve):dt&&dt.isNode()?(dt.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),n.touchData.start=dt):fe.emit({originalEvent:G,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!0,n.touchData.cxtDragged=!1,n.data.bgActivePosistion=void 0,n.redraw();return}}if(G.touches[2])fe.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]){if(G.touches[0]){var pt=n.findNearestElements(xe[0],xe[1],!0,!0),ot=pt[0];if(ot!=null&&(ot.activate(),n.touchData.start=ot,n.touchData.starts=pt,n.nodeIsGrabbable(ot))){var qt=n.dragData.touchDragEles=fe.collection(),$t=null;n.redrawHint("eles",!0),n.redrawHint("drag",!0),ot.selected()?($t=fe.$(function(Dn){return Dn.selected()&&n.nodeIsGrabbable(Dn)}),D($t,{addToList:qt})):T(ot,{addToList:qt}),p(ot);var _n=function(er){return{originalEvent:G,type:er,position:{x:xe[0],y:xe[1]}}};ot.emit(_n("grabon")),$t?$t.forEach(function(Dn){Dn.emit(_n("grab"))}):ot.emit(_n("grab"))}u(ot,["touchstart","tapstart","vmousedown"],G,{x:xe[0],y:xe[1]}),ot==null&&(n.data.bgActivePosistion={x:pe[0],y:pe[1]},n.redrawHint("select",!0),n.redraw()),n.touchData.singleTouchMoved=!1,n.touchData.singleTouchStartTime=+new Date,clearTimeout(n.touchData.tapholdTimeout),n.touchData.tapholdTimeout=setTimeout(function(){n.touchData.singleTouchMoved===!1&&!n.pinching&&!n.touchData.selecting&&u(n.touchData.start,["taphold"],G,{x:xe[0],y:xe[1]})},n.tapholdDuration)}}if(G.touches.length>=1){for(var jn=n.touchData.startPosition=[null,null,null,null,null,null],cn=0;cn<xe.length;cn++)jn[cn]=he[cn]=xe[cn];var Pn=G.touches[0];n.touchData.startGPosition=[Pn.clientX,Pn.clientY]}}},!1);var Ne;n.registerBinding(e,"touchmove",Ne=function(G){var fe=n.touchData.capture;if(!(!fe&&!F(G))){var xe=n.selection,he=n.cy,pe=n.touchData.now,He=n.touchData.earlier,Ae=he.zoom();if(G.touches[0]){var Ue=n.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);pe[0]=Ue[0],pe[1]=Ue[1]}if(G.touches[1]){var Ue=n.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);pe[2]=Ue[0],pe[3]=Ue[1]}if(G.touches[2]){var Ue=n.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);pe[4]=Ue[0],pe[5]=Ue[1]}var nt=n.touchData.startGPosition,at;if(fe&&G.touches[0]&&nt){for(var Ve=[],dt=0;dt<pe.length;dt++)Ve[dt]=pe[dt]-He[dt];var pt=G.touches[0].clientX-nt[0],ot=pt*pt,qt=G.touches[0].clientY-nt[1],$t=qt*qt,_n=ot+$t;at=_n>=n.touchTapThreshold2}if(fe&&n.touchData.cxt){G.preventDefault();var jn=G.touches[0].clientX-se,cn=G.touches[0].clientY-we,Pn=G.touches[1].clientX-se,Dn=G.touches[1].clientY-we,er=re(jn,cn,Pn,Dn),Yn=er/Z,or=150,fr=or*or,Vr=1.5,Br=Vr*Vr;if(Yn>=Br||er>=fr){n.touchData.cxt=!1,n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var va={originalEvent:G,type:"cxttapend",position:{x:pe[0],y:pe[1]}};n.touchData.start?(n.touchData.start.unactivate().emit(va),n.touchData.start=null):he.emit(va)}}if(fe&&n.touchData.cxt){var va={originalEvent:G,type:"cxtdrag",position:{x:pe[0],y:pe[1]}};n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.touchData.start?n.touchData.start.emit(va):he.emit(va),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxtDragged=!0;var Xn=n.findNearestElement(pe[0],pe[1],!0,!0);(!n.touchData.cxtOver||Xn!==n.touchData.cxtOver)&&(n.touchData.cxtOver&&n.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:pe[0],y:pe[1]}}),n.touchData.cxtOver=Xn,Xn&&Xn.emit({originalEvent:G,type:"cxtdragover",position:{x:pe[0],y:pe[1]}}))}else if(fe&&G.touches[2]&&he.boxSelectionEnabled())G.preventDefault(),n.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,n.touchData.selecting||he.emit({originalEvent:G,type:"boxstart",position:{x:pe[0],y:pe[1]}}),n.touchData.selecting=!0,n.touchData.didSelect=!0,xe[4]=1,!xe||xe.length===0||xe[0]===void 0?(xe[0]=(pe[0]+pe[2]+pe[4])/3,xe[1]=(pe[1]+pe[3]+pe[5])/3,xe[2]=(pe[0]+pe[2]+pe[4])/3+1,xe[3]=(pe[1]+pe[3]+pe[5])/3+1):(xe[2]=(pe[0]+pe[2]+pe[4])/3,xe[3]=(pe[1]+pe[3]+pe[5])/3),n.redrawHint("select",!0),n.redraw();else if(fe&&G.touches[1]&&!n.touchData.didSelect&&he.zoomingEnabled()&&he.panningEnabled()&&he.userZoomingEnabled()&&he.userPanningEnabled()){G.preventDefault(),n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var Hn=n.dragData.touchDragEles;if(Hn){n.redrawHint("drag",!0);for(var En=0;En<Hn.length;En++){var Nn=Hn[En]._private;Nn.grabbed=!1,Nn.rscratch.inDragLayer=!1}}var vn=n.touchData.start,jn=G.touches[0].clientX-se,cn=G.touches[0].clientY-we,Pn=G.touches[1].clientX-se,Dn=G.touches[1].clientY-we,Ei=ve(jn,cn,Pn,Dn),bs=Ei/P;if(Se){var qo=jn-X,Fc=cn-Q,Go=Pn-j,Lu=Dn-le,ws=(qo+Go)/2,Si=(Fc+Lu)/2,da=he.zoom(),ha=da*bs,Ma=he.pan(),hn=de[0]*da+Ma.x,Es=de[1]*da+Ma.y,Vo={x:-ha/da*(hn-Ma.x-ws)+hn,y:-ha/da*(Es-Ma.y-Si)+Es};if(vn&&vn.active()){var Hn=n.dragData.touchDragEles;C(Hn),n.redrawHint("drag",!0),n.redrawHint("eles",!0),vn.unactivate().emit("freeon"),Hn.emit("free"),n.dragData.didDrag&&(vn.emit("dragfreeon"),Hn.emit("dragfree"))}he.viewport({zoom:ha,pan:Vo,cancelOnFailedZoom:!0}),he.emit("pinchzoom"),P=Ei,X=jn,Q=cn,j=Pn,le=Dn,n.pinching=!0}if(G.touches[0]){var Ue=n.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);pe[0]=Ue[0],pe[1]=Ue[1]}if(G.touches[1]){var Ue=n.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);pe[2]=Ue[0],pe[3]=Ue[1]}if(G.touches[2]){var Ue=n.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);pe[4]=Ue[0],pe[5]=Ue[1]}}else if(G.touches[0]&&!n.touchData.didSelect){var Kn=n.touchData.start,Ba=n.touchData.last,Xn;if(!n.hoverData.draggingEles&&!n.swipePanning&&(Xn=n.findNearestElement(pe[0],pe[1],!0,!0)),fe&&Kn!=null&&G.preventDefault(),fe&&Kn!=null&&n.nodeIsDraggable(Kn))if(at){var Hn=n.dragData.touchDragEles,Yr=!n.dragData.didDrag;Yr&&D(Hn,{inDragLayer:!0}),n.dragData.didDrag=!0;var $i={x:0,y:0};if(Ge(Ve[0])&&Ge(Ve[1])&&($i.x+=Ve[0],$i.y+=Ve[1],Yr)){n.redrawHint("eles",!0);var Or=n.touchData.dragDelta;Or&&Ge(Or[0])&&Ge(Or[1])&&($i.x+=Or[0],$i.y+=Or[1])}n.hoverData.draggingEles=!0,Hn.silentShift($i).emit("position drag"),n.redrawHint("drag",!0),n.touchData.startPosition[0]==He[0]&&n.touchData.startPosition[1]==He[1]&&n.redrawHint("eles",!0),n.redraw()}else{var Or=n.touchData.dragDelta=n.touchData.dragDelta||[];Or.length===0?(Or.push(Ve[0]),Or.push(Ve[1])):(Or[0]+=Ve[0],Or[1]+=Ve[1])}if(u(Kn||Xn,["touchmove","tapdrag","vmousemove"],G,{x:pe[0],y:pe[1]}),(!Kn||!Kn.grabbed())&&Xn!=Ba&&(Ba&&Ba.emit({originalEvent:G,type:"tapdragout",position:{x:pe[0],y:pe[1]}}),Xn&&Xn.emit({originalEvent:G,type:"tapdragover",position:{x:pe[0],y:pe[1]}})),n.touchData.last=Xn,fe)for(var En=0;En<pe.length;En++)pe[En]&&n.touchData.startPosition[En]&&at&&(n.touchData.singleTouchMoved=!0);if(fe&&(Kn==null||Kn.pannable())&&he.panningEnabled()&&he.userPanningEnabled()){var Yo=f(Kn,n.touchData.starts);Yo&&(G.preventDefault(),n.data.bgActivePosistion||(n.data.bgActivePosistion=bc(n.touchData.startPosition)),n.swipePanning?(he.panBy({x:Ve[0]*Ae,y:Ve[1]*Ae}),he.emit("dragpan")):at&&(n.swipePanning=!0,he.panBy({x:pt*Ae,y:qt*Ae}),he.emit("dragpan"),Kn&&(Kn.unactivate(),n.redrawHint("select",!0),n.touchData.start=null)));var Ue=n.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);pe[0]=Ue[0],pe[1]=Ue[1]}}for(var dt=0;dt<pe.length;dt++)He[dt]=pe[dt];fe&&G.touches.length>0&&!n.hoverData.draggingEles&&!n.swipePanning&&n.data.bgActivePosistion!=null&&(n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.redraw())}},!1);var Pe;n.registerBinding(e,"touchcancel",Pe=function(G){var fe=n.touchData.start;n.touchData.capture=!1,fe&&fe.unactivate()});var Fe,mt,Lt,xt;if(n.registerBinding(e,"touchend",Fe=function(G){var fe=n.touchData.start,xe=n.touchData.capture;if(xe)G.touches.length===0&&(n.touchData.capture=!1),G.preventDefault();else return;var he=n.selection;n.swipePanning=!1,n.hoverData.draggingEles=!1;var pe=n.cy,He=pe.zoom(),Ae=n.touchData.now,Ue=n.touchData.earlier;if(G.touches[0]){var nt=n.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ae[0]=nt[0],Ae[1]=nt[1]}if(G.touches[1]){var nt=n.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);Ae[2]=nt[0],Ae[3]=nt[1]}if(G.touches[2]){var nt=n.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);Ae[4]=nt[0],Ae[5]=nt[1]}fe&&fe.unactivate();var at;if(n.touchData.cxt){if(at={originalEvent:G,type:"cxttapend",position:{x:Ae[0],y:Ae[1]}},fe?fe.emit(at):pe.emit(at),!n.touchData.cxtDragged){var Ve={originalEvent:G,type:"cxttap",position:{x:Ae[0],y:Ae[1]}};fe?fe.emit(Ve):pe.emit(Ve)}n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!1,n.touchData.start=null,n.redraw();return}if(!G.touches[2]&&pe.boxSelectionEnabled()&&n.touchData.selecting){n.touchData.selecting=!1;var dt=pe.collection(n.getAllInBox(he[0],he[1],he[2],he[3]));he[0]=void 0,he[1]=void 0,he[2]=void 0,he[3]=void 0,he[4]=0,n.redrawHint("select",!0),pe.emit({type:"boxend",originalEvent:G,position:{x:Ae[0],y:Ae[1]}});var pt=function(fr){return fr.selectable()&&!fr.selected()};dt.emit("box").stdFilter(pt).select().emit("boxselect"),dt.nonempty()&&n.redrawHint("eles",!0),n.redraw()}if(fe!=null&&fe.unactivate(),G.touches[2])n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);else if(!G.touches[1]){if(!G.touches[0]){if(!G.touches[0]){n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var ot=n.dragData.touchDragEles;if(fe!=null){var qt=fe._private.grabbed;C(ot),n.redrawHint("drag",!0),n.redrawHint("eles",!0),qt&&(fe.emit("freeon"),ot.emit("free"),n.dragData.didDrag&&(fe.emit("dragfreeon"),ot.emit("dragfree"))),u(fe,["touchend","tapend","vmouseup","tapdragout"],G,{x:Ae[0],y:Ae[1]}),fe.unactivate(),n.touchData.start=null}else{var $t=n.findNearestElement(Ae[0],Ae[1],!0,!0);u($t,["touchend","tapend","vmouseup","tapdragout"],G,{x:Ae[0],y:Ae[1]})}var _n=n.touchData.startPosition[0]-Ae[0],jn=_n*_n,cn=n.touchData.startPosition[1]-Ae[1],Pn=cn*cn,Dn=jn+Pn,er=Dn*He*He;n.touchData.singleTouchMoved||(fe||pe.$(":selected").unselect(["tapunselect"]),u(fe,["tap","vclick"],G,{x:Ae[0],y:Ae[1]}),mt=!1,G.timeStamp-xt<=pe.multiClickDebounceTime()?(Lt&&clearTimeout(Lt),mt=!0,xt=null,u(fe,["dbltap","vdblclick"],G,{x:Ae[0],y:Ae[1]})):(Lt=setTimeout(function(){mt||u(fe,["onetap","voneclick"],G,{x:Ae[0],y:Ae[1]})},pe.multiClickDebounceTime()),xt=G.timeStamp)),fe!=null&&!n.dragData.didDrag&&fe._private.selectable&&er<n.touchTapThreshold2&&!n.pinching&&(pe.selectionType()==="single"?(pe.$(t).unmerge(fe).unselect(["tapunselect"]),fe.select(["tapselect"])):fe.selected()?fe.unselect(["tapunselect"]):fe.select(["tapselect"]),n.redrawHint("eles",!0)),n.touchData.singleTouchMoved=!0}}}for(var Yn=0;Yn<Ae.length;Yn++)Ue[Yn]=Ae[Yn];n.dragData.didDrag=!1,G.touches.length===0&&(n.touchData.dragDelta=[],n.touchData.startPosition=[null,null,null,null,null,null],n.touchData.startGPosition=null,n.touchData.didSelect=!1),G.touches.length<2&&(G.touches.length===1&&(n.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),n.pinching=!1,n.redrawHint("eles",!0),n.redraw())},!1),typeof TouchEvent>"u"){var Xe=[],Ke=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},et=function(G){return{event:G,touch:Ke(G)}},$e=function(G){Xe.push(et(G))},tt=function(G){for(var fe=0;fe<Xe.length;fe++){var xe=Xe[fe];if(xe.event.pointerId===G.pointerId){Xe.splice(fe,1);return}}},lt=function(G){var fe=Xe.filter(function(xe){return xe.event.pointerId===G.pointerId})[0];fe.event=G,fe.touch=Ke(G)},st=function(G){G.touches=Xe.map(function(fe){return fe.touch})},Et=function(G){return G.pointerType==="mouse"||G.pointerType===4};n.registerBinding(n.container,"pointerdown",function(Le){Et(Le)||(Le.preventDefault(),$e(Le),st(Le),be(Le))}),n.registerBinding(n.container,"pointerup",function(Le){Et(Le)||(tt(Le),st(Le),Fe(Le))}),n.registerBinding(n.container,"pointercancel",function(Le){Et(Le)||(tt(Le),st(Le),Pe(Le))}),n.registerBinding(n.container,"pointermove",function(Le){Et(Le)||(Le.preventDefault(),lt(Le),st(Le),Ne(Le))})}};var fl={};fl.generatePolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,draw:function(a,u,l,f,c,g){this.renderer.nodeShapeImpl("polygon",a,u,l,f,c,this.points)},intersectLine:function(a,u,l,f,c,g,v,m){return sh(c,g,this.points,a,u,l/2,f/2,v)},checkPoint:function(a,u,l,f,c,g,v,m){return sl(a,u,this.points,g,v,f,c,[0,-1],l)}}};fl.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l)},intersectLine:function(e,t,a,u,l,f,c,g){return HT(l,f,e,t,a/2+c,u/2+c)},checkPoint:function(e,t,a,u,l,f,c,g){return Oo(e,t,u,l,f,c,a)}}};fl.generateRoundPolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,getOrCreateCorners:function(a,u,l,f,c,g,v){if(g[v]!==void 0&&g[v+"-cx"]===a&&g[v+"-cy"]===u)return g[v];g[v]=new Array(e.length/2),g[v+"-cx"]=a,g[v+"-cy"]=u;var m=l/2,p=f/2;c=c==="auto"?cw(l,f):c;for(var w=new Array(e.length/2),x=0;x<e.length/2;x++)w[x]={x:a+m*e[x*2],y:u+p*e[x*2+1]};var S,D,T,C,R=w.length;for(D=w[R-1],S=0;S<R;S++)T=w[S%R],C=w[(S+1)%R],g[v][S]=G0(D,T,C,c),D=T,T=C;return g[v]},draw:function(a,u,l,f,c,g,v){this.renderer.nodeShapeImpl("round-polygon",a,u,l,f,c,this.points,this.getOrCreateCorners(u,l,f,c,g,v,"drawCorners"))},intersectLine:function(a,u,l,f,c,g,v,m,p){return FT(c,g,this.points,a,u,l,f,v,this.getOrCreateCorners(a,u,l,f,m,p,"corners"))},checkPoint:function(a,u,l,f,c,g,v,m,p){return PT(a,u,this.points,g,v,f,c,this.getOrCreateCorners(g,v,f,c,m,p,"corners"))}}};fl.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:fa(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l,this.points,f)},intersectLine:function(e,t,a,u,l,f,c,g){return ow(l,f,e,t,a,u,c,g)},checkPoint:function(e,t,a,u,l,f,c,g){var v=u/2,m=l/2;g=g==="auto"?zo(u,l):g,g=Math.min(v,m,g);var p=g*2;return!!(sl(e,t,this.points,f,c,u,l-p,[0,-1],a)||sl(e,t,this.points,f,c,u-p,l,[0,-1],a)||Oo(e,t,p,p,f-v+g,c-m+g,a)||Oo(e,t,p,p,f+v-g,c-m+g,a)||Oo(e,t,p,p,f+v-g,c+m-g,a)||Oo(e,t,p,p,f-v+g,c+m-g,a))}}};fl.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:O0(),points:fa(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l,null,f)},generateCutTrianglePts:function(e,t,a,u,l){var f=l==="auto"?this.cornerLength:l,c=t/2,g=e/2,v=a-g,m=a+g,p=u-c,w=u+c;return{topLeft:[v,p+f,v+f,p,v+f,p+f],topRight:[m-f,p,m,p+f,m-f,p+f],bottomRight:[m,w-f,m-f,w,m-f,w-f],bottomLeft:[v+f,w,v,w-f,v+f,w-f]}},intersectLine:function(e,t,a,u,l,f,c,g){var v=this.generateCutTrianglePts(a+2*c,u+2*c,e,t,g),m=[].concat.apply([],[v.topLeft.splice(0,4),v.topRight.splice(0,4),v.bottomRight.splice(0,4),v.bottomLeft.splice(0,4)]);return sh(l,f,m,e,t)},checkPoint:function(e,t,a,u,l,f,c,g){var v=g==="auto"?this.cornerLength:g;if(sl(e,t,this.points,f,c,u,l-2*v,[0,-1],a)||sl(e,t,this.points,f,c,u-2*v,l,[0,-1],a))return!0;var m=this.generateCutTrianglePts(u,l,f,c);return Da(e,t,m.topLeft)||Da(e,t,m.topRight)||Da(e,t,m.bottomRight)||Da(e,t,m.bottomLeft)}}};fl.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:fa(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l)},intersectLine:function(e,t,a,u,l,f,c,g){var v=.15,m=.5,p=.85,w=this.generateBarrelBezierPts(a+2*c,u+2*c,e,t),x=function(T){var C=Ec({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},v),R=Ec({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},m),M=Ec({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},p);return[T[0],T[1],C.x,C.y,R.x,R.y,M.x,M.y,T[4],T[5]]},S=[].concat(x(w.topLeft),x(w.topRight),x(w.bottomRight),x(w.bottomLeft));return sh(l,f,S,e,t)},generateBarrelBezierPts:function(e,t,a,u){var l=t/2,f=e/2,c=a-f,g=a+f,v=u-l,m=u+l,p=u0(e,t),w=p.heightOffset,x=p.widthOffset,S=p.ctrlPtOffsetPct*e,D={topLeft:[c,v+w,c+S,v,c+x,v],topRight:[g-x,v,g-S,v,g,v+w],bottomRight:[g,m-w,g-S,m,g-x,m],bottomLeft:[c+x,m,c+S,m,c,m-w]};return D.topLeft.isTop=!0,D.topRight.isTop=!0,D.bottomLeft.isBottom=!0,D.bottomRight.isBottom=!0,D},checkPoint:function(e,t,a,u,l,f,c,g){var v=u0(u,l),m=v.heightOffset,p=v.widthOffset;if(sl(e,t,this.points,f,c,u,l-2*m,[0,-1],a)||sl(e,t,this.points,f,c,u-2*p,l,[0,-1],a))return!0;for(var w=this.generateBarrelBezierPts(u,l,f,c),x=function(I,L,F){var Y=F[4],V=F[2],W=F[0],K=F[5],ee=F[1],X=Math.min(Y,W),Q=Math.max(Y,W),j=Math.min(K,ee),le=Math.max(K,ee);if(X<=I&&I<=Q&&j<=L&&L<=le){var P=qT(Y,V,W),Z=zT(P[0],P[1],P[2],I),ne=Z.filter(function(de){return 0<=de&&de<=1});if(ne.length>0)return ne[0]}return null},S=Object.keys(w),D=0;D<S.length;D++){var T=S[D],C=w[T],R=x(e,t,C);if(R!=null){var M=C[5],_=C[3],k=C[1],z=mr(M,_,k,R);if(C.isTop&&z<=t||C.isBottom&&t<=z)return!0}}return!1}}};fl.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:fa(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l,this.points,f)},intersectLine:function(e,t,a,u,l,f,c,g){var v=e-(a/2+c),m=t-(u/2+c),p=m,w=e+(a/2+c),x=as(l,f,e,t,v,m,w,p,!1);return x.length>0?x:ow(l,f,e,t,a,u,c,g)},checkPoint:function(e,t,a,u,l,f,c,g){g=g==="auto"?zo(u,l):g;var v=2*g;if(sl(e,t,this.points,f,c,u,l-v,[0,-1],a)||sl(e,t,this.points,f,c,u-v,l,[0,-1],a))return!0;var m=u/2+2*a,p=l/2+2*a,w=[f-m,c-p,f-m,c,f+m,c,f+m,c-p];return!!(Da(e,t,w)||Oo(e,t,v,v,f+u/2-g,c+l/2-g,a)||Oo(e,t,v,v,f-u/2+g,c+l/2-g,a))}}};fl.registerNodeShapes=function(){var n=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",fa(3,0)),this.generateRoundPolygon("round-triangle",fa(3,0)),this.generatePolygon("rectangle",fa(4,0)),n.square=n.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",fa(5,0)),this.generateRoundPolygon("round-pentagon",fa(5,0)),this.generatePolygon("hexagon",fa(6,0)),this.generateRoundPolygon("round-hexagon",fa(6,0)),this.generatePolygon("heptagon",fa(7,0)),this.generateRoundPolygon("round-heptagon",fa(7,0)),this.generatePolygon("octagon",fa(8,0)),this.generateRoundPolygon("round-octagon",fa(8,0));var a=new Array(20);{var u=i0(5,0),l=i0(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var c=0;c<l.length/2;c++)l[c*2]*=f,l[c*2+1]*=f;for(var c=0;c<20/4;c++)a[c*4]=u[c*2],a[c*4+1]=u[c*2+1],a[c*4+2]=l[c*2],a[c*4+3]=l[c*2+1]}a=fw(a),this.generatePolygon("star",a),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var g=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",g),this.generateRoundPolygon("round-tag",g)}n.makePolygon=function(v){var m=v.join("$"),p="polygon-"+m,w;return(w=this[p])?w:e.generatePolygon(p,v)}};var Ch={};Ch.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Ch.redraw=function(n){n=n||aw();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=n};Ch.beforeRender=function(n,e){if(!this.destroyed){e==null&&In("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:n,priority:e}),t.sort(function(a,u){return u.priority-a.priority})}};var hb=function(e,t,a){for(var u=e.beforeRenderCallbacks,l=0;l<u.length;l++)u[l].fn(t,a)};Ch.startRenderLoop=function(){var n=this,e=n.cy;if(!n.renderLoopStarted){n.renderLoopStarted=!0;var t=function a(u){if(!n.destroyed){if(!e.batching())if(n.requestedFrame&&!n.skipFrame){hb(n,!0,u);var l=ll();n.render(n.renderOptions);var f=n.lastDrawTime=ll();n.averageRedrawTime===void 0&&(n.averageRedrawTime=f-l),n.redrawCount===void 0&&(n.redrawCount=0),n.redrawCount++,n.redrawTotalTime===void 0&&(n.redrawTotalTime=0);var c=f-l;n.redrawTotalTime+=c,n.lastRedrawTime=c,n.averageRedrawTime=n.averageRedrawTime/2+c/2,n.requestedFrame=!1}else hb(n,!1,u);n.skipFrame=!1,Jm(a)}};Jm(t)}};var ER=function(e){this.init(e)},oE=ER,Uc=oE.prototype;Uc.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Uc.init=function(n){var e=this;e.options=n,e.cy=n.cy;var t=e.container=n.cy.container(),a=e.cy.window();if(a){var u=a.document,l=u.head,f="__________cytoscape_stylesheet",c="__________cytoscape_container",g=u.getElementById(f)!=null;if(t.className.indexOf(c)<0&&(t.className=(t.className||"")+" "+c),!g){var v=u.createElement("style");v.id=f,v.textContent="."+c+" { position: relative; }",l.insertBefore(v,l.children[0])}var m=a.getComputedStyle(t),p=m.getPropertyValue("position");p==="static"&&un("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=n.showFps,e.debug=n.debug,e.webgl=n.webgl,e.hideEdgesOnViewport=n.hideEdgesOnViewport,e.textureOnViewport=n.textureOnViewport,e.wheelSensitivity=n.wheelSensitivity,e.motionBlurEnabled=n.motionBlur,e.forcedPixelRatio=Ge(n.pixelRatio)?n.pixelRatio:null,e.motionBlur=n.motionBlur,e.motionBlurOpacity=n.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=n.desktopTapThreshold,e.desktopTapThreshold2=n.desktopTapThreshold*n.desktopTapThreshold,e.touchTapThreshold=n.touchTapThreshold,e.touchTapThreshold2=n.touchTapThreshold*n.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Uc.notify=function(n,e){var t=this,a=t.cy;if(!this.destroyed){if(n==="init"){t.load();return}if(n==="destroy"){t.destroy();return}(n==="add"||n==="remove"||n==="move"&&a.hasCompoundNodes()||n==="load"||n==="zorder"||n==="mount")&&t.invalidateCachedZSortedEles(),n==="viewport"&&t.redrawHint("select",!0),n==="gc"&&t.redrawHint("gc",!0),(n==="load"||n==="resize"||n==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Uc.destroy=function(){var n=this;n.destroyed=!0,n.cy.stopAnimationLoop();for(var e=0;e<n.bindings.length;e++){var t=n.bindings[e],a=t,u=a.target;(u.off||u.removeEventListener).apply(u,a.args)}if(n.bindings=[],n.beforeRenderCallbacks=[],n.onUpdateEleCalcsFns=[],n.removeObserver&&n.removeObserver.disconnect(),n.styleObserver&&n.styleObserver.disconnect(),n.resizeObserver&&n.resizeObserver.disconnect(),n.labelCalcDiv)try{document.body.removeChild(n.labelCalcDiv)}catch{}};Uc.isHeadless=function(){return!1};[q0,lE,sE,Ic,fl,Ch].forEach(function(n){vt(Uc,n)});var Jy=1e3/60,fE={setupDequeueing:function(e){return function(){var a=this,u=this.renderer;if(!a.dequeueingSetup){a.dequeueingSetup=!0;var l=wh(function(){u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},e.deqRedrawThreshold),f=function(v,m){var p=ll(),w=u.averageRedrawTime,x=u.lastRedrawTime,S=[],D=u.cy.extent(),T=u.getPixelRatio();for(v||u.flushRenderedStyleQueue();;){var C=ll(),R=C-p,M=C-m;if(x<Jy){var _=Jy-(v?w:0);if(M>=e.deqFastCost*_)break}else if(v){if(R>=e.deqCost*x||R>=e.deqAvgCost*w)break}else if(M>=e.deqNoDrawCost*Jy)break;var k=e.deq(a,T,D);if(k.length>0)for(var z=0;z<k.length;z++)S.push(k[z]);else break}S.length>0&&(e.onDeqd(a,S),!v&&e.shouldRedraw(a,S,T,D)&&l())},c=e.priority||D0;u.beforeRender(f,c(a))}}}},SR=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jm;ds(this,n),this.idsByKey=new Bu,this.keyForId=new Bu,this.cachesByLvl=new Bu,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return hs(n,[{key:"getIdsFor",value:function(t){t==null&&In("Can not get id list for null key");var a=this.idsByKey,u=this.idsByKey.get(t);return u||(u=new Bc,a.set(t,u)),u}},{key:"addIdForKey",value:function(t,a){t!=null&&this.getIdsFor(t).add(a)}},{key:"deleteIdForKey",value:function(t,a){t!=null&&this.getIdsFor(t).delete(a)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var a=t.id(),u=this.keyForId.get(a),l=this.getKey(t);this.deleteIdForKey(u,a),this.addIdForKey(l,a),this.keyForId.set(a,l)}},{key:"deleteKeyMappingFor",value:function(t){var a=t.id(),u=this.keyForId.get(a);this.deleteIdForKey(u,a),this.keyForId.delete(a)}},{key:"keyHasChangedFor",value:function(t){var a=t.id(),u=this.keyForId.get(a),l=this.getKey(t);return u!==l}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var a=this.cachesByLvl,u=this.lvls,l=a.get(t);return l||(l=new Bu,a.set(t,l),u.push(t)),l}},{key:"getCache",value:function(t,a){return this.getCachesAt(a).get(t)}},{key:"get",value:function(t,a){var u=this.getKey(t),l=this.getCache(u,a);return l!=null&&this.updateKeyMappingFor(t),l}},{key:"getForCachedKey",value:function(t,a){var u=this.keyForId.get(t.id()),l=this.getCache(u,a);return l}},{key:"hasCache",value:function(t,a){return this.getCachesAt(a).has(t)}},{key:"has",value:function(t,a){var u=this.getKey(t);return this.hasCache(u,a)}},{key:"setCache",value:function(t,a,u){u.key=t,this.getCachesAt(a).set(t,u)}},{key:"set",value:function(t,a,u){var l=this.getKey(t);this.setCache(l,a,u),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,a){this.getCachesAt(a).delete(t)}},{key:"delete",value:function(t,a){var u=this.getKey(t);this.deleteCache(u,a)}},{key:"invalidateKey",value:function(t){var a=this;this.lvls.forEach(function(u){return a.deleteCache(t,u)})}},{key:"invalidate",value:function(t){var a=t.id(),u=this.keyForId.get(a);this.deleteKeyMappingFor(t);var l=this.doesEleInvalidateKey(t);return l&&this.invalidateKey(u),l||this.getNumberOfIdsForKey(u)===0}}]),n}(),gb=25,Um=50,Wm=-4,p0=3,cE=7.99,xR=8,TR=1024,CR=1024,AR=1024,DR=.2,RR=.8,MR=10,BR=.15,OR=.1,_R=.9,NR=.9,LR=100,zR=1,wc={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},kR=yr({getKey:null,doesEleInvalidateKey:jm,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:tw,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Jd=function(e,t){var a=this;a.renderer=e,a.onDequeues=[];var u=kR(t);vt(a,u),a.lookup=new SR(u.getKey,u.doesEleInvalidateKey),a.setupDequeueing()},sr=Jd.prototype;sr.reasons=wc;sr.getTextureQueue=function(n){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[n]=e.eleImgCaches[n]||[]};sr.getRetiredTextureQueue=function(n){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},a=t[n]=t[n]||[];return a};sr.getElementQueue=function(){var n=this,e=n.eleCacheQueue=n.eleCacheQueue||new Eh(function(t,a){return a.reqs-t.reqs});return e};sr.getElementKeyToQueue=function(){var n=this,e=n.eleKeyToCacheQueue=n.eleKeyToCacheQueue||{};return e};sr.getElement=function(n,e,t,a,u){var l=this,f=this.renderer,c=f.cy.zoom(),g=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!n.visible()||n.removed()||!l.allowEdgeTxrCaching&&n.isEdge()||!l.allowParentTxrCaching&&n.isParent())return null;if(a==null&&(a=Math.ceil(M0(c*t))),a<Wm)a=Wm;else if(c>=cE||a>p0)return null;var v=Math.pow(2,a),m=e.h*v,p=e.w*v,w=f.eleTextBiggerThanMin(n,v);if(!this.isVisible(n,w))return null;var x=g.get(n,a);if(x&&x.invalidated&&(x.invalidated=!1,x.texture.invalidatedWidth-=x.width),x)return x;var S;if(m<=gb?S=gb:m<=Um?S=Um:S=Math.ceil(m/Um)*Um,m>AR||p>CR)return null;var D=l.getTextureQueue(S),T=D[D.length-2],C=function(){return l.recycleTexture(S,p)||l.addTexture(S,p)};T||(T=D[D.length-1]),T||(T=C()),T.width-T.usedWidth<p&&(T=C());for(var R=function(X){return X&&X.scaledLabelShown===w},M=u&&u===wc.dequeue,_=u&&u===wc.highQuality,k=u&&u===wc.downscale,z,O=a+1;O<=p0;O++){var I=g.get(n,O);if(I){z=I;break}}var L=z&&z.level===a+1?z:null,F=function(){T.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,T.usedWidth,0,p,m)};if(T.context.setTransform(1,0,0,1,0,0),T.context.clearRect(T.usedWidth,0,p,S),R(L))F();else if(R(z))if(_){for(var Y=z.level;Y>a;Y--)L=l.getElement(n,e,t,Y,wc.downscale);F()}else return l.queueElement(n,z.level-1),z;else{var V;if(!M&&!_&&!k)for(var W=a-1;W>=Wm;W--){var K=g.get(n,W);if(K){V=K;break}}if(R(V))return l.queueElement(n,a),V;T.context.translate(T.usedWidth,0),T.context.scale(v,v),this.drawElement(T.context,n,e,w,!1),T.context.scale(1/v,1/v),T.context.translate(-T.usedWidth,0)}return x={x:T.usedWidth,texture:T,level:a,scale:v,width:p,height:m,scaledLabelShown:w},T.usedWidth+=Math.ceil(p+xR),T.eleCaches.push(x),g.set(n,a,x),l.checkTextureFullness(T),x};sr.invalidateElements=function(n){for(var e=0;e<n.length;e++)this.invalidateElement(n[e])};sr.invalidateElement=function(n){var e=this,t=e.lookup,a=[],u=t.isInvalid(n);if(u){for(var l=Wm;l<=p0;l++){var f=t.getForCachedKey(n,l);f&&a.push(f)}var c=t.invalidate(n);if(c)for(var g=0;g<a.length;g++){var v=a[g],m=v.texture;m.invalidatedWidth+=v.width,v.invalidated=!0,e.checkTextureUtility(m)}e.removeFromQueue(n)}};sr.checkTextureUtility=function(n){n.invalidatedWidth>=DR*n.width&&this.retireTexture(n)};sr.checkTextureFullness=function(n){var e=this,t=e.getTextureQueue(n.height);n.usedWidth/n.width>RR&&n.fullnessChecks>=MR?os(t,n):n.fullnessChecks++};sr.retireTexture=function(n){var e=this,t=n.height,a=e.getTextureQueue(t),u=this.lookup;os(a,n),n.retired=!0;for(var l=n.eleCaches,f=0;f<l.length;f++){var c=l[f];u.deleteCache(c.key,c.level)}R0(l);var g=e.getRetiredTextureQueue(t);g.push(n)};sr.addTexture=function(n,e){var t=this,a=t.getTextureQueue(n),u={};return a.push(u),u.eleCaches=[],u.height=n,u.width=Math.max(TR,e),u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,u.canvas=t.renderer.makeOffscreenCanvas(u.width,u.height),u.context=u.canvas.getContext("2d"),u};sr.recycleTexture=function(n,e){for(var t=this,a=t.getTextureQueue(n),u=t.getRetiredTextureQueue(n),l=0;l<u.length;l++){var f=u[l];if(f.width>=e)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,R0(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,0,f.width,f.height),os(u,f),a.push(f),f}};sr.queueElement=function(n,e){var t=this,a=t.getElementQueue(),u=t.getElementKeyToQueue(),l=this.getKey(n),f=u[l];if(f)f.level=Math.max(f.level,e),f.eles.merge(n),f.reqs++,a.updateItem(f);else{var c={eles:n.spawn().merge(n),level:e,reqs:1,key:l};a.push(c),u[l]=c}};sr.dequeue=function(n){for(var e=this,t=e.getElementQueue(),a=e.getElementKeyToQueue(),u=[],l=e.lookup,f=0;f<zR&&t.size()>0;f++){var c=t.pop(),g=c.key,v=c.eles[0],m=l.hasCache(v,c.level);if(a[g]=null,m)continue;u.push(c);var p=e.getBoundingBox(v);e.getElement(v,p,n,c.level,wc.dequeue)}return u};sr.removeFromQueue=function(n){var e=this,t=e.getElementQueue(),a=e.getElementKeyToQueue(),u=this.getKey(n),l=a[u];l!=null&&(l.eles.length===1?(l.reqs=A0,t.updateItem(l),t.pop(),a[u]=null):l.eles.unmerge(n))};sr.onDequeue=function(n){this.onDequeues.push(n)};sr.offDequeue=function(n){os(this.onDequeues,n)};sr.setupDequeueing=fE.setupDequeueing({deqRedrawThreshold:LR,deqCost:BR,deqAvgCost:OR,deqNoDrawCost:_R,deqFastCost:NR,deq:function(e,t,a){return e.dequeue(t,a)},onDeqd:function(e,t){for(var a=0;a<e.onDequeues.length;a++){var u=e.onDequeues[a];u(t)}},shouldRedraw:function(e,t,a,u){for(var l=0;l<t.length;l++)for(var f=t[l].eles,c=0;c<f.length;c++){var g=f[c].boundingBox();if(B0(g,u))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var IR=1,eh=-4,lp=2,UR=3.99,PR=50,HR=50,FR=.15,qR=.1,GR=.9,VR=.9,YR=1,mb=250,XR=4e3*4e3,pb=32767,KR=!0,vE=function(e){var t=this,a=t.renderer=e,u=a.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ll()-2*mb,t.skipping=!1,t.eleTxrDeqs=u.collection(),t.scheduleElementRefinement=wh(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},HR),a.beforeRender(function(f,c){c-t.lastInvalidationTime<=mb?t.skipping=!0:t.skipping=!1},a.beforeRenderPriorities.lyrTxrSkip);var l=function(c,g){return g.reqs-c.reqs};t.layersQueue=new Eh(l),t.setupDequeueing()},Mr=vE.prototype,yb=0,ZR=Math.pow(2,53)-1;Mr.makeLayer=function(n,e){var t=Math.pow(2,e),a=Math.ceil(n.w*t),u=Math.ceil(n.h*t),l=this.renderer.makeOffscreenCanvas(a,u),f={id:yb=++yb%ZR,bb:n,level:e,width:a,height:u,canvas:l,context:l.getContext("2d"),eles:[],elesQueue:[],reqs:0},c=f.context,g=-f.bb.x1,v=-f.bb.y1;return c.scale(t,t),c.translate(g,v),f};Mr.getLayers=function(n,e,t){var a=this,u=a.renderer,l=u.cy,f=l.zoom(),c=a.firstGet;if(a.firstGet=!1,t==null){if(t=Math.ceil(M0(f*e)),t<eh)t=eh;else if(f>=UR||t>lp)return null}a.validateLayersElesOrdering(t,n);var g=a.layersByLevel,v=Math.pow(2,t),m=g[t]=g[t]||[],p,w=a.levelIsComplete(t,n),x,S=function(){var F=function(ee){if(a.validateLayersElesOrdering(ee,n),a.levelIsComplete(ee,n))return x=g[ee],!0},Y=function(ee){if(!x)for(var X=t+ee;eh<=X&&X<=lp&&!F(X);X+=ee);};Y(1),Y(-1);for(var V=m.length-1;V>=0;V--){var W=m[V];W.invalid&&os(m,W)}};if(!w)S();else return m;var D=function(){if(!p){p=Ra();for(var F=0;F<n.length;F++)lw(p,n[F].boundingBox())}return p},T=function(F){F=F||{};var Y=F.after;D();var V=Math.ceil(p.w*v),W=Math.ceil(p.h*v);if(V>pb||W>pb)return null;var K=V*W;if(K>XR)return null;var ee=a.makeLayer(p,t);if(Y!=null){var X=m.indexOf(Y)+1;m.splice(X,0,ee)}else(F.insert===void 0||F.insert)&&m.unshift(ee);return ee};if(a.skipping&&!c)return null;for(var C=null,R=n.length/IR,M=!c,_=0;_<n.length;_++){var k=n[_],z=k._private.rscratch,O=z.imgLayerCaches=z.imgLayerCaches||{},I=O[t];if(I){C=I;continue}if((!C||C.eles.length>=R||!sw(C.bb,k.boundingBox()))&&(C=T({insert:!0,after:C}),!C))return null;x||M?a.queueLayer(C,k):a.drawEleInLayer(C,k,t,e),C.eles.push(k),O[t]=C}return x||(M?null:m)};Mr.getEleLevelForLayerLevel=function(n,e){return n};Mr.drawEleInLayer=function(n,e,t,a){var u=this,l=this.renderer,f=n.context,c=e.boundingBox();c.w===0||c.h===0||!e.visible()||(t=u.getEleLevelForLayerLevel(t,a),l.setImgSmoothing(f,!1),l.drawCachedElement(f,e,null,null,t,KR),l.setImgSmoothing(f,!0))};Mr.levelIsComplete=function(n,e){var t=this,a=t.layersByLevel[n];if(!a||a.length===0)return!1;for(var u=0,l=0;l<a.length;l++){var f=a[l];if(f.reqs>0||f.invalid)return!1;u+=f.eles.length}return u===e.length};Mr.validateLayersElesOrdering=function(n,e){var t=this.layersByLevel[n];if(t)for(var a=0;a<t.length;a++){for(var u=t[a],l=-1,f=0;f<e.length;f++)if(u.eles[0]===e[f]){l=f;break}if(l<0){this.invalidateLayer(u);continue}for(var c=l,f=0;f<u.eles.length;f++)if(u.eles[f]!==e[c+f]){this.invalidateLayer(u);break}}};Mr.updateElementsInLayers=function(n,e){for(var t=this,a=yh(n[0]),u=0;u<n.length;u++)for(var l=a?null:n[u],f=a?n[u]:n[u].ele,c=f._private.rscratch,g=c.imgLayerCaches=c.imgLayerCaches||{},v=eh;v<=lp;v++){var m=g[v];m&&(l&&t.getEleLevelForLayerLevel(m.level)!==l.level||e(m,f,l))}};Mr.haveLayers=function(){for(var n=this,e=!1,t=eh;t<=lp;t++){var a=n.layersByLevel[t];if(a&&a.length>0){e=!0;break}}return e};Mr.invalidateElements=function(n){var e=this;n.length!==0&&(e.lastInvalidationTime=ll(),!(n.length===0||!e.haveLayers())&&e.updateElementsInLayers(n,function(a,u,l){e.invalidateLayer(a)}))};Mr.invalidateLayer=function(n){if(this.lastInvalidationTime=ll(),!n.invalid){var e=n.level,t=n.eles,a=this.layersByLevel[e];os(a,n),n.elesQueue=[],n.invalid=!0,n.replacement&&(n.replacement.invalid=!0);for(var u=0;u<t.length;u++){var l=t[u]._private.rscratch.imgLayerCaches;l&&(l[e]=null)}}};Mr.refineElementTextures=function(n){var e=this;e.updateElementsInLayers(n,function(a,u,l){var f=a.replacement;if(f||(f=a.replacement=e.makeLayer(a.bb,a.level),f.replaces=a,f.eles=a.eles),!f.reqs)for(var c=0;c<f.eles.length;c++)e.queueLayer(f,f.eles[c])})};Mr.enqueueElementRefinement=function(n){this.eleTxrDeqs.merge(n),this.scheduleElementRefinement()};Mr.queueLayer=function(n,e){var t=this,a=t.layersQueue,u=n.elesQueue,l=u.hasId=u.hasId||{};if(!n.replacement){if(e){if(l[e.id()])return;u.push(e),l[e.id()]=!0}n.reqs?(n.reqs++,a.updateItem(n)):(n.reqs=1,a.push(n))}};Mr.dequeue=function(n){for(var e=this,t=e.layersQueue,a=[],u=0;u<YR&&t.size()!==0;){var l=t.peek();if(l.replacement){t.pop();continue}if(l.replaces&&l!==l.replaces.replacement){t.pop();continue}if(l.invalid){t.pop();continue}var f=l.elesQueue.shift();f&&(e.drawEleInLayer(l,f,l.level,n),u++),a.length===0&&a.push(!0),l.elesQueue.length===0&&(t.pop(),l.reqs=0,l.replaces&&e.applyLayerReplacement(l),e.requestRedraw())}return a};Mr.applyLayerReplacement=function(n){var e=this,t=e.layersByLevel[n.level],a=n.replaces,u=t.indexOf(a);if(!(u<0||a.invalid)){t[u]=n;for(var l=0;l<n.eles.length;l++){var f=n.eles[l]._private,c=f.imgLayerCaches=f.imgLayerCaches||{};c&&(c[n.level]=n)}e.requestRedraw()}};Mr.requestRedraw=wh(function(){var n=this.renderer;n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},100);Mr.setupDequeueing=fE.setupDequeueing({deqRedrawThreshold:PR,deqCost:FR,deqAvgCost:qR,deqNoDrawCost:GR,deqFastCost:VR,deq:function(e,t){return e.dequeue(t)},onDeqd:D0,shouldRedraw:tw,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var dE={},bb;function WR(n,e){for(var t=0;t<e.length;t++){var a=e[t];n.lineTo(a.x,a.y)}}function QR(n,e,t){for(var a,u=0;u<e.length;u++){var l=e[u];u===0&&(a=l),n.lineTo(l.x,l.y)}n.quadraticCurveTo(t.x,t.y,a.x,a.y)}function wb(n,e,t){n.beginPath&&n.beginPath();for(var a=e,u=0;u<a.length;u++){var l=a[u];n.lineTo(l.x,l.y)}var f=t,c=t[0];n.moveTo(c.x,c.y);for(var u=1;u<f.length;u++){var l=f[u];n.lineTo(l.x,l.y)}n.closePath&&n.closePath()}function $R(n,e,t,a,u){n.beginPath&&n.beginPath(),n.arc(t,a,u,0,Math.PI*2,!1);var l=e,f=l[0];n.moveTo(f.x,f.y);for(var c=0;c<l.length;c++){var g=l[c];n.lineTo(g.x,g.y)}n.closePath&&n.closePath()}function JR(n,e,t,a){n.arc(e,t,a,0,Math.PI*2,!1)}dE.arrowShapeImpl=function(n){return(bb||(bb={polygon:WR,"triangle-backcurve":QR,"triangle-tee":wb,"circle-triangle":$R,"triangle-cross":wb,circle:JR}))[n]};var Nu={};Nu.drawElement=function(n,e,t,a,u,l){var f=this;e.isNode()?f.drawNode(n,e,t,a,u,l):f.drawEdge(n,e,t,a,u,l)};Nu.drawElementOverlay=function(n,e){var t=this;e.isNode()?t.drawNodeOverlay(n,e):t.drawEdgeOverlay(n,e)};Nu.drawElementUnderlay=function(n,e){var t=this;e.isNode()?t.drawNodeUnderlay(n,e):t.drawEdgeUnderlay(n,e)};Nu.drawCachedElementPortion=function(n,e,t,a,u,l,f,c){var g=this,v=t.getBoundingBox(e);if(!(v.w===0||v.h===0)){var m=t.getElement(e,v,a,u,l);if(m!=null){var p=c(g,e);if(p===0)return;var w=f(g,e),x=v.x1,S=v.y1,D=v.w,T=v.h,C,R,M,_,k;if(w!==0){var z=t.getRotationPoint(e);M=z.x,_=z.y,n.translate(M,_),n.rotate(w),k=g.getImgSmoothing(n),k||g.setImgSmoothing(n,!0);var O=t.getRotationOffset(e);C=O.x,R=O.y}else C=x,R=S;var I;p!==1&&(I=n.globalAlpha,n.globalAlpha=I*p),n.drawImage(m.texture.canvas,m.x,0,m.width,m.height,C,R,D,T),p!==1&&(n.globalAlpha=I),w!==0&&(n.rotate(-w),n.translate(-M,-_),k||g.setImgSmoothing(n,!1))}else t.drawElement(n,e)}};var jR=function(){return 0},eM=function(e,t){return e.getTextAngle(t,null)},tM=function(e,t){return e.getTextAngle(t,"source")},nM=function(e,t){return e.getTextAngle(t,"target")},rM=function(e,t){return t.effectiveOpacity()},jy=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Nu.drawCachedElement=function(n,e,t,a,u,l){var f=this,c=f.data,g=c.eleTxrCache,v=c.lblTxrCache,m=c.slbTxrCache,p=c.tlbTxrCache,w=e.boundingBox(),x=l===!0?g.reasons.highQuality:null;if(!(w.w===0||w.h===0||!e.visible())&&(!a||B0(w,a))){var S=e.isEdge(),D=e.element()._private.rscratch.badLine;f.drawElementUnderlay(n,e),f.drawCachedElementPortion(n,e,g,t,u,x,jR,rM),(!S||!D)&&f.drawCachedElementPortion(n,e,v,t,u,x,eM,jy),S&&!D&&(f.drawCachedElementPortion(n,e,m,t,u,x,tM,jy),f.drawCachedElementPortion(n,e,p,t,u,x,nM,jy)),f.drawElementOverlay(n,e)}};Nu.drawElements=function(n,e){for(var t=this,a=0;a<e.length;a++){var u=e[a];t.drawElement(n,u)}};Nu.drawCachedElements=function(n,e,t,a){for(var u=this,l=0;l<e.length;l++){var f=e[l];u.drawCachedElement(n,f,t,a)}};Nu.drawCachedNodes=function(n,e,t,a){for(var u=this,l=0;l<e.length;l++){var f=e[l];f.isNode()&&u.drawCachedElement(n,f,t,a)}};Nu.drawLayeredElements=function(n,e,t,a){var u=this,l=u.data.lyrTxrCache.getLayers(e,t);if(l)for(var f=0;f<l.length;f++){var c=l[f],g=c.bb;g.w===0||g.h===0||n.drawImage(c.canvas,g.x1,g.y1,g.w,g.h)}else u.drawCachedElements(n,e,t,a)};var cl={};cl.drawEdge=function(n,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=this,c=e._private.rscratch;if(!(l&&!e.visible())&&!(c.badLine||c.allpts==null||isNaN(c.allpts[0]))){var g;t&&(g=t,n.translate(-g.x1,-g.y1));var v=l?e.pstyle("opacity").value:1,m=l?e.pstyle("line-opacity").value:1,p=e.pstyle("curve-style").value,w=e.pstyle("line-style").value,x=e.pstyle("width").pfValue,S=e.pstyle("line-cap").value,D=e.pstyle("line-outline-width").value,T=e.pstyle("line-outline-color").value,C=v*m,R=v*m,M=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;p==="straight-triangle"?(f.eleStrokeStyle(n,e,ee),f.drawEdgeTrianglePath(e,n,c.allpts)):(n.lineWidth=x,n.lineCap=S,f.eleStrokeStyle(n,e,ee),f.drawEdgePath(e,n,c.allpts,w),n.lineCap="butt")},_=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;if(n.lineWidth=x+D,n.lineCap=S,D>0)f.colorStrokeStyle(n,T[0],T[1],T[2],ee);else{n.lineCap="butt";return}p==="straight-triangle"?f.drawEdgeTrianglePath(e,n,c.allpts):(f.drawEdgePath(e,n,c.allpts,w),n.lineCap="butt")},k=function(){u&&f.drawEdgeOverlay(n,e)},z=function(){u&&f.drawEdgeUnderlay(n,e)},O=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;f.drawArrowheads(n,e,ee)},I=function(){f.drawElementText(n,e,null,a)};n.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var F=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,W=C*V;n.translate(F,Y),M(W),O(W),n.translate(-F,-Y)}else _();z(),M(),O(),k(),I(),t&&n.translate(g.x1,g.y1)}};var hE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,a){if(a.visible()){var u=a.pstyle("".concat(e,"-opacity")).value;if(u!==0){var l=this,f=l.usePaths(),c=a._private.rscratch,g=a.pstyle("".concat(e,"-padding")).pfValue,v=2*g,m=a.pstyle("".concat(e,"-color")).value;t.lineWidth=v,c.edgeType==="self"&&!f?t.lineCap="butt":t.lineCap="round",l.colorStrokeStyle(t,m[0],m[1],m[2],u),l.drawEdgePath(a,t,c.allpts,"solid")}}}};cl.drawEdgeOverlay=hE("overlay");cl.drawEdgeUnderlay=hE("underlay");cl.drawEdgePath=function(n,e,t,a){var u=n._private.rscratch,l=e,f,c=!1,g=this.usePaths(),v=n.pstyle("line-dash-pattern").pfValue,m=n.pstyle("line-dash-offset").pfValue;if(g){var p=t.join("$"),w=u.pathCacheKey&&u.pathCacheKey===p;w?(f=e=u.pathCache,c=!0):(f=e=new Path2D,u.pathCacheKey=p,u.pathCache=f)}if(l.setLineDash)switch(a){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash(v),l.lineDashOffset=m;break;case"solid":l.setLineDash([]);break}if(!c&&!u.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),u.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var x=2;x+3<t.length;x+=4)e.quadraticCurveTo(t[x],t[x+1],t[x+2],t[x+3]);break;case"straight":case"haystack":for(var S=2;S+1<t.length;S+=2)e.lineTo(t[S],t[S+1]);break;case"segments":if(u.isRound){var D=Qa(u.roundCorners),T;try{for(D.s();!(T=D.n()).done;){var C=T.value;nE(e,C)}}catch(M){D.e(M)}finally{D.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var R=2;R+1<t.length;R+=2)e.lineTo(t[R],t[R+1]);break}e=l,g?e.stroke(f):e.stroke(),e.setLineDash&&e.setLineDash([])};cl.drawEdgeTrianglePath=function(n,e,t){e.fillStyle=e.strokeStyle;for(var a=n.pstyle("width").pfValue,u=0;u+1<t.length;u+=2){var l=[t[u+2]-t[u],t[u+3]-t[u+1]],f=Math.sqrt(l[0]*l[0]+l[1]*l[1]),c=[l[1]/f,-l[0]/f],g=[c[0]*a/2,c[1]*a/2];e.beginPath(),e.moveTo(t[u]-g[0],t[u+1]-g[1]),e.lineTo(t[u]+g[0],t[u+1]+g[1]),e.lineTo(t[u+2],t[u+3]),e.closePath(),e.fill()}};cl.drawArrowheads=function(n,e,t){var a=e._private.rscratch,u=a.edgeType==="haystack";u||this.drawArrowhead(n,e,"source",a.arrowStartX,a.arrowStartY,a.srcArrowAngle,t),this.drawArrowhead(n,e,"mid-target",a.midX,a.midY,a.midtgtArrowAngle,t),this.drawArrowhead(n,e,"mid-source",a.midX,a.midY,a.midsrcArrowAngle,t),u||this.drawArrowhead(n,e,"target",a.arrowEndX,a.arrowEndY,a.tgtArrowAngle,t)};cl.drawArrowhead=function(n,e,t,a,u,l,f){if(!(isNaN(a)||a==null||isNaN(u)||u==null||isNaN(l)||l==null)){var c=this,g=e.pstyle(t+"-arrow-shape").value;if(g!=="none"){var v=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",m=e.pstyle(t+"-arrow-fill").value,p=e.pstyle("width").pfValue,w=e.pstyle(t+"-arrow-width"),x=w.value==="match-line"?p:w.pfValue;w.units==="%"&&(x*=p);var S=e.pstyle("opacity").value;f===void 0&&(f=S);var D=n.globalCompositeOperation;(f!==1||m==="hollow")&&(n.globalCompositeOperation="destination-out",c.colorFillStyle(n,255,255,255,1),c.colorStrokeStyle(n,255,255,255,1),c.drawArrowShape(e,n,v,p,g,x,a,u,l),n.globalCompositeOperation=D);var T=e.pstyle(t+"-arrow-color").value;c.colorFillStyle(n,T[0],T[1],T[2],f),c.colorStrokeStyle(n,T[0],T[1],T[2],f),c.drawArrowShape(e,n,m,p,g,x,a,u,l)}}};cl.drawArrowShape=function(n,e,t,a,u,l,f,c,g){var v=this,m=this.usePaths()&&u!=="triangle-cross",p=!1,w,x=e,S={x:f,y:c},D=n.pstyle("arrow-scale").value,T=this.getArrowWidth(a,D),C=v.arrowShapes[u];if(m){var R=v.arrowPathCache=v.arrowPathCache||[],M=ss(u),_=R[M];_!=null?(w=e=_,p=!0):(w=e=new Path2D,R[M]=w)}p||(e.beginPath&&e.beginPath(),m?C.draw(e,1,0,{x:0,y:0},1):C.draw(e,T,g,S,a),e.closePath&&e.closePath()),e=x,m&&(e.translate(f,c),e.rotate(g),e.scale(T,T)),(t==="filled"||t==="both")&&(m?e.fill(w):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=l/(m?T:1),e.lineJoin="miter",m?e.stroke(w):e.stroke()),m&&(e.scale(1/T,1/T),e.rotate(-g),e.translate(-f,-c))};var Y0={};Y0.safeDrawImage=function(n,e,t,a,u,l,f,c,g,v){if(!(u<=0||l<=0||g<=0||v<=0))try{n.drawImage(e,t,a,u,l,f,c,g,v)}catch(m){un(m)}};Y0.drawInscribedImage=function(n,e,t,a,u){var l=this,f=t.position(),c=f.x,g=f.y,v=t.cy().style(),m=v.getIndexedStyle.bind(v),p=m(t,"background-fit","value",a),w=m(t,"background-repeat","value",a),x=t.width(),S=t.height(),D=t.padding()*2,T=x+(m(t,"background-width-relative-to","value",a)==="inner"?0:D),C=S+(m(t,"background-height-relative-to","value",a)==="inner"?0:D),R=t._private.rscratch,M=m(t,"background-clip","value",a),_=M==="node",k=m(t,"background-image-opacity","value",a)*u,z=m(t,"background-image-smoothing","value",a),O=t.pstyle("corner-radius").value;O!=="auto"&&(O=t.pstyle("corner-radius").pfValue);var I=e.width||e.cachedW,L=e.height||e.cachedH;(I==null||L==null)&&(document.body.appendChild(e),I=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=I,Y=L;if(m(t,"background-width","value",a)!=="auto"&&(m(t,"background-width","units",a)==="%"?F=m(t,"background-width","pfValue",a)*T:F=m(t,"background-width","pfValue",a)),m(t,"background-height","value",a)!=="auto"&&(m(t,"background-height","units",a)==="%"?Y=m(t,"background-height","pfValue",a)*C:Y=m(t,"background-height","pfValue",a)),!(F===0||Y===0)){if(p==="contain"){var V=Math.min(T/F,C/Y);F*=V,Y*=V}else if(p==="cover"){var V=Math.max(T/F,C/Y);F*=V,Y*=V}var W=c-T/2,K=m(t,"background-position-x","units",a),ee=m(t,"background-position-x","pfValue",a);K==="%"?W+=(T-F)*ee:W+=ee;var X=m(t,"background-offset-x","units",a),Q=m(t,"background-offset-x","pfValue",a);X==="%"?W+=(T-F)*Q:W+=Q;var j=g-C/2,le=m(t,"background-position-y","units",a),P=m(t,"background-position-y","pfValue",a);le==="%"?j+=(C-Y)*P:j+=P;var Z=m(t,"background-offset-y","units",a),ne=m(t,"background-offset-y","pfValue",a);Z==="%"?j+=(C-Y)*ne:j+=ne,R.pathCache&&(W-=c,j-=g,c=0,g=0);var de=n.globalAlpha;n.globalAlpha=k;var se=l.getImgSmoothing(n),we=!1;if(z==="no"&&se?(l.setImgSmoothing(n,!1),we=!0):z==="yes"&&!se&&(l.setImgSmoothing(n,!0),we=!0),w==="no-repeat")_&&(n.save(),R.pathCache?n.clip(R.pathCache):(l.nodeShapes[l.getNodeShape(t)].draw(n,c,g,T,C,O,R),n.clip())),l.safeDrawImage(n,e,0,0,I,L,W,j,F,Y),_&&n.restore();else{var me=n.createPattern(e,w);n.fillStyle=me,l.nodeShapes[l.getNodeShape(t)].draw(n,c,g,T,C,O,R),n.translate(W,j),n.fill(),n.translate(-W,-j)}n.globalAlpha=de,we&&l.setImgSmoothing(n,se)}};var Fo={};Fo.eleTextBiggerThanMin=function(n,e){if(!e){var t=n.cy().zoom(),a=this.getPixelRatio(),u=Math.ceil(M0(t*a));e=Math.pow(2,u)}var l=n.pstyle("font-size").pfValue*e,f=n.pstyle("min-zoomed-font-size").pfValue;return!(l<f)};Fo.drawElementText=function(n,e,t,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=this;if(a==null){if(l&&!f.eleTextBiggerThanMin(e))return}else if(a===!1)return;if(e.isNode()){var c=e.pstyle("label");if(!c||!c.value)return;var g=f.getLabelJustification(e);n.textAlign=g,n.textBaseline="bottom"}else{var v=e.element()._private.rscratch.badLine,m=e.pstyle("label"),p=e.pstyle("source-label"),w=e.pstyle("target-label");if(v||(!m||!m.value)&&(!p||!p.value)&&(!w||!w.value))return;n.textAlign="center",n.textBaseline="bottom"}var x=!t,S;t&&(S=t,n.translate(-S.x1,-S.y1)),u==null?(f.drawText(n,e,null,x,l),e.isEdge()&&(f.drawText(n,e,"source",x,l),f.drawText(n,e,"target",x,l))):f.drawText(n,e,u,x,l),t&&n.translate(S.x1,S.y1)};Fo.getFontCache=function(n){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===n)return e;return e={context:n},this.fontCaches.push(e),e};Fo.setupTextStyle=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,f=e.pstyle("font-weight").strValue,c=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,g=e.pstyle("text-outline-opacity").value*c,v=e.pstyle("color").value,m=e.pstyle("text-outline-color").value;n.font=a+" "+f+" "+u+" "+l,n.lineJoin="round",this.colorFillStyle(n,v[0],v[1],v[2],c),this.colorStrokeStyle(n,m[0],m[1],m[2],g)};function e0(n,e,t,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,f=arguments.length>6?arguments[6]:void 0;n.beginPath(),n.moveTo(e+l,t),n.lineTo(e+a-l,t),n.quadraticCurveTo(e+a,t,e+a,t+l),n.lineTo(e+a,t+u-l),n.quadraticCurveTo(e+a,t+u,e+a-l,t+u),n.lineTo(e+l,t+u),n.quadraticCurveTo(e,t+u,e,t+u-l),n.lineTo(e,t+l),n.quadraticCurveTo(e,t,e+l,t),n.closePath(),f?n.stroke():n.fill()}Fo.getTextAngle=function(n,e){var t,a=n._private,u=a.rscratch,l=e?e+"-":"",f=n.pstyle(l+"text-rotation");if(f.strValue==="autorotate"){var c=Wi(u,"labelAngle",e);t=n.isEdge()?c:0}else f.strValue==="none"?t=0:t=f.pfValue;return t};Fo.drawText=function(n,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=e._private,f=l.rscratch,c=u?e.effectiveOpacity():1;if(!(u&&(c===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var g=Wi(f,"labelX",t),v=Wi(f,"labelY",t),m,p,w=this.getLabelText(e,t);if(w!=null&&w!==""&&!isNaN(g)&&!isNaN(v)){this.setupTextStyle(n,e,u);var x=t?t+"-":"",S=Wi(f,"labelWidth",t),D=Wi(f,"labelHeight",t),T=e.pstyle(x+"text-margin-x").pfValue,C=e.pstyle(x+"text-margin-y").pfValue,R=e.isEdge(),M=e.pstyle("text-halign").value,_=e.pstyle("text-valign").value;R&&(M="center",_="center"),g+=T,v+=C;var k;switch(a?k=this.getTextAngle(e,t):k=0,k!==0&&(m=g,p=v,n.translate(m,p),n.rotate(k),g=0,v=0),_){case"top":break;case"center":v+=D/2;break;case"bottom":v+=D;break}var z=e.pstyle("text-background-opacity").value,O=e.pstyle("text-border-opacity").value,I=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,Y=F.indexOf("round")===0,V=2;if(z>0||I>0&&O>0){var W=g-L;switch(M){case"left":W-=S;break;case"center":W-=S/2;break}var K=v-D-L,ee=S+2*L,X=D+2*L;if(z>0){var Q=n.fillStyle,j=e.pstyle("text-background-color").value;n.fillStyle="rgba("+j[0]+","+j[1]+","+j[2]+","+z*c+")",Y?e0(n,W,K,ee,X,V):n.fillRect(W,K,ee,X),n.fillStyle=Q}if(I>0&&O>0){var le=n.strokeStyle,P=n.lineWidth,Z=e.pstyle("text-border-color").value,ne=e.pstyle("text-border-style").value;if(n.strokeStyle="rgba("+Z[0]+","+Z[1]+","+Z[2]+","+O*c+")",n.lineWidth=I,n.setLineDash)switch(ne){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"double":n.lineWidth=I/4,n.setLineDash([]);break;case"solid":n.setLineDash([]);break}if(Y?e0(n,W,K,ee,X,V,"stroke"):n.strokeRect(W,K,ee,X),ne==="double"){var de=I/2;Y?e0(n,W+de,K+de,ee-de*2,X-de*2,V,"stroke"):n.strokeRect(W+de,K+de,ee-de*2,X-de*2)}n.setLineDash&&n.setLineDash([]),n.lineWidth=P,n.strokeStyle=le}}var se=2*e.pstyle("text-outline-width").pfValue;if(se>0&&(n.lineWidth=se),e.pstyle("text-wrap").value==="wrap"){var we=Wi(f,"labelWrapCachedLines",t),me=Wi(f,"labelLineHeight",t),Me=S/2,Se=this.getLabelJustification(e);switch(Se==="auto"||(M==="left"?Se==="left"?g+=-S:Se==="center"&&(g+=-Me):M==="center"?Se==="left"?g+=-Me:Se==="right"&&(g+=Me):M==="right"&&(Se==="center"?g+=Me:Se==="right"&&(g+=S))),_){case"top":v-=(we.length-1)*me;break;case"center":case"bottom":v-=(we.length-1)*me;break}for(var ve=0;ve<we.length;ve++)se>0&&n.strokeText(we[ve],g,v),n.fillText(we[ve],g,v),v+=me}else se>0&&n.strokeText(w,g,v),n.fillText(w,g,v);k!==0&&(n.rotate(-k),n.translate(-m,-p))}}};var Pc={};Pc.drawNode=function(n,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=this,c,g,v=e._private,m=v.rscratch,p=e.position();if(!(!Ge(p.x)||!Ge(p.y))&&!(l&&!e.visible())){var w=l?e.effectiveOpacity():1,x=f.usePaths(),S,D=!1,T=e.padding();c=e.width()+2*T,g=e.height()+2*T;var C;t&&(C=t,n.translate(-C.x1,-C.y1));for(var R=e.pstyle("background-image"),M=R.value,_=new Array(M.length),k=new Array(M.length),z=0,O=0;O<M.length;O++){var I=M[O],L=_[O]=I!=null&&I!=="none";if(L){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",O);z++,k[O]=f.getCachedImage(I,F,function(){v.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var Y=e.pstyle("background-blacken").value,V=e.pstyle("border-width").pfValue,W=e.pstyle("background-opacity").value*w,K=e.pstyle("border-color").value,ee=e.pstyle("border-style").value,X=e.pstyle("border-join").value,Q=e.pstyle("border-cap").value,j=e.pstyle("border-position").value,le=e.pstyle("border-dash-pattern").pfValue,P=e.pstyle("border-dash-offset").pfValue,Z=e.pstyle("border-opacity").value*w,ne=e.pstyle("outline-width").pfValue,de=e.pstyle("outline-color").value,se=e.pstyle("outline-style").value,we=e.pstyle("outline-opacity").value*w,me=e.pstyle("outline-offset").value,Me=e.pstyle("corner-radius").value;Me!=="auto"&&(Me=e.pstyle("corner-radius").pfValue);var Se=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;f.eleFillStyle(n,e,he)},ve=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z;f.colorStrokeStyle(n,K[0],K[1],K[2],he)},re=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:we;f.colorStrokeStyle(n,de[0],de[1],de[2],he)},be=function(he,pe,He,Ae){var Ue=f.nodePathCache=f.nodePathCache||[],nt=ew(He==="polygon"?He+","+Ae.join(","):He,""+pe,""+he,""+Me),at=Ue[nt],Ve,dt=!1;return at!=null?(Ve=at,dt=!0,m.pathCache=Ve):(Ve=new Path2D,Ue[nt]=m.pathCache=Ve),{path:Ve,cacheHit:dt}},Ne=e.pstyle("shape").strValue,Pe=e.pstyle("shape-polygon-points").pfValue;if(x){n.translate(p.x,p.y);var Fe=be(c,g,Ne,Pe);S=Fe.path,D=Fe.cacheHit}var mt=function(){if(!D){var he=p;x&&(he={x:0,y:0}),f.nodeShapes[f.getNodeShape(e)].draw(S||n,he.x,he.y,c,g,Me,m)}x?n.fill(S):n.fill()},Lt=function(){for(var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,He=v.backgrounding,Ae=0,Ue=0;Ue<k.length;Ue++){var nt=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ue);if(pe&&nt==="over"||!pe&&nt==="inside"){Ae++;continue}_[Ue]&&k[Ue].complete&&!k[Ue].error&&(Ae++,f.drawInscribedImage(n,k[Ue],e,Ue,he))}v.backgrounding=Ae!==z,He!==v.backgrounding&&e.updateStyle(!1)},xt=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;f.hasPie(e)&&(f.drawPie(n,e,pe),he&&(x||f.nodeShapes[f.getNodeShape(e)].draw(n,p.x,p.y,c,g,Me,m)))},Xe=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w,pe=(Y>0?Y:-Y)*he,He=Y>0?0:255;Y!==0&&(f.colorFillStyle(n,He,He,He,pe),x?n.fill(S):n.fill())},Ke=function(){if(V>0){if(n.lineWidth=V,n.lineCap=Q,n.lineJoin=X,n.setLineDash)switch(ee){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash(le),n.lineDashOffset=P;break;case"solid":case"double":n.setLineDash([]);break}if(j!=="center"){if(n.save(),n.lineWidth*=2,j==="inside")x?n.clip(S):n.clip();else{var he=new Path2D;he.rect(-c/2-V,-g/2-V,c+2*V,g+2*V),he.addPath(S),n.clip(he,"evenodd")}x?n.stroke(S):n.stroke(),n.restore()}else x?n.stroke(S):n.stroke();if(ee==="double"){n.lineWidth=V/3;var pe=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",x?n.stroke(S):n.stroke(),n.globalCompositeOperation=pe}n.setLineDash&&n.setLineDash([])}},et=function(){if(ne>0){if(n.lineWidth=ne,n.lineCap="butt",n.setLineDash)switch(se){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"solid":case"double":n.setLineDash([]);break}var he=p;x&&(he={x:0,y:0});var pe=f.getNodeShape(e),He=V;j==="inside"&&(He=0),j==="outside"&&(He*=2);var Ae=(c+He+(ne+me))/c,Ue=(g+He+(ne+me))/g,nt=c*Ae,at=g*Ue,Ve=f.nodeShapes[pe].points,dt;if(x){var pt=be(nt,at,pe,Ve);dt=pt.path}if(pe==="ellipse")f.drawEllipsePath(dt||n,he.x,he.y,nt,at);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(pe)){var ot=0,qt=0,$t=0;pe==="round-diamond"?ot=(He+me+ne)*1.4:pe==="round-heptagon"?(ot=(He+me+ne)*1.075,$t=-(He/2+me+ne)/35):pe==="round-hexagon"?ot=(He+me+ne)*1.12:pe==="round-pentagon"?(ot=(He+me+ne)*1.13,$t=-(He/2+me+ne)/15):pe==="round-tag"?(ot=(He+me+ne)*1.12,qt=(He/2+ne+me)*.07):pe==="round-triangle"&&(ot=(He+me+ne)*(Math.PI/2),$t=-(He+me/2+ne)/Math.PI),ot!==0&&(Ae=(c+ot)/c,nt=c*Ae,["round-hexagon","round-tag"].includes(pe)||(Ue=(g+ot)/g,at=g*Ue)),Me=Me==="auto"?cw(nt,at):Me;for(var _n=nt/2,jn=at/2,cn=Me+(He+ne+me)/2,Pn=new Array(Ve.length/2),Dn=new Array(Ve.length/2),er=0;er<Ve.length/2;er++)Pn[er]={x:he.x+qt+_n*Ve[er*2],y:he.y+$t+jn*Ve[er*2+1]};var Yn,or,fr,Vr,Br=Pn.length;for(or=Pn[Br-1],Yn=0;Yn<Br;Yn++)fr=Pn[Yn%Br],Vr=Pn[(Yn+1)%Br],Dn[Yn]=G0(or,fr,Vr,cn),or=fr,fr=Vr;f.drawRoundPolygonPath(dt||n,he.x+qt,he.y+$t,c*Ae,g*Ue,Ve,Dn)}else if(["roundrectangle","round-rectangle"].includes(pe))Me=Me==="auto"?zo(nt,at):Me,f.drawRoundRectanglePath(dt||n,he.x,he.y,nt,at,Me+(He+ne+me)/2);else if(["cutrectangle","cut-rectangle"].includes(pe))Me=Me==="auto"?O0():Me,f.drawCutRectanglePath(dt||n,he.x,he.y,nt,at,null,Me+(He+ne+me)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(pe))Me=Me==="auto"?zo(nt,at):Me,f.drawBottomRoundRectanglePath(dt||n,he.x,he.y,nt,at,Me+(He+ne+me)/2);else if(pe==="barrel")f.drawBarrelPath(dt||n,he.x,he.y,nt,at);else if(pe.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(pe)){var va=(He+ne+me)/c;Ve=ep(tp(Ve,va)),f.drawPolygonPath(dt||n,he.x,he.y,c,g,Ve)}else{var Xn=(He+ne+me)/c;Ve=ep(tp(Ve,-Xn)),f.drawPolygonPath(dt||n,he.x,he.y,c,g,Ve)}if(x?n.stroke(dt):n.stroke(),se==="double"){n.lineWidth=He/3;var Hn=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",x?n.stroke(dt):n.stroke(),n.globalCompositeOperation=Hn}n.setLineDash&&n.setLineDash([])}},$e=function(){u&&f.drawNodeOverlay(n,e,p,c,g)},tt=function(){u&&f.drawNodeUnderlay(n,e,p,c,g)},lt=function(){f.drawElementText(n,e,null,a)},st=e.pstyle("ghost").value==="yes";if(st){var Et=e.pstyle("ghost-offset-x").pfValue,Le=e.pstyle("ghost-offset-y").pfValue,G=e.pstyle("ghost-opacity").value,fe=G*w;n.translate(Et,Le),re(),et(),Se(G*W),mt(),Lt(fe,!0),ve(G*Z),Ke(),xt(Y!==0||V!==0),Lt(fe,!1),Xe(fe),n.translate(-Et,-Le)}x&&n.translate(-p.x,-p.y),tt(),x&&n.translate(p.x,p.y),re(),et(),Se(),mt(),Lt(w,!0),ve(),Ke(),xt(Y!==0||V!==0),Lt(w,!1),Xe(),x&&n.translate(-p.x,-p.y),lt(),$e(),t&&n.translate(C.x1,C.y1)}};var gE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,a,u,l,f){var c=this;if(a.visible()){var g=a.pstyle("".concat(e,"-padding")).pfValue,v=a.pstyle("".concat(e,"-opacity")).value,m=a.pstyle("".concat(e,"-color")).value,p=a.pstyle("".concat(e,"-shape")).value,w=a.pstyle("".concat(e,"-corner-radius")).value;if(v>0){if(u=u||a.position(),l==null||f==null){var x=a.padding();l=a.width()+2*x,f=a.height()+2*x}c.colorFillStyle(t,m[0],m[1],m[2],v),c.nodeShapes[p].draw(t,u.x,u.y,l+g*2,f+g*2,w),t.fill()}}}};Pc.drawNodeOverlay=gE("overlay");Pc.drawNodeUnderlay=gE("underlay");Pc.hasPie=function(n){return n=n[0],n._private.hasPie};Pc.drawPie=function(n,e,t,a){e=e[0],a=a||e.position();var u=e.cy().style(),l=e.pstyle("pie-size"),f=a.x,c=a.y,g=e.width(),v=e.height(),m=Math.min(g,v)/2,p=0,w=this.usePaths();w&&(f=0,c=0),l.units==="%"?m=m*l.pfValue:l.pfValue!==void 0&&(m=l.pfValue/2);for(var x=1;x<=u.pieBackgroundN;x++){var S=e.pstyle("pie-"+x+"-background-size").value,D=e.pstyle("pie-"+x+"-background-color").value,T=e.pstyle("pie-"+x+"-background-opacity").value*t,C=S/100;C+p>1&&(C=1-p);var R=1.5*Math.PI+2*Math.PI*p,M=2*Math.PI*C,_=R+M;S===0||p>=1||p+C>1||(n.beginPath(),n.moveTo(f,c),n.arc(f,c,m,R,_),n.closePath(),this.colorFillStyle(n,D[0],D[1],D[2],T),n.fill(),p+=C)}};var ca={},aM=100;ca.getPixelRatio=function(){var n=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};ca.paintCache=function(n){for(var e=this.paintCaches=this.paintCaches||[],t=!0,a,u=0;u<e.length;u++)if(a=e[u],a.context===n){t=!1;break}return t&&(a={context:n},e.push(a)),a};ca.createGradientStyleFor=function(n,e,t,a,u){var l,f=this.usePaths(),c=t.pstyle(e+"-gradient-stop-colors").value,g=t.pstyle(e+"-gradient-stop-positions").pfValue;if(a==="radial-gradient")if(t.isEdge()){var v=t.sourceEndpoint(),m=t.targetEndpoint(),p=t.midpoint(),w=Lo(v,p),x=Lo(m,p);l=n.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(w,x))}else{var S=f?{x:0,y:0}:t.position(),D=t.paddedWidth(),T=t.paddedHeight();l=n.createRadialGradient(S.x,S.y,0,S.x,S.y,Math.max(D,T))}else if(t.isEdge()){var C=t.sourceEndpoint(),R=t.targetEndpoint();l=n.createLinearGradient(C.x,C.y,R.x,R.y)}else{var M=f?{x:0,y:0}:t.position(),_=t.paddedWidth(),k=t.paddedHeight(),z=_/2,O=k/2,I=t.pstyle("background-gradient-direction").value;switch(I){case"to-bottom":l=n.createLinearGradient(M.x,M.y-O,M.x,M.y+O);break;case"to-top":l=n.createLinearGradient(M.x,M.y+O,M.x,M.y-O);break;case"to-left":l=n.createLinearGradient(M.x+z,M.y,M.x-z,M.y);break;case"to-right":l=n.createLinearGradient(M.x-z,M.y,M.x+z,M.y);break;case"to-bottom-right":case"to-right-bottom":l=n.createLinearGradient(M.x-z,M.y-O,M.x+z,M.y+O);break;case"to-top-right":case"to-right-top":l=n.createLinearGradient(M.x-z,M.y+O,M.x+z,M.y-O);break;case"to-bottom-left":case"to-left-bottom":l=n.createLinearGradient(M.x+z,M.y-O,M.x-z,M.y+O);break;case"to-top-left":case"to-left-top":l=n.createLinearGradient(M.x+z,M.y+O,M.x-z,M.y-O);break}}if(!l)return null;for(var L=g.length===c.length,F=c.length,Y=0;Y<F;Y++)l.addColorStop(L?g[Y]:Y/(F-1),"rgba("+c[Y][0]+","+c[Y][1]+","+c[Y][2]+","+u+")");return l};ca.gradientFillStyle=function(n,e,t,a){var u=this.createGradientStyleFor(n,"background",e,t,a);if(!u)return null;n.fillStyle=u};ca.colorFillStyle=function(n,e,t,a,u){n.fillStyle="rgba("+e+","+t+","+a+","+u+")"};ca.eleFillStyle=function(n,e,t){var a=e.pstyle("background-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientFillStyle(n,e,a,t);else{var u=e.pstyle("background-color").value;this.colorFillStyle(n,u[0],u[1],u[2],t)}};ca.gradientStrokeStyle=function(n,e,t,a){var u=this.createGradientStyleFor(n,"line",e,t,a);if(!u)return null;n.strokeStyle=u};ca.colorStrokeStyle=function(n,e,t,a,u){n.strokeStyle="rgba("+e+","+t+","+a+","+u+")"};ca.eleStrokeStyle=function(n,e,t){var a=e.pstyle("line-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientStrokeStyle(n,e,a,t);else{var u=e.pstyle("line-color").value;this.colorStrokeStyle(n,u[0],u[1],u[2],t)}};ca.matchCanvasSize=function(n){var e=this,t=e.data,a=e.findContainerClientCoords(),u=a[2],l=a[3],f=e.getPixelRatio(),c=e.motionBlurPxRatio;(n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(f=c);var g=u*f,v=l*f,m;if(!(g===e.canvasWidth&&v===e.canvasHeight)){e.fontCaches=null;var p=t.canvasContainer;p.style.width=u+"px",p.style.height=l+"px";for(var w=0;w<e.CANVAS_LAYERS;w++)m=t.canvases[w],m.width=g,m.height=v,m.style.width=u+"px",m.style.height=l+"px";for(var w=0;w<e.BUFFER_COUNT;w++)m=t.bufferCanvases[w],m.width=g,m.height=v,m.style.width=u+"px",m.style.height=l+"px";e.textureMult=1,f<=1&&(m=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,m.width=g*e.textureMult,m.height=v*e.textureMult),e.canvasWidth=g,e.canvasHeight=v,e.pixelRatio=f}};ca.renderTo=function(n,e,t,a){this.render({forcedContext:n,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:a})};ca.clearCanvas=function(){var n=this,e=n.data;function t(a){a.clearRect(0,0,n.canvasWidth,n.canvasHeight)}t(e.contexts[n.NODE]),t(e.contexts[n.DRAG])};ca.render=function(n){var e=this;n=n||aw();var t=e.cy,a=n.forcedContext,u=n.drawAllLayers,l=n.drawOnlyNodeLayer,f=n.forcedZoom,c=n.forcedPan,g=n.forcedPxRatio===void 0?this.getPixelRatio():n.forcedPxRatio,v=e.data,m=v.canvasNeedsRedraw,p=e.textureOnViewport&&!a&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),w=n.motionBlur!==void 0?n.motionBlur:e.motionBlur,x=e.motionBlurPxRatio,S=t.hasCompoundNodes(),D=e.hoverData.draggingEles,T=!!(e.hoverData.selecting||e.touchData.selecting);w=w&&!a&&e.motionBlurEnabled&&!T;var C=w;a||(e.prevPxRatio!==g&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=g),!a&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),w&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(C=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!p&&(m[e.NODE]=!0,m[e.SELECT_BOX]=!0);var R=t.style(),M=t.zoom(),_=f!==void 0?f:M,k=t.pan(),z={x:k.x,y:k.y},O={zoom:M,pan:{x:k.x,y:k.y}},I=e.prevViewport,L=I===void 0||O.zoom!==I.zoom||O.pan.x!==I.pan.x||O.pan.y!==I.pan.y;!L&&!(D&&!S)&&(e.motionBlurPxRatio=1),c&&(z=c),_*=g,z.x*=g,z.y*=g;var F=e.getCachedZSortedEles();function Y(ve,re,be,Ne,Pe){var Fe=ve.globalCompositeOperation;ve.globalCompositeOperation="destination-out",e.colorFillStyle(ve,255,255,255,e.motionBlurTransparency),ve.fillRect(re,be,Ne,Pe),ve.globalCompositeOperation=Fe}function V(ve,re){var be,Ne,Pe,Fe;!e.clearingMotionBlur&&(ve===v.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ve===v.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(be={x:k.x*x,y:k.y*x},Ne=M*x,Pe=e.canvasWidth*x,Fe=e.canvasHeight*x):(be=z,Ne=_,Pe=e.canvasWidth,Fe=e.canvasHeight),ve.setTransform(1,0,0,1,0,0),re==="motionBlur"?Y(ve,0,0,Pe,Fe):!a&&(re===void 0||re)&&ve.clearRect(0,0,Pe,Fe),u||(ve.translate(be.x,be.y),ve.scale(Ne,Ne)),c&&ve.translate(c.x,c.y),f&&ve.scale(f,f)}if(p||(e.textureDrawLastFrame=!1),p){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var W=e.data.bufferContexts[e.TEXTURE_BUFFER];W.setTransform(1,0,0,1,0,0),W.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:W,drawOnlyNodeLayer:!0,forcedPxRatio:g*e.textureMult});var O=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};O.mpan={x:(0-O.pan.x)/O.zoom,y:(0-O.pan.y)/O.zoom}}m[e.DRAG]=!1,m[e.NODE]=!1;var K=v.contexts[e.NODE],ee=e.textureCache.texture,O=e.textureCache.viewport;K.setTransform(1,0,0,1,0,0),w?Y(K,0,0,O.width,O.height):K.clearRect(0,0,O.width,O.height);var X=R.core("outside-texture-bg-color").value,Q=R.core("outside-texture-bg-opacity").value;e.colorFillStyle(K,X[0],X[1],X[2],Q),K.fillRect(0,0,O.width,O.height);var M=t.zoom();V(K,!1),K.clearRect(O.mpan.x,O.mpan.y,O.width/O.zoom/g,O.height/O.zoom/g),K.drawImage(ee,O.mpan.x,O.mpan.y,O.width/O.zoom/g,O.height/O.zoom/g)}else e.textureOnViewport&&!a&&(e.textureCache=null);var j=t.extent(),le=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),P=e.hideEdgesOnViewport&&le,Z=[];if(Z[e.NODE]=!m[e.NODE]&&w&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,Z[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),Z[e.DRAG]=!m[e.DRAG]&&w&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,Z[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),m[e.NODE]||u||l||Z[e.NODE]){var ne=w&&!Z[e.NODE]&&x!==1,K=a||(ne?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:v.contexts[e.NODE]),de=w&&!ne?"motionBlur":void 0;V(K,de),P?e.drawCachedNodes(K,F.nondrag,g,j):e.drawLayeredElements(K,F.nondrag,g,j),e.debug&&e.drawDebugPoints(K,F.nondrag),!u&&!w&&(m[e.NODE]=!1)}if(!l&&(m[e.DRAG]||u||Z[e.DRAG])){var ne=w&&!Z[e.DRAG]&&x!==1,K=a||(ne?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:v.contexts[e.DRAG]);V(K,w&&!ne?"motionBlur":void 0),P?e.drawCachedNodes(K,F.drag,g,j):e.drawCachedElements(K,F.drag,g,j),e.debug&&e.drawDebugPoints(K,F.drag),!u&&!w&&(m[e.DRAG]=!1)}if(this.drawSelectionRectangle(n,V),w&&x!==1){var se=v.contexts[e.NODE],we=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],me=v.contexts[e.DRAG],Me=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Se=function(re,be,Ne){re.setTransform(1,0,0,1,0,0),Ne||!C?re.clearRect(0,0,e.canvasWidth,e.canvasHeight):Y(re,0,0,e.canvasWidth,e.canvasHeight);var Pe=x;re.drawImage(be,0,0,e.canvasWidth*Pe,e.canvasHeight*Pe,0,0,e.canvasWidth,e.canvasHeight)};(m[e.NODE]||Z[e.NODE])&&(Se(se,we,Z[e.NODE]),m[e.NODE]=!1),(m[e.DRAG]||Z[e.DRAG])&&(Se(me,Me,Z[e.DRAG]),m[e.DRAG]=!1)}e.prevViewport=O,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),w&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!p,e.mbFrames=0,m[e.NODE]=!0,m[e.DRAG]=!0,e.redraw()},aM)),a||t.emit("render")};var Vd;ca.drawSelectionRectangle=function(n,e){var t=this,a=t.cy,u=t.data,l=a.style(),f=n.drawOnlyNodeLayer,c=n.drawAllLayers,g=u.canvasNeedsRedraw,v=n.forcedContext;if(t.showFps||!f&&g[t.SELECT_BOX]&&!c){var m=v||u.contexts[t.SELECT_BOX];if(e(m),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var p=t.cy.zoom(),w=l.core("selection-box-border-width").value/p;m.lineWidth=w,m.fillStyle="rgba("+l.core("selection-box-color").value[0]+","+l.core("selection-box-color").value[1]+","+l.core("selection-box-color").value[2]+","+l.core("selection-box-opacity").value+")",m.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),w>0&&(m.strokeStyle="rgba("+l.core("selection-box-border-color").value[0]+","+l.core("selection-box-border-color").value[1]+","+l.core("selection-box-border-color").value[2]+","+l.core("selection-box-opacity").value+")",m.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(u.bgActivePosistion&&!t.hoverData.selecting){var p=t.cy.zoom(),x=u.bgActivePosistion;m.fillStyle="rgba("+l.core("active-bg-color").value[0]+","+l.core("active-bg-color").value[1]+","+l.core("active-bg-color").value[2]+","+l.core("active-bg-opacity").value+")",m.beginPath(),m.arc(x.x,x.y,l.core("active-bg-size").pfValue/p,0,2*Math.PI),m.fill()}var S=t.lastRedrawTime;if(t.showFps&&S){S=Math.round(S);var D=Math.round(1e3/S),T="1 frame = "+S+" ms = "+D+" fps";if(m.setTransform(1,0,0,1,0,0),m.fillStyle="rgba(255, 0, 0, 0.75)",m.strokeStyle="rgba(255, 0, 0, 0.75)",m.font="30px Arial",!Vd){var C=m.measureText(T);Vd=C.actualBoundingBoxAscent}m.fillText(T,0,Vd);var R=60;m.strokeRect(0,Vd+10,250,20),m.fillRect(0,Vd+10,250*Math.min(D/R,1),20)}c||(g[t.SELECT_BOX]=!1)}};function Eb(n,e,t){var a=n.createShader(e);if(n.shaderSource(a,t),n.compileShader(a),!n.getShaderParameter(a,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(a));return a}function iM(n,e,t){var a=Eb(n,n.VERTEX_SHADER,e),u=Eb(n,n.FRAGMENT_SHADER,t),l=n.createProgram();if(n.attachShader(l,a),n.attachShader(l,u),n.linkProgram(l),!n.getProgramParameter(l,n.LINK_STATUS))throw new Error("Could not initialize shaders");return l}function uM(n,e,t){t===void 0&&(t=e);var a=n.makeOffscreenCanvas(e,t),u=a.context=a.getContext("2d");return a.clear=function(){return u.clearRect(0,0,a.width,a.height)},a.clear(),a}function X0(n){var e=n.pixelRatio,t=n.cy.zoom(),a=n.cy.pan();return{zoom:t*e,pan:{x:a.x*e,y:a.y*e}}}function lM(n,e,t,a,u){var l=a*t+e.x,f=u*t+e.y;return f=Math.round(n.canvasHeight-f),[l,f]}function Pm(n,e,t){var a=n[0]/255,u=n[1]/255,l=n[2]/255,f=e,c=t||new Array(4);return c[0]=a*f,c[1]=u*f,c[2]=l*f,c[3]=f,c}function Hm(n,e){var t=e||new Array(4);return t[0]=(n>>0&255)/255,t[1]=(n>>8&255)/255,t[2]=(n>>16&255)/255,t[3]=(n>>24&255)/255,t}function sM(n){return n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24)}function oM(n,e){var t=n.createTexture();return t.buffer=function(a){n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,a),n.generateMipmap(n.TEXTURE_2D),n.bindTexture(n.TEXTURE_2D,null)},t.deleteTexture=function(){n.deleteTexture(t)},t}function mE(n,e){switch(e){case"float":return[1,n.FLOAT,4];case"vec2":return[2,n.FLOAT,4];case"vec3":return[3,n.FLOAT,4];case"vec4":return[4,n.FLOAT,4];case"int":return[1,n.INT,4];case"ivec2":return[2,n.INT,4]}}function pE(n,e,t){switch(e){case n.FLOAT:return new Float32Array(t);case n.INT:return new Int32Array(t)}}function fM(n,e,t,a,u,l){switch(e){case n.FLOAT:return new Float32Array(t.buffer,l*a,u);case n.INT:return new Int32Array(t.buffer,l*a,u)}}function cM(n,e,t,a){var u=mE(n,e),l=pr(u,2),f=l[0],c=l[1],g=pE(n,c,a),v=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,v),n.bufferData(n.ARRAY_BUFFER,g,n.STATIC_DRAW),c===n.FLOAT?n.vertexAttribPointer(t,f,c,!1,0,0):c===n.INT&&n.vertexAttribIPointer(t,f,c,0,0),n.enableVertexAttribArray(t),n.bindBuffer(n.ARRAY_BUFFER,null),v}function Wa(n,e,t,a){var u=mE(n,t),l=pr(u,3),f=l[0],c=l[1],g=l[2],v=pE(n,c,e*f),m=f*g,p=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,p),n.bufferData(n.ARRAY_BUFFER,e*m,n.DYNAMIC_DRAW),n.enableVertexAttribArray(a),c===n.FLOAT?n.vertexAttribPointer(a,f,c,!1,m,0):c===n.INT&&n.vertexAttribIPointer(a,f,c,m,0),n.vertexAttribDivisor(a,1),n.bindBuffer(n.ARRAY_BUFFER,null);for(var w=new Array(e),x=0;x<e;x++)w[x]=fM(n,c,v,m,f,x);return p.dataArray=v,p.stride=m,p.size=f,p.getView=function(S){return w[S]},p.setPoint=function(S,D,T){var C=w[S];C[0]=D,C[1]=T},p.bufferSubData=function(S){n.bindBuffer(n.ARRAY_BUFFER,p),S?n.bufferSubData(n.ARRAY_BUFFER,0,v,0,S*f):n.bufferSubData(n.ARRAY_BUFFER,0,v)},p}function vM(n){var e=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,e);var t=n.createTexture();return n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.bindFramebuffer(n.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(a,u){n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,a,u,0,n.RGBA,n.UNSIGNED_BYTE,null)},e}var Sb=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function th(){var n=new Sb(9);return Sb!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function yE(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function dM(n,e,t){var a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],g=e[5],v=e[6],m=e[7],p=e[8],w=t[0],x=t[1],S=t[2],D=t[3],T=t[4],C=t[5],R=t[6],M=t[7],_=t[8];return n[0]=w*a+x*f+S*v,n[1]=w*u+x*c+S*m,n[2]=w*l+x*g+S*p,n[3]=D*a+T*f+C*v,n[4]=D*u+T*c+C*m,n[5]=D*l+T*g+C*p,n[6]=R*a+M*f+_*v,n[7]=R*u+M*c+_*m,n[8]=R*l+M*g+_*p,n}function sp(n,e,t){var a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],g=e[5],v=e[6],m=e[7],p=e[8],w=t[0],x=t[1];return n[0]=a,n[1]=u,n[2]=l,n[3]=f,n[4]=c,n[5]=g,n[6]=w*a+x*f+v,n[7]=w*u+x*c+m,n[8]=w*l+x*g+p,n}function bE(n,e,t){var a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],g=e[5],v=e[6],m=e[7],p=e[8],w=Math.sin(t),x=Math.cos(t);return n[0]=x*a+w*f,n[1]=x*u+w*c,n[2]=x*l+w*g,n[3]=x*f-w*a,n[4]=x*c-w*u,n[5]=x*g-w*l,n[6]=v,n[7]=m,n[8]=p,n}function K0(n,e,t){var a=t[0],u=t[1];return n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n[3]=u*e[3],n[4]=u*e[4],n[5]=u*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function hM(n,e,t){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/t,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}var nh={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Yd=yr({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),gM=function(){function n(e,t){ds(this,n),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=t.webglTexSize,this.rows=t.webglTexRows,this.enableWrapping=t.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=t.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=t.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return hs(n,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var a=t.w,u=t.h,l=this.texHeight,f=this.maxTexWidth,c=l/u,g=a*c,v=u*c;return g>f&&(c=f/a,g=a*c,v=u*c),{scale:c,texW:g,texH:v}}},{key:"draw",value:function(t,a,u){var l=this,f=this.atlasSize,c=this.rows,g=this.texHeight,v=this.getScale(a),m=v.scale,p=v.texW,w=v.texH,x=[null,null],S=function(M,_){if(u&&_){var k=_.context,z=M.x,O=M.row,I=z,L=g*O;k.save(),k.translate(I,L),k.scale(m,m),u(k,a),k.restore()}},D=function(){S(l.freePointer,l.canvas),x[0]={x:l.freePointer.x,y:l.freePointer.row*g,w:p,h:w},x[1]={x:l.freePointer.x+p,y:l.freePointer.row*g,w:0,h:w},l.freePointer.x+=p,l.freePointer.x==f&&(l.freePointer.x=0,l.freePointer.row++)},T=function(){var M=l.scratch,_=l.canvas;M.clear(),S({x:0,row:0},M);var k=f-l.freePointer.x,z=p-k,O=g;{var I=l.freePointer.x,L=l.freePointer.row*g,F=k;_.context.drawImage(M,0,0,F,O,I,L,F,O),x[0]={x:I,y:L,w:F,h:w}}{var Y=k,V=(l.freePointer.row+1)*g,W=z;_&&_.context.drawImage(M,Y,0,W,O,0,V,W,O),x[1]={x:0,y:V,w:W,h:w}}l.freePointer.x=z,l.freePointer.row++},C=function(){l.freePointer.x=0,l.freePointer.row++};if(this.freePointer.x+p<=f)D();else{if(this.freePointer.row>=c-1)return!1;this.freePointer.x===f?(C(),D()):this.enableWrapping?T():(C(),D())}return this.keyToLocation.set(t,x),this.needsBuffer=!0,x}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){var a=this.atlasSize,u=this.rows,l=this.getScale(t),f=l.texW;return this.freePointer.x+f>a?this.freePointer.row<u-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=oM(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),n}(),mM=function(){function n(e,t){ds(this,n),this.r=e,this.opts=t,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return hs(n,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(t){var a=this.keyToIds.get(t);return a||(a=new Set,this.keyToIds.set(t,a)),a}},{key:"_createAtlas",value:function(){var t=this.r,a=this.opts;return new gM(t,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,a=this.opts,u=a.webglTexSize,l=Math.floor(u/a.webglTexRows);this.scratch=a.createTextureCanvas(t,u,l,"scratch")}return this.scratch}},{key:"draw",value:function(t,a,u,l){if(this.styleKeyNeedsRedraw.has(a)){this.styleKeyNeedsRedraw.delete(a),this.deleteKey(t,a);var f=this.styleKeyToAtlas.get(a);f&&(f.forceGC=!0),this.styleKeyToAtlas.delete(a)}var c=this.styleKeyToAtlas.get(a);return c||(c=this.atlases[this.atlases.length-1],(!c||!c.canFit(u))&&(c=this._createAtlas(),this.atlases.push(c)),c.draw(a,u,l),this.styleKeyToAtlas.set(a,c),this.getIdsFor(a).add(t),this.idToKey.set(t,a)),c}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"deleteKey",value:function(t,a){this.idToKey.delete(t),this.getIdsFor(a).delete(t)}},{key:"checkKeyIsInvalid",value:function(t,a){if(!this.idToKey.has(t))return!1;var u=this.idToKey.get(t);return u!=a?(this.deleteKey(t,u),!0):!1}},{key:"_getKeysToCollect",value:function(){var t=new Set,a=Qa(this.styleKeyToAtlas.keys()),u;try{for(a.s();!(u=a.n()).done;){var l=u.value;this.getIdsFor(l).size==0&&t.add(l)}}catch(f){a.e(f)}finally{a.f()}return t}},{key:"gc",value:function(){var t=this,a=this.atlases.some(function(w){return w.forceGC}),u=this._getKeysToCollect();if(u.size===0&&!a){console.log("nothing to garbage collect");return}var l=[],f=new Map,c=null,g=Qa(this.atlases),v;try{var m=function(){var x=v.value,S=x.getKeys(),D=pM(u,S);if(D.size===0&&!x.forceGC)return l.push(x),S.forEach(function(O){return f.set(O,x)}),"continue";c||(c=t._createAtlas(),l.push(c));var T=Qa(S),C;try{for(T.s();!(C=T.n()).done;){var R=C.value;if(!D.has(R)){var M=x.getOffsets(R),_=pr(M,2),k=_[0],z=_[1];c.canFit({w:k.w+z.w,h:k.h})||(c=t._createAtlas(),l.push(c)),t._copyTextureToNewAtlas(R,x,c),f.set(R,c)}}}catch(O){T.e(O)}finally{T.f()}};for(g.s();!(v=g.n()).done;)var p=m()}catch(w){g.e(w)}finally{g.f()}this.atlases=l,this.styleKeyToAtlas=f}},{key:"_copyTextureToNewAtlas",value:function(t,a,u){var l=a.getOffsets(t),f=pr(l,2),c=f[0],g=f[1];if(g.w===0)u.draw(t,c,function(w){w.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h)});else{var v=this._getScratchCanvas();v.clear(),v.context.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h),v.context.drawImage(a.canvas,g.x,g.y,g.w,g.h,c.w,0,g.w,g.h);var m=c.w+g.w,p=c.h;u.draw(t,{w:m,h:p},function(w){w.drawImage(v,0,0,m,p,0,0,m,p)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),n}();function pM(n,e){return n.intersection?n.intersection(e):new Set(Hb(n).filter(function(t){return e.has(t)}))}var yM=function(){function n(e,t){ds(this,n),this.r=e;var a=t;this.globalOptions=a,this.maxAtlases=a.webglTexPerBatch,this.atlasSize=a.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(a)}return hs(n,[{key:"_cacheScratchCanvas",value:function(t){var a=-1,u=-1,l=null,f=t.createTextureCanvas;t.createTextureCanvas=function(c,g,v,m){return m?((!l||g!=a||v!=u)&&(a=g,u=v,l=f(c,g,v)),l):f(c,g,v)}}},{key:"addRenderType",value:function(t,a){var u=new mM(this.r,this.globalOptions),l=a;this.renderTypes.set(t,vt({type:t,atlasCollection:u},l))}},{key:"getRenderTypes",value:function(){return Hb(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"invalidate",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.forceRedraw,l=u===void 0?!1:u,f=a.filterEle,c=f===void 0?function(){return!0}:f,g=a.filterType,v=g===void 0?function(){return!0}:g,m=!1,p=Qa(t),w;try{for(p.s();!(w=p.n()).done;){var x=w.value;if(c(x)){var S=x.id(),D=Qa(this.getRenderTypes()),T;try{for(D.s();!(T=D.n()).done;){var C=T.value;if(v(C.type)){var R=C.getKey(x);l?(C.atlasCollection.deleteKey(S,R),C.atlasCollection.styleKeyNeedsRedraw.add(R),m=!0):m|=C.atlasCollection.checkKeyIsInvalid(S,R)}}}catch(M){D.e(M)}finally{D.f()}}}}catch(M){p.e(M)}finally{p.f()}return m}},{key:"gc",value:function(){var t=Qa(this.getRenderTypes()),a;try{for(t.s();!(a=t.n()).done;){var u=a.value;u.atlasCollection.gc()}}catch(l){t.e(l)}finally{t.f()}}},{key:"isRenderable",value:function(t,a){var u=this.getRenderTypeOpts(a);return u&&u.isVisible(t)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(t,a,u){var l=this.renderTypes.get(u),f=l.getKey(t),c=t.id();return l.atlasCollection.draw(c,f,a,function(g){l.drawElement(g,t,a,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(t){var a=this.batchAtlases.indexOf(t);if(a<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(t),a=this.batchAtlases.length-1}return a}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(t,a){return a})}},{key:"getAtlasInfo",value:function(t,a){var u=this.renderTypes.get(a),l=u.getBoundingBox(t),f=this.getOrCreateAtlas(t,l,a),c=this.getAtlasIndexForBatch(f);if(c!==void 0){var g=u.getKey(t),v=f.getOffsets(g),m=pr(v,2),p=m[0],w=m[1];return{atlasID:c,tex:p,tex1:p,tex2:w,bb:l,type:a,styleKey:g}}}},{key:"canAddToCurrentBatch",value:function(t,a){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var u=this.renderTypes.get(a),l=u.getKey(t),f=u.atlasCollection.getAtlas(l);return f&&this.batchAtlases.includes(f)}return!0}},{key:"setTransformMatrix",value:function(t,a,u){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=a.bb,c=a.type,g=a.tex1,v=a.tex2,m=this.getRenderTypeOpts(c),p=m.getPadding?m.getPadding(u):0,w=g.w/(g.w+v.w);l||(w=1-w);var x=this.getAdjustedBB(f,p,l,w),S,D;yE(t);var T=m.getRotation?m.getRotation(u):0;if(T!==0){var C=m.getRotationPoint(u),R=C.x,M=C.y;sp(t,t,[R,M]),bE(t,t,T);var _=m.getRotationOffset(u);S=_.x+x.xOffset,D=_.y}else S=x.x1,D=x.y1;sp(t,t,[S,D]),K0(t,t,[x.w,x.h])}},{key:"getTransformMatrix",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=th();return this.setTransformMatrix(l,t,a,u),l}},{key:"getAdjustedBB",value:function(t,a,u,l){var f=t.x1,c=t.y1,g=t.w,v=t.h;a&&(f-=a,c-=a,g+=2*a,v+=2*a);var m=0,p=g*l;return u&&l<1?g=p:!u&&l<1&&(m=g-p,f+=m,g=p),{x1:f,y1:c,w:g,h:v,xOffset:m}}},{key:"getDebugInfo",value:function(){var t=[],a=Qa(this.renderTypes),u;try{for(a.s();!(u=a.n()).done;){var l=pr(u.value,2),f=l[0],c=l[1],g=c.atlasCollection.getCounts(),v=g.keyCount,m=g.atlasCount;t.push({type:f,keyCount:v,atlasCount:m})}}catch(p){a.e(p)}finally{a.f()}return t}}]),n}(),t0=0,xb=1,Tb=2,n0=3,bM=function(){function n(e,t,a){ds(this,n),this.r=e,this.gl=t,this.maxInstances=a.webglBatchSize,this.maxAtlases=a.webglTexPerBatch,this.atlasSize=a.webglTexSize,this.bgColor=a.bgColor,a.enableWrapping=!0,a.createTextureCanvas=uM,this.atlasManager=new yM(e,a),this.program=this.createShaderProgram(nh.SCREEN),this.pickingProgram=this.createShaderProgram(nh.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return hs(n,[{key:"addTextureRenderType",value:function(t,a){this.atlasManager.addRenderType(t,a)}},{key:"invalidate",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.type,l=this.atlasManager;return u?l.invalidate(t,{filterType:function(c){return c===u},forceRedraw:!0}):l.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(t){var a=this.gl,u=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(t0,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(xb,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(Tb,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(n0,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),l=this.atlasManager.getIndexArray(),f=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(l.map(function(v){return"uniform sampler2D uTexture".concat(v,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(t0,`) {
          `).concat(l.map(function(v){return"if(vAtlasId == ".concat(v,") outColor = texture(uTexture").concat(v,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(n0,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),c=iM(a,u,f);c.aPosition=a.getAttribLocation(c,"aPosition"),c.aIndex=a.getAttribLocation(c,"aIndex"),c.aVertType=a.getAttribLocation(c,"aVertType"),c.aAtlasId=a.getAttribLocation(c,"aAtlasId"),c.aTex1=a.getAttribLocation(c,"aTex1"),c.aTex2=a.getAttribLocation(c,"aTex2"),c.aScaleRotate1=a.getAttribLocation(c,"aScaleRotate1"),c.aTranslate1=a.getAttribLocation(c,"aTranslate1"),c.aScaleRotate2=a.getAttribLocation(c,"aScaleRotate2"),c.aTranslate2=a.getAttribLocation(c,"aTranslate2"),c.aPointAPointB=a.getAttribLocation(c,"aPointAPointB"),c.aPointCPointD=a.getAttribLocation(c,"aPointCPointD"),c.aLineWidth=a.getAttribLocation(c,"aLineWidth"),c.aEdgeColor=a.getAttribLocation(c,"aEdgeColor"),c.uPanZoomMatrix=a.getUniformLocation(c,"uPanZoomMatrix"),c.uAtlasSize=a.getUniformLocation(c,"uAtlasSize"),c.uBGColor=a.getUniformLocation(c,"uBGColor"),c.uTextures=[];for(var g=0;g<this.atlasManager.maxAtlases;g++)c.uTextures.push(a.getUniformLocation(c,"uTexture".concat(g)));return c}},{key:"createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1],a=[].concat(t,t);this.vertexCount=a.length/2;var u=this.maxInstances,l=this.gl,f=this.program,c=l.createVertexArray();return l.bindVertexArray(c),cM(l,"vec2",f.aPosition,a),this.indexBuffer=Wa(l,u,"vec4",f.aIndex),this.vertTypeBuffer=Wa(l,u,"int",f.aVertType),this.atlasIdBuffer=Wa(l,u,"int",f.aAtlasId),this.tex1Buffer=Wa(l,u,"vec4",f.aTex1),this.tex2Buffer=Wa(l,u,"vec4",f.aTex2),this.scaleRotate1Buffer=Wa(l,u,"vec4",f.aScaleRotate1),this.translate1Buffer=Wa(l,u,"vec2",f.aTranslate1),this.scaleRotate2Buffer=Wa(l,u,"vec4",f.aScaleRotate2),this.translate2Buffer=Wa(l,u,"vec2",f.aTranslate2),this.pointAPointBBuffer=Wa(l,u,"vec4",f.aPointAPointB),this.pointCPointDBuffer=Wa(l,u,"vec4",f.aPointCPointD),this.lineWidthBuffer=Wa(l,u,"float",f.aLineWidth),this.edgeColorBuffer=Wa(l,u,"vec4",f.aEdgeColor),l.bindVertexArray(null),c}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(a){return a.endsWith("Buffer")}).map(function(a){return t[a]})),this._buffers}},{key:"startFrame",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nh.SCREEN;this.panZoomMatrix=t,this.debugInfo=a,this.renderTarget=u,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||th()}},{key:"drawTexture",value:function(t,a,u){var l=this.atlasManager;if(l.isRenderable(t,u)){l.canAddToCurrentBatch(t,u)||this.endBatch();var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=t0;var c=this.indexBuffer.getView(f);Hm(a,c);var g=l.getAtlasInfo(t,u,g),v=g.atlasID,m=g.tex1,p=g.tex2,w=this.atlasIdBuffer.getView(f);w[0]=v;var x=this.tex1Buffer.getView(f);x[0]=m.x,x[1]=m.y,x[2]=m.w,x[3]=m.h;var S=this.tex2Buffer.getView(f);S[0]=p.x,S[1]=p.y,S[2]=p.w,S[3]=p.h;for(var D=this.getTempMatrix(),T=0,C=[1,2];T<C.length;T++){var R=C[T];l.setTransformMatrix(D,g,t,R===1);var M=this["scaleRotate".concat(R,"Buffer")].getView(f);M[0]=D[0],M[1]=D[1],M[2]=D[3],M[3]=D[4];var _=this["translate".concat(R,"Buffer")].getView(f);_[0]=D[6],_[1]=D[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(t,a,u){var l=t._private.rscratch,f,c,g;if(u==="source"?(f=l.arrowStartX,c=l.arrowStartY,g=l.srcArrowAngle):(f=l.arrowEndX,c=l.arrowEndY,g=l.tgtArrowAngle),!(isNaN(f)||f==null||isNaN(c)||c==null||isNaN(g)||g==null)){var v=t.pstyle(u+"-arrow-shape").value;if(v!=="none"){var m=t.pstyle(u+"-arrow-color").value,p=t.pstyle("opacity").value,w=t.pstyle("line-opacity").value,x=p*w,S=t.pstyle("width").pfValue,D=t.pstyle("arrow-scale").value,T=this.r.getArrowWidth(S,D),C=this.getTempMatrix();yE(C),sp(C,C,[f,c]),K0(C,C,[T,T]),bE(C,C,g);var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=n0;var M=this.indexBuffer.getView(R);Hm(a,M);var _=this.edgeColorBuffer.getView(R);Pm(m,x,_);var k=this.scaleRotate1Buffer.getView(R);k[0]=C[0],k[1]=C[1],k[2]=C[3],k[3]=C[4];var z=this.translate1Buffer.getView(R);z[0]=C[6],z[1]=C[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(t,a){var u=t.pstyle("opacity").value,l=t.pstyle("line-opacity").value,f=t.pstyle("width").pfValue,c=t.pstyle("line-color").value,g=u*l,v=this.getEdgePoints(t);if(v.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),v.length==4){var m=this.instanceCount;this.vertTypeBuffer.getView(m)[0]=xb;var p=this.indexBuffer.getView(m);Hm(a,p);var w=this.edgeColorBuffer.getView(m);Pm(c,g,w);var x=this.lineWidthBuffer.getView(m);x[0]=f;var S=this.pointAPointBBuffer.getView(m);S[0]=v[0],S[1]=v[1],S[2]=v[2],S[3]=v[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var D=0;D<v.length-2;D+=2){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=Tb;var C=this.indexBuffer.getView(T);Hm(a,C);var R=this.edgeColorBuffer.getView(T);Pm(c,g,R);var M=this.lineWidthBuffer.getView(T);M[0]=f;var _=v[D-2],k=v[D-1],z=v[D],O=v[D+1],I=v[D+2],L=v[D+3],F=v[D+4],Y=v[D+5];D==0&&(_=2*z-I+.001,k=2*O-L+.001),D==v.length-4&&(F=2*I-z+.001,Y=2*L-O+.001);var V=this.pointAPointBBuffer.getView(T);V[0]=_,V[1]=k,V[2]=z,V[3]=O;var W=this.pointCPointDBuffer.getView(T);W[0]=I,W[1]=L,W[2]=F,W[3]=Y,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(t){var a=t._private.rscratch,u=a.allpts;if(u.length==4)return u;var l=this.getNumSegments(t);return this.getCurveSegmentPoints(u,l)}},{key:"getNumSegments",value:function(t){var a=15;return Math.min(Math.max(a,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(t,a){if(t.length==4)return t;for(var u=Array((a+1)*2),l=0;l<=a;l++)if(l==0)u[0]=t[0],u[1]=t[1];else if(l==a)u[l*2]=t[t.length-2],u[l*2+1]=t[t.length-1];else{var f=l/a;this.setCurvePoint(t,f,u,l*2)}return u}},{key:"setCurvePoint",value:function(t,a,u,l){if(t.length<=2)u[l]=t[0],u[l+1]=t[1];else{for(var f=Array(t.length-2),c=0;c<f.length;c+=2){var g=(1-a)*t[c]+a*t[c+2],v=(1-a)*t[c+1]+a*t[c+3];f[c]=g,f[c+1]=v}return this.setCurvePoint(f,a,u,l)}}},{key:"endBatch",value:function(){var t=this.gl,a=this.vao,u=this.vertexCount,l=this.instanceCount;if(l!==0){var f=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(f),t.bindVertexArray(a);var c=Qa(this.buffers),g;try{for(c.s();!(g=c.n()).done;){var v=g.value;v.bufferSubData(l)}}catch(S){c.e(S)}finally{c.f()}for(var m=this.atlasManager.getAtlases(),p=0;p<m.length;p++)m[p].bufferIfNeeded(t);for(var w=0;w<m.length;w++)t.activeTexture(t.TEXTURE0+w),t.bindTexture(t.TEXTURE_2D,m[w].texture),t.uniform1i(f.uTextures[w],w);t.uniformMatrix3fv(f.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(f.uAtlasSize,this.atlasManager.atlasSize);var x=Pm(this.bgColor,1);t.uniform4fv(f.uBGColor,x),t.drawArraysInstanced(t.TRIANGLES,0,u,l),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:l,atlasCount:m.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),n}();function Cb(n,e){return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e,")")}var wM=function(){function n(e){ds(this,n),this.r=e}return hs(n,[{key:"getStyleKey",value:function(t,a){var u=this.getStyle(t,a),l=u.shape,f=u.opacity,c=u.color;if(!l)return null;var g=a.width(),v=a.height(),m=Cb(c,f);return ss("".concat(l,"-").concat(g,"-").concat(v,"-").concat(m))}},{key:"isVisible",value:function(t,a){var u=a.pstyle("".concat(t,"-opacity")).value;return u>0}},{key:"getStyle",value:function(t,a){var u=a.pstyle("".concat(t,"-opacity")).value,l=a.pstyle("".concat(t,"-color")).value,f=a.pstyle("".concat(t,"-shape")).value;return{opacity:u,color:l,shape:f}}},{key:"getPadding",value:function(t,a){return a.pstyle("".concat(t,"-padding")).pfValue}},{key:"draw",value:function(t,a,u,l){if(this.isVisible(t,u)){var f=this.r,c=l.w,g=l.h,v=c/2,m=g/2,p=this.getStyle(t,u),w=p.shape,x=p.color,S=p.opacity;a.save(),a.fillStyle=Cb(x,S),w==="round-rectangle"||w==="roundrectangle"?f.drawRoundRectanglePath(a,v,m,c,g,"auto"):w==="ellipse"&&f.drawEllipsePath(a,v,m,c,g),a.fill(),a.restore()}}}]),n}();function EM(n){var e=n&&n.style&&n.style.backgroundColor||"white";return Xb(e)}var wE={};wE.initWebgl=function(n,e){var t=this,a=t.data.contexts[t.WEBGL],u=n.cy.container();n.bgColor=EM(u),n.webglTexSize=Math.min(n.webglTexSize,a.getParameter(a.MAX_TEXTURE_SIZE)),n.webglTexRows=Math.min(n.webglTexRows,54),n.webglBatchSize=Math.min(n.webglBatchSize,16384),n.webglTexPerBatch=Math.min(n.webglTexPerBatch,a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=n.webglDebug,t.webglDebugShowAtlases=n.webglDebugShowAtlases,console.log("max texture units",a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",a.getParameter(a.MAX_TEXTURE_SIZE)),console.log("webgl options",n),t.pickingFrameBuffer=vM(a),t.pickingFrameBuffer.needsDraw=!0;var l=function(m){return t.getTextAngle(m,null)},f=function(m){var p=m.pstyle("label");return p&&p.value};t.eleDrawing=new bM(t,a,n);var c=new wM(t);t.eleDrawing.addTextureRenderType("node-body",Yd({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(m){return m.visible()}})),t.eleDrawing.addTextureRenderType("node-label",Yd({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:l,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:f})),t.eleDrawing.addTextureRenderType("node-overlay",Yd({getBoundingBox:e.getElementBox,getKey:function(m){return c.getStyleKey("overlay",m)},drawElement:function(m,p,w){return c.draw("overlay",m,p,w)},isVisible:function(m){return c.isVisible("overlay",m)},getPadding:function(m){return c.getPadding("overlay",m)}})),t.eleDrawing.addTextureRenderType("node-underlay",Yd({getBoundingBox:e.getElementBox,getKey:function(m){return c.getStyleKey("underlay",m)},drawElement:function(m,p,w){return c.draw("underlay",m,p,w)},isVisible:function(m){return c.isVisible("underlay",m)},getPadding:function(m){return c.getPadding("underlay",m)}})),t.eleDrawing.addTextureRenderType("edge-label",Yd({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:l,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:f}));var g=wh(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(v,m){var p=!1;m&&m.length>0&&(p|=t.eleDrawing.invalidate(m)),p&&g()}),SM(t)};function SM(n){{var e=n.render;n.render=function(l){l=l||{};var f=n.cy;n.webgl&&(f.zoom()>cE?(xM(n),e.call(n,l)):(TM(n),SE(n,l,nh.SCREEN)))}}{var t=n.matchCanvasSize;n.matchCanvasSize=function(l){t.call(n,l),n.pickingFrameBuffer.setFramebufferAttachmentSizes(n.canvasWidth,n.canvasHeight),n.pickingFrameBuffer.needsDraw=!0}}n.findNearestElements=function(l,f,c,g){return BM(n,l,f)};{var a=n.invalidateCachedZSortedEles;n.invalidateCachedZSortedEles=function(){a.call(n),n.pickingFrameBuffer.needsDraw=!0}}{var u=n.notify;n.notify=function(l,f){u.call(n,l,f),l==="viewport"||l==="bounds"?n.pickingFrameBuffer.needsDraw=!0:l==="background"&&n.eleDrawing.invalidate(f,{type:"node-body"})}}}function xM(n){var e=n.data.contexts[n.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function TM(n){var e=function(a){a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.canvasWidth,n.canvasHeight),a.restore()};e(n.data.contexts[n.NODE]),e(n.data.contexts[n.DRAG])}function CM(n){var e=n.canvasWidth,t=n.canvasHeight,a=X0(n),u=a.pan,l=a.zoom,f=th();sp(f,f,[u.x,u.y]),K0(f,f,[l,l]);var c=th();hM(c,e,t);var g=th();return dM(g,c,f),g}function EE(n,e){var t=n.canvasWidth,a=n.canvasHeight,u=X0(n),l=u.pan,f=u.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,a),e.translate(l.x,l.y),e.scale(f,f)}function AM(n,e){n.drawSelectionRectangle(e,function(t){return EE(n,t)})}function DM(n){var e=n.data.contexts[n.NODE];e.save(),EE(n,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function RM(n){var e=function(u,l,f){for(var c=u.atlasManager.getRenderTypeOpts(l),g=n.data.contexts[n.NODE],v=.125,m=c.atlasCollection.atlases,p=0;p<m.length;p++){var w=m[p],x=w.canvas,S=x.width,D=x.height,T=S*p,C=x.height*f;g.save(),g.scale(v,v),g.drawImage(x,T,C),g.strokeStyle="black",g.rect(T,C,S,D),g.stroke(),g.restore()}},t=0;e(n.eleDrawing,"node-body",t++),e(n.eleDrawing,"node-label",t++)}function MM(n,e,t,a,u){var l,f,c,g,v=X0(n),m=v.pan,p=v.zoom;{var w=lM(n,m,p,e,t),x=pr(w,2),S=x[0],D=x[1],T=6;l=S-T/2,f=D-T/2,c=T,g=T}if(c===0||g===0)return[];var C=n.data.contexts[n.WEBGL];C.bindFramebuffer(C.FRAMEBUFFER,n.pickingFrameBuffer),n.pickingFrameBuffer.needsDraw&&(C.viewport(0,0,C.canvas.width,C.canvas.height),SE(n,null,nh.PICKING),n.pickingFrameBuffer.needsDraw=!1);var R=c*g,M=new Uint8Array(R*4);C.readPixels(l,f,c,g,C.RGBA,C.UNSIGNED_BYTE,M),C.bindFramebuffer(C.FRAMEBUFFER,null);for(var _=new Set,k=0;k<R;k++){var z=M.slice(k*4,k*4+4),O=sM(z)-1;O>=0&&_.add(O)}return _}function BM(n,e,t){var a=MM(n,e,t),u=n.getCachedZSortedEles(),l,f,c=Qa(a),g;try{for(c.s();!(g=c.n()).done;){var v=g.value,m=u[v];if(!l&&m.isNode()&&(l=m),!f&&m.isEdge()&&(f=m),l&&f)break}}catch(p){c.e(p)}finally{c.f()}return[l,f].filter(Boolean)}function SE(n,e,t){var a,u;n.webglDebug&&(u=[],a=performance.now());var l=n.eleDrawing,f=0;if(t.screen&&n.data.canvasNeedsRedraw[n.SELECT_BOX]&&AM(n,e),n.data.canvasNeedsRedraw[n.NODE]||t.picking){var c=function(V,W){W+=1,V.isNode()?(l.drawTexture(V,W,"node-underlay"),l.drawTexture(V,W,"node-body"),l.drawTexture(V,W,"node-label"),l.drawTexture(V,W,"node-overlay")):(l.drawEdgeLine(V,W),l.drawEdgeArrow(V,W,"source"),l.drawEdgeArrow(V,W,"target"),l.drawTexture(V,W,"edge-label"))},g=n.data.contexts[n.WEBGL];t.screen?(g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA)):g.disable(g.BLEND),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT),g.viewport(0,0,g.canvas.width,g.canvas.height);var v=CM(n),m=n.getCachedZSortedEles();if(f=m.length,l.startFrame(v,u,t),t.screen){for(var p=0;p<m.nondrag.length;p++)c(m.nondrag[p],p);for(var w=0;w<m.drag.length;w++)c(m.drag[w],-1)}else if(t.picking)for(var x=0;x<m.length;x++)c(m[x],x);l.endFrame(),n.data.gc&&(console.log("Garbage Collect!"),n.data.gc=!1,l.gc()),t.screen&&n.webglDebugShowAtlases&&(DM(n),RM(n)),n.data.canvasNeedsRedraw[n.NODE]=!1,n.data.canvasNeedsRedraw[n.DRAG]=!1}if(n.webglDebug){var S=performance.now(),D=!0,T=0,C=0,R=Qa(u),M;try{for(R.s();!(M=R.n()).done;){var _=M.value;T++,C+=_.count}}catch(Y){R.e(Y)}finally{R.f()}var k=Math.ceil(S-a),z="".concat(f," elements, ").concat(C," rectangles, ").concat(T," batches");if(D)console.log("WebGL (".concat(t.name,") - ").concat(z));else{console.log("WebGL render (".concat(t.name,") - frame time ").concat(k,"ms")),console.log("  ".concat(z)),console.log("Texture Atlases Used:");var O=l.getAtlasDebugInfo(),I=Qa(O),L;try{for(I.s();!(L=I.n()).done;){var F=L.value;console.log("  ".concat(F.type,": ").concat(F.keyCount," keys, ").concat(F.atlasCount," atlases"))}}catch(Y){I.e(Y)}finally{I.f()}console.log("")}}}var ms={};ms.drawPolygonPath=function(n,e,t,a,u,l){var f=a/2,c=u/2;n.beginPath&&n.beginPath(),n.moveTo(e+f*l[0],t+c*l[1]);for(var g=1;g<l.length/2;g++)n.lineTo(e+f*l[g*2],t+c*l[g*2+1]);n.closePath()};ms.drawRoundPolygonPath=function(n,e,t,a,u,l,f){f.forEach(function(c){return nE(n,c)}),n.closePath()};ms.drawRoundRectanglePath=function(n,e,t,a,u,l){var f=a/2,c=u/2,g=l==="auto"?zo(a,u):Math.min(l,c,f);n.beginPath&&n.beginPath(),n.moveTo(e,t-c),n.arcTo(e+f,t-c,e+f,t,g),n.arcTo(e+f,t+c,e,t+c,g),n.arcTo(e-f,t+c,e-f,t,g),n.arcTo(e-f,t-c,e,t-c,g),n.lineTo(e,t-c),n.closePath()};ms.drawBottomRoundRectanglePath=function(n,e,t,a,u,l){var f=a/2,c=u/2,g=l==="auto"?zo(a,u):l;n.beginPath&&n.beginPath(),n.moveTo(e,t-c),n.lineTo(e+f,t-c),n.lineTo(e+f,t),n.arcTo(e+f,t+c,e,t+c,g),n.arcTo(e-f,t+c,e-f,t,g),n.lineTo(e-f,t-c),n.lineTo(e,t-c),n.closePath()};ms.drawCutRectanglePath=function(n,e,t,a,u,l,f){var c=a/2,g=u/2,v=f==="auto"?O0():f;n.beginPath&&n.beginPath(),n.moveTo(e-c+v,t-g),n.lineTo(e+c-v,t-g),n.lineTo(e+c,t-g+v),n.lineTo(e+c,t+g-v),n.lineTo(e+c-v,t+g),n.lineTo(e-c+v,t+g),n.lineTo(e-c,t+g-v),n.lineTo(e-c,t-g+v),n.closePath()};ms.drawBarrelPath=function(n,e,t,a,u){var l=a/2,f=u/2,c=e-l,g=e+l,v=t-f,m=t+f,p=u0(a,u),w=p.widthOffset,x=p.heightOffset,S=p.ctrlPtOffsetPct*w;n.beginPath&&n.beginPath(),n.moveTo(c,v+x),n.lineTo(c,m-x),n.quadraticCurveTo(c+S,m,c+w,m),n.lineTo(g-w,m),n.quadraticCurveTo(g-S,m,g,m-x),n.lineTo(g,v+x),n.quadraticCurveTo(g-S,v,g-w,v),n.lineTo(c+w,v),n.quadraticCurveTo(c+S,v,c,v+x),n.closePath()};var Ab=Math.sin(0),Db=Math.cos(0),y0={},b0={},xE=Math.PI/40;for(var pc=0*Math.PI;pc<2*Math.PI;pc+=xE)y0[pc]=Math.sin(pc),b0[pc]=Math.cos(pc);ms.drawEllipsePath=function(n,e,t,a,u){if(n.beginPath&&n.beginPath(),n.ellipse)n.ellipse(e,t,a/2,u/2,0,0,2*Math.PI);else for(var l,f,c=a/2,g=u/2,v=0*Math.PI;v<2*Math.PI;v+=xE)l=e-c*y0[v]*Ab+c*b0[v]*Db,f=t+g*b0[v]*Ab+g*y0[v]*Db,v===0?n.moveTo(l,f):n.lineTo(l,f);n.closePath()};var Ah={};Ah.createBuffer=function(n,e){var t=document.createElement("canvas");return t.width=n,t.height=e,[t,t.getContext("2d")]};Ah.bufferCanvasImage=function(n){var e=this.cy,t=e.mutableElements(),a=t.boundingBox(),u=this.findContainerClientCoords(),l=n.full?Math.ceil(a.w):u[2],f=n.full?Math.ceil(a.h):u[3],c=Ge(n.maxWidth)||Ge(n.maxHeight),g=this.getPixelRatio(),v=1;if(n.scale!==void 0)l*=n.scale,f*=n.scale,v=n.scale;else if(c){var m=1/0,p=1/0;Ge(n.maxWidth)&&(m=v*n.maxWidth/l),Ge(n.maxHeight)&&(p=v*n.maxHeight/f),v=Math.min(m,p),l*=v,f*=v}c||(l*=g,f*=g,v*=g);var w=document.createElement("canvas");w.width=l,w.height=f,w.style.width=l+"px",w.style.height=f+"px";var x=w.getContext("2d");if(l>0&&f>0){x.clearRect(0,0,l,f),x.globalCompositeOperation="source-over";var S=this.getCachedZSortedEles();if(n.full)x.translate(-a.x1*v,-a.y1*v),x.scale(v,v),this.drawElements(x,S),x.scale(1/v,1/v),x.translate(a.x1*v,a.y1*v);else{var D=e.pan(),T={x:D.x*v,y:D.y*v};v*=e.zoom(),x.translate(T.x,T.y),x.scale(v,v),this.drawElements(x,S),x.scale(1/v,1/v),x.translate(-T.x,-T.y)}n.bg&&(x.globalCompositeOperation="destination-over",x.fillStyle=n.bg,x.rect(0,0,l,f),x.fill())}return w};function OM(n,e){for(var t=atob(n),a=new ArrayBuffer(t.length),u=new Uint8Array(a),l=0;l<t.length;l++)u[l]=t.charCodeAt(l);return new Blob([a],{type:e})}function Rb(n){var e=n.indexOf(",");return n.substr(e+1)}function TE(n,e,t){var a=function(){return e.toDataURL(t,n.quality)};switch(n.output){case"blob-promise":return new Oc(function(u,l){try{e.toBlob(function(f){f!=null?u(f):l(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,n.quality)}catch(f){l(f)}});case"blob":return OM(Rb(a()),t);case"base64":return Rb(a());case"base64uri":default:return a()}}Ah.png=function(n){return TE(n,this.bufferCanvasImage(n),"image/png")};Ah.jpg=function(n){return TE(n,this.bufferCanvasImage(n),"image/jpeg")};var CE={};CE.nodeShapeImpl=function(n,e,t,a,u,l,f,c){switch(n){case"ellipse":return this.drawEllipsePath(e,t,a,u,l);case"polygon":return this.drawPolygonPath(e,t,a,u,l,f);case"round-polygon":return this.drawRoundPolygonPath(e,t,a,u,l,f,c);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,a,u,l,c);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,a,u,l,f,c);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,a,u,l,c);case"barrel":return this.drawBarrelPath(e,t,a,u,l)}};var _M=AE,Nt=AE.prototype;Nt.CANVAS_LAYERS=3;Nt.SELECT_BOX=0;Nt.DRAG=1;Nt.NODE=2;Nt.WEBGL=3;Nt.CANVAS_TYPES=["2d","2d","2d","webgl2"];Nt.BUFFER_COUNT=3;Nt.TEXTURE_BUFFER=0;Nt.MOTIONBLUR_BUFFER_NODE=1;Nt.MOTIONBLUR_BUFFER_DRAG=2;function AE(n){var e=this,t=e.cy.window(),a=t.document;n.webgl&&(Nt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Nt.CANVAS_LAYERS),contexts:new Array(Nt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Nt.CANVAS_LAYERS),bufferCanvases:new Array(Nt.BUFFER_COUNT),bufferContexts:new Array(Nt.CANVAS_LAYERS)};var u="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";e.data.canvasContainer=a.createElement("div");var f=e.data.canvasContainer.style;e.data.canvasContainer.style[u]=l,f.position="relative",f.zIndex="0",f.overflow="hidden";var c=n.cy.container();c.appendChild(e.data.canvasContainer),c.style[u]=l;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};$S()&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var v=0;v<Nt.CANVAS_LAYERS;v++){var m=e.data.canvases[v]=a.createElement("canvas"),p=Nt.CANVAS_TYPES[v];e.data.contexts[v]=m.getContext(p),e.data.contexts[v]||In("Could not create canvas of type "+p),Object.keys(g).forEach(function(ve){m.style[ve]=g[ve]}),m.style.position="absolute",m.setAttribute("data-id","layer"+v),m.style.zIndex=String(Nt.CANVAS_LAYERS-v),e.data.canvasContainer.appendChild(m),e.data.canvasNeedsRedraw[v]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Nt.NODE].setAttribute("data-id","layer"+Nt.NODE+"-node"),e.data.canvases[Nt.SELECT_BOX].setAttribute("data-id","layer"+Nt.SELECT_BOX+"-selectbox"),e.data.canvases[Nt.DRAG].setAttribute("data-id","layer"+Nt.DRAG+"-drag"),e.data.canvases[Nt.WEBGL]&&e.data.canvases[Nt.WEBGL].setAttribute("data-id","layer"+Nt.WEBGL+"-webgl");for(var v=0;v<Nt.BUFFER_COUNT;v++)e.data.bufferCanvases[v]=a.createElement("canvas"),e.data.bufferContexts[v]=e.data.bufferCanvases[v].getContext("2d"),e.data.bufferCanvases[v].style.position="absolute",e.data.bufferCanvases[v].setAttribute("data-id","buffer"+v),e.data.bufferCanvases[v].style.zIndex=String(-v-1),e.data.bufferCanvases[v].style.visibility="hidden";e.pathsEnabled=!0;var w=Ra(),x=function(re){return{x:(re.x1+re.x2)/2,y:(re.y1+re.y2)/2}},S=function(re){return{x:-re.w/2,y:-re.h/2}},D=function(re){var be=re[0]._private,Ne=be.oldBackgroundTimestamp===be.backgroundTimestamp;return!Ne},T=function(re){return re[0]._private.nodeKey},C=function(re){return re[0]._private.labelStyleKey},R=function(re){return re[0]._private.sourceLabelStyleKey},M=function(re){return re[0]._private.targetLabelStyleKey},_=function(re,be,Ne,Pe,Fe){return e.drawElement(re,be,Ne,!1,!1,Fe)},k=function(re,be,Ne,Pe,Fe){return e.drawElementText(re,be,Ne,Pe,"main",Fe)},z=function(re,be,Ne,Pe,Fe){return e.drawElementText(re,be,Ne,Pe,"source",Fe)},O=function(re,be,Ne,Pe,Fe){return e.drawElementText(re,be,Ne,Pe,"target",Fe)},I=function(re){return re.boundingBox(),re[0]._private.bodyBounds},L=function(re){return re.boundingBox(),re[0]._private.labelBounds.main||w},F=function(re){return re.boundingBox(),re[0]._private.labelBounds.source||w},Y=function(re){return re.boundingBox(),re[0]._private.labelBounds.target||w},V=function(re,be){return be},W=function(re){return x(I(re))},K=function(re,be,Ne){var Pe=re?re+"-":"";return{x:be.x+Ne.pstyle(Pe+"text-margin-x").pfValue,y:be.y+Ne.pstyle(Pe+"text-margin-y").pfValue}},ee=function(re,be,Ne){var Pe=re[0]._private.rscratch;return{x:Pe[be],y:Pe[Ne]}},X=function(re){return K("",ee(re,"labelX","labelY"),re)},Q=function(re){return K("source",ee(re,"sourceLabelX","sourceLabelY"),re)},j=function(re){return K("target",ee(re,"targetLabelX","targetLabelY"),re)},le=function(re){return S(I(re))},P=function(re){return S(F(re))},Z=function(re){return S(Y(re))},ne=function(re){var be=L(re),Ne=S(L(re));if(re.isNode()){switch(re.pstyle("text-halign").value){case"left":Ne.x=-be.w-(be.leftPad||0);break;case"right":Ne.x=-(be.rightPad||0);break}switch(re.pstyle("text-valign").value){case"top":Ne.y=-be.h-(be.topPad||0);break;case"bottom":Ne.y=-(be.botPad||0);break}}return Ne},de=e.data.eleTxrCache=new Jd(e,{getKey:T,doesEleInvalidateKey:D,drawElement:_,getBoundingBox:I,getRotationPoint:W,getRotationOffset:le,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),se=e.data.lblTxrCache=new Jd(e,{getKey:C,drawElement:k,getBoundingBox:L,getRotationPoint:X,getRotationOffset:ne,isVisible:V}),we=e.data.slbTxrCache=new Jd(e,{getKey:R,drawElement:z,getBoundingBox:F,getRotationPoint:Q,getRotationOffset:P,isVisible:V}),me=e.data.tlbTxrCache=new Jd(e,{getKey:M,drawElement:O,getBoundingBox:Y,getRotationPoint:j,getRotationOffset:Z,isVisible:V}),Me=e.data.lyrTxrCache=new vE(e);e.onUpdateEleCalcs(function(re,be){de.invalidateElements(be),se.invalidateElements(be),we.invalidateElements(be),me.invalidateElements(be),Me.invalidateElements(be);for(var Ne=0;Ne<be.length;Ne++){var Pe=be[Ne]._private;Pe.oldBackgroundTimestamp=Pe.backgroundTimestamp}});var Se=function(re){for(var be=0;be<re.length;be++)Me.enqueueElementRefinement(re[be].ele)};de.onDequeue(Se),se.onDequeue(Se),we.onDequeue(Se),me.onDequeue(Se),n.webgl&&e.initWebgl(n,{getStyleKey:T,getLabelKey:C,drawElement:_,drawLabel:k,getElementBox:I,getLabelBox:L,getElementRotationPoint:W,getElementRotationOffset:le,getLabelRotationPoint:X,getLabelRotationOffset:ne})}Nt.redrawHint=function(n,e){var t=this;switch(n){case"eles":t.data.canvasNeedsRedraw[Nt.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[Nt.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[Nt.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var NM=typeof Path2D<"u";Nt.path2dEnabled=function(n){if(n===void 0)return this.pathsEnabled;this.pathsEnabled=!!n};Nt.usePaths=function(){return NM&&this.pathsEnabled};Nt.setImgSmoothing=function(n,e){n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled=e:(n.webkitImageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.msImageSmoothingEnabled=e)};Nt.getImgSmoothing=function(n){return n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled:n.webkitImageSmoothingEnabled||n.mozImageSmoothingEnabled||n.msImageSmoothingEnabled};Nt.makeOffscreenCanvas=function(n,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":lr(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(n,e);else{var a=this.cy.window(),u=a.document;t=u.createElement("canvas"),t.width=n,t.height=e}return t};[dE,Nu,cl,Y0,Fo,Pc,ca,wE,ms,Ah,CE].forEach(function(n){vt(Nt,n)});var LM=[{name:"null",impl:jw},{name:"base",impl:oE},{name:"canvas",impl:_M}],zM=[{type:"layout",extensions:mR},{type:"renderer",extensions:LM}],DE={},RE={};function ME(n,e,t){var a=t,u=function(I){un("Can not register `"+e+"` for `"+n+"` since `"+I+"` already exists in the prototype and can not be overridden")};if(n==="core"){if(dh.prototype[e])return u(e);dh.prototype[e]=t}else if(n==="collection"){if(Rr.prototype[e])return u(e);Rr.prototype[e]=t}else if(n==="layout"){for(var l=function(I){this.options=I,t.call(this,I),Xt(this._private)||(this._private={}),this._private.cy=I.cy,this._private.listeners=[],this.createEmitter()},f=l.prototype=Object.create(t.prototype),c=[],g=0;g<c.length;g++){var v=c[g];f[v]=f[v]||function(){return this}}f.start&&!f.run?f.run=function(){return this.start(),this}:!f.start&&f.run&&(f.start=function(){return this.run(),this});var m=t.prototype.stop;f.stop=function(){var O=this.options;if(O&&O.animate){var I=this.animations;if(I)for(var L=0;L<I.length;L++)I[L].stop()}return m?m.call(this):this.emit("layoutstop"),this},f.destroy||(f.destroy=function(){return this}),f.cy=function(){return this._private.cy};var p=function(I){return I._private.cy},w={addEventFields:function(I,L){L.layout=I,L.cy=p(I),L.target=I},bubble:function(){return!0},parent:function(I){return p(I)}};vt(f,{createEmitter:function(){return this._private.emitter=new bp(w,this),this},emitter:function(){return this._private.emitter},on:function(I,L){return this.emitter().on(I,L),this},one:function(I,L){return this.emitter().one(I,L),this},once:function(I,L){return this.emitter().one(I,L),this},removeListener:function(I,L){return this.emitter().removeListener(I,L),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(I,L){return this.emitter().emit(I,L),this}}),an.eventAliasesOn(f),a=l}else if(n==="renderer"&&e!=="null"&&e!=="base"){var x=BE("renderer","base"),S=x.prototype,D=t,T=t.prototype,C=function(){x.apply(this,arguments),D.apply(this,arguments)},R=C.prototype;for(var M in S){var _=S[M],k=T[M]!=null;if(k)return u(M);R[M]=_}for(var z in T)R[z]=T[z];S.clientFunctions.forEach(function(O){R[O]=R[O]||function(){In("Renderer does not implement `renderer."+O+"()` on its prototype")}}),a=C}else if(n==="__proto__"||n==="constructor"||n==="prototype")return In(n+" is an illegal type to be registered, possibly lead to prototype pollutions");return Kb({map:DE,keys:[n,e],value:a})}function BE(n,e){return Zb({map:DE,keys:[n,e]})}function kM(n,e,t,a,u){return Kb({map:RE,keys:[n,e,t,a],value:u})}function IM(n,e,t,a){return Zb({map:RE,keys:[n,e,t,a]})}var w0=function(){if(arguments.length===2)return BE.apply(null,arguments);if(arguments.length===3)return ME.apply(null,arguments);if(arguments.length===4)return IM.apply(null,arguments);if(arguments.length===5)return kM.apply(null,arguments);In("Invalid extension access syntax")};dh.prototype.extension=w0;zM.forEach(function(n){n.extensions.forEach(function(e){ME(n.type,e.name,e.impl)})});var OE=function n(){if(!(this instanceof n))return new n;this.length=0},Uo=OE.prototype;Uo.instanceString=function(){return"stylesheet"};Uo.selector=function(n){var e=this.length++;return this[e]={selector:n,properties:[]},this};Uo.css=function(n,e){var t=this.length-1;if(ut(n))this[t].properties.push({name:n,value:e});else if(Xt(n))for(var a=n,u=Object.keys(a),l=0;l<u.length;l++){var f=u[l],c=a[f];if(c!=null){var g=Pr.properties[f]||Pr.properties[fp(f)];if(g!=null){var v=g.name,m=c;this[t].properties.push({name:v,value:m})}}}return this};Uo.style=Uo.css;Uo.generateStyle=function(n){var e=new Pr(n);return this.appendToStyle(e)};Uo.appendToStyle=function(n){for(var e=0;e<this.length;e++){var t=this[e],a=t.selector,u=t.properties;n.selector(a);for(var l=0;l<u.length;l++){var f=u[l];n.css(f.name,f.value)}}return n};var UM="3.31.0",Po=function(e){if(e===void 0&&(e={}),Xt(e))return new dh(e);if(ut(e))return w0.apply(w0,arguments)};Po.use=function(n){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Po),n.apply(null,e),this};Po.warnings=function(n){return nw(n)};Po.version=UM;Po.stylesheet=Po.Stylesheet=OE;class PM{constructor(e){Re(this,"kind",Ot.AUTOMATON);Re(this,"id");Re(this,"cy");this.id=e}init(){this.cy=Po({container:document.getElementById(this.id),elements:[],style:[{selector:"node",style:{"background-color":"#666",label:"data(id)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)"}}],layout:{name:"preset"}}),this.cy.on("tap","node, edge",e=>{console.log(e.target.id())})}fit(){var e;(e=this.cy)==null||e.fit()}addNode(e,t){var a;(a=this.cy)==null||a.add({group:"nodes",data:{id:e},position:t})}removeNode(e){var t;(t=this.cy)==null||t.remove(`node#${e}`)}renameNode(e,t){console.log(e,t)}setInitialNode(e){console.log(e)}setIsFinalNode(e,t){console.log(e,t)}addEdge(e,t,a,u){var l;(l=this.cy)==null||l.add({group:"edges",data:{id:e,source:t,target:a,label:u}})}editEdge(e,t){console.log(e,t)}removeEdge(e){var t;(t=this.cy)==null||t.remove(`edge#${e}`)}highlightElements(e){var t;for(const a of e){const u=(t=this.cy)==null?void 0:t.getElementById(a);u&&u.nonempty()?a.startsWith("_")?u.style({"line-color":"salmon","target-arrow-color":"salmon"}):u.style({"background-color":"salmon"}):console.warn(`Element with id "${a}" not found.`)}}clearHighlights(){var e,t;(e=this.cy)==null||e.nodes().forEach(a=>{a.style({"background-color":"#666"})}),(t=this.cy)==null||t.edges().forEach(a=>{a.style({"line-color":"#ccc","target-arrow-color":"#ccc"})})}}class _E{constructor(e){Re(this,"visual");this.visual=e}visitAddStateCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.addNode(e.stateId,{x:0,y:0})}visitRemoveStateCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.removeNode(e.stateId)}visitRenameStateCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.renameNode(e.stateId,e.newStateId)}visitSetInitialStateCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.setInitialNode(e.stateId)}visitSetStateFinalFlagCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.setIsFinalNode(e.stateId,e.shouldBeFinal)}visitAddEdgeCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.addEdge(e.edge.id,e.fromStateId,e.toStateId,e.edge.label)}visitRemoveEdgeCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.removeEdge(e.edgeId)}visitEditEdgeCommand(e){if(this.visual.kind!==Ot.AUTOMATON)throw new Error("Type mismatch");this.visual.editEdge(e.edgeId,e.edge.label)}visitAddProductionRuleCommand(e){if(this.visual.kind!==Ot.GRAMMAR)throw new Error("Type mismatch");this.visual.storeRuleId(e.productionRule.id),this.visual.refresh()}visitRemoveProductionRuleCommand(e){if(this.visual.kind!==Ot.GRAMMAR)throw new Error("Type mismatch");this.visual.removeRuleId(e.productionRuleId),this.visual.refresh()}visitEditProductionRuleCommand(e){throw this.visual.kind!==Ot.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitAddNonterminalsCommand(e){if(this.visual.kind!==Ot.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh()}visitAddTerminalsCommand(e){if(this.visual.kind!==Ot.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh()}visitSetInitialNonterminalCommand(e){throw this.visual.kind!==Ot.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitRemoveNonterminalCommand(e){if(this.visual.kind!==Ot.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh()}visitRemoveTerminalCommand(e){if(this.visual.kind!==Ot.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh()}}class ps{constructor(e){Re(this,"kind",Ot.AUTOMATON);Re(this,"automaton");Re(this,"backup");this.automaton=e}saveBackup(){this.backup=this.automaton.save()}undo(){this.backup&&this.automaton.restore(this.backup)}}class HM extends ps{constructor(t,a){super(t);Re(this,"stateId");this.stateId=a}accept(t){t.visitAddStateCommand(this)}execute(){if(this.automaton.states.some(t=>t===this.stateId))return new Ie(`Cannot add state ${this.stateId}, as it has already been added before.`);this.saveBackup(),this.automaton.states.push(this.stateId)}}class FM extends ps{constructor(t,a){super(t);Re(this,"stateId");this.stateId=a}accept(t){t.visitRemoveStateCommand(this)}execute(){const t=this.automaton.states.findIndex(a=>a===this.stateId);if(t===-1)return new Ie(`Cannot remove state ${this.stateId}, as it does not exist.`);if(this.stateId===this.automaton.initialStateId)return new Ie(`Cannot remove state ${this.stateId}, as it is the initial state.`);this.saveBackup(),this.automaton.finalStateIds=this.automaton.finalStateIds.filter(a=>a!==this.stateId),this.automaton.states.length>1&&t!==this.automaton.states.length-1?this.automaton.states[t]=this.automaton.states.pop():this.automaton.states.pop(),this.automaton.deltaFunctionMatrix[this.stateId]={};for(const a in this.automaton.deltaFunctionMatrix)for(const u in this.automaton.deltaFunctionMatrix[a])u===this.stateId&&(this.automaton.deltaFunctionMatrix[a][u]=[])}}class qM extends ps{constructor(t,a,u){super(t);Re(this,"stateId");Re(this,"newStateId");this.stateId=a,this.newStateId=u}accept(t){t.visitRenameStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new Ie(`Cannot edit state ${this.stateId}, as it does not exist.`);if(this.automaton.states.some(t=>t===this.newStateId)&&this.newStateId!==this.stateId)return new Ie(`Cannot rename state ${this.stateId} to ${this.newStateId}, as there is already a state with that name.`);this.saveBackup(),this.automaton.states=this.automaton.states.map(t=>t===this.stateId?this.newStateId:t),this.automaton.initialStateId===this.stateId&&(this.automaton.initialStateId=this.newStateId),this.automaton.finalStateIds=this.automaton.finalStateIds.map(t=>t===this.stateId?this.newStateId:t),this.automaton.deltaFunctionMatrix[this.stateId]!==void 0&&(this.automaton.deltaFunctionMatrix[this.newStateId]=Qm.cloneDeep(this.automaton.deltaFunctionMatrix[this.stateId]),this.automaton.deltaFunctionMatrix[this.stateId]={});for(const t in this.automaton.deltaFunctionMatrix)this.automaton.deltaFunctionMatrix[t][this.stateId]!==void 0&&(this.automaton.deltaFunctionMatrix[t][this.newStateId]=Qm.cloneDeep(this.automaton.deltaFunctionMatrix[t][this.stateId]),this.automaton.deltaFunctionMatrix[t][this.stateId]=[])}}class GM extends ps{constructor(t,a,u){super(t);Re(this,"stateId");Re(this,"shouldBeFinal");this.stateId=a,this.shouldBeFinal=u}accept(t){t.visitSetStateFinalFlagCommand(this)}execute(){if(this.automaton.states.every(a=>a!==this.stateId))return new Ie(`Cannot edit state ${this.stateId}, as it does not exist.`);const t=this.automaton.finalStateIds.some(a=>a===this.stateId);t&&this.shouldBeFinal||!t&&!this.shouldBeFinal||(this.saveBackup(),this.shouldBeFinal?this.automaton.finalStateIds.push(this.stateId):this.automaton.finalStateIds=this.automaton.finalStateIds.filter(a=>a!==this.stateId))}}class VM extends ps{constructor(t,a){super(t);Re(this,"stateId");this.stateId=a}accept(t){t.visitSetInitialStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new Ie(`Cannot edit state ${this.stateId}, as it does not exist.`);this.saveBackup(),this.automaton.initialStateId=this.stateId}}class YM extends ps{constructor(t,a,u,l){super(t);Re(this,"fromStateId");Re(this,"toStateId");Re(this,"edge");this.fromStateId=a,this.toStateId=u,this.edge=l}accept(t){t.visitAddEdgeCommand(this)}execute(){this.saveBackup();const t=this.automaton.states.some(u=>u===this.fromStateId),a=this.automaton.states.some(u=>u===this.toStateId);if(!t||!a)return new Ie(`Cannot add edge. Both ${this.fromStateId} and ${this.toStateId} state IDs have to exist.`);if(this.automaton.deltaFunctionMatrix[this.fromStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId]={}),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]=[]),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].some(u=>u.equals(this.edge)))return new Ie("Cannot add edge, as it already exists.");this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].push(this.edge)}}class XM extends ps{constructor(t,a,u,l){super(t);Re(this,"edgeId");Re(this,"fromStateId");Re(this,"toStateId");this.edgeId=l,this.fromStateId=a,this.toStateId=u}accept(t){t.visitRemoveEdgeCommand(this)}execute(){var a,u;const t=(u=(a=this.automaton.deltaFunctionMatrix[this.fromStateId])==null?void 0:a[this.toStateId])==null?void 0:u.findIndex(l=>l.id===this.edgeId);if(t===void 0)return new Ie(`Cannot remove edge ${this.edgeId} because one of its states does not exist.`);if(t===-1)return new Ie(`Cannot remove edge ${this.edgeId}, as it does not exist on states ${this.fromStateId}, ${this.toStateId}.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length>1&&t!==this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length-1?this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId][t]=this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop():this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop(),console.log(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId])}}class KM extends ps{constructor(t,a,u){super(t);Re(this,"edgeId");Re(this,"edge");this.edgeId=a,this.edge=u}accept(t){t.visitEditEdgeCommand(this)}execute(){let t="",a="",u=-1;for(const l in this.automaton.deltaFunctionMatrix){for(const f in this.automaton.deltaFunctionMatrix[l]){const c=this.automaton.deltaFunctionMatrix[l][f].findIndex(g=>g.id===this.edgeId);if(c!==-1){t=l,a=f,u=c;break}}if(u!==-1)break}if(u===-1)return new Ie(`Cannot edit edge ${this.edgeId}, as it does not exist.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[t][a][u]=this.edge}}class NE{constructor(e,t,a){Re(this,"kind",Ot.AUTOMATON);Re(this,"mode");Re(this,"automatonType");Re(this,"visual");Re(this,"visitor");Re(this,"factory");Re(this,"automaton");Re(this,"simulation");Re(this,"algorithm",!1);this.automatonType=e,this.factory=new _S(e),this.automaton=this.factory.createAutomaton(u1),this.visual=new PM(t),this.visitor=new _E(this.visual),this.mode=a}init(){this.visual.init(),this.visual.addNode(u1,{x:0,y:0}),this.visual.fit()}undo(){return this.automaton.undo(),new Ie("Not implemented.")}fit(){this.visual.fit()}addState(e,t){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");let a=this.checkStateId(e);if(a!==void 0)return a;const u=new HM(this.automaton,e);if(a=this.automaton.executeCommand(u),a!==void 0)return a;this.visual.addNode(e,t)}removeState(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new FM(this.automaton,e),a=this.automaton.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}renameState(e,t){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");let a=this.checkStateId(t);if(a!==void 0)return a;const u=new qM(this.automaton,e,t);if(a=this.automaton.executeCommand(u),a!==void 0)return a;u.accept(this.visitor)}setInitialState(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new VM(this.automaton,e),a=this.automaton.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}setIsFinalState(e,t){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const a=new GM(this.automaton,e,t),u=this.automaton.executeCommand(a);if(u!==void 0)return u;a.accept(this.visitor)}addEdge(e,t,a){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");let u=this.checkEdgeProps(a);if(u!==void 0)return u;const l=this.factory.createEdge(a),f=new YM(this.automaton,e,t,l);if(u=this.automaton.executeCommand(f),u!==void 0)return u;f.accept(this.visitor)}removeEdge(e,t,a){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const u=new XM(this.automaton,e,t,a),l=this.automaton.executeCommand(u);if(l!==void 0)return l;u.accept(this.visitor)}editEdge(e,t){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");let a=this.checkEdgeProps(t);if(a!==void 0)return a;const u=this.factory.createEdge(t),l=new KM(this.automaton,e,u);if(a=this.automaton.executeCommand(l),a!==void 0)return a;l.accept(this.visitor)}highlight(e){if(this.mode.mode!==fn.VISUAL)return new Ie("Operation is only permitted in visual mode.");this.visual.clearHighlights(),this.visual.highlightElements(e)}containsWord(e){return this.automaton.createRunSimulation(e).run()}runStart(e){if(this.mode.mode!==fn.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.algorithm)return new Ie("Cannot start new simulation when an algorithm is in progress.");if(this.simulation!==void 0)return new Ie("Cannot start new simulation when a simulation is already in progress.");this.simulation=this.automaton.createRunSimulation(e)}runNext(){if(this.mode.mode!==fn.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ie("Run simulation does not exist. Try starting a simulation first.");const e=new Ib(this.simulation),t=this.simulation.executeCommand(e);if(t!==void 0)return t;const a=e.getResult();if(a===void 0)return new Ie("Command result is empty.");this.visual.clearHighlights(),this.visual.highlightElements([a.id,this.simulation.configuration.stateId])}runUndo(){if(this.mode.mode!==fn.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ie("Run simulation does not exist. Try starting a simulation first.");const e=this.simulation.undo();if(e!==void 0)return new Ie(e.details)}runEnd(){if(this.mode.mode!==fn.VISUAL)return new Ie("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ie("Run simulation does not exist. Try starting a simulation first.");this.visual.clearHighlights(),this.simulation=void 0}createEdge(e){return this.factory.createEdge(e)}checkStateId(e){if(e.trim().length===0)return new Ie("State ID must contain at least one non-whitespace character.");if(e.charAt(0)=="_")return new Ie("State ID cannot start with an underscore")}checkEdgeProps(e){if(e.inputChar.trim().length===0)return new Ie("Input char must contain at least one non-whitespace character.");if(this.automatonType===bi.PDA){if(e.readStackChar===void 0||e.writeStackWord===void 0)return new Ie("PDA edge must specify character(s) read from and written to the stack");if(e.readStackChar.trim().length===0||e.writeStackWord.length===0)return new Ie("Read and written stack character(s) must not contain whitespace-only symbols");for(const t in e.writeStackWord)if(t.trim().length===0)return new Ie("Read and written stack character(s) must not contain whitespace-only symbols")}}simulationInProgress(){return this.simulation!==void 0}algorithmInProgress(e){this.algorithm=e}}var r0={exports:{}},Xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function ZM(){if(Mb)return Xd;Mb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,u,l){var f=null;if(l!==void 0&&(f=""+l),u.key!==void 0&&(f=""+u.key),"key"in u){l={};for(var c in u)c!=="key"&&(l[c]=u[c])}else l=u;return u=l.ref,{$$typeof:n,type:a,key:f,ref:u!==void 0?u:null,props:l}}return Xd.Fragment=e,Xd.jsx=t,Xd.jsxs=t,Xd}var Bb;function WM(){return Bb||(Bb=1,r0.exports=ZM()),r0.exports}var Z0=WM();const qe=Z0.jsx,rn=Z0.jsxs,hh=Z0.Fragment,Hc=jt.createContext(void 0),QM=({children:n})=>qe(Hc.Provider,{value:new TS(new NE(bi.FINITE,_b,new S0)),children:n});function $M(){const n=jt.useContext(Hc),e=jt.useRef(""),t=jt.useRef(""),a=jt.useRef(""),u=jt.useRef("");if(!n)throw new Error("AutomatonWindow must be used within a CoreProvider");function l(){const p=n.primary;switch(p.kind){case Ot.AUTOMATON:{const w=p.addState(e.current,{x:200,y:50});w!==void 0&&console.log(w.details);break}case Ot.GRAMMAR:console.log("Cannot add state to grammar.");break}}function f(){const p=n.primary;switch(p.kind){case Ot.AUTOMATON:{const w=p.removeState(e.current);w!==void 0&&console.log(w.details);break}case Ot.GRAMMAR:console.log("Cannot remove state from grammar.");break}}function c(){const p=n.primary;switch(p.kind){case Ot.AUTOMATON:{const w=p.addEdge(t.current,a.current,{id:"",inputChar:u.current});w!==void 0&&console.log(w.details);break}case Ot.GRAMMAR:console.log("Cannot add edge to grammar.");break}}function g(){const p=n.primary;switch(p.kind){case Ot.AUTOMATON:{const w=p.removeEdge(t.current,a.current,e.current);w!==void 0&&console.log(w.details);break}case Ot.GRAMMAR:console.log("Cannot remove edge from grammar.");break}}function v(){const p=n==null?void 0:n.primary.undo();p!==void 0&&console.log(p.details)}function m(){const p=n.primary;switch(p.kind){case Ot.AUTOMATON:{p.fit();break}case Ot.GRAMMAR:console.log("Fit is not applicable to grammar window.");break}}return qe(hh,{children:rn("div",{className:"row",children:[rn("div",{className:"col-2",children:[qe("div",{children:"From:"}),qe("input",{onChange:p=>t.current=p.target.value}),qe("div",{children:"To:"}),qe("input",{onChange:p=>a.current=p.target.value})]}),rn("div",{className:"col-2",children:[qe("div",{children:"Character:"}),qe("input",{onChange:p=>u.current=p.target.value}),qe("div",{children:"ID:"}),qe("input",{onChange:p=>e.current=p.target.value})]}),qe("div",{className:"col-2",children:rn("div",{className:"stack",children:[qe("button",{className:"btn btn-primary",onClick:c,children:"Add edge"}),qe("button",{className:"btn btn-primary",onClick:g,children:"Remove edge"}),qe("button",{className:"btn btn-primary",onClick:l,children:"Add state"}),qe("button",{className:"btn btn-primary",onClick:f,children:"Remove state"}),qe("button",{className:"btn btn-primary",onClick:v,children:"Undo"}),qe("button",{className:"btn btn-primary",onClick:m,children:"Fit automaton to screen"})]})})]})})}class JM{constructor(){Re(this,"inputType",{Kind:Ot.AUTOMATON,AutomatonType:bi.FINITE});Re(this,"outputType",{Kind:Ot.AUTOMATON,AutomatonType:bi.FINITE})}init(e){return new NE(this.outputType.AutomatonType,Nb,e)}next(){}undo(){}}function Ob({primary:n,cols:e}){const t=jt.useContext(Hc);if(!t)throw new Error("AutomatonWindow must be used within a CoreProvider");return jt.useEffect(()=>{var a;if(n&&t.primary.kind===Ot.AUTOMATON)t.primary.init();else if(!n)t.algorithmStart(new JM),((a=t.secondary)==null?void 0:a.kind)===Ot.AUTOMATON&&t.secondary.init();else throw new Error("AutomatonWindow could not be initialized correctly")},[n,t]),qe("div",{className:`col-${e}`,children:qe("div",{id:n?_b:Nb})})}function jM(){const n=jt.useContext(Hc),[e,t]=jt.useState(null),[a,u]=jt.useState("aabc"),[l,f]=jt.useState([]),[c,g]=jt.useState([]),[v,m]=jt.useState(!1),[p,w]=jt.useState(1),x=jt.useRef(null),S=()=>{if(n===void 0)return;const z=a.split(""),O=n.primary;if(O.kind===Ot.AUTOMATON){x.current&&(x.current.currentTime=0);const I=O.runStart(z);if(I!==void 0){alert(I.details);return}t(O),g(z),f([])}},D=()=>{if(n===void 0)return;const z=n.primary;if(z.kind===Ot.AUTOMATON){const O=z.runEnd();if(O!==void 0){alert(O.details);return}t(null),g([]),f([]),_()}};function T(){if(e===null)return!1;const z=e.runNext();return z?(alert(z.details),!1):(f(O=>[...O,c[0]]),g(O=>O.slice(1)),!0)}function C(){if(e===null)return!1;const z=e.runUndo();return z?(alert(z.details),!1):(g(O=>[l[0],...O]),f(O=>O.slice(1)),!0)}const R=jt.useRef(null),M=()=>{var z;m(!0),(z=x==null?void 0:x.current)==null||z.play(),R.current===null&&(R.current=window.setInterval(()=>{T()||_()},p*1e3))},_=()=>{var z;m(!1),(z=x==null?void 0:x.current)==null||z.pause(),R.current!==null&&(clearInterval(R.current),R.current=null)};jt.useEffect(()=>()=>{R.current!==null&&clearInterval(R.current)},[]);const k=z=>{x.current&&(x.current.playbackRate=z)};return rn(hh,{children:[qe("hr",{}),qe("h2",{children:"Simulacia"}),qe("audio",{ref:x,src:"/fojalka/simulation-music.aac",hidden:!0,loop:!0}),rn("div",{hidden:(n==null?void 0:n.mode.mode)!==fn.VISUAL&&!1,children:[rn("div",{hidden:e!==null,children:["vstupn slovo: ",qe("input",{type:"text",value:a,onChange:z=>u(z.target.value),placeholder:"ababba",disabled:e!==null}),qe("button",{onClick:S,children:"Simuluj slovo"})," ",qe("br",{})]}),rn("div",{hidden:e===null,children:["tan slovo:",qe("input",{type:"text",size:l.length+1,value:l.join(""),readOnly:!0}),qe("input",{type:"text",size:c.length+1,value:""+c.join(""),readOnly:!0}),qe("button",{onClick:()=>D(),hidden:e===null,children:"stopni simulaciu"})," ",qe("br",{}),qe("button",{onClick:C,children:"predchadzajuci krok"}),qe("button",{onClick:T,children:"dalsi krok"})," ",qe("br",{}),"autoplay",rn("div",{hidden:v,children:[qe("button",{onClick:M,children:""})," | rchlos",qe("input",{type:"number",min:.1,max:2,step:.1,value:p,onChange:z=>{w(Number(z.target.value)),k(Number(z.target.value))}})]}),qe("button",{onClick:_,hidden:!v,children:""})]})]})]})}function eB({toggle:n}){if(!jt.useContext(Hc))throw new Error("ToggleWindow must be used within a CoreProvider");return qe("button",{className:"btn btn-primary",onClick:n,children:"Toggle window"})}function tB(){const n=jt.useContext(Hc),e=()=>{if(n==null)return;const t=n.primary;t.kind==Ot.AUTOMATON&&(t==null||t.addState("a",{x:50,y:0}),t==null||t.addState("b",{x:100,y:0}),t==null||t.addState("c",{x:200,y:0}),t==null||t.addEdge("q","a",{id:"",inputChar:"a"}),t==null||t.addEdge("a","b",{id:"",inputChar:"a"}),t==null||t.addEdge("b","c",{id:"",inputChar:"a"})),(n==null?void 0:n.mode.mode)===fn.VISUAL?(n==null||n.switchToEditMode(!1),console.log("Switched to EDIT mode")):(n==null?void 0:n.mode.mode)===fn.EDIT&&(n==null||n.switchToVisualMode(),console.log("Switched to VISUAL mode"))};if(!n)throw new Error("SwitchWindow must be used within a CoreProvider");return qe("button",{className:"btn btn-primary",onClick:e,children:"Switch mode"})}function nB(){const[n,e]=jt.useState(!1),[t,a]=jt.useState(12);return rn(hh,{children:[qe(eB,{toggle:()=>{e(!n),a(n?12:6)}}),qe(tB,{}),qe(jM,{}),rn("div",{id:"cy-window",className:"d-flex flex-row",children:[qe(Ob,{primary:!0,cols:t}),n?qe(Ob,{primary:!1,cols:6}):null]})]})}class ys{constructor(e){Re(this,"kind",Ot.GRAMMAR);Re(this,"grammar");Re(this,"backup");this.grammar=e}saveBackup(){this.backup=this.grammar.save()}undo(){this.backup&&this.grammar.restore(this.backup)}}class rB extends ys{constructor(t,a){super(t);Re(this,"productionRule");this.productionRule=a}accept(t){t.visitAddProductionRuleCommand(this)}execute(){if(this.grammar.productionRules.includes(this.productionRule))return new Ie(`Cannot add production rule: ${this.productionRule.toString()}: it is already present.`);if(this.grammar.productionRules.some(t=>t.equals(this.productionRule)))return new Ie(`Cannot add production rule: ${this.productionRule.toString()}: it is already present.`);this.saveBackup(),this.grammar.productionRules.push(this.productionRule)}}class aB extends ys{constructor(t,a){super(t);Re(this,"productionRuleId");this.productionRuleId=a}accept(t){t.visitRemoveProductionRuleCommand(this)}execute(){const t=this.grammar.productionRules.filter(a=>a.id!==this.productionRuleId);if(t.length===this.grammar.productionRules.length)return new Ie(`Cannot remove production rule ${this.productionRuleId}: production rule is not present.`);this.saveBackup(),this.grammar.productionRules=t}}class iB extends ys{constructor(t,a,u){super(t);Re(this,"productionRuleId");Re(this,"productionRule");this.productionRuleId=a,this.productionRule=u}accept(t){t.visitEditProductionRuleCommand(this)}execute(){const t=this.grammar.productionRules.findIndex(a=>a.id===this.productionRuleId);if(t===-1)return new Ie(`Cannot edit production rule ${this.productionRuleId}: production rule is not present.`);if(this.grammar.productionRules.some(a=>a.equals(this.productionRule)))return new Ie(`Cannot replace production rule ${this.productionRuleId} with rule ${this.productionRule.toString()}: it is already present.`);this.saveBackup(),this.grammar.productionRules[t]=this.productionRule}}class uB extends ys{constructor(t,a){super(t);Re(this,"nonterminals");this.nonterminals=a}accept(t){t.visitAddNonterminalsCommand(this)}execute(){for(const t of this.nonterminals){if(this.grammar.terminalSymbols.includes(t))return new Ie(`Cannot add nonterminal symbol ${t}: it is already present as a terminal symbol.`);if(this.grammar.nonTerminalSymbols.includes(t))return new Ie(`Cannot add nonterminal symbol ${t}: it is already present.`);if(t===mh)return new Ie("Cannot add epsilon as nonterminal symbol.")}this.saveBackup();for(const t of this.nonterminals)this.grammar.nonTerminalSymbols.includes(t)||this.grammar.nonTerminalSymbols.push(t)}}class lB extends ys{constructor(t,a){super(t);Re(this,"terminals");this.terminals=a}accept(t){t.visitAddTerminalsCommand(this)}execute(){for(const t of this.terminals){if(this.grammar.nonTerminalSymbols.includes(t))return new Ie(`Cannot add terminal symbol ${t}: it is already present as a nonterminal symbol.`);if(this.grammar.terminalSymbols.includes(t))return new Ie(`Cannot add terminal symbol ${t}: it is already present.`);if(t===mh)return new Ie("Cannot add epsilon as terminal symbol.")}this.saveBackup();for(const t of this.terminals)this.grammar.terminalSymbols.includes(t)||this.grammar.terminalSymbols.push(t)}}class sB extends ys{constructor(t,a){super(t);Re(this,"nonterminal");this.nonterminal=a}accept(t){t.visitSetInitialNonterminalCommand(this)}execute(){if(!this.grammar.nonTerminalSymbols.includes(this.nonterminal))return new Ie(`Cannot set nonterminal symbol ${this.nonterminal} as initial: nonterminal is not present.`);this.saveBackup(),this.grammar.initialNonTerminalSymbol=this.nonterminal}}class oB extends ys{constructor(t,a){super(t);Re(this,"nonterminal");this.nonterminal=a}accept(t){t.visitRemoveNonterminalCommand(this)}execute(){const t=this.grammar.nonTerminalSymbols.findIndex(a=>a===this.nonterminal);if(t===-1)return new Ie(`Cannot remove nonterminal symbol ${this.nonterminal}: nonterminal is not present.`);if(this.nonterminal===this.grammar.initialNonTerminalSymbol)return new Ie(`Cannot remove nonterminal symbol ${this.nonterminal}: it is the initial nonterminal.`);for(const a of this.grammar.productionRules)if(this.nonterminal===a.inputNonTerminal||a.outputSymbols.includes(this.nonterminal))return new Ie(`Cannot remove nonterminal symbol ${this.nonterminal}: it is being used in production rule ${a.toString()}.`);this.saveBackup(),this.grammar.nonTerminalSymbols.length>1&&t!==this.grammar.nonTerminalSymbols.length-1?this.grammar.nonTerminalSymbols[t]=this.grammar.nonTerminalSymbols.pop():this.grammar.nonTerminalSymbols.pop()}}class fB extends ys{constructor(t,a){super(t);Re(this,"terminal");this.terminal=a}accept(t){t.visitRemoveTerminalCommand(this)}execute(){const t=this.grammar.terminalSymbols.findIndex(a=>a===this.terminal);if(t===-1)return new Ie(`Cannot remove terminal symbol ${this.terminal}: terminal is not present.`);for(const a of this.grammar.productionRules)if(a.outputSymbols.includes(this.terminal))return new Ie(`Cannot remove terminal symbol ${this.terminal}: it is being used in production rule ${a.toString()}.`);this.saveBackup(),this.grammar.terminalSymbols.length>1&&t!==this.grammar.terminalSymbols.length-1?this.grammar.terminalSymbols[t]=this.grammar.terminalSymbols.pop():this.grammar.terminalSymbols.pop()}}var _o=(n=>(n.REGULAR="REGULAR",n.CONTEXT_FREE="CONTEXT_FREE",n))(_o||{});class gh{constructor(e,t,a){Re(this,"id");Re(this,"inputNonTerminal");Re(this,"outputSymbols");this.id=e,this.inputNonTerminal=t,this.outputSymbols=a}static createByFactory(e,t,a){return new gh(e,t,a)}equals(e){return e instanceof gh?this.inputNonTerminal===e.inputNonTerminal&&kb(this.outputSymbols,e.outputSymbols):!1}toString(){return`${this.inputNonTerminal} -> ${this.outputSymbols.join("")}`}}class LE{constructor(e,t,a,u){Re(this,"grammarType");Re(this,"nonTerminalSymbols");Re(this,"terminalSymbols");Re(this,"initialNonTerminalSymbol");Re(this,"productionRules");Re(this,"commandHistory");this.grammarType=e,this.nonTerminalSymbols=t,this.terminalSymbols=a,this.initialNonTerminalSymbol=u,this.productionRules=[],this.commandHistory=[]}hasNonTerminalSymbol(e){return this.nonTerminalSymbols.some(t=>t===e)}hasTerminalSymbol(e){return this.terminalSymbols.some(t=>t===e)}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new Ie("Cannot undo because command history is empty.")}save(){return new cB(this.grammarType,this.nonTerminalSymbols,this.terminalSymbols,this.initialNonTerminalSymbol,this.productionRules)}restore(e){this.grammarType=e.grammarType,this.nonTerminalSymbols=e.nonTerminalSymbols,this.terminalSymbols=e.terminalSymbols,this.initialNonTerminalSymbol=e.initialNonTerminalSymbol,this.productionRules=e.productionRules}}class cB{constructor(e,t,a,u,l){Re(this,"grammarType");Re(this,"nonTerminalSymbols");Re(this,"terminalSymbols");Re(this,"initialNonTerminalSymbol");Re(this,"productionRules");this.grammarType=e,this.nonTerminalSymbols=[...t],this.terminalSymbols=[...a],this.initialNonTerminalSymbol=u,this.productionRules=Qm.cloneDeep(l)}}class W0{constructor(){Re(this,"production_rule_id_increment",0)}nextProductionRuleString(){return`_production_rule_${this.production_rule_id_increment++}`}}class vB extends W0{constructor(t){super();Re(this,"internalFactory");if(t===_o.REGULAR)this.internalFactory=new dB;else if(t===_o.CONTEXT_FREE)this.internalFactory=new hB;else{const a=Object.values(_o);throw new Error(`Unsupported automaton type: ${t}. Supported types are ${JSON.stringify(a)}.`)}}createGrammar(t,a,u){return this.internalFactory.createGrammar(t,a,u)}createProductionRule(t,a,u){if(t===null)throw new Error("Cannot add production rule: input non-terminal is empty.");if(a===void 0)throw new Error("Cannot add production rule: output symbols are empty.");if(!u.hasNonTerminalSymbol(t))throw new Error(`Cannot add production rule: non-terminal ${t} is not present in grammar's non-terminals ${u.nonTerminalSymbols}`);for(const l of a)if(!u.hasNonTerminalSymbol(l)&&!u.hasTerminalSymbol(l)&&(l!==mh||a.length!==1))throw new Error(`Cannot add production rule: output symbol ${l} is not present in grammar's non-terminals ${u.nonTerminalSymbols} or terminals ${u.terminalSymbols}`);return this.internalFactory.createProductionRule(t,a,u)}}class dB extends W0{createGrammar(e,t,a){return new LE(_o.REGULAR,e,t,a)}createProductionRule(e,t,a){const u=t.slice(-1)[0],l=u===mh,f=a.hasTerminalSymbol(u),c=a.hasNonTerminalSymbol(u),g=t.slice(0,-1);let v=!0;for(const p of g)v&&(v=a.hasTerminalSymbol(p));if(!(v&&(f||c)||l))throw new Error(`Cannot add production rule: production rule ${e} -> ${t.join("")} is not a regular rule.`);return gh.createByFactory(this.nextProductionRuleString(),e,t)}}class hB extends W0{createGrammar(e,t,a){return new LE(_o.CONTEXT_FREE,e,t,a)}createProductionRule(e,t,a){if(a===null)throw"Fuck eslint when so that i can successfully commit this shit.";return gh.createByFactory(this.nextProductionRuleString(),e,t)}}class gB{constructor(){Re(this,"kind",Ot.GRAMMAR);Re(this,"grammar");Re(this,"representation",qe(hh,{}));Re(this,"existingRuleIds",[]);Re(this,"highlightedRuleIds",new Set);Re(this,"highlightedSymbols",new Set)}setGrammar(e){this.grammar=e}display(){return this.representation}storeRuleId(e){this.existingRuleIds.push(e)}removeRuleId(e){this.existingRuleIds=this.existingRuleIds.filter(t=>t!==e)}getRuleIdByIndex(e){var t;return(t=this.existingRuleIds)==null?void 0:t[e]}highlight(e){for(const t of e)t.charAt(0)==="_"?this.highlightedRuleIds.add(t):this.highlightedSymbols.add(t)}clearHighlights(){this.highlightedRuleIds.clear(),this.highlightedSymbols.clear()}refresh(){if(!this.grammar){this.representation=qe(hh,{children:"No grammar set."});return}const e=qe("span",{children:this.grammar.nonTerminalSymbols.map((l,f,c)=>rn("span",{className:this.highlightedSymbols.has(l)?"highlight":"",children:[l,f<c.length-1?", ":""]},`nt-${l}`))}),t=qe("span",{children:this.grammar.terminalSymbols.map((l,f,c)=>rn("span",{className:this.highlightedSymbols.has(l)?"highlight":"",children:[l,f<c.length-1?", ":""]},`t-${l}`))}),a=this.grammar.initialNonTerminalSymbol,u=this.grammar.productionRules.map(l=>{const f=`${l.inputNonTerminal}  ${l.outputSymbols.join(" ")}`,c=this.highlightedRuleIds.has(l.id);return qe("div",{className:c?"highlight":"",children:f},`g-rule-visual-${l.id}`)});this.representation=rn("div",{children:[rn("div",{children:[qe("strong",{children:"Non-terminals:"})," ",e]}),rn("div",{children:[qe("strong",{children:"Terminals:"})," ",t]}),rn("div",{children:[qe("strong",{children:"Initial symbol:"})," ",a]}),qe("div",{children:qe("strong",{children:"Production Rules:"})}),u]})}}class mB{constructor(e,t){Re(this,"kind",Ot.GRAMMAR);Re(this,"mode");Re(this,"factory");Re(this,"grammar");Re(this,"simulation");Re(this,"visual");Re(this,"visitor");this.factory=new vB(e),this.grammar=this.factory.createGrammar([s1],[],s1),this.visual=new gB,this.visual.setGrammar(this.grammar),this.visitor=new _E(this.visual),this.mode=t}display(){return this.visual.display()}addProductionRule(e,t){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");try{const a=this.factory.createProductionRule(e,t,this.grammar),u=new rB(this.grammar,a),l=this.grammar.executeCommand(u);if(l!==void 0)return l;u.accept(this.visitor)}catch(a){if(a instanceof Error)return new Ie(a.message)}}editProductionRule(e,t,a){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");try{const u=this.factory.createProductionRule(t,a,this.grammar),l=new iB(this.grammar,e,u),f=this.grammar.executeCommand(l);if(f!==void 0)return f;l.accept(this.visitor)}catch(u){if(u instanceof Error)return new Ie(u.message)}}removeProductionRule(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new aB(this.grammar,e),a=this.grammar.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}addNonterminals(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");for(const u of e){const l=u.trim();if(l.length===0)return new Ie("Nonterminal symbol must contain at least one non-whitespace character.");if(l.charAt(0)==="_")return new Ie("Nonterminal symbol cannot start with an underscore.");if(l.includes(" "))return new Ie("Nonterminal symbol must not contain spaces.")}const t=new uB(this.grammar,e),a=this.grammar.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}addTerminals(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");for(const u of e){const l=u.trim();if(l.length===0)return new Ie("Terminal symbol must contain at least one non-whitespace character.");if(l.charAt(0)==="_")return new Ie("Terminal symbol cannot start with an underscore.");if(l.includes(" "))return new Ie("Terminal symbol must not contain spaces.")}const t=new lB(this.grammar,e),a=this.grammar.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}removeNonterminal(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new oB(this.grammar,e),a=this.grammar.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}removeTerminal(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new fB(this.grammar,e),a=this.grammar.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}setInitialNonterminal(e){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const t=new sB(this.grammar,e),a=this.grammar.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}undo(){if(this.mode.mode!==fn.EDIT)return new Ie("Operation is only permitted in edit mode.");const e=this.grammar.undo();return this.visual.refresh(),e}highlight(e){if(this.mode.mode!==fn.VISUAL)return new Ie("Operation is only permitted in visual mode.");this.visual.clearHighlights(),this.visual.highlight(e)}simulateParsing(e){return this.mode.mode!==fn.VISUAL?new Ie("Operation is only permitted in visual mode."):new Ie(`Not implemented. ${e}`)}}const pB=({grammarRepr:n})=>n?rn("div",{className:"section",children:[qe("h3",{children:"Grammar Representation"}),qe("pre",{className:"grammar-representation",children:n})]}):null,yB=({grammarType:n})=>{const e=mS.useRef(new mB(n,new S0)),[t,a]=jt.useState([""]),[u,l]=jt.useState([]),[f,c]=jt.useState([]),[g,v]=jt.useState({input:"",output:""}),[m,p]=jt.useState(""),[w,x]=jt.useState(""),[S,D]=jt.useState(),T=()=>{const O=e.current.visual.display();D(O)},C=()=>{const O=e.current.addNonterminals([m]);if(O){alert(O.details);return}a(I=>[...I,m]),p(""),T()},R=O=>{const I=t[O],L=e.current.removeNonterminal(I);if(L){alert(L.details);return}a(F=>[...F.slice(0,O),...F.slice(O+1)]),T()},M=()=>{const O=e.current.addTerminals([w]);if(O){alert(O.details);return}l(I=>[...I,w]),x(""),T()},_=O=>{const I=u[O],L=e.current.removeTerminal(I);if(L){alert(L.details);return}l(F=>[...F.slice(0,O),...F.slice(O+1)]),T()},k=()=>{const O=g.input.trim(),I=g.output.trim().split(" ").filter(Boolean);if(!O||I.length===0){alert("Please enter both LHS and RHS.");return}const L=e.current.addProductionRule(O,I);if(L){alert(L.details);return}const F={input:O,output:I};c([...f,F]),T(),v({input:"",output:""})},z=O=>{const I=e.current.visual.getRuleIdByIndex(O);I===void 0&&alert("Trying to remove non-existent rule");const L=e.current.removeProductionRule(I);if(L){alert(L.details);return}c(F=>[...F.slice(0,O),...F.slice(O+1)]),T()};return rn("div",{className:"grammar-container",children:[qe("h2",{className:"grammar-header",children:"Gramatika"}),rn("div",{className:"section",children:[qe("h3",{children:"Non-Terminals"}),qe("div",{className:"list",children:t.map((O,I)=>rn("div",{className:"list-item",children:[qe("span",{children:O}),qe("button",{onClick:()=>R(I),className:"delete-btn",children:""})]},I))}),rn("div",{className:"input-row",children:[qe("input",{value:m,onChange:O=>p(O.target.value),placeholder:"Non-terminal (e.g. A)"}),qe("button",{onClick:C,children:"Add"})]})]}),rn("div",{className:"section",children:[qe("h3",{children:"Terminals"}),qe("div",{className:"list",children:u.map((O,I)=>rn("div",{className:"list-item",children:[qe("span",{children:O}),qe("button",{onClick:()=>_(I),className:"delete-btn",children:""})]},I))}),rn("div",{className:"input-row",children:[qe("input",{value:w,onChange:O=>x(O.target.value),placeholder:"Terminal (e.g. a)"}),qe("button",{onClick:M,children:"Add"})]})]}),rn("div",{className:"section",children:[qe("h3",{children:"Production Rules"}),qe("div",{className:"list",children:f.map((O,I)=>rn("div",{className:"list-item",children:[rn("span",{children:[O.input,"  ",O.output.join(" ")]}),qe("button",{onClick:()=>z(I),className:"delete-btn",children:""})]},I))}),rn("div",{className:"input-row rule-input-row",children:[qe("input",{value:g.input,onChange:O=>v({...g,input:O.target.value}),placeholder:"LHS (e.g. S)"}),qe("span",{children:""}),qe("input",{value:g.output,onChange:O=>v({...g,output:O.target.value}),placeholder:"RHS (e.g. a A)"}),qe("button",{onClick:k,children:"Add Rule"})]})]}),qe(pB,{grammarRepr:S})]})};function bB(){return rn(QM,{children:[qe("h1",{children:"Vla Fojlka"}),qe($M,{}),qe(nB,{}),qe(yB,{grammarType:_o.CONTEXT_FREE})]})}xS.createRoot(document.getElementById("root")).render(qe(jt.StrictMode,{children:qe(bB,{})}));
