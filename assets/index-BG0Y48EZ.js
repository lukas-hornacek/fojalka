var ex=Object.defineProperty;var tx=(n,e,t)=>e in n?ex(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Fe=(n,e,t)=>tx(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(u){if(u.ep)return;u.ep=!0;const l=t(u);fetch(u.href,l)}})();var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},By={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function nx(){if(G0)return Dt;G0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function C(I,Z,ne){this.props=I,this.context=Z,this.refs=D,this.updater=ne||S}C.prototype.isReactComponent={},C.prototype.setState=function(I,Z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Z,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=C.prototype;function R(I,Z,ne){this.props=I,this.context=Z,this.refs=D,this.updater=ne||S}var M=R.prototype=new T;M.constructor=R,x(M,C.prototype),M.isPureReactComponent=!0;var O=Array.isArray,N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function L(I,Z,ne,de,se,we){return ne=we.ref,{$$typeof:n,type:I,key:Z,ref:ne!==void 0?ne:null,props:we}}function H(I,Z){return L(I.type,Z,void 0,void 0,void 0,I.props)}function z(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function F(I){var Z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return Z[ne]})}var Y=/\/+/g;function G(I,Z){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):Z.toString(36)}function Q(){}function X(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Q,Q):(I.status="pending",I.then(function(Z){I.status==="pending"&&(I.status="fulfilled",I.value=Z)},function(Z){I.status==="pending"&&(I.status="rejected",I.reason=Z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,Z,ne,de,se){var we=typeof I;(we==="undefined"||we==="boolean")&&(I=null);var pe=!1;if(I===null)pe=!0;else switch(we){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(I.$$typeof){case n:case e:pe=!0;break;case p:return pe=I._init,ee(pe(I._payload),Z,ne,de,se)}}if(pe)return se=se(I),pe=de===""?"."+G(I,0):de,O(se)?(ne="",pe!=null&&(ne=pe.replace(Y,"$&/")+"/"),ee(se,Z,ne,"",function(ve){return ve})):se!=null&&(z(se)&&(se=H(se,ne+(se.key==null||I&&I.key===se.key?"":(""+se.key).replace(Y,"$&/")+"/")+pe)),Z.push(se)),1;pe=0;var Re=de===""?".":de+":";if(O(I))for(var xe=0;xe<I.length;xe++)de=I[xe],we=Re+G(de,xe),pe+=ee(de,Z,ne,we,se);else if(xe=w(I),typeof xe=="function")for(I=xe.call(I),xe=0;!(de=I.next()).done;)de=de.value,we=Re+G(de,xe++),pe+=ee(de,Z,ne,we,se);else if(we==="object"){if(typeof I.then=="function")return ee(X(I),Z,ne,de,se);throw Z=String(I),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function K(I,Z,ne){if(I==null)return I;var de=[],se=0;return ee(I,de,"","",function(we){return Z.call(ne,we,se++)}),de}function W(I){if(I._status===-1){var Z=I._result;Z=Z(),Z.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=Z)}if(I._status===1)return I._result.default;throw I._result}var j=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function le(){}return Dt.Children={map:K,forEach:function(I,Z,ne){K(I,function(){Z.apply(this,arguments)},ne)},count:function(I){var Z=0;return K(I,function(){Z++}),Z},toArray:function(I){return K(I,function(Z){return Z})||[]},only:function(I){if(!z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Dt.Component=C,Dt.Fragment=t,Dt.Profiler=u,Dt.PureComponent=R,Dt.StrictMode=a,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Dt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Dt.cache=function(I){return function(){return I.apply(null,arguments)}},Dt.cloneElement=function(I,Z,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var de=x({},I.props),se=I.key,we=void 0;if(Z!=null)for(pe in Z.ref!==void 0&&(we=void 0),Z.key!==void 0&&(se=""+Z.key),Z)!k.call(Z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Z.ref===void 0||(de[pe]=Z[pe]);var pe=arguments.length-2;if(pe===1)de.children=ne;else if(1<pe){for(var Re=Array(pe),xe=0;xe<pe;xe++)Re[xe]=arguments[xe+2];de.children=Re}return L(I.type,se,void 0,void 0,we,de)},Dt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Dt.createElement=function(I,Z,ne){var de,se={},we=null;if(Z!=null)for(de in Z.key!==void 0&&(we=""+Z.key),Z)k.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(se[de]=Z[de]);var pe=arguments.length-2;if(pe===1)se.children=ne;else if(1<pe){for(var Re=Array(pe),xe=0;xe<pe;xe++)Re[xe]=arguments[xe+2];se.children=Re}if(I&&I.defaultProps)for(de in pe=I.defaultProps,pe)se[de]===void 0&&(se[de]=pe[de]);return L(I,we,void 0,void 0,null,se)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(I){return{$$typeof:c,render:I}},Dt.isValidElement=z,Dt.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:W}},Dt.memo=function(I,Z){return{$$typeof:v,type:I,compare:Z===void 0?null:Z}},Dt.startTransition=function(I){var Z=N.T,ne={};N.T=ne;try{var de=I(),se=N.S;se!==null&&se(ne,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(le,j)}catch(we){j(we)}finally{N.T=Z}},Dt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Dt.use=function(I){return N.H.use(I)},Dt.useActionState=function(I,Z,ne){return N.H.useActionState(I,Z,ne)},Dt.useCallback=function(I,Z){return N.H.useCallback(I,Z)},Dt.useContext=function(I){return N.H.useContext(I)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(I,Z){return N.H.useDeferredValue(I,Z)},Dt.useEffect=function(I,Z){return N.H.useEffect(I,Z)},Dt.useId=function(){return N.H.useId()},Dt.useImperativeHandle=function(I,Z,ne){return N.H.useImperativeHandle(I,Z,ne)},Dt.useInsertionEffect=function(I,Z){return N.H.useInsertionEffect(I,Z)},Dt.useLayoutEffect=function(I,Z){return N.H.useLayoutEffect(I,Z)},Dt.useMemo=function(I,Z){return N.H.useMemo(I,Z)},Dt.useOptimistic=function(I,Z){return N.H.useOptimistic(I,Z)},Dt.useReducer=function(I,Z,ne){return N.H.useReducer(I,Z,ne)},Dt.useRef=function(I){return N.H.useRef(I)},Dt.useState=function(I){return N.H.useState(I)},Dt.useSyncExternalStore=function(I,Z,ne){return N.H.useSyncExternalStore(I,Z,ne)},Dt.useTransition=function(){return N.H.useTransition()},Dt.version="19.0.0",Dt}var Y0;function h0(){return Y0||(Y0=1,By.exports=nx()),By.exports}var mi=h0(),Oy={exports:{}},zd={},_y={exports:{}},Ly={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function rx(){return K0||(K0=1,function(n){function e(K,W){var j=K.length;K.push(W);e:for(;0<j;){var le=j-1>>>1,I=K[le];if(0<u(I,W))K[le]=W,K[j]=I,j=le;else break e}}function t(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var W=K[0],j=K.pop();if(j!==W){K[0]=j;e:for(var le=0,I=K.length,Z=I>>>1;le<Z;){var ne=2*(le+1)-1,de=K[ne],se=ne+1,we=K[se];if(0>u(de,j))se<I&&0>u(we,de)?(K[le]=we,K[se]=j,le=se):(K[le]=de,K[ne]=j,le=ne);else if(se<I&&0>u(we,j))K[le]=we,K[se]=j,le=se;else break e}}return W}function u(K,W){var j=K.sortIndex-W.sortIndex;return j!==0?j:K.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var f=Date,c=f.now();n.unstable_now=function(){return f.now()-c}}var g=[],v=[],p=1,m=null,w=3,S=!1,x=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(K){for(var W=t(v);W!==null;){if(W.callback===null)a(v);else if(W.startTime<=K)a(v),W.sortIndex=W.expirationTime,e(g,W);else break;W=t(v)}}function O(K){if(D=!1,M(K),!x)if(t(g)!==null)x=!0,X();else{var W=t(v);W!==null&&ee(O,W.startTime-K)}}var N=!1,k=-1,L=5,H=-1;function z(){return!(n.unstable_now()-H<L)}function F(){if(N){var K=n.unstable_now();H=K;var W=!0;try{e:{x=!1,D&&(D=!1,T(k),k=-1),S=!0;var j=w;try{t:{for(M(K),m=t(g);m!==null&&!(m.expirationTime>K&&z());){var le=m.callback;if(typeof le=="function"){m.callback=null,w=m.priorityLevel;var I=le(m.expirationTime<=K);if(K=n.unstable_now(),typeof I=="function"){m.callback=I,M(K),W=!0;break t}m===t(g)&&a(g),M(K)}else a(g);m=t(g)}if(m!==null)W=!0;else{var Z=t(v);Z!==null&&ee(O,Z.startTime-K),W=!1}}break e}finally{m=null,w=j,S=!1}W=void 0}}finally{W?Y():N=!1}}}var Y;if(typeof R=="function")Y=function(){R(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=F,Y=function(){Q.postMessage(null)}}else Y=function(){C(F,0)};function X(){N||(N=!0,Y())}function ee(K,W){k=C(function(){K(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){x||S||(x=!0,X())},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var j=w;w=W;try{return K()}finally{w=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var j=w;w=K;try{return W()}finally{w=j}},n.unstable_scheduleCallback=function(K,W,j){var le=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?le+j:le):j=le,K){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=j+I,K={id:p++,callback:W,priorityLevel:K,startTime:j,expirationTime:I,sortIndex:-1},j>le?(K.sortIndex=j,e(v,K),t(g)===null&&K===t(v)&&(D?(T(k),k=-1):D=!0,ee(O,j-le))):(K.sortIndex=I,e(g,K),x||S||(x=!0,X())),K},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(K){var W=w;return function(){var j=w;w=W;try{return K.apply(this,arguments)}finally{w=j}}}}(Ly)),Ly}var X0;function ax(){return X0||(X0=1,_y.exports=rx()),_y.exports}var zy={exports:{}},Nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function ix(){if(Z0)return Nr;Z0=1;var n=h0();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},u=Symbol.for("react.portal");function l(g,v,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:m==null?null:""+m,children:g,containerInfo:v,implementation:p}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Nr.createPortal=function(g,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return l(g,v,null,p)},Nr.flushSync=function(g){var v=f.T,p=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=v,a.p=p,a.d.f()}},Nr.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(g,v))},Nr.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Nr.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var p=v.as,m=c(p,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?a.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:m,integrity:w,fetchPriority:S}):p==="script"&&a.d.X(g,{crossOrigin:m,integrity:w,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Nr.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=c(v.as,v.crossOrigin);a.d.M(g,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(g)},Nr.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,m=c(p,v.crossOrigin);a.d.L(g,p,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Nr.preloadModule=function(g,v){if(typeof g=="string")if(v){var p=c(v.as,v.crossOrigin);a.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(g)},Nr.requestFormReset=function(g){a.d.r(g)},Nr.unstable_batchedUpdates=function(g,v){return g(v)},Nr.useFormState=function(g,v,p){return f.H.useFormState(g,v,p)},Nr.useFormStatus=function(){return f.H.useHostTransitionStatus()},Nr.version="19.0.0",Nr}var Q0;function ux(){if(Q0)return zy.exports;Q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zy.exports=ix(),zy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function lx(){if(W0)return zd;W0=1;var n=ax(),e=h0(),t=ux();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function H(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case g:return"Fragment";case c:return"Portal";case p:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case C:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case S:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case x:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case T:return i=r.displayName||null,i!==null?i:H(r.type)||"Memo";case R:i=r._payload,r=r._init;try{return H(r(i))}catch{}}return null}var z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,Y,G;function Q(r){if(Y===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Y=i&&i[1]||"",G=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+r+G}var X=!1;function ee(r,i){if(!r||X)return"";X=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ce){var ye=Ce}Reflect.construct(r,[],ze)}else{try{ze.call()}catch(Ce){ye=Ce}r.call(ze.prototype)}}else{try{throw Error()}catch(Ce){ye=Ce}(ze=r())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ce){if(Ce&&ye&&typeof Ce.stack=="string")return[Ce.stack,ye.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=h.DetermineComponentFrameRoot(),B=E[0],P=E[1];if(B&&P){var $=B.split(`
`),ie=P.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===ie.length)for(h=$.length-1,y=ie.length-1;1<=h&&0<=y&&$[h]!==ie[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==ie[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==ie[y]){var De=`
`+$[h].replace(" at new "," at ");return r.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",r.displayName)),De}while(1<=h&&0<=y);break}}}finally{X=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?Q(s):""}function K(r){switch(r.tag){case 26:case 27:case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return r=ee(r.type,!1),r;case 11:return r=ee(r.type.render,!1),r;case 1:return r=ee(r.type,!0),r;default:return""}}function W(r){try{var i="";do i+=K(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function j(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function le(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function I(r){if(j(r)!==r)throw Error(a(188))}function Z(r){var i=r.alternate;if(!i){if(i=j(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,h=i;;){var y=s.return;if(y===null)break;var E=y.alternate;if(E===null){if(h=y.return,h!==null){s=h;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===s)return I(y),r;if(E===h)return I(y),i;E=E.sibling}throw Error(a(188))}if(s.return!==h.return)s=y,h=E;else{for(var B=!1,P=y.child;P;){if(P===s){B=!0,s=y,h=E;break}if(P===h){B=!0,h=y,s=E;break}P=P.sibling}if(!B){for(P=E.child;P;){if(P===s){B=!0,s=E,h=y;break}if(P===h){B=!0,h=E,s=y;break}P=P.sibling}if(!B)throw Error(a(189))}}if(s.alternate!==h)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function ne(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=ne(r),i!==null)return i;r=r.sibling}return null}var de=Array.isArray,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},pe=[],Re=-1;function xe(r){return{current:r}}function ve(r){0>Re||(r.current=pe[Re],pe[Re]=null,Re--)}function re(r,i){Re++,pe[Re]=r.current,r.current=i}var be=xe(null),_e=xe(null),Ue=xe(null),Pe=xe(null);function gt(r,i){switch(re(Ue,i),re(_e,r),re(be,null),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?tp(i):0;break;default:if(r=r===8?i.parentNode:i,i=r.tagName,r=r.namespaceURI)r=tp(r),i=np(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ve(be),re(be,i)}function _t(){ve(be),ve(_e),ve(Ue)}function xt(r){r.memoizedState!==null&&re(Pe,r);var i=be.current,s=np(i,r.type);i!==s&&(re(_e,r),re(be,s))}function Ge(r){_e.current===r&&(ve(be),ve(_e)),Pe.current===r&&(ve(Pe),mo._currentValue=we)}var Ye=Object.prototype.hasOwnProperty,Je=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,je=n.unstable_shouldYield,ut=n.unstable_requestPaint,lt=n.unstable_now,wt=n.unstable_getCurrentPriorityLevel,Le=n.unstable_ImmediatePriority,V=n.unstable_UserBlockingPriority,fe=n.unstable_NormalPriority,Se=n.unstable_LowPriority,he=n.unstable_IdlePriority,me=n.log,Ie=n.unstable_setDisableYieldValue,Ae=null,ke=null;function et(r){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ae,r,void 0,(r.current.flags&128)===128)}catch{}}function nt(r){if(typeof me=="function"&&Ie(r),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ae,r)}catch{}}var qe=Math.clz32?Math.clz32:st,vt=Math.log,pt=Math.LN2;function st(r){return r>>>=0,r===0?32:31-(vt(r)/pt|0)|0}var Ht=128,Wt=4194304;function Mn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wn(r,i){var s=r.pendingLanes;if(s===0)return 0;var h=0,y=r.suspendedLanes,E=r.pingedLanes,B=r.warmLanes;r=r.finishedLanes!==0;var P=s&134217727;return P!==0?(s=P&~y,s!==0?h=Mn(s):(E&=P,E!==0?h=Mn(E):r||(B=P&~B,B!==0&&(h=Mn(B))))):(P=s&~y,P!==0?h=Mn(P):E!==0?h=Mn(E):r||(B=s&~B,B!==0&&(h=Mn(B)))),h===0?0:i!==0&&i!==h&&(i&y)===0&&(y=h&-h,B=i&-i,y>=B||y===32&&(B&4194176)!==0)?i:h}function sn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function kn(r,i){switch(r){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tn(){var r=Ht;return Ht<<=1,(Ht&4194176)===0&&(Ht=128),r}function $n(){var r=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),r}function Fn(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function ur(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function lr(r,i,s,h,y,E){var B=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var P=r.entanglements,$=r.expirationTimes,ie=r.hiddenUpdates;for(s=B&~s;0<s;){var De=31-qe(s),ze=1<<De;P[De]=0,$[De]=-1;var ye=ie[De];if(ye!==null)for(ie[De]=null,De=0;De<ye.length;De++){var Ce=ye[De];Ce!==null&&(Ce.lane&=-536870913)}s&=~ze}h!==0&&qr(r,h,0),E!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=E&~(B&~i))}function qr(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var h=31-qe(i);r.entangledLanes|=i,r.entanglements[h]=r.entanglements[h]|1073741824|s&4194218}function Dr(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var h=31-qe(s),y=1<<h;y&i|r[h]&i&&(r[h]|=i),s&=~y}}function oa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Vn(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:hp(r.type))}function Un(r,i){var s=se.p;try{return se.p=r,i()}finally{se.p=s}}var yn=Math.random().toString(36).slice(2),Bn="__reactFiber$"+yn,on="__reactProps$"+yn,wi="__reactContainer$"+yn,ms="__reactEvents$"+yn,Ho="__reactListeners$"+yn,Uc="__reactHandles$"+yn,qo="__reactResources$"+yn,Lu="__reactMarker$"+yn;function ys(r){delete r[Bn],delete r[on],delete r[ms],delete r[Ho],delete r[Uc]}function Ei(r){var i=r[Bn];if(i)return i;for(var s=r.parentNode;s;){if(i=s[wi]||s[Bn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=ap(r);r!==null;){if(s=r[Bn])return s;r=ap(r)}return i}r=s,s=r.parentNode}return null}function fa(r){if(r=r[Bn]||r[wi]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function ca(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Aa(r){var i=r[qo];return i||(i=r[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function cn(r){r[Lu]=!0}var bs=new Set,Fo={};function Gn(r,i){Da(r,i),Da(r+"Capture",i)}function Da(r,i){for(Fo[r]=i,r=0;r<i.length;r++)bs.add(i[r])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rr={},Vo={};function wm(r){return Ye.call(Vo,r)?!0:Ye.call(Rr,r)?!1:Wi.test(r)?Vo[r]=!0:(Rr[r]=!0,!1)}function Go(r,i,s){if(wm(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function ws(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function Wa(r,i,s,h){if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+h)}}function Vr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yo(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Em(r){var i=Yo(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var y=s.get,E=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return y.call(this)},set:function(B){h=""+B,E.call(this,B)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return h},setValue:function(B){h=""+B},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Es(r){r._valueTracker||(r._valueTracker=Em(r))}function xs(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),h="";return r&&(h=Yo(r)?r.checked?"true":"false":r.value),r=h,r!==s?(i.setValue(r),!0):!1}function Ss(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xm=/[\n"\\]/g;function Gr(r){return r.replace(xm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ko(r,i,s,h,y,E,B,P){r.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.type=B:r.removeAttribute("type"),i!=null?B==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Vr(i)):r.value!==""+Vr(i)&&(r.value=""+Vr(i)):B!=="submit"&&B!=="reset"||r.removeAttribute("value"),i!=null?Ic(r,B,Vr(i)):s!=null?Ic(r,B,Vr(s)):h!=null&&r.removeAttribute("value"),y==null&&E!=null&&(r.defaultChecked=!!E),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Vr(P):r.removeAttribute("name")}function Xo(r,i,s,h,y,E,B,P){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.type=E),i!=null||s!=null){if(!(E!=="submit"&&E!=="reset"||i!=null))return;s=s!=null?""+Vr(s):"",i=i!=null?""+Vr(i):s,P||i===r.value||(r.value=i),r.defaultValue=i}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=P?r.checked:!!h,r.defaultChecked=!!h,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(r.name=B)}function Ic(r,i,s){i==="number"&&Ss(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function zu(r,i,s,h){if(r=r.options,i){i={};for(var y=0;y<s.length;y++)i["$"+s[y]]=!0;for(s=0;s<r.length;s++)y=i.hasOwnProperty("$"+r[s].value),r[s].selected!==y&&(r[s].selected=y),y&&h&&(r[s].defaultSelected=!0)}else{for(s=""+Vr(s),i=null,y=0;y<r.length;y++){if(r[y].value===s){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}i!==null||r[y].disabled||(i=r[y])}i!==null&&(i.selected=!0)}}function Zo(r,i,s){if(i!=null&&(i=""+Vr(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+Vr(s):""}function Qo(r,i,s,h){if(i==null){if(h!=null){if(s!=null)throw Error(a(92));if(de(h)){if(1<h.length)throw Error(a(93));h=h[0]}s=h}s==null&&(s=""),i=s}s=Vr(i),r.defaultValue=s,h=r.textContent,h===s&&h!==""&&h!==null&&(r.value=h)}function Ra(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pc(r,i,s){var h=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?h?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":h?r.setProperty(i,s):typeof s!="number"||s===0||wh.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function Eh(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var h in s)!s.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in i)h=i[y],i.hasOwnProperty(y)&&s[y]!==h&&Pc(r,y,h)}else for(var E in i)i.hasOwnProperty(E)&&Pc(r,E,i[E])}function Wo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(r){return Sh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Hc=null;function qc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var cl=null,Nu=null;function Th(r){var i=fa(r);if(i&&(r=i.stateNode)){var s=r[on]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ko(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gr(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var h=s[i];if(h!==r&&h.form===r.form){var y=h[on]||null;if(!y)throw Error(a(90));Ko(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<s.length;i++)h=s[i],h.form===r.form&&xs(h)}break e;case"textarea":Zo(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&zu(r,!!s.multiple,i,!1)}}}var Fc=!1;function Ch(r,i,s){if(Fc)return r(i,s);Fc=!0;try{var h=r(i);return h}finally{if(Fc=!1,(cl!==null||Nu!==null)&&(Vf(),cl&&(i=cl,r=Nu,Nu=cl=null,Th(i),r)))for(i=0;i<r.length;i++)Th(r[i])}}function Cs(r,i){var s=r.stateNode;if(s===null)return null;var h=s[on]||null;if(h===null)return null;s=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var As=!1;if(Fr)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){As=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{As=!1}var $i=null,Vc=null,$o=null;function Ah(){if($o)return $o;var r,i=Vc,s=i.length,h,y="value"in $i?$i.value:$i.textContent,E=y.length;for(r=0;r<s&&i[r]===y[r];r++);var B=s-r;for(h=1;h<=B&&i[s-h]===y[E-h];h++);return $o=y.slice(r,1<h?1-h:void 0)}function Jt(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function $t(){return!0}function Dh(){return!1}function Mr(r){function i(s,h,y,E,B){this._reactName=s,this._targetInst=y,this.type=h,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(s=r[P],this[P]=s?s(E):E[P]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?$t:Dh,this.isPropagationStopped=Dh,this}return F(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),i}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Mr(ku),Rs=F({},ku,{view:0,detail:0}),Sm=Mr(Rs),jo,Gc,On,vl=F({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==On&&(On&&r.type==="mousemove"?(jo=r.screenX-On.screenX,Gc=r.screenY-On.screenY):Gc=jo=0,On=r),jo)},movementY:function(r){return"movementY"in r?r.movementY:Gc}}),Ji=Mr(vl),Rh=F({},vl,{dataTransfer:0}),Yc=Mr(Rh),va=F({},Rs,{relatedTarget:0}),ef=Mr(va),Mh=F({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=Mr(Mh),Oh=F({},ku,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_h=Mr(Oh),Lh=F({},ku,{data:0}),Br=Mr(Lh),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zh(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Cm[r])?!!i[r]:!1}function $a(){return zh}var tf=F({},Rs,{key:function(r){if(r.key){var i=Tm[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Jt(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?da[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(r){return r.type==="keypress"?Jt(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Jt(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Kc=Mr(tf),vn=F({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=Mr(vn),Xc=F({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),Am=Mr(Xc),Zc=F({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dm=Mr(Zc),Rm=F({},vl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=Mr(Rm),Nh=F({},ku,{newState:0,oldState:0}),nf=Mr(Nh),dl=[9,13,27,32],Qc=Fr&&"CompositionEvent"in window,hl=null;Fr&&"documentMode"in document&&(hl=document.documentMode);var kh=Fr&&"TextEvent"in window&&!hl,rf=Fr&&(!Qc||hl&&8<hl&&11>=hl),af=" ",Wc=!1;function Uh(r,i){switch(r){case"keyup":return dl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ji=!1;function Bm(r,i){switch(r){case"compositionend":return uf(i);case"keypress":return i.which!==32?null:(Wc=!0,af);case"textInput":return r=i.data,r===af&&Wc?null:r;default:return null}}function Ih(r,i){if(ji)return r==="compositionend"||!Qc&&Uh(r,i)?(r=Ah(),$o=Vc=$i=null,ji=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rf&&i.locale!=="ko"?null:i.data;default:return null}}var Yr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Yr[r.type]:i==="textarea"}function gl(r,i,s,h){cl?Nu?Nu.push(h):Nu=[h]:cl=h,i=Xf(i,"onChange"),0<i.length&&(s=new Jo("onChange","change",null,s,h),r.push({event:s,listeners:i}))}var pl=null,ml=null;function Om(r){jg(r,0)}function sf(r){var i=ca(r);if(xs(i))return r}function Ph(r,i){if(r==="change")return i}var Hh=!1;if(Fr){var $c;if(Fr){var eu="oninput"in document;if(!eu){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),eu=typeof qh.oninput=="function"}$c=eu}else $c=!1;Hh=$c&&(!document.documentMode||9<document.documentMode)}function Fh(){pl&&(pl.detachEvent("onpropertychange",of),ml=pl=null)}function of(r){if(r.propertyName==="value"&&sf(ml)){var i=[];gl(i,ml,r,qc(r)),Ch(Om,i)}}function Vh(r,i,s){r==="focusin"?(Fh(),pl=i,ml=s,pl.attachEvent("onpropertychange",of)):r==="focusout"&&Fh()}function tu(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sf(ml)}function ff(r,i){if(r==="click")return sf(i)}function _m(r,i){if(r==="input"||r==="change")return sf(i)}function Lm(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Kr=typeof Object.is=="function"?Object.is:Lm;function Ja(r,i){if(Kr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),h=Object.keys(i);if(s.length!==h.length)return!1;for(h=0;h<s.length;h++){var y=s[h];if(!Ye.call(i,y)||!Kr(r[y],i[y]))return!1}return!0}function ha(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jc(r,i){var s=ha(r);r=0;for(var h;s;){if(s.nodeType===3){if(h=r+s.textContent.length,r<=i&&h>=i)return{node:s,offset:i-r};r=h}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ha(s)}}function Gh(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Gh(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Yh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ss(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=Ss(r.document)}return i}function jc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function zm(r,i){var s=Yh(i);i=r.focusedElem;var h=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&Gh(i.ownerDocument.documentElement,i)){if(h!==null&&jc(i)){if(r=h.start,s=h.end,s===void 0&&(s=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(s,i.value.length);else if(s=(r=i.ownerDocument||document)&&r.defaultView||window,s.getSelection){s=s.getSelection();var y=i.textContent.length,E=Math.min(h.start,y);h=h.end===void 0?E:Math.min(h.end,y),!s.extend&&E>h&&(y=h,h=E,E=y),y=Jc(i,E);var B=Jc(i,h);y&&B&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(r=r.createRange(),r.setStart(y.node,y.offset),s.removeAllRanges(),E>h?(s.addRange(r),s.extend(B.node,B.offset)):(r.setEnd(B.node,B.offset),s.addRange(r)))}}for(r=[],s=i;s=s.parentNode;)s.nodeType===1&&r.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)s=r[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Nm=Fr&&"documentMode"in document&&11>=document.documentMode,Ma=null,ue=null,Te=null,Ee=!1;function Ke(r,i,s){var h=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ee||Ma==null||Ma!==Ss(h)||(h=Ma,"selectionStart"in h&&jc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Te&&Ja(Te,h)||(Te=h,h=Xf(ue,"onSelect"),0<h.length&&(i=new Jo("onSelect","select",null,i,s),r.push({event:i,listeners:h}),i.target=Ma)))}function ot(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var Lt={animationend:ot("Animation","AnimationEnd"),animationiteration:ot("Animation","AnimationIteration"),animationstart:ot("Animation","AnimationStart"),transitionrun:ot("Transition","TransitionRun"),transitionstart:ot("Transition","TransitionStart"),transitioncancel:ot("Transition","TransitionCancel"),transitionend:ot("Transition","TransitionEnd")},_n={},jt={};Fr&&(jt=document.createElement("div").style,"AnimationEvent"in window||(delete Lt.animationend.animation,delete Lt.animationiteration.animation,delete Lt.animationstart.animation),"TransitionEvent"in window||delete Lt.transitionend.transition);function Si(r){if(_n[r])return _n[r];if(!Lt[r])return r;var i=Lt[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in jt)return _n[r]=i[s];return r}var Kh=Si("animationend"),Xr=Si("animationiteration"),Ms=Si("animationstart"),km=Si("transitionrun"),yl=Si("transitionstart"),cf=Si("transitioncancel"),Bs=Si("transitionend"),Kt=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ga(r,i){Kt.set(r,i),Gn(i,[r])}var pr=[],bl=0,ev=0;function vf(){for(var r=bl,i=ev=bl=0;i<r;){var s=pr[i];pr[i++]=null;var h=pr[i];pr[i++]=null;var y=pr[i];pr[i++]=null;var E=pr[i];if(pr[i++]=null,h!==null&&y!==null){var B=h.pending;B===null?y.next=y:(y.next=B.next,B.next=y),h.pending=y}E!==0&&tv(s,y,E)}}function Uu(r,i,s,h){pr[bl++]=r,pr[bl++]=i,pr[bl++]=s,pr[bl++]=h,ev|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function ja(r,i,s,h){return Uu(r,i,s,h),Iu(r)}function Ba(r,i){return Uu(r,null,null,i),Iu(r)}function tv(r,i,s){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s);for(var y=!1,E=r.return;E!==null;)E.childLanes|=s,h=E.alternate,h!==null&&(h.childLanes|=s),E.tag===22&&(r=E.stateNode,r===null||r._visibility&1||(y=!0)),r=E,E=E.return;y&&i!==null&&r.tag===3&&(E=r.stateNode,y=31-qe(s),E=E.hiddenUpdates,r=E[y],r===null?E[y]=[i]:r.push(i),i.lane=s|536870912)}function Iu(r){if(50<so)throw so=0,ed=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Pu={},nv=new WeakMap;function mr(r,i){if(typeof r=="object"&&r!==null){var s=nv.get(r);return s!==void 0?s:(i={value:r,source:i,stack:W(i)},nv.set(r,i),i)}return{value:r,source:i,stack:W(i)}}var Hu=[],ei=0,ti=null,qu=0,pa=[],ma=0,Fu=null,ya=1,ba="";function Ti(r,i){Hu[ei++]=qu,Hu[ei++]=ti,ti=r,qu=i}function Zh(r,i,s){pa[ma++]=ya,pa[ma++]=ba,pa[ma++]=Fu,Fu=r;var h=ya;r=ba;var y=32-qe(h)-1;h&=~(1<<y),s+=1;var E=32-qe(i)+y;if(30<E){var B=y-y%5;E=(h&(1<<B)-1).toString(32),h>>=B,y-=B,ya=1<<32-qe(i)+y|s<<y|h,ba=E+r}else ya=1<<E|s<<y|h,ba=r}function df(r){r.return!==null&&(Ti(r,1),Zh(r,1,0))}function rv(r){for(;r===ti;)ti=Hu[--ei],Hu[ei]=null,qu=Hu[--ei],Hu[ei]=null;for(;r===Fu;)Fu=pa[--ma],pa[ma]=null,ba=pa[--ma],pa[ma]=null,ya=pa[--ma],pa[ma]=null}var yr=null,zt=null,mt=!1,Oa=null,ni=!1,hf=Error(a(519));function Vu(r){var i=Error(a(418,""));throw Ci(mr(i,r)),hf}function gf(r){var i=r.stateNode,s=r.type,h=r.memoizedProps;switch(i[Bn]=r,i[on]=h,s){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(s=0;s<co.length;s++)Nt(co[s],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Xo(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Es(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),Qo(i,h.value,h.defaultValue,h.children),Es(i)}s=h.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||h.suppressHydrationWarning===!0||bt(i.textContent,s)?(h.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),h.onScroll!=null&&Nt("scroll",i),h.onScrollEnd!=null&&Nt("scrollend",i),h.onClick!=null&&(i.onclick=Zf),i=!0):i=!1,i||Vu(r)}function wl(r){for(yr=r.return;yr;)switch(yr.tag){case 3:case 27:ni=!0;return;case 5:case 13:ni=!1;return;default:yr=yr.return}}function Gu(r){if(r!==yr)return!1;if(!mt)return wl(r),mt=!0,!1;var i=!1,s;if((s=r.tag!==3&&r.tag!==27)&&((s=r.tag===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||ho(r.type,r.memoizedProps)),s=!s),s&&(i=!0),i&&zt&&Vu(r),wl(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){zt=Fa(r.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}zt=null}}else zt=yr?Fa(r.stateNode.nextSibling):null;return!0}function ri(){zt=yr=null,mt=!1}function Ci(r){Oa===null?Oa=[r]:Oa.push(r)}var Ai=Error(a(460)),Os=Error(a(474)),nu={then:function(){}};function Qh(r){return r=r.status,r==="fulfilled"||r==="rejected"}function pf(){}function Wh(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(pf,pf),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===Ai?Error(a(483)):r;default:if(typeof i.status=="string")i.then(pf,pf);else{if(r=en,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(h){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=h}},function(h){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===Ai?Error(a(483)):r}throw _s=i,Ai}}var _s=null;function $h(){if(_s===null)throw Error(a(459));var r=_s;return _s=null,r}var Di=null,Ri=0;function Ls(r){var i=Ri;return Ri+=1,Di===null&&(Di=[]),Wh(Di,r,i)}function U(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Mi(r,i){throw i.$$typeof===l?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function zs(r){var i=r._init;return i(r._payload)}function Zr(r){function i(ce,ae){if(r){var ge=ce.deletions;ge===null?(ce.deletions=[ae],ce.flags|=16):ge.push(ae)}}function s(ce,ae){if(!r)return null;for(;ae!==null;)i(ce,ae),ae=ae.sibling;return null}function h(ce){for(var ae=new Map;ce!==null;)ce.key!==null?ae.set(ce.key,ce):ae.set(ce.index,ce),ce=ce.sibling;return ae}function y(ce,ae){return ce=yu(ce,ae),ce.index=0,ce.sibling=null,ce}function E(ce,ae,ge){return ce.index=ge,r?(ge=ce.alternate,ge!==null?(ge=ge.index,ge<ae?(ce.flags|=33554434,ae):ge):(ce.flags|=33554434,ae)):(ce.flags|=1048576,ae)}function B(ce){return r&&ce.alternate===null&&(ce.flags|=33554434),ce}function P(ce,ae,ge,Be){return ae===null||ae.tag!==6?(ae=Kv(ge,ce.mode,Be),ae.return=ce,ae):(ae=y(ae,ge),ae.return=ce,ae)}function $(ce,ae,ge,Be){var Xe=ge.type;return Xe===g?De(ce,ae,ge.props.children,Be,ge.key):ae!==null&&(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===R&&zs(Xe)===ae.type)?(ae=y(ae,ge.props),U(ae,ge),ae.return=ce,ae):(ae=ro(ge.type,ge.key,ge.props,null,ce.mode,Be),U(ae,ge),ae.return=ce,ae)}function ie(ce,ae,ge,Be){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ge.containerInfo||ae.stateNode.implementation!==ge.implementation?(ae=Xv(ge,ce.mode,Be),ae.return=ce,ae):(ae=y(ae,ge.children||[]),ae.return=ce,ae)}function De(ce,ae,ge,Be,Xe){return ae===null||ae.tag!==7?(ae=Ju(ge,ce.mode,Be,Xe),ae.return=ce,ae):(ae=y(ae,ge),ae.return=ce,ae)}function ze(ce,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Kv(""+ae,ce.mode,ge),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case f:return ge=ro(ae.type,ae.key,ae.props,null,ce.mode,ge),U(ge,ae),ge.return=ce,ge;case c:return ae=Xv(ae,ce.mode,ge),ae.return=ce,ae;case R:var Be=ae._init;return ae=Be(ae._payload),ze(ce,ae,ge)}if(de(ae)||k(ae))return ae=Ju(ae,ce.mode,ge,null),ae.return=ce,ae;if(typeof ae.then=="function")return ze(ce,Ls(ae),ge);if(ae.$$typeof===S)return ze(ce,kf(ce,ae),ge);Mi(ce,ae)}return null}function ye(ce,ae,ge,Be){var Xe=ae!==null?ae.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Xe!==null?null:P(ce,ae,""+ge,Be);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case f:return ge.key===Xe?$(ce,ae,ge,Be):null;case c:return ge.key===Xe?ie(ce,ae,ge,Be):null;case R:return Xe=ge._init,ge=Xe(ge._payload),ye(ce,ae,ge,Be)}if(de(ge)||k(ge))return Xe!==null?null:De(ce,ae,ge,Be,null);if(typeof ge.then=="function")return ye(ce,ae,Ls(ge),Be);if(ge.$$typeof===S)return ye(ce,ae,kf(ce,ge),Be);Mi(ce,ge)}return null}function Ce(ce,ae,ge,Be,Xe){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return ce=ce.get(ge)||null,P(ae,ce,""+Be,Xe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case f:return ce=ce.get(Be.key===null?ge:Be.key)||null,$(ae,ce,Be,Xe);case c:return ce=ce.get(Be.key===null?ge:Be.key)||null,ie(ae,ce,Be,Xe);case R:var Rt=Be._init;return Be=Rt(Be._payload),Ce(ce,ae,ge,Be,Xe)}if(de(Be)||k(Be))return ce=ce.get(ge)||null,De(ae,ce,Be,Xe,null);if(typeof Be.then=="function")return Ce(ce,ae,ge,Ls(Be),Xe);if(Be.$$typeof===S)return Ce(ce,ae,ge,kf(ae,Be),Xe);Mi(ae,Be)}return null}function We(ce,ae,ge,Be){for(var Xe=null,Rt=null,tt=ae,ft=ae=0,Ft=null;tt!==null&&ft<ge.length;ft++){tt.index>ft?(Ft=tt,tt=null):Ft=tt.sibling;var It=ye(ce,tt,ge[ft],Be);if(It===null){tt===null&&(tt=Ft);break}r&&tt&&It.alternate===null&&i(ce,tt),ae=E(It,ae,ft),Rt===null?Xe=It:Rt.sibling=It,Rt=It,tt=Ft}if(ft===ge.length)return s(ce,tt),mt&&Ti(ce,ft),Xe;if(tt===null){for(;ft<ge.length;ft++)tt=ze(ce,ge[ft],Be),tt!==null&&(ae=E(tt,ae,ft),Rt===null?Xe=tt:Rt.sibling=tt,Rt=tt);return mt&&Ti(ce,ft),Xe}for(tt=h(tt);ft<ge.length;ft++)Ft=Ce(tt,ce,ft,ge[ft],Be),Ft!==null&&(r&&Ft.alternate!==null&&tt.delete(Ft.key===null?ft:Ft.key),ae=E(Ft,ae,ft),Rt===null?Xe=Ft:Rt.sibling=Ft,Rt=Ft);return r&&tt.forEach(function(Cu){return i(ce,Cu)}),mt&&Ti(ce,ft),Xe}function yt(ce,ae,ge,Be){if(ge==null)throw Error(a(151));for(var Xe=null,Rt=null,tt=ae,ft=ae=0,Ft=null,It=ge.next();tt!==null&&!It.done;ft++,It=ge.next()){tt.index>ft?(Ft=tt,tt=null):Ft=tt.sibling;var Cu=ye(ce,tt,It.value,Be);if(Cu===null){tt===null&&(tt=Ft);break}r&&tt&&Cu.alternate===null&&i(ce,tt),ae=E(Cu,ae,ft),Rt===null?Xe=Cu:Rt.sibling=Cu,Rt=Cu,tt=Ft}if(It.done)return s(ce,tt),mt&&Ti(ce,ft),Xe;if(tt===null){for(;!It.done;ft++,It=ge.next())It=ze(ce,It.value,Be),It!==null&&(ae=E(It,ae,ft),Rt===null?Xe=It:Rt.sibling=It,Rt=It);return mt&&Ti(ce,ft),Xe}for(tt=h(tt);!It.done;ft++,It=ge.next())It=Ce(tt,ce,ft,It.value,Be),It!==null&&(r&&It.alternate!==null&&tt.delete(It.key===null?ft:It.key),ae=E(It,ae,ft),Rt===null?Xe=It:Rt.sibling=It,Rt=It);return r&&tt.forEach(function(Cy){return i(ce,Cy)}),mt&&Ti(ce,ft),Xe}function xn(ce,ae,ge,Be){if(typeof ge=="object"&&ge!==null&&ge.type===g&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case f:e:{for(var Xe=ge.key;ae!==null;){if(ae.key===Xe){if(Xe=ge.type,Xe===g){if(ae.tag===7){s(ce,ae.sibling),Be=y(ae,ge.props.children),Be.return=ce,ce=Be;break e}}else if(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===R&&zs(Xe)===ae.type){s(ce,ae.sibling),Be=y(ae,ge.props),U(Be,ge),Be.return=ce,ce=Be;break e}s(ce,ae);break}else i(ce,ae);ae=ae.sibling}ge.type===g?(Be=Ju(ge.props.children,ce.mode,Be,ge.key),Be.return=ce,ce=Be):(Be=ro(ge.type,ge.key,ge.props,null,ce.mode,Be),U(Be,ge),Be.return=ce,ce=Be)}return B(ce);case c:e:{for(Xe=ge.key;ae!==null;){if(ae.key===Xe)if(ae.tag===4&&ae.stateNode.containerInfo===ge.containerInfo&&ae.stateNode.implementation===ge.implementation){s(ce,ae.sibling),Be=y(ae,ge.children||[]),Be.return=ce,ce=Be;break e}else{s(ce,ae);break}else i(ce,ae);ae=ae.sibling}Be=Xv(ge,ce.mode,Be),Be.return=ce,ce=Be}return B(ce);case R:return Xe=ge._init,ge=Xe(ge._payload),xn(ce,ae,ge,Be)}if(de(ge))return We(ce,ae,ge,Be);if(k(ge)){if(Xe=k(ge),typeof Xe!="function")throw Error(a(150));return ge=Xe.call(ge),yt(ce,ae,ge,Be)}if(typeof ge.then=="function")return xn(ce,ae,Ls(ge),Be);if(ge.$$typeof===S)return xn(ce,ae,kf(ce,ge),Be);Mi(ce,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,ae!==null&&ae.tag===6?(s(ce,ae.sibling),Be=y(ae,ge),Be.return=ce,ce=Be):(s(ce,ae),Be=Kv(ge,ce.mode,Be),Be.return=ce,ce=Be),B(ce)):s(ce,ae)}return function(ce,ae,ge,Be){try{Ri=0;var Xe=xn(ce,ae,ge,Be);return Di=null,Xe}catch(tt){if(tt===Ai)throw tt;var Rt=ta(29,tt,null,ce.mode);return Rt.lanes=Be,Rt.return=ce,Rt}finally{}}}var Et=Zr(!0),Jh=Zr(!1),El=xe(null),mf=xe(0);function ru(r,i){r=Hi,re(mf,r),re(El,i),Hi=r|i.baseLanes}function av(){re(mf,Hi),re(El,El.current)}function iv(){Hi=mf.current,ve(El),ve(mf)}var wa=xe(null),ai=null;function au(r){var i=r.alternate;re(Yn,Yn.current&1),re(wa,r),ai===null&&(i===null||El.current!==null||i.memoizedState!==null)&&(ai=r)}function ii(r){if(r.tag===22){if(re(Yn,Yn.current),re(wa,r),ai===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ai=r)}}else iu()}function iu(){re(Yn,Yn.current),re(wa,wa.current)}function Bi(r){ve(wa),ai===r&&(ai=null),ve(Yn)}var Yn=xe(0);function yf(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Um=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,h){r.push(h)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},Oi=n.unstable_scheduleCallback,Im=n.unstable_NormalPriority,Kn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uv(){return{controller:new Um,data:new Map,refCount:0}}function Ns(r){r.refCount--,r.refCount===0&&Oi(Im,function(){r.controller.abort()})}var ks=null,_i=0,xl=0,Sl=null;function _a(r,i){if(ks===null){var s=ks=[];_i=0,xl=fd(),Sl={status:"pending",value:void 0,then:function(h){s.push(h)}}}return _i++,i.then(jh,jh),i}function jh(){if(--_i===0&&ks!==null){Sl!==null&&(Sl.status="fulfilled");var r=ks;ks=null,xl=0,Sl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function Pm(r,i){var s=[],h={status:"pending",value:null,reason:null,then:function(y){s.push(y)}};return r.then(function(){h.status="fulfilled",h.value=i;for(var y=0;y<s.length;y++)(0,s[y])(i)},function(y){for(h.status="rejected",h.reason=y,y=0;y<s.length;y++)(0,s[y])(void 0)}),h}var eg=z.S;z.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_a(r,i),eg!==null&&eg(r,i)};var Yu=xe(null);function lv(){var r=Yu.current;return r!==null?r:en.pooledCache}function Us(r,i){i===null?re(Yu,Yu.current):re(Yu,i.pool)}function sv(){var r=lv();return r===null?null:{parent:Kn._currentValue,pool:r}}var uu=0,At=null,Xt=null,dn=null,Ku=!1,Tl=!1,lu=!1,bf=0,Qr=0,su=null,Xu=0;function qt(){throw Error(a(321))}function ov(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Kr(r[s],i[s]))return!1;return!0}function wf(r,i,s,h,y,E){return uu=E,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=r===null||r.memoizedState===null?_r:ui,lu=!1,E=s(h,y),lu=!1,Tl&&(E=Cl(i,s,h,y)),fv(r),E}function fv(r){z.H=Cn;var i=Xt!==null&&Xt.next!==null;if(uu=0,dn=Xt=At=null,Ku=!1,Qr=0,su=null,i)throw Error(a(300));r===null||Xn||(r=r.dependencies,r!==null&&Nf(r)&&(Xn=!0))}function Cl(r,i,s,h){At=r;var y=0;do{if(Tl&&(su=null),Qr=0,Tl=!1,25<=y)throw Error(a(301));if(y+=1,dn=Xt=null,r.updateQueue!=null){var E=r.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}z.H=cu,E=i(s,h)}while(Tl);return E}function ou(){var r=z.H,i=r.useState()[0];return i=typeof i.then=="function"?Zu(i):i,r=r.useState()[0],(Xt!==null?Xt.memoizedState:null)!==r&&(At.flags|=1024),i}function Ef(){var r=bf!==0;return bf=0,r}function cv(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function Al(r){if(Ku){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ku=!1}uu=0,dn=Xt=At=null,Tl=!1,Qr=bf=0,su=null}function Or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?At.memoizedState=dn=r:dn=dn.next=r,dn}function Ln(){if(Xt===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=Xt.next;var i=dn===null?At.memoizedState:dn.next;if(i!==null)dn=i,Xt=r;else{if(r===null)throw At.alternate===null?Error(a(467)):Error(a(310));Xt=r,r={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},dn===null?At.memoizedState=dn=r:dn=dn.next=r}return dn}var In;In=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zu(r){var i=Qr;return Qr+=1,su===null&&(su=[]),r=Wh(su,r,i),i=At,(dn===null?i.memoizedState:dn.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?_r:ui),r}function Is(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zu(r);if(r.$$typeof===S)return or(r)}throw Error(a(438,String(r)))}function Ea(r){var i=null,s=At.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var h=At.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=In(),At.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),h=0;h<r;h++)s[h]=O;return i.index++,s}function La(r,i){return typeof i=="function"?i(r):i}function Qu(r){var i=Ln();return Li(i,Xt,r)}function Li(r,i,s){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=s;var y=r.baseQueue,E=h.pending;if(E!==null){if(y!==null){var B=y.next;y.next=E.next,E.next=B}i.baseQueue=y=E,h.pending=null}if(E=r.baseState,y===null)r.memoizedState=E;else{i=y.next;var P=B=null,$=null,ie=i,De=!1;do{var ze=ie.lane&-536870913;if(ze!==ie.lane?(Ut&ze)===ze:(uu&ze)===ze){var ye=ie.revertLane;if(ye===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ze===xl&&(De=!0);else if((uu&ye)===ye){ie=ie.next,ye===xl&&(De=!0);continue}else ze={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(P=$=ze,B=E):$=$.next=ze,At.lanes|=ye,bu|=ye;ze=ie.action,lu&&s(E,ze),E=ie.hasEagerState?ie.eagerState:s(E,ze)}else ye={lane:ze,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(P=$=ye,B=E):$=$.next=ye,At.lanes|=ze,bu|=ze;ie=ie.next}while(ie!==null&&ie!==i);if($===null?B=E:$.next=P,!Kr(E,r.memoizedState)&&(Xn=!0,De&&(s=Sl,s!==null)))throw s;r.memoizedState=E,r.baseState=B,r.baseQueue=$,h.lastRenderedState=E}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function xf(r){var i=Ln(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var h=s.dispatch,y=s.pending,E=i.memoizedState;if(y!==null){s.pending=null;var B=y=y.next;do E=r(E,B.action),B=B.next;while(B!==y);Kr(E,i.memoizedState)||(Xn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),s.lastRenderedState=E}return[E,h]}function sr(r,i,s){var h=At,y=Ln(),E=mt;if(E){if(s===void 0)throw Error(a(407));s=s()}else s=i();var B=!Kr((Xt||y).memoizedState,s);if(B&&(y.memoizedState=s,Xn=!0),y=y.queue,Af(ng.bind(null,h,y,r),[r]),y.getSnapshot!==i||B||dn!==null&&dn.memoizedState.tag&1){if(h.flags|=2048,fu(9,tg.bind(null,h,y,s,i),{destroy:void 0},null),en===null)throw Error(a(349));E||(uu&60)!==0||Sf(h,i,s)}return s}function Sf(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=At.updateQueue,i===null?(i=In(),At.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function tg(r,i,s,h){i.value=s,i.getSnapshot=h,rg(i)&&Tf(r)}function ng(r,i,s){return s(function(){rg(i)&&Tf(r)})}function rg(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Kr(r,s)}catch{return!0}}function Tf(r){var i=Ba(r,2);i!==null&&cr(i,r,2)}function vv(r){var i=Or();if(typeof r=="function"){var s=r;if(r=s(),lu){nt(!0);try{s()}finally{nt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:r},i}function Dl(r,i,s,h){return r.baseState=s,Li(r,Xt,typeof h=="function"?h:La)}function ag(r,i,s,h,y){if(_l(r))throw Error(a(485));if(r=i.action,r!==null){var E={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){E.listeners.push(B)}};z.T!==null?s(!0):E.isTransition=!1,h(E),s=i.pending,s===null?(E.next=i.pending=E,ig(i,E)):(E.next=s.next,i.pending=s.next=E)}}function ig(r,i){var s=i.action,h=i.payload,y=r.state;if(i.isTransition){var E=z.T,B={};z.T=B;try{var P=s(y,h),$=z.S;$!==null&&$(B,P),ug(r,i,P)}catch(ie){dv(r,i,ie)}finally{z.T=E}}else try{E=s(y,h),ug(r,i,E)}catch(ie){dv(r,i,ie)}}function ug(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(h){Rl(r,i,h)},function(h){return dv(r,i,h)}):Rl(r,i,s)}function Rl(r,i,s){i.status="fulfilled",i.value=s,lg(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,ig(r,s)))}function dv(r,i,s){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=s,lg(i),i=i.next;while(i!==h)}r.action=null}function lg(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Cf(r,i){return i}function hv(r,i){if(mt){var s=en.formState;if(s!==null){e:{var h=At;if(mt){if(zt){t:{for(var y=zt,E=ni;y.nodeType!==8;){if(!E){y=null;break t}if(y=Fa(y.nextSibling),y===null){y=null;break t}}E=y.data,y=E==="F!"||E==="F"?y:null}if(y){zt=Fa(y.nextSibling),h=y.data==="F!";break e}}Vu(h)}h=!1}h&&(i=s[0])}}return s=Or(),s.memoizedState=s.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:i},s.queue=h,s=Wr.bind(null,At,h),h.dispatch=s,h=vv(!1),E=Ol.bind(null,At,!1,h.queue),h=Or(),y={state:i,dispatch:null,action:r,pending:null},h.queue=y,s=ag.bind(null,At,y,E,s),y.dispatch=s,h.memoizedState=r,[i,s,!1]}function sg(r){var i=Ln();return og(i,Xt,r)}function og(r,i,s){i=Li(r,i,Cf)[0],r=Qu(La)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Zu(i):i;var h=Ln(),y=h.queue,E=y.dispatch;return s!==h.memoizedState&&(At.flags|=2048,fu(9,Hm.bind(null,y,s),{destroy:void 0},null)),[i,E,r]}function Hm(r,i){r.action=i}function gv(r){var i=Ln(),s=Xt;if(s!==null)return og(i,s,r);Ln(),i=i.memoizedState,s=Ln();var h=s.queue.dispatch;return s.memoizedState=r,[i,h,!1]}function fu(r,i,s,h){return r={tag:r,create:i,inst:s,deps:h,next:null},i=At.updateQueue,i===null&&(i=In(),At.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(h=s.next,s.next=r,r.next=h,i.lastEffect=r),r}function fg(){return Ln().memoizedState}function Ml(r,i,s,h){var y=Or();At.flags|=r,y.memoizedState=fu(1|i,s,{destroy:void 0},h===void 0?null:h)}function Ps(r,i,s,h){var y=Ln();h=h===void 0?null:h;var E=y.memoizedState.inst;Xt!==null&&h!==null&&ov(h,Xt.memoizedState.deps)?y.memoizedState=fu(i,s,E,h):(At.flags|=r,y.memoizedState=fu(1|i,s,E,h))}function pv(r,i){Ml(8390656,8,r,i)}function Af(r,i){Ps(2048,8,r,i)}function Hs(r,i){return Ps(4,2,r,i)}function cg(r,i){return Ps(4,4,r,i)}function mv(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function yv(r,i,s){s=s!=null?s.concat([r]):null,Ps(4,4,mv.bind(null,i,r),s)}function bv(){}function wv(r,i){var s=Ln();i=i===void 0?null:i;var h=s.memoizedState;return i!==null&&ov(i,h[1])?h[0]:(s.memoizedState=[r,i],r)}function vg(r,i){var s=Ln();i=i===void 0?null:i;var h=s.memoizedState;if(i!==null&&ov(i,h[1]))return h[0];if(h=r(),lu){nt(!0);try{r()}finally{nt(!1)}}return s.memoizedState=[h,i],h}function qs(r,i,s){return s===void 0||(uu&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=Ug(),At.lanes|=r,bu|=r,s)}function Ev(r,i,s,h){return Kr(s,i)?s:El.current!==null?(r=qs(r,s,h),Kr(r,i)||(Xn=!0),r):(uu&42)===0?(Xn=!0,r.memoizedState=s):(r=Ug(),At.lanes|=r,bu|=r,i)}function Df(r,i,s,h,y){var E=se.p;se.p=E!==0&&8>E?E:8;var B=z.T,P={};z.T=P,Ol(r,!1,i,s);try{var $=y(),ie=z.S;if(ie!==null&&ie(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var De=Pm($,h);Vs(r,i,De,ra(r))}else Vs(r,i,h,ra(r))}catch(ze){Vs(r,i,{then:function(){},status:"rejected",reason:ze},ra())}finally{se.p=E,z.T=B}}function qm(){}function Fs(r,i,s,h){if(r.tag!==5)throw Error(a(476));var y=Ct(r).queue;Df(r,y,i,we,s===null?qm:function(){return dg(r),s(h)})}function Ct(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:we},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function dg(r){var i=Ct(r).next.queue;Vs(r,i,{},ra())}function xv(){return or(mo)}function Bl(){return Ln().memoizedState}function Sv(){return Ln().memoizedState}function Fm(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=ra();r=Ia(s);var h=$r(i,r,s);h!==null&&(cr(h,i,s),rt(h,i,s)),i={cache:uv()},r.payload=i;return}i=i.return}}function Vm(r,i,s){var h=ra();s={lane:h,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},_l(r)?Tv(i,s):(s=ja(r,i,s,h),s!==null&&(cr(s,r,h),Cv(s,i,h)))}function Wr(r,i,s){var h=ra();Vs(r,i,s,h)}function Vs(r,i,s,h){var y={lane:h,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(_l(r))Tv(i,y);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var B=i.lastRenderedState,P=E(B,s);if(y.hasEagerState=!0,y.eagerState=P,Kr(P,B))return Uu(r,i,y,0),en===null&&vf(),!1}catch{}finally{}if(s=ja(r,i,y,h),s!==null)return cr(s,r,h),Cv(s,i,h),!0}return!1}function Ol(r,i,s,h){if(h={lane:2,revertLane:fd(),action:h,hasEagerState:!1,eagerState:null,next:null},_l(r)){if(i)throw Error(a(479))}else i=ja(r,s,h,2),i!==null&&cr(i,r,2)}function _l(r){var i=r.alternate;return r===At||i!==null&&i===At}function Tv(r,i){Tl=Ku=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function Cv(r,i,s){if((s&4194176)!==0){var h=i.lanes;h&=r.pendingLanes,s|=h,i.lanes=s,Dr(r,s)}}var Cn={readContext:or,use:Is,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt};Cn.useCacheRefresh=qt,Cn.useMemoCache=qt,Cn.useHostTransitionStatus=qt,Cn.useFormState=qt,Cn.useActionState=qt,Cn.useOptimistic=qt;var _r={readContext:or,use:Is,useCallback:function(r,i){return Or().memoizedState=[r,i===void 0?null:i],r},useContext:or,useEffect:pv,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,Ml(4194308,4,mv.bind(null,i,r),s)},useLayoutEffect:function(r,i){return Ml(4194308,4,r,i)},useInsertionEffect:function(r,i){Ml(4,2,r,i)},useMemo:function(r,i){var s=Or();i=i===void 0?null:i;var h=r();if(lu){nt(!0);try{r()}finally{nt(!1)}}return s.memoizedState=[h,i],h},useReducer:function(r,i,s){var h=Or();if(s!==void 0){var y=s(i);if(lu){nt(!0);try{s(i)}finally{nt(!1)}}}else y=i;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=Vm.bind(null,At,r),[h.memoizedState,r]},useRef:function(r){var i=Or();return r={current:r},i.memoizedState=r},useState:function(r){r=vv(r);var i=r.queue,s=Wr.bind(null,At,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:bv,useDeferredValue:function(r,i){var s=Or();return qs(s,r,i)},useTransition:function(){var r=vv(!1);return r=Df.bind(null,At,r.queue,!0,!1),Or().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var h=At,y=Or();if(mt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),en===null)throw Error(a(349));(Ut&60)!==0||Sf(h,i,s)}y.memoizedState=s;var E={value:s,getSnapshot:i};return y.queue=E,pv(ng.bind(null,h,E,r),[r]),h.flags|=2048,fu(9,tg.bind(null,h,E,s,i),{destroy:void 0},null),s},useId:function(){var r=Or(),i=en.identifierPrefix;if(mt){var s=ba,h=ya;s=(h&~(1<<32-qe(h)-1)).toString(32)+s,i=":"+i+"R"+s,s=bf++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Xu++,i=":"+i+"r"+s.toString(32)+":";return r.memoizedState=i},useCacheRefresh:function(){return Or().memoizedState=Fm.bind(null,At)}};_r.useMemoCache=Ea,_r.useHostTransitionStatus=xv,_r.useFormState=hv,_r.useActionState=hv,_r.useOptimistic=function(r){var i=Or();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ol.bind(null,At,!0,s),s.dispatch=i,[r,i]};var ui={readContext:or,use:Is,useCallback:wv,useContext:or,useEffect:Af,useImperativeHandle:yv,useInsertionEffect:Hs,useLayoutEffect:cg,useMemo:vg,useReducer:Qu,useRef:fg,useState:function(){return Qu(La)},useDebugValue:bv,useDeferredValue:function(r,i){var s=Ln();return Ev(s,Xt.memoizedState,r,i)},useTransition:function(){var r=Qu(La)[0],i=Ln().memoizedState;return[typeof r=="boolean"?r:Zu(r),i]},useSyncExternalStore:sr,useId:Bl};ui.useCacheRefresh=Sv,ui.useMemoCache=Ea,ui.useHostTransitionStatus=xv,ui.useFormState=sg,ui.useActionState=sg,ui.useOptimistic=function(r,i){var s=Ln();return Dl(s,Xt,r,i)};var cu={readContext:or,use:Is,useCallback:wv,useContext:or,useEffect:Af,useImperativeHandle:yv,useInsertionEffect:Hs,useLayoutEffect:cg,useMemo:vg,useReducer:xf,useRef:fg,useState:function(){return xf(La)},useDebugValue:bv,useDeferredValue:function(r,i){var s=Ln();return Xt===null?qs(s,r,i):Ev(s,Xt.memoizedState,r,i)},useTransition:function(){var r=xf(La)[0],i=Ln().memoizedState;return[typeof r=="boolean"?r:Zu(r),i]},useSyncExternalStore:sr,useId:Bl};cu.useCacheRefresh=Sv,cu.useMemoCache=Ea,cu.useHostTransitionStatus=xv,cu.useFormState=gv,cu.useActionState=gv,cu.useOptimistic=function(r,i){var s=Ln();return Xt!==null?Dl(s,Xt,r,i):(s.baseState=r,[r,s.queue.dispatch])};function Ll(r,i,s,h){i=r.memoizedState,s=s(h,i),s=s==null?i:F({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Rf={isMounted:function(r){return(r=r._reactInternals)?j(r)===r:!1},enqueueSetState:function(r,i,s){r=r._reactInternals;var h=ra(),y=Ia(h);y.payload=i,s!=null&&(y.callback=s),i=$r(r,y,h),i!==null&&(cr(i,r,h),rt(i,r,h))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var h=ra(),y=Ia(h);y.tag=1,y.payload=i,s!=null&&(y.callback=s),i=$r(r,y,h),i!==null&&(cr(i,r,h),rt(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=ra(),h=Ia(s);h.tag=2,i!=null&&(h.callback=i),i=$r(r,h,s),i!==null&&(cr(i,r,s),rt(i,r,s))}};function Mf(r,i,s,h,y,E,B){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,E,B):i.prototype&&i.prototype.isPureReactComponent?!Ja(s,h)||!Ja(y,E):!0}function Av(r,i,s,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,h),i.state!==r&&Rf.enqueueReplaceState(i,i.state,null)}function zi(r,i){var s=i;if("ref"in i){s={};for(var h in i)h!=="ref"&&(s[h]=i[h])}if(r=r.defaultProps){s===i&&(s=F({},s));for(var y in r)s[y]===void 0&&(s[y]=r[y])}return s}var zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ni(r){zl(r)}function hg(r){console.error(r)}function ki(r){zl(r)}function Gs(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function Dv(r,i,s){try{var h=r.onCaughtError;h(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ys(r,i,s){return s=Ia(s),s.tag=3,s.payload={element:null},s.callback=function(){Gs(r,i)},s}function gg(r){return r=Ia(r),r.tag=3,r}function pg(r,i,s,h){var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var E=h.value;r.payload=function(){return y(E)},r.callback=function(){Dv(i,s,h)}}var B=s.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(r.callback=function(){Dv(i,s,h),typeof y!="function"&&(di===null?di=new Set([this]):di.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function Gm(r,i,s,h,y){if(s.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=s.alternate,i!==null&&Pl(i,s,y,!0),s=wa.current,s!==null){switch(s.tag){case 13:return ai===null?nd():s.alternate===null&&Dn===0&&(Dn=3),s.flags&=-257,s.flags|=65536,s.lanes=y,h===nu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([h]):i.add(h),ad(r,h,y)),!1;case 22:return s.flags|=65536,h===nu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([h]):s.add(h)),ad(r,h,y)),!1}throw Error(a(435,s.tag))}return ad(r,h,y),nd(),!1}if(mt)return i=wa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,h!==hf&&(r=Error(a(422),{cause:h}),Ci(mr(r,s)))):(h!==hf&&(i=Error(a(423),{cause:h}),Ci(mr(i,s))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=mr(h,s),y=Ys(r.stateNode,h,y),Hl(r,y),Dn!==4&&(Dn=2)),!1;var E=Error(a(520),{cause:h});if(E=mr(E,s),io===null?io=[E]:io.push(E),Dn!==4&&(Dn=2),i===null)return!0;h=mr(h,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=y&-y,s.lanes|=r,r=Ys(s.stateNode,h,r),Hl(s,r),!1;case 1:if(i=s.type,E=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(di===null||!di.has(E))))return s.flags|=65536,y&=-y,s.lanes|=y,y=gg(y),pg(y,r,s,h),Hl(s,y),!1}s=s.return}while(s!==null);return!1}var Rv=Error(a(461)),Xn=!1;function Jn(r,i,s,h){i.child=r===null?Jh(i,null,s,h):Et(i,r.child,s,h)}function Mv(r,i,s,h,y){s=s.render;var E=i.ref;if("ref"in h){var B={};for(var P in h)P!=="ref"&&(B[P]=h[P])}else B=h;return gu(i),h=wf(r,i,s,B,E,y),P=Ef(),r!==null&&!Xn?(cv(r,i,y),Na(r,i,y)):(mt&&P&&df(i),i.flags|=1,Jn(r,i,h,y),i.child)}function Bv(r,i,s,h,y){if(r===null){var E=s.type;return typeof E=="function"&&!Yv(E)&&E.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=E,br(r,i,E,h,y)):(r=ro(s.type,null,h,i,i.mode,y),r.ref=i.ref,r.return=i,i.child=r)}if(E=r.child,!Ul(r,y)){var B=E.memoizedProps;if(s=s.compare,s=s!==null?s:Ja,s(B,h)&&r.ref===i.ref)return Na(r,i,y)}return i.flags|=1,r=yu(E,h),r.ref=i.ref,r.return=i,i.child=r}function br(r,i,s,h,y){if(r!==null){var E=r.memoizedProps;if(Ja(E,h)&&r.ref===i.ref)if(Xn=!1,i.pendingProps=h=E,Ul(r,y))(r.flags&131072)!==0&&(Xn=!0);else return i.lanes=r.lanes,Na(r,i,y)}return Nl(r,i,s,h,y)}function za(r,i,s){var h=i.pendingProps,y=h.children,E=(i.stateNode._pendingVisibility&2)!==0,B=r!==null?r.memoizedState:null;if(Ks(r,i),h.mode==="hidden"||E){if((i.flags&128)!==0){if(h=B!==null?B.baseLanes|s:s,r!==null){for(y=i.child=r.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;i.childLanes=E&~h}else i.childLanes=0,i.child=null;return mg(r,i,h,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Us(i,B!==null?B.cachePool:null),B!==null?ru(i,B):av(),ii(i);else return i.lanes=i.childLanes=536870912,mg(r,i,B!==null?B.baseLanes|s:s,s)}else B!==null?(Us(i,B.cachePool),ru(i,B),iu(),i.memoizedState=null):(r!==null&&Us(i,null),av(),iu());return Jn(r,i,y,s),i.child}function mg(r,i,s,h){var y=lv();return y=y===null?null:{parent:Kn._currentValue,pool:y},i.memoizedState={baseLanes:s,cachePool:y},r!==null&&Us(i,null),av(),ii(i),r!==null&&Pl(r,i,h,!0),null}function Ks(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=2097664)}}function Nl(r,i,s,h,y){return gu(i),s=wf(r,i,s,h,void 0,y),h=Ef(),r!==null&&!Xn?(cv(r,i,y),Na(r,i,y)):(mt&&h&&df(i),i.flags|=1,Jn(r,i,s,y),i.child)}function Wu(r,i,s,h,y,E){return gu(i),i.updateQueue=null,s=Cl(i,h,s,y),fv(r),h=Ef(),r!==null&&!Xn?(cv(r,i,E),Na(r,i,E)):(mt&&h&&df(i),i.flags|=1,Jn(r,i,s,E),i.child)}function Ov(r,i,s,h,y){if(gu(i),i.stateNode===null){var E=Pu,B=s.contextType;typeof B=="object"&&B!==null&&(E=or(B)),E=new s(h,E),i.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Rf,i.stateNode=E,E._reactInternals=i,E=i.stateNode,E.props=h,E.state=i.memoizedState,E.refs={},Qs(i),B=s.contextType,E.context=typeof B=="object"&&B!==null?or(B):Pu,E.state=i.memoizedState,B=s.getDerivedStateFromProps,typeof B=="function"&&(Ll(i,s,B,h),E.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(B=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),B!==E.state&&Rf.enqueueReplaceState(E,E.state,null),Js(i,h,E,y),Pa(),E.state=i.memoizedState),typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(r===null){E=i.stateNode;var P=i.memoizedProps,$=zi(s,P);E.props=$;var ie=E.context,De=s.contextType;B=Pu,typeof De=="object"&&De!==null&&(B=or(De));var ze=s.getDerivedStateFromProps;De=typeof ze=="function"||typeof E.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,De||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P||ie!==B)&&Av(i,E,h,B),oi=!1;var ye=i.memoizedState;E.state=ye,Js(i,h,E,y),Pa(),ie=i.memoizedState,P||ye!==ie||oi?(typeof ze=="function"&&(Ll(i,s,ze,h),ie=i.memoizedState),($=oi||Mf(i,s,$,h,ye,ie,B))?(De||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=ie),E.props=h,E.state=ie,E.context=B,h=$):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Ws(r,i),B=i.memoizedProps,De=zi(s,B),E.props=De,ze=i.pendingProps,ye=E.context,ie=s.contextType,$=Pu,typeof ie=="object"&&ie!==null&&($=or(ie)),P=s.getDerivedStateFromProps,(ie=typeof P=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B!==ze||ye!==$)&&Av(i,E,h,$),oi=!1,ye=i.memoizedState,E.state=ye,Js(i,h,E,y),Pa();var Ce=i.memoizedState;B!==ze||ye!==Ce||oi||r!==null&&r.dependencies!==null&&Nf(r.dependencies)?(typeof P=="function"&&(Ll(i,s,P,h),Ce=i.memoizedState),(De=oi||Mf(i,s,De,h,ye,Ce,$)||r!==null&&r.dependencies!==null&&Nf(r.dependencies))?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,Ce,$),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,Ce,$)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ce),E.props=h,E.state=Ce,E.context=$,h=De):(typeof E.componentDidUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&ye===r.memoizedState||(i.flags|=1024),h=!1)}return E=h,Ks(r,i),h=(i.flags&128)!==0,E||h?(E=i.stateNode,s=h&&typeof s.getDerivedStateFromError!="function"?null:E.render(),i.flags|=1,r!==null&&h?(i.child=Et(i,r.child,null,y),i.child=Et(i,null,s,y)):Jn(r,i,s,y),i.memoizedState=E.state,r=i.child):r=Na(r,i,y),r}function _v(r,i,s,h){return ri(),i.flags|=256,Jn(r,i,s,h),i.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function Bf(r){return{baseLanes:r,cachePool:sv()}}function vu(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=xa),r}function kl(r,i,s){var h=i.pendingProps,y=!1,E=(i.flags&128)!==0,B;if((B=E)||(B=r!==null&&r.memoizedState===null?!1:(Yn.current&2)!==0),B&&(y=!0,i.flags&=-129),B=(i.flags&32)!==0,i.flags&=-33,r===null){if(mt){if(y?au(i):iu(),mt){var P=zt,$;if($=P){e:{for($=P,P=ni;$.nodeType!==8;){if(!P){P=null;break e}if($=Fa($.nextSibling),$===null){P=null;break e}}P=$}P!==null?(i.memoizedState={dehydrated:P,treeContext:Fu!==null?{id:ya,overflow:ba}:null,retryLane:536870912},$=ta(18,null,null,0),$.stateNode=P,$.return=i,i.child=$,yr=i,zt=null,$=!0):$=!1}$||Vu(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return P.data==="$!"?i.lanes=16:i.lanes=536870912,null;Bi(i)}return P=h.children,h=h.fallback,y?(iu(),y=i.mode,P=Of({mode:"hidden",children:P},y),h=Ju(h,y,s,null),P.return=i,h.return=i,P.sibling=h,i.child=P,y=i.child,y.memoizedState=Bf(s),y.childLanes=vu(r,B,s),i.memoizedState=Lv,h):(au(i),zv(i,P))}if($=r.memoizedState,$!==null&&(P=$.dehydrated,P!==null)){if(E)i.flags&256?(au(i),i.flags&=-257,i=_f(r,i,s)):i.memoizedState!==null?(iu(),i.child=r.child,i.flags|=128,i=null):(iu(),y=h.fallback,P=i.mode,h=Of({mode:"visible",children:h.children},P),y=Ju(y,P,s,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,Et(i,r.child,null,s),h=i.child,h.memoizedState=Bf(s),h.childLanes=vu(r,B,s),i.memoizedState=Lv,i=y);else if(au(i),P.data==="$!"){if(B=P.nextSibling&&P.nextSibling.dataset,B)var ie=B.dgst;B=ie,h=Error(a(419)),h.stack="",h.digest=B,Ci({value:h,source:null,stack:null}),i=_f(r,i,s)}else if(Xn||Pl(r,i,s,!1),B=(s&r.childLanes)!==0,Xn||B){if(B=en,B!==null){if(h=s&-s,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(B.suspendedLanes|s))!==0?0:h,h!==0&&h!==$.retryLane)throw $.retryLane=h,Ba(r,h),cr(B,r,h),Rv}P.data==="$?"||nd(),i=_f(r,i,s)}else P.data==="$?"?(i.flags|=128,i.child=r.child,i=ty.bind(null,r),P._reactRetry=i,i=null):(r=$.treeContext,zt=Fa(P.nextSibling),yr=i,mt=!0,Oa=null,ni=!1,r!==null&&(pa[ma++]=ya,pa[ma++]=ba,pa[ma++]=Fu,ya=r.id,ba=r.overflow,Fu=i),i=zv(i,h.children),i.flags|=4096);return i}return y?(iu(),y=h.fallback,P=i.mode,$=r.child,ie=$.sibling,h=yu($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&31457280,ie!==null?y=yu(ie,y):(y=Ju(y,P,s,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,P=r.child.memoizedState,P===null?P=Bf(s):($=P.cachePool,$!==null?(ie=Kn._currentValue,$=$.parent!==ie?{parent:ie,pool:ie}:$):$=sv(),P={baseLanes:P.baseLanes|s,cachePool:$}),y.memoizedState=P,y.childLanes=vu(r,B,s),i.memoizedState=Lv,h):(au(i),s=r.child,r=s.sibling,s=yu(s,{mode:"visible",children:h.children}),s.return=i,s.sibling=null,r!==null&&(B=i.deletions,B===null?(i.deletions=[r],i.flags|=16):B.push(r)),i.child=s,i.memoizedState=null,s)}function zv(r,i){return i=Of({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Of(r,i){return Lg(r,i,0,null)}function _f(r,i,s){return Et(i,r.child,null,s),r=zv(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Xs(r,i,s){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Ua(r.return,i,s)}function Lf(r,i,s,h,y){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:s,tailMode:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=s,E.tailMode=y)}function Zs(r,i,s){var h=i.pendingProps,y=h.revealOrder,E=h.tail;if(Jn(r,i,h.children,s),h=Yn.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Xs(r,s,i);else if(r.tag===19)Xs(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(re(Yn,h),y){case"forwards":for(s=i.child,y=null;s!==null;)r=s.alternate,r!==null&&yf(r)===null&&(y=s),s=s.sibling;s=y,s===null?(y=i.child,i.child=null):(y=s.sibling,s.sibling=null),Lf(i,!1,y,s,E);break;case"backwards":for(s=null,y=i.child,i.child=null;y!==null;){if(r=y.alternate,r!==null&&yf(r)===null){i.child=y;break}r=y.sibling,y.sibling=s,s=y,y=r}Lf(i,!0,s,null,E);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Na(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),bu|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(Pl(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=yu(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=yu(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function Ul(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Nf(r)))}function Ym(r,i,s){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),hu(i,Kn,r.memoizedState.cache),ri();break;case 27:case 5:xt(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:hu(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(au(i),i.flags|=128,null):(s&i.child.childLanes)!==0?kl(r,i,s):(au(i),r=Na(r,i,s),r!==null?r.sibling:null);au(i);break;case 19:var y=(r.flags&128)!==0;if(h=(s&i.childLanes)!==0,h||(Pl(r,i,s,!1),h=(s&i.childLanes)!==0),y){if(h)return Zs(r,i,s);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),re(Yn,Yn.current),h)break;return null;case 22:case 23:return i.lanes=0,za(r,i,s);case 24:hu(i,Kn,r.memoizedState.cache)}return Na(r,i,s)}function Nv(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)Xn=!0;else{if(!Ul(r,s)&&(i.flags&128)===0)return Xn=!1,Ym(r,i,s);Xn=(r.flags&131072)!==0}else Xn=!1,mt&&(i.flags&1048576)!==0&&Zh(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var h=i.elementType,y=h._init;if(h=y(h._payload),i.type=h,typeof h=="function")Yv(h)?(r=zi(h,r),i.tag=1,i=Ov(null,i,h,r,s)):(i.tag=0,i=Nl(null,i,h,r,s));else{if(h!=null){if(y=h.$$typeof,y===x){i.tag=11,i=Mv(null,i,h,r,s);break e}else if(y===T){i.tag=14,i=Bv(null,i,h,r,s);break e}}throw i=H(h)||h,Error(a(306,i,""))}}return i;case 0:return Nl(r,i,i.type,i.pendingProps,s);case 1:return h=i.type,y=zi(h,i.pendingProps),Ov(r,i,h,y,s);case 3:e:{if(gt(i,i.stateNode.containerInfo),r===null)throw Error(a(387));var E=i.pendingProps;y=i.memoizedState,h=y.element,Ws(r,i),Js(i,E,null,s);var B=i.memoizedState;if(E=B.cache,hu(i,Kn,E),E!==y.cache&&zf(i,[Kn],s,!0),Pa(),E=B.element,y.isDehydrated)if(y={element:E,isDehydrated:!1,cache:B.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=_v(r,i,E,s);break e}else if(E!==h){h=mr(Error(a(424)),i),Ci(h),i=_v(r,i,E,s);break e}else for(zt=Fa(i.stateNode.containerInfo.firstChild),yr=i,mt=!0,Oa=null,ni=!0,s=Jh(i,null,E,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ri(),E===h){i=Na(r,i,s);break e}Jn(r,i,E,s)}i=i.child}return i;case 26:return Ks(r,i),r===null?(s=Td(i.type,null,i.pendingProps,null))?i.memoizedState=s:mt||(s=i.type,r=i.pendingProps,h=Qf(Ue.current).createElement(s),h[Bn]=i,h[on]=r,er(h,s,r),cn(h),i.stateNode=h):i.memoizedState=Td(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return xt(i),r===null&&mt&&(h=i.stateNode=Sd(i.type,i.pendingProps,Ue.current),yr=i,ni=!0,zt=Fa(h.firstChild)),h=i.pendingProps.children,r!==null||mt?Jn(r,i,h,s):i.child=Et(i,null,h,s),Ks(r,i),i.child;case 5:return r===null&&mt&&((y=h=zt)&&(h=sy(h,i.type,i.pendingProps,ni),h!==null?(i.stateNode=h,yr=i,zt=Fa(h.firstChild),ni=!1,y=!0):y=!1),y||Vu(i)),xt(i),y=i.type,E=i.pendingProps,B=r!==null?r.memoizedProps:null,h=E.children,ho(y,E)?h=null:B!==null&&ho(y,B)&&(i.flags|=32),i.memoizedState!==null&&(y=wf(r,i,ou,null,null,s),mo._currentValue=y),Ks(r,i),Jn(r,i,h,s),i.child;case 6:return r===null&&mt&&((r=s=zt)&&(s=oy(s,i.pendingProps,ni),s!==null?(i.stateNode=s,yr=i,zt=null,r=!0):r=!1),r||Vu(i)),null;case 13:return kl(r,i,s);case 4:return gt(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=Et(i,null,h,s):Jn(r,i,h,s),i.child;case 11:return Mv(r,i,i.type,i.pendingProps,s);case 7:return Jn(r,i,i.pendingProps,s),i.child;case 8:return Jn(r,i,i.pendingProps.children,s),i.child;case 12:return Jn(r,i,i.pendingProps.children,s),i.child;case 10:return h=i.pendingProps,hu(i,i.type,h.value),Jn(r,i,h.children,s),i.child;case 9:return y=i.type._context,h=i.pendingProps.children,gu(i),y=or(y),h=h(y),i.flags|=1,Jn(r,i,h,s),i.child;case 14:return Bv(r,i,i.type,i.pendingProps,s);case 15:return br(r,i,i.type,i.pendingProps,s);case 19:return Zs(r,i,s);case 22:return za(r,i,s);case 24:return gu(i),h=or(Kn),r===null?(y=lv(),y===null&&(y=en,E=uv(),y.pooledCache=E,E.refCount++,E!==null&&(y.pooledCacheLanes|=s),y=E),i.memoizedState={parent:h,cache:y},Qs(i),hu(i,Kn,y)):((r.lanes&s)!==0&&(Ws(r,i),Js(i,null,null,s),Pa()),y=r.memoizedState,E=i.memoizedState,y.parent!==h?(y={parent:h,cache:h},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),hu(i,Kn,h)):(h=E.cache,hu(i,Kn,h),h!==y.cache&&zf(i,[Kn],s,!0))),Jn(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Il=xe(null),du=null,ka=null;function hu(r,i,s){re(Il,i._currentValue),i._currentValue=s}function li(r){r._currentValue=Il.current,ve(Il)}function Ua(r,i,s){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===s)break;r=r.return}}function zf(r,i,s,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var E=y.dependencies;if(E!==null){var B=y.child;E=E.firstContext;e:for(;E!==null;){var P=E;E=y;for(var $=0;$<i.length;$++)if(P.context===i[$]){E.lanes|=s,P=E.alternate,P!==null&&(P.lanes|=s),Ua(E.return,s,r),h||(B=null);break e}E=P.next}}else if(y.tag===18){if(B=y.return,B===null)throw Error(a(341));B.lanes|=s,E=B.alternate,E!==null&&(E.lanes|=s),Ua(B,s,r),B=null}else B=y.child;if(B!==null)B.return=y;else for(B=y;B!==null;){if(B===r){B=null;break}if(y=B.sibling,y!==null){y.return=B.return,B=y;break}B=B.return}y=B}}function Pl(r,i,s,h){r=null;for(var y=i,E=!1;y!==null;){if(!E){if((y.flags&524288)!==0)E=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var B=y.alternate;if(B===null)throw Error(a(387));if(B=B.memoizedProps,B!==null){var P=y.type;Kr(y.pendingProps.value,B.value)||(r!==null?r.push(P):r=[P])}}else if(y===Pe.current){if(B=y.alternate,B===null)throw Error(a(387));B.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(mo):r=[mo])}y=y.return}r!==null&&zf(i,r,s,h),i.flags|=262144}function Nf(r){for(r=r.firstContext;r!==null;){if(!Kr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function gu(r){du=r,ka=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function or(r){return si(du,r)}function kf(r,i){return du===null&&gu(r),si(r,i)}function si(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ka===null){if(r===null)throw Error(a(308));ka=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ka=ka.next=i;return s}var oi=!1;function Qs(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ws(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ia(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function $r(r,i,s){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(wn&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,i=Iu(r),tv(r,null,s),i}return Uu(r,h,i,s),Iu(r)}function rt(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var h=i.lanes;h&=r.pendingLanes,s|=h,i.lanes=s,Dr(r,s)}}function Hl(r,i){var s=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,s===h)){var y=null,E=null;if(s=s.firstBaseUpdate,s!==null){do{var B={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};E===null?y=E=B:E=E.next=B,s=s.next}while(s!==null);E===null?y=E=i:E=E.next=i}else y=E=i;s={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:h.shared,callbacks:h.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var $s=!1;function Pa(){if($s){var r=Sl;if(r!==null)throw r}}function Js(r,i,s,h){$s=!1;var y=r.updateQueue;oi=!1;var E=y.firstBaseUpdate,B=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var $=P,ie=$.next;$.next=null,B===null?E=ie:B.next=ie,B=$;var De=r.alternate;De!==null&&(De=De.updateQueue,P=De.lastBaseUpdate,P!==B&&(P===null?De.firstBaseUpdate=ie:P.next=ie,De.lastBaseUpdate=$))}if(E!==null){var ze=y.baseState;B=0,De=ie=$=null,P=E;do{var ye=P.lane&-536870913,Ce=ye!==P.lane;if(Ce?(Ut&ye)===ye:(h&ye)===ye){ye!==0&&ye===xl&&($s=!0),De!==null&&(De=De.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var We=r,yt=P;ye=i;var xn=s;switch(yt.tag){case 1:if(We=yt.payload,typeof We=="function"){ze=We.call(xn,ze,ye);break e}ze=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=yt.payload,ye=typeof We=="function"?We.call(xn,ze,ye):We,ye==null)break e;ze=F({},ze,ye);break e;case 2:oi=!0}}ye=P.callback,ye!==null&&(r.flags|=64,Ce&&(r.flags|=8192),Ce=y.callbacks,Ce===null?y.callbacks=[ye]:Ce.push(ye))}else Ce={lane:ye,tag:P.tag,payload:P.payload,callback:P.callback,next:null},De===null?(ie=De=Ce,$=ze):De=De.next=Ce,B|=ye;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;Ce=P,P=Ce.next,Ce.next=null,y.lastBaseUpdate=Ce,y.shared.pending=null}}while(!0);De===null&&($=ze),y.baseState=$,y.firstBaseUpdate=ie,y.lastBaseUpdate=De,E===null&&(y.shared.lanes=0),bu|=B,r.lanes=B,r.memoizedState=ze}}function Uf(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function kv(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Uf(s[r],i)}function Pn(r,i){try{var s=i.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var y=h.next;s=y;do{if((s.tag&r)===r){h=void 0;var E=s.create,B=s.inst;h=E(),B.destroy=h}s=s.next}while(s!==y)}}catch(P){rn(i,i.return,P)}}function pu(r,i,s){try{var h=i.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var E=y.next;h=E;do{if((h.tag&r)===r){var B=h.inst,P=B.destroy;if(P!==void 0){B.destroy=void 0,y=i;var $=s;try{P()}catch(ie){rn(y,$,ie)}}}h=h.next}while(h!==E)}}catch(ie){rn(i,i.return,ie)}}function yg(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{kv(i,s)}catch(h){rn(r,r.return,h)}}}function Uv(r,i,s){s.props=zi(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(h){rn(r,i,h)}}function $u(r,i){try{var s=r.ref;if(s!==null){var h=r.stateNode;switch(r.tag){case 26:case 27:case 5:var y=h;break;default:y=h}typeof s=="function"?r.refCleanup=s(y):s.current=y}}catch(E){rn(r,i,E)}}function Lr(r,i){var s=r.ref,h=r.refCleanup;if(s!==null)if(typeof h=="function")try{h()}catch(y){rn(r,i,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(y){rn(r,i,y)}else s.current=null}function bg(r){var i=r.type,s=r.memoizedProps,h=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&h.focus();break e;case"img":s.src?h.src=s.src:s.srcSet&&(h.srcset=s.srcSet)}}catch(y){rn(r,r.return,y)}}function wg(r,i,s){try{var h=r.stateNode;xu(h,r.type,s,i),h[on]=i}catch(y){rn(r,r.return,y)}}function Eg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Ha(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jn(r,i,s){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(r,i):s.insertBefore(r,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(r,s)):(i=s,i.appendChild(r)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Zf));else if(h!==4&&h!==27&&(r=r.child,r!==null))for(jn(r,i,s),r=r.sibling;r!==null;)jn(r,i,s),r=r.sibling}function ql(r,i,s){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(h!==4&&h!==27&&(r=r.child,r!==null))for(ql(r,i,s),r=r.sibling;r!==null;)ql(r,i,s),r=r.sibling}var Ui=!1,hn=!1,Iv=!1,xg=typeof WeakSet=="function"?WeakSet:Set,An=null,Pv=!1;function Sg(r,i){if(r=r.containerInfo,md=yo,r=Yh(r),jc(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var h=s.getSelection&&s.getSelection();if(h&&h.rangeCount!==0){s=h.anchorNode;var y=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{s.nodeType,E.nodeType}catch{s=null;break e}var B=0,P=-1,$=-1,ie=0,De=0,ze=r,ye=null;t:for(;;){for(var Ce;ze!==s||y!==0&&ze.nodeType!==3||(P=B+y),ze!==E||h!==0&&ze.nodeType!==3||($=B+h),ze.nodeType===3&&(B+=ze.nodeValue.length),(Ce=ze.firstChild)!==null;)ye=ze,ze=Ce;for(;;){if(ze===r)break t;if(ye===s&&++ie===y&&(P=B),ye===E&&++De===h&&($=B),(Ce=ze.nextSibling)!==null)break;ze=ye,ye=ze.parentNode}ze=Ce}s=P===-1||$===-1?null:{start:P,end:$}}else s=null}s=s||{start:0,end:0}}else s=null;for(yd={focusedElem:r,selectionRange:s},yo=!1,An=i;An!==null;)if(i=An,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,An=r;else for(;An!==null;){switch(i=An,E=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&E!==null){r=void 0,s=i,y=E.memoizedProps,E=E.memoizedState,h=s.stateNode;try{var We=zi(s.type,y,s.elementType===s.type);r=h.getSnapshotBeforeUpdate(We,E),h.__reactInternalSnapshotBeforeUpdate=r}catch(yt){rn(s,s.return,yt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)xd(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,An=r;break}An=i.return}return We=Pv,Pv=!1,We}function Tg(r,i,s){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ci(r,s),h&4&&Pn(5,s);break;case 1:if(ci(r,s),h&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(P){rn(s,s.return,P)}else{var y=zi(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(y,i,r.__reactInternalSnapshotBeforeUpdate)}catch(P){rn(s,s.return,P)}}h&64&&yg(s),h&512&&$u(s,s.return);break;case 3:if(ci(r,s),h&64&&(h=s.updateQueue,h!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{kv(h,r)}catch(P){rn(s,s.return,P)}}break;case 26:ci(r,s),h&512&&$u(s,s.return);break;case 27:case 5:ci(r,s),i===null&&h&4&&bg(s),h&512&&$u(s,s.return);break;case 12:ci(r,s);break;case 13:ci(r,s),h&4&&Ag(r,s);break;case 22:if(y=s.memoizedState!==null||Ui,!y){i=i!==null&&i.memoizedState!==null||hn;var E=Ui,B=hn;Ui=y,(hn=i)&&!B?zr(r,s,(s.subtreeFlags&8772)!==0):ci(r,s),Ui=E,hn=B}h&512&&(s.memoizedProps.mode==="manual"?$u(s,s.return):Lr(s,s.return));break;default:ci(r,s)}}function Cg(r){var i=r.alternate;i!==null&&(r.alternate=null,Cg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&ys(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Hn=null,Jr=!1;function fi(r,i,s){for(s=s.child;s!==null;)Hv(r,i,s),s=s.sibling}function Hv(r,i,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ae,s)}catch{}switch(s.tag){case 26:hn||Lr(s,i),fi(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:hn||Lr(s,i);var h=Hn,y=Jr;for(Hn=s.stateNode,fi(r,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);ys(s),Hn=h,Jr=y;break;case 5:hn||Lr(s,i);case 6:y=Hn;var E=Jr;if(Hn=null,fi(r,i,s),Hn=y,Jr=E,Hn!==null)if(Jr)try{r=Hn,h=s.stateNode,r.nodeType===8?r.parentNode.removeChild(h):r.removeChild(h)}catch(B){rn(s,i,B)}else try{Hn.removeChild(s.stateNode)}catch(B){rn(s,i,B)}break;case 18:Hn!==null&&(Jr?(i=Hn,s=s.stateNode,i.nodeType===8?Ed(i.parentNode,s):i.nodeType===1&&Ed(i,s),So(i)):Ed(Hn,s.stateNode));break;case 4:h=Hn,y=Jr,Hn=s.stateNode.containerInfo,Jr=!0,fi(r,i,s),Hn=h,Jr=y;break;case 0:case 11:case 14:case 15:hn||pu(2,s,i),hn||pu(4,s,i),fi(r,i,s);break;case 1:hn||(Lr(s,i),h=s.stateNode,typeof h.componentWillUnmount=="function"&&Uv(s,i,h)),fi(r,i,s);break;case 21:fi(r,i,s);break;case 22:hn||Lr(s,i),hn=(h=hn)||s.memoizedState!==null,fi(r,i,s),hn=h;break;default:fi(r,i,s)}}function Ag(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{So(r)}catch(s){rn(i,i.return,s)}}function qv(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new xg),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new xg),i;default:throw Error(a(435,r.tag))}}function If(r,i){var s=qv(r);i.forEach(function(h){var y=ny.bind(null,r,h);s.has(h)||(s.add(h),h.then(y,y))})}function fr(r,i){var s=i.deletions;if(s!==null)for(var h=0;h<s.length;h++){var y=s[h],E=r,B=i,P=B;e:for(;P!==null;){switch(P.tag){case 27:case 5:Hn=P.stateNode,Jr=!1;break e;case 3:Hn=P.stateNode.containerInfo,Jr=!0;break e;case 4:Hn=P.stateNode.containerInfo,Jr=!0;break e}P=P.return}if(Hn===null)throw Error(a(160));Hv(E,B,y),Hn=null,Jr=!1,E=y.alternate,E!==null&&(E.return=null),y.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Fv(i,r),i=i.sibling}var jr=null;function Fv(r,i){var s=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(i,r),ea(r),h&4&&(pu(3,r,r.return),Pn(3,r),pu(5,r,r.return));break;case 1:fr(i,r),ea(r),h&512&&(hn||s===null||Lr(s,s.return)),h&64&&Ui&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?h:s.concat(h))));break;case 26:var y=jr;if(fr(i,r),ea(r),h&512&&(hn||s===null||Lr(s,s.return)),h&4){var E=s!==null?s.memoizedState:null;if(h=r.memoizedState,s===null)if(h===null)if(r.stateNode===null){e:{h=r.type,s=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":E=y.getElementsByTagName("title")[0],(!E||E[Lu]||E[Bn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=y.createElement(h),y.head.insertBefore(E,y.querySelector("head > title"))),er(E,h,s),E[Bn]=r,cn(E),h=E;break e;case"link":var B=sp("link","href",y).get(h+(s.href||""));if(B){for(var P=0;P<B.length;P++)if(E=B[P],E.getAttribute("href")===(s.href==null?null:s.href)&&E.getAttribute("rel")===(s.rel==null?null:s.rel)&&E.getAttribute("title")===(s.title==null?null:s.title)&&E.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){B.splice(P,1);break t}}E=y.createElement(h),er(E,h,s),y.head.appendChild(E);break;case"meta":if(B=sp("meta","content",y).get(h+(s.content||""))){for(P=0;P<B.length;P++)if(E=B[P],E.getAttribute("content")===(s.content==null?null:""+s.content)&&E.getAttribute("name")===(s.name==null?null:s.name)&&E.getAttribute("property")===(s.property==null?null:s.property)&&E.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&E.getAttribute("charset")===(s.charSet==null?null:s.charSet)){B.splice(P,1);break t}}E=y.createElement(h),er(E,h,s),y.head.appendChild(E);break;default:throw Error(a(468,h))}E[Bn]=r,cn(E),h=E}r.stateNode=h}else op(y,r.type,r.stateNode);else r.stateNode=go(y,h,r.memoizedProps);else E!==h?(E===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):E.count--,h===null?op(y,r.type,r.stateNode):go(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&wg(r,r.memoizedProps,s.memoizedProps)}break;case 27:if(h&4&&r.alternate===null){y=r.stateNode,E=r.memoizedProps;try{for(var $=y.firstChild;$;){var ie=$.nextSibling,De=$.nodeName;$[Lu]||De==="HEAD"||De==="BODY"||De==="SCRIPT"||De==="STYLE"||De==="LINK"&&$.rel.toLowerCase()==="stylesheet"||y.removeChild($),$=ie}for(var ze=r.type,ye=y.attributes;ye.length;)y.removeAttributeNode(ye[0]);er(y,ze,E),y[Bn]=r,y[on]=E}catch(We){rn(r,r.return,We)}}case 5:if(fr(i,r),ea(r),h&512&&(hn||s===null||Lr(s,s.return)),r.flags&32){y=r.stateNode;try{Ra(y,"")}catch(We){rn(r,r.return,We)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,wg(r,y,s!==null?s.memoizedProps:y)),h&1024&&(Iv=!0);break;case 6:if(fr(i,r),ea(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,s=r.stateNode;try{s.nodeValue=h}catch(We){rn(r,r.return,We)}}break;case 3:if(tc=null,y=jr,jr=Jf(i.containerInfo),fr(i,r),jr=y,ea(r),h&4&&s!==null&&s.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(We){rn(r,r.return,We)}Iv&&(Iv=!1,js(r));break;case 4:h=jr,jr=Jf(r.stateNode.containerInfo),fr(i,r),ea(r),jr=h;break;case 12:fr(i,r),ea(r);break;case 13:fr(i,r),ea(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($v=lt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,If(r,h)));break;case 22:if(h&512&&(hn||s===null||Lr(s,s.return)),$=r.memoizedState!==null,ie=s!==null&&s.memoizedState!==null,De=Ui,ze=hn,Ui=De||$,hn=ze||ie,fr(i,r),hn=ze,Ui=De,ea(r),i=r.stateNode,i._current=r,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,h&8192&&(i._visibility=$?i._visibility&-2:i._visibility|1,$&&(i=Ui||hn,s===null||ie||i||wr(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(s=null,i=r;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){ie=s=i;try{if(y=ie.stateNode,$)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{B=ie.stateNode,P=ie.memoizedProps.style;var Ce=P!=null&&P.hasOwnProperty("display")?P.display:null;B.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(We){rn(ie,ie.return,We)}}}else if(i.tag===6){if(s===null){ie=i;try{ie.stateNode.nodeValue=$?"":ie.memoizedProps}catch(We){rn(ie,ie.return,We)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=r.updateQueue,h!==null&&(s=h.retryQueue,s!==null&&(h.retryQueue=null,If(r,s))));break;case 19:fr(i,r),ea(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,If(r,h)));break;case 21:break;default:fr(i,r),ea(r)}}function ea(r){var i=r.flags;if(i&2){try{if(r.tag!==27){e:{for(var s=r.return;s!==null;){if(Eg(s)){var h=s;break e}s=s.return}throw Error(a(160))}switch(h.tag){case 27:var y=h.stateNode,E=Ha(r);ql(r,E,y);break;case 5:var B=h.stateNode;h.flags&32&&(Ra(B,""),h.flags&=-33);var P=Ha(r);ql(r,P,B);break;case 3:case 4:var $=h.stateNode.containerInfo,ie=Ha(r);jn(r,ie,$);break;default:throw Error(a(161))}}}catch(De){rn(r,r.return,De)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function js(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;js(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ci(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tg(r,i.alternate,i),i=i.sibling}function wr(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:pu(4,i,i.return),wr(i);break;case 1:Lr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Uv(i,i.return,s),wr(i);break;case 26:case 27:case 5:Lr(i,i.return),wr(i);break;case 22:Lr(i,i.return),i.memoizedState===null&&wr(i);break;default:wr(i)}r=r.sibling}}function zr(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,y=r,E=i,B=E.flags;switch(E.tag){case 0:case 11:case 15:zr(y,E,s),Pn(4,E);break;case 1:if(zr(y,E,s),h=E,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ie){rn(h,h.return,ie)}if(h=E,y=h.updateQueue,y!==null){var P=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Uf($[y],P)}catch(ie){rn(h,h.return,ie)}}s&&B&64&&yg(E),$u(E,E.return);break;case 26:case 27:case 5:zr(y,E,s),s&&h===null&&B&4&&bg(E),$u(E,E.return);break;case 12:zr(y,E,s);break;case 13:zr(y,E,s),s&&B&4&&Ag(y,E);break;case 22:E.memoizedState===null&&zr(y,E,s),$u(E,E.return);break;default:zr(y,E,s)}i=i.sibling}}function Vv(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&Ns(s))}function Pf(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ns(r))}function mu(r,i,s,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dg(r,i,s,h),i=i.sibling}function Dg(r,i,s,h){var y=i.flags;switch(i.tag){case 0:case 11:case 15:mu(r,i,s,h),y&2048&&Pn(9,i);break;case 3:mu(r,i,s,h),y&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ns(r)));break;case 12:if(y&2048){mu(r,i,s,h),r=i.stateNode;try{var E=i.memoizedProps,B=E.id,P=E.onPostCommit;typeof P=="function"&&P(B,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){rn(i,i.return,$)}}else mu(r,i,s,h);break;case 23:break;case 22:E=i.stateNode,i.memoizedState!==null?E._visibility&4?mu(r,i,s,h):eo(r,i):E._visibility&4?mu(r,i,s,h):(E._visibility|=4,Fl(r,i,s,h,(i.subtreeFlags&10256)!==0)),y&2048&&Vv(i.alternate,i);break;case 24:mu(r,i,s,h),y&2048&&Pf(i.alternate,i);break;default:mu(r,i,s,h)}}function Fl(r,i,s,h,y){for(y=y&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var E=r,B=i,P=s,$=h,ie=B.flags;switch(B.tag){case 0:case 11:case 15:Fl(E,B,P,$,y),Pn(8,B);break;case 23:break;case 22:var De=B.stateNode;B.memoizedState!==null?De._visibility&4?Fl(E,B,P,$,y):eo(E,B):(De._visibility|=4,Fl(E,B,P,$,y)),y&&ie&2048&&Vv(B.alternate,B);break;case 24:Fl(E,B,P,$,y),y&&ie&2048&&Pf(B.alternate,B);break;default:Fl(E,B,P,$,y)}i=i.sibling}}function eo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,h=i,y=h.flags;switch(h.tag){case 22:eo(s,h),y&2048&&Vv(h.alternate,h);break;case 24:eo(s,h),y&2048&&Pf(h.alternate,h);break;default:eo(s,h)}i=i.sibling}}var to=8192;function Vl(r){if(r.subtreeFlags&to)for(r=r.child;r!==null;)Rg(r),r=r.sibling}function Rg(r){switch(r.tag){case 26:Vl(r),r.flags&to&&r.memoizedState!==null&&py(jr,r.memoizedState,r.memoizedProps);break;case 5:Vl(r);break;case 3:case 4:var i=jr;jr=Jf(r.stateNode.containerInfo),Vl(r),jr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=to,to=16777216,Vl(r),to=i):Vl(r));break;default:Vl(r)}}function Mg(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function no(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var h=i[s];An=h,Gv(h,r)}Mg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bg(r),r=r.sibling}function Bg(r){switch(r.tag){case 0:case 11:case 15:no(r),r.flags&2048&&pu(9,r,r.return);break;case 3:no(r);break;case 12:no(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&4&&(r.return===null||r.return.tag!==13)?(i._visibility&=-5,Hf(r)):no(r);break;default:no(r)}}function Hf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var h=i[s];An=h,Gv(h,r)}Mg(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:pu(8,i,i.return),Hf(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,Hf(i));break;default:Hf(i)}r=r.sibling}}function Gv(r,i){for(;An!==null;){var s=An;switch(s.tag){case 0:case 11:case 15:pu(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var h=s.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ns(s.memoizedState.cache)}if(h=s.child,h!==null)h.return=s,An=h;else e:for(s=r;An!==null;){h=An;var y=h.sibling,E=h.return;if(Cg(h),h===s){An=null;break e}if(y!==null){y.return=E,An=y;break e}An=E}}}function Og(r,i,s,h){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(r,i,s,h){return new Og(r,i,s,h)}function Yv(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yu(r,i){var s=r.alternate;return s===null?(s=ta(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&31457280,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function _g(r,i){r.flags&=31457282;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ro(r,i,s,h,y,E){var B=0;if(h=r,typeof r=="function")Yv(r)&&(B=1);else if(typeof r=="string")B=hy(r,s,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case g:return Ju(s.children,y,E,i);case v:B=8,y|=24;break;case p:return r=ta(12,s,i,y|2),r.elementType=p,r.lanes=E,r;case D:return r=ta(13,s,i,y),r.elementType=D,r.lanes=E,r;case C:return r=ta(19,s,i,y),r.elementType=C,r.lanes=E,r;case M:return Lg(s,y,E,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case m:case S:B=10;break e;case w:B=9;break e;case x:B=11;break e;case T:B=14;break e;case R:B=16,h=null;break e}B=29,s=Error(a(130,r===null?"null":typeof r,"")),h=null}return i=ta(B,s,i,y),i.elementType=r,i.type=h,i.lanes=E,i}function Ju(r,i,s,h){return r=ta(7,r,h,i),r.lanes=s,r}function Lg(r,i,s,h){r=ta(22,r,h,i),r.elementType=M,r.lanes=s;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var E=y._current;if(E===null)throw Error(a(456));if((y._pendingVisibility&2)===0){var B=Ba(E,2);B!==null&&(y._pendingVisibility|=2,cr(B,E,2))}},attach:function(){var E=y._current;if(E===null)throw Error(a(456));if((y._pendingVisibility&2)!==0){var B=Ba(E,2);B!==null&&(y._pendingVisibility&=-3,cr(B,E,2))}}};return r.stateNode=y,r}function Kv(r,i,s){return r=ta(6,r,null,i),r.lanes=s,r}function Xv(r,i,s){return i=ta(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Ii(r){r.flags|=4}function zg(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!fp(i)){if(i=wa.current,i!==null&&((Ut&4194176)===Ut?ai!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ai))throw _s=nu,Os;r.flags|=8192}}function Er(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?$n():536870912,r.lanes|=i,Yl|=i)}function ao(r,i){if(!mt)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function bn(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,h=0;if(i)for(var y=r.child;y!==null;)s|=y.lanes|y.childLanes,h|=y.subtreeFlags&31457280,h|=y.flags&31457280,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)s|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=s,i}function Km(r,i,s){var h=i.pendingProps;switch(rv(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(i),null;case 1:return bn(i),null;case 3:return s=i.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),li(Kn),_t(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(Gu(i)?Ii(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Oa!==null&&(Kl(Oa),Oa=null))),bn(i),null;case 26:return s=i.memoizedState,r===null?(Ii(i),s!==null?(bn(i),zg(i,s)):(bn(i),i.flags&=-16777217)):s?s!==r.memoizedState?(Ii(i),bn(i),zg(i,s)):(bn(i),i.flags&=-16777217):(r.memoizedProps!==h&&Ii(i),bn(i),i.flags&=-16777217),null;case 27:Ge(i),s=Ue.current;var y=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==h&&Ii(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return bn(i),null}r=be.current,Gu(i)?gf(i):(r=Sd(y,h,s),i.stateNode=r,Ii(i))}return bn(i),null;case 5:if(Ge(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&Ii(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return bn(i),null}if(r=be.current,Gu(i))gf(i);else{switch(y=Qf(Ue.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(s,{is:h.is}):y.createElement(s)}}r[Bn]=i,r[on]=h;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=r;e:switch(er(r,s,h),s){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ii(i)}}return bn(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==h&&Ii(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(a(166));if(r=Ue.current,Gu(i)){if(r=i.stateNode,s=i.memoizedProps,h=null,y=yr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[Bn]=i,r=!!(r.nodeValue===s||h!==null&&h.suppressHydrationWarning===!0||bt(r.nodeValue,s)),r||Vu(i)}else r=Qf(r).createTextNode(h),r[Bn]=i,i.stateNode=r}return bn(i),null;case 13:if(h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Gu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[Bn]=i}else ri(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bn(i),y=!1}else Oa!==null&&(Kl(Oa),Oa=null),y=!0;if(!y)return i.flags&256?(Bi(i),i):(Bi(i),null)}if(Bi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=h!==null,r=r!==null&&r.memoizedState!==null,s){h=i.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var E=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),Er(i,i.updateQueue),bn(i),null;case 4:return _t(),r===null&&gd(i.stateNode.containerInfo),bn(i),null;case 10:return li(i.type),bn(i),null;case 19:if(ve(Yn),y=i.memoizedState,y===null)return bn(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)ao(y,!1);else{if(Dn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(E=yf(r),E!==null){for(i.flags|=128,ao(y,!1),r=E.updateQueue,i.updateQueue=r,Er(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)_g(s,r),s=s.sibling;return re(Yn,Yn.current&1|2),i.child}r=r.sibling}y.tail!==null&&lt()>qf&&(i.flags|=128,h=!0,ao(y,!1),i.lanes=4194304)}else{if(!h)if(r=yf(E),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Er(i,r),ao(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!mt)return bn(i),null}else 2*lt()-y.renderingStartTime>qf&&s!==536870912&&(i.flags|=128,h=!0,ao(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(r=y.last,r!==null?r.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=lt(),i.sibling=null,r=Yn.current,re(Yn,h?r&1|2:r&1),i):(bn(i),null);case 22:case 23:return Bi(i),iv(),h=i.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(s&536870912)!==0&&(i.flags&128)===0&&(bn(i),i.subtreeFlags&6&&(i.flags|=8192)):bn(i),s=i.updateQueue,s!==null&&Er(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==s&&(i.flags|=2048),r!==null&&ve(Yu),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),li(Kn),bn(i),null;case 25:return null}throw Error(a(156,i.tag))}function Ng(r,i){switch(rv(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return li(Kn),_t(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ge(i),null;case 13:if(Bi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ri()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ve(Yn),null;case 4:return _t(),null;case 10:return li(i.type),null;case 22:case 23:return Bi(i),iv(),r!==null&&ve(Yu),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return li(Kn),null;case 25:return null;default:return null}}function kg(r,i){switch(rv(i),i.tag){case 3:li(Kn),_t();break;case 26:case 27:case 5:Ge(i);break;case 4:_t();break;case 13:Bi(i);break;case 19:ve(Yn);break;case 10:li(i.type);break;case 22:case 23:Bi(i),iv(),r!==null&&ve(Yu);break;case 24:li(Kn)}}var Xm={getCacheForType:function(r){var i=or(Kn),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},Zm=typeof WeakMap=="function"?WeakMap:Map,wn=0,en=null,Bt=null,Ut=0,an=0,na=null,Pi=!1,Gl=!1,Zv=!1,Hi=0,Dn=0,bu=0,ju=0,Qv=0,xa=0,Yl=0,io=null,vi=null,Wv=!1,$v=0,qf=1/0,Ff=null,di=null,uo=!1,el=null,lo=0,Jv=0,jv=null,so=0,ed=null;function ra(){if((wn&2)!==0&&Ut!==0)return Ut&-Ut;if(z.T!==null){var r=xl;return r!==0?r:fd()}return Vn()}function Ug(){xa===0&&(xa=(Ut&536870912)===0||mt?Tn():536870912);var r=wa.current;return r!==null&&(r.flags|=32),xa}function cr(r,i,s){(r===en&&an===2||r.cancelPendingCommit!==null)&&(Xl(r,0),qi(r,Ut,xa,!1)),ur(r,s),((wn&2)===0||r!==en)&&(r===en&&((wn&2)===0&&(ju|=s),Dn===4&&qi(r,Ut,xa,!1)),qa(r))}function Ig(r,i,s){if((wn&6)!==0)throw Error(a(327));var h=!s&&(i&60)===0&&(i&r.expiredLanes)===0||sn(r,i),y=h?$m(r,i):rd(r,i,!0),E=h;do{if(y===0){Gl&&!h&&qi(r,i,0,!1);break}else if(y===6)qi(r,i,0,!Pi);else{if(s=r.current.alternate,E&&!Qm(s)){y=rd(r,i,!1),E=!1;continue}if(y===2){if(E=i,r.errorRecoveryDisabledLanes&E)var B=0;else B=r.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){i=B;e:{var P=r;y=io;var $=P.current.memoizedState.isDehydrated;if($&&(Xl(P,B).flags|=256),B=rd(P,B,!1),B!==2){if(Zv&&!$){P.errorRecoveryDisabledLanes|=E,ju|=E,y=4;break e}E=vi,vi=y,E!==null&&Kl(E)}y=B}if(E=!1,y!==2)continue}}if(y===1){Xl(r,0),qi(r,i,0,!0);break}e:{switch(h=r,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){qi(h,i,xa,!Pi);break e}break;case 2:vi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(h.finishedWork=s,h.finishedLanes=i,(i&62914560)===i&&(E=$v+300-lt(),10<E)){if(qi(h,i,xa,!Pi),Wn(h,0)!==0)break e;h.timeoutHandle=wd(Pg.bind(null,h,s,vi,Ff,Wv,i,xa,ju,Yl,Pi,2,-0,0),E);break e}Pg(h,s,vi,Ff,Wv,i,xa,ju,Yl,Pi,0,-0,0)}}break}while(!0);qa(r)}function Kl(r){vi===null?vi=r:vi.push.apply(vi,r)}function Pg(r,i,s,h,y,E,B,P,$,ie,De,ze,ye){var Ce=i.subtreeFlags;if((Ce&8192||(Ce&16785408)===16785408)&&(po={stylesheets:null,count:0,unsuspend:gy},Rg(i),i=my(),i!==null)){r.cancelPendingCommit=i(Kg.bind(null,r,s,h,y,B,P,$,1,ze,ye)),qi(r,E,B,!ie);return}Kg(r,s,h,y,B,P,$,De,ze,ye)}function Qm(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var h=0;h<s.length;h++){var y=s[h],E=y.getSnapshot;y=y.value;try{if(!Kr(E(),y))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qi(r,i,s,h){i&=~Qv,i&=~ju,r.suspendedLanes|=i,r.pingedLanes&=~i,h&&(r.warmLanes|=i),h=r.expirationTimes;for(var y=i;0<y;){var E=31-qe(y),B=1<<E;h[E]=-1,y&=~B}s!==0&&qr(r,s,i)}function Vf(){return(wn&6)===0?(rl(0),!1):!0}function td(){if(Bt!==null){if(an===0)var r=Bt.return;else r=Bt,ka=du=null,Al(r),Di=null,Ri=0,r=Bt;for(;r!==null;)kg(r.alternate,r),r=r.return;Bt=null}}function Xl(r,i){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,Wf(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),td(),en=r,Bt=s=yu(r.current,null),Ut=i,an=0,na=null,Pi=!1,Gl=sn(r,i),Zv=!1,Yl=xa=Qv=ju=bu=Dn=0,vi=io=null,Wv=!1,(i&8)!==0&&(i|=i&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=i;0<h;){var y=31-qe(h),E=1<<y;i|=r[y],h&=~E}return Hi=i,vf(),s}function Hg(r,i){At=null,z.H=Cn,i===Ai?(i=$h(),an=3):i===Os?(i=$h(),an=4):an=i===Rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,na=i,Bt===null&&(Dn=1,Gs(r,mr(i,r.current)))}function qg(){var r=z.H;return z.H=Cn,r===null?Cn:r}function Fg(){var r=z.A;return z.A=Xm,r}function nd(){Dn=4,Pi||(Ut&4194176)!==Ut&&wa.current!==null||(Gl=!0),(bu&134217727)===0&&(ju&134217727)===0||en===null||qi(en,Ut,xa,!1)}function rd(r,i,s){var h=wn;wn|=2;var y=qg(),E=Fg();(en!==r||Ut!==i)&&(Ff=null,Xl(r,i)),i=!1;var B=Dn;e:do try{if(an!==0&&Bt!==null){var P=Bt,$=na;switch(an){case 8:td(),B=6;break e;case 3:case 2:case 6:wa.current===null&&(i=!0);var ie=an;if(an=0,na=null,tl(r,P,$,ie),s&&Gl){B=0;break e}break;default:ie=an,an=0,na=null,tl(r,P,$,ie)}}Wm(),B=Dn;break}catch(De){Hg(r,De)}while(!0);return i&&r.shellSuspendCounter++,ka=du=null,wn=h,z.H=y,z.A=E,Bt===null&&(en=null,Ut=0,vf()),B}function Wm(){for(;Bt!==null;)Vg(Bt)}function $m(r,i){var s=wn;wn|=2;var h=qg(),y=Fg();en!==r||Ut!==i?(Ff=null,qf=lt()+500,Xl(r,i)):Gl=sn(r,i);e:do try{if(an!==0&&Bt!==null){i=Bt;var E=na;t:switch(an){case 1:an=0,na=null,tl(r,i,E,1);break;case 2:if(Qh(E)){an=0,na=null,Gg(i);break}i=function(){an===2&&en===r&&(an=7),qa(r)},E.then(i,i);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:Qh(E)?(an=0,na=null,Gg(i)):(an=0,na=null,tl(r,i,E,7));break;case 5:var B=null;switch(Bt.tag){case 26:B=Bt.memoizedState;case 5:case 27:var P=Bt;if(!B||fp(B)){an=0,na=null;var $=P.sibling;if($!==null)Bt=$;else{var ie=P.return;ie!==null?(Bt=ie,oo(ie)):Bt=null}break t}}an=0,na=null,tl(r,i,E,5);break;case 6:an=0,na=null,tl(r,i,E,6);break;case 8:td(),Dn=6;break e;default:throw Error(a(462))}}Jm();break}catch(De){Hg(r,De)}while(!0);return ka=du=null,z.H=h,z.A=y,wn=s,Bt!==null?0:(en=null,Ut=0,vf(),Dn)}function Jm(){for(;Bt!==null&&!je();)Vg(Bt)}function Vg(r){var i=Nv(r.alternate,r,Hi);r.memoizedProps=r.pendingProps,i===null?oo(r):Bt=i}function Gg(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=Wu(s,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Wu(s,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Al(i);default:kg(s,i),i=Bt=_g(i,Hi),i=Nv(s,i,Hi)}r.memoizedProps=r.pendingProps,i===null?oo(r):Bt=i}function tl(r,i,s,h){ka=du=null,Al(i),Di=null,Ri=0;var y=i.return;try{if(Gm(r,y,i,s,Ut)){Dn=1,Gs(r,mr(s,r.current)),Bt=null;return}}catch(E){if(y!==null)throw Bt=y,E;Dn=1,Gs(r,mr(s,r.current)),Bt=null;return}i.flags&32768?(mt||h===1?r=!0:Gl||(Ut&536870912)!==0?r=!1:(Pi=r=!0,(h===2||h===3||h===6)&&(h=wa.current,h!==null&&h.tag===13&&(h.flags|=16384))),Yg(i,r)):oo(i)}function oo(r){var i=r;do{if((i.flags&32768)!==0){Yg(i,Pi);return}r=i.return;var s=Km(i.alternate,i,Hi);if(s!==null){Bt=s;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=r}while(i!==null);Dn===0&&(Dn=5)}function Yg(r,i){do{var s=Ng(r.alternate,r);if(s!==null){s.flags&=32767,Bt=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){Bt=r;return}Bt=r=s}while(r!==null);Dn=6,Bt=null}function Kg(r,i,s,h,y,E,B,P,$,ie){var De=z.T,ze=se.p;try{se.p=2,z.T=null,jm(r,i,s,h,ze,y,E,B,P,$,ie)}finally{z.T=De,se.p=ze}}function jm(r,i,s,h,y,E,B,P){do Fi();while(el!==null);if((wn&6)!==0)throw Error(a(327));var $=r.finishedWork;if(h=r.finishedLanes,$===null)return null;if(r.finishedWork=null,r.finishedLanes=0,$===r.current)throw Error(a(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var ie=$.lanes|$.childLanes;if(ie|=ev,lr(r,h,ie,E,B,P),r===en&&(Bt=en=null,Ut=0),($.subtreeFlags&10256)===0&&($.flags&10256)===0||uo||(uo=!0,Jv=ie,jv=s,ry(fe,function(){return Fi(),null})),s=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||s?(s=z.T,z.T=null,E=se.p,se.p=2,B=wn,wn|=4,Sg(r,$),Fv($,r),zm(yd,r.containerInfo),yo=!!md,yd=md=null,r.current=$,Tg(r,$.alternate,$),ut(),wn=B,se.p=E,z.T=s):r.current=$,uo?(uo=!1,el=r,lo=h):Xg(r,ie),ie=r.pendingLanes,ie===0&&(di=null),et($.stateNode),qa(r),i!==null)for(y=r.onRecoverableError,$=0;$<i.length;$++)ie=i[$],y(ie.value,{componentStack:ie.stack});return(lo&3)!==0&&Fi(),ie=r.pendingLanes,(h&4194218)!==0&&(ie&42)!==0?r===ed?so++:(so=0,ed=r):so=0,rl(0),null}function Xg(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Ns(i)))}function Fi(){if(el!==null){var r=el,i=Jv;Jv=0;var s=oa(lo),h=z.T,y=se.p;try{if(se.p=32>s?32:s,z.T=null,el===null)var E=!1;else{s=jv,jv=null;var B=el,P=lo;if(el=null,lo=0,(wn&6)!==0)throw Error(a(331));var $=wn;if(wn|=4,Bg(B.current),Dg(B,B.current,P,s),wn=$,rl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ae,B)}catch{}E=!0}return E}finally{se.p=y,z.T=h,Xg(r,i)}}return!1}function Zg(r,i,s){i=mr(s,i),i=Ys(r.stateNode,i,2),r=$r(r,i,2),r!==null&&(ur(r,2),qa(r))}function rn(r,i,s){if(r.tag===3)Zg(r,r,s);else for(;i!==null;){if(i.tag===3){Zg(i,r,s);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(di===null||!di.has(h))){r=mr(s,r),s=gg(2),h=$r(i,s,2),h!==null&&(pg(s,h,i,r),ur(h,2),qa(h));break}}i=i.return}}function ad(r,i,s){var h=r.pingCache;if(h===null){h=r.pingCache=new Zm;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(s)||(Zv=!0,y.add(s),r=ey.bind(null,r,i,s),i.then(r,r))}function ey(r,i,s){var h=r.pingCache;h!==null&&h.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,en===r&&(Ut&s)===s&&(Dn===4||Dn===3&&(Ut&62914560)===Ut&&300>lt()-$v?(wn&2)===0&&Xl(r,0):Qv|=s,Yl===Ut&&(Yl=0)),qa(r)}function Qg(r,i){i===0&&(i=$n()),r=Ba(r,i),r!==null&&(ur(r,i),qa(r))}function ty(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),Qg(r,s)}function ny(r,i){var s=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(s=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(i),Qg(r,s)}function ry(r,i){return Je(r,i)}var Gf=null,Zl=null,id=!1,nl=!1,ud=!1,wu=0;function qa(r){r!==Zl&&r.next===null&&(Zl===null?Gf=Zl=r:Zl=Zl.next=r),nl=!0,id||(id=!0,ay(Wg))}function rl(r,i){if(!ud&&nl){ud=!0;do for(var s=!1,h=Gf;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var E=0;else{var B=h.suspendedLanes,P=h.pingedLanes;E=(1<<31-qe(42|r)+1)-1,E&=y&~(B&~P),E=E&201326677?E&201326677|1:E?E|2:0}E!==0&&(s=!0,od(h,E))}else E=Ut,E=Wn(h,h===en?E:0),(E&3)===0||sn(h,E)||(s=!0,od(h,E));h=h.next}while(s);ud=!1}}function Wg(){nl=id=!1;var r=0;wu!==0&&(Vi()&&(r=wu),wu=0);for(var i=lt(),s=null,h=Gf;h!==null;){var y=h.next,E=ld(h,i);E===0?(h.next=null,s===null?Gf=y:s.next=y,y===null&&(Zl=s)):(s=h,(r!==0||(E&3)!==0)&&(nl=!0)),h=y}rl(r)}function ld(r,i){for(var s=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,E=r.pendingLanes&-62914561;0<E;){var B=31-qe(E),P=1<<B,$=y[B];$===-1?((P&s)===0||(P&h)!==0)&&(y[B]=kn(P,i)):$<=i&&(r.expiredLanes|=P),E&=~P}if(i=en,s=Ut,s=Wn(r,r===i?s:0),h=r.callbackNode,s===0||r===i&&an===2||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Qe(h),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||sn(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(h!==null&&Qe(h),oa(s)){case 2:case 8:s=V;break;case 32:s=fe;break;case 268435456:s=he;break;default:s=fe}return h=sd.bind(null,r),s=Je(s,h),r.callbackPriority=i,r.callbackNode=s,i}return h!==null&&h!==null&&Qe(h),r.callbackPriority=2,r.callbackNode=null,2}function sd(r,i){var s=r.callbackNode;if(Fi()&&r.callbackNode!==s)return null;var h=Ut;return h=Wn(r,r===en?h:0),h===0?null:(Ig(r,h,i),ld(r,lt()),r.callbackNode!=null&&r.callbackNode===s?sd.bind(null,r):null)}function od(r,i){if(Fi())return null;Ig(r,i,!0)}function ay(r){Rn(function(){(wn&6)!==0?Je(Le,r):r()})}function fd(){return wu===0&&(wu=Tn()),wu}function $g(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ts(""+r)}function fo(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function Yf(r,i,s,h,y){if(i==="submit"&&s&&s.stateNode===y){var E=$g((y[on]||null).action),B=h.submitter;B&&(i=(i=B[on]||null)?$g(i.formAction):B.getAttribute("formAction"),i!==null&&(E=i,B=null));var P=new Jo("action","action",null,h,y);r.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wu!==0){var $=B?fo(y,B):new FormData(y);Fs(s,{pending:!0,data:$,method:y.method,action:E},null,$)}}else typeof E=="function"&&(P.preventDefault(),$=B?fo(y,B):new FormData(y),Fs(s,{pending:!0,data:$,method:y.method,action:E},E,$))},currentTarget:y}]})}}for(var cd=0;cd<Xh.length;cd++){var vd=Xh[cd],dd=vd.toLowerCase(),Jg=vd[0].toUpperCase()+vd.slice(1);ga(dd,"on"+Jg)}ga(Kh,"onAnimationEnd"),ga(Xr,"onAnimationIteration"),ga(Ms,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(km,"onTransitionRun"),ga(yl,"onTransitionStart"),ga(cf,"onTransitionCancel"),ga(Bs,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function jg(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var h=r[s],y=h.event;h=h.listeners;e:{var E=void 0;if(i)for(var B=h.length-1;0<=B;B--){var P=h[B],$=P.instance,ie=P.currentTarget;if(P=P.listener,$!==E&&y.isPropagationStopped())break e;E=P,y.currentTarget=ie;try{E(y)}catch(De){zl(De)}y.currentTarget=null,E=$}else for(B=0;B<h.length;B++){if(P=h[B],$=P.instance,ie=P.currentTarget,P=P.listener,$!==E&&y.isPropagationStopped())break e;E=P,y.currentTarget=ie;try{E(y)}catch(De){zl(De)}y.currentTarget=null,E=$}}}}function Nt(r,i){var s=i[ms];s===void 0&&(s=i[ms]=new Set);var h=r+"__bubble";s.has(h)||(ep(i,r,2,!1),s.add(h))}function hd(r,i,s){var h=0;i&&(h|=4),ep(s,r,h,i)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function gd(r){if(!r[Kf]){r[Kf]=!0,bs.forEach(function(s){s!=="selectionchange"&&(iy.has(s)||hd(s,!1,r),hd(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Kf]||(i[Kf]=!0,hd("selectionchange",!1,i))}}function ep(r,i,s,h){switch(hp(i)){case 2:var y=by;break;case 8:y=wy;break;default:y=Bd}s=y.bind(null,i,s,r),y=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(i,s,{capture:!0,passive:y}):r.addEventListener(i,s,!0):y!==void 0?r.addEventListener(i,s,{passive:y}):r.addEventListener(i,s,!1)}function pd(r,i,s,h,y){var E=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var B=h.tag;if(B===3||B===4){var P=h.stateNode.containerInfo;if(P===y||P.nodeType===8&&P.parentNode===y)break;if(B===4)for(B=h.return;B!==null;){var $=B.tag;if(($===3||$===4)&&($=B.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;B=B.return}for(;P!==null;){if(B=Ei(P),B===null)return;if($=B.tag,$===5||$===6||$===26||$===27){h=E=B;continue e}P=P.parentNode}}h=h.return}Ch(function(){var ie=E,De=qc(s),ze=[];e:{var ye=Kt.get(r);if(ye!==void 0){var Ce=Jo,We=r;switch(r){case"keypress":if(Jt(s)===0)break e;case"keydown":case"keyup":Ce=Kc;break;case"focusin":We="focus",Ce=ef;break;case"focusout":We="blur",Ce=ef;break;case"beforeblur":case"afterblur":Ce=ef;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Am;break;case Kh:case Xr:case Ms:Ce=Bh;break;case Bs:Ce=Dm;break;case"scroll":case"scrollend":Ce=Sm;break;case"wheel":Ce=Mm;break;case"copy":case"cut":case"paste":Ce=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=xi;break;case"toggle":case"beforetoggle":Ce=nf}var yt=(i&4)!==0,xn=!yt&&(r==="scroll"||r==="scrollend"),ce=yt?ye!==null?ye+"Capture":null:ye;yt=[];for(var ae=ie,ge;ae!==null;){var Be=ae;if(ge=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||ge===null||ce===null||(Be=Cs(ae,ce),Be!=null&&yt.push(vo(ae,Be,ge))),xn)break;ae=ae.return}0<yt.length&&(ye=new Ce(ye,We,null,s,De),ze.push({event:ye,listeners:yt}))}}if((i&7)===0){e:{if(ye=r==="mouseover"||r==="pointerover",Ce=r==="mouseout"||r==="pointerout",ye&&s!==Hc&&(We=s.relatedTarget||s.fromElement)&&(Ei(We)||We[wi]))break e;if((Ce||ye)&&(ye=De.window===De?De:(ye=De.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ce?(We=s.relatedTarget||s.toElement,Ce=ie,We=We?Ei(We):null,We!==null&&(xn=j(We),yt=We.tag,We!==xn||yt!==5&&yt!==27&&yt!==6)&&(We=null)):(Ce=null,We=ie),Ce!==We)){if(yt=Ji,Be="onMouseLeave",ce="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(yt=xi,Be="onPointerLeave",ce="onPointerEnter",ae="pointer"),xn=Ce==null?ye:ca(Ce),ge=We==null?ye:ca(We),ye=new yt(Be,ae+"leave",Ce,s,De),ye.target=xn,ye.relatedTarget=ge,Be=null,Ei(De)===ie&&(yt=new yt(ce,ae+"enter",We,s,De),yt.target=ge,yt.relatedTarget=xn,Be=yt),xn=Be,Ce&&We)t:{for(yt=Ce,ce=We,ae=0,ge=yt;ge;ge=Ql(ge))ae++;for(ge=0,Be=ce;Be;Be=Ql(Be))ge++;for(;0<ae-ge;)yt=Ql(yt),ae--;for(;0<ge-ae;)ce=Ql(ce),ge--;for(;ae--;){if(yt===ce||ce!==null&&yt===ce.alternate)break t;yt=Ql(yt),ce=Ql(ce)}yt=null}else yt=null;Ce!==null&&Sa(ze,ye,Ce,yt,!1),We!==null&&xn!==null&&Sa(ze,xn,We,yt,!0)}}e:{if(ye=ie?ca(ie):window,Ce=ye.nodeName&&ye.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ye.type==="file")var Xe=Ph;else if(lf(ye))if(Hh)Xe=_m;else{Xe=tu;var Rt=Vh}else Ce=ye.nodeName,!Ce||Ce.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ie&&Wo(ie.elementType)&&(Xe=Ph):Xe=ff;if(Xe&&(Xe=Xe(r,ie))){gl(ze,Xe,s,De);break e}Rt&&Rt(r,ye,ie),r==="focusout"&&ie&&ye.type==="number"&&ie.memoizedProps.value!=null&&Ic(ye,"number",ye.value)}switch(Rt=ie?ca(ie):window,r){case"focusin":(lf(Rt)||Rt.contentEditable==="true")&&(Ma=Rt,ue=ie,Te=null);break;case"focusout":Te=ue=Ma=null;break;case"mousedown":Ee=!0;break;case"contextmenu":case"mouseup":case"dragend":Ee=!1,Ke(ze,s,De);break;case"selectionchange":if(Nm)break;case"keydown":case"keyup":Ke(ze,s,De)}var tt;if(Qc)e:{switch(r){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ji?Uh(r,s)&&(ft="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(rf&&s.locale!=="ko"&&(ji||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ji&&(tt=Ah()):($i=De,Vc="value"in $i?$i.value:$i.textContent,ji=!0)),Rt=Xf(ie,ft),0<Rt.length&&(ft=new Br(ft,r,null,s,De),ze.push({event:ft,listeners:Rt}),tt?ft.data=tt:(tt=uf(s),tt!==null&&(ft.data=tt)))),(tt=kh?Bm(r,s):Ih(r,s))&&(ft=Xf(ie,"onBeforeInput"),0<ft.length&&(Rt=new Br("onBeforeInput","beforeinput",null,s,De),ze.push({event:Rt,listeners:ft}),Rt.data=tt)),Yf(ze,r,ie,s,De)}jg(ze,i)})}function vo(r,i,s){return{instance:r,listener:i,currentTarget:s}}function Xf(r,i){for(var s=i+"Capture",h=[];r!==null;){var y=r,E=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||E===null||(y=Cs(r,s),y!=null&&h.unshift(vo(r,y,E)),y=Cs(r,i),y!=null&&h.push(vo(r,y,E))),r=r.return}return h}function Ql(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Sa(r,i,s,h,y){for(var E=i._reactName,B=[];s!==null&&s!==h;){var P=s,$=P.alternate,ie=P.stateNode;if(P=P.tag,$!==null&&$===h)break;P!==5&&P!==26&&P!==27||ie===null||($=ie,y?(ie=Cs(s,E),ie!=null&&B.unshift(vo(s,ie,$))):y||(ie=Cs(s,E),ie!=null&&B.push(vo(s,ie,$)))),s=s.return}B.length!==0&&r.push({event:i,listeners:B})}var uy=/\r\n?/g,ly=/\u0000|\uFFFD/g;function Eu(r){return(typeof r=="string"?r:""+r).replace(uy,`
`).replace(ly,"")}function bt(r,i){return i=Eu(i),Eu(r)===i}function Zf(){}function St(r,i,s,h,y,E){switch(s){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Ra(r,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Ra(r,""+h);break;case"className":ws(r,"class",h);break;case"tabIndex":ws(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(r,s,h);break;case"style":Eh(r,h,E);break;case"data":if(i!=="object"){ws(r,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(s);break}h=Ts(""+h),r.setAttribute(s,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(s==="formAction"?(i!=="input"&&St(r,i,"name",y.name,y,null),St(r,i,"formEncType",y.formEncType,y,null),St(r,i,"formMethod",y.formMethod,y,null),St(r,i,"formTarget",y.formTarget,y,null)):(St(r,i,"encType",y.encType,y,null),St(r,i,"method",y.method,y,null),St(r,i,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(s);break}h=Ts(""+h),r.setAttribute(s,h);break;case"onClick":h!=null&&(r.onclick=Zf);break;case"onScroll":h!=null&&Nt("scroll",r);break;case"onScrollEnd":h!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(s=h.__html,s!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}s=Ts(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(s,""+h):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":h===!0?r.setAttribute(s,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(s,h):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(s,h):r.removeAttribute(s);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(s):r.setAttribute(s,h);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),Go(r,"popover",h);break;case"xlinkActuate":Wa(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Wa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Wa(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Wa(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Wa(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Wa(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Wa(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Wa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Wa(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Go(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=xh.get(s)||s,Go(r,s,h))}}function En(r,i,s,h,y,E){switch(s){case"style":Eh(r,h,E);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(s=h.__html,s!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof h=="string"?Ra(r,h):(typeof h=="number"||typeof h=="bigint")&&Ra(r,""+h);break;case"onScroll":h!=null&&Nt("scroll",r);break;case"onScrollEnd":h!=null&&Nt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(y=s.endsWith("Capture"),i=s.slice(2,y?s.length-7:void 0),E=r[on]||null,E=E!=null?E[s]:null,typeof E=="function"&&r.removeEventListener(i,E,y),typeof h=="function")){typeof E!="function"&&E!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,h,y);break e}s in r?r[s]=h:h===!0?r.setAttribute(s,""):Go(r,s,h)}}}function er(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var h=!1,y=!1,E;for(E in s)if(s.hasOwnProperty(E)){var B=s[E];if(B!=null)switch(E){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(r,i,E,B,s,null)}}y&&St(r,i,"srcSet",s.srcSet,s,null),h&&St(r,i,"src",s.src,s,null);return;case"input":Nt("invalid",r);var P=E=B=y=null,$=null,ie=null;for(h in s)if(s.hasOwnProperty(h)){var De=s[h];if(De!=null)switch(h){case"name":y=De;break;case"type":B=De;break;case"checked":$=De;break;case"defaultChecked":ie=De;break;case"value":E=De;break;case"defaultValue":P=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(a(137,i));break;default:St(r,i,h,De,s,null)}}Xo(r,E,P,$,ie,B,y,!1),Es(r);return;case"select":Nt("invalid",r),h=B=E=null;for(y in s)if(s.hasOwnProperty(y)&&(P=s[y],P!=null))switch(y){case"value":E=P;break;case"defaultValue":B=P;break;case"multiple":h=P;default:St(r,i,y,P,s,null)}i=E,s=B,r.multiple=!!h,i!=null?zu(r,!!h,i,!1):s!=null&&zu(r,!!h,s,!0);return;case"textarea":Nt("invalid",r),E=y=h=null;for(B in s)if(s.hasOwnProperty(B)&&(P=s[B],P!=null))switch(B){case"value":h=P;break;case"defaultValue":y=P;break;case"children":E=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:St(r,i,B,P,s,null)}Qo(r,h,y,E),Es(r);return;case"option":for($ in s)if(s.hasOwnProperty($)&&(h=s[$],h!=null))switch($){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:St(r,i,$,h,s,null)}return;case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(h=0;h<co.length;h++)Nt(co[h],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in s)if(s.hasOwnProperty(ie)&&(h=s[ie],h!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(r,i,ie,h,s,null)}return;default:if(Wo(i)){for(De in s)s.hasOwnProperty(De)&&(h=s[De],h!==void 0&&En(r,i,De,h,s,void 0));return}}for(P in s)s.hasOwnProperty(P)&&(h=s[P],h!=null&&St(r,i,P,h,s,null))}function xu(r,i,s,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,E=null,B=null,P=null,$=null,ie=null,De=null;for(Ce in s){var ze=s[Ce];if(s.hasOwnProperty(Ce)&&ze!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":$=ze;default:h.hasOwnProperty(Ce)||St(r,i,Ce,null,h,ze)}}for(var ye in h){var Ce=h[ye];if(ze=s[ye],h.hasOwnProperty(ye)&&(Ce!=null||ze!=null))switch(ye){case"type":E=Ce;break;case"name":y=Ce;break;case"checked":ie=Ce;break;case"defaultChecked":De=Ce;break;case"value":B=Ce;break;case"defaultValue":P=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Ce!==ze&&St(r,i,ye,Ce,h,ze)}}Ko(r,B,P,$,ie,De,E,y);return;case"select":Ce=B=P=ye=null;for(E in s)if($=s[E],s.hasOwnProperty(E)&&$!=null)switch(E){case"value":break;case"multiple":Ce=$;default:h.hasOwnProperty(E)||St(r,i,E,null,h,$)}for(y in h)if(E=h[y],$=s[y],h.hasOwnProperty(y)&&(E!=null||$!=null))switch(y){case"value":ye=E;break;case"defaultValue":P=E;break;case"multiple":B=E;default:E!==$&&St(r,i,y,E,h,$)}i=P,s=B,h=Ce,ye!=null?zu(r,!!s,ye,!1):!!h!=!!s&&(i!=null?zu(r,!!s,i,!0):zu(r,!!s,s?[]:"",!1));return;case"textarea":Ce=ye=null;for(P in s)if(y=s[P],s.hasOwnProperty(P)&&y!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:St(r,i,P,null,h,y)}for(B in h)if(y=h[B],E=s[B],h.hasOwnProperty(B)&&(y!=null||E!=null))switch(B){case"value":ye=y;break;case"defaultValue":Ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==E&&St(r,i,B,y,h,E)}Zo(r,ye,Ce);return;case"option":for(var We in s)if(ye=s[We],s.hasOwnProperty(We)&&ye!=null&&!h.hasOwnProperty(We))switch(We){case"selected":r.selected=!1;break;default:St(r,i,We,null,h,ye)}for($ in h)if(ye=h[$],Ce=s[$],h.hasOwnProperty($)&&ye!==Ce&&(ye!=null||Ce!=null))switch($){case"selected":r.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:St(r,i,$,ye,h,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)ye=s[yt],s.hasOwnProperty(yt)&&ye!=null&&!h.hasOwnProperty(yt)&&St(r,i,yt,null,h,ye);for(ie in h)if(ye=h[ie],Ce=s[ie],h.hasOwnProperty(ie)&&ye!==Ce&&(ye!=null||Ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,i));break;default:St(r,i,ie,ye,h,Ce)}return;default:if(Wo(i)){for(var xn in s)ye=s[xn],s.hasOwnProperty(xn)&&ye!==void 0&&!h.hasOwnProperty(xn)&&En(r,i,xn,void 0,h,ye);for(De in h)ye=h[De],Ce=s[De],!h.hasOwnProperty(De)||ye===Ce||ye===void 0&&Ce===void 0||En(r,i,De,ye,h,Ce);return}}for(var ce in s)ye=s[ce],s.hasOwnProperty(ce)&&ye!=null&&!h.hasOwnProperty(ce)&&St(r,i,ce,null,h,ye);for(ze in h)ye=h[ze],Ce=s[ze],!h.hasOwnProperty(ze)||ye===Ce||ye==null&&Ce==null||St(r,i,ze,ye,h,Ce)}var md=null,yd=null;function Qf(r){return r.nodeType===9?r:r.ownerDocument}function tp(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function ho(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function Vi(){var r=window.event;return r&&r.type==="popstate"?r===bd?!1:(bd=r,!0):(bd=null,!1)}var wd=typeof setTimeout=="function"?setTimeout:void 0,Wf=typeof clearTimeout=="function"?clearTimeout:void 0,gn=typeof Promise=="function"?Promise:void 0,Rn=typeof queueMicrotask=="function"?queueMicrotask:typeof gn<"u"?function(r){return gn.resolve(null).then(r).catch(rp)}:wd;function rp(r){setTimeout(function(){throw r})}function Ed(r,i){var s=i,h=0;do{var y=s.nextSibling;if(r.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(h===0){r.removeChild(y),So(i);return}h--}else s!=="$"&&s!=="$?"&&s!=="$!"||h++;s=y}while(s);So(i)}function xd(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),ys(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function sy(r,i,s,h){for(;r.nodeType===1;){var y=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Lu])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(E=r.getAttribute("rel"),E==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(E!==y.rel||r.getAttribute("href")!==(y.href==null?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(E=r.getAttribute("src"),(E!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&E&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var E=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===E)return r}else return r;if(r=Fa(r.nextSibling),r===null)break}return null}function oy(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Fa(r.nextSibling),r===null))return null;return r}function Fa(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}function ap(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function Sd(r,i,s){switch(i=Qf(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}var vr=new Map,$f=new Set;function Jf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var hi=se.d;se.d={f:jf,r:aa,D:fy,C:cy,L:vy,m:dy,X:Gi,S:up,M:Tt};function jf(){var r=hi.f(),i=Vf();return r||i}function aa(r){var i=fa(r);i!==null&&i.tag===5&&i.type==="form"?dg(i):hi.r(r)}var Va=typeof document>"u"?null:document;function ip(r,i,s){var h=Va;if(h&&typeof i=="string"&&i){var y=Gr(i);y='link[rel="'+r+'"][href="'+y+'"]',typeof s=="string"&&(y+='[crossorigin="'+s+'"]'),$f.has(y)||($f.add(y),r={rel:r,crossOrigin:s,href:i},h.querySelector(y)===null&&(i=h.createElement("link"),er(i,"link",r),cn(i),h.head.appendChild(i)))}}function fy(r){hi.D(r),ip("dns-prefetch",r,null)}function cy(r,i){hi.C(r,i),ip("preconnect",r,i)}function vy(r,i,s){hi.L(r,i,s);var h=Va;if(h&&r&&i){var y='link[rel="preload"][as="'+Gr(i)+'"]';i==="image"&&s&&s.imageSrcSet?(y+='[imagesrcset="'+Gr(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(y+='[imagesizes="'+Gr(s.imageSizes)+'"]')):y+='[href="'+Gr(r)+'"]';var E=y;switch(i){case"style":E=tr(r);break;case"script":E=$l(r)}vr.has(E)||(r=F({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),vr.set(E,r),h.querySelector(y)!==null||i==="style"&&h.querySelector(Wl(E))||i==="script"&&h.querySelector(Jl(E))||(i=h.createElement("link"),er(i,"link",r),cn(i),h.head.appendChild(i)))}}function dy(r,i){hi.m(r,i);var s=Va;if(s&&r){var h=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+Gr(h)+'"][href="'+Gr(r)+'"]',E=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=$l(r)}if(!vr.has(E)&&(r=F({rel:"modulepreload",href:r},i),vr.set(E,r),s.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jl(E)))return}h=s.createElement("link"),er(h,"link",r),cn(h),s.head.appendChild(h)}}}function up(r,i,s){hi.S(r,i,s);var h=Va;if(h&&r){var y=Aa(h).hoistableStyles,E=tr(r);i=i||"default";var B=y.get(E);if(!B){var P={loading:0,preload:null};if(B=h.querySelector(Wl(E)))P.loading=5;else{r=F({rel:"stylesheet",href:r,"data-precedence":i},s),(s=vr.get(E))&&Cd(r,s);var $=B=h.createElement("link");cn($),er($,"link",r),$._p=new Promise(function(ie,De){$.onload=ie,$.onerror=De}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ec(B,i,h)}B={type:"stylesheet",instance:B,count:1,state:P},y.set(E,B)}}}function Gi(r,i){hi.X(r,i);var s=Va;if(s&&r){var h=Aa(s).hoistableScripts,y=$l(r),E=h.get(y);E||(E=s.querySelector(Jl(y)),E||(r=F({src:r,async:!0},i),(i=vr.get(y))&&Ad(r,i),E=s.createElement("script"),cn(E),er(E,"link",r),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(y,E))}}function Tt(r,i){hi.M(r,i);var s=Va;if(s&&r){var h=Aa(s).hoistableScripts,y=$l(r),E=h.get(y);E||(E=s.querySelector(Jl(y)),E||(r=F({src:r,async:!0,type:"module"},i),(i=vr.get(y))&&Ad(r,i),E=s.createElement("script"),cn(E),er(E,"link",r),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(y,E))}}function Td(r,i,s,h){var y=(y=Ue.current)?Jf(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=tr(s.href),s=Aa(y).hoistableStyles,h=s.get(i),h||(h={type:"style",instance:null,count:0,state:null},s.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=tr(s.href);var E=Aa(y).hoistableStyles,B=E.get(r);if(B||(y=y.ownerDocument||y,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(r,B),(E=y.querySelector(Wl(r)))&&!E._p&&(B.instance=E,B.state.loading=5),vr.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vr.set(r,s),E||Zt(y,r,s,B.state))),i&&h===null)throw Error(a(528,""));return B}if(i&&h!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$l(s),s=Aa(y).hoistableScripts,h=s.get(i),h||(h={type:"script",instance:null,count:0,state:null},s.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function tr(r){return'href="'+Gr(r)+'"'}function Wl(r){return'link[rel="stylesheet"]['+r+"]"}function lp(r){return F({},r,{"data-precedence":r.precedence,precedence:null})}function Zt(r,i,s,h){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=r.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),er(i,"link",s),cn(i),r.head.appendChild(i))}function $l(r){return'[src="'+Gr(r)+'"]'}function Jl(r){return"script[async]"+r}function go(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var h=r.querySelector('style[data-href~="'+Gr(s.href)+'"]');if(h)return i.instance=h,cn(h),h;var y=F({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),cn(h),er(h,"style",y),ec(h,s.precedence,r),i.instance=h;case"stylesheet":y=tr(s.href);var E=r.querySelector(Wl(y));if(E)return i.state.loading|=4,i.instance=E,cn(E),E;h=lp(s),(y=vr.get(y))&&Cd(h,y),E=(r.ownerDocument||r).createElement("link"),cn(E);var B=E;return B._p=new Promise(function(P,$){B.onload=P,B.onerror=$}),er(E,"link",h),i.state.loading|=4,ec(E,s.precedence,r),i.instance=E;case"script":return E=$l(s.src),(y=r.querySelector(Jl(E)))?(i.instance=y,cn(y),y):(h=s,(y=vr.get(E))&&(h=F({},s),Ad(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),cn(y),er(y,"link",h),r.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,ec(h,s.precedence,r));return i.instance}function ec(r,i,s){for(var h=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,E=y,B=0;B<h.length;B++){var P=h[B];if(P.dataset.precedence===i)E=P;else if(E!==y)break}E?E.parentNode.insertBefore(r,E.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function Cd(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Ad(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var tc=null;function sp(r,i,s){if(tc===null){var h=new Map,y=tc=new Map;y.set(s,h)}else y=tc,h=y.get(s),h||(h=new Map,y.set(s,h));if(h.has(r))return h;for(h.set(r,null),s=s.getElementsByTagName(r),y=0;y<s.length;y++){var E=s[y];if(!(E[Lu]||E[Bn]||r==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var B=E.getAttribute(i)||"";B=r+B;var P=h.get(B);P?P.push(E):h.set(B,[E])}}return h}function op(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function hy(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fp(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var po=null;function gy(){}function py(r,i,s){if(po===null)throw Error(a(475));var h=po;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var y=tr(s.href),E=r.querySelector(Wl(y));if(E){r=E._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=nc.bind(h),r.then(h,h)),i.state.loading|=4,i.instance=E,cn(E);return}E=r.ownerDocument||r,s=lp(s),(y=vr.get(y))&&Cd(s,y),E=E.createElement("link"),cn(E);var B=E;B._p=new Promise(function(P,$){B.onload=P,B.onerror=$}),er(E,"link",s),i.instance=E}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=nc.bind(h),r.addEventListener("load",i),r.addEventListener("error",i))}}function my(){if(po===null)throw Error(a(475));var r=po;return r.stylesheets&&r.count===0&&Dd(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&Dd(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var jl=null;function Dd(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,jl=new Map,i.forEach(Rd,r),jl=null,nc.call(r))}function Rd(r,i){if(!(i.state.loading&4)){var s=jl.get(r);if(s)var h=s.get(null);else{s=new Map,jl.set(r,s);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<y.length;E++){var B=y[E];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(s.set(B.dataset.precedence,B),h=B)}h&&s.set(null,h)}y=i.instance,B=y.getAttribute("data-precedence"),E=s.get(B)||h,E===h&&s.set(null,y),s.set(B,y),this.count++,h=nc.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),E?E.parentNode.insertBefore(y,E.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),i.state.loading|=4}}var mo={$$typeof:S,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function yy(r,i,s,h,y,E,B,P){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=E,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function cp(r,i,s,h,y,E,B,P,$,ie,De,ze){return r=new yy(r,i,s,B,P,$,ie,ze),i=1,E===!0&&(i|=24),E=ta(3,null,null,i),r.current=E,E.stateNode=r,i=uv(),i.refCount++,r.pooledCache=i,i.refCount++,E.memoizedState={element:h,isDehydrated:s,cache:i},Qs(E),r}function Zn(r){return r?(r=Pu,r):Pu}function xr(r,i,s,h,y,E){y=Zn(y),h.context===null?h.context=y:h.pendingContext=y,h=Ia(i),h.payload={element:s},E=E===void 0?null:E,E!==null&&(h.callback=E),s=$r(r,h,i),s!==null&&(cr(s,r,i),rt(s,r,i))}function vp(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function Md(r,i){vp(r,i),(r=r.alternate)&&vp(r,i)}function dp(r){if(r.tag===13){var i=Ba(r,67108864);i!==null&&cr(i,r,67108864),Md(r,67108864)}}var yo=!0;function by(r,i,s,h){var y=z.T;z.T=null;var E=se.p;try{se.p=2,Bd(r,i,s,h)}finally{se.p=E,z.T=y}}function wy(r,i,s,h){var y=z.T;z.T=null;var E=se.p;try{se.p=8,Bd(r,i,s,h)}finally{se.p=E,z.T=y}}function Bd(r,i,s,h){if(yo){var y=rc(h);if(y===null)pd(r,i,h,ac,s),gp(r,h);else if(xy(y,r,i,s,h))h.stopPropagation();else if(gp(r,h),i&4&&-1<Ey.indexOf(r)){for(;y!==null;){var E=fa(y);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var B=Mn(E.pendingLanes);if(B!==0){var P=E;for(P.pendingLanes|=2,P.entangledLanes|=2;B;){var $=1<<31-qe(B);P.entanglements[1]|=$,B&=~$}qa(E),(wn&6)===0&&(qf=lt()+500,rl(0))}}break;case 13:P=Ba(E,2),P!==null&&cr(P,E,2),Vf(),Md(E,2)}if(E=rc(h),E===null&&pd(r,i,h,ac,s),E===y)break;y=E}y!==null&&h.stopPropagation()}else pd(r,i,h,null,s)}}function rc(r){return r=qc(r),Od(r)}var ac=null;function Od(r){if(ac=null,r=Ei(r),r!==null){var i=j(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=le(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return ac=r,null}function hp(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case Le:return 2;case V:return 8;case fe:case Se:return 32;case he:return 268435456;default:return 32}default:return 32}}var ic=!1,Yi=null,Su=null,Tu=null,bo=new Map,wo=new Map,ia=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(r,i){switch(r){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Su=null;break;case"mouseover":case"mouseout":Tu=null;break;case"pointerover":case"pointerout":bo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(i.pointerId)}}function Eo(r,i,s,h,y,E){return r===null||r.nativeEvent!==E?(r={blockedOn:i,domEventName:s,eventSystemFlags:h,nativeEvent:E,targetContainers:[y]},i!==null&&(i=fa(i),i!==null&&dp(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),r)}function xy(r,i,s,h,y){switch(i){case"focusin":return Yi=Eo(Yi,r,i,s,h,y),!0;case"dragenter":return Su=Eo(Su,r,i,s,h,y),!0;case"mouseover":return Tu=Eo(Tu,r,i,s,h,y),!0;case"pointerover":var E=y.pointerId;return bo.set(E,Eo(bo.get(E)||null,r,i,s,h,y)),!0;case"gotpointercapture":return E=y.pointerId,wo.set(E,Eo(wo.get(E)||null,r,i,s,h,y)),!0}return!1}function pp(r){var i=Ei(r.target);if(i!==null){var s=j(i);if(s!==null){if(i=s.tag,i===13){if(i=le(s),i!==null){r.blockedOn=i,Un(r.priority,function(){if(s.tag===13){var h=ra(),y=Ba(s,h);y!==null&&cr(y,s,h),Md(s,h)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=rc(r.nativeEvent);if(s===null){s=r.nativeEvent;var h=new s.constructor(s.type,s);Hc=h,s.target.dispatchEvent(h),Hc=null}else return i=fa(s),i!==null&&dp(i),r.blockedOn=s,!1;i.shift()}return!0}function _d(r,i,s){xo(r)&&s.delete(i)}function Sy(){ic=!1,Yi!==null&&xo(Yi)&&(Yi=null),Su!==null&&xo(Su)&&(Su=null),Tu!==null&&xo(Tu)&&(Tu=null),bo.forEach(_d),wo.forEach(_d)}function uc(r,i){r.blockedOn===i&&(r.blockedOn=null,ic||(ic=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sy)))}var lc=null;function mp(r){lc!==r&&(lc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lc===r&&(lc=null);for(var i=0;i<r.length;i+=3){var s=r[i],h=r[i+1],y=r[i+2];if(typeof h!="function"){if(Od(h||s)===null)continue;break}var E=fa(s);E!==null&&(r.splice(i,3),i-=3,Fs(E,{pending:!0,data:y,method:s.method,action:h},h,y))}}))}function So(r){function i($){return uc($,r)}Yi!==null&&uc(Yi,r),Su!==null&&uc(Su,r),Tu!==null&&uc(Tu,r),bo.forEach(i),wo.forEach(i);for(var s=0;s<ia.length;s++){var h=ia[s];h.blockedOn===r&&(h.blockedOn=null)}for(;0<ia.length&&(s=ia[0],s.blockedOn===null);)pp(s),s.blockedOn===null&&ia.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(h=0;h<s.length;h+=3){var y=s[h],E=s[h+1],B=y[on]||null;if(typeof E=="function")B||mp(s);else if(B){var P=null;if(E&&E.hasAttribute("formAction")){if(y=E,B=E[on]||null)P=B.formAction;else if(Od(y)!==null)continue}else P=B.action;typeof P=="function"?s[h+1]=P:(s.splice(h,3),h-=3),mp(s)}}}function Ld(r){this._internalRoot=r}sc.prototype.render=Ld.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,h=ra();xr(s,h,r,i,null,null)},sc.prototype.unmount=Ld.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;r.tag===0&&Fi(),xr(r.current,2,null,r,null,null),Vf(),i[wi]=null}};function sc(r){this._internalRoot=r}sc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Vn();r={blockedOn:null,target:r,priority:i};for(var s=0;s<ia.length&&i!==0&&i<ia[s].priority;s++);ia.splice(s,0,r),s===0&&pp(r)}};var yp=e.version;if(yp!=="19.0.0")throw Error(a(527,yp,"19.0.0"));se.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=Z(i),r=r!==null?ne(r):null,r=r===null?null:r.stateNode,r};var Ty={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:Ei,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Ae=oc.inject(Ty),ke=oc}catch{}}return zd.createRoot=function(r,i){if(!u(r))throw Error(a(299));var s=!1,h="",y=Ni,E=hg,B=ki,P=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(E=i.onCaughtError),i.onRecoverableError!==void 0&&(B=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=cp(r,1,!1,null,null,s,h,y,E,B,P,null),r[wi]=i.current,gd(r.nodeType===8?r.parentNode:r),new Ld(i)},zd.hydrateRoot=function(r,i,s){if(!u(r))throw Error(a(299));var h=!1,y="",E=Ni,B=hg,P=ki,$=null,ie=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(B=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&($=s.unstable_transitionCallbacks),s.formState!==void 0&&(ie=s.formState)),i=cp(r,1,!0,i,s??null,h,y,E,B,P,$,ie),i.context=Zn(null),s=i.current,h=ra(),y=Ia(h),y.callback=null,$r(s,y,h),i.current.lanes=h,ur(i,h),qa(i),r[wi]=i.current,gd(r),new sc(i)},zd.version="19.0.0",zd}var $0;function sx(){if($0)return Oy.exports;$0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oy.exports=lx(),Oy.exports}var ox=sx();class at{constructor(e){Fe(this,"details");this.details=e}}var Xa=(n=>(n[n.EDIT=0]="EDIT",n[n.VISUAL=1]="VISUAL",n))(Xa||{}),Gt=(n=>(n[n.GRAMMAR=0]="GRAMMAR",n[n.AUTOMATON=1]="AUTOMATON",n))(Gt||{});class Eb{constructor(){Fe(this,"mode",0)}}let fx=class{constructor(e){Fe(this,"mode",new Eb);Fe(this,"primary");Fe(this,"secondary");Fe(this,"algorithm");this.primary=e,this.primary.mode=this.mode}switchToEditMode(e){if(this.mode.mode===0)return new at("Cannot switch to edit mode when already in edit mode.");this.algorithmDelete(e),this.mode.mode=0}switchToVisualMode(){if(this.mode.mode===1)return new at("Cannot switch to visual mode when already in visual mode.");this.mode.mode=1}transform(e){return this.mode.mode===1?new at("Cannot apply algorithm all at once in visual mode."):new at(`Not implemented. ${e}`)}algorithmStart(e){if(this.mode.mode===0)return new at("Cannot simulate algorithm in edit mode.");if(this.algorithm!==void 0)return new at("Cannot start new algorithm when an algorithm is already in progress.");try{this.algorithm=e,this.secondary=e.init(this.mode)}catch(t){if(t instanceof Error)return new at(t.message)}}algorithmNext(){if(this.mode.mode===0)return new at("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new at("Cannot simulate algorithm step before start.");try{const e=this.algorithm.next();if(e===void 0)return new at("Algorithm is already completed.");if(this.algorithm.outputType===void 0){switch(this.primary.kind){case 0:if(e.command.kind!==0)return new at("Automaton command is not applicable to grammar.");this.primary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new at("Grammar command is not applicable to automaton.");this.primary.automaton.executeCommand(e.command);break}e.command.accept(this.primary.visitor)}else{if(this.secondary===void 0)return new at("Second window does not exist.");switch(this.primary.highlight(e.highlight),this.secondary.kind){case 0:if(e.command.kind!==0)return new at("Automaton command is not applicable to grammar.");this.secondary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new at("Grammar command is not applicable to automaton.");this.secondary.automaton.executeCommand(e.command);break}e.command.accept(this.secondary.visitor)}}catch(e){if(e instanceof Error)return new at(e.message)}}algorithmUndo(){return this.mode.mode===0?new at("Cannot simulate algorithm in edit mode."):this.algorithm===void 0?new at("Cannot undo algorithm step before start."):this.algorithm.undo()}algorithmDelete(e){if(e){if(this.secondary===void 0)return new at("Cannot keep second window, because the window does not exit.");this.primary=this.secondary}this.secondary=void 0,this.algorithm=void 0}};const cx="q₀",vx="Z₀",xb="cy-primary",Sb="cy-secondary";class Tb{constructor(e,t){Fe(this,"stateId");Fe(this,"remainingInput");this.stateId=e,this.remainingInput=t}accept(e){return e.visitFiniteConfiguration(this)}save(){return new dx(this.stateId,this.remainingInput)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput}}class Cb{constructor(e,t,a){Fe(this,"stateId");Fe(this,"remainingInput");Fe(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=a}accept(e){return e.visitPDAConfiguration(this)}save(){return new hx(this.stateId,this.remainingInput,this.stack)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput,this.stack=e.stack}}class dx{constructor(e,t){Fe(this,"stateId");Fe(this,"remainingInput");this.stateId=e,this.remainingInput=t}}class hx{constructor(e,t,a){Fe(this,"stateId");Fe(this,"remainingInput");Fe(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=a}}const gx=(n,e)=>{if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0};class g0{constructor(e,t){Fe(this,"id");Fe(this,"inputChar");this.id=e,this.inputChar=t}get label(){return this.inputChar}equals(e){return e instanceof g0?this.inputChar===e.inputChar:!1}}class tm{constructor(e,t,a,u){Fe(this,"id");Fe(this,"inputChar");Fe(this,"readStackChar");Fe(this,"writeStackWord");this.id=e,this.inputChar=t,this.readStackChar=a,this.writeStackWord=u}get label(){return[this.inputChar,this.readStackChar,this.writeStackWord.join("")].join(",")}equals(e){return e instanceof tm?this.inputChar===e.inputChar&&this.readStackChar===e.readStackChar&&gx(this.writeStackWord,e.writeStackWord):!1}}class px{constructor(e){Fe(this,"automaton");Fe(this,"result");this.automaton=e}visitFiniteConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");const t=e.remainingInput[0];let a;const u=this.automaton.deltaFunctionMatrix[e.stateId];for(const l in u){const f=u[l];for(let c=0;c<f.length;c++)f[c].inputChar===t&&(a=l,this.result=f[c])}if(a===void 0)throw new Error("Step for the symbol doesn't exist in the delta function");return new Tb(a,e.remainingInput.slice(1))}visitPDAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=yi.PDA)throw new Error("Wrong automaton type");const t=e.remainingInput[0],a=e.stack[e.stack.length-1];let u,l;const f=this.automaton.deltaFunctionMatrix[e.stateId];e:for(const c in f){const g=f[c];for(let v=0;v<g.length;v++){const p=g[v];if(p instanceof tm){if(p.inputChar===t&&p.readStackChar===a){u=c,l=p.writeStackWord,this.result=g[v];break e}}else throw new Error("AutomatonType is pushDown but one of its edges isn't")}}if(u===void 0||l===void 0)throw new Error("Step for the (symbol, top of stack) combination in the delta function doesn't exist");{const c=e.stack.slice(0,-1).concat(l);return new Cb(u,e.remainingInput.slice(1),c)}}}class mx{constructor(e){Fe(this,"simulation");Fe(this,"backup");Fe(this,"result");this.simulation=e}saveBackup(){this.backup=this.simulation.configuration.save()}undo(){this.backup&&this.simulation.configuration.restore(this.backup)}getResult(){return this.result}}class Ab extends mx{constructor(e){super(e)}execute(){this.saveBackup();const e=new px(this.simulation.automaton);try{const t=this.simulation.configuration.accept(e);this.simulation.configuration=t,this.result=e.result}catch(t){if(t instanceof Error)return new at(t.message)}}}class J0{constructor(e,t){Fe(this,"automaton");Fe(this,"configuration");Fe(this,"commandHistory");this.automaton=e,this.configuration=t,this.commandHistory=[]}executeCommand(e){const t=e.execute();if(t!==void 0)return t;this.commandHistory.push(e)}undo(){const e=this.commandHistory.pop();if(e===void 0)return new at("Cannot undo because command history is empty.");e.undo()}run(){for(;this.configuration.remainingInput.length>0;){const e=new Ab(this),t=e.execute();if(t!==void 0)throw new Error(t.details);this.commandHistory.push(e)}return this.automaton.finalStateIds.some(e=>this.configuration.stateId===e)}}var Vd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var yx=Vd.exports,j0;function bx(){return j0||(j0=1,function(n,e){(function(){var t,a="4.17.21",u=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",c="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,p="__lodash_placeholder__",m=1,w=2,S=4,x=1,D=2,C=1,T=2,R=4,M=8,O=16,N=32,k=64,L=128,H=256,z=512,F=30,Y="...",G=800,Q=16,X=1,ee=2,K=3,W=1/0,j=9007199254740991,le=17976931348623157e292,I=NaN,Z=4294967295,ne=Z-1,de=Z>>>1,se=[["ary",L],["bind",C],["bindKey",T],["curry",M],["curryRight",O],["flip",z],["partial",N],["partialRight",k],["rearg",H]],we="[object Arguments]",pe="[object Array]",Re="[object AsyncFunction]",xe="[object Boolean]",ve="[object Date]",re="[object DOMException]",be="[object Error]",_e="[object Function]",Ue="[object GeneratorFunction]",Pe="[object Map]",gt="[object Number]",_t="[object Null]",xt="[object Object]",Ge="[object Promise]",Ye="[object Proxy]",Je="[object RegExp]",Qe="[object Set]",je="[object String]",ut="[object Symbol]",lt="[object Undefined]",wt="[object WeakMap]",Le="[object WeakSet]",V="[object ArrayBuffer]",fe="[object DataView]",Se="[object Float32Array]",he="[object Float64Array]",me="[object Int8Array]",Ie="[object Int16Array]",Ae="[object Int32Array]",ke="[object Uint8Array]",et="[object Uint8ClampedArray]",nt="[object Uint16Array]",qe="[object Uint32Array]",vt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,st=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ht=/&(?:amp|lt|gt|quot|#39);/g,Wt=/[&<>"']/g,Mn=RegExp(Ht.source),Wn=RegExp(Wt.source),sn=/<%-([\s\S]+?)%>/g,kn=/<%([\s\S]+?)%>/g,Tn=/<%=([\s\S]+?)%>/g,$n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fn=/^\w*$/,ur=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/[\\^$.*+?()[\]{}|]/g,qr=RegExp(lr.source),Dr=/^\s+/,oa=/\s/,Vn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Un=/\{\n\/\* \[wrapped with (.+)\] \*/,yn=/,? & /,Bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,on=/[()=,{}\[\]\/\s]/,wi=/\\(\\)?/g,ms=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ho=/\w*$/,Uc=/^[-+]0x[0-9a-f]+$/i,qo=/^0b[01]+$/i,Lu=/^\[object .+?Constructor\]$/,ys=/^0o[0-7]+$/i,Ei=/^(?:0|[1-9]\d*)$/,fa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ca=/($^)/,Aa=/['\n\r\u2028\u2029\\]/g,cn="\\ud800-\\udfff",bs="\\u0300-\\u036f",Fo="\\ufe20-\\ufe2f",Gn="\\u20d0-\\u20ff",Da=bs+Fo+Gn,Fr="\\u2700-\\u27bf",Wi="a-z\\xdf-\\xf6\\xf8-\\xff",Rr="\\xac\\xb1\\xd7\\xf7",Vo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wm="\\u2000-\\u206f",Go=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ws="A-Z\\xc0-\\xd6\\xd8-\\xde",Wa="\\ufe0e\\ufe0f",Vr=Rr+Vo+wm+Go,Yo="['’]",Em="["+cn+"]",Es="["+Vr+"]",xs="["+Da+"]",Ss="\\d+",xm="["+Fr+"]",Gr="["+Wi+"]",Ko="[^"+cn+Vr+Ss+Fr+Wi+ws+"]",Xo="\\ud83c[\\udffb-\\udfff]",Ic="(?:"+xs+"|"+Xo+")",zu="[^"+cn+"]",Zo="(?:\\ud83c[\\udde6-\\uddff]){2}",Qo="[\\ud800-\\udbff][\\udc00-\\udfff]",Ra="["+ws+"]",wh="\\u200d",Pc="(?:"+Gr+"|"+Ko+")",Eh="(?:"+Ra+"|"+Ko+")",Wo="(?:"+Yo+"(?:d|ll|m|re|s|t|ve))?",xh="(?:"+Yo+"(?:D|LL|M|RE|S|T|VE))?",Sh=Ic+"?",Ts="["+Wa+"]?",Hc="(?:"+wh+"(?:"+[zu,Zo,Qo].join("|")+")"+Ts+Sh+")*",qc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nu=Ts+Sh+Hc,Th="(?:"+[xm,Zo,Qo].join("|")+")"+Nu,Fc="(?:"+[zu+xs+"?",xs,Zo,Qo,Em].join("|")+")",Ch=RegExp(Yo,"g"),Cs=RegExp(xs,"g"),As=RegExp(Xo+"(?="+Xo+")|"+Fc+Nu,"g"),Ds=RegExp([Ra+"?"+Gr+"+"+Wo+"(?="+[Es,Ra,"$"].join("|")+")",Eh+"+"+xh+"(?="+[Es,Ra+Pc,"$"].join("|")+")",Ra+"?"+Pc+"+"+Wo,Ra+"+"+xh,cl,qc,Ss,Th].join("|"),"g"),$i=RegExp("["+wh+cn+Da+Wa+"]"),Vc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$o=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ah=-1,Jt={};Jt[Se]=Jt[he]=Jt[me]=Jt[Ie]=Jt[Ae]=Jt[ke]=Jt[et]=Jt[nt]=Jt[qe]=!0,Jt[we]=Jt[pe]=Jt[V]=Jt[xe]=Jt[fe]=Jt[ve]=Jt[be]=Jt[_e]=Jt[Pe]=Jt[gt]=Jt[xt]=Jt[Je]=Jt[Qe]=Jt[je]=Jt[wt]=!1;var $t={};$t[we]=$t[pe]=$t[V]=$t[fe]=$t[xe]=$t[ve]=$t[Se]=$t[he]=$t[me]=$t[Ie]=$t[Ae]=$t[Pe]=$t[gt]=$t[xt]=$t[Je]=$t[Qe]=$t[je]=$t[ut]=$t[ke]=$t[et]=$t[nt]=$t[qe]=!0,$t[be]=$t[_e]=$t[wt]=!1;var Dh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ku={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rs=parseFloat,Sm=parseInt,jo=typeof bp=="object"&&bp&&bp.Object===Object&&bp,Gc=typeof self=="object"&&self&&self.Object===Object&&self,On=jo||Gc||Function("return this")(),vl=e&&!e.nodeType&&e,Ji=vl&&!0&&n&&!n.nodeType&&n,Rh=Ji&&Ji.exports===vl,Yc=Rh&&jo.process,va=function(){try{var ue=Ji&&Ji.require&&Ji.require("util").types;return ue||Yc&&Yc.binding&&Yc.binding("util")}catch{}}(),ef=va&&va.isArrayBuffer,Mh=va&&va.isDate,Bh=va&&va.isMap,Oh=va&&va.isRegExp,_h=va&&va.isSet,Lh=va&&va.isTypedArray;function Br(ue,Te,Ee){switch(Ee.length){case 0:return ue.call(Te);case 1:return ue.call(Te,Ee[0]);case 2:return ue.call(Te,Ee[0],Ee[1]);case 3:return ue.call(Te,Ee[0],Ee[1],Ee[2])}return ue.apply(Te,Ee)}function Tm(ue,Te,Ee,Ke){for(var ot=-1,Lt=ue==null?0:ue.length;++ot<Lt;){var _n=ue[ot];Te(Ke,_n,Ee(_n),ue)}return Ke}function da(ue,Te){for(var Ee=-1,Ke=ue==null?0:ue.length;++Ee<Ke&&Te(ue[Ee],Ee,ue)!==!1;);return ue}function Cm(ue,Te){for(var Ee=ue==null?0:ue.length;Ee--&&Te(ue[Ee],Ee,ue)!==!1;);return ue}function zh(ue,Te){for(var Ee=-1,Ke=ue==null?0:ue.length;++Ee<Ke;)if(!Te(ue[Ee],Ee,ue))return!1;return!0}function $a(ue,Te){for(var Ee=-1,Ke=ue==null?0:ue.length,ot=0,Lt=[];++Ee<Ke;){var _n=ue[Ee];Te(_n,Ee,ue)&&(Lt[ot++]=_n)}return Lt}function tf(ue,Te){var Ee=ue==null?0:ue.length;return!!Ee&&dl(ue,Te,0)>-1}function Kc(ue,Te,Ee){for(var Ke=-1,ot=ue==null?0:ue.length;++Ke<ot;)if(Ee(Te,ue[Ke]))return!0;return!1}function vn(ue,Te){for(var Ee=-1,Ke=ue==null?0:ue.length,ot=Array(Ke);++Ee<Ke;)ot[Ee]=Te(ue[Ee],Ee,ue);return ot}function xi(ue,Te){for(var Ee=-1,Ke=Te.length,ot=ue.length;++Ee<Ke;)ue[ot+Ee]=Te[Ee];return ue}function Xc(ue,Te,Ee,Ke){var ot=-1,Lt=ue==null?0:ue.length;for(Ke&&Lt&&(Ee=ue[++ot]);++ot<Lt;)Ee=Te(Ee,ue[ot],ot,ue);return Ee}function Am(ue,Te,Ee,Ke){var ot=ue==null?0:ue.length;for(Ke&&ot&&(Ee=ue[--ot]);ot--;)Ee=Te(Ee,ue[ot],ot,ue);return Ee}function Zc(ue,Te){for(var Ee=-1,Ke=ue==null?0:ue.length;++Ee<Ke;)if(Te(ue[Ee],Ee,ue))return!0;return!1}var Dm=rf("length");function Rm(ue){return ue.split("")}function Mm(ue){return ue.match(Bn)||[]}function Nh(ue,Te,Ee){var Ke;return Ee(ue,function(ot,Lt,_n){if(Te(ot,Lt,_n))return Ke=Lt,!1}),Ke}function nf(ue,Te,Ee,Ke){for(var ot=ue.length,Lt=Ee+(Ke?1:-1);Ke?Lt--:++Lt<ot;)if(Te(ue[Lt],Lt,ue))return Lt;return-1}function dl(ue,Te,Ee){return Te===Te?Lm(ue,Te,Ee):nf(ue,hl,Ee)}function Qc(ue,Te,Ee,Ke){for(var ot=Ee-1,Lt=ue.length;++ot<Lt;)if(Ke(ue[ot],Te))return ot;return-1}function hl(ue){return ue!==ue}function kh(ue,Te){var Ee=ue==null?0:ue.length;return Ee?uf(ue,Te)/Ee:I}function rf(ue){return function(Te){return Te==null?t:Te[ue]}}function af(ue){return function(Te){return ue==null?t:ue[Te]}}function Wc(ue,Te,Ee,Ke,ot){return ot(ue,function(Lt,_n,jt){Ee=Ke?(Ke=!1,Lt):Te(Ee,Lt,_n,jt)}),Ee}function Uh(ue,Te){var Ee=ue.length;for(ue.sort(Te);Ee--;)ue[Ee]=ue[Ee].value;return ue}function uf(ue,Te){for(var Ee,Ke=-1,ot=ue.length;++Ke<ot;){var Lt=Te(ue[Ke]);Lt!==t&&(Ee=Ee===t?Lt:Ee+Lt)}return Ee}function ji(ue,Te){for(var Ee=-1,Ke=Array(ue);++Ee<ue;)Ke[Ee]=Te(Ee);return Ke}function Bm(ue,Te){return vn(Te,function(Ee){return[Ee,ue[Ee]]})}function Ih(ue){return ue&&ue.slice(0,Jc(ue)+1).replace(Dr,"")}function Yr(ue){return function(Te){return ue(Te)}}function lf(ue,Te){return vn(Te,function(Ee){return ue[Ee]})}function gl(ue,Te){return ue.has(Te)}function pl(ue,Te){for(var Ee=-1,Ke=ue.length;++Ee<Ke&&dl(Te,ue[Ee],0)>-1;);return Ee}function ml(ue,Te){for(var Ee=ue.length;Ee--&&dl(Te,ue[Ee],0)>-1;);return Ee}function Om(ue,Te){for(var Ee=ue.length,Ke=0;Ee--;)ue[Ee]===Te&&++Ke;return Ke}var sf=af(Dh),Ph=af(Mr);function Hh(ue){return"\\"+Jo[ue]}function $c(ue,Te){return ue==null?t:ue[Te]}function eu(ue){return $i.test(ue)}function qh(ue){return Vc.test(ue)}function Fh(ue){for(var Te,Ee=[];!(Te=ue.next()).done;)Ee.push(Te.value);return Ee}function of(ue){var Te=-1,Ee=Array(ue.size);return ue.forEach(function(Ke,ot){Ee[++Te]=[ot,Ke]}),Ee}function Vh(ue,Te){return function(Ee){return ue(Te(Ee))}}function tu(ue,Te){for(var Ee=-1,Ke=ue.length,ot=0,Lt=[];++Ee<Ke;){var _n=ue[Ee];(_n===Te||_n===p)&&(ue[Ee]=p,Lt[ot++]=Ee)}return Lt}function ff(ue){var Te=-1,Ee=Array(ue.size);return ue.forEach(function(Ke){Ee[++Te]=Ke}),Ee}function _m(ue){var Te=-1,Ee=Array(ue.size);return ue.forEach(function(Ke){Ee[++Te]=[Ke,Ke]}),Ee}function Lm(ue,Te,Ee){for(var Ke=Ee-1,ot=ue.length;++Ke<ot;)if(ue[Ke]===Te)return Ke;return-1}function Kr(ue,Te,Ee){for(var Ke=Ee+1;Ke--;)if(ue[Ke]===Te)return Ke;return Ke}function Ja(ue){return eu(ue)?Yh(ue):Dm(ue)}function ha(ue){return eu(ue)?jc(ue):Rm(ue)}function Jc(ue){for(var Te=ue.length;Te--&&oa.test(ue.charAt(Te)););return Te}var Gh=af(ku);function Yh(ue){for(var Te=As.lastIndex=0;As.test(ue);)++Te;return Te}function jc(ue){return ue.match(As)||[]}function zm(ue){return ue.match(Ds)||[]}var Nm=function ue(Te){Te=Te==null?On:Ma.defaults(On.Object(),Te,Ma.pick(On,$o));var Ee=Te.Array,Ke=Te.Date,ot=Te.Error,Lt=Te.Function,_n=Te.Math,jt=Te.Object,Si=Te.RegExp,Kh=Te.String,Xr=Te.TypeError,Ms=Ee.prototype,km=Lt.prototype,yl=jt.prototype,cf=Te["__core-js_shared__"],Bs=km.toString,Kt=yl.hasOwnProperty,Xh=0,ga=function(){var o=/[^.]+$/.exec(cf&&cf.keys&&cf.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),pr=yl.toString,bl=Bs.call(jt),ev=On._,vf=Si("^"+Bs.call(Kt).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uu=Rh?Te.Buffer:t,ja=Te.Symbol,Ba=Te.Uint8Array,tv=Uu?Uu.allocUnsafe:t,Iu=Vh(jt.getPrototypeOf,jt),Pu=jt.create,nv=yl.propertyIsEnumerable,mr=Ms.splice,Hu=ja?ja.isConcatSpreadable:t,ei=ja?ja.iterator:t,ti=ja?ja.toStringTag:t,qu=function(){try{var o=Pa(jt,"defineProperty");return o({},"",{}),o}catch{}}(),pa=Te.clearTimeout!==On.clearTimeout&&Te.clearTimeout,ma=Ke&&Ke.now!==On.Date.now&&Ke.now,Fu=Te.setTimeout!==On.setTimeout&&Te.setTimeout,ya=_n.ceil,ba=_n.floor,Ti=jt.getOwnPropertySymbols,Zh=Uu?Uu.isBuffer:t,df=Te.isFinite,rv=Ms.join,yr=Vh(jt.keys,jt),zt=_n.max,mt=_n.min,Oa=Ke.now,ni=Te.parseInt,hf=_n.random,Vu=Ms.reverse,gf=Pa(Te,"DataView"),wl=Pa(Te,"Map"),Gu=Pa(Te,"Promise"),ri=Pa(Te,"Set"),Ci=Pa(Te,"WeakMap"),Ai=Pa(jt,"create"),Os=Ci&&new Ci,nu={},Qh=zr(gf),pf=zr(wl),Wh=zr(Gu),_s=zr(ri),$h=zr(Ci),Di=ja?ja.prototype:t,Ri=Di?Di.valueOf:t,Ls=Di?Di.toString:t;function U(o){if(Rn(o)&&!bt(o)&&!(o instanceof Et)){if(o instanceof Zr)return o;if(Kt.call(o,"__wrapped__"))return Pf(o)}return new Zr(o)}var Mi=function(){function o(){}return function(d){if(!gn(d))return{};if(Pu)return Pu(d);o.prototype=d;var b=new o;return o.prototype=t,b}}();function zs(){}function Zr(o,d){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}U.templateSettings={escape:sn,evaluate:kn,interpolate:Tn,variable:"",imports:{_:U}},U.prototype=zs.prototype,U.prototype.constructor=U,Zr.prototype=Mi(zs.prototype),Zr.prototype.constructor=Zr;function Et(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function Jh(){var o=new Et(this.__wrapped__);return o.__actions__=br(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=br(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=br(this.__views__),o}function El(){if(this.__filtered__){var o=new Et(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function mf(){var o=this.__wrapped__.value(),d=this.__dir__,b=bt(o),A=d<0,_=b?o.length:0,q=pu(0,_,this.__views__),J=q.start,te=q.end,oe=te-J,Me=A?te:J-1,Oe=this.__iteratees__,Ne=Oe.length,Ve=0,$e=mt(oe,this.__takeCount__);if(!b||!A&&_==oe&&$e==oe)return Rf(o,this.__actions__);var dt=[];e:for(;oe--&&Ve<$e;){Me+=d;for(var Mt=-1,ht=o[Me];++Mt<Ne;){var kt=Oe[Mt],Pt=kt.iteratee,Ga=kt.type,ua=Pt(ht);if(Ga==ee)ht=ua;else if(!ua){if(Ga==X)continue e;break e}}dt[Ve++]=ht}return dt}Et.prototype=Mi(zs.prototype),Et.prototype.constructor=Et;function ru(o){var d=-1,b=o==null?0:o.length;for(this.clear();++d<b;){var A=o[d];this.set(A[0],A[1])}}function av(){this.__data__=Ai?Ai(null):{},this.size=0}function iv(o){var d=this.has(o)&&delete this.__data__[o];return this.size-=d?1:0,d}function wa(o){var d=this.__data__;if(Ai){var b=d[o];return b===g?t:b}return Kt.call(d,o)?d[o]:t}function ai(o){var d=this.__data__;return Ai?d[o]!==t:Kt.call(d,o)}function au(o,d){var b=this.__data__;return this.size+=this.has(o)?0:1,b[o]=Ai&&d===t?g:d,this}ru.prototype.clear=av,ru.prototype.delete=iv,ru.prototype.get=wa,ru.prototype.has=ai,ru.prototype.set=au;function ii(o){var d=-1,b=o==null?0:o.length;for(this.clear();++d<b;){var A=o[d];this.set(A[0],A[1])}}function iu(){this.__data__=[],this.size=0}function Bi(o){var d=this.__data__,b=Ku(d,o);if(b<0)return!1;var A=d.length-1;return b==A?d.pop():mr.call(d,b,1),--this.size,!0}function Yn(o){var d=this.__data__,b=Ku(d,o);return b<0?t:d[b][1]}function yf(o){return Ku(this.__data__,o)>-1}function Um(o,d){var b=this.__data__,A=Ku(b,o);return A<0?(++this.size,b.push([o,d])):b[A][1]=d,this}ii.prototype.clear=iu,ii.prototype.delete=Bi,ii.prototype.get=Yn,ii.prototype.has=yf,ii.prototype.set=Um;function Oi(o){var d=-1,b=o==null?0:o.length;for(this.clear();++d<b;){var A=o[d];this.set(A[0],A[1])}}function Im(){this.size=0,this.__data__={hash:new ru,map:new(wl||ii),string:new ru}}function Kn(o){var d=Hl(this,o).delete(o);return this.size-=d?1:0,d}function uv(o){return Hl(this,o).get(o)}function Ns(o){return Hl(this,o).has(o)}function ks(o,d){var b=Hl(this,o),A=b.size;return b.set(o,d),this.size+=b.size==A?0:1,this}Oi.prototype.clear=Im,Oi.prototype.delete=Kn,Oi.prototype.get=uv,Oi.prototype.has=Ns,Oi.prototype.set=ks;function _i(o){var d=-1,b=o==null?0:o.length;for(this.__data__=new Oi;++d<b;)this.add(o[d])}function xl(o){return this.__data__.set(o,g),this}function Sl(o){return this.__data__.has(o)}_i.prototype.add=_i.prototype.push=xl,_i.prototype.has=Sl;function _a(o){var d=this.__data__=new ii(o);this.size=d.size}function jh(){this.__data__=new ii,this.size=0}function Pm(o){var d=this.__data__,b=d.delete(o);return this.size=d.size,b}function eg(o){return this.__data__.get(o)}function Yu(o){return this.__data__.has(o)}function lv(o,d){var b=this.__data__;if(b instanceof ii){var A=b.__data__;if(!wl||A.length<u-1)return A.push([o,d]),this.size=++b.size,this;b=this.__data__=new Oi(A)}return b.set(o,d),this.size=b.size,this}_a.prototype.clear=jh,_a.prototype.delete=Pm,_a.prototype.get=eg,_a.prototype.has=Yu,_a.prototype.set=lv;function Us(o,d){var b=bt(o),A=!b&&Eu(o),_=!b&&!A&&xu(o),q=!b&&!A&&!_&&Va(o),J=b||A||_||q,te=J?ji(o.length,Kh):[],oe=te.length;for(var Me in o)(d||Kt.call(o,Me))&&!(J&&(Me=="length"||_&&(Me=="offset"||Me=="parent")||q&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||Ha(Me,oe)))&&te.push(Me);return te}function sv(o){var d=o.length;return d?o[Df(0,d-1)]:t}function uu(o,d){return js(br(o),Xu(d,0,o.length))}function At(o){return js(br(o))}function Xt(o,d,b){(b!==t&&!Sa(o[d],b)||b===t&&!(d in o))&&Qr(o,d,b)}function dn(o,d,b){var A=o[d];(!(Kt.call(o,d)&&Sa(A,b))||b===t&&!(d in o))&&Qr(o,d,b)}function Ku(o,d){for(var b=o.length;b--;)if(Sa(o[b][0],d))return b;return-1}function Tl(o,d,b,A){return ou(o,function(_,q,J){d(A,_,b(_),J)}),A}function lu(o,d){return o&&za(d,Zn(d),o)}function bf(o,d){return o&&za(d,xr(d),o)}function Qr(o,d,b){d=="__proto__"&&qu?qu(o,d,{configurable:!0,enumerable:!0,value:b,writable:!0}):o[d]=b}function su(o,d){for(var b=-1,A=d.length,_=Ee(A),q=o==null;++b<A;)_[b]=q?t:jl(o,d[b]);return _}function Xu(o,d,b){return o===o&&(b!==t&&(o=o<=b?o:b),d!==t&&(o=o>=d?o:d)),o}function qt(o,d,b,A,_,q){var J,te=d&m,oe=d&w,Me=d&S;if(b&&(J=_?b(o,A,_,q):b(o)),J!==t)return J;if(!gn(o))return o;var Oe=bt(o);if(Oe){if(J=$u(o),!te)return br(o,J)}else{var Ne=Pn(o),Ve=Ne==_e||Ne==Ue;if(xu(o))return Dv(o,te);if(Ne==xt||Ne==we||Ve&&!_){if(J=oe||Ve?{}:Lr(o),!te)return oe?Ks(o,bf(J,o)):mg(o,lu(J,o))}else{if(!$t[Ne])return _?o:{};J=bg(o,Ne,te)}}q||(q=new _a);var $e=q.get(o);if($e)return $e;q.set(o,J),hi(o)?o.forEach(function(ht){J.add(qt(ht,d,b,ht,o,q))}):rp(o)&&o.forEach(function(ht,kt){J.set(kt,qt(ht,d,b,kt,o,q))});var dt=Me?oe?Qs:oi:oe?xr:Zn,Mt=Oe?t:dt(o);return da(Mt||o,function(ht,kt){Mt&&(kt=ht,ht=o[kt]),dn(J,kt,qt(ht,d,b,kt,o,q))}),J}function ov(o){var d=Zn(o);return function(b){return wf(b,o,d)}}function wf(o,d,b){var A=b.length;if(o==null)return!A;for(o=jt(o);A--;){var _=b[A],q=d[_],J=o[_];if(J===t&&!(_ in o)||!q(J))return!1}return!0}function fv(o,d,b){if(typeof o!="function")throw new Xr(f);return fr(function(){o.apply(t,b)},d)}function Cl(o,d,b,A){var _=-1,q=tf,J=!0,te=o.length,oe=[],Me=d.length;if(!te)return oe;b&&(d=vn(d,Yr(b))),A?(q=Kc,J=!1):d.length>=u&&(q=gl,J=!1,d=new _i(d));e:for(;++_<te;){var Oe=o[_],Ne=b==null?Oe:b(Oe);if(Oe=A||Oe!==0?Oe:0,J&&Ne===Ne){for(var Ve=Me;Ve--;)if(d[Ve]===Ne)continue e;oe.push(Oe)}else q(d,Ne,A)||oe.push(Oe)}return oe}var ou=Ov(Ea),Ef=Ov(La,!0);function cv(o,d){var b=!0;return ou(o,function(A,_,q){return b=!!d(A,_,q),b}),b}function Al(o,d,b){for(var A=-1,_=o.length;++A<_;){var q=o[A],J=d(q);if(J!=null&&(te===t?J===J&&!aa(J):b(J,te)))var te=J,oe=q}return oe}function Or(o,d,b,A){var _=o.length;for(b=Tt(b),b<0&&(b=-b>_?0:_+b),A=A===t||A>_?_:Tt(A),A<0&&(A+=_),A=b>A?0:Td(A);b<A;)o[b++]=d;return o}function Ln(o,d){var b=[];return ou(o,function(A,_,q){d(A,_,q)&&b.push(A)}),b}function In(o,d,b,A,_){var q=-1,J=o.length;for(b||(b=Eg),_||(_=[]);++q<J;){var te=o[q];d>0&&b(te)?d>1?In(te,d-1,b,A,_):xi(_,te):A||(_[_.length]=te)}return _}var Zu=_v(),Is=_v(!0);function Ea(o,d){return o&&Zu(o,d,Zn)}function La(o,d){return o&&Is(o,d,Zn)}function Qu(o,d){return $a(d,function(b){return Vi(o[b])})}function Li(o,d){d=Ni(d,o);for(var b=0,A=d.length;o!=null&&b<A;)o=o[wr(d[b++])];return b&&b==A?o:t}function xf(o,d,b){var A=d(o);return bt(o)?A:xi(A,b(o))}function sr(o){return o==null?o===t?lt:_t:ti&&ti in jt(o)?Js(o):Jr(o)}function Sf(o,d){return o>d}function tg(o,d){return o!=null&&Kt.call(o,d)}function ng(o,d){return o!=null&&d in jt(o)}function rg(o,d,b){return o>=mt(d,b)&&o<zt(d,b)}function Tf(o,d,b){for(var A=b?Kc:tf,_=o[0].length,q=o.length,J=q,te=Ee(q),oe=1/0,Me=[];J--;){var Oe=o[J];J&&d&&(Oe=vn(Oe,Yr(d))),oe=mt(Oe.length,oe),te[J]=!b&&(d||_>=120&&Oe.length>=120)?new _i(J&&Oe):t}Oe=o[0];var Ne=-1,Ve=te[0];e:for(;++Ne<_&&Me.length<oe;){var $e=Oe[Ne],dt=d?d($e):$e;if($e=b||$e!==0?$e:0,!(Ve?gl(Ve,dt):A(Me,dt,b))){for(J=q;--J;){var Mt=te[J];if(!(Mt?gl(Mt,dt):A(o[J],dt,b)))continue e}Ve&&Ve.push(dt),Me.push($e)}}return Me}function vv(o,d,b,A){return Ea(o,function(_,q,J){d(A,b(_),q,J)}),A}function Dl(o,d,b){d=Ni(d,o),o=Hv(o,d);var A=o==null?o:o[wr(Er(d))];return A==null?t:Br(A,o,b)}function ag(o){return Rn(o)&&sr(o)==we}function ig(o){return Rn(o)&&sr(o)==V}function ug(o){return Rn(o)&&sr(o)==ve}function Rl(o,d,b,A,_){return o===d?!0:o==null||d==null||!Rn(o)&&!Rn(d)?o!==o&&d!==d:dv(o,d,b,A,Rl,_)}function dv(o,d,b,A,_,q){var J=bt(o),te=bt(d),oe=J?pe:Pn(o),Me=te?pe:Pn(d);oe=oe==we?xt:oe,Me=Me==we?xt:Me;var Oe=oe==xt,Ne=Me==xt,Ve=oe==Me;if(Ve&&xu(o)){if(!xu(d))return!1;J=!0,Oe=!1}if(Ve&&!Oe)return q||(q=new _a),J||Va(o)?gu(o,d,b,A,_,q):or(o,d,oe,b,A,_,q);if(!(b&x)){var $e=Oe&&Kt.call(o,"__wrapped__"),dt=Ne&&Kt.call(d,"__wrapped__");if($e||dt){var Mt=$e?o.value():o,ht=dt?d.value():d;return q||(q=new _a),_(Mt,ht,b,A,q)}}return Ve?(q||(q=new _a),kf(o,d,b,A,_,q)):!1}function lg(o){return Rn(o)&&Pn(o)==Pe}function Cf(o,d,b,A){var _=b.length,q=_,J=!A;if(o==null)return!q;for(o=jt(o);_--;){var te=b[_];if(J&&te[2]?te[1]!==o[te[0]]:!(te[0]in o))return!1}for(;++_<q;){te=b[_];var oe=te[0],Me=o[oe],Oe=te[1];if(J&&te[2]){if(Me===t&&!(oe in o))return!1}else{var Ne=new _a;if(A)var Ve=A(Me,Oe,oe,o,d,Ne);if(!(Ve===t?Rl(Oe,Me,x|D,A,Ne):Ve))return!1}}return!0}function hv(o){if(!gn(o)||Iv(o))return!1;var d=Vi(o)?vf:Lu;return d.test(zr(o))}function sg(o){return Rn(o)&&sr(o)==Je}function og(o){return Rn(o)&&Pn(o)==Qe}function Hm(o){return Rn(o)&&Wf(o.length)&&!!Jt[sr(o)]}function gv(o){return typeof o=="function"?o:o==null?Ft:typeof o=="object"?bt(o)?Af(o[0],o[1]):pv(o):F0(o)}function fu(o){if(!An(o))return yr(o);var d=[];for(var b in jt(o))Kt.call(o,b)&&b!="constructor"&&d.push(b);return d}function fg(o){if(!gn(o))return Hn(o);var d=An(o),b=[];for(var A in o)A=="constructor"&&(d||!Kt.call(o,A))||b.push(A);return b}function Ml(o,d){return o<d}function Ps(o,d){var b=-1,A=St(o)?Ee(o.length):[];return ou(o,function(_,q,J){A[++b]=d(_,q,J)}),A}function pv(o){var d=$s(o);return d.length==1&&d[0][2]?Sg(d[0][0],d[0][1]):function(b){return b===o||Cf(b,o,d)}}function Af(o,d){return ql(o)&&Pv(d)?Sg(wr(o),d):function(b){var A=jl(b,o);return A===t&&A===d?Rd(b,o):Rl(d,A,x|D)}}function Hs(o,d,b,A,_){o!==d&&Zu(d,function(q,J){if(_||(_=new _a),gn(q))cg(o,d,J,b,Hs,A,_);else{var te=A?A(qv(o,J),q,J+"",o,d,_):t;te===t&&(te=q),Xt(o,J,te)}},xr)}function cg(o,d,b,A,_,q,J){var te=qv(o,b),oe=qv(d,b),Me=J.get(oe);if(Me){Xt(o,b,Me);return}var Oe=q?q(te,oe,b+"",o,d,J):t,Ne=Oe===t;if(Ne){var Ve=bt(oe),$e=!Ve&&xu(oe),dt=!Ve&&!$e&&Va(oe);Oe=oe,Ve||$e||dt?bt(te)?Oe=te:En(te)?Oe=br(te):$e?(Ne=!1,Oe=Dv(oe,!0)):dt?(Ne=!1,Oe=Rv(oe,!0)):Oe=[]:vr(oe)||Eu(oe)?(Oe=te,Eu(te)?Oe=Wl(te):(!gn(te)||Vi(te))&&(Oe=Lr(oe))):Ne=!1}Ne&&(J.set(oe,Oe),_(Oe,oe,A,q,J),J.delete(oe)),Xt(o,b,Oe)}function mv(o,d){var b=o.length;if(b)return d+=d<0?b:0,Ha(d,b)?o[d]:t}function yv(o,d,b){d.length?d=vn(d,function(q){return bt(q)?function(J){return Li(J,q.length===1?q[0]:q)}:q}):d=[Ft];var A=-1;d=vn(d,Yr(rt()));var _=Ps(o,function(q,J,te){var oe=vn(d,function(Me){return Me(q)});return{criteria:oe,index:++A,value:q}});return Uh(_,function(q,J){return Jn(q,J,b)})}function bv(o,d){return wv(o,d,function(b,A){return Rd(o,A)})}function wv(o,d,b){for(var A=-1,_=d.length,q={};++A<_;){var J=d[A],te=Li(o,J);b(te,J)&&Bl(q,Ni(J,o),te)}return q}function vg(o){return function(d){return Li(d,o)}}function qs(o,d,b,A){var _=A?Qc:dl,q=-1,J=d.length,te=o;for(o===d&&(d=br(d)),b&&(te=vn(o,Yr(b)));++q<J;)for(var oe=0,Me=d[q],Oe=b?b(Me):Me;(oe=_(te,Oe,oe,A))>-1;)te!==o&&mr.call(te,oe,1),mr.call(o,oe,1);return o}function Ev(o,d){for(var b=o?d.length:0,A=b-1;b--;){var _=d[b];if(b==A||_!==q){var q=_;Ha(_)?mr.call(o,_,1):ui(o,_)}}return o}function Df(o,d){return o+ba(hf()*(d-o+1))}function qm(o,d,b,A){for(var _=-1,q=zt(ya((d-o)/(b||1)),0),J=Ee(q);q--;)J[A?q:++_]=o,o+=b;return J}function Fs(o,d){var b="";if(!o||d<1||d>j)return b;do d%2&&(b+=o),d=ba(d/2),d&&(o+=o);while(d);return b}function Ct(o,d){return jr(fi(o,d,Ft),o+"")}function dg(o){return sv(ia(o))}function xv(o,d){var b=ia(o);return js(b,Xu(d,0,b.length))}function Bl(o,d,b,A){if(!gn(o))return o;d=Ni(d,o);for(var _=-1,q=d.length,J=q-1,te=o;te!=null&&++_<q;){var oe=wr(d[_]),Me=b;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return o;if(_!=J){var Oe=te[oe];Me=A?A(Oe,oe,te):t,Me===t&&(Me=gn(Oe)?Oe:Ha(d[_+1])?[]:{})}dn(te,oe,Me),te=te[oe]}return o}var Sv=Os?function(o,d){return Os.set(o,d),o}:Ft,Fm=qu?function(o,d){return qu(o,"toString",{configurable:!0,enumerable:!1,value:Xe(d),writable:!0})}:Ft;function Vm(o){return js(ia(o))}function Wr(o,d,b){var A=-1,_=o.length;d<0&&(d=-d>_?0:_+d),b=b>_?_:b,b<0&&(b+=_),_=d>b?0:b-d>>>0,d>>>=0;for(var q=Ee(_);++A<_;)q[A]=o[A+d];return q}function Vs(o,d){var b;return ou(o,function(A,_,q){return b=d(A,_,q),!b}),!!b}function Ol(o,d,b){var A=0,_=o==null?A:o.length;if(typeof d=="number"&&d===d&&_<=de){for(;A<_;){var q=A+_>>>1,J=o[q];J!==null&&!aa(J)&&(b?J<=d:J<d)?A=q+1:_=q}return _}return _l(o,d,Ft,b)}function _l(o,d,b,A){var _=0,q=o==null?0:o.length;if(q===0)return 0;d=b(d);for(var J=d!==d,te=d===null,oe=aa(d),Me=d===t;_<q;){var Oe=ba((_+q)/2),Ne=b(o[Oe]),Ve=Ne!==t,$e=Ne===null,dt=Ne===Ne,Mt=aa(Ne);if(J)var ht=A||dt;else Me?ht=dt&&(A||Ve):te?ht=dt&&Ve&&(A||!$e):oe?ht=dt&&Ve&&!$e&&(A||!Mt):$e||Mt?ht=!1:ht=A?Ne<=d:Ne<d;ht?_=Oe+1:q=Oe}return mt(q,ne)}function Tv(o,d){for(var b=-1,A=o.length,_=0,q=[];++b<A;){var J=o[b],te=d?d(J):J;if(!b||!Sa(te,oe)){var oe=te;q[_++]=J===0?0:J}}return q}function Cv(o){return typeof o=="number"?o:aa(o)?I:+o}function Cn(o){if(typeof o=="string")return o;if(bt(o))return vn(o,Cn)+"";if(aa(o))return Ls?Ls.call(o):"";var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}function _r(o,d,b){var A=-1,_=tf,q=o.length,J=!0,te=[],oe=te;if(b)J=!1,_=Kc;else if(q>=u){var Me=d?null:hu(o);if(Me)return ff(Me);J=!1,_=gl,oe=new _i}else oe=d?[]:te;e:for(;++A<q;){var Oe=o[A],Ne=d?d(Oe):Oe;if(Oe=b||Oe!==0?Oe:0,J&&Ne===Ne){for(var Ve=oe.length;Ve--;)if(oe[Ve]===Ne)continue e;d&&oe.push(Ne),te.push(Oe)}else _(oe,Ne,b)||(oe!==te&&oe.push(Ne),te.push(Oe))}return te}function ui(o,d){return d=Ni(d,o),o=Hv(o,d),o==null||delete o[wr(Er(d))]}function cu(o,d,b,A){return Bl(o,d,b(Li(o,d)),A)}function Ll(o,d,b,A){for(var _=o.length,q=A?_:-1;(A?q--:++q<_)&&d(o[q],q,o););return b?Wr(o,A?0:q,A?q+1:_):Wr(o,A?q+1:0,A?_:q)}function Rf(o,d){var b=o;return b instanceof Et&&(b=b.value()),Xc(d,function(A,_){return _.func.apply(_.thisArg,xi([A],_.args))},b)}function Mf(o,d,b){var A=o.length;if(A<2)return A?_r(o[0]):[];for(var _=-1,q=Ee(A);++_<A;)for(var J=o[_],te=-1;++te<A;)te!=_&&(q[_]=Cl(q[_]||J,o[te],d,b));return _r(In(q,1),d,b)}function Av(o,d,b){for(var A=-1,_=o.length,q=d.length,J={};++A<_;){var te=A<q?d[A]:t;b(J,o[A],te)}return J}function zi(o){return En(o)?o:[]}function zl(o){return typeof o=="function"?o:Ft}function Ni(o,d){return bt(o)?o:ql(o,d)?[o]:ci(Zt(o))}var hg=Ct;function ki(o,d,b){var A=o.length;return b=b===t?A:b,!d&&b>=A?o:Wr(o,d,b)}var Gs=pa||function(o){return On.clearTimeout(o)};function Dv(o,d){if(d)return o.slice();var b=o.length,A=tv?tv(b):new o.constructor(b);return o.copy(A),A}function Ys(o){var d=new o.constructor(o.byteLength);return new Ba(d).set(new Ba(o)),d}function gg(o,d){var b=d?Ys(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.byteLength)}function pg(o){var d=new o.constructor(o.source,Ho.exec(o));return d.lastIndex=o.lastIndex,d}function Gm(o){return Ri?jt(Ri.call(o)):{}}function Rv(o,d){var b=d?Ys(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.length)}function Xn(o,d){if(o!==d){var b=o!==t,A=o===null,_=o===o,q=aa(o),J=d!==t,te=d===null,oe=d===d,Me=aa(d);if(!te&&!Me&&!q&&o>d||q&&J&&oe&&!te&&!Me||A&&J&&oe||!b&&oe||!_)return 1;if(!A&&!q&&!Me&&o<d||Me&&b&&_&&!A&&!q||te&&b&&_||!J&&_||!oe)return-1}return 0}function Jn(o,d,b){for(var A=-1,_=o.criteria,q=d.criteria,J=_.length,te=b.length;++A<J;){var oe=Xn(_[A],q[A]);if(oe){if(A>=te)return oe;var Me=b[A];return oe*(Me=="desc"?-1:1)}}return o.index-d.index}function Mv(o,d,b,A){for(var _=-1,q=o.length,J=b.length,te=-1,oe=d.length,Me=zt(q-J,0),Oe=Ee(oe+Me),Ne=!A;++te<oe;)Oe[te]=d[te];for(;++_<J;)(Ne||_<q)&&(Oe[b[_]]=o[_]);for(;Me--;)Oe[te++]=o[_++];return Oe}function Bv(o,d,b,A){for(var _=-1,q=o.length,J=-1,te=b.length,oe=-1,Me=d.length,Oe=zt(q-te,0),Ne=Ee(Oe+Me),Ve=!A;++_<Oe;)Ne[_]=o[_];for(var $e=_;++oe<Me;)Ne[$e+oe]=d[oe];for(;++J<te;)(Ve||_<q)&&(Ne[$e+b[J]]=o[_++]);return Ne}function br(o,d){var b=-1,A=o.length;for(d||(d=Ee(A));++b<A;)d[b]=o[b];return d}function za(o,d,b,A){var _=!b;b||(b={});for(var q=-1,J=d.length;++q<J;){var te=d[q],oe=A?A(b[te],o[te],te,b,o):t;oe===t&&(oe=o[te]),_?Qr(b,te,oe):dn(b,te,oe)}return b}function mg(o,d){return za(o,Uf(o),d)}function Ks(o,d){return za(o,kv(o),d)}function Nl(o,d){return function(b,A){var _=bt(b)?Tm:Tl,q=d?d():{};return _(b,o,rt(A,2),q)}}function Wu(o){return Ct(function(d,b){var A=-1,_=b.length,q=_>1?b[_-1]:t,J=_>2?b[2]:t;for(q=o.length>3&&typeof q=="function"?(_--,q):t,J&&jn(b[0],b[1],J)&&(q=_<3?t:q,_=1),d=jt(d);++A<_;){var te=b[A];te&&o(d,te,A,q)}return d})}function Ov(o,d){return function(b,A){if(b==null)return b;if(!St(b))return o(b,A);for(var _=b.length,q=d?_:-1,J=jt(b);(d?q--:++q<_)&&A(J[q],q,J)!==!1;);return b}}function _v(o){return function(d,b,A){for(var _=-1,q=jt(d),J=A(d),te=J.length;te--;){var oe=J[o?te:++_];if(b(q[oe],oe,q)===!1)break}return d}}function Lv(o,d,b){var A=d&C,_=kl(o);function q(){var J=this&&this!==On&&this instanceof q?_:o;return J.apply(A?b:this,arguments)}return q}function Bf(o){return function(d){d=Zt(d);var b=eu(d)?ha(d):t,A=b?b[0]:d.charAt(0),_=b?ki(b,1).join(""):d.slice(1);return A[o]()+_}}function vu(o){return function(d){return Xc(xn(_d(d).replace(Ch,"")),o,"")}}function kl(o){return function(){var d=arguments;switch(d.length){case 0:return new o;case 1:return new o(d[0]);case 2:return new o(d[0],d[1]);case 3:return new o(d[0],d[1],d[2]);case 4:return new o(d[0],d[1],d[2],d[3]);case 5:return new o(d[0],d[1],d[2],d[3],d[4]);case 6:return new o(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new o(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var b=Mi(o.prototype),A=o.apply(b,d);return gn(A)?A:b}}function zv(o,d,b){var A=kl(o);function _(){for(var q=arguments.length,J=Ee(q),te=q,oe=$r(_);te--;)J[te]=arguments[te];var Me=q<3&&J[0]!==oe&&J[q-1]!==oe?[]:tu(J,oe);if(q-=Me.length,q<b)return du(o,d,Xs,_.placeholder,t,J,Me,t,t,b-q);var Oe=this&&this!==On&&this instanceof _?A:o;return Br(Oe,this,J)}return _}function Of(o){return function(d,b,A){var _=jt(d);if(!St(d)){var q=rt(b,3);d=Zn(d),b=function(te){return q(_[te],te,_)}}var J=o(d,b,A);return J>-1?_[q?d[J]:J]:t}}function _f(o){return si(function(d){var b=d.length,A=b,_=Zr.prototype.thru;for(o&&d.reverse();A--;){var q=d[A];if(typeof q!="function")throw new Xr(f);if(_&&!J&&Ia(q)=="wrapper")var J=new Zr([],!0)}for(A=J?A:b;++A<b;){q=d[A];var te=Ia(q),oe=te=="wrapper"?Ws(q):t;oe&&hn(oe[0])&&oe[1]==(L|M|N|H)&&!oe[4].length&&oe[9]==1?J=J[Ia(oe[0])].apply(J,oe[3]):J=q.length==1&&hn(q)?J[te]():J.thru(q)}return function(){var Me=arguments,Oe=Me[0];if(J&&Me.length==1&&bt(Oe))return J.plant(Oe).value();for(var Ne=0,Ve=b?d[Ne].apply(this,Me):Oe;++Ne<b;)Ve=d[Ne].call(this,Ve);return Ve}})}function Xs(o,d,b,A,_,q,J,te,oe,Me){var Oe=d&L,Ne=d&C,Ve=d&T,$e=d&(M|O),dt=d&z,Mt=Ve?t:kl(o);function ht(){for(var kt=arguments.length,Pt=Ee(kt),Ga=kt;Ga--;)Pt[Ga]=arguments[Ga];if($e)var ua=$r(ht),Ya=Om(Pt,ua);if(A&&(Pt=Mv(Pt,A,_,$e)),q&&(Pt=Bv(Pt,q,J,$e)),kt-=Ya,$e&&kt<Me){var Qn=tu(Pt,ua);return du(o,d,Xs,ht.placeholder,b,Pt,Qn,te,oe,Me-kt)}var Ki=Ne?b:this,al=Ve?Ki[o]:o;return kt=Pt.length,te?Pt=Ag(Pt,te):dt&&kt>1&&Pt.reverse(),Oe&&oe<kt&&(Pt.length=oe),this&&this!==On&&this instanceof ht&&(al=Mt||kl(al)),al.apply(Ki,Pt)}return ht}function Lf(o,d){return function(b,A){return vv(b,o,d(A),{})}}function Zs(o,d){return function(b,A){var _;if(b===t&&A===t)return d;if(b!==t&&(_=b),A!==t){if(_===t)return A;typeof b=="string"||typeof A=="string"?(b=Cn(b),A=Cn(A)):(b=Cv(b),A=Cv(A)),_=o(b,A)}return _}}function Na(o){return si(function(d){return d=vn(d,Yr(rt())),Ct(function(b){var A=this;return o(d,function(_){return Br(_,A,b)})})})}function Ul(o,d){d=d===t?" ":Cn(d);var b=d.length;if(b<2)return b?Fs(d,o):d;var A=Fs(d,ya(o/Ja(d)));return eu(d)?ki(ha(A),0,o).join(""):A.slice(0,o)}function Ym(o,d,b,A){var _=d&C,q=kl(o);function J(){for(var te=-1,oe=arguments.length,Me=-1,Oe=A.length,Ne=Ee(Oe+oe),Ve=this&&this!==On&&this instanceof J?q:o;++Me<Oe;)Ne[Me]=A[Me];for(;oe--;)Ne[Me++]=arguments[++te];return Br(Ve,_?b:this,Ne)}return J}function Nv(o){return function(d,b,A){return A&&typeof A!="number"&&jn(d,b,A)&&(b=A=t),d=Gi(d),b===t?(b=d,d=0):b=Gi(b),A=A===t?d<b?1:-1:Gi(A),qm(d,b,A,o)}}function Il(o){return function(d,b){return typeof d=="string"&&typeof b=="string"||(d=tr(d),b=tr(b)),o(d,b)}}function du(o,d,b,A,_,q,J,te,oe,Me){var Oe=d&M,Ne=Oe?J:t,Ve=Oe?t:J,$e=Oe?q:t,dt=Oe?t:q;d|=Oe?N:k,d&=~(Oe?k:N),d&R||(d&=-4);var Mt=[o,d,_,$e,Ne,dt,Ve,te,oe,Me],ht=b.apply(t,Mt);return hn(o)&&If(ht,Mt),ht.placeholder=A,Fv(ht,o,d)}function ka(o){var d=_n[o];return function(b,A){if(b=tr(b),A=A==null?0:mt(Tt(A),292),A&&df(b)){var _=(Zt(b)+"e").split("e"),q=d(_[0]+"e"+(+_[1]+A));return _=(Zt(q)+"e").split("e"),+(_[0]+"e"+(+_[1]-A))}return d(b)}}var hu=ri&&1/ff(new ri([,-0]))[1]==W?function(o){return new ri(o)}:Dy;function li(o){return function(d){var b=Pn(d);return b==Pe?of(d):b==Qe?_m(d):Bm(d,o(d))}}function Ua(o,d,b,A,_,q,J,te){var oe=d&T;if(!oe&&typeof o!="function")throw new Xr(f);var Me=A?A.length:0;if(Me||(d&=-97,A=_=t),J=J===t?J:zt(Tt(J),0),te=te===t?te:Tt(te),Me-=_?_.length:0,d&k){var Oe=A,Ne=_;A=_=t}var Ve=oe?t:Ws(o),$e=[o,d,b,A,_,Oe,Ne,q,J,te];if(Ve&&Cg($e,Ve),o=$e[0],d=$e[1],b=$e[2],A=$e[3],_=$e[4],te=$e[9]=$e[9]===t?oe?0:o.length:zt($e[9]-Me,0),!te&&d&(M|O)&&(d&=-25),!d||d==C)var dt=Lv(o,d,b);else d==M||d==O?dt=zv(o,d,te):(d==N||d==(C|N))&&!_.length?dt=Ym(o,d,b,A):dt=Xs.apply(t,$e);var Mt=Ve?Sv:If;return Fv(Mt(dt,$e),o,d)}function zf(o,d,b,A){return o===t||Sa(o,yl[b])&&!Kt.call(A,b)?d:o}function Pl(o,d,b,A,_,q){return gn(o)&&gn(d)&&(q.set(d,o),Hs(o,d,t,Pl,q),q.delete(d)),o}function Nf(o){return vr(o)?t:o}function gu(o,d,b,A,_,q){var J=b&x,te=o.length,oe=d.length;if(te!=oe&&!(J&&oe>te))return!1;var Me=q.get(o),Oe=q.get(d);if(Me&&Oe)return Me==d&&Oe==o;var Ne=-1,Ve=!0,$e=b&D?new _i:t;for(q.set(o,d),q.set(d,o);++Ne<te;){var dt=o[Ne],Mt=d[Ne];if(A)var ht=J?A(Mt,dt,Ne,d,o,q):A(dt,Mt,Ne,o,d,q);if(ht!==t){if(ht)continue;Ve=!1;break}if($e){if(!Zc(d,function(kt,Pt){if(!gl($e,Pt)&&(dt===kt||_(dt,kt,b,A,q)))return $e.push(Pt)})){Ve=!1;break}}else if(!(dt===Mt||_(dt,Mt,b,A,q))){Ve=!1;break}}return q.delete(o),q.delete(d),Ve}function or(o,d,b,A,_,q,J){switch(b){case fe:if(o.byteLength!=d.byteLength||o.byteOffset!=d.byteOffset)return!1;o=o.buffer,d=d.buffer;case V:return!(o.byteLength!=d.byteLength||!q(new Ba(o),new Ba(d)));case xe:case ve:case gt:return Sa(+o,+d);case be:return o.name==d.name&&o.message==d.message;case Je:case je:return o==d+"";case Pe:var te=of;case Qe:var oe=A&x;if(te||(te=ff),o.size!=d.size&&!oe)return!1;var Me=J.get(o);if(Me)return Me==d;A|=D,J.set(o,d);var Oe=gu(te(o),te(d),A,_,q,J);return J.delete(o),Oe;case ut:if(Ri)return Ri.call(o)==Ri.call(d)}return!1}function kf(o,d,b,A,_,q){var J=b&x,te=oi(o),oe=te.length,Me=oi(d),Oe=Me.length;if(oe!=Oe&&!J)return!1;for(var Ne=oe;Ne--;){var Ve=te[Ne];if(!(J?Ve in d:Kt.call(d,Ve)))return!1}var $e=q.get(o),dt=q.get(d);if($e&&dt)return $e==d&&dt==o;var Mt=!0;q.set(o,d),q.set(d,o);for(var ht=J;++Ne<oe;){Ve=te[Ne];var kt=o[Ve],Pt=d[Ve];if(A)var Ga=J?A(Pt,kt,Ve,d,o,q):A(kt,Pt,Ve,o,d,q);if(!(Ga===t?kt===Pt||_(kt,Pt,b,A,q):Ga)){Mt=!1;break}ht||(ht=Ve=="constructor")}if(Mt&&!ht){var ua=o.constructor,Ya=d.constructor;ua!=Ya&&"constructor"in o&&"constructor"in d&&!(typeof ua=="function"&&ua instanceof ua&&typeof Ya=="function"&&Ya instanceof Ya)&&(Mt=!1)}return q.delete(o),q.delete(d),Mt}function si(o){return jr(fi(o,t,ta),o+"")}function oi(o){return xf(o,Zn,Uf)}function Qs(o){return xf(o,xr,kv)}var Ws=Os?function(o){return Os.get(o)}:Dy;function Ia(o){for(var d=o.name+"",b=nu[d],A=Kt.call(nu,d)?b.length:0;A--;){var _=b[A],q=_.func;if(q==null||q==o)return _.name}return d}function $r(o){var d=Kt.call(U,"placeholder")?U:o;return d.placeholder}function rt(){var o=U.iteratee||It;return o=o===It?gv:o,arguments.length?o(arguments[0],arguments[1]):o}function Hl(o,d){var b=o.__data__;return Ui(d)?b[typeof d=="string"?"string":"hash"]:b.map}function $s(o){for(var d=Zn(o),b=d.length;b--;){var A=d[b],_=o[A];d[b]=[A,_,Pv(_)]}return d}function Pa(o,d){var b=$c(o,d);return hv(b)?b:t}function Js(o){var d=Kt.call(o,ti),b=o[ti];try{o[ti]=t;var A=!0}catch{}var _=pr.call(o);return A&&(d?o[ti]=b:delete o[ti]),_}var Uf=Ti?function(o){return o==null?[]:(o=jt(o),$a(Ti(o),function(d){return nv.call(o,d)}))}:Ry,kv=Ti?function(o){for(var d=[];o;)xi(d,Uf(o)),o=Iu(o);return d}:Ry,Pn=sr;(gf&&Pn(new gf(new ArrayBuffer(1)))!=fe||wl&&Pn(new wl)!=Pe||Gu&&Pn(Gu.resolve())!=Ge||ri&&Pn(new ri)!=Qe||Ci&&Pn(new Ci)!=wt)&&(Pn=function(o){var d=sr(o),b=d==xt?o.constructor:t,A=b?zr(b):"";if(A)switch(A){case Qh:return fe;case pf:return Pe;case Wh:return Ge;case _s:return Qe;case $h:return wt}return d});function pu(o,d,b){for(var A=-1,_=b.length;++A<_;){var q=b[A],J=q.size;switch(q.type){case"drop":o+=J;break;case"dropRight":d-=J;break;case"take":d=mt(d,o+J);break;case"takeRight":o=zt(o,d-J);break}}return{start:o,end:d}}function yg(o){var d=o.match(Un);return d?d[1].split(yn):[]}function Uv(o,d,b){d=Ni(d,o);for(var A=-1,_=d.length,q=!1;++A<_;){var J=wr(d[A]);if(!(q=o!=null&&b(o,J)))break;o=o[J]}return q||++A!=_?q:(_=o==null?0:o.length,!!_&&Wf(_)&&Ha(J,_)&&(bt(o)||Eu(o)))}function $u(o){var d=o.length,b=new o.constructor(d);return d&&typeof o[0]=="string"&&Kt.call(o,"index")&&(b.index=o.index,b.input=o.input),b}function Lr(o){return typeof o.constructor=="function"&&!An(o)?Mi(Iu(o)):{}}function bg(o,d,b){var A=o.constructor;switch(d){case V:return Ys(o);case xe:case ve:return new A(+o);case fe:return gg(o,b);case Se:case he:case me:case Ie:case Ae:case ke:case et:case nt:case qe:return Rv(o,b);case Pe:return new A;case gt:case je:return new A(o);case Je:return pg(o);case Qe:return new A;case ut:return Gm(o)}}function wg(o,d){var b=d.length;if(!b)return o;var A=b-1;return d[A]=(b>1?"& ":"")+d[A],d=d.join(b>2?", ":" "),o.replace(Vn,`{
/* [wrapped with `+d+`] */
`)}function Eg(o){return bt(o)||Eu(o)||!!(Hu&&o&&o[Hu])}function Ha(o,d){var b=typeof o;return d=d??j,!!d&&(b=="number"||b!="symbol"&&Ei.test(o))&&o>-1&&o%1==0&&o<d}function jn(o,d,b){if(!gn(b))return!1;var A=typeof d;return(A=="number"?St(b)&&Ha(d,b.length):A=="string"&&d in b)?Sa(b[d],o):!1}function ql(o,d){if(bt(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||aa(o)?!0:Fn.test(o)||!$n.test(o)||d!=null&&o in jt(d)}function Ui(o){var d=typeof o;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?o!=="__proto__":o===null}function hn(o){var d=Ia(o),b=U[d];if(typeof b!="function"||!(d in Et.prototype))return!1;if(o===b)return!0;var A=Ws(b);return!!A&&o===A[0]}function Iv(o){return!!ga&&ga in o}var xg=cf?Vi:My;function An(o){var d=o&&o.constructor,b=typeof d=="function"&&d.prototype||yl;return o===b}function Pv(o){return o===o&&!gn(o)}function Sg(o,d){return function(b){return b==null?!1:b[o]===d&&(d!==t||o in jt(b))}}function Tg(o){var d=fo(o,function(A){return b.size===v&&b.clear(),A}),b=d.cache;return d}function Cg(o,d){var b=o[1],A=d[1],_=b|A,q=_<(C|T|L),J=A==L&&b==M||A==L&&b==H&&o[7].length<=d[8]||A==(L|H)&&d[7].length<=d[8]&&b==M;if(!(q||J))return o;A&C&&(o[2]=d[2],_|=b&C?0:R);var te=d[3];if(te){var oe=o[3];o[3]=oe?Mv(oe,te,d[4]):te,o[4]=oe?tu(o[3],p):d[4]}return te=d[5],te&&(oe=o[5],o[5]=oe?Bv(oe,te,d[6]):te,o[6]=oe?tu(o[5],p):d[6]),te=d[7],te&&(o[7]=te),A&L&&(o[8]=o[8]==null?d[8]:mt(o[8],d[8])),o[9]==null&&(o[9]=d[9]),o[0]=d[0],o[1]=_,o}function Hn(o){var d=[];if(o!=null)for(var b in jt(o))d.push(b);return d}function Jr(o){return pr.call(o)}function fi(o,d,b){return d=zt(d===t?o.length-1:d,0),function(){for(var A=arguments,_=-1,q=zt(A.length-d,0),J=Ee(q);++_<q;)J[_]=A[d+_];_=-1;for(var te=Ee(d+1);++_<d;)te[_]=A[_];return te[d]=b(J),Br(o,this,te)}}function Hv(o,d){return d.length<2?o:Li(o,Wr(d,0,-1))}function Ag(o,d){for(var b=o.length,A=mt(d.length,b),_=br(o);A--;){var q=d[A];o[A]=Ha(q,b)?_[q]:t}return o}function qv(o,d){if(!(d==="constructor"&&typeof o[d]=="function")&&d!="__proto__")return o[d]}var If=ea(Sv),fr=Fu||function(o,d){return On.setTimeout(o,d)},jr=ea(Fm);function Fv(o,d,b){var A=d+"";return jr(o,wg(A,Vv(yg(A),b)))}function ea(o){var d=0,b=0;return function(){var A=Oa(),_=Q-(A-b);if(b=A,_>0){if(++d>=G)return arguments[0]}else d=0;return o.apply(t,arguments)}}function js(o,d){var b=-1,A=o.length,_=A-1;for(d=d===t?A:d;++b<d;){var q=Df(b,_),J=o[q];o[q]=o[b],o[b]=J}return o.length=d,o}var ci=Tg(function(o){var d=[];return o.charCodeAt(0)===46&&d.push(""),o.replace(ur,function(b,A,_,q){d.push(_?q.replace(wi,"$1"):A||b)}),d});function wr(o){if(typeof o=="string"||aa(o))return o;var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}function zr(o){if(o!=null){try{return Bs.call(o)}catch{}try{return o+""}catch{}}return""}function Vv(o,d){return da(se,function(b){var A="_."+b[0];d&b[1]&&!tf(o,A)&&o.push(A)}),o.sort()}function Pf(o){if(o instanceof Et)return o.clone();var d=new Zr(o.__wrapped__,o.__chain__);return d.__actions__=br(o.__actions__),d.__index__=o.__index__,d.__values__=o.__values__,d}function mu(o,d,b){(b?jn(o,d,b):d===t)?d=1:d=zt(Tt(d),0);var A=o==null?0:o.length;if(!A||d<1)return[];for(var _=0,q=0,J=Ee(ya(A/d));_<A;)J[q++]=Wr(o,_,_+=d);return J}function Dg(o){for(var d=-1,b=o==null?0:o.length,A=0,_=[];++d<b;){var q=o[d];q&&(_[A++]=q)}return _}function Fl(){var o=arguments.length;if(!o)return[];for(var d=Ee(o-1),b=arguments[0],A=o;A--;)d[A-1]=arguments[A];return xi(bt(b)?br(b):[b],In(d,1))}var eo=Ct(function(o,d){return En(o)?Cl(o,In(d,1,En,!0)):[]}),to=Ct(function(o,d){var b=Er(d);return En(b)&&(b=t),En(o)?Cl(o,In(d,1,En,!0),rt(b,2)):[]}),Vl=Ct(function(o,d){var b=Er(d);return En(b)&&(b=t),En(o)?Cl(o,In(d,1,En,!0),t,b):[]});function Rg(o,d,b){var A=o==null?0:o.length;return A?(d=b||d===t?1:Tt(d),Wr(o,d<0?0:d,A)):[]}function Mg(o,d,b){var A=o==null?0:o.length;return A?(d=b||d===t?1:Tt(d),d=A-d,Wr(o,0,d<0?0:d)):[]}function no(o,d){return o&&o.length?Ll(o,rt(d,3),!0,!0):[]}function Bg(o,d){return o&&o.length?Ll(o,rt(d,3),!0):[]}function Hf(o,d,b,A){var _=o==null?0:o.length;return _?(b&&typeof b!="number"&&jn(o,d,b)&&(b=0,A=_),Or(o,d,b,A)):[]}function Gv(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var _=b==null?0:Tt(b);return _<0&&(_=zt(A+_,0)),nf(o,rt(d,3),_)}function Og(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var _=A-1;return b!==t&&(_=Tt(b),_=b<0?zt(A+_,0):mt(_,A-1)),nf(o,rt(d,3),_,!0)}function ta(o){var d=o==null?0:o.length;return d?In(o,1):[]}function Yv(o){var d=o==null?0:o.length;return d?In(o,W):[]}function yu(o,d){var b=o==null?0:o.length;return b?(d=d===t?1:Tt(d),In(o,d)):[]}function _g(o){for(var d=-1,b=o==null?0:o.length,A={};++d<b;){var _=o[d];A[_[0]]=_[1]}return A}function ro(o){return o&&o.length?o[0]:t}function Ju(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var _=b==null?0:Tt(b);return _<0&&(_=zt(A+_,0)),dl(o,d,_)}function Lg(o){var d=o==null?0:o.length;return d?Wr(o,0,-1):[]}var Kv=Ct(function(o){var d=vn(o,zi);return d.length&&d[0]===o[0]?Tf(d):[]}),Xv=Ct(function(o){var d=Er(o),b=vn(o,zi);return d===Er(b)?d=t:b.pop(),b.length&&b[0]===o[0]?Tf(b,rt(d,2)):[]}),Ii=Ct(function(o){var d=Er(o),b=vn(o,zi);return d=typeof d=="function"?d:t,d&&b.pop(),b.length&&b[0]===o[0]?Tf(b,t,d):[]});function zg(o,d){return o==null?"":rv.call(o,d)}function Er(o){var d=o==null?0:o.length;return d?o[d-1]:t}function ao(o,d,b){var A=o==null?0:o.length;if(!A)return-1;var _=A;return b!==t&&(_=Tt(b),_=_<0?zt(A+_,0):mt(_,A-1)),d===d?Kr(o,d,_):nf(o,hl,_,!0)}function bn(o,d){return o&&o.length?mv(o,Tt(d)):t}var Km=Ct(Ng);function Ng(o,d){return o&&o.length&&d&&d.length?qs(o,d):o}function kg(o,d,b){return o&&o.length&&d&&d.length?qs(o,d,rt(b,2)):o}function Xm(o,d,b){return o&&o.length&&d&&d.length?qs(o,d,t,b):o}var Zm=si(function(o,d){var b=o==null?0:o.length,A=su(o,d);return Ev(o,vn(d,function(_){return Ha(_,b)?+_:_}).sort(Xn)),A});function wn(o,d){var b=[];if(!(o&&o.length))return b;var A=-1,_=[],q=o.length;for(d=rt(d,3);++A<q;){var J=o[A];d(J,A,o)&&(b.push(J),_.push(A))}return Ev(o,_),b}function en(o){return o==null?o:Vu.call(o)}function Bt(o,d,b){var A=o==null?0:o.length;return A?(b&&typeof b!="number"&&jn(o,d,b)?(d=0,b=A):(d=d==null?0:Tt(d),b=b===t?A:Tt(b)),Wr(o,d,b)):[]}function Ut(o,d){return Ol(o,d)}function an(o,d,b){return _l(o,d,rt(b,2))}function na(o,d){var b=o==null?0:o.length;if(b){var A=Ol(o,d);if(A<b&&Sa(o[A],d))return A}return-1}function Pi(o,d){return Ol(o,d,!0)}function Gl(o,d,b){return _l(o,d,rt(b,2),!0)}function Zv(o,d){var b=o==null?0:o.length;if(b){var A=Ol(o,d,!0)-1;if(Sa(o[A],d))return A}return-1}function Hi(o){return o&&o.length?Tv(o):[]}function Dn(o,d){return o&&o.length?Tv(o,rt(d,2)):[]}function bu(o){var d=o==null?0:o.length;return d?Wr(o,1,d):[]}function ju(o,d,b){return o&&o.length?(d=b||d===t?1:Tt(d),Wr(o,0,d<0?0:d)):[]}function Qv(o,d,b){var A=o==null?0:o.length;return A?(d=b||d===t?1:Tt(d),d=A-d,Wr(o,d<0?0:d,A)):[]}function xa(o,d){return o&&o.length?Ll(o,rt(d,3),!1,!0):[]}function Yl(o,d){return o&&o.length?Ll(o,rt(d,3)):[]}var io=Ct(function(o){return _r(In(o,1,En,!0))}),vi=Ct(function(o){var d=Er(o);return En(d)&&(d=t),_r(In(o,1,En,!0),rt(d,2))}),Wv=Ct(function(o){var d=Er(o);return d=typeof d=="function"?d:t,_r(In(o,1,En,!0),t,d)});function $v(o){return o&&o.length?_r(o):[]}function qf(o,d){return o&&o.length?_r(o,rt(d,2)):[]}function Ff(o,d){return d=typeof d=="function"?d:t,o&&o.length?_r(o,t,d):[]}function di(o){if(!(o&&o.length))return[];var d=0;return o=$a(o,function(b){if(En(b))return d=zt(b.length,d),!0}),ji(d,function(b){return vn(o,rf(b))})}function uo(o,d){if(!(o&&o.length))return[];var b=di(o);return d==null?b:vn(b,function(A){return Br(d,t,A)})}var el=Ct(function(o,d){return En(o)?Cl(o,d):[]}),lo=Ct(function(o){return Mf($a(o,En))}),Jv=Ct(function(o){var d=Er(o);return En(d)&&(d=t),Mf($a(o,En),rt(d,2))}),jv=Ct(function(o){var d=Er(o);return d=typeof d=="function"?d:t,Mf($a(o,En),t,d)}),so=Ct(di);function ed(o,d){return Av(o||[],d||[],dn)}function ra(o,d){return Av(o||[],d||[],Bl)}var Ug=Ct(function(o){var d=o.length,b=d>1?o[d-1]:t;return b=typeof b=="function"?(o.pop(),b):t,uo(o,b)});function cr(o){var d=U(o);return d.__chain__=!0,d}function Ig(o,d){return d(o),o}function Kl(o,d){return d(o)}var Pg=si(function(o){var d=o.length,b=d?o[0]:0,A=this.__wrapped__,_=function(q){return su(q,o)};return d>1||this.__actions__.length||!(A instanceof Et)||!Ha(b)?this.thru(_):(A=A.slice(b,+b+(d?1:0)),A.__actions__.push({func:Kl,args:[_],thisArg:t}),new Zr(A,this.__chain__).thru(function(q){return d&&!q.length&&q.push(t),q}))});function Qm(){return cr(this)}function qi(){return new Zr(this.value(),this.__chain__)}function Vf(){this.__values__===t&&(this.__values__=up(this.value()));var o=this.__index__>=this.__values__.length,d=o?t:this.__values__[this.__index__++];return{done:o,value:d}}function td(){return this}function Xl(o){for(var d,b=this;b instanceof zs;){var A=Pf(b);A.__index__=0,A.__values__=t,d?_.__wrapped__=A:d=A;var _=A;b=b.__wrapped__}return _.__wrapped__=o,d}function Hg(){var o=this.__wrapped__;if(o instanceof Et){var d=o;return this.__actions__.length&&(d=new Et(this)),d=d.reverse(),d.__actions__.push({func:Kl,args:[en],thisArg:t}),new Zr(d,this.__chain__)}return this.thru(en)}function qg(){return Rf(this.__wrapped__,this.__actions__)}var Fg=Nl(function(o,d,b){Kt.call(o,b)?++o[b]:Qr(o,b,1)});function nd(o,d,b){var A=bt(o)?zh:cv;return b&&jn(o,d,b)&&(d=t),A(o,rt(d,3))}function rd(o,d){var b=bt(o)?$a:Ln;return b(o,rt(d,3))}var Wm=Of(Gv),$m=Of(Og);function Jm(o,d){return In(Fi(o,d),1)}function Vg(o,d){return In(Fi(o,d),W)}function Gg(o,d,b){return b=b===t?1:Tt(b),In(Fi(o,d),b)}function tl(o,d){var b=bt(o)?da:ou;return b(o,rt(d,3))}function oo(o,d){var b=bt(o)?Cm:Ef;return b(o,rt(d,3))}var Yg=Nl(function(o,d,b){Kt.call(o,b)?o[b].push(d):Qr(o,b,[d])});function Kg(o,d,b,A){o=St(o)?o:ia(o),b=b&&!A?Tt(b):0;var _=o.length;return b<0&&(b=zt(_+b,0)),jf(o)?b<=_&&o.indexOf(d,b)>-1:!!_&&dl(o,d,b)>-1}var jm=Ct(function(o,d,b){var A=-1,_=typeof d=="function",q=St(o)?Ee(o.length):[];return ou(o,function(J){q[++A]=_?Br(d,J,b):Dl(J,d,b)}),q}),Xg=Nl(function(o,d,b){Qr(o,b,d)});function Fi(o,d){var b=bt(o)?vn:Ps;return b(o,rt(d,3))}function Zg(o,d,b,A){return o==null?[]:(bt(d)||(d=d==null?[]:[d]),b=A?t:b,bt(b)||(b=b==null?[]:[b]),yv(o,d,b))}var rn=Nl(function(o,d,b){o[b?0:1].push(d)},function(){return[[],[]]});function ad(o,d,b){var A=bt(o)?Xc:Wc,_=arguments.length<3;return A(o,rt(d,4),b,_,ou)}function ey(o,d,b){var A=bt(o)?Am:Wc,_=arguments.length<3;return A(o,rt(d,4),b,_,Ef)}function Qg(o,d){var b=bt(o)?$a:Ln;return b(o,Yf(rt(d,3)))}function ty(o){var d=bt(o)?sv:dg;return d(o)}function ny(o,d,b){(b?jn(o,d,b):d===t)?d=1:d=Tt(d);var A=bt(o)?uu:xv;return A(o,d)}function ry(o){var d=bt(o)?At:Vm;return d(o)}function Gf(o){if(o==null)return 0;if(St(o))return jf(o)?Ja(o):o.length;var d=Pn(o);return d==Pe||d==Qe?o.size:fu(o).length}function Zl(o,d,b){var A=bt(o)?Zc:Vs;return b&&jn(o,d,b)&&(d=t),A(o,rt(d,3))}var id=Ct(function(o,d){if(o==null)return[];var b=d.length;return b>1&&jn(o,d[0],d[1])?d=[]:b>2&&jn(d[0],d[1],d[2])&&(d=[d[0]]),yv(o,In(d,1),[])}),nl=ma||function(){return On.Date.now()};function ud(o,d){if(typeof d!="function")throw new Xr(f);return o=Tt(o),function(){if(--o<1)return d.apply(this,arguments)}}function wu(o,d,b){return d=b?t:d,d=o&&d==null?o.length:d,Ua(o,L,t,t,t,t,d)}function qa(o,d){var b;if(typeof d!="function")throw new Xr(f);return o=Tt(o),function(){return--o>0&&(b=d.apply(this,arguments)),o<=1&&(d=t),b}}var rl=Ct(function(o,d,b){var A=C;if(b.length){var _=tu(b,$r(rl));A|=N}return Ua(o,A,d,b,_)}),Wg=Ct(function(o,d,b){var A=C|T;if(b.length){var _=tu(b,$r(Wg));A|=N}return Ua(d,A,o,b,_)});function ld(o,d,b){d=b?t:d;var A=Ua(o,M,t,t,t,t,t,d);return A.placeholder=ld.placeholder,A}function sd(o,d,b){d=b?t:d;var A=Ua(o,O,t,t,t,t,t,d);return A.placeholder=sd.placeholder,A}function od(o,d,b){var A,_,q,J,te,oe,Me=0,Oe=!1,Ne=!1,Ve=!0;if(typeof o!="function")throw new Xr(f);d=tr(d)||0,gn(b)&&(Oe=!!b.leading,Ne="maxWait"in b,q=Ne?zt(tr(b.maxWait)||0,d):q,Ve="trailing"in b?!!b.trailing:Ve);function $e(Qn){var Ki=A,al=_;return A=_=t,Me=Qn,J=o.apply(al,Ki),J}function dt(Qn){return Me=Qn,te=fr(kt,d),Oe?$e(Qn):J}function Mt(Qn){var Ki=Qn-oe,al=Qn-Me,V0=d-Ki;return Ne?mt(V0,q-al):V0}function ht(Qn){var Ki=Qn-oe,al=Qn-Me;return oe===t||Ki>=d||Ki<0||Ne&&al>=q}function kt(){var Qn=nl();if(ht(Qn))return Pt(Qn);te=fr(kt,Mt(Qn))}function Pt(Qn){return te=t,Ve&&A?$e(Qn):(A=_=t,J)}function Ga(){te!==t&&Gs(te),Me=0,A=oe=_=te=t}function ua(){return te===t?J:Pt(nl())}function Ya(){var Qn=nl(),Ki=ht(Qn);if(A=arguments,_=this,oe=Qn,Ki){if(te===t)return dt(oe);if(Ne)return Gs(te),te=fr(kt,d),$e(oe)}return te===t&&(te=fr(kt,d)),J}return Ya.cancel=Ga,Ya.flush=ua,Ya}var ay=Ct(function(o,d){return fv(o,1,d)}),fd=Ct(function(o,d,b){return fv(o,tr(d)||0,b)});function $g(o){return Ua(o,z)}function fo(o,d){if(typeof o!="function"||d!=null&&typeof d!="function")throw new Xr(f);var b=function(){var A=arguments,_=d?d.apply(this,A):A[0],q=b.cache;if(q.has(_))return q.get(_);var J=o.apply(this,A);return b.cache=q.set(_,J)||q,J};return b.cache=new(fo.Cache||Oi),b}fo.Cache=Oi;function Yf(o){if(typeof o!="function")throw new Xr(f);return function(){var d=arguments;switch(d.length){case 0:return!o.call(this);case 1:return!o.call(this,d[0]);case 2:return!o.call(this,d[0],d[1]);case 3:return!o.call(this,d[0],d[1],d[2])}return!o.apply(this,d)}}function cd(o){return qa(2,o)}var vd=hg(function(o,d){d=d.length==1&&bt(d[0])?vn(d[0],Yr(rt())):vn(In(d,1),Yr(rt()));var b=d.length;return Ct(function(A){for(var _=-1,q=mt(A.length,b);++_<q;)A[_]=d[_].call(this,A[_]);return Br(o,this,A)})}),dd=Ct(function(o,d){var b=tu(d,$r(dd));return Ua(o,N,t,d,b)}),Jg=Ct(function(o,d){var b=tu(d,$r(Jg));return Ua(o,k,t,d,b)}),co=si(function(o,d){return Ua(o,H,t,t,t,d)});function iy(o,d){if(typeof o!="function")throw new Xr(f);return d=d===t?d:Tt(d),Ct(o,d)}function jg(o,d){if(typeof o!="function")throw new Xr(f);return d=d==null?0:zt(Tt(d),0),Ct(function(b){var A=b[d],_=ki(b,0,d);return A&&xi(_,A),Br(o,this,_)})}function Nt(o,d,b){var A=!0,_=!0;if(typeof o!="function")throw new Xr(f);return gn(b)&&(A="leading"in b?!!b.leading:A,_="trailing"in b?!!b.trailing:_),od(o,d,{leading:A,maxWait:d,trailing:_})}function hd(o){return wu(o,1)}function Kf(o,d){return dd(zl(d),o)}function gd(){if(!arguments.length)return[];var o=arguments[0];return bt(o)?o:[o]}function ep(o){return qt(o,S)}function pd(o,d){return d=typeof d=="function"?d:t,qt(o,S,d)}function vo(o){return qt(o,m|S)}function Xf(o,d){return d=typeof d=="function"?d:t,qt(o,m|S,d)}function Ql(o,d){return d==null||wf(o,d,Zn(d))}function Sa(o,d){return o===d||o!==o&&d!==d}var uy=Il(Sf),ly=Il(function(o,d){return o>=d}),Eu=ag(function(){return arguments}())?ag:function(o){return Rn(o)&&Kt.call(o,"callee")&&!nv.call(o,"callee")},bt=Ee.isArray,Zf=ef?Yr(ef):ig;function St(o){return o!=null&&Wf(o.length)&&!Vi(o)}function En(o){return Rn(o)&&St(o)}function er(o){return o===!0||o===!1||Rn(o)&&sr(o)==xe}var xu=Zh||My,md=Mh?Yr(Mh):ug;function yd(o){return Rn(o)&&o.nodeType===1&&!vr(o)}function Qf(o){if(o==null)return!0;if(St(o)&&(bt(o)||typeof o=="string"||typeof o.splice=="function"||xu(o)||Va(o)||Eu(o)))return!o.length;var d=Pn(o);if(d==Pe||d==Qe)return!o.size;if(An(o))return!fu(o).length;for(var b in o)if(Kt.call(o,b))return!1;return!0}function tp(o,d){return Rl(o,d)}function np(o,d,b){b=typeof b=="function"?b:t;var A=b?b(o,d):t;return A===t?Rl(o,d,t,b):!!A}function ho(o){if(!Rn(o))return!1;var d=sr(o);return d==be||d==re||typeof o.message=="string"&&typeof o.name=="string"&&!vr(o)}function bd(o){return typeof o=="number"&&df(o)}function Vi(o){if(!gn(o))return!1;var d=sr(o);return d==_e||d==Ue||d==Re||d==Ye}function wd(o){return typeof o=="number"&&o==Tt(o)}function Wf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=j}function gn(o){var d=typeof o;return o!=null&&(d=="object"||d=="function")}function Rn(o){return o!=null&&typeof o=="object"}var rp=Bh?Yr(Bh):lg;function Ed(o,d){return o===d||Cf(o,d,$s(d))}function xd(o,d,b){return b=typeof b=="function"?b:t,Cf(o,d,$s(d),b)}function sy(o){return Sd(o)&&o!=+o}function oy(o){if(xg(o))throw new ot(l);return hv(o)}function Fa(o){return o===null}function ap(o){return o==null}function Sd(o){return typeof o=="number"||Rn(o)&&sr(o)==gt}function vr(o){if(!Rn(o)||sr(o)!=xt)return!1;var d=Iu(o);if(d===null)return!0;var b=Kt.call(d,"constructor")&&d.constructor;return typeof b=="function"&&b instanceof b&&Bs.call(b)==bl}var $f=Oh?Yr(Oh):sg;function Jf(o){return wd(o)&&o>=-9007199254740991&&o<=j}var hi=_h?Yr(_h):og;function jf(o){return typeof o=="string"||!bt(o)&&Rn(o)&&sr(o)==je}function aa(o){return typeof o=="symbol"||Rn(o)&&sr(o)==ut}var Va=Lh?Yr(Lh):Hm;function ip(o){return o===t}function fy(o){return Rn(o)&&Pn(o)==wt}function cy(o){return Rn(o)&&sr(o)==Le}var vy=Il(Ml),dy=Il(function(o,d){return o<=d});function up(o){if(!o)return[];if(St(o))return jf(o)?ha(o):br(o);if(ei&&o[ei])return Fh(o[ei]());var d=Pn(o),b=d==Pe?of:d==Qe?ff:ia;return b(o)}function Gi(o){if(!o)return o===0?o:0;if(o=tr(o),o===W||o===-1/0){var d=o<0?-1:1;return d*le}return o===o?o:0}function Tt(o){var d=Gi(o),b=d%1;return d===d?b?d-b:d:0}function Td(o){return o?Xu(Tt(o),0,Z):0}function tr(o){if(typeof o=="number")return o;if(aa(o))return I;if(gn(o)){var d=typeof o.valueOf=="function"?o.valueOf():o;o=gn(d)?d+"":d}if(typeof o!="string")return o===0?o:+o;o=Ih(o);var b=qo.test(o);return b||ys.test(o)?Sm(o.slice(2),b?2:8):Uc.test(o)?I:+o}function Wl(o){return za(o,xr(o))}function lp(o){return o?Xu(Tt(o),-9007199254740991,j):o===0?o:0}function Zt(o){return o==null?"":Cn(o)}var $l=Wu(function(o,d){if(An(d)||St(d)){za(d,Zn(d),o);return}for(var b in d)Kt.call(d,b)&&dn(o,b,d[b])}),Jl=Wu(function(o,d){za(d,xr(d),o)}),go=Wu(function(o,d,b,A){za(d,xr(d),o,A)}),ec=Wu(function(o,d,b,A){za(d,Zn(d),o,A)}),Cd=si(su);function Ad(o,d){var b=Mi(o);return d==null?b:lu(b,d)}var tc=Ct(function(o,d){o=jt(o);var b=-1,A=d.length,_=A>2?d[2]:t;for(_&&jn(d[0],d[1],_)&&(A=1);++b<A;)for(var q=d[b],J=xr(q),te=-1,oe=J.length;++te<oe;){var Me=J[te],Oe=o[Me];(Oe===t||Sa(Oe,yl[Me])&&!Kt.call(o,Me))&&(o[Me]=q[Me])}return o}),sp=Ct(function(o){return o.push(t,Pl),Br(yo,t,o)});function op(o,d){return Nh(o,rt(d,3),Ea)}function hy(o,d){return Nh(o,rt(d,3),La)}function fp(o,d){return o==null?o:Zu(o,rt(d,3),xr)}function po(o,d){return o==null?o:Is(o,rt(d,3),xr)}function gy(o,d){return o&&Ea(o,rt(d,3))}function py(o,d){return o&&La(o,rt(d,3))}function my(o){return o==null?[]:Qu(o,Zn(o))}function nc(o){return o==null?[]:Qu(o,xr(o))}function jl(o,d,b){var A=o==null?t:Li(o,d);return A===t?b:A}function Dd(o,d){return o!=null&&Uv(o,d,tg)}function Rd(o,d){return o!=null&&Uv(o,d,ng)}var mo=Lf(function(o,d,b){d!=null&&typeof d.toString!="function"&&(d=pr.call(d)),o[d]=b},Xe(Ft)),yy=Lf(function(o,d,b){d!=null&&typeof d.toString!="function"&&(d=pr.call(d)),Kt.call(o,d)?o[d].push(b):o[d]=[b]},rt),cp=Ct(Dl);function Zn(o){return St(o)?Us(o):fu(o)}function xr(o){return St(o)?Us(o,!0):fg(o)}function vp(o,d){var b={};return d=rt(d,3),Ea(o,function(A,_,q){Qr(b,d(A,_,q),A)}),b}function Md(o,d){var b={};return d=rt(d,3),Ea(o,function(A,_,q){Qr(b,_,d(A,_,q))}),b}var dp=Wu(function(o,d,b){Hs(o,d,b)}),yo=Wu(function(o,d,b,A){Hs(o,d,b,A)}),by=si(function(o,d){var b={};if(o==null)return b;var A=!1;d=vn(d,function(q){return q=Ni(q,o),A||(A=q.length>1),q}),za(o,Qs(o),b),A&&(b=qt(b,m|w|S,Nf));for(var _=d.length;_--;)ui(b,d[_]);return b});function wy(o,d){return rc(o,Yf(rt(d)))}var Bd=si(function(o,d){return o==null?{}:bv(o,d)});function rc(o,d){if(o==null)return{};var b=vn(Qs(o),function(A){return[A]});return d=rt(d),wv(o,b,function(A,_){return d(A,_[0])})}function ac(o,d,b){d=Ni(d,o);var A=-1,_=d.length;for(_||(_=1,o=t);++A<_;){var q=o==null?t:o[wr(d[A])];q===t&&(A=_,q=b),o=Vi(q)?q.call(o):q}return o}function Od(o,d,b){return o==null?o:Bl(o,d,b)}function hp(o,d,b,A){return A=typeof A=="function"?A:t,o==null?o:Bl(o,d,b,A)}var ic=li(Zn),Yi=li(xr);function Su(o,d,b){var A=bt(o),_=A||xu(o)||Va(o);if(d=rt(d,4),b==null){var q=o&&o.constructor;_?b=A?new q:[]:gn(o)?b=Vi(q)?Mi(Iu(o)):{}:b={}}return(_?da:Ea)(o,function(J,te,oe){return d(b,J,te,oe)}),b}function Tu(o,d){return o==null?!0:ui(o,d)}function bo(o,d,b){return o==null?o:cu(o,d,zl(b))}function wo(o,d,b,A){return A=typeof A=="function"?A:t,o==null?o:cu(o,d,zl(b),A)}function ia(o){return o==null?[]:lf(o,Zn(o))}function Ey(o){return o==null?[]:lf(o,xr(o))}function gp(o,d,b){return b===t&&(b=d,d=t),b!==t&&(b=tr(b),b=b===b?b:0),d!==t&&(d=tr(d),d=d===d?d:0),Xu(tr(o),d,b)}function Eo(o,d,b){return d=Gi(d),b===t?(b=d,d=0):b=Gi(b),o=tr(o),rg(o,d,b)}function xy(o,d,b){if(b&&typeof b!="boolean"&&jn(o,d,b)&&(d=b=t),b===t&&(typeof d=="boolean"?(b=d,d=t):typeof o=="boolean"&&(b=o,o=t)),o===t&&d===t?(o=0,d=1):(o=Gi(o),d===t?(d=o,o=0):d=Gi(d)),o>d){var A=o;o=d,d=A}if(b||o%1||d%1){var _=hf();return mt(o+_*(d-o+Rs("1e-"+((_+"").length-1))),d)}return Df(o,d)}var pp=vu(function(o,d,b){return d=d.toLowerCase(),o+(b?xo(d):d)});function xo(o){return yt(Zt(o).toLowerCase())}function _d(o){return o=Zt(o),o&&o.replace(fa,sf).replace(Cs,"")}function Sy(o,d,b){o=Zt(o),d=Cn(d);var A=o.length;b=b===t?A:Xu(Tt(b),0,A);var _=b;return b-=d.length,b>=0&&o.slice(b,_)==d}function uc(o){return o=Zt(o),o&&Wn.test(o)?o.replace(Wt,Ph):o}function lc(o){return o=Zt(o),o&&qr.test(o)?o.replace(lr,"\\$&"):o}var mp=vu(function(o,d,b){return o+(b?"-":"")+d.toLowerCase()}),So=vu(function(o,d,b){return o+(b?" ":"")+d.toLowerCase()}),Ld=Bf("toLowerCase");function sc(o,d,b){o=Zt(o),d=Tt(d);var A=d?Ja(o):0;if(!d||A>=d)return o;var _=(d-A)/2;return Ul(ba(_),b)+o+Ul(ya(_),b)}function yp(o,d,b){o=Zt(o),d=Tt(d);var A=d?Ja(o):0;return d&&A<d?o+Ul(d-A,b):o}function Ty(o,d,b){o=Zt(o),d=Tt(d);var A=d?Ja(o):0;return d&&A<d?Ul(d-A,b)+o:o}function oc(o,d,b){return b||d==null?d=0:d&&(d=+d),ni(Zt(o).replace(Dr,""),d||0)}function r(o,d,b){return(b?jn(o,d,b):d===t)?d=1:d=Tt(d),Fs(Zt(o),d)}function i(){var o=arguments,d=Zt(o[0]);return o.length<3?d:d.replace(o[1],o[2])}var s=vu(function(o,d,b){return o+(b?"_":"")+d.toLowerCase()});function h(o,d,b){return b&&typeof b!="number"&&jn(o,d,b)&&(d=b=t),b=b===t?Z:b>>>0,b?(o=Zt(o),o&&(typeof d=="string"||d!=null&&!$f(d))&&(d=Cn(d),!d&&eu(o))?ki(ha(o),0,b):o.split(d,b)):[]}var y=vu(function(o,d,b){return o+(b?" ":"")+yt(d)});function E(o,d,b){return o=Zt(o),b=b==null?0:Xu(Tt(b),0,o.length),d=Cn(d),o.slice(b,b+d.length)==d}function B(o,d,b){var A=U.templateSettings;b&&jn(o,d,b)&&(d=t),o=Zt(o),d=go({},d,A,zf);var _=go({},d.imports,A.imports,zf),q=Zn(_),J=lf(_,q),te,oe,Me=0,Oe=d.interpolate||ca,Ne="__p += '",Ve=Si((d.escape||ca).source+"|"+Oe.source+"|"+(Oe===Tn?ms:ca).source+"|"+(d.evaluate||ca).source+"|$","g"),$e="//# sourceURL="+(Kt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ah+"]")+`
`;o.replace(Ve,function(ht,kt,Pt,Ga,ua,Ya){return Pt||(Pt=Ga),Ne+=o.slice(Me,Ya).replace(Aa,Hh),kt&&(te=!0,Ne+=`' +
__e(`+kt+`) +
'`),ua&&(oe=!0,Ne+=`';
`+ua+`;
__p += '`),Pt&&(Ne+=`' +
((__t = (`+Pt+`)) == null ? '' : __t) +
'`),Me=Ya+ht.length,ht}),Ne+=`';
`;var dt=Kt.call(d,"variable")&&d.variable;if(!dt)Ne=`with (obj) {
`+Ne+`
}
`;else if(on.test(dt))throw new ot(c);Ne=(oe?Ne.replace(vt,""):Ne).replace(pt,"$1").replace(st,"$1;"),Ne="function("+(dt||"obj")+`) {
`+(dt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var Mt=ce(function(){return Lt(q,$e+"return "+Ne).apply(t,J)});if(Mt.source=Ne,ho(Mt))throw Mt;return Mt}function P(o){return Zt(o).toLowerCase()}function $(o){return Zt(o).toUpperCase()}function ie(o,d,b){if(o=Zt(o),o&&(b||d===t))return Ih(o);if(!o||!(d=Cn(d)))return o;var A=ha(o),_=ha(d),q=pl(A,_),J=ml(A,_)+1;return ki(A,q,J).join("")}function De(o,d,b){if(o=Zt(o),o&&(b||d===t))return o.slice(0,Jc(o)+1);if(!o||!(d=Cn(d)))return o;var A=ha(o),_=ml(A,ha(d))+1;return ki(A,0,_).join("")}function ze(o,d,b){if(o=Zt(o),o&&(b||d===t))return o.replace(Dr,"");if(!o||!(d=Cn(d)))return o;var A=ha(o),_=pl(A,ha(d));return ki(A,_).join("")}function ye(o,d){var b=F,A=Y;if(gn(d)){var _="separator"in d?d.separator:_;b="length"in d?Tt(d.length):b,A="omission"in d?Cn(d.omission):A}o=Zt(o);var q=o.length;if(eu(o)){var J=ha(o);q=J.length}if(b>=q)return o;var te=b-Ja(A);if(te<1)return A;var oe=J?ki(J,0,te).join(""):o.slice(0,te);if(_===t)return oe+A;if(J&&(te+=oe.length-te),$f(_)){if(o.slice(te).search(_)){var Me,Oe=oe;for(_.global||(_=Si(_.source,Zt(Ho.exec(_))+"g")),_.lastIndex=0;Me=_.exec(Oe);)var Ne=Me.index;oe=oe.slice(0,Ne===t?te:Ne)}}else if(o.indexOf(Cn(_),te)!=te){var Ve=oe.lastIndexOf(_);Ve>-1&&(oe=oe.slice(0,Ve))}return oe+A}function Ce(o){return o=Zt(o),o&&Mn.test(o)?o.replace(Ht,Gh):o}var We=vu(function(o,d,b){return o+(b?" ":"")+d.toUpperCase()}),yt=Bf("toUpperCase");function xn(o,d,b){return o=Zt(o),d=b?t:d,d===t?qh(o)?zm(o):Mm(o):o.match(d)||[]}var ce=Ct(function(o,d){try{return Br(o,t,d)}catch(b){return ho(b)?b:new ot(b)}}),ae=si(function(o,d){return da(d,function(b){b=wr(b),Qr(o,b,rl(o[b],o))}),o});function ge(o){var d=o==null?0:o.length,b=rt();return o=d?vn(o,function(A){if(typeof A[1]!="function")throw new Xr(f);return[b(A[0]),A[1]]}):[],Ct(function(A){for(var _=-1;++_<d;){var q=o[_];if(Br(q[0],this,A))return Br(q[1],this,A)}})}function Be(o){return ov(qt(o,m))}function Xe(o){return function(){return o}}function Rt(o,d){return o==null||o!==o?d:o}var tt=_f(),ft=_f(!0);function Ft(o){return o}function It(o){return gv(typeof o=="function"?o:qt(o,m))}function Cu(o){return pv(qt(o,m))}function Cy(o,d){return Af(o,qt(d,m))}var SE=Ct(function(o,d){return function(b){return Dl(b,o,d)}}),TE=Ct(function(o,d){return function(b){return Dl(o,b,d)}});function Ay(o,d,b){var A=Zn(d),_=Qu(d,A);b==null&&!(gn(d)&&(_.length||!A.length))&&(b=d,d=o,o=this,_=Qu(d,Zn(d)));var q=!(gn(b)&&"chain"in b)||!!b.chain,J=Vi(o);return da(_,function(te){var oe=d[te];o[te]=oe,J&&(o.prototype[te]=function(){var Me=this.__chain__;if(q||Me){var Oe=o(this.__wrapped__),Ne=Oe.__actions__=br(this.__actions__);return Ne.push({func:oe,args:arguments,thisArg:o}),Oe.__chain__=Me,Oe}return oe.apply(o,xi([this.value()],arguments))})}),o}function CE(){return On._===this&&(On._=ev),this}function Dy(){}function AE(o){return o=Tt(o),Ct(function(d){return mv(d,o)})}var DE=Na(vn),RE=Na(zh),ME=Na(Zc);function F0(o){return ql(o)?rf(wr(o)):vg(o)}function BE(o){return function(d){return o==null?t:Li(o,d)}}var OE=Nv(),_E=Nv(!0);function Ry(){return[]}function My(){return!1}function LE(){return{}}function zE(){return""}function NE(){return!0}function kE(o,d){if(o=Tt(o),o<1||o>j)return[];var b=Z,A=mt(o,Z);d=rt(d),o-=Z;for(var _=ji(A,d);++b<o;)d(b);return _}function UE(o){return bt(o)?vn(o,wr):aa(o)?[o]:br(ci(Zt(o)))}function IE(o){var d=++Xh;return Zt(o)+d}var PE=Zs(function(o,d){return o+d},0),HE=ka("ceil"),qE=Zs(function(o,d){return o/d},1),FE=ka("floor");function VE(o){return o&&o.length?Al(o,Ft,Sf):t}function GE(o,d){return o&&o.length?Al(o,rt(d,2),Sf):t}function YE(o){return kh(o,Ft)}function KE(o,d){return kh(o,rt(d,2))}function XE(o){return o&&o.length?Al(o,Ft,Ml):t}function ZE(o,d){return o&&o.length?Al(o,rt(d,2),Ml):t}var QE=Zs(function(o,d){return o*d},1),WE=ka("round"),$E=Zs(function(o,d){return o-d},0);function JE(o){return o&&o.length?uf(o,Ft):0}function jE(o,d){return o&&o.length?uf(o,rt(d,2)):0}return U.after=ud,U.ary=wu,U.assign=$l,U.assignIn=Jl,U.assignInWith=go,U.assignWith=ec,U.at=Cd,U.before=qa,U.bind=rl,U.bindAll=ae,U.bindKey=Wg,U.castArray=gd,U.chain=cr,U.chunk=mu,U.compact=Dg,U.concat=Fl,U.cond=ge,U.conforms=Be,U.constant=Xe,U.countBy=Fg,U.create=Ad,U.curry=ld,U.curryRight=sd,U.debounce=od,U.defaults=tc,U.defaultsDeep=sp,U.defer=ay,U.delay=fd,U.difference=eo,U.differenceBy=to,U.differenceWith=Vl,U.drop=Rg,U.dropRight=Mg,U.dropRightWhile=no,U.dropWhile=Bg,U.fill=Hf,U.filter=rd,U.flatMap=Jm,U.flatMapDeep=Vg,U.flatMapDepth=Gg,U.flatten=ta,U.flattenDeep=Yv,U.flattenDepth=yu,U.flip=$g,U.flow=tt,U.flowRight=ft,U.fromPairs=_g,U.functions=my,U.functionsIn=nc,U.groupBy=Yg,U.initial=Lg,U.intersection=Kv,U.intersectionBy=Xv,U.intersectionWith=Ii,U.invert=mo,U.invertBy=yy,U.invokeMap=jm,U.iteratee=It,U.keyBy=Xg,U.keys=Zn,U.keysIn=xr,U.map=Fi,U.mapKeys=vp,U.mapValues=Md,U.matches=Cu,U.matchesProperty=Cy,U.memoize=fo,U.merge=dp,U.mergeWith=yo,U.method=SE,U.methodOf=TE,U.mixin=Ay,U.negate=Yf,U.nthArg=AE,U.omit=by,U.omitBy=wy,U.once=cd,U.orderBy=Zg,U.over=DE,U.overArgs=vd,U.overEvery=RE,U.overSome=ME,U.partial=dd,U.partialRight=Jg,U.partition=rn,U.pick=Bd,U.pickBy=rc,U.property=F0,U.propertyOf=BE,U.pull=Km,U.pullAll=Ng,U.pullAllBy=kg,U.pullAllWith=Xm,U.pullAt=Zm,U.range=OE,U.rangeRight=_E,U.rearg=co,U.reject=Qg,U.remove=wn,U.rest=iy,U.reverse=en,U.sampleSize=ny,U.set=Od,U.setWith=hp,U.shuffle=ry,U.slice=Bt,U.sortBy=id,U.sortedUniq=Hi,U.sortedUniqBy=Dn,U.split=h,U.spread=jg,U.tail=bu,U.take=ju,U.takeRight=Qv,U.takeRightWhile=xa,U.takeWhile=Yl,U.tap=Ig,U.throttle=Nt,U.thru=Kl,U.toArray=up,U.toPairs=ic,U.toPairsIn=Yi,U.toPath=UE,U.toPlainObject=Wl,U.transform=Su,U.unary=hd,U.union=io,U.unionBy=vi,U.unionWith=Wv,U.uniq=$v,U.uniqBy=qf,U.uniqWith=Ff,U.unset=Tu,U.unzip=di,U.unzipWith=uo,U.update=bo,U.updateWith=wo,U.values=ia,U.valuesIn=Ey,U.without=el,U.words=xn,U.wrap=Kf,U.xor=lo,U.xorBy=Jv,U.xorWith=jv,U.zip=so,U.zipObject=ed,U.zipObjectDeep=ra,U.zipWith=Ug,U.entries=ic,U.entriesIn=Yi,U.extend=Jl,U.extendWith=go,Ay(U,U),U.add=PE,U.attempt=ce,U.camelCase=pp,U.capitalize=xo,U.ceil=HE,U.clamp=gp,U.clone=ep,U.cloneDeep=vo,U.cloneDeepWith=Xf,U.cloneWith=pd,U.conformsTo=Ql,U.deburr=_d,U.defaultTo=Rt,U.divide=qE,U.endsWith=Sy,U.eq=Sa,U.escape=uc,U.escapeRegExp=lc,U.every=nd,U.find=Wm,U.findIndex=Gv,U.findKey=op,U.findLast=$m,U.findLastIndex=Og,U.findLastKey=hy,U.floor=FE,U.forEach=tl,U.forEachRight=oo,U.forIn=fp,U.forInRight=po,U.forOwn=gy,U.forOwnRight=py,U.get=jl,U.gt=uy,U.gte=ly,U.has=Dd,U.hasIn=Rd,U.head=ro,U.identity=Ft,U.includes=Kg,U.indexOf=Ju,U.inRange=Eo,U.invoke=cp,U.isArguments=Eu,U.isArray=bt,U.isArrayBuffer=Zf,U.isArrayLike=St,U.isArrayLikeObject=En,U.isBoolean=er,U.isBuffer=xu,U.isDate=md,U.isElement=yd,U.isEmpty=Qf,U.isEqual=tp,U.isEqualWith=np,U.isError=ho,U.isFinite=bd,U.isFunction=Vi,U.isInteger=wd,U.isLength=Wf,U.isMap=rp,U.isMatch=Ed,U.isMatchWith=xd,U.isNaN=sy,U.isNative=oy,U.isNil=ap,U.isNull=Fa,U.isNumber=Sd,U.isObject=gn,U.isObjectLike=Rn,U.isPlainObject=vr,U.isRegExp=$f,U.isSafeInteger=Jf,U.isSet=hi,U.isString=jf,U.isSymbol=aa,U.isTypedArray=Va,U.isUndefined=ip,U.isWeakMap=fy,U.isWeakSet=cy,U.join=zg,U.kebabCase=mp,U.last=Er,U.lastIndexOf=ao,U.lowerCase=So,U.lowerFirst=Ld,U.lt=vy,U.lte=dy,U.max=VE,U.maxBy=GE,U.mean=YE,U.meanBy=KE,U.min=XE,U.minBy=ZE,U.stubArray=Ry,U.stubFalse=My,U.stubObject=LE,U.stubString=zE,U.stubTrue=NE,U.multiply=QE,U.nth=bn,U.noConflict=CE,U.noop=Dy,U.now=nl,U.pad=sc,U.padEnd=yp,U.padStart=Ty,U.parseInt=oc,U.random=xy,U.reduce=ad,U.reduceRight=ey,U.repeat=r,U.replace=i,U.result=ac,U.round=WE,U.runInContext=ue,U.sample=ty,U.size=Gf,U.snakeCase=s,U.some=Zl,U.sortedIndex=Ut,U.sortedIndexBy=an,U.sortedIndexOf=na,U.sortedLastIndex=Pi,U.sortedLastIndexBy=Gl,U.sortedLastIndexOf=Zv,U.startCase=y,U.startsWith=E,U.subtract=$E,U.sum=JE,U.sumBy=jE,U.template=B,U.times=kE,U.toFinite=Gi,U.toInteger=Tt,U.toLength=Td,U.toLower=P,U.toNumber=tr,U.toSafeInteger=lp,U.toString=Zt,U.toUpper=$,U.trim=ie,U.trimEnd=De,U.trimStart=ze,U.truncate=ye,U.unescape=Ce,U.uniqueId=IE,U.upperCase=We,U.upperFirst=yt,U.each=tl,U.eachRight=oo,U.first=ro,Ay(U,function(){var o={};return Ea(U,function(d,b){Kt.call(U.prototype,b)||(o[b]=d)}),o}(),{chain:!1}),U.VERSION=a,da(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){U[o].placeholder=U}),da(["drop","take"],function(o,d){Et.prototype[o]=function(b){b=b===t?1:zt(Tt(b),0);var A=this.__filtered__&&!d?new Et(this):this.clone();return A.__filtered__?A.__takeCount__=mt(b,A.__takeCount__):A.__views__.push({size:mt(b,Z),type:o+(A.__dir__<0?"Right":"")}),A},Et.prototype[o+"Right"]=function(b){return this.reverse()[o](b).reverse()}}),da(["filter","map","takeWhile"],function(o,d){var b=d+1,A=b==X||b==K;Et.prototype[o]=function(_){var q=this.clone();return q.__iteratees__.push({iteratee:rt(_,3),type:b}),q.__filtered__=q.__filtered__||A,q}}),da(["head","last"],function(o,d){var b="take"+(d?"Right":"");Et.prototype[o]=function(){return this[b](1).value()[0]}}),da(["initial","tail"],function(o,d){var b="drop"+(d?"":"Right");Et.prototype[o]=function(){return this.__filtered__?new Et(this):this[b](1)}}),Et.prototype.compact=function(){return this.filter(Ft)},Et.prototype.find=function(o){return this.filter(o).head()},Et.prototype.findLast=function(o){return this.reverse().find(o)},Et.prototype.invokeMap=Ct(function(o,d){return typeof o=="function"?new Et(this):this.map(function(b){return Dl(b,o,d)})}),Et.prototype.reject=function(o){return this.filter(Yf(rt(o)))},Et.prototype.slice=function(o,d){o=Tt(o);var b=this;return b.__filtered__&&(o>0||d<0)?new Et(b):(o<0?b=b.takeRight(-o):o&&(b=b.drop(o)),d!==t&&(d=Tt(d),b=d<0?b.dropRight(-d):b.take(d-o)),b)},Et.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Et.prototype.toArray=function(){return this.take(Z)},Ea(Et.prototype,function(o,d){var b=/^(?:filter|find|map|reject)|While$/.test(d),A=/^(?:head|last)$/.test(d),_=U[A?"take"+(d=="last"?"Right":""):d],q=A||/^find/.test(d);_&&(U.prototype[d]=function(){var J=this.__wrapped__,te=A?[1]:arguments,oe=J instanceof Et,Me=te[0],Oe=oe||bt(J),Ne=function(kt){var Pt=_.apply(U,xi([kt],te));return A&&Ve?Pt[0]:Pt};Oe&&b&&typeof Me=="function"&&Me.length!=1&&(oe=Oe=!1);var Ve=this.__chain__,$e=!!this.__actions__.length,dt=q&&!Ve,Mt=oe&&!$e;if(!q&&Oe){J=Mt?J:new Et(this);var ht=o.apply(J,te);return ht.__actions__.push({func:Kl,args:[Ne],thisArg:t}),new Zr(ht,Ve)}return dt&&Mt?o.apply(this,te):(ht=this.thru(Ne),dt?A?ht.value()[0]:ht.value():ht)})}),da(["pop","push","shift","sort","splice","unshift"],function(o){var d=Ms[o],b=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",A=/^(?:pop|shift)$/.test(o);U.prototype[o]=function(){var _=arguments;if(A&&!this.__chain__){var q=this.value();return d.apply(bt(q)?q:[],_)}return this[b](function(J){return d.apply(bt(J)?J:[],_)})}}),Ea(Et.prototype,function(o,d){var b=U[d];if(b){var A=b.name+"";Kt.call(nu,A)||(nu[A]=[]),nu[A].push({name:d,func:b})}}),nu[Xs(t,T).name]=[{name:"wrapper",func:t}],Et.prototype.clone=Jh,Et.prototype.reverse=El,Et.prototype.value=mf,U.prototype.at=Pg,U.prototype.chain=Qm,U.prototype.commit=qi,U.prototype.next=Vf,U.prototype.plant=Xl,U.prototype.reverse=Hg,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=qg,U.prototype.first=U.prototype.head,ei&&(U.prototype[ei]=td),U},Ma=Nm();Ji?((Ji.exports=Ma)._=Ma,vl._=Ma):On._=Ma}).call(yx)}(Vd,Vd.exports)),Vd.exports}var wx=bx(),yi=(n=>(n.FINITE="FINITE",n.PDA="PDA",n.TURING="TURING",n))(yi||{});class Db{constructor({states:e=[],deltaFunctionMatrix:t={},automatonType:a,initialStateId:u,finalStateIds:l=[]}){Fe(this,"states");Fe(this,"deltaFunctionMatrix");Fe(this,"automatonType");Fe(this,"commandHistory");Fe(this,"initialStateId");Fe(this,"finalStateIds");this.states=e,this.commandHistory=[],this.automatonType=a,this.deltaFunctionMatrix=t,this.initialStateId=u,this.finalStateIds=l}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new at("Cannot undo because command history is empty.")}save(){return new Ex(this.states,this.deltaFunctionMatrix,this.automatonType,this.initialStateId,this.finalStateIds)}restore(e){this.states=e.states,this.deltaFunctionMatrix=e.deltaFunctionMatrix,this.automatonType=e.automatonType,this.initialStateId=e.initialStateId,this.finalStateIds=e.finalStateIds}createRunSimulation(e){switch(this.automatonType){case"FINITE":return new J0(this,new Tb(this.initialStateId,e));case"PDA":return new J0(this,new Cb(this.initialStateId,e,[vx]));case"TURING":throw new Error("Not implemented.")}}}class Ex{constructor(e,t,a,u,l){Fe(this,"states");Fe(this,"automatonType");Fe(this,"deltaFunctionMatrix");Fe(this,"initialStateId");Fe(this,"finalStateIds");this.states=[...e],this.automatonType=a,this.initialStateId=u,this.finalStateIds=[...l],this.deltaFunctionMatrix=wx.cloneDeep(t)}}class xx{constructor(e){Fe(this,"internalFactory");Fe(this,"edgeCounter",0);if(e===yi.FINITE)this.internalFactory=new Sx;else if(e===yi.PDA)this.internalFactory=new Tx;else{const t=[yi.FINITE,yi.PDA];throw new Error(`Unsupported automaton type: ${e}. Supported types are ${JSON.stringify(t)}.`)}}createAutomaton(e){return this.internalFactory.createAutomaton(e)}createEdge(e){return e.id=`_${this.edgeCounter}`,this.edgeCounter++,this.internalFactory.createEdge(e)}}class Sx{createAutomaton(e){return new Db({states:[e],deltaFunctionMatrix:{},automatonType:yi.FINITE,initialStateId:e,finalStateIds:[]})}createEdge(e){return new g0(e.id,e.inputChar)}}class Tx{createAutomaton(e){return new Db({states:[e],deltaFunctionMatrix:{},automatonType:yi.PDA,initialStateId:e,finalStateIds:[]})}createEdge(e){if(!e.readStackChar||!e.writeStackWord)throw new Error("Cannot create PDAEdge without both readStackChar and writeStackWord arguments");return new tm(e.id,e.inputChar,e.readStackChar,e.writeStackWord)}}function ar(n){"@babel/helpers - typeof";return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(n)}function vs(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Cx(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function ds(n,e,t){return e&&Cx(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Rb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hr(n,e){return Dx(n)||Mx(n,e)||p0(n,e)||Ox()}function Mb(n){return Ax(n)||Rx(n)||p0(n)||Bx()}function Ax(n){if(Array.isArray(n))return $y(n)}function Dx(n){if(Array.isArray(n))return n}function Rx(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Mx(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a=[],u=!0,l=!1,f,c;try{for(t=t.call(n);!(u=(f=t.next()).done)&&(a.push(f.value),!(e&&a.length===e));u=!0);}catch(g){l=!0,c=g}finally{try{!u&&t.return!=null&&t.return()}finally{if(l)throw c}}return a}}function p0(n,e){if(n){if(typeof n=="string")return $y(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $y(n,e)}}function $y(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function Bx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ox(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Za(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=p0(n))||e){t&&(n=t);var a=0,u=function(){};return{s:u,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(g){throw g},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,f=!1,c;return{s:function(){t=t.call(n)},n:function(){var g=t.next();return l=g.done,g},e:function(g){f=!0,c=g},f:function(){try{!l&&t.return!=null&&t.return()}finally{if(f)throw c}}}}var nr=typeof window>"u"?null:window,e1=nr?nr.navigator:null;nr&&nr.document;var _x=ar(""),Bb=ar({}),Lx=ar(function(){}),zx=typeof HTMLElement>"u"?"undefined":ar(HTMLElement),fh=function(e){return e&&e.instanceString&&Nn(e.instanceString)?e.instanceString():null},it=function(e){return e!=null&&ar(e)==_x},Nn=function(e){return e!=null&&ar(e)===Lx},fn=function(e){return!Qa(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Yt=function(e){return e!=null&&ar(e)===Bb&&!fn(e)&&e.constructor===Object},Nx=function(e){return e!=null&&ar(e)===Bb},He=function(e){return e!=null&&ar(e)===ar(1)&&!isNaN(e)},kx=function(e){return He(e)&&Math.floor(e)===e},Vp=function(e){if(zx!=="undefined")return e!=null&&e instanceof HTMLElement},Qa=function(e){return ch(e)||Ob(e)},ch=function(e){return fh(e)==="collection"&&e._private.single},Ob=function(e){return fh(e)==="collection"&&!e._private.single},m0=function(e){return fh(e)==="core"},_b=function(e){return fh(e)==="stylesheet"},Ux=function(e){return fh(e)==="event"},us=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Ix=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Px=function(e){return Yt(e)&&He(e.x1)&&He(e.x2)&&He(e.y1)&&He(e.y2)},Hx=function(e){return Nx(e)&&Nn(e.then)},qx=function(){return e1&&e1.userAgent.match(/msie|trident|edge/i)},jd=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var l=[],f=0;f<arguments.length;f++)l.push(arguments[f]);return l.join("$")});var a=function u(){var l=this,f=arguments,c,g=t.apply(l,f),v=u.cache;return(c=v[g])||(c=v[g]=e.apply(l,f)),c};return a.cache={},a},y0=jd(function(n){return n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),nm=jd(function(n){return n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Lb=jd(function(n,e){return n+e[0].toUpperCase()+e.substring(1)},function(n,e){return n+"$"+e}),t1=function(e){return us(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},rr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Fx="rgb[a]?\\(("+rr+"[%]?)\\s*,\\s*("+rr+"[%]?)\\s*,\\s*("+rr+"[%]?)(?:\\s*,\\s*("+rr+"))?\\)",Vx="rgb[a]?\\((?:"+rr+"[%]?)\\s*,\\s*(?:"+rr+"[%]?)\\s*,\\s*(?:"+rr+"[%]?)(?:\\s*,\\s*(?:"+rr+"))?\\)",Gx="hsl[a]?\\(("+rr+")\\s*,\\s*("+rr+"[%])\\s*,\\s*("+rr+"[%])(?:\\s*,\\s*("+rr+"))?\\)",Yx="hsl[a]?\\((?:"+rr+")\\s*,\\s*(?:"+rr+"[%])\\s*,\\s*(?:"+rr+"[%])(?:\\s*,\\s*(?:"+rr+"))?\\)",Kx="\\#[0-9a-fA-F]{3}",Xx="\\#[0-9a-fA-F]{6}",zb=function(e,t){return e<t?-1:e>t?1:0},Zx=function(e,t){return-1*zb(e,t)},ct=Object.assign!=null?Object.assign.bind(Object):function(n){for(var e=arguments,t=1;t<e.length;t++){var a=e[t];if(a!=null)for(var u=Object.keys(a),l=0;l<u.length;l++){var f=u[l];n[f]=a[f]}}return n},Qx=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,a,u,l,f=16;return t?(a=parseInt(e[1]+e[1],f),u=parseInt(e[2]+e[2],f),l=parseInt(e[3]+e[3],f)):(a=parseInt(e[1]+e[2],f),u=parseInt(e[3]+e[4],f),l=parseInt(e[5]+e[6],f)),[a,u,l]}},Wx=function(e){var t,a,u,l,f,c,g,v;function p(x,D,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?x+(D-x)*6*C:C<1/2?D:C<2/3?x+(D-x)*(2/3-C)*6:x}var m=new RegExp("^"+Gx+"$").exec(e);if(m){if(a=parseInt(m[1]),a<0?a=(360- -1*a%360)%360:a>360&&(a=a%360),a/=360,u=parseFloat(m[2]),u<0||u>100||(u=u/100,l=parseFloat(m[3]),l<0||l>100)||(l=l/100,f=m[4],f!==void 0&&(f=parseFloat(f),f<0||f>1)))return;if(u===0)c=g=v=Math.round(l*255);else{var w=l<.5?l*(1+u):l+u-l*u,S=2*l-w;c=Math.round(255*p(S,w,a+1/3)),g=Math.round(255*p(S,w,a)),v=Math.round(255*p(S,w,a-1/3))}t=[c,g,v,f]}return t},$x=function(e){var t,a=new RegExp("^"+Fx+"$").exec(e);if(a){t=[];for(var u=[],l=1;l<=3;l++){var f=a[l];if(f[f.length-1]==="%"&&(u[l]=!0),f=parseFloat(f),u[l]&&(f=f/100*255),f<0||f>255)return;t.push(Math.floor(f))}var c=u[1]||u[2]||u[3],g=u[1]&&u[2]&&u[3];if(c&&!g)return;var v=a[4];if(v!==void 0){if(v=parseFloat(v),v<0||v>1)return;t.push(v)}}return t},Jx=function(e){return jx[e.toLowerCase()]},Nb=function(e){return(fn(e)?e:null)||Jx(e)||Qx(e)||$x(e)||Wx(e)},jx={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},kb=function(e){for(var t=e.map,a=e.keys,u=a.length,l=0;l<u;l++){var f=a[l];if(Yt(f))throw Error("Tried to set map with object key");l<a.length-1?(t[f]==null&&(t[f]={}),t=t[f]):t[f]=e.value}},Ub=function(e){for(var t=e.map,a=e.keys,u=a.length,l=0;l<u;l++){var f=a[l];if(Yt(f))throw Error("Tried to get map with object key");if(t=t[f],t==null)return t}return t};function eS(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Oo=eS,Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tS(n,e){return e={exports:{}},n(e,e.exports),e.exports}var nS=typeof Gd=="object"&&Gd&&Gd.Object===Object&&Gd,rS=nS,aS=typeof self=="object"&&self&&self.Object===Object&&self,iS=rS||aS||Function("return this")(),rm=iS,uS=function(){return rm.Date.now()},Ny=uS,lS=/\s/;function sS(n){for(var e=n.length;e--&&lS.test(n.charAt(e)););return e}var oS=sS,fS=/^\s+/;function cS(n){return n&&n.slice(0,oS(n)+1).replace(fS,"")}var vS=cS,dS=rm.Symbol,Sc=dS,Ib=Object.prototype,hS=Ib.hasOwnProperty,gS=Ib.toString,Nd=Sc?Sc.toStringTag:void 0;function pS(n){var e=hS.call(n,Nd),t=n[Nd];try{n[Nd]=void 0;var a=!0}catch{}var u=gS.call(n);return a&&(e?n[Nd]=t:delete n[Nd]),u}var mS=pS,yS=Object.prototype,bS=yS.toString;function wS(n){return bS.call(n)}var ES=wS,xS="[object Null]",SS="[object Undefined]",n1=Sc?Sc.toStringTag:void 0;function TS(n){return n==null?n===void 0?SS:xS:n1&&n1 in Object(n)?mS(n):ES(n)}var Pb=TS;function CS(n){return n!=null&&typeof n=="object"}var AS=CS,DS="[object Symbol]";function RS(n){return typeof n=="symbol"||AS(n)&&Pb(n)==DS}var vh=RS,r1=NaN,MS=/^[-+]0x[0-9a-f]+$/i,BS=/^0b[01]+$/i,OS=/^0o[0-7]+$/i,_S=parseInt;function LS(n){if(typeof n=="number")return n;if(vh(n))return r1;if(Oo(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Oo(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=vS(n);var t=BS.test(n);return t||OS.test(n)?_S(n.slice(2),t?2:8):MS.test(n)?r1:+n}var a1=LS,zS="Expected a function",NS=Math.max,kS=Math.min;function US(n,e,t){var a,u,l,f,c,g,v=0,p=!1,m=!1,w=!0;if(typeof n!="function")throw new TypeError(zS);e=a1(e)||0,Oo(t)&&(p=!!t.leading,m="maxWait"in t,l=m?NS(a1(t.maxWait)||0,e):l,w="trailing"in t?!!t.trailing:w);function S(k){var L=a,H=u;return a=u=void 0,v=k,f=n.apply(H,L),f}function x(k){return v=k,c=setTimeout(T,e),p?S(k):f}function D(k){var L=k-g,H=k-v,z=e-L;return m?kS(z,l-H):z}function C(k){var L=k-g,H=k-v;return g===void 0||L>=e||L<0||m&&H>=l}function T(){var k=Ny();if(C(k))return R(k);c=setTimeout(T,D(k))}function R(k){return c=void 0,w&&a?S(k):(a=u=void 0,f)}function M(){c!==void 0&&clearTimeout(c),v=0,a=g=u=c=void 0}function O(){return c===void 0?f:R(Ny())}function N(){var k=Ny(),L=C(k);if(a=arguments,u=this,g=k,L){if(c===void 0)return x(g);if(m)return clearTimeout(c),c=setTimeout(T,e),S(g)}return c===void 0&&(c=setTimeout(T,e)),f}return N.cancel=M,N.flush=O,N}var dh=US,ky=nr?nr.performance:null,Hb=ky&&ky.now?function(){return ky.now()}:function(){return Date.now()},IS=function(){if(nr){if(nr.requestAnimationFrame)return function(n){nr.requestAnimationFrame(n)};if(nr.mozRequestAnimationFrame)return function(n){nr.mozRequestAnimationFrame(n)};if(nr.webkitRequestAnimationFrame)return function(n){nr.webkitRequestAnimationFrame(n)};if(nr.msRequestAnimationFrame)return function(n){nr.msRequestAnimationFrame(n)}}return function(n){n&&setTimeout(function(){n(Hb())},1e3/60)}}(),Gp=function(e){return IS(e)},ul=Hb,pc=9261,qb=65599,Yd=5381,Fb=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pc,a=t,u;u=e.next(),!u.done;)a=a*qb+u.value|0;return a},eh=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pc;return t*qb+e|0},th=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yd;return(t<<5)+t+e|0},PS=function(e,t){return e*2097152+t},es=function(e){return e[0]*2097152+e[1]},wp=function(e,t){return[eh(e[0],t[0]),th(e[1],t[1])]},HS=function(e,t){var a={value:0,done:!1},u=0,l=e.length,f={next:function(){return u<l?a.value=e[u++]:a.done=!0,a}};return Fb(f,t)},ls=function(e,t){var a={value:0,done:!1},u=0,l=e.length,f={next:function(){return u<l?a.value=e.charCodeAt(u++):a.done=!0,a}};return Fb(f,t)},Vb=function(){return qS(arguments)},qS=function(e){for(var t,a=0;a<e.length;a++){var u=e[a];a===0?t=ls(u):t=ls(u,t)}return t},i1=!0,FS=console.warn!=null,VS=console.trace!=null,b0=Number.MAX_SAFE_INTEGER||9007199254740991,Gb=function(){return!0},Yp=function(){return!1},u1=function(){return 0},w0=function(){},zn=function(e){throw new Error(e)},Yb=function(e){if(e!==void 0)i1=!!e;else return i1},nn=function(e){Yb()&&(FS?console.warn(e):(console.log(e),VS&&console.trace()))},GS=function(e){return ct({},e)},Ru=function(e){return e==null?e:fn(e)?e.slice():Yt(e)?GS(e):e},YS=function(e){return e.slice()},Kb=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},KS={},Xb=function(){return KS},gr=function(e){var t=Object.keys(e);return function(a){for(var u={},l=0;l<t.length;l++){var f=t[l],c=a==null?void 0:a[f];u[f]=c===void 0?e[f]:c}return u}},ss=function(e,t,a){for(var u=e.length-1;u>=0;u--)e[u]===t&&e.splice(u,1)},E0=function(e){e.splice(0,e.length)},XS=function(e,t){for(var a=0;a<t.length;a++){var u=t[a];e.push(u)}},Zi=function(e,t,a){return a&&(t=Lb(a,t)),e[t]},ns=function(e,t,a,u){a&&(t=Lb(a,t)),e[t]=u},ZS=function(){function n(){vs(this,n),this._obj={}}return ds(n,[{key:"set",value:function(t,a){return this._obj[t]=a,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}]),n}(),Mu=typeof Map<"u"?Map:ZS,QS="undefined",WS=function(){function n(e){if(vs(this,n),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var a=0;a<t.length;a++)this.add(t[a])}}return ds(n,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var a=this._obj;a[t]!==1&&(a[t]=1,this.size++)}},{key:"delete",value:function(t){var a=this._obj;a[t]===1&&(a[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(a){return t.has(a)})}},{key:"forEach",value:function(t,a){return this.toArray().forEach(t,a)}}]),n}(),Dc=(typeof Set>"u"?"undefined":ar(Set))!==QS?Set:WS,am=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!m0(e)){zn("An element must have a core reference and parameters set");return}var u=t.group;if(u==null&&(t.data&&t.data.source!=null&&t.data.target!=null?u="edges":u="nodes"),u!=="nodes"&&u!=="edges"){zn("An element must be of type `nodes` or `edges`; you specified `"+u+"`");return}this.length=1,this[0]=this;var l=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:u,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?u==="edges":!!t.pannable,active:!1,classes:new Dc,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(l.position.x==null&&(l.position.x=0),l.position.y==null&&(l.position.y=0),t.renderedPosition){var f=t.renderedPosition,c=e.pan(),g=e.zoom();l.position={x:(f.x-c.x)/g,y:(f.y-c.y)/g}}var v=[];fn(t.classes)?v=t.classes:it(t.classes)&&(v=t.classes.split(/\s+/));for(var p=0,m=v.length;p<m;p++){var w=v[p];!w||w===""||l.classes.add(w)}this.createEmitter();var S=t.style||t.css;S&&(nn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(S)),(a===void 0||a)&&this.restore()},l1=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(a,u,l){var f;Yt(a)&&!Qa(a)&&(f=a,a=f.roots||f.root,u=f.visit,l=f.directed),l=arguments.length===2&&!Nn(u)?u:l,u=Nn(u)?u:function(){};for(var c=this._private.cy,g=a=it(a)?this.filter(a):a,v=[],p=[],m={},w={},S={},x=0,D,C=this.byGroup(),T=C.nodes,R=C.edges,M=0;M<g.length;M++){var O=g[M],N=O.id();O.isNode()&&(v.unshift(O),e.bfs&&(S[N]=!0,p.push(O)),w[N]=0)}for(var k=function(){var Q=e.bfs?v.shift():v.pop(),X=Q.id();if(e.dfs){if(S[X])return"continue";S[X]=!0,p.push(Q)}var ee=w[X],K=m[X],W=K!=null?K.source():null,j=K!=null?K.target():null,le=K==null?void 0:Q.same(W)?j[0]:W[0],I=void 0;if(I=u(Q,K,le,x++,ee),I===!0)return D=Q,"break";if(I===!1)return"break";for(var Z=Q.connectedEdges().filter(function(pe){return(!l||pe.source().same(Q))&&R.has(pe)}),ne=0;ne<Z.length;ne++){var de=Z[ne],se=de.connectedNodes().filter(function(pe){return!pe.same(Q)&&T.has(pe)}),we=se.id();se.length!==0&&!S[we]&&(se=se[0],v.push(se),e.bfs&&(S[we]=!0,p.push(se)),m[we]=de,w[we]=w[X]+1)}};v.length!==0;){var L=k();if(L!=="continue"&&L==="break")break}for(var H=c.collection(),z=0;z<p.length;z++){var F=p[z],Y=m[F.id()];Y!=null&&H.push(Y),H.push(F)}return{path:c.collection(H),found:c.collection(D)}}},nh={breadthFirstSearch:l1({bfs:!0}),depthFirstSearch:l1({dfs:!0})};nh.bfs=nh.breadthFirstSearch;nh.dfs=nh.depthFirstSearch;var $S=tS(function(n,e){(function(){var t,a,u,l,f,c,g,v,p,m,w,S,x,D,C;u=Math.floor,m=Math.min,a=function(T,R){return T<R?-1:T>R?1:0},p=function(T,R,M,O,N){var k;if(M==null&&(M=0),N==null&&(N=a),M<0)throw new Error("lo must be non-negative");for(O==null&&(O=T.length);M<O;)k=u((M+O)/2),N(R,T[k])<0?O=k:M=k+1;return[].splice.apply(T,[M,M-M].concat(R)),R},c=function(T,R,M){return M==null&&(M=a),T.push(R),D(T,0,T.length-1,M)},f=function(T,R){var M,O;return R==null&&(R=a),M=T.pop(),T.length?(O=T[0],T[0]=M,C(T,0,R)):O=M,O},v=function(T,R,M){var O;return M==null&&(M=a),O=T[0],T[0]=R,C(T,0,M),O},g=function(T,R,M){var O;return M==null&&(M=a),T.length&&M(T[0],R)<0&&(O=[T[0],R],R=O[0],T[0]=O[1],C(T,0,M)),R},l=function(T,R){var M,O,N,k,L,H;for(R==null&&(R=a),k=(function(){H=[];for(var z=0,F=u(T.length/2);0<=F?z<F:z>F;0<=F?z++:z--)H.push(z);return H}).apply(this).reverse(),L=[],O=0,N=k.length;O<N;O++)M=k[O],L.push(C(T,M,R));return L},x=function(T,R,M){var O;if(M==null&&(M=a),O=T.indexOf(R),O!==-1)return D(T,0,O,M),C(T,O,M)},w=function(T,R,M){var O,N,k,L,H;if(M==null&&(M=a),N=T.slice(0,R),!N.length)return N;for(l(N,M),H=T.slice(R),k=0,L=H.length;k<L;k++)O=H[k],g(N,O,M);return N.sort(M).reverse()},S=function(T,R,M){var O,N,k,L,H,z,F,Y,G;if(M==null&&(M=a),R*10<=T.length){if(k=T.slice(0,R).sort(M),!k.length)return k;for(N=k[k.length-1],F=T.slice(R),L=0,z=F.length;L<z;L++)O=F[L],M(O,N)<0&&(p(k,O,0,null,M),k.pop(),N=k[k.length-1]);return k}for(l(T,M),G=[],H=0,Y=m(R,T.length);0<=Y?H<Y:H>Y;0<=Y?++H:--H)G.push(f(T,M));return G},D=function(T,R,M,O){var N,k,L;for(O==null&&(O=a),N=T[M];M>R;){if(L=M-1>>1,k=T[L],O(N,k)<0){T[M]=k,M=L;continue}break}return T[M]=N},C=function(T,R,M){var O,N,k,L,H;for(M==null&&(M=a),N=T.length,H=R,k=T[R],O=2*R+1;O<N;)L=O+1,L<N&&!(M(T[O],T[L])<0)&&(O=L),T[R]=T[O],R=O,O=2*R+1;return T[R]=k,D(T,H,R,M)},t=function(){T.push=c,T.pop=f,T.replace=v,T.pushpop=g,T.heapify=l,T.updateItem=x,T.nlargest=w,T.nsmallest=S;function T(R){this.cmp=R??a,this.nodes=[]}return T.prototype.push=function(R){return c(this.nodes,R,this.cmp)},T.prototype.pop=function(){return f(this.nodes,this.cmp)},T.prototype.peek=function(){return this.nodes[0]},T.prototype.contains=function(R){return this.nodes.indexOf(R)!==-1},T.prototype.replace=function(R){return v(this.nodes,R,this.cmp)},T.prototype.pushpop=function(R){return g(this.nodes,R,this.cmp)},T.prototype.heapify=function(){return l(this.nodes,this.cmp)},T.prototype.updateItem=function(R){return x(this.nodes,R,this.cmp)},T.prototype.clear=function(){return this.nodes=[]},T.prototype.empty=function(){return this.nodes.length===0},T.prototype.size=function(){return this.nodes.length},T.prototype.clone=function(){var R;return R=new T,R.nodes=this.nodes.slice(0),R},T.prototype.toArray=function(){return this.nodes.slice(0)},T.prototype.insert=T.prototype.push,T.prototype.top=T.prototype.peek,T.prototype.front=T.prototype.peek,T.prototype.has=T.prototype.contains,T.prototype.copy=T.prototype.clone,T}(),function(T,R){return n.exports=R()}(this,function(){return t})}).call(Gd)}),hh=$S,JS=gr({root:null,weight:function(e){return 1},directed:!1}),jS={dijkstra:function(e){if(!Yt(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var a=JS(e),u=a.root,l=a.weight,f=a.directed,c=this,g=l,v=it(u)?this.filter(u)[0]:u[0],p={},m={},w={},S=this.byGroup(),x=S.nodes,D=S.edges;D.unmergeBy(function(ee){return ee.isLoop()});for(var C=function(K){return p[K.id()]},T=function(K,W){p[K.id()]=W,R.updateItem(K)},R=new hh(function(ee,K){return C(ee)-C(K)}),M=0;M<x.length;M++){var O=x[M];p[O.id()]=O.same(v)?0:1/0,R.push(O)}for(var N=function(K,W){for(var j=(f?K.edgesTo(W):K.edgesWith(W)).intersect(D),le=1/0,I,Z=0;Z<j.length;Z++){var ne=j[Z],de=g(ne);(de<le||!I)&&(le=de,I=ne)}return{edge:I,dist:le}};R.size()>0;){var k=R.pop(),L=C(k),H=k.id();if(w[H]=L,L!==1/0)for(var z=k.neighborhood().intersect(x),F=0;F<z.length;F++){var Y=z[F],G=Y.id(),Q=N(k,Y),X=L+Q.dist;X<C(Y)&&(T(Y,X),m[G]={node:k,edge:Q.edge})}}return{distanceTo:function(K){var W=it(K)?x.filter(K)[0]:K[0];return w[W.id()]},pathTo:function(K){var W=it(K)?x.filter(K)[0]:K[0],j=[],le=W,I=le.id();if(W.length>0)for(j.unshift(W);m[I];){var Z=m[I];j.unshift(Z.edge),j.unshift(Z.node),le=Z.node,I=le.id()}return c.spawn(j)}}}},e2={kruskal:function(e){e=e||function(M){return 1};for(var t=this.byGroup(),a=t.nodes,u=t.edges,l=a.length,f=new Array(l),c=a,g=function(O){for(var N=0;N<f.length;N++){var k=f[N];if(k.has(O))return N}},v=0;v<l;v++)f[v]=this.spawn(a[v]);for(var p=u.sort(function(M,O){return e(M)-e(O)}),m=0;m<p.length;m++){var w=p[m],S=w.source()[0],x=w.target()[0],D=g(S),C=g(x),T=f[D],R=f[C];D!==C&&(c.merge(w),T.merge(R),f.splice(C,1))}return c}},t2=gr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),n2={aStar:function(e){var t=this.cy(),a=t2(e),u=a.root,l=a.goal,f=a.heuristic,c=a.directed,g=a.weight;u=t.collection(u)[0],l=t.collection(l)[0];var v=u.id(),p=l.id(),m={},w={},S={},x=new hh(function(I,Z){return w[I.id()]-w[Z.id()]}),D=new Dc,C={},T={},R=function(Z,ne){x.push(Z),D.add(ne)},M,O,N=function(){M=x.pop(),O=M.id(),D.delete(O)},k=function(Z){return D.has(Z)};R(u,v),m[v]=0,w[v]=f(u);for(var L=0;x.size()>0;){if(N(),L++,O===p){for(var H=[],z=l,F=p,Y=T[F];H.unshift(z),Y!=null&&H.unshift(Y),z=C[F],z!=null;)F=z.id(),Y=T[F];return{found:!0,distance:m[O],path:this.spawn(H),steps:L}}S[O]=!0;for(var G=M._private.edges,Q=0;Q<G.length;Q++){var X=G[Q];if(this.hasElementWithId(X.id())&&!(c&&X.data("source")!==O)){var ee=X.source(),K=X.target(),W=ee.id()!==O?ee:K,j=W.id();if(this.hasElementWithId(j)&&!S[j]){var le=m[O]+g(X);if(!k(j)){m[j]=le,w[j]=le+f(W),R(W,j),C[j]=M,T[j]=X;continue}le<m[j]&&(m[j]=le,w[j]=le+f(W),C[j]=M,T[j]=X)}}}}return{found:!1,distance:void 0,path:void 0,steps:L}}},r2=gr({weight:function(e){return 1},directed:!1}),a2={floydWarshall:function(e){for(var t=this.cy(),a=r2(e),u=a.weight,l=a.directed,f=u,c=this.byGroup(),g=c.nodes,v=c.edges,p=g.length,m=p*p,w=function(de){return g.indexOf(de)},S=function(de){return g[de]},x=new Array(m),D=0;D<m;D++){var C=D%p,T=(D-C)/p;T===C?x[D]=0:x[D]=1/0}for(var R=new Array(m),M=new Array(m),O=0;O<v.length;O++){var N=v[O],k=N.source()[0],L=N.target()[0];if(k!==L){var H=w(k),z=w(L),F=H*p+z,Y=f(N);if(x[F]>Y&&(x[F]=Y,R[F]=z,M[F]=N),!l){var G=z*p+H;!l&&x[G]>Y&&(x[G]=Y,R[G]=H,M[G]=N)}}}for(var Q=0;Q<p;Q++)for(var X=0;X<p;X++)for(var ee=X*p+Q,K=0;K<p;K++){var W=X*p+K,j=Q*p+K;x[ee]+x[j]<x[W]&&(x[W]=x[ee]+x[j],R[W]=R[ee])}var le=function(de){return(it(de)?t.filter(de):de)[0]},I=function(de){return w(le(de))},Z={distance:function(de,se){var we=I(de),pe=I(se);return x[we*p+pe]},path:function(de,se){var we=I(de),pe=I(se),Re=S(we);if(we===pe)return Re.collection();if(R[we*p+pe]==null)return t.collection();var xe=t.collection(),ve=we,re;for(xe.merge(Re);we!==pe;)ve=we,we=R[we*p+pe],re=M[ve*p+we],xe.merge(re),xe.merge(S(we));return xe}};return Z}},i2=gr({weight:function(e){return 1},directed:!1,root:null}),u2={bellmanFord:function(e){var t=this,a=i2(e),u=a.weight,l=a.directed,f=a.root,c=u,g=this,v=this.cy(),p=this.byGroup(),m=p.edges,w=p.nodes,S=w.length,x=new Mu,D=!1,C=[];f=v.collection(f)[0],m.unmergeBy(function(xt){return xt.isLoop()});for(var T=m.length,R=function(Ge){var Ye=x.get(Ge.id());return Ye||(Ye={},x.set(Ge.id(),Ye)),Ye},M=function(Ge){return(it(Ge)?v.$(Ge):Ge)[0]},O=function(Ge){return R(M(Ge)).dist},N=function(Ge){for(var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,Je=M(Ge),Qe=[],je=Je;;){if(je==null)return t.spawn();var ut=R(je),lt=ut.edge,wt=ut.pred;if(Qe.unshift(je[0]),je.same(Ye)&&Qe.length>0)break;lt!=null&&Qe.unshift(lt),je=wt}return g.spawn(Qe)},k=0;k<S;k++){var L=w[k],H=R(L);L.same(f)?H.dist=0:H.dist=1/0,H.pred=null,H.edge=null}for(var z=!1,F=function(Ge,Ye,Je,Qe,je,ut){var lt=Qe.dist+ut;lt<je.dist&&!Je.same(Qe.edge)&&(je.dist=lt,je.pred=Ge,je.edge=Je,z=!0)},Y=1;Y<S;Y++){z=!1;for(var G=0;G<T;G++){var Q=m[G],X=Q.source(),ee=Q.target(),K=c(Q),W=R(X),j=R(ee);F(X,ee,Q,W,j,K),l||F(ee,X,Q,j,W,K)}if(!z)break}if(z)for(var le=[],I=0;I<T;I++){var Z=m[I],ne=Z.source(),de=Z.target(),se=c(Z),we=R(ne).dist,pe=R(de).dist;if(we+se<pe||!l&&pe+se<we)if(D||(nn("Graph contains a negative weight cycle for Bellman-Ford"),D=!0),e.findNegativeWeightCycles!==!1){var Re=[];we+se<pe&&Re.push(ne),!l&&pe+se<we&&Re.push(de);for(var xe=Re.length,ve=0;ve<xe;ve++){var re=Re[ve],be=[re];be.push(R(re).edge);for(var _e=R(re).pred;be.indexOf(_e)===-1;)be.push(_e),be.push(R(_e).edge),_e=R(_e).pred;be=be.slice(be.indexOf(_e));for(var Ue=be[0].id(),Pe=0,gt=2;gt<be.length;gt+=2)be[gt].id()<Ue&&(Ue=be[gt].id(),Pe=gt);be=be.slice(Pe).concat(be.slice(0,Pe)),be.push(be[0]);var _t=be.map(function(xt){return xt.id()}).join(",");le.indexOf(_t)===-1&&(C.push(g.spawn(be)),le.push(_t))}}else break}return{distanceTo:O,pathTo:N,hasNegativeWeightCycle:D,negativeWeightCycles:C}}},l2=Math.sqrt(2),s2=function(e,t,a){a.length===0&&zn("Karger-Stein must be run on a connected (sub)graph");for(var u=a[e],l=u[1],f=u[2],c=t[l],g=t[f],v=a,p=v.length-1;p>=0;p--){var m=v[p],w=m[1],S=m[2];(t[w]===c&&t[S]===g||t[w]===g&&t[S]===c)&&v.splice(p,1)}for(var x=0;x<v.length;x++){var D=v[x];D[1]===g?(v[x]=D.slice(),v[x][1]=c):D[2]===g&&(v[x]=D.slice(),v[x][2]=c)}for(var C=0;C<t.length;C++)t[C]===g&&(t[C]=c);return v},Uy=function(e,t,a,u){for(;a>u;){var l=Math.floor(Math.random()*t.length);t=s2(l,e,t),a--}return t},o2={kargerStein:function(){var e=this,t=this.byGroup(),a=t.nodes,u=t.edges;u.unmergeBy(function(j){return j.isLoop()});var l=a.length,f=u.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),g=Math.floor(l/l2);if(l<2){zn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var v=[],p=0;p<f;p++){var m=u[p];v.push([p,a.indexOf(m.source()),a.indexOf(m.target())])}for(var w=1/0,S=[],x=new Array(l),D=new Array(l),C=new Array(l),T=function(le,I){for(var Z=0;Z<l;Z++)I[Z]=le[Z]},R=0;R<=c;R++){for(var M=0;M<l;M++)D[M]=M;var O=Uy(D,v.slice(),l,g),N=O.slice();T(D,C);var k=Uy(D,O,g,2),L=Uy(C,N,g,2);k.length<=L.length&&k.length<w?(w=k.length,S=k,T(D,x)):L.length<=k.length&&L.length<w&&(w=L.length,S=L,T(C,x))}for(var H=this.spawn(S.map(function(j){return u[j[0]]})),z=this.spawn(),F=this.spawn(),Y=x[0],G=0;G<x.length;G++){var Q=x[G],X=a[G];Q===Y?z.merge(X):F.merge(X)}var ee=function(le){var I=e.spawn();return le.forEach(function(Z){I.merge(Z),Z.connectedEdges().forEach(function(ne){e.contains(ne)&&!H.contains(ne)&&I.merge(ne)})}),I},K=[ee(z),ee(F)],W={cut:H,components:K,partition1:z,partition2:F};return W}},f2=function(e){return{x:e.x,y:e.y}},im=function(e,t,a){return{x:e.x*t+a.x,y:e.y*t+a.y}},Zb=function(e,t,a){return{x:(e.x-a.x)/t,y:(e.y-a.y)/t}},mc=function(e){return{x:e[0],y:e[1]}},c2=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=1/0,l=t;l<a;l++){var f=e[l];isFinite(f)&&(u=Math.min(f,u))}return u},v2=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=-1/0,l=t;l<a;l++){var f=e[l];isFinite(f)&&(u=Math.max(f,u))}return u},d2=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=0,l=0,f=t;f<a;f++){var c=e[f];isFinite(c)&&(u+=c,l++)}return u/l},h2=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;u?e=e.slice(t,a):(a<e.length&&e.splice(a,e.length-a),t>0&&e.splice(0,t));for(var c=0,g=e.length-1;g>=0;g--){var v=e[g];f?isFinite(v)||(e[g]=-1/0,c++):e.splice(g,1)}l&&e.sort(function(w,S){return w-S});var p=e.length,m=Math.floor(p/2);return p%2!==0?e[m+1+c]:(e[m-1+c]+e[m+c])/2},g2=function(e){return Math.PI*e/180},Ep=function(e,t){return Math.atan2(t,e)-Math.PI/2},x0=Math.log2||function(n){return Math.log(n)/Math.log(2)},Qb=function(e){return e>0?1:e<0?-1:0},_o=function(e,t){return Math.sqrt(Co(e,t))},Co=function(e,t){var a=t.x-e.x,u=t.y-e.y;return a*a+u*u},p2=function(e){for(var t=e.length,a=0,u=0;u<t;u++)a+=e[u];for(var l=0;l<t;l++)e[l]=e[l]/a;return e},dr=function(e,t,a,u){return(1-u)*(1-u)*e+2*(1-u)*u*t+u*u*a},bc=function(e,t,a,u){return{x:dr(e.x,t.x,a.x,u),y:dr(e.y,t.y,a.y,u)}},m2=function(e,t,a,u){var l={x:t.x-e.x,y:t.y-e.y},f=_o(e,t),c={x:l.x/f,y:l.y/f};return a=a??0,u=u??a*f,{x:e.x+c.x*u,y:e.y+c.y*u}},rh=function(e,t,a){return Math.max(e,Math.min(a,t))},Ca=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},y2=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},b2=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},w2=function(e,t,a){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+a,y2:e.y2+a,w:e.w,h:e.h}},Wb=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},E2=function(e,t,a){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a),e.y2=Math.max(e.y2,a),e.h=e.y2-e.y1},zp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Np=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],a,u,l,f;if(t.length===1)a=u=l=f=t[0];else if(t.length===2)a=l=t[0],f=u=t[1];else if(t.length===4){var c=hr(t,4);a=c[0],u=c[1],l=c[2],f=c[3]}return e.x1-=f,e.x2+=u,e.y1-=a,e.y2+=l,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},s1=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},S0=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},Tc=function(e,t,a){return e.x1<=t&&t<=e.x2&&e.y1<=a&&a<=e.y2},x2=function(e,t){return Tc(e,t.x,t.y)},$b=function(e,t){return Tc(e,t.x1,t.y1)&&Tc(e,t.x2,t.y2)},Jb=function(e,t,a,u,l,f,c){var g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",v=g==="auto"?Lo(l,f):g,p=l/2,m=f/2;v=Math.min(v,p,m);var w=v!==p,S=v!==m,x;if(w){var D=a-p+v-c,C=u-m-c,T=a+p-v+c,R=C;if(x=rs(e,t,a,u,D,C,T,R,!1),x.length>0)return x}if(S){var M=a+p+c,O=u-m+v-c,N=M,k=u+m-v+c;if(x=rs(e,t,a,u,M,O,N,k,!1),x.length>0)return x}if(w){var L=a-p+v-c,H=u+m+c,z=a+p-v+c,F=H;if(x=rs(e,t,a,u,L,H,z,F,!1),x.length>0)return x}if(S){var Y=a-p-c,G=u-m+v-c,Q=Y,X=u+m-v+c;if(x=rs(e,t,a,u,Y,G,Q,X,!1),x.length>0)return x}var ee;{var K=a-p+v,W=u-m+v;if(ee=Kd(e,t,a,u,K,W,v+c),ee.length>0&&ee[0]<=K&&ee[1]<=W)return[ee[0],ee[1]]}{var j=a+p-v,le=u-m+v;if(ee=Kd(e,t,a,u,j,le,v+c),ee.length>0&&ee[0]>=j&&ee[1]<=le)return[ee[0],ee[1]]}{var I=a+p-v,Z=u+m-v;if(ee=Kd(e,t,a,u,I,Z,v+c),ee.length>0&&ee[0]>=I&&ee[1]>=Z)return[ee[0],ee[1]]}{var ne=a-p+v,de=u+m-v;if(ee=Kd(e,t,a,u,ne,de,v+c),ee.length>0&&ee[0]<=ne&&ee[1]>=de)return[ee[0],ee[1]]}return[]},S2=function(e,t,a,u,l,f,c){var g=c,v=Math.min(a,l),p=Math.max(a,l),m=Math.min(u,f),w=Math.max(u,f);return v-g<=e&&e<=p+g&&m-g<=t&&t<=w+g},T2=function(e,t,a,u,l,f,c,g,v){var p={x1:Math.min(a,c,l)-v,x2:Math.max(a,c,l)+v,y1:Math.min(u,g,f)-v,y2:Math.max(u,g,f)+v};return!(e<p.x1||e>p.x2||t<p.y1||t>p.y2)},C2=function(e,t,a,u){a-=u;var l=t*t-4*e*a;if(l<0)return[];var f=Math.sqrt(l),c=2*e,g=(-t+f)/c,v=(-t-f)/c;return[g,v]},A2=function(e,t,a,u,l){var f=1e-5;e===0&&(e=f),t/=e,a/=e,u/=e;var c,g,v,p,m,w,S,x;if(g=(3*a-t*t)/9,v=-(27*u)+t*(9*a-2*(t*t)),v/=54,c=g*g*g+v*v,l[1]=0,S=t/3,c>0){m=v+Math.sqrt(c),m=m<0?-Math.pow(-m,1/3):Math.pow(m,1/3),w=v-Math.sqrt(c),w=w<0?-Math.pow(-w,1/3):Math.pow(w,1/3),l[0]=-S+m+w,S+=(m+w)/2,l[4]=l[2]=-S,S=Math.sqrt(3)*(-w+m)/2,l[3]=S,l[5]=-S;return}if(l[5]=l[3]=0,c===0){x=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),l[0]=-S+2*x,l[4]=l[2]=-(x+S);return}g=-g,p=g*g*g,p=Math.acos(v/Math.sqrt(p)),x=2*Math.sqrt(g),l[0]=-S+x*Math.cos(p/3),l[2]=-S+x*Math.cos((p+2*Math.PI)/3),l[4]=-S+x*Math.cos((p+4*Math.PI)/3)},D2=function(e,t,a,u,l,f,c,g){var v=1*a*a-4*a*l+2*a*c+4*l*l-4*l*c+c*c+u*u-4*u*f+2*u*g+4*f*f-4*f*g+g*g,p=1*9*a*l-3*a*a-3*a*c-6*l*l+3*l*c+9*u*f-3*u*u-3*u*g-6*f*f+3*f*g,m=1*3*a*a-6*a*l+a*c-a*e+2*l*l+2*l*e-c*e+3*u*u-6*u*f+u*g-u*t+2*f*f+2*f*t-g*t,w=1*a*l-a*a+a*e-l*e+u*f-u*u+u*t-f*t,S=[];A2(v,p,m,w,S);for(var x=1e-7,D=[],C=0;C<6;C+=2)Math.abs(S[C+1])<x&&S[C]>=0&&S[C]<=1&&D.push(S[C]);D.push(1),D.push(0);for(var T=-1,R,M,O,N=0;N<D.length;N++)R=Math.pow(1-D[N],2)*a+2*(1-D[N])*D[N]*l+D[N]*D[N]*c,M=Math.pow(1-D[N],2)*u+2*(1-D[N])*D[N]*f+D[N]*D[N]*g,O=Math.pow(R-e,2)+Math.pow(M-t,2),T>=0?O<T&&(T=O):T=O;return T},R2=function(e,t,a,u,l,f){var c=[e-a,t-u],g=[l-a,f-u],v=g[0]*g[0]+g[1]*g[1],p=c[0]*c[0]+c[1]*c[1],m=c[0]*g[0]+c[1]*g[1],w=m*m/v;return m<0?p:w>v?(e-l)*(e-l)+(t-f)*(t-f):p-w},Ta=function(e,t,a){for(var u,l,f,c,g,v=0,p=0;p<a.length/2;p++)if(u=a[p*2],l=a[p*2+1],p+1<a.length/2?(f=a[(p+1)*2],c=a[(p+1)*2+1]):(f=a[(p+1-a.length/2)*2],c=a[(p+1-a.length/2)*2+1]),!(u==e&&f==e))if(u>=e&&e>=f||u<=e&&e<=f)g=(e-u)/(f-u)*(c-l)+l,g>t&&v++;else continue;return v%2!==0},ll=function(e,t,a,u,l,f,c,g,v){var p=new Array(a.length),m;g[0]!=null?(m=Math.atan(g[1]/g[0]),g[0]<0?m=m+Math.PI/2:m=-m-Math.PI/2):m=g;for(var w=Math.cos(-m),S=Math.sin(-m),x=0;x<p.length/2;x++)p[x*2]=f/2*(a[x*2]*w-a[x*2+1]*S),p[x*2+1]=c/2*(a[x*2+1]*w+a[x*2]*S),p[x*2]+=u,p[x*2+1]+=l;var D;if(v>0){var C=Xp(p,-v);D=Kp(C)}else D=p;return Ta(e,t,D)},M2=function(e,t,a,u,l,f,c,g){for(var v=new Array(a.length*2),p=0;p<g.length;p++){var m=g[p];v[p*4+0]=m.startX,v[p*4+1]=m.startY,v[p*4+2]=m.stopX,v[p*4+3]=m.stopY;var w=Math.pow(m.cx-e,2)+Math.pow(m.cy-t,2);if(w<=Math.pow(m.radius,2))return!0}return Ta(e,t,v)},Kp=function(e){for(var t=new Array(e.length/2),a,u,l,f,c,g,v,p,m=0;m<e.length/4;m++){a=e[m*4],u=e[m*4+1],l=e[m*4+2],f=e[m*4+3],m<e.length/4-1?(c=e[(m+1)*4],g=e[(m+1)*4+1],v=e[(m+1)*4+2],p=e[(m+1)*4+3]):(c=e[0],g=e[1],v=e[2],p=e[3]);var w=rs(a,u,l,f,c,g,v,p,!0);t[m*2]=w[0],t[m*2+1]=w[1]}return t},Xp=function(e,t){for(var a=new Array(e.length*2),u,l,f,c,g=0;g<e.length/2;g++){u=e[g*2],l=e[g*2+1],g<e.length/2-1?(f=e[(g+1)*2],c=e[(g+1)*2+1]):(f=e[0],c=e[1]);var v=c-l,p=-(f-u),m=Math.sqrt(v*v+p*p),w=v/m,S=p/m;a[g*4]=u+w*t,a[g*4+1]=l+S*t,a[g*4+2]=f+w*t,a[g*4+3]=c+S*t}return a},B2=function(e,t,a,u,l,f){var c=a-e,g=u-t;c/=l,g/=f;var v=Math.sqrt(c*c+g*g),p=v-1;if(p<0)return[];var m=p/v;return[(a-e)*m+e,(u-t)*m+t]},Mo=function(e,t,a,u,l,f,c){return e-=l,t-=f,e/=a/2+c,t/=u/2+c,e*e+t*t<=1},Kd=function(e,t,a,u,l,f,c){var g=[a-e,u-t],v=[e-l,t-f],p=g[0]*g[0]+g[1]*g[1],m=2*(v[0]*g[0]+v[1]*g[1]),w=v[0]*v[0]+v[1]*v[1]-c*c,S=m*m-4*p*w;if(S<0)return[];var x=(-m+Math.sqrt(S))/(2*p),D=(-m-Math.sqrt(S))/(2*p),C=Math.min(x,D),T=Math.max(x,D),R=[];if(C>=0&&C<=1&&R.push(C),T>=0&&T<=1&&R.push(T),R.length===0)return[];var M=R[0]*g[0]+e,O=R[0]*g[1]+t;if(R.length>1){if(R[0]==R[1])return[M,O];var N=R[1]*g[0]+e,k=R[1]*g[1]+t;return[M,O,N,k]}else return[M,O]},Iy=function(e,t,a){return t<=e&&e<=a||a<=e&&e<=t?e:e<=t&&t<=a||a<=t&&t<=e?t:a},rs=function(e,t,a,u,l,f,c,g,v){var p=e-l,m=a-e,w=c-l,S=t-f,x=u-t,D=g-f,C=w*S-D*p,T=m*S-x*p,R=D*m-w*x;if(R!==0){var M=C/R,O=T/R,N=.001,k=0-N,L=1+N;return k<=M&&M<=L&&k<=O&&O<=L?[e+M*m,t+M*x]:v?[e+M*m,t+M*x]:[]}else return C===0||T===0?Iy(e,a,c)===c?[c,g]:Iy(e,a,l)===l?[l,f]:Iy(l,c,a)===a?[a,u]:[]:[]},ah=function(e,t,a,u,l,f,c,g){var v=[],p,m=new Array(a.length),w=!0;f==null&&(w=!1);var S;if(w){for(var x=0;x<m.length/2;x++)m[x*2]=a[x*2]*f+u,m[x*2+1]=a[x*2+1]*c+l;if(g>0){var D=Xp(m,-g);S=Kp(D)}else S=m}else S=a;for(var C,T,R,M,O=0;O<S.length/2;O++)C=S[O*2],T=S[O*2+1],O<S.length/2-1?(R=S[(O+1)*2],M=S[(O+1)*2+1]):(R=S[0],M=S[1]),p=rs(e,t,u,l,C,T,R,M),p.length!==0&&v.push(p[0],p[1]);return v},O2=function(e,t,a,u,l,f,c,g,v){var p=[],m,w=new Array(a.length*2);v.forEach(function(R,M){M===0?(w[w.length-2]=R.startX,w[w.length-1]=R.startY):(w[M*4-2]=R.startX,w[M*4-1]=R.startY),w[M*4]=R.stopX,w[M*4+1]=R.stopY,m=Kd(e,t,u,l,R.cx,R.cy,R.radius),m.length!==0&&p.push(m[0],m[1])});for(var S=0;S<w.length/4;S++)m=rs(e,t,u,l,w[S*4],w[S*4+1],w[S*4+2],w[S*4+3],!1),m.length!==0&&p.push(m[0],m[1]);if(p.length>2){for(var x=[p[0],p[1]],D=Math.pow(x[0]-e,2)+Math.pow(x[1]-t,2),C=1;C<p.length/2;C++){var T=Math.pow(p[C*2]-e,2)+Math.pow(p[C*2+1]-t,2);T<=D&&(x[0]=p[C*2],x[1]=p[C*2+1],D=T)}return x}return p},xp=function(e,t,a){var u=[e[0]-t[0],e[1]-t[1]],l=Math.sqrt(u[0]*u[0]+u[1]*u[1]),f=(l-a)/l;return f<0&&(f=1e-5),[t[0]+f*u[0],t[1]+f*u[1]]},la=function(e,t){var a=Jy(e,t);return a=jb(a),a},jb=function(e){for(var t,a,u=e.length/2,l=1/0,f=1/0,c=-1/0,g=-1/0,v=0;v<u;v++)t=e[2*v],a=e[2*v+1],l=Math.min(l,t),c=Math.max(c,t),f=Math.min(f,a),g=Math.max(g,a);for(var p=2/(c-l),m=2/(g-f),w=0;w<u;w++)t=e[2*w]=e[2*w]*p,a=e[2*w+1]=e[2*w+1]*m,l=Math.min(l,t),c=Math.max(c,t),f=Math.min(f,a),g=Math.max(g,a);if(f<-1)for(var S=0;S<u;S++)a=e[2*S+1]=e[2*S+1]+(-1-f);return e},Jy=function(e,t){var a=1/e*2*Math.PI,u=e%2===0?Math.PI/2+a/2:Math.PI/2;u+=t;for(var l=new Array(e*2),f,c=0;c<e;c++)f=c*a+u,l[2*c]=Math.cos(f),l[2*c+1]=Math.sin(-f);return l},Lo=function(e,t){return Math.min(e/4,t/4,8)},ew=function(e,t){return Math.min(e/10,t/10,8)},T0=function(){return 8},_2=function(e,t,a){return[e-2*t+a,2*(t-e),e]},jy=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},L2=gr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),z2={pageRank:function(e){for(var t=L2(e),a=t.dampingFactor,u=t.precision,l=t.iterations,f=t.weight,c=this._private.cy,g=this.byGroup(),v=g.nodes,p=g.edges,m=v.length,w=m*m,S=p.length,x=new Array(w),D=new Array(m),C=(1-a)/m,T=0;T<m;T++){for(var R=0;R<m;R++){var M=T*m+R;x[M]=0}D[T]=0}for(var O=0;O<S;O++){var N=p[O],k=N.data("source"),L=N.data("target");if(k!==L){var H=v.indexOfId(k),z=v.indexOfId(L),F=f(N),Y=z*m+H;x[Y]+=F,D[H]+=F}}for(var G=1/m+C,Q=0;Q<m;Q++)if(D[Q]===0)for(var X=0;X<m;X++){var ee=X*m+Q;x[ee]=G}else for(var K=0;K<m;K++){var W=K*m+Q;x[W]=x[W]/D[Q]+C}for(var j=new Array(m),le=new Array(m),I,Z=0;Z<m;Z++)j[Z]=1;for(var ne=0;ne<l;ne++){for(var de=0;de<m;de++)le[de]=0;for(var se=0;se<m;se++)for(var we=0;we<m;we++){var pe=se*m+we;le[se]+=x[pe]*j[we]}p2(le),I=j,j=le,le=I;for(var Re=0,xe=0;xe<m;xe++){var ve=I[xe]-j[xe];Re+=ve*ve}if(Re<u)break}var re={rank:function(_e){return _e=c.collection(_e)[0],j[v.indexOf(_e)]}};return re}},o1=gr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),wc={degreeCentralityNormalized:function(e){e=o1(e);var t=this.cy(),a=this.nodes(),u=a.length;if(e.directed){for(var p={},m={},w=0,S=0,x=0;x<u;x++){var D=a[x],C=D.id();e.root=D;var T=this.degreeCentrality(e);w<T.indegree&&(w=T.indegree),S<T.outdegree&&(S=T.outdegree),p[C]=T.indegree,m[C]=T.outdegree}return{indegree:function(M){return w==0?0:(it(M)&&(M=t.filter(M)),p[M.id()]/w)},outdegree:function(M){return S===0?0:(it(M)&&(M=t.filter(M)),m[M.id()]/S)}}}else{for(var l={},f=0,c=0;c<u;c++){var g=a[c];e.root=g;var v=this.degreeCentrality(e);f<v.degree&&(f=v.degree),l[g.id()]=v.degree}return{degree:function(M){return f===0?0:(it(M)&&(M=t.filter(M)),l[M.id()]/f)}}}},degreeCentrality:function(e){e=o1(e);var t=this.cy(),a=this,u=e,l=u.root,f=u.weight,c=u.directed,g=u.alpha;if(l=t.collection(l)[0],c){for(var S=l.connectedEdges(),x=S.filter(function(k){return k.target().same(l)&&a.has(k)}),D=S.filter(function(k){return k.source().same(l)&&a.has(k)}),C=x.length,T=D.length,R=0,M=0,O=0;O<x.length;O++)R+=f(x[O]);for(var N=0;N<D.length;N++)M+=f(D[N]);return{indegree:Math.pow(C,1-g)*Math.pow(R,g),outdegree:Math.pow(T,1-g)*Math.pow(M,g)}}else{for(var v=l.connectedEdges().intersection(a),p=v.length,m=0,w=0;w<v.length;w++)m+=f(v[w]);return{degree:Math.pow(p,1-g)*Math.pow(m,g)}}}};wc.dc=wc.degreeCentrality;wc.dcn=wc.degreeCentralityNormalised=wc.degreeCentralityNormalized;var f1=gr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ec={closenessCentralityNormalized:function(e){for(var t=f1(e),a=t.harmonic,u=t.weight,l=t.directed,f=this.cy(),c={},g=0,v=this.nodes(),p=this.floydWarshall({weight:u,directed:l}),m=0;m<v.length;m++){for(var w=0,S=v[m],x=0;x<v.length;x++)if(m!==x){var D=p.distance(S,v[x]);a?w+=1/D:w+=D}a||(w=1/w),g<w&&(g=w),c[S.id()]=w}return{closeness:function(T){return g==0?0:(it(T)?T=f.filter(T)[0].id():T=T.id(),c[T]/g)}}},closenessCentrality:function(e){var t=f1(e),a=t.root,u=t.weight,l=t.directed,f=t.harmonic;a=this.filter(a)[0];for(var c=this.dijkstra({root:a,weight:u,directed:l}),g=0,v=this.nodes(),p=0;p<v.length;p++){var m=v[p];if(!m.same(a)){var w=c.distanceTo(m);f?g+=1/w:g+=w}}return f?g:1/g}};Ec.cc=Ec.closenessCentrality;Ec.ccn=Ec.closenessCentralityNormalised=Ec.closenessCentralityNormalized;var N2=gr({weight:null,directed:!1}),e0={betweennessCentrality:function(e){for(var t=N2(e),a=t.directed,u=t.weight,l=u!=null,f=this.cy(),c=this.nodes(),g={},v={},p=0,m={set:function(M,O){v[M]=O,O>p&&(p=O)},get:function(M){return v[M]}},w=0;w<c.length;w++){var S=c[w],x=S.id();a?g[x]=S.outgoers().nodes():g[x]=S.openNeighborhood().nodes(),m.set(x,0)}for(var D=function(M){for(var O=c[M].id(),N=[],k={},L={},H={},z=new hh(function(we,pe){return H[we]-H[pe]}),F=0;F<c.length;F++){var Y=c[F].id();k[Y]=[],L[Y]=0,H[Y]=1/0}for(L[O]=1,H[O]=0,z.push(O);!z.empty();){var G=z.pop();if(N.push(G),l)for(var Q=0;Q<g[G].length;Q++){var X=g[G][Q],ee=f.getElementById(G),K=void 0;ee.edgesTo(X).length>0?K=ee.edgesTo(X)[0]:K=X.edgesTo(ee)[0];var W=u(K);X=X.id(),H[X]>H[G]+W&&(H[X]=H[G]+W,z.nodes.indexOf(X)<0?z.push(X):z.updateItem(X),L[X]=0,k[X]=[]),H[X]==H[G]+W&&(L[X]=L[X]+L[G],k[X].push(G))}else for(var j=0;j<g[G].length;j++){var le=g[G][j].id();H[le]==1/0&&(z.push(le),H[le]=H[G]+1),H[le]==H[G]+1&&(L[le]=L[le]+L[G],k[le].push(G))}}for(var I={},Z=0;Z<c.length;Z++)I[c[Z].id()]=0;for(;N.length>0;){for(var ne=N.pop(),de=0;de<k[ne].length;de++){var se=k[ne][de];I[se]=I[se]+L[se]/L[ne]*(1+I[ne])}ne!=c[M].id()&&m.set(ne,m.get(ne)+I[ne])}},C=0;C<c.length;C++)D(C);var T={betweenness:function(M){var O=f.collection(M).id();return m.get(O)},betweennessNormalized:function(M){if(p==0)return 0;var O=f.collection(M).id();return m.get(O)/p}};return T.betweennessNormalised=T.betweennessNormalized,T}};e0.bc=e0.betweennessCentrality;var k2=gr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(n){return 1}]}),U2=function(e){return k2(e)},I2=function(e,t){for(var a=0,u=0;u<t.length;u++)a+=t[u](e);return a},P2=function(e,t,a){for(var u=0;u<t;u++)e[u*t+u]=a},tw=function(e,t){for(var a,u=0;u<t;u++){a=0;for(var l=0;l<t;l++)a+=e[l*t+u];for(var f=0;f<t;f++)e[f*t+u]=e[f*t+u]/a}},H2=function(e,t,a){for(var u=new Array(a*a),l=0;l<a;l++){for(var f=0;f<a;f++)u[l*a+f]=0;for(var c=0;c<a;c++)for(var g=0;g<a;g++)u[l*a+g]+=e[l*a+c]*t[c*a+g]}return u},q2=function(e,t,a){for(var u=e.slice(0),l=1;l<a;l++)e=H2(e,u,t);return e},F2=function(e,t,a){for(var u=new Array(t*t),l=0;l<t*t;l++)u[l]=Math.pow(e[l],a);return tw(u,t),u},V2=function(e,t,a,u){for(var l=0;l<a;l++){var f=Math.round(e[l]*Math.pow(10,u))/Math.pow(10,u),c=Math.round(t[l]*Math.pow(10,u))/Math.pow(10,u);if(f!==c)return!1}return!0},G2=function(e,t,a,u){for(var l=[],f=0;f<t;f++){for(var c=[],g=0;g<t;g++)Math.round(e[f*t+g]*1e3)/1e3>0&&c.push(a[g]);c.length!==0&&l.push(u.collection(c))}return l},Y2=function(e,t){for(var a=0;a<e.length;a++)if(!t[a]||e[a].id()!==t[a].id())return!1;return!0},K2=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)t!=a&&Y2(e[t],e[a])&&e.splice(a,1);return e},c1=function(e){for(var t=this.nodes(),a=this.edges(),u=this.cy(),l=U2(e),f={},c=0;c<t.length;c++)f[t[c].id()]=c;for(var g=t.length,v=g*g,p=new Array(v),m,w=0;w<v;w++)p[w]=0;for(var S=0;S<a.length;S++){var x=a[S],D=f[x.source().id()],C=f[x.target().id()],T=I2(x,l.attributes);p[D*g+C]+=T,p[C*g+D]+=T}P2(p,g,l.multFactor),tw(p,g);for(var R=!0,M=0;R&&M<l.maxIterations;)R=!1,m=q2(p,g,l.expandFactor),p=F2(m,g,l.inflateFactor),V2(p,m,v,4)||(R=!0),M++;var O=G2(p,g,t,u);return O=K2(O),O},X2={markovClustering:c1,mcl:c1},Z2=function(e){return e},nw=function(e,t){return Math.abs(t-e)},v1=function(e,t,a){return e+nw(t,a)},d1=function(e,t,a){return e+Math.pow(a-t,2)},Q2=function(e){return Math.sqrt(e)},W2=function(e,t,a){return Math.max(e,nw(t,a))},kd=function(e,t,a,u,l){for(var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Z2,c=u,g,v,p=0;p<e;p++)g=t(p),v=a(p),c=l(c,g,v);return f(c)},Cc={euclidean:function(e,t,a){return e>=2?kd(e,t,a,0,d1,Q2):kd(e,t,a,0,v1)},squaredEuclidean:function(e,t,a){return kd(e,t,a,0,d1)},manhattan:function(e,t,a){return kd(e,t,a,0,v1)},max:function(e,t,a){return kd(e,t,a,-1/0,W2)}};Cc["squared-euclidean"]=Cc.squaredEuclidean;Cc.squaredeuclidean=Cc.squaredEuclidean;function um(n,e,t,a,u,l){var f;return Nn(n)?f=n:f=Cc[n]||Cc.euclidean,e===0&&Nn(n)?f(u,l):f(e,t,a,u,l)}var $2=gr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),C0=function(e){return $2(e)},Zp=function(e,t,a,u,l){var f=l!=="kMedoids",c=f?function(m){return a[m]}:function(m){return u[m](a)},g=function(w){return u[w](t)},v=a,p=t;return um(e,u.length,c,g,v,p)},Py=function(e,t,a){for(var u=a.length,l=new Array(u),f=new Array(u),c=new Array(t),g=null,v=0;v<u;v++)l[v]=e.min(a[v]).value,f[v]=e.max(a[v]).value;for(var p=0;p<t;p++){g=[];for(var m=0;m<u;m++)g[m]=Math.random()*(f[m]-l[m])+l[m];c[p]=g}return c},rw=function(e,t,a,u,l){for(var f=1/0,c=0,g=0;g<t.length;g++){var v=Zp(a,e,t[g],u,l);v<f&&(f=v,c=g)}return c},aw=function(e,t,a){for(var u=[],l=null,f=0;f<t.length;f++)l=t[f],a[l.id()]===e&&u.push(l);return u},J2=function(e,t,a){return Math.abs(t-e)<=a},j2=function(e,t,a){for(var u=0;u<e.length;u++)for(var l=0;l<e[u].length;l++){var f=Math.abs(e[u][l]-t[u][l]);if(f>a)return!1}return!0},eT=function(e,t,a){for(var u=0;u<a;u++)if(e===t[u])return!0;return!1},h1=function(e,t){var a=new Array(t);if(e.length<50)for(var u=0;u<t;u++){for(var l=e[Math.floor(Math.random()*e.length)];eT(l,a,u);)l=e[Math.floor(Math.random()*e.length)];a[u]=l}else for(var f=0;f<t;f++)a[f]=e[Math.floor(Math.random()*e.length)];return a},g1=function(e,t,a){for(var u=0,l=0;l<t.length;l++)u+=Zp("manhattan",t[l],e,a,"kMedoids");return u},tT=function(e){var t=this.cy(),a=this.nodes(),u=null,l=C0(e),f=new Array(l.k),c={},g;l.testMode?typeof l.testCentroids=="number"?(l.testCentroids,g=Py(a,l.k,l.attributes)):ar(l.testCentroids)==="object"?g=l.testCentroids:g=Py(a,l.k,l.attributes):g=Py(a,l.k,l.attributes);for(var v=!0,p=0;v&&p<l.maxIterations;){for(var m=0;m<a.length;m++)u=a[m],c[u.id()]=rw(u,g,l.distance,l.attributes,"kMeans");v=!1;for(var w=0;w<l.k;w++){var S=aw(w,a,c);if(S.length!==0){for(var x=l.attributes.length,D=g[w],C=new Array(x),T=new Array(x),R=0;R<x;R++){T[R]=0;for(var M=0;M<S.length;M++)u=S[M],T[R]+=l.attributes[R](u);C[R]=T[R]/S.length,J2(C[R],D[R],l.sensitivityThreshold)||(v=!0)}g[w]=C,f[w]=t.collection(S)}}p++}return f},nT=function(e){var t=this.cy(),a=this.nodes(),u=null,l=C0(e),f=new Array(l.k),c,g={},v,p=new Array(l.k);l.testMode?typeof l.testCentroids=="number"||(ar(l.testCentroids)==="object"?c=l.testCentroids:c=h1(a,l.k)):c=h1(a,l.k);for(var m=!0,w=0;m&&w<l.maxIterations;){for(var S=0;S<a.length;S++)u=a[S],g[u.id()]=rw(u,c,l.distance,l.attributes,"kMedoids");m=!1;for(var x=0;x<c.length;x++){var D=aw(x,a,g);if(D.length!==0){p[x]=g1(c[x],D,l.attributes);for(var C=0;C<D.length;C++)v=g1(D[C],D,l.attributes),v<p[x]&&(p[x]=v,c[x]=D[C],m=!0);f[x]=t.collection(D)}}w++}return f},rT=function(e,t,a,u,l){for(var f,c,g=0;g<t.length;g++)for(var v=0;v<e.length;v++)u[g][v]=Math.pow(a[g][v],l.m);for(var p=0;p<e.length;p++)for(var m=0;m<l.attributes.length;m++){f=0,c=0;for(var w=0;w<t.length;w++)f+=u[w][p]*l.attributes[m](t[w]),c+=u[w][p];e[p][m]=f/c}},aT=function(e,t,a,u,l){for(var f=0;f<e.length;f++)t[f]=e[f].slice();for(var c,g,v,p=2/(l.m-1),m=0;m<a.length;m++)for(var w=0;w<u.length;w++){c=0;for(var S=0;S<a.length;S++)g=Zp(l.distance,u[w],a[m],l.attributes,"cmeans"),v=Zp(l.distance,u[w],a[S],l.attributes,"cmeans"),c+=Math.pow(g/v,p);e[w][m]=1/c}},iT=function(e,t,a,u){for(var l=new Array(a.k),f=0;f<l.length;f++)l[f]=[];for(var c,g,v=0;v<t.length;v++){c=-1/0,g=-1;for(var p=0;p<t[0].length;p++)t[v][p]>c&&(c=t[v][p],g=p);l[g].push(e[v])}for(var m=0;m<l.length;m++)l[m]=u.collection(l[m]);return l},p1=function(e){var t=this.cy(),a=this.nodes(),u=C0(e),l,f,c,g,v;g=new Array(a.length);for(var p=0;p<a.length;p++)g[p]=new Array(u.k);c=new Array(a.length);for(var m=0;m<a.length;m++)c[m]=new Array(u.k);for(var w=0;w<a.length;w++){for(var S=0,x=0;x<u.k;x++)c[w][x]=Math.random(),S+=c[w][x];for(var D=0;D<u.k;D++)c[w][D]=c[w][D]/S}f=new Array(u.k);for(var C=0;C<u.k;C++)f[C]=new Array(u.attributes.length);v=new Array(a.length);for(var T=0;T<a.length;T++)v[T]=new Array(u.k);for(var R=!0,M=0;R&&M<u.maxIterations;)R=!1,rT(f,a,c,v,u),aT(c,g,f,a,u),j2(c,g,u.sensitivityThreshold)||(R=!0),M++;return l=iT(a,c,u,t),{clusters:l,degreeOfMembership:c}},uT={kMeans:tT,kMedoids:nT,fuzzyCMeans:p1,fcm:p1},lT=gr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),sT={single:"min",complete:"max"},oT=function(e){var t=lT(e),a=sT[t.linkage];return a!=null&&(t.linkage=a),t},m1=function(e,t,a,u,l){for(var f=0,c=1/0,g,v=l.attributes,p=function(z,F){return um(l.distance,v.length,function(Y){return v[Y](z)},function(Y){return v[Y](F)},z,F)},m=0;m<e.length;m++){var w=e[m].key,S=a[w][u[w]];S<c&&(f=w,c=S)}if(l.mode==="threshold"&&c>=l.threshold||l.mode==="dendrogram"&&e.length===1)return!1;var x=t[f],D=t[u[f]],C;l.mode==="dendrogram"?C={left:x,right:D,key:x.key}:C={value:x.value.concat(D.value),key:x.key},e[x.index]=C,e.splice(D.index,1),t[x.key]=C;for(var T=0;T<e.length;T++){var R=e[T];x.key===R.key?g=1/0:l.linkage==="min"?(g=a[x.key][R.key],a[x.key][R.key]>a[D.key][R.key]&&(g=a[D.key][R.key])):l.linkage==="max"?(g=a[x.key][R.key],a[x.key][R.key]<a[D.key][R.key]&&(g=a[D.key][R.key])):l.linkage==="mean"?g=(a[x.key][R.key]*x.size+a[D.key][R.key]*D.size)/(x.size+D.size):l.mode==="dendrogram"?g=p(R.value,x.value):g=p(R.value[0],x.value[0]),a[x.key][R.key]=a[R.key][x.key]=g}for(var M=0;M<e.length;M++){var O=e[M].key;if(u[O]===x.key||u[O]===D.key){for(var N=O,k=0;k<e.length;k++){var L=e[k].key;a[O][L]<a[O][N]&&(N=L)}u[O]=N}e[M].index=M}return x.key=D.key=x.index=D.index=null,!0},Sp=function n(e,t,a){e&&(e.value?t.push(e.value):(e.left&&n(e.left,t),e.right&&n(e.right,t)))},fT=function n(e,t){if(!e)return"";if(e.left&&e.right){var a=n(e.left,t),u=n(e.right,t),l=t.add({group:"nodes",data:{id:a+","+u}});return t.add({group:"edges",data:{source:a,target:l.id()}}),t.add({group:"edges",data:{source:u,target:l.id()}}),l.id()}else if(e.value)return e.value.id()},cT=function n(e,t,a){if(!e)return[];var u=[],l=[],f=[];return t===0?(e.left&&Sp(e.left,u),e.right&&Sp(e.right,l),f=u.concat(l),[a.collection(f)]):t===1?e.value?[a.collection(e.value)]:(e.left&&Sp(e.left,u),e.right&&Sp(e.right,l),[a.collection(u),a.collection(l)]):e.value?[a.collection(e.value)]:(e.left&&(u=n(e.left,t-1,a)),e.right&&(l=n(e.right,t-1,a)),u.concat(l))},y1=function(e){for(var t=this.cy(),a=this.nodes(),u=oT(e),l=u.attributes,f=function(M,O){return um(u.distance,l.length,function(N){return l[N](M)},function(N){return l[N](O)},M,O)},c=[],g=[],v=[],p=[],m=0;m<a.length;m++){var w={value:u.mode==="dendrogram"?a[m]:[a[m]],key:m,index:m};c[m]=w,p[m]=w,g[m]=[],v[m]=0}for(var S=0;S<c.length;S++)for(var x=0;x<=S;x++){var D=void 0;u.mode==="dendrogram"?D=S===x?1/0:f(c[S].value,c[x].value):D=S===x?1/0:f(c[S].value[0],c[x].value[0]),g[S][x]=D,g[x][S]=D,D<g[S][v[S]]&&(v[S]=x)}for(var C=m1(c,p,g,v,u);C;)C=m1(c,p,g,v,u);var T;return u.mode==="dendrogram"?(T=cT(c[0],u.dendrogramDepth,t),u.addDendrogram&&fT(c[0],t)):(T=new Array(c.length),c.forEach(function(R,M){R.key=R.index=null,T[M]=t.collection(R.value)})),T},vT={hierarchicalClustering:y1,hca:y1},dT=gr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),hT=function(e){var t=e.damping,a=e.preference;.5<=t&&t<1||zn("Damping must range on [0.5, 1).  Got: ".concat(t));var u=["median","mean","min","max"];return u.some(function(l){return l===a})||He(a)||zn("Preference must be one of [".concat(u.map(function(l){return"'".concat(l,"'")}).join(", "),"] or a number.  Got: ").concat(a)),dT(e)},gT=function(e,t,a,u){var l=function(c,g){return u[g](c)};return-um(e,u.length,function(f){return l(t,f)},function(f){return l(a,f)},t,a)},pT=function(e,t){var a=null;return t==="median"?a=h2(e):t==="mean"?a=d2(e):t==="min"?a=c2(e):t==="max"?a=v2(e):a=t,a},mT=function(e,t,a){for(var u=[],l=0;l<e;l++)t[l*e+l]+a[l*e+l]>0&&u.push(l);return u},b1=function(e,t,a){for(var u=[],l=0;l<e;l++){for(var f=-1,c=-1/0,g=0;g<a.length;g++){var v=a[g];t[l*e+v]>c&&(f=v,c=t[l*e+v])}f>0&&u.push(f)}for(var p=0;p<a.length;p++)u[a[p]]=a[p];return u},yT=function(e,t,a){for(var u=b1(e,t,a),l=0;l<a.length;l++){for(var f=[],c=0;c<u.length;c++)u[c]===a[l]&&f.push(c);for(var g=-1,v=-1/0,p=0;p<f.length;p++){for(var m=0,w=0;w<f.length;w++)m+=t[f[w]*e+f[p]];m>v&&(g=p,v=m)}a[l]=f[g]}return u=b1(e,t,a),u},w1=function(e){for(var t=this.cy(),a=this.nodes(),u=hT(e),l={},f=0;f<a.length;f++)l[a[f].id()]=f;var c,g,v,p,m,w;c=a.length,g=c*c,v=new Array(g);for(var S=0;S<g;S++)v[S]=-1/0;for(var x=0;x<c;x++)for(var D=0;D<c;D++)x!==D&&(v[x*c+D]=gT(u.distance,a[x],a[D],u.attributes));p=pT(v,u.preference);for(var C=0;C<c;C++)v[C*c+C]=p;m=new Array(g);for(var T=0;T<g;T++)m[T]=0;w=new Array(g);for(var R=0;R<g;R++)w[R]=0;for(var M=new Array(c),O=new Array(c),N=new Array(c),k=0;k<c;k++)M[k]=0,O[k]=0,N[k]=0;for(var L=new Array(c*u.minIterations),H=0;H<L.length;H++)L[H]=0;var z;for(z=0;z<u.maxIterations;z++){for(var F=0;F<c;F++){for(var Y=-1/0,G=-1/0,Q=-1,X=0,ee=0;ee<c;ee++)M[ee]=m[F*c+ee],X=w[F*c+ee]+v[F*c+ee],X>=Y?(G=Y,Y=X,Q=ee):X>G&&(G=X);for(var K=0;K<c;K++)m[F*c+K]=(1-u.damping)*(v[F*c+K]-Y)+u.damping*M[K];m[F*c+Q]=(1-u.damping)*(v[F*c+Q]-G)+u.damping*M[Q]}for(var W=0;W<c;W++){for(var j=0,le=0;le<c;le++)M[le]=w[le*c+W],O[le]=Math.max(0,m[le*c+W]),j+=O[le];j-=O[W],O[W]=m[W*c+W],j+=O[W];for(var I=0;I<c;I++)w[I*c+W]=(1-u.damping)*Math.min(0,j-O[I])+u.damping*M[I];w[W*c+W]=(1-u.damping)*(j-O[W])+u.damping*M[W]}for(var Z=0,ne=0;ne<c;ne++){var de=w[ne*c+ne]+m[ne*c+ne]>0?1:0;L[z%u.minIterations*c+ne]=de,Z+=de}if(Z>0&&(z>=u.minIterations-1||z==u.maxIterations-1)){for(var se=0,we=0;we<c;we++){N[we]=0;for(var pe=0;pe<u.minIterations;pe++)N[we]+=L[pe*c+we];(N[we]===0||N[we]===u.minIterations)&&se++}if(se===c)break}}for(var Re=mT(c,m,w),xe=yT(c,v,Re),ve={},re=0;re<Re.length;re++)ve[Re[re]]=[];for(var be=0;be<a.length;be++){var _e=l[a[be].id()],Ue=xe[_e];Ue!=null&&ve[Ue].push(a[be])}for(var Pe=new Array(Re.length),gt=0;gt<Re.length;gt++)Pe[gt]=t.collection(ve[Re[gt]]);return Pe},bT={affinityPropagation:w1,ap:w1},wT=gr({root:void 0,directed:!1}),ET={hierholzer:function(e){if(!Yt(e)){var t=arguments;e={root:t[0],directed:t[1]}}var a=wT(e),u=a.root,l=a.directed,f=this,c=!1,g,v,p;u&&(p=it(u)?this.filter(u)[0].id():u[0].id());var m={},w={};l?f.forEach(function(R){var M=R.id();if(R.isNode()){var O=R.indegree(!0),N=R.outdegree(!0),k=O-N,L=N-O;k==1?g?c=!0:g=M:L==1?v?c=!0:v=M:(L>1||k>1)&&(c=!0),m[M]=[],R.outgoers().forEach(function(H){H.isEdge()&&m[M].push(H.id())})}else w[M]=[void 0,R.target().id()]}):f.forEach(function(R){var M=R.id();if(R.isNode()){var O=R.degree(!0);O%2&&(g?v?c=!0:v=M:g=M),m[M]=[],R.connectedEdges().forEach(function(N){return m[M].push(N.id())})}else w[M]=[R.source().id(),R.target().id()]});var S={found:!1,trail:void 0};if(c)return S;if(v&&g)if(l){if(p&&v!=p)return S;p=v}else{if(p&&v!=p&&g!=p)return S;p||(p=v)}else p||(p=f[0].id());var x=function(M){for(var O=M,N=[M],k,L,H;m[O].length;)k=m[O].shift(),L=w[k][0],H=w[k][1],O!=H?(m[H]=m[H].filter(function(z){return z!=k}),O=H):!l&&O!=L&&(m[L]=m[L].filter(function(z){return z!=k}),O=L),N.unshift(k),N.unshift(O);return N},D=[],C=[];for(C=x(p);C.length!=1;)m[C[0]].length==0?(D.unshift(f.getElementById(C.shift())),D.unshift(f.getElementById(C.shift()))):C=x(C.shift()).concat(C);D.unshift(f.getElementById(C.shift()));for(var T in m)if(m[T].length)return S;return S.found=!0,S.trail=this.spawn(D,!0),S}},Tp=function(){var e=this,t={},a=0,u=0,l=[],f=[],c={},g=function(w,S){for(var x=f.length-1,D=[],C=e.spawn();f[x].x!=w||f[x].y!=S;)D.push(f.pop().edge),x--;D.push(f.pop().edge),D.forEach(function(T){var R=T.connectedNodes().intersection(e);C.merge(T),R.forEach(function(M){var O=M.id(),N=M.connectedEdges().intersection(e);C.merge(M),t[O].cutVertex?C.merge(N.filter(function(k){return k.isLoop()})):C.merge(N)})}),l.push(C)},v=function m(w,S,x){w===x&&(u+=1),t[S]={id:a,low:a++,cutVertex:!1};var D=e.getElementById(S).connectedEdges().intersection(e);if(D.size()===0)l.push(e.spawn(e.getElementById(S)));else{var C,T,R,M;D.forEach(function(O){C=O.source().id(),T=O.target().id(),R=C===S?T:C,R!==x&&(M=O.id(),c[M]||(c[M]=!0,f.push({x:S,y:R,edge:O})),R in t?t[S].low=Math.min(t[S].low,t[R].id):(m(w,R,S),t[S].low=Math.min(t[S].low,t[R].low),t[S].id<=t[R].low&&(t[S].cutVertex=!0,g(S,R))))})}};e.forEach(function(m){if(m.isNode()){var w=m.id();w in t||(u=0,v(w,w),t[w].cutVertex=u>1)}});var p=Object.keys(t).filter(function(m){return t[m].cutVertex}).map(function(m){return e.getElementById(m)});return{cut:e.spawn(p),components:l}},xT={hopcroftTarjanBiconnected:Tp,htbc:Tp,htb:Tp,hopcroftTarjanBiconnectedComponents:Tp},Cp=function(){var e=this,t={},a=0,u=[],l=[],f=e.spawn(e),c=function g(v){l.push(v),t[v]={index:a,low:a++,explored:!1};var p=e.getElementById(v).connectedEdges().intersection(e);if(p.forEach(function(D){var C=D.target().id();C!==v&&(C in t||g(C),t[C].explored||(t[v].low=Math.min(t[v].low,t[C].low)))}),t[v].index===t[v].low){for(var m=e.spawn();;){var w=l.pop();if(m.merge(e.getElementById(w)),t[w].low=t[v].index,t[w].explored=!0,w===v)break}var S=m.edgesWith(m),x=m.merge(S);u.push(x),f=f.difference(x)}};return e.forEach(function(g){if(g.isNode()){var v=g.id();v in t||c(v)}}),{cut:f,components:u}},ST={tarjanStronglyConnected:Cp,tsc:Cp,tscc:Cp,tarjanStronglyConnectedComponents:Cp},iw={};[nh,jS,e2,n2,a2,u2,o2,z2,wc,Ec,e0,X2,uT,vT,bT,ET,xT,ST].forEach(function(n){ct(iw,n)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var uw=0,lw=1,sw=2,sl=function n(e){if(!(this instanceof n))return new n(e);this.id="Thenable/1.0.7",this.state=uw,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};sl.prototype={fulfill:function(e){return E1(this,lw,"fulfillValue",e)},reject:function(e){return E1(this,sw,"rejectReason",e)},then:function(e,t){var a=this,u=new sl;return a.onFulfilled.push(S1(e,u,"fulfill")),a.onRejected.push(S1(t,u,"reject")),ow(a),u.proxy}};var E1=function(e,t,a,u){return e.state===uw&&(e.state=t,e[a]=u,ow(e)),e},ow=function(e){e.state===lw?x1(e,"onFulfilled",e.fulfillValue):e.state===sw&&x1(e,"onRejected",e.rejectReason)},x1=function(e,t,a){if(e[t].length!==0){var u=e[t];e[t]=[];var l=function(){for(var c=0;c<u.length;c++)u[c](a)};typeof setImmediate=="function"?setImmediate(l):setTimeout(l,0)}},S1=function(e,t,a){return function(u){if(typeof e!="function")t[a].call(t,u);else{var l;try{l=e(u)}catch(f){t.reject(f);return}TT(t,l)}}},TT=function n(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var a;if(ar(t)==="object"&&t!==null||typeof t=="function")try{a=t.then}catch(l){e.reject(l);return}if(typeof a=="function"){var u=!1;try{a.call(t,function(l){u||(u=!0,l===t?e.reject(new TypeError("circular thenable chain")):n(e,l))},function(l){u||(u=!0,e.reject(l))})}catch(l){u||e.reject(l)}return}e.fulfill(t)};sl.all=function(n){return new sl(function(e,t){for(var a=new Array(n.length),u=0,l=function(g,v){a[g]=v,u++,u===n.length&&e(a)},f=0;f<n.length;f++)(function(c){var g=n[c],v=g!=null&&g.then!=null;if(v)g.then(function(m){l(c,m)},function(m){t(m)});else{var p=g;l(c,p)}})(f)})};sl.resolve=function(n){return new sl(function(e,t){e(n)})};sl.reject=function(n){return new sl(function(e,t){t(n)})};var Rc=typeof Promise<"u"?Promise:sl,t0=function(e,t,a){var u=m0(e),l=!u,f=this._private=ct({duration:1e3},t,a);if(f.target=e,f.style=f.style||f.css,f.started=!1,f.playing=!1,f.hooked=!1,f.applying=!1,f.progress=0,f.completes=[],f.frames=[],f.complete&&Nn(f.complete)&&f.completes.push(f.complete),l){var c=e.position();f.startPosition=f.startPosition||{x:c.x,y:c.y},f.startStyle=f.startStyle||e.cy().style().getAnimationStartStyle(e,f.style)}if(u){var g=e.pan();f.startPan={x:g.x,y:g.y},f.startZoom=e.zoom()}this.length=1,this[0]=this},zo=t0.prototype;ct(zo,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,a=e.target._private.animation;e.queue?t=a.queue:t=a.current,t.push(this),Qa(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,a=t.playing;return e===void 0?t.progress:(a&&this.pause(),t.progress=e,t.started=!1,a&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var a=function(v,p){var m=e[v];m!=null&&(e[v]=e[p],e[p]=m)};if(a("zoom","startZoom"),a("pan","startPan"),a("position","startPosition"),e.style)for(var u=0;u<e.style.length;u++){var l=e.style[u],f=l.name,c=e.startStyle[f];e.startStyle[f]=l,e.style[u]=c}return t&&this.play(),this},promise:function(e){var t=this._private,a;switch(e){case"frame":a=t.frames;break;default:case"complete":case"completed":a=t.completes}return new Rc(function(u,l){a.push(function(){u()})})}});zo.complete=zo.completed;zo.run=zo.play;zo.running=zo.playing;var CT={animated:function(){return function(){var t=this,a=t.length!==void 0,u=a?t:[t],l=this._private.cy||this;if(!l.styleEnabled())return!1;var f=u[0];if(f)return f._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,a=t.length!==void 0,u=a?t:[t],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var f=0;f<u.length;f++){var c=u[f];c._private.animation.queue=[]}return this}},delay:function(){return function(t,a){var u=this._private.cy||this;return u.styleEnabled()?this.animate({delay:t,duration:t,complete:a}):this}},delayAnimation:function(){return function(t,a){var u=this._private.cy||this;return u.styleEnabled()?this.animation({delay:t,duration:t,complete:a}):this}},animation:function(){return function(t,a){var u=this,l=u.length!==void 0,f=l?u:[u],c=this._private.cy||this,g=!l,v=!g;if(!c.styleEnabled())return this;var p=c.style();t=ct({},t,a);var m=Object.keys(t).length===0;if(m)return new t0(f[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(v&&(t.style=p.getPropsList(t.style||t.css),t.css=void 0),v&&t.renderedPosition!=null){var w=t.renderedPosition,S=c.pan(),x=c.zoom();t.position=Zb(w,x,S)}if(g&&t.panBy!=null){var D=t.panBy,C=c.pan();t.pan={x:C.x+D.x,y:C.y+D.y}}var T=t.center||t.centre;if(g&&T!=null){var R=c.getCenterPan(T.eles,t.zoom);R!=null&&(t.pan=R)}if(g&&t.fit!=null){var M=t.fit,O=c.getFitViewport(M.eles||M.boundingBox,M.padding);O!=null&&(t.pan=O.pan,t.zoom=O.zoom)}if(g&&Yt(t.zoom)){var N=c.getZoomedViewport(t.zoom);N!=null?(N.zoomed&&(t.zoom=N.zoom),N.panned&&(t.pan=N.pan)):t.zoom=null}return new t0(f[0],t)}},animate:function(){return function(t,a){var u=this,l=u.length!==void 0,f=l?u:[u],c=this._private.cy||this;if(!c.styleEnabled())return this;a&&(t=ct({},t,a));for(var g=0;g<f.length;g++){var v=f[g],p=v.animated()&&(t.queue===void 0||t.queue),m=v.animation(t,p?{queue:!0}:void 0);m.play()}return this}},stop:function(){return function(t,a){var u=this,l=u.length!==void 0,f=l?u:[u],c=this._private.cy||this;if(!c.styleEnabled())return this;for(var g=0;g<f.length;g++){for(var v=f[g],p=v._private,m=p.animation.current,w=0;w<m.length;w++){var S=m[w],x=S._private;a&&(x.duration=0)}t&&(p.animation.queue=[]),a||(p.animation.current=[])}return c.notify("draw"),this}}},AT=Array.isArray,lm=AT,DT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RT=/^\w*$/;function MT(n,e){if(lm(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||vh(n)?!0:RT.test(n)||!DT.test(n)||e!=null&&n in Object(e)}var BT=MT,OT="[object AsyncFunction]",_T="[object Function]",LT="[object GeneratorFunction]",zT="[object Proxy]";function NT(n){if(!Oo(n))return!1;var e=Pb(n);return e==_T||e==LT||e==OT||e==zT}var kT=NT,UT=rm["__core-js_shared__"],Hy=UT,T1=function(){var n=/[^.]+$/.exec(Hy&&Hy.keys&&Hy.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function IT(n){return!!T1&&T1 in n}var PT=IT,HT=Function.prototype,qT=HT.toString;function FT(n){if(n!=null){try{return qT.call(n)}catch{}try{return n+""}catch{}}return""}var VT=FT,GT=/[\\^$.*+?()[\]{}|]/g,YT=/^\[object .+?Constructor\]$/,KT=Function.prototype,XT=Object.prototype,ZT=KT.toString,QT=XT.hasOwnProperty,WT=RegExp("^"+ZT.call(QT).replace(GT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $T(n){if(!Oo(n)||PT(n))return!1;var e=kT(n)?WT:YT;return e.test(VT(n))}var JT=$T;function jT(n,e){return n==null?void 0:n[e]}var eC=jT;function tC(n,e){var t=eC(n,e);return JT(t)?t:void 0}var A0=tC,nC=A0(Object,"create"),ih=nC;function rC(){this.__data__=ih?ih(null):{},this.size=0}var aC=rC;function iC(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var uC=iC,lC="__lodash_hash_undefined__",sC=Object.prototype,oC=sC.hasOwnProperty;function fC(n){var e=this.__data__;if(ih){var t=e[n];return t===lC?void 0:t}return oC.call(e,n)?e[n]:void 0}var cC=fC,vC=Object.prototype,dC=vC.hasOwnProperty;function hC(n){var e=this.__data__;return ih?e[n]!==void 0:dC.call(e,n)}var gC=hC,pC="__lodash_hash_undefined__";function mC(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ih&&e===void 0?pC:e,this}var yC=mC;function Mc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}Mc.prototype.clear=aC;Mc.prototype.delete=uC;Mc.prototype.get=cC;Mc.prototype.has=gC;Mc.prototype.set=yC;var C1=Mc;function bC(){this.__data__=[],this.size=0}var wC=bC;function EC(n,e){return n===e||n!==n&&e!==e}var fw=EC;function xC(n,e){for(var t=n.length;t--;)if(fw(n[t][0],e))return t;return-1}var sm=xC,SC=Array.prototype,TC=SC.splice;function CC(n){var e=this.__data__,t=sm(e,n);if(t<0)return!1;var a=e.length-1;return t==a?e.pop():TC.call(e,t,1),--this.size,!0}var AC=CC;function DC(n){var e=this.__data__,t=sm(e,n);return t<0?void 0:e[t][1]}var RC=DC;function MC(n){return sm(this.__data__,n)>-1}var BC=MC;function OC(n,e){var t=this.__data__,a=sm(t,n);return a<0?(++this.size,t.push([n,e])):t[a][1]=e,this}var _C=OC;function Bc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}Bc.prototype.clear=wC;Bc.prototype.delete=AC;Bc.prototype.get=RC;Bc.prototype.has=BC;Bc.prototype.set=_C;var LC=Bc,zC=A0(rm,"Map"),NC=zC;function kC(){this.size=0,this.__data__={hash:new C1,map:new(NC||LC),string:new C1}}var UC=kC;function IC(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var PC=IC;function HC(n,e){var t=n.__data__;return PC(e)?t[typeof e=="string"?"string":"hash"]:t.map}var om=HC;function qC(n){var e=om(this,n).delete(n);return this.size-=e?1:0,e}var FC=qC;function VC(n){return om(this,n).get(n)}var GC=VC;function YC(n){return om(this,n).has(n)}var KC=YC;function XC(n,e){var t=om(this,n),a=t.size;return t.set(n,e),this.size+=t.size==a?0:1,this}var ZC=XC;function Oc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}Oc.prototype.clear=UC;Oc.prototype.delete=FC;Oc.prototype.get=GC;Oc.prototype.has=KC;Oc.prototype.set=ZC;var cw=Oc,QC="Expected a function";function D0(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(QC);var t=function(){var a=arguments,u=e?e.apply(this,a):a[0],l=t.cache;if(l.has(u))return l.get(u);var f=n.apply(this,a);return t.cache=l.set(u,f)||l,f};return t.cache=new(D0.Cache||cw),t}D0.Cache=cw;var WC=D0,$C=500;function JC(n){var e=WC(n,function(a){return t.size===$C&&t.clear(),a}),t=e.cache;return e}var jC=JC,eA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tA=/\\(\\)?/g,nA=jC(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(eA,function(t,a,u,l){e.push(u?l.replace(tA,"$1"):a||t)}),e}),vw=nA;function rA(n,e){for(var t=-1,a=n==null?0:n.length,u=Array(a);++t<a;)u[t]=e(n[t],t,n);return u}var dw=rA,A1=Sc?Sc.prototype:void 0,D1=A1?A1.toString:void 0;function hw(n){if(typeof n=="string")return n;if(lm(n))return dw(n,hw)+"";if(vh(n))return D1?D1.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var aA=hw;function iA(n){return n==null?"":aA(n)}var gw=iA;function uA(n,e){return lm(n)?n:BT(n,e)?[n]:vw(gw(n))}var pw=uA;function lA(n){if(typeof n=="string"||vh(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var R0=lA;function sA(n,e){e=pw(e,n);for(var t=0,a=e.length;n!=null&&t<a;)n=n[R0(e[t++])];return t&&t==a?n:void 0}var oA=sA;function fA(n,e,t){var a=n==null?void 0:oA(n,e);return a===void 0?t:a}var cA=fA,vA=function(){try{var n=A0(Object,"defineProperty");return n({},"",{}),n}catch{}}(),R1=vA;function dA(n,e,t){e=="__proto__"&&R1?R1(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var hA=dA,gA=Object.prototype,pA=gA.hasOwnProperty;function mA(n,e,t){var a=n[e];(!(pA.call(n,e)&&fw(a,t))||t===void 0&&!(e in n))&&hA(n,e,t)}var yA=mA,bA=9007199254740991,wA=/^(?:0|[1-9]\d*)$/;function EA(n,e){var t=typeof n;return e=e??bA,!!e&&(t=="number"||t!="symbol"&&wA.test(n))&&n>-1&&n%1==0&&n<e}var xA=EA;function SA(n,e,t,a){if(!Oo(n))return n;e=pw(e,n);for(var u=-1,l=e.length,f=l-1,c=n;c!=null&&++u<l;){var g=R0(e[u]),v=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return n;if(u!=f){var p=c[g];v=a?a(p,g,c):void 0,v===void 0&&(v=Oo(p)?p:xA(e[u+1])?[]:{})}yA(c,g,v),c=c[g]}return n}var TA=SA;function CA(n,e,t){return n==null?n:TA(n,e,t)}var AA=CA;function DA(n,e){var t=-1,a=n.length;for(e||(e=Array(a));++t<a;)e[t]=n[t];return e}var RA=DA;function MA(n){return lm(n)?dw(n,R0):vh(n)?[n]:RA(vw(gw(n)))}var BA=MA,OA={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(u){},beforeSet:function(u,l){},onSet:function(u){},canSet:function(u){return!0}};return e=ct({},t,e),function(u,l){var f=e,c=this,g=c.length!==void 0,v=g?c:[c],p=g?c[0]:c;if(it(u)){var m=u.indexOf(".")!==-1,w=m&&BA(u);if(f.allowGetting&&l===void 0){var S;return p&&(f.beforeGet(p),w&&p._private[f.field][u]===void 0?S=cA(p._private[f.field],w):S=p._private[f.field][u]),S}else if(f.allowSetting&&l!==void 0){var x=!f.immutableKeys[u];if(x){var D=Rb({},u,l);f.beforeSet(c,D);for(var C=0,T=v.length;C<T;C++){var R=v[C];f.canSet(R)&&(w&&p._private[f.field][u]===void 0?AA(R._private[f.field],w,l):R._private[f.field][u]=l)}f.updateStyle&&c.updateStyle(),f.onSet(c),f.settingTriggersEvent&&c[f.triggerFnName](f.settingEvent)}}}else if(f.allowSetting&&Yt(u)){var M=u,O,N,k=Object.keys(M);f.beforeSet(c,M);for(var L=0;L<k.length;L++){O=k[L],N=M[O];var H=!f.immutableKeys[O];if(H)for(var z=0;z<v.length;z++){var F=v[z];f.canSet(F)&&(F._private[f.field][O]=N)}}f.updateStyle&&c.updateStyle(),f.onSet(c),f.settingTriggersEvent&&c[f.triggerFnName](f.settingEvent)}else if(f.allowBinding&&Nn(u)){var Y=u;c.on(f.bindingEvent,Y)}else if(f.allowGetting&&u===void 0){var G;return p&&(f.beforeGet(p),G=p._private[f.field]),G}return c}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=ct({},t,e),function(u){var l=e,f=this,c=f.length!==void 0,g=c?f:[f];if(it(u)){for(var v=u.split(/\s+/),p=v.length,m=0;m<p;m++){var w=v[m];if(!us(w)){var S=!l.immutableKeys[w];if(S)for(var x=0,D=g.length;x<D;x++)g[x]._private[l.field][w]=void 0}}l.triggerEvent&&f[l.triggerFnName](l.event)}else if(u===void 0){for(var C=0,T=g.length;C<T;C++)for(var R=g[C]._private[l.field],M=Object.keys(R),O=0;O<M.length;O++){var N=M[O],k=!l.immutableKeys[N];k&&(R[N]=void 0)}l.triggerEvent&&f[l.triggerFnName](l.event)}return f}}},_A={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(a,u){var l=this,f=Array.prototype.slice.call(arguments,0);return new Rc(function(c,g){var v=function(S){l.off.apply(l,m),c(S)},p=f.concat([v]),m=p.concat([]);l.on.apply(l,p)})}}},tn={};[CT,OA,_A].forEach(function(n){ct(tn,n)});var LA={animate:tn.animate(),animation:tn.animation(),animated:tn.animated(),clearQueue:tn.clearQueue(),delay:tn.delay(),delayAnimation:tn.delayAnimation(),stop:tn.stop()},kp={classes:function(e){var t=this;if(e===void 0){var a=[];return t[0]._private.classes.forEach(function(x){return a.push(x)}),a}else fn(e)||(e=(e||"").match(/\S+/g)||[]);for(var u=[],l=new Dc(e),f=0;f<t.length;f++){for(var c=t[f],g=c._private,v=g.classes,p=!1,m=0;m<e.length;m++){var w=e[m],S=v.has(w);if(!S){p=!0;break}}p||(p=v.size!==e.length),p&&(g.classes=l,u.push(c))}return u.length>0&&this.spawn(u).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){fn(e)||(e=e.match(/\S+/g)||[]);for(var a=this,u=t===void 0,l=[],f=0,c=a.length;f<c;f++)for(var g=a[f],v=g._private.classes,p=!1,m=0;m<e.length;m++){var w=e[m],S=v.has(w),x=!1;t||u&&!S?(v.add(w),x=!0):(!t||u&&S)&&(v.delete(w),x=!0),!p&&x&&(l.push(g),p=!0)}return l.length>0&&this.spawn(l).updateStyle().emit("class"),a},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var a=this;if(t==null)t=250;else if(t===0)return a;return a.addClass(e),setTimeout(function(){a.removeClass(e)},t),a}};kp.className=kp.classNames=kp.classes;var Vt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:rr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Vt.variable="(?:[\\w-.]|(?:\\\\"+Vt.metaChar+"))+";Vt.className="(?:[\\w-]|(?:\\\\"+Vt.metaChar+"))+";Vt.value=Vt.string+"|"+Vt.number;Vt.id=Vt.variable;(function(){var n,e,t;for(n=Vt.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],Vt.comparatorOp+="|@"+e;for(n=Vt.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],!(e.indexOf("!")>=0)&&e!=="="&&(Vt.comparatorOp+="|\\!"+e)})();var un=function(){return{checks:[]}},Ze={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},n0=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(n,e){return Zx(n.selector,e.selector)}),zA=function(){for(var n={},e,t=0;t<n0.length;t++)e=n0[t],n[e.selector]=e.matches;return n}(),NA=function(e,t){return zA[e](t)},kA="("+n0.map(function(n){return n.selector}).join("|")+")",fc=function(e){return e.replace(new RegExp("\\\\("+Vt.metaChar+")","g"),function(t,a){return a})},ts=function(e,t,a){e[e.length-1]=a},r0=[{name:"group",query:!0,regex:"("+Vt.group+")",populate:function(e,t,a){var u=hr(a,1),l=u[0];t.checks.push({type:Ze.GROUP,value:l==="*"?l:l+"s"})}},{name:"state",query:!0,regex:kA,populate:function(e,t,a){var u=hr(a,1),l=u[0];t.checks.push({type:Ze.STATE,value:l})}},{name:"id",query:!0,regex:"\\#("+Vt.id+")",populate:function(e,t,a){var u=hr(a,1),l=u[0];t.checks.push({type:Ze.ID,value:fc(l)})}},{name:"className",query:!0,regex:"\\.("+Vt.className+")",populate:function(e,t,a){var u=hr(a,1),l=u[0];t.checks.push({type:Ze.CLASS,value:fc(l)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Vt.variable+")\\s*\\]",populate:function(e,t,a){var u=hr(a,1),l=u[0];t.checks.push({type:Ze.DATA_EXIST,field:fc(l)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Vt.variable+")\\s*("+Vt.comparatorOp+")\\s*("+Vt.value+")\\s*\\]",populate:function(e,t,a){var u=hr(a,3),l=u[0],f=u[1],c=u[2],g=new RegExp("^"+Vt.string+"$").exec(c)!=null;g?c=c.substring(1,c.length-1):c=parseFloat(c),t.checks.push({type:Ze.DATA_COMPARE,field:fc(l),operator:f,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Vt.boolOp+")\\s*("+Vt.variable+")\\s*\\]",populate:function(e,t,a){var u=hr(a,2),l=u[0],f=u[1];t.checks.push({type:Ze.DATA_BOOL,field:fc(f),operator:l})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Vt.meta+")\\s*("+Vt.comparatorOp+")\\s*("+Vt.number+")\\s*\\]\\]",populate:function(e,t,a){var u=hr(a,3),l=u[0],f=u[1],c=u[2];t.checks.push({type:Ze.META_COMPARE,field:fc(l),operator:f,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:Vt.separator,populate:function(e,t){var a=e.currentSubject,u=e.edgeCount,l=e.compoundCount,f=e[e.length-1];a!=null&&(f.subject=a,e.currentSubject=null),f.edgeCount=u,f.compoundCount=l,e.edgeCount=0,e.compoundCount=0;var c=e[e.length++]=un();return c}},{name:"directedEdge",separator:!0,regex:Vt.directedEdge,populate:function(e,t){if(e.currentSubject==null){var a=un(),u=t,l=un();return a.checks.push({type:Ze.DIRECTED_EDGE,source:u,target:l}),ts(e,t,a),e.edgeCount++,l}else{var f=un(),c=t,g=un();return f.checks.push({type:Ze.NODE_SOURCE,source:c,target:g}),ts(e,t,f),e.edgeCount++,g}}},{name:"undirectedEdge",separator:!0,regex:Vt.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var a=un(),u=t,l=un();return a.checks.push({type:Ze.UNDIRECTED_EDGE,nodes:[u,l]}),ts(e,t,a),e.edgeCount++,l}else{var f=un(),c=t,g=un();return f.checks.push({type:Ze.NODE_NEIGHBOR,node:c,neighbor:g}),ts(e,t,f),g}}},{name:"child",separator:!0,regex:Vt.child,populate:function(e,t){if(e.currentSubject==null){var a=un(),u=un(),l=e[e.length-1];return a.checks.push({type:Ze.CHILD,parent:l,child:u}),ts(e,t,a),e.compoundCount++,u}else if(e.currentSubject===t){var f=un(),c=e[e.length-1],g=un(),v=un(),p=un(),m=un();return f.checks.push({type:Ze.COMPOUND_SPLIT,left:c,right:g,subject:v}),v.checks=t.checks,t.checks=[{type:Ze.TRUE}],m.checks.push({type:Ze.TRUE}),g.checks.push({type:Ze.PARENT,parent:m,child:p}),ts(e,c,f),e.currentSubject=v,e.compoundCount++,p}else{var w=un(),S=un(),x=[{type:Ze.PARENT,parent:w,child:S}];return w.checks=t.checks,t.checks=x,e.compoundCount++,S}}},{name:"descendant",separator:!0,regex:Vt.descendant,populate:function(e,t){if(e.currentSubject==null){var a=un(),u=un(),l=e[e.length-1];return a.checks.push({type:Ze.DESCENDANT,ancestor:l,descendant:u}),ts(e,t,a),e.compoundCount++,u}else if(e.currentSubject===t){var f=un(),c=e[e.length-1],g=un(),v=un(),p=un(),m=un();return f.checks.push({type:Ze.COMPOUND_SPLIT,left:c,right:g,subject:v}),v.checks=t.checks,t.checks=[{type:Ze.TRUE}],m.checks.push({type:Ze.TRUE}),g.checks.push({type:Ze.ANCESTOR,ancestor:m,descendant:p}),ts(e,c,f),e.currentSubject=v,e.compoundCount++,p}else{var w=un(),S=un(),x=[{type:Ze.ANCESTOR,ancestor:w,descendant:S}];return w.checks=t.checks,t.checks=x,e.compoundCount++,S}}},{name:"subject",modifier:!0,regex:Vt.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return nn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var a=e[e.length-1],u=a.checks[0],l=u==null?null:u.type;l===Ze.DIRECTED_EDGE?u.type=Ze.NODE_TARGET:l===Ze.UNDIRECTED_EDGE&&(u.type=Ze.NODE_NEIGHBOR,u.node=u.nodes[1],u.neighbor=u.nodes[0],u.nodes=null)}}];r0.forEach(function(n){return n.regexObj=new RegExp("^"+n.regex)});var UA=function(e){for(var t,a,u,l=0;l<r0.length;l++){var f=r0[l],c=f.name,g=e.match(f.regexObj);if(g!=null){a=g,t=f,u=c;var v=g[0];e=e.substring(v.length);break}}return{expr:t,match:a,name:u,remaining:e}},IA=function(e){var t=e.match(/^\s+/);if(t){var a=t[0];e=e.substring(a.length)}return e},PA=function(e){var t=this,a=t.inputText=e,u=t[0]=un();for(t.length=1,a=IA(a);;){var l=UA(a);if(l.expr==null)return nn("The selector `"+e+"`is invalid"),!1;var f=l.match.slice(1),c=l.expr.populate(t,u,f);if(c===!1)return!1;if(c!=null&&(u=c),a=l.remaining,a.match(/^\s*$/))break}var g=t[t.length-1];t.currentSubject!=null&&(g.subject=t.currentSubject),g.edgeCount=t.edgeCount,g.compoundCount=t.compoundCount;for(var v=0;v<t.length;v++){var p=t[v];if(p.compoundCount>0&&p.edgeCount>0)return nn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(p.edgeCount>1)return nn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;p.edgeCount===1&&nn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},HA=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(p){return p??""},t=function(p){return it(p)?'"'+p+'"':e(p)},a=function(p){return" "+p+" "},u=function(p,m){var w=p.type,S=p.value;switch(w){case Ze.GROUP:{var x=e(S);return x.substring(0,x.length-1)}case Ze.DATA_COMPARE:{var D=p.field,C=p.operator;return"["+D+a(e(C))+t(S)+"]"}case Ze.DATA_BOOL:{var T=p.operator,R=p.field;return"["+e(T)+R+"]"}case Ze.DATA_EXIST:{var M=p.field;return"["+M+"]"}case Ze.META_COMPARE:{var O=p.operator,N=p.field;return"[["+N+a(e(O))+t(S)+"]]"}case Ze.STATE:return S;case Ze.ID:return"#"+S;case Ze.CLASS:return"."+S;case Ze.PARENT:case Ze.CHILD:return l(p.parent,m)+a(">")+l(p.child,m);case Ze.ANCESTOR:case Ze.DESCENDANT:return l(p.ancestor,m)+" "+l(p.descendant,m);case Ze.COMPOUND_SPLIT:{var k=l(p.left,m),L=l(p.subject,m),H=l(p.right,m);return k+(k.length>0?" ":"")+L+H}case Ze.TRUE:return""}},l=function(p,m){return p.checks.reduce(function(w,S,x){return w+(m===p&&x===0?"$":"")+u(S,m)},"")},f="",c=0;c<this.length;c++){var g=this[c];f+=l(g,g.subject),this.length>1&&c<this.length-1&&(f+=", ")}return this.toStringCache=f,f},qA={parse:PA,toString:HA},mw=function(e,t,a){var u,l=it(e),f=He(e),c=it(a),g,v,p=!1,m=!1,w=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),m=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),p=!0),(l||c||p)&&(g=!l&&!f?"":""+e,v=""+a),p&&(e=g=g.toLowerCase(),a=v=v.toLowerCase()),t){case"*=":u=g.indexOf(v)>=0;break;case"$=":u=g.indexOf(v,g.length-v.length)>=0;break;case"^=":u=g.indexOf(v)===0;break;case"=":u=e===a;break;case">":w=!0,u=e>a;break;case">=":w=!0,u=e>=a;break;case"<":w=!0,u=e<a;break;case"<=":w=!0,u=e<=a;break;default:u=!1;break}return m&&(e!=null||!w)&&(u=!u),u},FA=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},VA=function(e){return e!==void 0},M0=function(e,t){return e.data(t)},GA=function(e,t){return e[t]()},qn=[],Sn=function(e,t){return e.checks.every(function(a){return qn[a.type](a,t)})};qn[Ze.GROUP]=function(n,e){var t=n.value;return t==="*"||t===e.group()};qn[Ze.STATE]=function(n,e){var t=n.value;return NA(t,e)};qn[Ze.ID]=function(n,e){var t=n.value;return e.id()===t};qn[Ze.CLASS]=function(n,e){var t=n.value;return e.hasClass(t)};qn[Ze.META_COMPARE]=function(n,e){var t=n.field,a=n.operator,u=n.value;return mw(GA(e,t),a,u)};qn[Ze.DATA_COMPARE]=function(n,e){var t=n.field,a=n.operator,u=n.value;return mw(M0(e,t),a,u)};qn[Ze.DATA_BOOL]=function(n,e){var t=n.field,a=n.operator;return FA(M0(e,t),a)};qn[Ze.DATA_EXIST]=function(n,e){var t=n.field;return n.operator,VA(M0(e,t))};qn[Ze.UNDIRECTED_EDGE]=function(n,e){var t=n.nodes[0],a=n.nodes[1],u=e.source(),l=e.target();return Sn(t,u)&&Sn(a,l)||Sn(a,u)&&Sn(t,l)};qn[Ze.NODE_NEIGHBOR]=function(n,e){return Sn(n.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&Sn(n.neighbor,t)})};qn[Ze.DIRECTED_EDGE]=function(n,e){return Sn(n.source,e.source())&&Sn(n.target,e.target())};qn[Ze.NODE_SOURCE]=function(n,e){return Sn(n.source,e)&&e.outgoers().some(function(t){return t.isNode()&&Sn(n.target,t)})};qn[Ze.NODE_TARGET]=function(n,e){return Sn(n.target,e)&&e.incomers().some(function(t){return t.isNode()&&Sn(n.source,t)})};qn[Ze.CHILD]=function(n,e){return Sn(n.child,e)&&Sn(n.parent,e.parent())};qn[Ze.PARENT]=function(n,e){return Sn(n.parent,e)&&e.children().some(function(t){return Sn(n.child,t)})};qn[Ze.DESCENDANT]=function(n,e){return Sn(n.descendant,e)&&e.ancestors().some(function(t){return Sn(n.ancestor,t)})};qn[Ze.ANCESTOR]=function(n,e){return Sn(n.ancestor,e)&&e.descendants().some(function(t){return Sn(n.descendant,t)})};qn[Ze.COMPOUND_SPLIT]=function(n,e){return Sn(n.subject,e)&&Sn(n.left,e)&&Sn(n.right,e)};qn[Ze.TRUE]=function(){return!0};qn[Ze.COLLECTION]=function(n,e){var t=n.value;return t.has(e)};qn[Ze.FILTER]=function(n,e){var t=n.value;return t(e)};var YA=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Ze.ID)return e.getElementById(t[0].checks[0].value).collection();var a=function(l){for(var f=0;f<t.length;f++){var c=t[f];if(Sn(c,l))return!0}return!1};return t.text()==null&&(a=function(){return!0}),e.filter(a)},KA=function(e){for(var t=this,a=0;a<t.length;a++){var u=t[a];if(Sn(u,e))return!0}return!1},XA={matches:KA,filter:YA},os=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||it(e)&&e.match(/^\s*$/)||(Qa(e)?this.addQuery({checks:[{type:Ze.COLLECTION,value:e.collection()}]}):Nn(e)?this.addQuery({checks:[{type:Ze.FILTER,value:e}]}):it(e)?this.parse(e)||(this.invalid=!0):zn("A selector must be created from a string; found "))},fs=os.prototype;[qA,XA].forEach(function(n){return ct(fs,n)});fs.text=function(){return this.inputText};fs.size=function(){return this.length};fs.eq=function(n){return this[n]};fs.sameText=function(n){return!this.invalid&&!n.invalid&&this.text()===n.text()};fs.addQuery=function(n){this[this.length++]=n};fs.selector=fs.toString;var as={allAre:function(e){var t=new os(e);return this.every(function(a){return t.matches(a)})},is:function(e){var t=new os(e);return this.some(function(a){return t.matches(a)})},some:function(e,t){for(var a=0;a<this.length;a++){var u=t?e.apply(t,[this[a],a,this]):e(this[a],a,this);if(u)return!0}return!1},every:function(e,t){for(var a=0;a<this.length;a++){var u=t?e.apply(t,[this[a],a,this]):e(this[a],a,this);if(!u)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,a=e.length;return t!==a?!1:t===1?this[0]===e[0]:this.every(function(u){return e.hasElementWithId(u.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(a){return t.hasElementWithId(a.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(a){return t.hasElementWithId(a.id())})}};as.allAreNeighbours=as.allAreNeighbors;as.has=as.contains;as.equal=as.equals=as.same;var bi=function(e,t){return function(u,l,f,c){var g=u,v=this,p;if(g==null?p="":Qa(g)&&g.length===1&&(p=g.id()),v.length===1&&p){var m=v[0]._private,w=m.traversalCache=m.traversalCache||{},S=w[t]=w[t]||[],x=ls(p),D=S[x];return D||(S[x]=e.call(v,u,l,f,c))}else return e.call(v,u,l,f,c)}},Ac={parent:function(e){var t=[];if(this.length===1){var a=this[0]._private.parent;if(a)return a}for(var u=0;u<this.length;u++){var l=this[u],f=l._private.parent;f&&t.push(f)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],a=this.parent();a.nonempty();){for(var u=0;u<a.length;u++){var l=a[u];t.push(l)}a=a.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,a=0;a<this.length;a++){var u=this[a],l=u.parents();t=t||l,t=t.intersect(l)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:bi(function(n){for(var e=[],t=0;t<this.length;t++)for(var a=this[t],u=a._private.children,l=0;l<u.length;l++)e.push(u[l]);return this.spawn(e,!0).filter(n)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function a(u){for(var l=0;l<u.length;l++){var f=u[l];t.push(f),f.children().nonempty()&&a(f.children())}}return a(this.children()),this.spawn(t,!0).filter(e)}};function B0(n,e,t,a){for(var u=[],l=new Dc,f=n.cy(),c=f.hasCompoundNodes(),g=0;g<n.length;g++){var v=n[g];t?u.push(v):c&&a(u,l,v)}for(;u.length>0;){var p=u.shift();e(p),l.add(p.id()),c&&a(u,l,p)}return n}function yw(n,e,t){if(t.isParent())for(var a=t._private.children,u=0;u<a.length;u++){var l=a[u];e.has(l.id())||n.push(l)}}Ac.forEachDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return B0(this,n,e,yw)};function bw(n,e,t){if(t.isChild()){var a=t._private.parent;e.has(a.id())||n.push(a)}}Ac.forEachUp=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return B0(this,n,e,bw)};function ZA(n,e,t){bw(n,e,t),yw(n,e,t)}Ac.forEachUpAndDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return B0(this,n,e,ZA)};Ac.ancestors=Ac.parents;var uh,ww;uh=ww={data:tn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:tn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:tn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:tn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:tn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};uh.attr=uh.data;uh.removeAttr=uh.removeData;var QA=ww,fm={};function qy(n){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var a=0,u=t[0],l=u._private.edges,f=0;f<l.length;f++){var c=l[f];!e&&c.isLoop()||(a+=n(u,c))}return a}else return}}ct(fm,{degree:qy(function(n,e){return e.source().same(e.target())?2:1}),indegree:qy(function(n,e){return e.target().same(n)?1:0}),outdegree:qy(function(n,e){return e.source().same(n)?1:0})});function cc(n,e){return function(t){for(var a,u=this.nodes(),l=0;l<u.length;l++){var f=u[l],c=f[n](t);c!==void 0&&(a===void 0||e(c,a))&&(a=c)}return a}}ct(fm,{minDegree:cc("degree",function(n,e){return n<e}),maxDegree:cc("degree",function(n,e){return n>e}),minIndegree:cc("indegree",function(n,e){return n<e}),maxIndegree:cc("indegree",function(n,e){return n>e}),minOutdegree:cc("outdegree",function(n,e){return n<e}),maxOutdegree:cc("outdegree",function(n,e){return n>e})});ct(fm,{totalDegree:function(e){for(var t=0,a=this.nodes(),u=0;u<a.length;u++)t+=a[u].degree(e);return t}});var Qi,Ew,xw=function(e,t,a){for(var u=0;u<e.length;u++){var l=e[u];if(!l.locked()){var f=l._private.position,c={x:t.x!=null?t.x-f.x:0,y:t.y!=null?t.y-f.y:0};l.isParent()&&!(c.x===0&&c.y===0)&&l.children().shift(c,a),l.dirtyBoundingBoxCache()}}},M1={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){xw(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Qi=Ew={position:tn.data(M1),silentPosition:tn.data(ct({},M1,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){xw(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Yt(e))t?this.silentPosition(e):this.position(e);else if(Nn(e)){var a=e,u=this.cy();u.startBatch();for(var l=0;l<this.length;l++){var f=this[l],c=void 0;(c=a(f,l))&&(t?f.silentPosition(c):f.position(c))}u.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,a){var u;if(Yt(e)?(u={x:He(e.x)?e.x:0,y:He(e.y)?e.y:0},a=t):it(e)&&He(t)&&(u={x:0,y:0},u[e]=t),u!=null){var l=this.cy();l.startBatch();for(var f=0;f<this.length;f++){var c=this[f];if(!(l.hasCompoundNodes()&&c.isChild()&&c.ancestors().anySame(this))){var g=c.position(),v={x:g.x+u.x,y:g.y+u.y};a?c.silentPosition(v):c.position(v)}}l.endBatch()}return this},silentShift:function(e,t){return Yt(e)?this.shift(e,!0):it(e)&&He(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var a=this[0],u=this.cy(),l=u.zoom(),f=u.pan(),c=Yt(e)?e:void 0,g=c!==void 0||t!==void 0&&it(e);if(a&&a.isNode())if(g)for(var v=0;v<this.length;v++){var p=this[v];t!==void 0?p.position(e,(t-f[e])/l):c!==void 0&&p.position(Zb(c,l,f))}else{var m=a.position();return c=im(m,l,f),e===void 0?c:c[e]}else if(!g)return;return this},relativePosition:function(e,t){var a=this[0],u=this.cy(),l=Yt(e)?e:void 0,f=l!==void 0||t!==void 0&&it(e),c=u.hasCompoundNodes();if(a&&a.isNode())if(f)for(var g=0;g<this.length;g++){var v=this[g],p=c?v.parent():null,m=p&&p.length>0,w=m;m&&(p=p[0]);var S=w?p.position():{x:0,y:0};t!==void 0?v.position(e,t+S[e]):l!==void 0&&v.position({x:l.x+S.x,y:l.y+S.y})}else{var x=a.position(),D=c?a.parent():null,C=D&&D.length>0,T=C;C&&(D=D[0]);var R=T?D.position():{x:0,y:0};return l={x:x.x-R.x,y:x.y-R.y},e===void 0?l:l[e]}else if(!f)return;return this}};Qi.modelPosition=Qi.point=Qi.position;Qi.modelPositions=Qi.points=Qi.positions;Qi.renderedPoint=Qi.renderedPosition;Qi.relativePoint=Qi.relativePosition;var WA=Ew,xc,hs;xc=hs={};hs.renderedBoundingBox=function(n){var e=this.boundingBox(n),t=this.cy(),a=t.zoom(),u=t.pan(),l=e.x1*a+u.x,f=e.x2*a+u.x,c=e.y1*a+u.y,g=e.y2*a+u.y;return{x1:l,x2:f,y1:c,y2:g,w:f-l,h:g-c}};hs.dirtyCompoundBoundsCache=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var a=t._private;a.compoundBoundsClean=!1,a.bbCache=null,n||t.emitAndNotify("bounds")}}),this)};hs.updateCompoundBounds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!n&&e.batching())return this;function t(f){if(!f.isParent())return;var c=f._private,g=f.children(),v=f.pstyle("compound-sizing-wrt-labels").value==="include",p={width:{val:f.pstyle("min-width").pfValue,left:f.pstyle("min-width-bias-left"),right:f.pstyle("min-width-bias-right")},height:{val:f.pstyle("min-height").pfValue,top:f.pstyle("min-height-bias-top"),bottom:f.pstyle("min-height-bias-bottom")}},m=g.boundingBox({includeLabels:v,includeOverlays:!1,useCache:!1}),w=c.position;(m.w===0||m.h===0)&&(m={w:f.pstyle("width").pfValue,h:f.pstyle("height").pfValue},m.x1=w.x-m.w/2,m.x2=w.x+m.w/2,m.y1=w.y-m.h/2,m.y2=w.y+m.h/2);function S(z,F,Y){var G=0,Q=0,X=F+Y;return z>0&&X>0&&(G=F/X*z,Q=Y/X*z),{biasDiff:G,biasComplementDiff:Q}}function x(z,F,Y,G){if(Y.units==="%")switch(G){case"width":return z>0?Y.pfValue*z:0;case"height":return F>0?Y.pfValue*F:0;case"average":return z>0&&F>0?Y.pfValue*(z+F)/2:0;case"min":return z>0&&F>0?z>F?Y.pfValue*F:Y.pfValue*z:0;case"max":return z>0&&F>0?z>F?Y.pfValue*z:Y.pfValue*F:0;default:return 0}else return Y.units==="px"?Y.pfValue:0}var D=p.width.left.value;p.width.left.units==="px"&&p.width.val>0&&(D=D*100/p.width.val);var C=p.width.right.value;p.width.right.units==="px"&&p.width.val>0&&(C=C*100/p.width.val);var T=p.height.top.value;p.height.top.units==="px"&&p.height.val>0&&(T=T*100/p.height.val);var R=p.height.bottom.value;p.height.bottom.units==="px"&&p.height.val>0&&(R=R*100/p.height.val);var M=S(p.width.val-m.w,D,C),O=M.biasDiff,N=M.biasComplementDiff,k=S(p.height.val-m.h,T,R),L=k.biasDiff,H=k.biasComplementDiff;c.autoPadding=x(m.w,m.h,f.pstyle("padding"),f.pstyle("padding-relative-to").value),c.autoWidth=Math.max(m.w,p.width.val),w.x=(-O+m.x1+m.x2+N)/2,c.autoHeight=Math.max(m.h,p.height.val),w.y=(-L+m.y1+m.y2+H)/2}for(var a=0;a<this.length;a++){var u=this[a],l=u._private;(!l.compoundBoundsClean||n)&&(t(u),e.batching()||(l.compoundBoundsClean=!0))}return this};var pi=function(e){return e===1/0||e===-1/0?0:e},Xi=function(e,t,a,u,l){u-t===0||l-a===0||t==null||a==null||u==null||l==null||(e.x1=t<e.x1?t:e.x1,e.x2=u>e.x2?u:e.x2,e.y1=a<e.y1?a:e.y1,e.y2=l>e.y2?l:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ao=function(e,t){return t==null?e:Xi(e,t.x1,t.y1,t.x2,t.y2)},Ud=function(e,t,a){return Zi(e,t,a)},Ap=function(e,t,a){if(!t.cy().headless()){var u=t._private,l=u.rstyle,f=l.arrowWidth/2,c=t.pstyle(a+"-arrow-shape").value,g,v;if(c!=="none"){a==="source"?(g=l.srcX,v=l.srcY):a==="target"?(g=l.tgtX,v=l.tgtY):(g=l.midX,v=l.midY);var p=u.arrowBounds=u.arrowBounds||{},m=p[a]=p[a]||{};m.x1=g-f,m.y1=v-f,m.x2=g+f,m.y2=v+f,m.w=m.x2-m.x1,m.h=m.y2-m.y1,zp(m,1),Xi(e,m.x1,m.y1,m.x2,m.y2)}}},Fy=function(e,t,a){if(!t.cy().headless()){var u;a?u=a+"-":u="";var l=t._private,f=l.rstyle,c=t.pstyle(u+"label").strValue;if(c){var g=t.pstyle("text-halign"),v=t.pstyle("text-valign"),p=Ud(f,"labelWidth",a),m=Ud(f,"labelHeight",a),w=Ud(f,"labelX",a),S=Ud(f,"labelY",a),x=t.pstyle(u+"text-margin-x").pfValue,D=t.pstyle(u+"text-margin-y").pfValue,C=t.isEdge(),T=t.pstyle(u+"text-rotation"),R=t.pstyle("text-outline-width").pfValue,M=t.pstyle("text-border-width").pfValue,O=M/2,N=t.pstyle("text-background-padding").pfValue,k=2,L=m,H=p,z=H/2,F=L/2,Y,G,Q,X;if(C)Y=w-z,G=w+z,Q=S-F,X=S+F;else{switch(g.value){case"left":Y=w-H,G=w;break;case"center":Y=w-z,G=w+z;break;case"right":Y=w,G=w+H;break}switch(v.value){case"top":Q=S-L,X=S;break;case"center":Q=S-F,X=S+F;break;case"bottom":Q=S,X=S+L;break}}var ee=x-Math.max(R,O)-N-k,K=x+Math.max(R,O)+N+k,W=D-Math.max(R,O)-N-k,j=D+Math.max(R,O)+N+k;Y+=ee,G+=K,Q+=W,X+=j;var le=a||"main",I=l.labelBounds,Z=I[le]=I[le]||{};Z.x1=Y,Z.y1=Q,Z.x2=G,Z.y2=X,Z.w=G-Y,Z.h=X-Q,Z.leftPad=ee,Z.rightPad=K,Z.topPad=W,Z.botPad=j;var ne=C&&T.strValue==="autorotate",de=T.pfValue!=null&&T.pfValue!==0;if(ne||de){var se=ne?Ud(l.rstyle,"labelAngle",a):T.pfValue,we=Math.cos(se),pe=Math.sin(se),Re=(Y+G)/2,xe=(Q+X)/2;if(!C){switch(g.value){case"left":Re=G;break;case"right":Re=Y;break}switch(v.value){case"top":xe=X;break;case"bottom":xe=Q;break}}var ve=function(xt,Ge){return xt=xt-Re,Ge=Ge-xe,{x:xt*we-Ge*pe+Re,y:xt*pe+Ge*we+xe}},re=ve(Y,Q),be=ve(Y,X),_e=ve(G,Q),Ue=ve(G,X);Y=Math.min(re.x,be.x,_e.x,Ue.x),G=Math.max(re.x,be.x,_e.x,Ue.x),Q=Math.min(re.y,be.y,_e.y,Ue.y),X=Math.max(re.y,be.y,_e.y,Ue.y)}var Pe=le+"Rot",gt=I[Pe]=I[Pe]||{};gt.x1=Y,gt.y1=Q,gt.x2=G,gt.y2=X,gt.w=G-Y,gt.h=X-Q,Xi(e,Y,Q,G,X),Xi(l.labelBounds.all,Y,Q,G,X)}return e}},$A=function(e,t){if(!t.cy().headless()){var a=t.pstyle("outline-opacity").value,u=t.pstyle("outline-width").value;if(a>0&&u>0){var l=t.pstyle("outline-offset").value,f=t.pstyle("shape").value,c=u+l,g=(e.w+c*2)/e.w,v=(e.h+c*2)/e.h,p=0,m=0;["diamond","pentagon","round-triangle"].includes(f)?(g=(e.w+c*2.4)/e.w,m=-c/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(f)?g=(e.w+c*2.4)/e.w:f==="star"?(g=(e.w+c*2.8)/e.w,v=(e.h+c*2.6)/e.h,m=-c/3.8):f==="triangle"?(g=(e.w+c*2.8)/e.w,v=(e.h+c*2.4)/e.h,m=-c/1.4):f==="vee"&&(g=(e.w+c*4.4)/e.w,v=(e.h+c*3.8)/e.h,m=-c*.5);var w=e.h*v-e.h,S=e.w*g-e.w;if(Np(e,[Math.ceil(w/2),Math.ceil(S/2)]),p!=0||m!==0){var x=w2(e,p,m);Wb(e,x)}}}},JA=function(e,t){var a=e._private.cy,u=a.styleEnabled(),l=a.headless(),f=Ca(),c=e._private,g=e.isNode(),v=e.isEdge(),p,m,w,S,x,D,C=c.rstyle,T=g&&u?e.pstyle("bounds-expansion").pfValue:[0],R=function(_t){return _t.pstyle("display").value!=="none"},M=!u||R(e)&&(!v||R(e.source())&&R(e.target()));if(M){var O=0,N=0;u&&t.includeOverlays&&(O=e.pstyle("overlay-opacity").value,O!==0&&(N=e.pstyle("overlay-padding").value));var k=0,L=0;u&&t.includeUnderlays&&(k=e.pstyle("underlay-opacity").value,k!==0&&(L=e.pstyle("underlay-padding").value));var H=Math.max(N,L),z=0,F=0;if(u&&(z=e.pstyle("width").pfValue,F=z/2),g&&t.includeNodes){var Y=e.position();x=Y.x,D=Y.y;var G=e.outerWidth(),Q=G/2,X=e.outerHeight(),ee=X/2;p=x-Q,m=x+Q,w=D-ee,S=D+ee,Xi(f,p,w,m,S),u&&t.includeOutlines&&$A(f,e)}else if(v&&t.includeEdges)if(u&&!l){var K=e.pstyle("curve-style").strValue;if(p=Math.min(C.srcX,C.midX,C.tgtX),m=Math.max(C.srcX,C.midX,C.tgtX),w=Math.min(C.srcY,C.midY,C.tgtY),S=Math.max(C.srcY,C.midY,C.tgtY),p-=F,m+=F,w-=F,S+=F,Xi(f,p,w,m,S),K==="haystack"){var W=C.haystackPts;if(W&&W.length===2){if(p=W[0].x,w=W[0].y,m=W[1].x,S=W[1].y,p>m){var j=p;p=m,m=j}if(w>S){var le=w;w=S,S=le}Xi(f,p-F,w-F,m+F,S+F)}}else if(K==="bezier"||K==="unbundled-bezier"||K.endsWith("segments")||K.endsWith("taxi")){var I;switch(K){case"bezier":case"unbundled-bezier":I=C.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":I=C.linePts;break}if(I!=null)for(var Z=0;Z<I.length;Z++){var ne=I[Z];p=ne.x-F,m=ne.x+F,w=ne.y-F,S=ne.y+F,Xi(f,p,w,m,S)}}}else{var de=e.source(),se=de.position(),we=e.target(),pe=we.position();if(p=se.x,m=pe.x,w=se.y,S=pe.y,p>m){var Re=p;p=m,m=Re}if(w>S){var xe=w;w=S,S=xe}p-=F,m+=F,w-=F,S+=F,Xi(f,p,w,m,S)}if(u&&t.includeEdges&&v&&(Ap(f,e,"mid-source"),Ap(f,e,"mid-target"),Ap(f,e,"source"),Ap(f,e,"target")),u){var ve=e.pstyle("ghost").value==="yes";if(ve){var re=e.pstyle("ghost-offset-x").pfValue,be=e.pstyle("ghost-offset-y").pfValue;Xi(f,f.x1+re,f.y1+be,f.x2+re,f.y2+be)}}var _e=c.bodyBounds=c.bodyBounds||{};s1(_e,f),Np(_e,T),zp(_e,1),u&&(p=f.x1,m=f.x2,w=f.y1,S=f.y2,Xi(f,p-H,w-H,m+H,S+H));var Ue=c.overlayBounds=c.overlayBounds||{};s1(Ue,f),Np(Ue,T),zp(Ue,1);var Pe=c.labelBounds=c.labelBounds||{};Pe.all!=null?b2(Pe.all):Pe.all=Ca(),u&&t.includeLabels&&(t.includeMainLabels&&Fy(f,e,null),v&&(t.includeSourceLabels&&Fy(f,e,"source"),t.includeTargetLabels&&Fy(f,e,"target")))}return f.x1=pi(f.x1),f.y1=pi(f.y1),f.x2=pi(f.x2),f.y2=pi(f.y2),f.w=pi(f.x2-f.x1),f.h=pi(f.y2-f.y1),f.w>0&&f.h>0&&M&&(Np(f,T),zp(f,1)),f},Sw=function(e){var t=0,a=function(f){return(f?1:0)<<t++},u=0;return u+=a(e.incudeNodes),u+=a(e.includeEdges),u+=a(e.includeLabels),u+=a(e.includeMainLabels),u+=a(e.includeSourceLabels),u+=a(e.includeTargetLabels),u+=a(e.includeOverlays),u+=a(e.includeOutlines),u},Tw=function(e){if(e.isEdge()){var t=e.source().position(),a=e.target().position(),u=function(f){return Math.round(f)};return HS([u(t.x),u(t.y),u(a.x),u(a.y)])}else return 0},B1=function(e,t){var a=e._private,u,l=e.isEdge(),f=t==null?O1:Sw(t),c=f===O1,g=Tw(e),v=a.bbCachePosKey===g,p=t.useCache&&v,m=function(D){return D._private.bbCache==null||D._private.styleDirty},w=!p||m(e)||l&&(m(e.source())||m(e.target()));if(w?(v||e.recalculateRenderedStyle(p),u=JA(e,lh),a.bbCache=u,a.bbCachePosKey=g):u=a.bbCache,!c){var S=e.isNode();u=Ca(),(t.includeNodes&&S||t.includeEdges&&!S)&&(t.includeOverlays?Ao(u,a.overlayBounds):Ao(u,a.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!l||t.includeSourceLabels&&t.includeTargetLabels)?Ao(u,a.labelBounds.all):(t.includeMainLabels&&Ao(u,a.labelBounds.mainRot),t.includeSourceLabels&&Ao(u,a.labelBounds.sourceRot),t.includeTargetLabels&&Ao(u,a.labelBounds.targetRot))),u.w=u.x2-u.x1,u.h=u.y2-u.y1}return u},lh={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},O1=Sw(lh),_1=gr(lh);hs.boundingBox=function(n){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(n===void 0||n.useCache===void 0||n.useCache===!0))n===void 0?n=lh:n=_1(n),e=B1(this[0],n);else{e=Ca(),n=n||lh;var t=_1(n),a=this,u=a.cy(),l=u.styleEnabled();if(l)for(var f=0;f<a.length;f++){var c=a[f],g=c._private,v=Tw(c),p=g.bbCachePosKey===v,m=t.useCache&&p&&!g.styleDirty;c.recalculateRenderedStyle(m)}this.updateCompoundBounds(!n.useCache);for(var w=0;w<a.length;w++){var S=a[w];Ao(e,B1(S,t))}}return e.x1=pi(e.x1),e.y1=pi(e.y1),e.x2=pi(e.x2),e.y2=pi(e.y2),e.w=pi(e.x2-e.x1),e.h=pi(e.y2-e.y1),e};hs.dirtyBoundingBoxCache=function(){for(var n=0;n<this.length;n++){var e=this[n]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};hs.boundingBoxAt=function(n){var e=this.nodes(),t=this.cy(),a=t.hasCompoundNodes(),u=t.collection();if(a&&(u=e.filter(function(v){return v.isParent()}),e=e.not(u)),Yt(n)){var l=n;n=function(){return l}}var f=function(p,m){return p._private.bbAtOldPos=n(p,m)},c=function(p){return p._private.bbAtOldPos};t.startBatch(),e.forEach(f).silentPositions(n),a&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0));var g=y2(this.boundingBox({useCache:!1}));return e.silentPositions(c),a&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0)),t.endBatch(),g};xc.boundingbox=xc.bb=xc.boundingBox;xc.renderedBoundingbox=xc.renderedBoundingBox;var jA=hs,Xd,gh;Xd=gh={};var Cw=function(e){e.uppercaseName=t1(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=t1(e.outerName),Xd[e.name]=function(){var a=this[0],u=a._private,l=u.cy,f=l._private.styleEnabled;if(a)if(f){if(a.isParent())return a.updateCompoundBounds(),u[e.autoName]||0;var c=a.pstyle(e.name);switch(c.strValue){case"label":return a.recalculateRenderedStyle(),u.rstyle[e.labelName]||0;default:return c.pfValue}}else return 1},Xd["outer"+e.uppercaseName]=function(){var a=this[0],u=a._private,l=u.cy,f=l._private.styleEnabled;if(a)if(f){var c=a[e.name](),g=a.pstyle("border-width").pfValue,v=2*a.padding();return c+g+v}else return 1},Xd["rendered"+e.uppercaseName]=function(){var a=this[0];if(a){var u=a[e.name]();return u*this.cy().zoom()}},Xd["rendered"+e.uppercaseOuterName]=function(){var a=this[0];if(a){var u=a[e.outerName]();return u*this.cy().zoom()}}};Cw({name:"width"});Cw({name:"height"});gh.padding=function(){var n=this[0],e=n._private;return n.isParent()?(n.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:n.pstyle("padding").pfValue):n.pstyle("padding").pfValue};gh.paddedHeight=function(){var n=this[0];return n.height()+2*n.padding()};gh.paddedWidth=function(){var n=this[0];return n.width()+2*n.padding()};var eD=gh,tD=function(e,t){if(e.isEdge())return t(e)},nD=function(e,t){if(e.isEdge()){var a=e.cy();return im(t(e),a.zoom(),a.pan())}},rD=function(e,t){if(e.isEdge()){var a=e.cy(),u=a.pan(),l=a.zoom();return t(e).map(function(f){return im(f,l,u)})}},aD=function(e){return e.renderer().getControlPoints(e)},iD=function(e){return e.renderer().getSegmentPoints(e)},uD=function(e){return e.renderer().getSourceEndpoint(e)},lD=function(e){return e.renderer().getTargetEndpoint(e)},sD=function(e){return e.renderer().getEdgeMidpoint(e)},L1={controlPoints:{get:aD,mult:!0},segmentPoints:{get:iD,mult:!0},sourceEndpoint:{get:uD},targetEndpoint:{get:lD},midpoint:{get:sD}},oD=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},fD=Object.keys(L1).reduce(function(n,e){var t=L1[e],a=oD(e);return n[e]=function(){return tD(this,t.get)},t.mult?n[a]=function(){return rD(this,t.get)}:n[a]=function(){return nD(this,t.get)},n},{}),cD=ct({},WA,jA,eD,fD);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Aw=function(e,t){this.recycle(e,t)};function Id(){return!1}function Dp(){return!0}Aw.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Id,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Dp:Id):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var a=this.position,u=this.cy.zoom(),l=this.cy.pan();this.renderedPosition={x:a.x*u+l.x,y:a.y*u+l.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Dp;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Dp;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Dp,this.stopPropagation()},isDefaultPrevented:Id,isPropagationStopped:Id,isImmediatePropagationStopped:Id};var Dw=/^([^.]+)(\.(?:[^.]+))?$/,vD=".*",Rw={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},z1=Object.keys(Rw),dD={};function cm(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dD,e=arguments.length>1?arguments[1]:void 0,t=0;t<z1.length;t++){var a=z1[t];this[a]=n[a]||Rw[a]}this.context=e||this.context,this.listeners=[],this.emitting=0}var cs=cm.prototype,Mw=function(e,t,a,u,l,f,c){Nn(u)&&(l=u,u=null),c&&(f==null?f=c:f=ct({},f,c));for(var g=fn(a)?a:a.split(/\s+/),v=0;v<g.length;v++){var p=g[v];if(!us(p)){var m=p.match(Dw);if(m){var w=m[1],S=m[2]?m[2]:null,x=t(e,p,w,S,u,l,f);if(x===!1)break}}}},N1=function(e,t){return e.addEventFields(e.context,t),new Aw(t.type,t)},hD=function(e,t,a){if(Ux(a)){t(e,a);return}else if(Yt(a)){t(e,N1(e,a));return}for(var u=fn(a)?a:a.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!us(f)){var c=f.match(Dw);if(c){var g=c[1],v=c[2]?c[2]:null,p=N1(e,{type:g,namespace:v,target:e.context});t(e,p)}}}};cs.on=cs.addListener=function(n,e,t,a,u){return Mw(this,function(l,f,c,g,v,p,m){Nn(p)&&l.listeners.push({event:f,callback:p,type:c,namespace:g,qualifier:v,conf:m})},n,e,t,a,u),this};cs.one=function(n,e,t,a){return this.on(n,e,t,a,{one:!0})};cs.removeListener=cs.off=function(n,e,t,a){var u=this;this.emitting!==0&&(this.listeners=YS(this.listeners));for(var l=this.listeners,f=function(v){var p=l[v];Mw(u,function(m,w,S,x,D,C){if((p.type===S||n==="*")&&(!x&&p.namespace!==".*"||p.namespace===x)&&(!D||m.qualifierCompare(p.qualifier,D))&&(!C||p.callback===C))return l.splice(v,1),!1},n,e,t,a)},c=l.length-1;c>=0;c--)f(c);return this};cs.removeAllListeners=function(){return this.removeListener("*")};cs.emit=cs.trigger=function(n,e,t){var a=this.listeners,u=a.length;return this.emitting++,fn(e)||(e=[e]),hD(this,function(l,f){t!=null&&(a=[{event:f.event,type:f.type,namespace:f.namespace,callback:t}],u=a.length);for(var c=function(p){var m=a[p];if(m.type===f.type&&(!m.namespace||m.namespace===f.namespace||m.namespace===vD)&&l.eventMatches(l.context,m,f)){var w=[f];e!=null&&XS(w,e),l.beforeEmit(l.context,m,f),m.conf&&m.conf.one&&(l.listeners=l.listeners.filter(function(D){return D!==m}));var S=l.callbackContext(l.context,m,f),x=m.callback.apply(S,w);l.afterEmit(l.context,m,f),x===!1&&(f.stopPropagation(),f.preventDefault())}},g=0;g<u;g++)c(g);l.bubble(l.context)&&!f.isPropagationStopped()&&l.parent(l.context).emit(f,e)},n),this.emitting--,this};var gD={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,a){var u=t.qualifier;return u!=null?e!==a.target&&ch(a.target)&&u.matches(a.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,a){return t.qualifier!=null?a.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Rp=function(e){return it(e)?new os(e):e},Bw={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],a=t._private;a.emitter||(a.emitter=new cm(gD,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,a){for(var u=Rp(t),l=0;l<this.length;l++){var f=this[l];f.emitter().on(e,u,a)}return this},removeListener:function(e,t,a){for(var u=Rp(t),l=0;l<this.length;l++){var f=this[l];f.emitter().removeListener(e,u,a)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,a){for(var u=Rp(t),l=0;l<this.length;l++){var f=this[l];f.emitter().one(e,u,a)}return this},once:function(e,t,a){for(var u=Rp(t),l=0;l<this.length;l++){var f=this[l];f.emitter().on(e,u,a,{once:!0,onceCollection:this})}},emit:function(e,t){for(var a=0;a<this.length;a++){var u=this[a];u.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};tn.eventAliasesOn(Bw);var Ow={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),a=0;a<this.length;a++){var u=this[a];u.isNode()?e.push(u):t.push(u)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(it(e)||Qa(e))return new os(e).filter(this);if(Nn(e)){for(var a=this.spawn(),u=this,l=0;l<u.length;l++){var f=u[l],c=t?e.apply(t,[f,l,u]):e(f,l,u);c&&a.push(f)}return a}return this.spawn()},not:function(e){if(e){it(e)&&(e=this.filter(e));for(var t=this.spawn(),a=0;a<this.length;a++){var u=this[a],l=e.has(u);l||t.push(u)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(it(e)){var t=e;return this.filter(t)}for(var a=this.spawn(),u=this,l=e,f=this.length<e.length,c=f?u:l,g=f?l:u,v=0;v<c.length;v++){var p=c[v];g.has(p)&&a.push(p)}return a},xor:function(e){var t=this._private.cy;it(e)&&(e=t.$(e));var a=this.spawn(),u=this,l=e,f=function(g,v){for(var p=0;p<g.length;p++){var m=g[p],w=m._private.data.id,S=v.hasElementWithId(w);S||a.push(m)}};return f(u,l),f(l,u),a},diff:function(e){var t=this._private.cy;it(e)&&(e=t.$(e));var a=this.spawn(),u=this.spawn(),l=this.spawn(),f=this,c=e,g=function(p,m,w){for(var S=0;S<p.length;S++){var x=p[S],D=x._private.data.id,C=m.hasElementWithId(D);C?l.merge(x):w.push(x)}};return g(f,c,a),g(c,f,u),{left:a,right:u,both:l}},add:function(e){var t=this._private.cy;if(!e)return this;if(it(e)){var a=e;e=t.mutableElements().filter(a)}for(var u=this.spawnSelf(),l=0;l<e.length;l++){var f=e[l],c=!this.has(f);c&&u.push(f)}return u},merge:function(e){var t=this._private,a=t.cy;if(!e)return this;if(e&&it(e)){var u=e;e=a.mutableElements().filter(u)}for(var l=t.map,f=0;f<e.length;f++){var c=e[f],g=c._private.data.id,v=!l.has(g);if(v){var p=this.length++;this[p]=c,l.set(g,{ele:c,index:p})}}return this},unmergeAt:function(e){var t=this[e],a=t.id(),u=this._private,l=u.map;this[e]=void 0,l.delete(a);var f=e===this.length-1;if(this.length>1&&!f){var c=this.length-1,g=this[c],v=g._private.data.id;this[c]=void 0,this[e]=g,l.set(v,{ele:g,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,a=e._private.data.id,u=t.map,l=u.get(a);if(!l)return this;var f=l.index;return this.unmergeAt(f),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&it(e)){var a=e;e=t.mutableElements().filter(a)}for(var u=0;u<e.length;u++)this.unmergeOne(e[u]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var a=this[t];e(a)&&this.unmergeAt(t)}return this},map:function(e,t){for(var a=[],u=this,l=0;l<u.length;l++){var f=u[l],c=t?e.apply(t,[f,l,u]):e(f,l,u);a.push(c)}return a},reduce:function(e,t){for(var a=t,u=this,l=0;l<u.length;l++)a=e(a,u[l],l,u);return a},max:function(e,t){for(var a=-1/0,u,l=this,f=0;f<l.length;f++){var c=l[f],g=t?e.apply(t,[c,f,l]):e(c,f,l);g>a&&(a=g,u=c)}return{value:a,ele:u}},min:function(e,t){for(var a=1/0,u,l=this,f=0;f<l.length;f++){var c=l[f],g=t?e.apply(t,[c,f,l]):e(c,f,l);g<a&&(a=g,u=c)}return{value:a,ele:u}}},Qt=Ow;Qt.u=Qt["|"]=Qt["+"]=Qt.union=Qt.or=Qt.add;Qt["\\"]=Qt["!"]=Qt["-"]=Qt.difference=Qt.relativeComplement=Qt.subtract=Qt.not;Qt.n=Qt["&"]=Qt["."]=Qt.and=Qt.intersection=Qt.intersect;Qt["^"]=Qt["(+)"]=Qt["(-)"]=Qt.symmetricDifference=Qt.symdiff=Qt.xor;Qt.fnFilter=Qt.filterFn=Qt.stdFilter=Qt.filter;Qt.complement=Qt.abscomp=Qt.absoluteComplement;var pD={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},_w=function(e,t){var a=e.cy(),u=a.hasCompoundNodes();function l(p){var m=p.pstyle("z-compound-depth");return m.value==="auto"?u?p.zDepth():0:m.value==="bottom"?-1:m.value==="top"?b0:0}var f=l(e)-l(t);if(f!==0)return f;function c(p){var m=p.pstyle("z-index-compare");return m.value==="auto"&&p.isNode()?1:0}var g=c(e)-c(t);if(g!==0)return g;var v=e.pstyle("z-index").value-t.pstyle("z-index").value;return v!==0?v:e.poolIndex()-t.poolIndex()},Qp={forEach:function(e,t){if(Nn(e))for(var a=this.length,u=0;u<a;u++){var l=this[u],f=t?e.apply(t,[l,u,this]):e(l,u,this);if(f===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var a=[],u=this.length;t==null&&(t=u),e==null&&(e=0),e<0&&(e=u+e),t<0&&(t=u+t);for(var l=e;l>=0&&l<t&&l<u;l++)a.push(this[l]);return this.spawn(a)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Nn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(_w)},zDepth:function(){var e=this[0];if(e){var t=e._private,a=t.group;if(a==="nodes"){var u=t.data.parent?e.parents().size():0;return e.isParent()?u:b0-1}else{var l=t.source,f=t.target,c=l.zDepth(),g=f.zDepth();return Math.max(c,g,0)}}}};Qp.each=Qp.forEach;var mD=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":ar(Symbol))!=e&&ar(Symbol.iterator)!=e;t&&(Qp[Symbol.iterator]=function(){var a=this,u={value:void 0,done:!1},l=0,f=this.length;return Rb({next:function(){return l<f?u.value=a[l++]:(u.value=void 0,u.done=!0),u}},Symbol.iterator,function(){return this})})};mD();var yD=gr({nodeDimensionsIncludeLabels:!1}),Up={layoutDimensions:function(e){e=yD(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var a=this.boundingBox();t={w:a.w,h:a.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,a){var u=this.nodes().filter(function(N){return!N.isParent()}),l=this.cy(),f=t.eles,c=function(k){return k.id()},g=jd(a,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var v=function(k,L,H){var z={x:L.x1+L.w/2,y:L.y1+L.h/2},F={x:(H.x-z.x)*k,y:(H.y-z.y)*k};return{x:z.x+F.x,y:z.y+F.y}},p=t.spacingFactor&&t.spacingFactor!==1,m=function(){if(!p)return null;for(var k=Ca(),L=0;L<u.length;L++){var H=u[L],z=g(H,L);E2(k,z.x,z.y)}return k},w=m(),S=jd(function(N,k){var L=g(N,k);if(p){var H=Math.abs(t.spacingFactor);L=v(H,w,L)}return t.transform!=null&&(L=t.transform(N,L)),L},c);if(t.animate){for(var x=0;x<u.length;x++){var D=u[x],C=S(D,x),T=t.animateFilter==null||t.animateFilter(D,x);if(T){var R=D.animation({position:C,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(R)}else D.position(C)}if(t.fit){var M=l.animation({fit:{boundingBox:f.boundingBoxAt(S),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(M)}else if(t.zoom!==void 0&&t.pan!==void 0){var O=l.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(O)}e.animations.forEach(function(N){return N.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Rc.all(e.animations.map(function(N){return N.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else u.positions(S),t.fit&&l.fit(t.eles,t.padding),t.zoom!=null&&l.zoom(t.zoom),t.pan&&l.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(ct({},e,{eles:this}))}};Up.createLayout=Up.makeLayout=Up.layout;function Lw(n,e,t){var a=t._private,u=a.styleCache=a.styleCache||[],l;return(l=u[n])!=null||(l=u[n]=e(t)),l}function vm(n,e){return n=ls(n),function(a){return Lw(n,e,a)}}function dm(n,e){n=ls(n);var t=function(u){return e.call(u)};return function(){var u=this[0];if(u)return Lw(n,t,u)}}var Tr={recalculateRenderedStyle:function(e){var t=this.cy(),a=t.renderer(),u=t.styleEnabled();return a&&u&&a.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(l){return l._private.styleCache=null};if(e.hasCompoundNodes()){var a;a=this.spawnSelf().merge(this.descendants()).merge(this.parents()),a.merge(a.connectedEdges()),a.forEach(t)}else this.forEach(function(u){t(u),u.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var a=t._private.batchStyleEles;return a.merge(this),this}var u=t.hasCompoundNodes(),l=this;e=!!(e||e===void 0),u&&(l=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var f=l;return e?f.emitAndNotify("style"):f.emit("style"),l.forEach(function(c){return c._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var a=this[t];a._private.styleDirty&&(a._private.styleDirty=!1,e.style().apply(a))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this[0],u=a.cy();if(u.styleEnabled()&&a){a._private.styleDirty&&(a._private.styleDirty=!1,u.style().apply(a));var l=a._private.style[e];return l??(t?u.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var a=t.pstyle(e);return a.pfValue!==void 0?a.pfValue:a.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var a=this[0];if(a)return t.style().getRenderedStyle(a,e)},style:function(e,t){var a=this.cy();if(!a.styleEnabled())return this;var u=!1,l=a.style();if(Yt(e)){var f=e;l.applyBypass(this,f,u),this.emitAndNotify("style")}else if(it(e))if(t===void 0){var c=this[0];return c?l.getStylePropertyValue(c,e):void 0}else l.applyBypass(this,e,t,u),this.emitAndNotify("style");else if(e===void 0){var g=this[0];return g?l.getRawStyle(g):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var a=!1,u=t.style(),l=this;if(e===void 0)for(var f=0;f<l.length;f++){var c=l[f];u.removeAllBypasses(c,a)}else{e=e.split(/\s+/);for(var g=0;g<l.length;g++){var v=l[g];u.removeBypasses(v,e,a)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),a=this[0];if(a){var u=a._private,l=a.pstyle("opacity").value;if(!t)return l;var f=u.data.parent?a.parents():null;if(f)for(var c=0;c<f.length;c++){var g=f[c],v=g.pstyle("opacity").value;l=v*l}return l}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],a=t.cy().hasCompoundNodes();if(t)return a?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function Vy(n,e){var t=n._private,a=t.data.parent?n.parents():null;if(a)for(var u=0;u<a.length;u++){var l=a[u];if(!e(l))return!1}return!0}function O0(n){var e=n.ok,t=n.edgeOkViaNode||n.ok,a=n.parentOk||n.ok;return function(){var u=this.cy();if(!u.styleEnabled())return!0;var l=this[0],f=u.hasCompoundNodes();if(l){var c=l._private;if(!e(l))return!1;if(l.isNode())return!f||Vy(l,a);var g=c.source,v=c.target;return t(g)&&(!f||Vy(g,t))&&(g===v||t(v)&&(!f||Vy(v,t)))}}}var _c=vm("eleTakesUpSpace",function(n){return n.pstyle("display").value==="element"&&n.width()!==0&&(n.isNode()?n.height()!==0:!0)});Tr.takesUpSpace=dm("takesUpSpace",O0({ok:_c}));var bD=vm("eleInteractive",function(n){return n.pstyle("events").value==="yes"&&n.pstyle("visibility").value==="visible"&&_c(n)}),wD=vm("parentInteractive",function(n){return n.pstyle("visibility").value==="visible"&&_c(n)});Tr.interactive=dm("interactive",O0({ok:bD,parentOk:wD,edgeOkViaNode:_c}));Tr.noninteractive=function(){var n=this[0];if(n)return!n.interactive()};var ED=vm("eleVisible",function(n){return n.pstyle("visibility").value==="visible"&&n.pstyle("opacity").pfValue!==0&&_c(n)}),xD=_c;Tr.visible=dm("visible",O0({ok:ED,edgeOkViaNode:xD}));Tr.hidden=function(){var n=this[0];if(n)return!n.visible()};Tr.isBundledBezier=dm("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Tr.bypass=Tr.css=Tr.style;Tr.renderedCss=Tr.renderedStyle;Tr.removeBypass=Tr.removeCss=Tr.removeStyle;Tr.pstyle=Tr.parsedStyle;var is={};function k1(n){return function(){var e=arguments,t=[];if(e.length===2){var a=e[0],u=e[1];this.on(n.event,a,u)}else if(e.length===1&&Nn(e[0])){var l=e[0];this.on(n.event,l)}else if(e.length===0||e.length===1&&fn(e[0])){for(var f=e.length===1?e[0]:null,c=0;c<this.length;c++){var g=this[c],v=!n.ableField||g._private[n.ableField],p=g._private[n.field]!=n.value;if(n.overrideAble){var m=n.overrideAble(g);if(m!==void 0&&(v=m,!m))return this}v&&(g._private[n.field]=n.value,p&&t.push(g))}var w=this.spawn(t);w.updateStyle(),w.emit(n.event),f&&w.emit(f)}return this}}function Lc(n){is[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(t!==void 0)return t}return e._private[n.field]}},is[n.on]=k1({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),is[n.off]=k1({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}Lc({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Lc({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Lc({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Lc({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});is.deselect=is.unselect;is.grabbed=function(){var n=this[0];if(n)return n._private.grabbed};Lc({field:"active",on:"activate",off:"unactivate"});Lc({field:"pannable",on:"panify",off:"unpanify"});is.inactive=function(){var n=this[0];if(n)return!n._private.active};var Ur={},U1=function(e){return function(a){for(var u=this,l=[],f=0;f<u.length;f++){var c=u[f];if(c.isNode()){for(var g=!1,v=c.connectedEdges(),p=0;p<v.length;p++){var m=v[p],w=m.source(),S=m.target();if(e.noIncomingEdges&&S===c&&w!==c||e.noOutgoingEdges&&w===c&&S!==c){g=!0;break}}g||l.push(c)}}return this.spawn(l,!0).filter(a)}},I1=function(e){return function(t){for(var a=this,u=[],l=0;l<a.length;l++){var f=a[l];if(f.isNode())for(var c=f.connectedEdges(),g=0;g<c.length;g++){var v=c[g],p=v.source(),m=v.target();e.outgoing&&p===f?(u.push(v),u.push(m)):e.incoming&&m===f&&(u.push(v),u.push(p))}}return this.spawn(u,!0).filter(t)}},P1=function(e){return function(t){for(var a=this,u=[],l={};;){var f=e.outgoing?a.outgoers():a.incomers();if(f.length===0)break;for(var c=!1,g=0;g<f.length;g++){var v=f[g],p=v.id();l[p]||(l[p]=!0,u.push(v),c=!0)}if(!c)break;a=f}return this.spawn(u,!0).filter(t)}};Ur.clearTraversalCache=function(){for(var n=0;n<this.length;n++)this[n]._private.traversalCache=null};ct(Ur,{roots:U1({noIncomingEdges:!0}),leaves:U1({noOutgoingEdges:!0}),outgoers:bi(I1({outgoing:!0}),"outgoers"),successors:P1({outgoing:!0}),incomers:bi(I1({incoming:!0}),"incomers"),predecessors:P1({})});ct(Ur,{neighborhood:bi(function(n){for(var e=[],t=this.nodes(),a=0;a<t.length;a++)for(var u=t[a],l=u.connectedEdges(),f=0;f<l.length;f++){var c=l[f],g=c.source(),v=c.target(),p=u===g?v:g;p.length>0&&e.push(p[0]),e.push(c[0])}return this.spawn(e,!0).filter(n)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Ur.neighbourhood=Ur.neighborhood;Ur.closedNeighbourhood=Ur.closedNeighborhood;Ur.openNeighbourhood=Ur.openNeighborhood;ct(Ur,{source:bi(function(e){var t=this[0],a;return t&&(a=t._private.source||t.cy().collection()),a&&e?a.filter(e):a},"source"),target:bi(function(e){var t=this[0],a;return t&&(a=t._private.target||t.cy().collection()),a&&e?a.filter(e):a},"target"),sources:H1({attr:"source"}),targets:H1({attr:"target"})});function H1(n){return function(t){for(var a=[],u=0;u<this.length;u++){var l=this[u],f=l._private[n.attr];f&&a.push(f)}return this.spawn(a,!0).filter(t)}}ct(Ur,{edgesWith:bi(q1(),"edgesWith"),edgesTo:bi(q1({thisIsSrc:!0}),"edgesTo")});function q1(n){return function(t){var a=[],u=this._private.cy,l=n||{};it(t)&&(t=u.$(t));for(var f=0;f<t.length;f++)for(var c=t[f]._private.edges,g=0;g<c.length;g++){var v=c[g],p=v._private.data,m=this.hasElementWithId(p.source)&&t.hasElementWithId(p.target),w=t.hasElementWithId(p.source)&&this.hasElementWithId(p.target),S=m||w;S&&((l.thisIsSrc||l.thisIsTgt)&&(l.thisIsSrc&&!m||l.thisIsTgt&&!w)||a.push(v))}return this.spawn(a,!0)}}ct(Ur,{connectedEdges:bi(function(n){for(var e=[],t=this,a=0;a<t.length;a++){var u=t[a];if(u.isNode())for(var l=u._private.edges,f=0;f<l.length;f++){var c=l[f];e.push(c)}}return this.spawn(e,!0).filter(n)},"connectedEdges"),connectedNodes:bi(function(n){for(var e=[],t=this,a=0;a<t.length;a++){var u=t[a];u.isEdge()&&(e.push(u.source()[0]),e.push(u.target()[0]))}return this.spawn(e,!0).filter(n)},"connectedNodes"),parallelEdges:bi(F1(),"parallelEdges"),codirectedEdges:bi(F1({codirected:!0}),"codirectedEdges")});function F1(n){var e={codirected:!1};return n=ct({},e,n),function(a){for(var u=[],l=this.edges(),f=n,c=0;c<l.length;c++)for(var g=l[c],v=g._private,p=v.source,m=p._private.data.id,w=v.data.target,S=p._private.edges,x=0;x<S.length;x++){var D=S[x],C=D._private.data,T=C.target,R=C.source,M=T===w&&R===m,O=m===T&&w===R;(f.codirected&&M||!f.codirected&&(M||O))&&u.push(D)}return this.spawn(u,!0).filter(a)}}ct(Ur,{components:function(e){var t=this,a=t.cy(),u=a.collection(),l=e==null?t.nodes():e.nodes(),f=[];e!=null&&l.empty()&&(l=e.sources());var c=function(p,m){u.merge(p),l.unmerge(p),m.merge(p)};if(l.empty())return t.spawn();var g=function(){var p=a.collection();f.push(p);var m=l[0];c(m,p),t.bfs({directed:!1,roots:m,visit:function(S){return c(S,p)}}),p.forEach(function(w){w.connectedEdges().forEach(function(S){t.has(S)&&p.has(S.source())&&p.has(S.target())&&p.merge(S)})})};do g();while(l.length>0);return f},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Ur.componentsOf=Ur.components;var Cr=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){zn("A collection must have a reference to the core");return}var l=new Mu,f=!1;if(!t)t=[];else if(t.length>0&&Yt(t[0])&&!ch(t[0])){f=!0;for(var c=[],g=new Dc,v=0,p=t.length;v<p;v++){var m=t[v];m.data==null&&(m.data={});var w=m.data;if(w.id==null)w.id=Kb();else if(e.hasElementWithId(w.id)||g.has(w.id))continue;var S=new am(e,m,!1);c.push(S),g.add(w.id)}t=c}this.length=0;for(var x=0,D=t.length;x<D;x++){var C=t[x][0];if(C!=null){var T=C._private.data.id;(!a||!l.has(T))&&(a&&l.set(T,{index:this.length,ele:C}),this[this.length]=C,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(R){this.lazyMap=R},rebuildMap:function(){for(var M=this.lazyMap=new Mu,O=this.eles,N=0;N<O.length;N++){var k=O[N];M.set(k.id(),{index:N,ele:k})}}},a&&(this._private.map=l),f&&!u&&this.restore()},mn=am.prototype=Cr.prototype=Object.create(Array.prototype);mn.instanceString=function(){return"collection"};mn.spawn=function(n,e){return new Cr(this.cy(),n,e)};mn.spawnSelf=function(){return this.spawn(this)};mn.cy=function(){return this._private.cy};mn.renderer=function(){return this._private.cy.renderer()};mn.element=function(){return this[0]};mn.collection=function(){return Ob(this)?this:new Cr(this._private.cy,[this])};mn.unique=function(){return new Cr(this._private.cy,this,!0)};mn.hasElementWithId=function(n){return n=""+n,this._private.map.has(n)};mn.getElementById=function(n){n=""+n;var e=this._private.cy,t=this._private.map.get(n);return t?t.ele:new Cr(e)};mn.$id=mn.getElementById;mn.poolIndex=function(){var n=this._private.cy,e=n._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};mn.indexOf=function(n){var e=n[0]._private.data.id;return this._private.map.get(e).index};mn.indexOfId=function(n){return n=""+n,this._private.map.get(n).index};mn.json=function(n){var e=this.element(),t=this.cy();if(e==null&&n)return this;if(e!=null){var a=e._private;if(Yt(n)){if(t.startBatch(),n.data){e.data(n.data);var u=a.data;if(e.isEdge()){var l=!1,f={},c=n.data.source,g=n.data.target;c!=null&&c!=u.source&&(f.source=""+c,l=!0),g!=null&&g!=u.target&&(f.target=""+g,l=!0),l&&(e=e.move(f))}else{var v="parent"in n.data,p=n.data.parent;v&&(p!=null||u.parent!=null)&&p!=u.parent&&(p===void 0&&(p=null),p!=null&&(p=""+p),e=e.move({parent:p}))}}n.position&&e.position(n.position);var m=function(D,C,T){var R=n[D];R!=null&&R!==a[D]&&(R?e[C]():e[T]())};return m("removed","remove","restore"),m("selected","select","unselect"),m("selectable","selectify","unselectify"),m("locked","lock","unlock"),m("grabbable","grabify","ungrabify"),m("pannable","panify","unpanify"),n.classes!=null&&e.classes(n.classes),t.endBatch(),this}else if(n===void 0){var w={data:Ru(a.data),position:Ru(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,pannable:a.pannable,classes:null};w.classes="";var S=0;return a.classes.forEach(function(x){return w.classes+=S++===0?x:" "+x}),w}}};mn.jsons=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e],a=t.json();n.push(a)}return n};mn.clone=function(){for(var n=this.cy(),e=[],t=0;t<this.length;t++){var a=this[t],u=a.json(),l=new am(n,u,!1);e.push(l)}return new Cr(n,e)};mn.copy=mn.clone;mn.restore=function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,a=t.cy(),u=a._private,l=[],f=[],c,g=0,v=t.length;g<v;g++){var p=t[g];e&&!p.removed()||(p.isNode()?l.push(p):f.push(p))}c=l.concat(f);var m,w=function(){c.splice(m,1),m--};for(m=0;m<c.length;m++){var S=c[m],x=S._private,D=x.data;if(S.clearTraversalCache(),!(!e&&!x.removed)){if(D.id===void 0)D.id=Kb();else if(He(D.id))D.id=""+D.id;else if(us(D.id)||!it(D.id)){zn("Can not create element with invalid string ID `"+D.id+"`"),w();continue}else if(a.hasElementWithId(D.id)){zn("Can not create second element with ID `"+D.id+"`"),w();continue}}var C=D.id;if(S.isNode()){var T=x.position;T.x==null&&(T.x=0),T.y==null&&(T.y=0)}if(S.isEdge()){for(var R=S,M=["source","target"],O=M.length,N=!1,k=0;k<O;k++){var L=M[k],H=D[L];He(H)&&(H=D[L]=""+D[L]),H==null||H===""?(zn("Can not create edge `"+C+"` with unspecified "+L),N=!0):a.hasElementWithId(H)||(zn("Can not create edge `"+C+"` with nonexistant "+L+" `"+H+"`"),N=!0)}if(N){w();continue}var z=a.getElementById(D.source),F=a.getElementById(D.target);z.same(F)?z._private.edges.push(R):(z._private.edges.push(R),F._private.edges.push(R)),R._private.source=z,R._private.target=F}x.map=new Mu,x.map.set(C,{ele:S,index:0}),x.removed=!1,e&&a.addToPool(S)}for(var Y=0;Y<l.length;Y++){var G=l[Y],Q=G._private.data;He(Q.parent)&&(Q.parent=""+Q.parent);var X=Q.parent,ee=X!=null;if(ee||G._private.parent){var K=G._private.parent?a.collection().merge(G._private.parent):a.getElementById(X);if(K.empty())Q.parent=void 0;else if(K[0].removed())nn("Node added with missing parent, reference to parent removed"),Q.parent=void 0,G._private.parent=null;else{for(var W=!1,j=K;!j.empty();){if(G.same(j)){W=!0,Q.parent=void 0;break}j=j.parent()}W||(K[0]._private.children.push(G),G._private.parent=K[0],u.hasCompoundNodes=!0)}}}if(c.length>0){for(var le=c.length===t.length?t:new Cr(a,c),I=0;I<le.length;I++){var Z=le[I];Z.isNode()||(Z.parallelEdges().clearTraversalCache(),Z.source().clearTraversalCache(),Z.target().clearTraversalCache())}var ne;u.hasCompoundNodes?ne=a.collection().merge(le).merge(le.connectedNodes()).merge(le.parent()):ne=le,ne.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?le.emitAndNotify("add"):e&&le.emit("add")}return t};mn.removed=function(){var n=this[0];return n&&n._private.removed};mn.inside=function(){var n=this[0];return n&&!n._private.removed};mn.remove=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,a=[],u={},l=t._private.cy;function f(X){for(var ee=X._private.edges,K=0;K<ee.length;K++)g(ee[K])}function c(X){for(var ee=X._private.children,K=0;K<ee.length;K++)g(ee[K])}function g(X){var ee=u[X.id()];e&&X.removed()||ee||(u[X.id()]=!0,X.isNode()?(a.push(X),f(X),c(X)):a.unshift(X))}for(var v=0,p=t.length;v<p;v++){var m=t[v];g(m)}function w(X,ee){var K=X._private.edges;ss(K,ee),X.clearTraversalCache()}function S(X){X.clearTraversalCache()}var x=[];x.ids={};function D(X,ee){ee=ee[0],X=X[0];var K=X._private.children,W=X.id();ss(K,ee),ee._private.parent=null,x.ids[W]||(x.ids[W]=!0,x.push(X))}t.dirtyCompoundBoundsCache(),e&&l.removeFromPool(a);for(var C=0;C<a.length;C++){var T=a[C];if(T.isEdge()){var R=T.source()[0],M=T.target()[0];w(R,T),w(M,T);for(var O=T.parallelEdges(),N=0;N<O.length;N++){var k=O[N];S(k),k.isBundledBezier()&&k.dirtyBoundingBoxCache()}}else{var L=T.parent();L.length!==0&&D(L,T)}e&&(T._private.removed=!0)}var H=l._private.elements;l._private.hasCompoundNodes=!1;for(var z=0;z<H.length;z++){var F=H[z];if(F.isParent()){l._private.hasCompoundNodes=!0;break}}var Y=new Cr(this.cy(),a);Y.size()>0&&(n?Y.emitAndNotify("remove"):e&&Y.emit("remove"));for(var G=0;G<x.length;G++){var Q=x[G];(!e||!Q.removed())&&Q.updateStyle()}return Y};mn.move=function(n){var e=this._private.cy,t=this,a=!1,u=!1,l=function(x){return x==null?x:""+x};if(n.source!==void 0||n.target!==void 0){var f=l(n.source),c=l(n.target),g=f!=null&&e.hasElementWithId(f),v=c!=null&&e.hasElementWithId(c);(g||v)&&(e.batch(function(){t.remove(a,u),t.emitAndNotify("moveout");for(var S=0;S<t.length;S++){var x=t[S],D=x._private.data;x.isEdge()&&(g&&(D.source=f),v&&(D.target=c))}t.restore(a,u)}),t.emitAndNotify("move"))}else if(n.parent!==void 0){var p=l(n.parent),m=p===null||e.hasElementWithId(p);if(m){var w=p===null?void 0:p;e.batch(function(){var S=t.remove(a,u);S.emitAndNotify("moveout");for(var x=0;x<t.length;x++){var D=t[x],C=D._private.data;D.isNode()&&(C.parent=w)}S.restore(a,u)}),t.emitAndNotify("move")}}return this};[iw,LA,kp,as,Ac,QA,fm,cD,Bw,Ow,pD,Qp,Up,Tr,is,Ur].forEach(function(n){ct(mn,n)});var SD={add:function(e){var t,a=this;if(Qa(e)){var u=e;if(u._private.cy===a)t=u.restore();else{for(var l=[],f=0;f<u.length;f++){var c=u[f];l.push(c.json())}t=new Cr(a,l)}}else if(fn(e)){var g=e;t=new Cr(a,g)}else if(Yt(e)&&(fn(e.nodes)||fn(e.edges))){for(var v=e,p=[],m=["nodes","edges"],w=0,S=m.length;w<S;w++){var x=m[w],D=v[x];if(fn(D))for(var C=0,T=D.length;C<T;C++){var R=ct({group:x},D[C]);p.push(R)}}t=new Cr(a,p)}else{var M=e;t=new am(a,M).collection()}return t},remove:function(e){if(!Qa(e)){if(it(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function TD(n,e,t,a){var u=4,l=.001,f=1e-7,c=10,g=11,v=1/(g-1),p=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var m=0;m<4;++m)if(typeof arguments[m]!="number"||isNaN(arguments[m])||!isFinite(arguments[m]))return!1;n=Math.min(n,1),t=Math.min(t,1),n=Math.max(n,0),t=Math.max(t,0);var w=p?new Float32Array(g):new Array(g);function S(F,Y){return 1-3*Y+3*F}function x(F,Y){return 3*Y-6*F}function D(F){return 3*F}function C(F,Y,G){return((S(Y,G)*F+x(Y,G))*F+D(Y))*F}function T(F,Y,G){return 3*S(Y,G)*F*F+2*x(Y,G)*F+D(Y)}function R(F,Y){for(var G=0;G<u;++G){var Q=T(Y,n,t);if(Q===0)return Y;var X=C(Y,n,t)-F;Y-=X/Q}return Y}function M(){for(var F=0;F<g;++F)w[F]=C(F*v,n,t)}function O(F,Y,G){var Q,X,ee=0;do X=Y+(G-Y)/2,Q=C(X,n,t)-F,Q>0?G=X:Y=X;while(Math.abs(Q)>f&&++ee<c);return X}function N(F){for(var Y=0,G=1,Q=g-1;G!==Q&&w[G]<=F;++G)Y+=v;--G;var X=(F-w[G])/(w[G+1]-w[G]),ee=Y+X*v,K=T(ee,n,t);return K>=l?R(F,ee):K===0?ee:O(F,Y,Y+v)}var k=!1;function L(){k=!0,(n!==e||t!==a)&&M()}var H=function(Y){return k||L(),n===e&&t===a?Y:Y===0?0:Y===1?1:C(N(Y),e,a)};H.getControlPoints=function(){return[{x:n,y:e},{x:t,y:a}]};var z="generateBezier("+[n,e,t,a]+")";return H.toString=function(){return z},H}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var CD=function(){function n(a){return-a.tension*a.x-a.friction*a.v}function e(a,u,l){var f={x:a.x+l.dx*u,v:a.v+l.dv*u,tension:a.tension,friction:a.friction};return{dx:f.v,dv:n(f)}}function t(a,u){var l={dx:a.v,dv:n(a)},f=e(a,u*.5,l),c=e(a,u*.5,f),g=e(a,u,c),v=1/6*(l.dx+2*(f.dx+c.dx)+g.dx),p=1/6*(l.dv+2*(f.dv+c.dv)+g.dv);return a.x=a.x+v*u,a.v=a.v+p*u,a}return function a(u,l,f){var c={x:-1,v:0,tension:null,friction:null},g=[0],v=0,p=1/1e4,m=16/1e3,w,S,x;for(u=parseFloat(u)||500,l=parseFloat(l)||20,f=f||null,c.tension=u,c.friction=l,w=f!==null,w?(v=a(u,l),S=v/f*m):S=m;x=t(x||c,S),g.push(1+x.x),v+=16,Math.abs(x.x)>p&&Math.abs(x.v)>p;);return w?function(D){return g[D*(g.length-1)|0]}:v}}(),pn=function(e,t,a,u){var l=TD(e,t,a,u);return function(f,c,g){return f+(c-f)*l(g)}},Ip={linear:function(e,t,a){return e+(t-e)*a},ease:pn(.25,.1,.25,1),"ease-in":pn(.42,0,1,1),"ease-out":pn(0,0,.58,1),"ease-in-out":pn(.42,0,.58,1),"ease-in-sine":pn(.47,0,.745,.715),"ease-out-sine":pn(.39,.575,.565,1),"ease-in-out-sine":pn(.445,.05,.55,.95),"ease-in-quad":pn(.55,.085,.68,.53),"ease-out-quad":pn(.25,.46,.45,.94),"ease-in-out-quad":pn(.455,.03,.515,.955),"ease-in-cubic":pn(.55,.055,.675,.19),"ease-out-cubic":pn(.215,.61,.355,1),"ease-in-out-cubic":pn(.645,.045,.355,1),"ease-in-quart":pn(.895,.03,.685,.22),"ease-out-quart":pn(.165,.84,.44,1),"ease-in-out-quart":pn(.77,0,.175,1),"ease-in-quint":pn(.755,.05,.855,.06),"ease-out-quint":pn(.23,1,.32,1),"ease-in-out-quint":pn(.86,0,.07,1),"ease-in-expo":pn(.95,.05,.795,.035),"ease-out-expo":pn(.19,1,.22,1),"ease-in-out-expo":pn(1,0,0,1),"ease-in-circ":pn(.6,.04,.98,.335),"ease-out-circ":pn(.075,.82,.165,1),"ease-in-out-circ":pn(.785,.135,.15,.86),spring:function(e,t,a){if(a===0)return Ip.linear;var u=CD(e,t,a);return function(l,f,c){return l+(f-l)*u(c)}},"cubic-bezier":pn};function V1(n,e,t,a,u){if(a===1||e===t)return t;var l=u(e,t,a);return n==null||((n.roundValue||n.color)&&(l=Math.round(l)),n.min!==void 0&&(l=Math.max(l,n.min)),n.max!==void 0&&(l=Math.min(l,n.max))),l}function G1(n,e){return n.pfValue!=null||n.value!=null?n.pfValue!=null&&(e==null||e.type.units!=="%")?n.pfValue:n.value:n}function vc(n,e,t,a,u){var l=u!=null?u.type:null;t<0?t=0:t>1&&(t=1);var f=G1(n,u),c=G1(e,u);if(He(f)&&He(c))return V1(l,f,c,t,a);if(fn(f)&&fn(c)){for(var g=[],v=0;v<c.length;v++){var p=f[v],m=c[v];if(p!=null&&m!=null){var w=V1(l,p,m,t,a);g.push(w)}else g.push(m)}return g}}function AD(n,e,t,a){var u=!a,l=n._private,f=e._private,c=f.easing,g=f.startTime,v=a?n:n.cy(),p=v.style();if(!f.easingImpl)if(c==null)f.easingImpl=Ip.linear;else{var m;if(it(c)){var w=p.parse("transition-timing-function",c);m=w.value}else m=c;var S,x;it(m)?(S=m,x=[]):(S=m[1],x=m.slice(2).map(function(le){return+le})),x.length>0?(S==="spring"&&x.push(f.duration),f.easingImpl=Ip[S].apply(null,x)):f.easingImpl=Ip[S]}var D=f.easingImpl,C;if(f.duration===0?C=1:C=(t-g)/f.duration,f.applying&&(C=f.progress),C<0?C=0:C>1&&(C=1),f.delay==null){var T=f.startPosition,R=f.position;if(R&&u&&!n.locked()){var M={};Pd(T.x,R.x)&&(M.x=vc(T.x,R.x,C,D)),Pd(T.y,R.y)&&(M.y=vc(T.y,R.y,C,D)),n.position(M)}var O=f.startPan,N=f.pan,k=l.pan,L=N!=null&&a;L&&(Pd(O.x,N.x)&&(k.x=vc(O.x,N.x,C,D)),Pd(O.y,N.y)&&(k.y=vc(O.y,N.y,C,D)),n.emit("pan"));var H=f.startZoom,z=f.zoom,F=z!=null&&a;F&&(Pd(H,z)&&(l.zoom=rh(l.minZoom,vc(H,z,C,D),l.maxZoom)),n.emit("zoom")),(L||F)&&n.emit("viewport");var Y=f.style;if(Y&&Y.length>0&&u){for(var G=0;G<Y.length;G++){var Q=Y[G],X=Q.name,ee=Q,K=f.startStyle[X],W=p.properties[K.name],j=vc(K,ee,C,D,W);p.overrideBypass(n,X,j)}n.emit("style")}}return f.progress=C,C}function Pd(n,e){return n==null||e==null?!1:He(n)&&He(e)?!0:!!(n&&e)}function DD(n,e,t,a){var u=e._private;u.started=!0,u.startTime=t-u.progress*u.duration}function Y1(n,e){var t=e._private.aniEles,a=[];function u(p,m){var w=p._private,S=w.animation.current,x=w.animation.queue,D=!1;if(S.length===0){var C=x.shift();C&&S.push(C)}for(var T=function(k){for(var L=k.length-1;L>=0;L--){var H=k[L];H()}k.splice(0,k.length)},R=S.length-1;R>=0;R--){var M=S[R],O=M._private;if(O.stopped){S.splice(R,1),O.hooked=!1,O.playing=!1,O.started=!1,T(O.frames);continue}!O.playing&&!O.applying||(O.playing&&O.applying&&(O.applying=!1),O.started||DD(p,M,n),AD(p,M,n,m),O.applying&&(O.applying=!1),T(O.frames),O.step!=null&&O.step(n),M.completed()&&(S.splice(R,1),O.hooked=!1,O.playing=!1,O.started=!1,T(O.completes)),D=!0)}return!m&&S.length===0&&x.length===0&&a.push(p),D}for(var l=!1,f=0;f<t.length;f++){var c=t[f],g=u(c);l=l||g}var v=u(e,!0);(l||v)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(a),e.emit("step")}var RD={animate:tn.animate(),animation:tn.animation(),animated:tn.animated(),clearQueue:tn.clearQueue(),delay:tn.delay(),delayAnimation:tn.delayAnimation(),stop:tn.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&Gp(function(l){Y1(l,e),t()})}var a=e.renderer();a&&a.beforeRender?a.beforeRender(function(l,f){Y1(f,e)},a.beforeRenderPriorities.animations):t()}},MD={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,a){var u=t.qualifier;return u!=null?e!==a.target&&ch(a.target)&&u.matches(a.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,a){return t.qualifier!=null?a.target:e}},Mp=function(e){return it(e)?new os(e):e},zw={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new cm(MD,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,a){return this.emitter().on(e,Mp(t),a),this},removeListener:function(e,t,a){return this.emitter().removeListener(e,Mp(t),a),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,a){return this.emitter().one(e,Mp(t),a),this},once:function(e,t,a){return this.emitter().one(e,Mp(t),a),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};tn.eventAliasesOn(zw);var a0={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};a0.jpeg=a0.jpg;var Pp={layout:function(e){var t=this;if(e==null){zn("Layout options must be specified to make a layout");return}if(e.name==null){zn("A `name` must be specified to make a layout");return}var a=e.name,u=t.extension("layout",a);if(u==null){zn("No such layout `"+a+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var l;it(e.eles)?l=t.$(e.eles):l=e.eles!=null?e.eles:t.$();var f=new u(ct({},e,{cy:t,eles:l}));return f}};Pp.createLayout=Pp.makeLayout=Pp.layout;var BD={notify:function(e,t){var a=this._private;if(this.batching()){a.batchNotifications=a.batchNotifications||{};var u=a.batchNotifications[e]=a.batchNotifications[e]||this.collection();t!=null&&u.merge(t);return}if(a.notificationsEnabled){var l=this.renderer();this.destroyed()||!l||l.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(a){var u=e.batchNotifications[a];u.empty()?t.notify(a):t.notify(a,u)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var a=Object.keys(e),u=0;u<a.length;u++){var l=a[u],f=e[l],c=t.getElementById(l);c.data(f)}})}},OD=gr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),i0={renderTo:function(e,t,a,u){var l=this._private.renderer;return l.renderTo(e,t,a,u),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,a=t.extension("renderer",e.name);if(a==null){zn("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&nn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var u=OD(e);u.cy=t,t._private.renderer=new a(u),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(a){var u=a._private;u.rscratch={},u.rstyle={},u.animation.current=[],u.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i0.invalidateDimensions=i0.resize;var Hp={collection:function(e,t){return it(e)?this.$(e):Qa(e)?e.collection():fn(e)?(t||(t={}),new Cr(this,e,t.unique,t.removed)):new Cr(this)},nodes:function(e){var t=this.$(function(a){return a.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(a){return a.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Hp.elements=Hp.filter=Hp.$;var Pr={},Qd="t",_D="f";Pr.apply=function(n){for(var e=this,t=e._private,a=t.cy,u=a.collection(),l=0;l<n.length;l++){var f=n[l],c=e.getContextMeta(f);if(!c.empty){var g=e.getContextStyle(c),v=e.applyContextStyle(c,g,f);f._private.appliedInitStyle?e.updateTransitions(f,v.diffProps):f._private.appliedInitStyle=!0;var p=e.updateStyleHints(f);p&&u.push(f)}}return u};Pr.getPropertiesDiff=function(n,e){var t=this,a=t._private.propDiffs=t._private.propDiffs||{},u=n+"-"+e,l=a[u];if(l)return l;for(var f=[],c={},g=0;g<t.length;g++){var v=t[g],p=n[g]===Qd,m=e[g]===Qd,w=p!==m,S=v.mappedProperties.length>0;if(w||m&&S){var x=void 0;w&&S||w?x=v.properties:S&&(x=v.mappedProperties);for(var D=0;D<x.length;D++){for(var C=x[D],T=C.name,R=!1,M=g+1;M<t.length;M++){var O=t[M],N=e[M]===Qd;if(N&&(R=O.properties[C.name]!=null,R))break}!c[T]&&!R&&(c[T]=!0,f.push(T))}}}return a[u]=f,f};Pr.getContextMeta=function(n){for(var e=this,t="",a,u=n._private.styleCxtKey||"",l=0;l<e.length;l++){var f=e[l],c=f.selector&&f.selector.matches(n);c?t+=Qd:t+=_D}return a=e.getPropertiesDiff(u,t),n._private.styleCxtKey=t,{key:t,diffPropNames:a,empty:a.length===0}};Pr.getContextStyle=function(n){var e=n.key,t=this,a=this._private.contextStyles=this._private.contextStyles||{};if(a[e])return a[e];for(var u={_private:{key:e}},l=0;l<t.length;l++){var f=t[l],c=e[l]===Qd;if(c)for(var g=0;g<f.properties.length;g++){var v=f.properties[g];u[v.name]=v}}return a[e]=u,u};Pr.applyContextStyle=function(n,e,t){for(var a=this,u=n.diffPropNames,l={},f=a.types,c=0;c<u.length;c++){var g=u[c],v=e[g],p=t.pstyle(g);if(!v)if(p)p.bypass?v={name:g,deleteBypassed:!0}:v={name:g,delete:!0};else continue;if(p!==v){if(v.mapped===f.fn&&p!=null&&p.mapping!=null&&p.mapping.value===v.value){var m=p.mapping,w=m.fnValue=v.value(t);if(w===m.prevFnValue)continue}var S=l[g]={prev:p};a.applyParsedProperty(t,v),S.next=t.pstyle(g),S.next&&S.next.bypass&&(S.next=S.next.bypassed)}}return{diffProps:l}};Pr.updateStyleHints=function(n){var e=n._private,t=this,a=t.propertyGroupNames,u=t.propertyGroupKeys,l=function(be,_e,Ue){return t.getPropertiesHash(be,_e,Ue)},f=e.styleKey;if(n.removed())return!1;var c=e.group==="nodes",g=n._private.style;a=Object.keys(g);for(var v=0;v<u.length;v++){var p=u[v];e.styleKeys[p]=[pc,Yd]}for(var m=function(be,_e){return e.styleKeys[_e][0]=eh(be,e.styleKeys[_e][0])},w=function(be,_e){return e.styleKeys[_e][1]=th(be,e.styleKeys[_e][1])},S=function(be,_e){m(be,_e),w(be,_e)},x=function(be,_e){for(var Ue=0;Ue<be.length;Ue++){var Pe=be.charCodeAt(Ue);m(Pe,_e),w(Pe,_e)}},D=2e9,C=function(be){return-128<be&&be<128&&Math.floor(be)!==be?D-(be*1024|0):be},T=0;T<a.length;T++){var R=a[T],M=g[R];if(M!=null){var O=this.properties[R],N=O.type,k=O.groupKey,L=void 0;O.hashOverride!=null?L=O.hashOverride(n,M):M.pfValue!=null&&(L=M.pfValue);var H=O.enums==null?M.value:null,z=L!=null,F=H!=null,Y=z||F,G=M.units;if(N.number&&Y&&!N.multiple){var Q=z?L:H;S(C(Q),k),!z&&G!=null&&x(G,k)}else x(M.strValue,k)}}for(var X=[pc,Yd],ee=0;ee<u.length;ee++){var K=u[ee],W=e.styleKeys[K];X[0]=eh(W[0],X[0]),X[1]=th(W[1],X[1])}e.styleKey=PS(X[0],X[1]);var j=e.styleKeys;e.labelDimsKey=es(j.labelDimensions);var le=l(n,["label"],j.labelDimensions);if(e.labelKey=es(le),e.labelStyleKey=es(wp(j.commonLabel,le)),!c){var I=l(n,["source-label"],j.labelDimensions);e.sourceLabelKey=es(I),e.sourceLabelStyleKey=es(wp(j.commonLabel,I));var Z=l(n,["target-label"],j.labelDimensions);e.targetLabelKey=es(Z),e.targetLabelStyleKey=es(wp(j.commonLabel,Z))}if(c){var ne=e.styleKeys,de=ne.nodeBody,se=ne.nodeBorder,we=ne.nodeOutline,pe=ne.backgroundImage,Re=ne.compound,xe=ne.pie,ve=[de,se,we,pe,Re,xe].filter(function(re){return re!=null}).reduce(wp,[pc,Yd]);e.nodeKey=es(ve),e.hasPie=xe!=null&&xe[0]!==pc&&xe[1]!==Yd}return f!==e.styleKey};Pr.clearStyleHints=function(n){var e=n._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Pr.applyParsedProperty=function(n,e){var t=this,a=e,u=n._private.style,l,f=t.types,c=t.properties[a.name].type,g=a.bypass,v=u[a.name],p=v&&v.bypass,m=n._private,w="mapping",S=function(de){return de==null?null:de.pfValue!=null?de.pfValue:de.value},x=function(){var de=S(v),se=S(a);t.checkTriggers(n,a.name,de,se)};if(e.name==="curve-style"&&n.isEdge()&&(e.value!=="bezier"&&n.isLoop()||e.value==="haystack"&&(n.source().isParent()||n.target().isParent()))&&(a=e=this.parse(e.name,"bezier",g)),a.delete)return u[a.name]=void 0,x(),!0;if(a.deleteBypassed)return v?v.bypass?(v.bypassed=void 0,x(),!0):!1:(x(),!0);if(a.deleteBypass)return v?v.bypass?(u[a.name]=v.bypassed,x(),!0):!1:(x(),!0);var D=function(){nn("Do not assign mappings to elements without corresponding data (i.e. ele `"+n.id()+"` has no mapping for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case f.mapData:{for(var C=a.field.split("."),T=m.data,R=0;R<C.length&&T;R++){var M=C[R];T=T[M]}if(T==null)return D(),!1;var O;if(He(T)){var N=a.fieldMax-a.fieldMin;N===0?O=0:O=(T-a.fieldMin)/N}else return nn("Do not use continuous mappers without specifying numeric data (i.e. `"+a.field+": "+T+"` for `"+n.id()+"` is non-numeric)"),!1;if(O<0?O=0:O>1&&(O=1),c.color){var k=a.valueMin[0],L=a.valueMax[0],H=a.valueMin[1],z=a.valueMax[1],F=a.valueMin[2],Y=a.valueMax[2],G=a.valueMin[3]==null?1:a.valueMin[3],Q=a.valueMax[3]==null?1:a.valueMax[3],X=[Math.round(k+(L-k)*O),Math.round(H+(z-H)*O),Math.round(F+(Y-F)*O),Math.round(G+(Q-G)*O)];l={bypass:a.bypass,name:a.name,value:X,strValue:"rgb("+X[0]+", "+X[1]+", "+X[2]+")"}}else if(c.number){var ee=a.valueMin+(a.valueMax-a.valueMin)*O;l=this.parse(a.name,ee,a.bypass,w)}else return!1;if(!l)return D(),!1;l.mapping=a,a=l;break}case f.data:{for(var K=a.field.split("."),W=m.data,j=0;j<K.length&&W;j++){var le=K[j];W=W[le]}if(W!=null&&(l=this.parse(a.name,W,a.bypass,w)),!l)return D(),!1;l.mapping=a,a=l;break}case f.fn:{var I=a.value,Z=a.fnValue!=null?a.fnValue:I(n);if(a.prevFnValue=Z,Z==null)return nn("Custom function mappers may not return null (i.e. `"+a.name+"` for ele `"+n.id()+"` is null)"),!1;if(l=this.parse(a.name,Z,a.bypass,w),!l)return nn("Custom function mappers may not return invalid values for the property type (i.e. `"+a.name+"` for ele `"+n.id()+"` is invalid)"),!1;l.mapping=Ru(a),a=l;break}case void 0:break;default:return!1}return g?(p?a.bypassed=v.bypassed:a.bypassed=v,u[a.name]=a):p?v.bypassed=a:u[a.name]=a,x(),!0};Pr.cleanElements=function(n,e){for(var t=0;t<n.length;t++){var a=n[t];if(this.clearStyleHints(a),a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),!e)a._private.style={};else for(var u=a._private.style,l=Object.keys(u),f=0;f<l.length;f++){var c=l[f],g=u[c];g!=null&&(g.bypass?g.bypassed=null:u[c]=null)}}};Pr.update=function(){var n=this._private.cy,e=n.mutableElements();e.updateStyle()};Pr.updateTransitions=function(n,e){var t=this,a=n._private,u=n.pstyle("transition-property").value,l=n.pstyle("transition-duration").pfValue,f=n.pstyle("transition-delay").pfValue;if(u.length>0&&l>0){for(var c={},g=!1,v=0;v<u.length;v++){var p=u[v],m=n.pstyle(p),w=e[p];if(w){var S=w.prev,x=S,D=w.next!=null?w.next:m,C=!1,T=void 0,R=1e-6;x&&(He(x.pfValue)&&He(D.pfValue)?(C=D.pfValue-x.pfValue,T=x.pfValue+R*C):He(x.value)&&He(D.value)?(C=D.value-x.value,T=x.value+R*C):fn(x.value)&&fn(D.value)&&(C=x.value[0]!==D.value[0]||x.value[1]!==D.value[1]||x.value[2]!==D.value[2],T=x.strValue),C&&(c[p]=D.strValue,this.applyBypass(n,p,T),g=!0))}}if(!g)return;a.transitioning=!0,new Rc(function(M){f>0?n.delayAnimation(f).play().promise().then(M):M()}).then(function(){return n.animation({style:c,duration:l,easing:n.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(n,u),n.emitAndNotify("style"),a.transitioning=!1})}else a.transitioning&&(this.removeBypasses(n,u),n.emitAndNotify("style"),a.transitioning=!1)};Pr.checkTrigger=function(n,e,t,a,u,l){var f=this.properties[e],c=u(f);c!=null&&c(t,a)&&l(f)};Pr.checkZOrderTrigger=function(n,e,t,a){var u=this;this.checkTrigger(n,e,t,a,function(l){return l.triggersZOrder},function(){u._private.cy.notify("zorder",n)})};Pr.checkBoundsTrigger=function(n,e,t,a){this.checkTrigger(n,e,t,a,function(u){return u.triggersBounds},function(u){n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),u.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(t==="bezier"||a==="bezier")&&n.parallelEdges().forEach(function(l){l.dirtyBoundingBoxCache()}),u.triggersBoundsOfConnectedEdges&&e==="display"&&(t==="none"||a==="none")&&n.connectedEdges().forEach(function(l){l.dirtyBoundingBoxCache()})})};Pr.checkTriggers=function(n,e,t,a){n.dirtyStyleCache(),this.checkZOrderTrigger(n,e,t,a),this.checkBoundsTrigger(n,e,t,a)};var ph={};ph.applyBypass=function(n,e,t,a){var u=this,l=[],f=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var c=0;c<u.properties.length;c++){var g=u.properties[c],v=g.name,p=this.parse(v,t,!0);p&&l.push(p)}}else if(it(e)){var m=this.parse(e,t,!0);m&&l.push(m)}else if(Yt(e)){var w=e;a=t;for(var S=Object.keys(w),x=0;x<S.length;x++){var D=S[x],C=w[D];if(C===void 0&&(C=w[nm(D)]),C!==void 0){var T=this.parse(D,C,!0);T&&l.push(T)}}}else return!1;if(l.length===0)return!1;for(var R=!1,M=0;M<n.length;M++){for(var O=n[M],N={},k=void 0,L=0;L<l.length;L++){var H=l[L];if(a){var z=O.pstyle(H.name);k=N[H.name]={prev:z}}R=this.applyParsedProperty(O,Ru(H))||R,a&&(k.next=O.pstyle(H.name))}R&&this.updateStyleHints(O),a&&this.updateTransitions(O,N,f)}return R};ph.overrideBypass=function(n,e,t){e=y0(e);for(var a=0;a<n.length;a++){var u=n[a],l=u._private.style[e],f=this.properties[e].type,c=f.color,g=f.mutiple,v=l?l.pfValue!=null?l.pfValue:l.value:null;!l||!l.bypass?this.applyBypass(u,e,t):(l.value=t,l.pfValue!=null&&(l.pfValue=t),c?l.strValue="rgb("+t.join(",")+")":g?l.strValue=t.join(" "):l.strValue=""+t,this.updateStyleHints(u)),this.checkTriggers(u,e,v,t)}};ph.removeAllBypasses=function(n,e){return this.removeBypasses(n,this.propertyNames,e)};ph.removeBypasses=function(n,e,t){for(var a=!0,u=0;u<n.length;u++){for(var l=n[u],f={},c=0;c<e.length;c++){var g=e[c],v=this.properties[g],p=l.pstyle(v.name);if(!(!p||!p.bypass)){var m="",w=this.parse(g,m,!0),S=f[v.name]={prev:p};this.applyParsedProperty(l,w),S.next=l.pstyle(v.name)}}this.updateStyleHints(l),t&&this.updateTransitions(l,f,a)}};var _0={};_0.getEmSizeInPixels=function(){var n=this.containerCss("font-size");return n!=null?parseFloat(n):1};_0.containerCss=function(n){var e=this._private.cy,t=e.container(),a=e.window();if(a&&t&&a.getComputedStyle)return a.getComputedStyle(t).getPropertyValue(n)};var Bu={};Bu.getRenderedStyle=function(n,e){return e?this.getStylePropertyValue(n,e,!0):this.getRawStyle(n,!0)};Bu.getRawStyle=function(n,e){var t=this;if(n=n[0],n){for(var a={},u=0;u<t.properties.length;u++){var l=t.properties[u],f=t.getStylePropertyValue(n,l.name,e);f!=null&&(a[l.name]=f,a[nm(l.name)]=f)}return a}};Bu.getIndexedStyle=function(n,e,t,a){var u=n.pstyle(e)[t][a];return u??n.cy().style().getDefaultProperty(e)[t][0]};Bu.getStylePropertyValue=function(n,e,t){var a=this;if(n=n[0],n){var u=a.properties[e];u.alias&&(u=u.pointsTo);var l=u.type,f=n.pstyle(u.name);if(f){var c=f.value,g=f.units,v=f.strValue;if(t&&l.number&&c!=null&&He(c)){var p=n.cy().zoom(),m=function(C){return C*p},w=function(C,T){return m(C)+T},S=fn(c),x=S?g.every(function(D){return D!=null}):g!=null;return x?S?c.map(function(D,C){return w(D,g[C])}).join(" "):w(c,g):S?c.map(function(D){return it(D)?D:""+m(D)}).join(" "):""+m(c)}else if(v!=null)return v}return null}};Bu.getAnimationStartStyle=function(n,e){for(var t={},a=0;a<e.length;a++){var u=e[a],l=u.name,f=n.pstyle(l);f!==void 0&&(Yt(f)?f=this.parse(l,f.strValue):f=this.parse(l,f)),f&&(t[l]=f)}return t};Bu.getPropsList=function(n){var e=this,t=[],a=n,u=e.properties;if(a)for(var l=Object.keys(a),f=0;f<l.length;f++){var c=l[f],g=a[c],v=u[c]||u[y0(c)],p=this.parse(v.name,g);p&&t.push(p)}return t};Bu.getNonDefaultPropertiesHash=function(n,e,t){var a=t.slice(),u,l,f,c,g,v;for(g=0;g<e.length;g++)if(u=e[g],l=n.pstyle(u,!1),l!=null)if(l.pfValue!=null)a[0]=eh(c,a[0]),a[1]=th(c,a[1]);else for(f=l.strValue,v=0;v<f.length;v++)c=f.charCodeAt(v),a[0]=eh(c,a[0]),a[1]=th(c,a[1]);return a};Bu.getPropertiesHash=Bu.getNonDefaultPropertiesHash;var hm={};hm.appendFromJson=function(n){for(var e=this,t=0;t<n.length;t++){var a=n[t],u=a.selector,l=a.style||a.css,f=Object.keys(l);e.selector(u);for(var c=0;c<f.length;c++){var g=f[c],v=l[g];e.css(g,v)}}return e};hm.fromJson=function(n){var e=this;return e.resetToDefault(),e.appendFromJson(n),e};hm.json=function(){for(var n=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],a=t.selector,u=t.properties,l={},f=0;f<u.length;f++){var c=u[f];l[c.name]=c.strValue}n.push({selector:a?a.toString():"core",style:l})}return n};var L0={};L0.appendFromString=function(n){var e=this,t=this,a=""+n,u,l,f;a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){a.length>u.length?a=a.substr(u.length):a=""}function g(){l.length>f.length?l=l.substr(f.length):l=""}for(;;){var v=a.match(/^\s*$/);if(v)break;var p=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!p){nn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}u=p[0];var m=p[1];if(m!=="core"){var w=new os(m);if(w.invalid){nn("Skipping parsing of block: Invalid selector found in string stylesheet: "+m),c();continue}}var S=p[2],x=!1;l=S;for(var D=[];;){var C=l.match(/^\s*$/);if(C)break;var T=l.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!T){nn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+S),x=!0;break}f=T[0];var R=T[1],M=T[2],O=e.properties[R];if(!O){nn("Skipping property: Invalid property name in: "+f),g();continue}var N=t.parse(R,M);if(!N){nn("Skipping property: Invalid property definition in: "+f),g();continue}D.push({name:R,val:M}),g()}if(x){c();break}t.selector(m);for(var k=0;k<D.length;k++){var L=D[k];t.css(L.name,L.val)}c()}return t};L0.fromString=function(n){var e=this;return e.resetToDefault(),e.appendFromString(n),e};var Sr={};(function(){var n=rr,e=Vx,t=Yx,a=Kx,u=Xx,l=function(ve){return"^"+ve+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},f=function(ve){var re=n+"|\\w+|"+e+"|"+t+"|"+a+"|"+u;return"^"+ve+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+re+")\\s*\\,\\s*("+re+")\\)$"},c=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Sr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:f("mapData")},mapLayoutData:{mapping:!0,regex:f("mapLayoutData")},mapScratch:{mapping:!0,regex:f("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ve,re){switch(ve.length){case 2:return re[0]!=="deg"&&re[0]!=="rad"&&re[1]!=="deg"&&re[1]!=="rad";case 1:return it(ve[0])||re[0]==="deg"||re[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ve){var re=ve.length;return re===1||re===2||re===4}}};var g={zeroNonZero:function(ve,re){return(ve==null||re==null)&&ve!==re||ve==0&&re!=0?!0:ve!=0&&re==0},any:function(ve,re){return ve!=re},emptyNonEmpty:function(ve,re){var be=us(ve),_e=us(re);return be&&!_e||!be&&_e}},v=Sr.types,p=[{name:"label",type:v.text,triggersBounds:g.any,triggersZOrder:g.emptyNonEmpty},{name:"text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any}],m=[{name:"source-label",type:v.text,triggersBounds:g.any},{name:"source-text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"source-text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"source-text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"source-text-offset",type:v.size,triggersBounds:g.any}],w=[{name:"target-label",type:v.text,triggersBounds:g.any},{name:"target-text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"target-text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"target-text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"target-text-offset",type:v.size,triggersBounds:g.any}],S=[{name:"font-family",type:v.fontFamily,triggersBounds:g.any},{name:"font-style",type:v.fontStyle,triggersBounds:g.any},{name:"font-weight",type:v.fontWeight,triggersBounds:g.any},{name:"font-size",type:v.size,triggersBounds:g.any},{name:"text-transform",type:v.textTransform,triggersBounds:g.any},{name:"text-wrap",type:v.textWrap,triggersBounds:g.any},{name:"text-overflow-wrap",type:v.textOverflowWrap,triggersBounds:g.any},{name:"text-max-width",type:v.size,triggersBounds:g.any},{name:"text-outline-width",type:v.size,triggersBounds:g.any},{name:"line-height",type:v.positiveNumber,triggersBounds:g.any}],x=[{name:"text-valign",type:v.valign,triggersBounds:g.any},{name:"text-halign",type:v.halign,triggersBounds:g.any},{name:"color",type:v.color},{name:"text-outline-color",type:v.color},{name:"text-outline-opacity",type:v.zeroOneNumber},{name:"text-background-color",type:v.color},{name:"text-background-opacity",type:v.zeroOneNumber},{name:"text-background-padding",type:v.size,triggersBounds:g.any},{name:"text-border-opacity",type:v.zeroOneNumber},{name:"text-border-color",type:v.color},{name:"text-border-width",type:v.size,triggersBounds:g.any},{name:"text-border-style",type:v.borderStyle,triggersBounds:g.any},{name:"text-background-shape",type:v.textBackgroundShape,triggersBounds:g.any},{name:"text-justification",type:v.justification}],D=[{name:"events",type:v.bool,triggersZOrder:g.any},{name:"text-events",type:v.bool,triggersZOrder:g.any}],C=[{name:"display",type:v.display,triggersZOrder:g.any,triggersBounds:g.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:v.visibility,triggersZOrder:g.any},{name:"opacity",type:v.zeroOneNumber,triggersZOrder:g.zeroNonZero},{name:"text-opacity",type:v.zeroOneNumber},{name:"min-zoomed-font-size",type:v.size},{name:"z-compound-depth",type:v.zCompoundDepth,triggersZOrder:g.any},{name:"z-index-compare",type:v.zIndexCompare,triggersZOrder:g.any},{name:"z-index",type:v.number,triggersZOrder:g.any}],T=[{name:"overlay-padding",type:v.size,triggersBounds:g.any},{name:"overlay-color",type:v.color},{name:"overlay-opacity",type:v.zeroOneNumber,triggersBounds:g.zeroNonZero},{name:"overlay-shape",type:v.overlayShape,triggersBounds:g.any},{name:"overlay-corner-radius",type:v.cornerRadius}],R=[{name:"underlay-padding",type:v.size,triggersBounds:g.any},{name:"underlay-color",type:v.color},{name:"underlay-opacity",type:v.zeroOneNumber,triggersBounds:g.zeroNonZero},{name:"underlay-shape",type:v.overlayShape,triggersBounds:g.any},{name:"underlay-corner-radius",type:v.cornerRadius}],M=[{name:"transition-property",type:v.propList},{name:"transition-duration",type:v.time},{name:"transition-delay",type:v.time},{name:"transition-timing-function",type:v.easing}],O=function(ve,re){return re.value==="label"?-ve.poolIndex():re.pfValue},N=[{name:"height",type:v.nodeSize,triggersBounds:g.any,hashOverride:O},{name:"width",type:v.nodeSize,triggersBounds:g.any,hashOverride:O},{name:"shape",type:v.nodeShape,triggersBounds:g.any},{name:"shape-polygon-points",type:v.polygonPointList,triggersBounds:g.any},{name:"corner-radius",type:v.cornerRadius},{name:"background-color",type:v.color},{name:"background-fill",type:v.fill},{name:"background-opacity",type:v.zeroOneNumber},{name:"background-blacken",type:v.nOneOneNumber},{name:"background-gradient-stop-colors",type:v.colors},{name:"background-gradient-stop-positions",type:v.percentages},{name:"background-gradient-direction",type:v.gradientDirection},{name:"padding",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"padding-relative-to",type:v.paddingRelativeTo,triggersBounds:g.any},{name:"bounds-expansion",type:v.boundsExpansion,triggersBounds:g.any}],k=[{name:"border-color",type:v.color},{name:"border-opacity",type:v.zeroOneNumber},{name:"border-width",type:v.size,triggersBounds:g.any},{name:"border-style",type:v.borderStyle},{name:"border-cap",type:v.lineCap},{name:"border-join",type:v.lineJoin},{name:"border-dash-pattern",type:v.numbers},{name:"border-dash-offset",type:v.number},{name:"border-position",type:v.linePosition}],L=[{name:"outline-color",type:v.color},{name:"outline-opacity",type:v.zeroOneNumber},{name:"outline-width",type:v.size,triggersBounds:g.any},{name:"outline-style",type:v.borderStyle},{name:"outline-offset",type:v.size,triggersBounds:g.any}],H=[{name:"background-image",type:v.urls},{name:"background-image-crossorigin",type:v.bgCrossOrigin},{name:"background-image-opacity",type:v.zeroOneNumbers},{name:"background-image-containment",type:v.bgContainment},{name:"background-image-smoothing",type:v.bools},{name:"background-position-x",type:v.bgPos},{name:"background-position-y",type:v.bgPos},{name:"background-width-relative-to",type:v.bgRelativeTo},{name:"background-height-relative-to",type:v.bgRelativeTo},{name:"background-repeat",type:v.bgRepeat},{name:"background-fit",type:v.bgFit},{name:"background-clip",type:v.bgClip},{name:"background-width",type:v.bgWH},{name:"background-height",type:v.bgWH},{name:"background-offset-x",type:v.bgPos},{name:"background-offset-y",type:v.bgPos}],z=[{name:"position",type:v.position,triggersBounds:g.any},{name:"compound-sizing-wrt-labels",type:v.compoundIncludeLabels,triggersBounds:g.any},{name:"min-width",type:v.size,triggersBounds:g.any},{name:"min-width-bias-left",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-width-bias-right",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-height",type:v.size,triggersBounds:g.any},{name:"min-height-bias-top",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-height-bias-bottom",type:v.sizeMaybePercent,triggersBounds:g.any}],F=[{name:"line-style",type:v.lineStyle},{name:"line-color",type:v.color},{name:"line-fill",type:v.fill},{name:"line-cap",type:v.lineCap},{name:"line-opacity",type:v.zeroOneNumber},{name:"line-dash-pattern",type:v.numbers},{name:"line-dash-offset",type:v.number},{name:"line-outline-width",type:v.size},{name:"line-outline-color",type:v.color},{name:"line-gradient-stop-colors",type:v.colors},{name:"line-gradient-stop-positions",type:v.percentages},{name:"curve-style",type:v.curveStyle,triggersBounds:g.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:v.zeroOneNumber,triggersBounds:g.any},{name:"source-endpoint",type:v.edgeEndpoint,triggersBounds:g.any},{name:"target-endpoint",type:v.edgeEndpoint,triggersBounds:g.any},{name:"control-point-step-size",type:v.size,triggersBounds:g.any},{name:"control-point-distances",type:v.bidirectionalSizes,triggersBounds:g.any},{name:"control-point-weights",type:v.numbers,triggersBounds:g.any},{name:"segment-distances",type:v.bidirectionalSizes,triggersBounds:g.any},{name:"segment-weights",type:v.numbers,triggersBounds:g.any},{name:"segment-radii",type:v.numbers,triggersBounds:g.any},{name:"radius-type",type:v.radiusType,triggersBounds:g.any},{name:"taxi-turn",type:v.bidirectionalSizeMaybePercent,triggersBounds:g.any},{name:"taxi-turn-min-distance",type:v.size,triggersBounds:g.any},{name:"taxi-direction",type:v.axisDirection,triggersBounds:g.any},{name:"taxi-radius",type:v.number,triggersBounds:g.any},{name:"edge-distances",type:v.edgeDistances,triggersBounds:g.any},{name:"arrow-scale",type:v.positiveNumber,triggersBounds:g.any},{name:"loop-direction",type:v.angle,triggersBounds:g.any},{name:"loop-sweep",type:v.angle,triggersBounds:g.any},{name:"source-distance-from-node",type:v.size,triggersBounds:g.any},{name:"target-distance-from-node",type:v.size,triggersBounds:g.any}],Y=[{name:"ghost",type:v.bool,triggersBounds:g.any},{name:"ghost-offset-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"ghost-offset-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"ghost-opacity",type:v.zeroOneNumber}],G=[{name:"selection-box-color",type:v.color},{name:"selection-box-opacity",type:v.zeroOneNumber},{name:"selection-box-border-color",type:v.color},{name:"selection-box-border-width",type:v.size},{name:"active-bg-color",type:v.color},{name:"active-bg-opacity",type:v.zeroOneNumber},{name:"active-bg-size",type:v.size},{name:"outside-texture-bg-color",type:v.color},{name:"outside-texture-bg-opacity",type:v.zeroOneNumber}],Q=[];Sr.pieBackgroundN=16,Q.push({name:"pie-size",type:v.sizeMaybePercent});for(var X=1;X<=Sr.pieBackgroundN;X++)Q.push({name:"pie-"+X+"-background-color",type:v.color}),Q.push({name:"pie-"+X+"-background-size",type:v.percent}),Q.push({name:"pie-"+X+"-background-opacity",type:v.zeroOneNumber});var ee=[],K=Sr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:v.arrowShape,triggersBounds:g.any},{name:"arrow-color",type:v.color},{name:"arrow-fill",type:v.arrowFill},{name:"arrow-width",type:v.arrowWidth}].forEach(function(xe){K.forEach(function(ve){var re=ve+"-"+xe.name,be=xe.type,_e=xe.triggersBounds;ee.push({name:re,type:be,triggersBounds:_e})})},{});var W=Sr.properties=[].concat(D,M,C,T,R,Y,x,S,p,m,w,N,k,L,H,Q,z,F,ee,G),j=Sr.propertyGroups={behavior:D,transition:M,visibility:C,overlay:T,underlay:R,ghost:Y,commonLabel:x,labelDimensions:S,mainLabel:p,sourceLabel:m,targetLabel:w,nodeBody:N,nodeBorder:k,nodeOutline:L,backgroundImage:H,pie:Q,compound:z,edgeLine:F,edgeArrow:ee,core:G},le=Sr.propertyGroupNames={},I=Sr.propertyGroupKeys=Object.keys(j);I.forEach(function(xe){le[xe]=j[xe].map(function(ve){return ve.name}),j[xe].forEach(function(ve){return ve.groupKey=xe})});var Z=Sr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Sr.propertyNames=W.map(function(xe){return xe.name});for(var ne=0;ne<W.length;ne++){var de=W[ne];W[de.name]=de}for(var se=0;se<Z.length;se++){var we=Z[se],pe=W[we.pointsTo],Re={name:we.name,alias:!0,pointsTo:pe};W.push(Re),W[we.name]=Re}})();Sr.getDefaultProperty=function(n){return this.getDefaultProperties()[n]};Sr.getDefaultProperties=function(){var n=this._private;if(n.defaultProperties!=null)return n.defaultProperties;for(var e=ct({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(g,v){for(var p=1;p<=Sr.pieBackgroundN;p++){var m=v.name.replace("{{i}}",p),w=v.value;g[m]=w}return g},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(g,v){return Sr.arrowPrefixes.forEach(function(p){var m=p+"-"+v.name,w=v.value;g[m]=w}),g},{})),t={},a=0;a<this.properties.length;a++){var u=this.properties[a];if(!u.pointsTo){var l=u.name,f=e[l],c=this.parse(l,f);t[l]=c}}return n.defaultProperties=t,n.defaultProperties};Sr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var gm={};gm.parse=function(n,e,t,a){var u=this;if(Nn(e))return u.parseImplWarn(n,e,t,a);var l=a==="mapping"||a===!0||a===!1||a==null?"dontcare":a,f=t?"t":"f",c=""+e,g=Vb(n,c,f,l),v=u.propCache=u.propCache||[],p;return(p=v[g])||(p=v[g]=u.parseImplWarn(n,e,t,a)),(t||a==="mapping")&&(p=Ru(p),p&&(p.value=Ru(p.value))),p};gm.parseImplWarn=function(n,e,t,a){var u=this.parseImpl(n,e,t,a);return!u&&e!=null&&nn("The style property `".concat(n,": ").concat(e,"` is invalid")),u&&(u.name==="width"||u.name==="height")&&e==="label"&&nn("The style value of `label` is deprecated for `"+u.name+"`"),u};gm.parseImpl=function(n,e,t,a){var u=this;n=y0(n);var l=u.properties[n],f=e,c=u.types;if(!l||e===void 0)return null;l.alias&&(l=l.pointsTo,n=l.name);var g=it(e);g&&(e=e.trim());var v=l.type;if(!v)return null;if(t&&(e===""||e===null))return{name:n,value:e,bypass:!0,deleteBypass:!0};if(Nn(e))return{name:n,value:e,strValue:"fn",mapped:c.fn,bypass:t};var p,m;if(!(!g||a||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(p=new RegExp(c.data.regex).exec(e))){if(t)return!1;var w=c.data;return{name:n,value:p,strValue:""+e,mapped:w,field:p[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(m=new RegExp(c.mapData.regex).exec(e))){if(t||v.multiple)return!1;var S=c.mapData;if(!(v.color||v.number))return!1;var x=this.parse(n,m[4]);if(!x||x.mapped)return!1;var D=this.parse(n,m[5]);if(!D||D.mapped)return!1;if(x.pfValue===D.pfValue||x.strValue===D.strValue)return nn("`"+n+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+n+": "+x.strValue+"`"),this.parse(n,x.strValue);if(v.color){var C=x.value,T=D.value,R=C[0]===T[0]&&C[1]===T[1]&&C[2]===T[2]&&(C[3]===T[3]||(C[3]==null||C[3]===1)&&(T[3]==null||T[3]===1));if(R)return!1}return{name:n,value:m,strValue:""+e,mapped:S,field:m[1],fieldMin:parseFloat(m[2]),fieldMax:parseFloat(m[3]),valueMin:x.value,valueMax:D.value,bypass:t}}}if(v.multiple&&a!=="multiple"){var M;if(g?M=e.split(/\s+/):fn(e)?M=e:M=[e],v.evenMultiple&&M.length%2!==0)return null;for(var O=[],N=[],k=[],L="",H=!1,z=0;z<M.length;z++){var F=u.parse(n,M[z],t,"multiple");H=H||it(F.value),O.push(F.value),k.push(F.pfValue!=null?F.pfValue:F.value),N.push(F.units),L+=(z>0?" ":"")+F.strValue}return v.validate&&!v.validate(O,N)?null:v.singleEnum&&H?O.length===1&&it(O[0])?{name:n,value:O[0],strValue:O[0],bypass:t}:null:{name:n,value:O,pfValue:k,strValue:L,bypass:t,units:N}}var Y=function(){for(var ve=0;ve<v.enums.length;ve++){var re=v.enums[ve];if(re===e)return{name:n,value:e,strValue:""+e,bypass:t}}return null};if(v.number){var G,Q="px";if(v.units&&(G=v.units),v.implicitUnits&&(Q=v.implicitUnits),!v.unitless)if(g){var X="px|em"+(v.allowPercent?"|\\%":"");G&&(X=G);var ee=e.match("^("+rr+")("+X+")?$");ee&&(e=ee[1],G=ee[2]||Q)}else(!G||v.implicitUnits)&&(G=Q);if(e=parseFloat(e),isNaN(e)&&v.enums===void 0)return null;if(isNaN(e)&&v.enums!==void 0)return e=f,Y();if(v.integer&&!kx(e)||v.min!==void 0&&(e<v.min||v.strictMin&&e===v.min)||v.max!==void 0&&(e>v.max||v.strictMax&&e===v.max))return null;var K={name:n,value:e,strValue:""+e+(G||""),units:G,bypass:t};return v.unitless||G!=="px"&&G!=="em"?K.pfValue=e:K.pfValue=G==="px"||!G?e:this.getEmSizeInPixels()*e,(G==="ms"||G==="s")&&(K.pfValue=G==="ms"?e:1e3*e),(G==="deg"||G==="rad")&&(K.pfValue=G==="rad"?e:g2(e)),G==="%"&&(K.pfValue=e/100),K}else if(v.propList){var W=[],j=""+e;if(j!=="none"){for(var le=j.split(/\s*,\s*|\s+/),I=0;I<le.length;I++){var Z=le[I].trim();u.properties[Z]?W.push(Z):nn("`"+Z+"` is not a valid property name")}if(W.length===0)return null}return{name:n,value:W,strValue:W.length===0?"none":W.join(" "),bypass:t}}else if(v.color){var ne=Nb(e);return ne?{name:n,value:ne,pfValue:ne,strValue:"rgb("+ne[0]+","+ne[1]+","+ne[2]+")",bypass:t}:null}else if(v.regex||v.regexes){if(v.enums){var de=Y();if(de)return de}for(var se=v.regexes?v.regexes:[v.regex],we=0;we<se.length;we++){var pe=new RegExp(se[we]),Re=pe.exec(e);if(Re)return{name:n,value:v.singleRegexMatchValue?Re[1]:Re,strValue:""+e,bypass:t}}return null}else return v.string?{name:n,value:""+e,strValue:""+e,bypass:t}:v.enums?Y():null};var kr=function n(e){if(!(this instanceof n))return new n(e);if(!m0(e)){zn("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Ir=kr.prototype;Ir.instanceString=function(){return"style"};Ir.clear=function(){for(var n=this._private,e=n.cy,t=e.elements(),a=0;a<this.length;a++)this[a]=void 0;return this.length=0,n.contextStyles={},n.propDiffs={},this.cleanElements(t,!0),t.forEach(function(u){var l=u[0]._private;l.styleDirty=!0,l.appliedInitStyle=!1}),this};Ir.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Ir.core=function(n){return this._private.coreStyle[n]||this.getDefaultProperty(n)};Ir.selector=function(n){var e=n==="core"?null:new os(n),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};Ir.css=function(){var n=this,e=arguments;if(e.length===1)for(var t=e[0],a=0;a<n.properties.length;a++){var u=n.properties[a],l=t[u.name];l===void 0&&(l=t[nm(u.name)]),l!==void 0&&this.cssRule(u.name,l)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Ir.style=Ir.css;Ir.cssRule=function(n,e){var t=this.parse(n,e);if(t){var a=this.length-1;this[a].properties.push(t),this[a].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[a].mappedProperties.push(t);var u=!this[a].selector;u&&(this._private.coreStyle[t.name]=t)}return this};Ir.append=function(n){return _b(n)?n.appendToStyle(this):fn(n)?this.appendFromJson(n):it(n)&&this.appendFromString(n),this};kr.fromJson=function(n,e){var t=new kr(n);return t.fromJson(e),t};kr.fromString=function(n,e){return new kr(n).fromString(e)};[Pr,ph,_0,Bu,hm,L0,Sr,gm].forEach(function(n){ct(Ir,n)});kr.types=Ir.types;kr.properties=Ir.properties;kr.propertyGroups=Ir.propertyGroups;kr.propertyGroupNames=Ir.propertyGroupNames;kr.propertyGroupKeys=Ir.propertyGroupKeys;var LD={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return _b(e)?t.style=e.generateStyle(this):fn(e)?t.style=kr.fromJson(this,e):it(e)?t.style=kr.fromString(this,e):t.style=kr(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},zD="single",No={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=zD),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,a,u,l,f,c;switch(e.length){case 0:return t;case 1:if(it(e[0]))return a=e[0],t[a];if(Yt(e[0])){if(!this._private.panningEnabled)return this;l=e[0],f=l.x,c=l.y,He(f)&&(t.x=f),He(c)&&(t.y=c),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=e[0],u=e[1],(a==="x"||a==="y")&&He(u)&&(t[a]=u),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var a=arguments,u=this._private.pan,l,f,c,g,v;if(!this._private.panningEnabled)return this;switch(a.length){case 1:Yt(e)&&(c=a[0],g=c.x,v=c.y,He(g)&&(u.x+=g),He(v)&&(u.y+=v),this.emit("pan viewport"));break;case 2:l=e,f=t,(l==="x"||l==="y")&&He(f)&&(u[l]+=f),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var a=this.getFitViewport(e,t);if(a){var u=this._private;u.zoom=a.zoom,u.pan=a.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(He(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var a;if(it(e)){var u=e;e=this.$(u)}else if(Px(e)){var l=e;a={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},a.w=a.x2-a.x1,a.h=a.y2-a.y1}else Qa(e)||(e=this.mutableElements());if(!(Qa(e)&&e.empty())){a=a||e.boundingBox();var f=this.width(),c=this.height(),g;if(t=He(t)?t:0,!isNaN(f)&&!isNaN(c)&&f>0&&c>0&&!isNaN(a.w)&&!isNaN(a.h)&&a.w>0&&a.h>0){g=Math.min((f-2*t)/a.w,(c-2*t)/a.h),g=g>this._private.maxZoom?this._private.maxZoom:g,g=g<this._private.minZoom?this._private.minZoom:g;var v={x:(f-g*(a.x1+a.x2))/2,y:(c-g*(a.y1+a.y2))/2};return{zoom:g,pan:v}}}}},zoomRange:function(e,t){var a=this._private;if(t==null){var u=e;e=u.min,t=u.max}return He(e)&&He(t)&&e<=t?(a.minZoom=e,a.maxZoom=t):He(e)&&t===void 0&&e<=a.maxZoom?a.minZoom=e:He(t)&&e===void 0&&t>=a.minZoom&&(a.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,a=t.pan,u=t.zoom,l,f,c=!1;if(t.zoomingEnabled||(c=!0),He(e)?f=e:Yt(e)&&(f=e.level,e.position!=null?l=im(e.position,u,a):e.renderedPosition!=null&&(l=e.renderedPosition),l!=null&&!t.panningEnabled&&(c=!0)),f=f>t.maxZoom?t.maxZoom:f,f=f<t.minZoom?t.minZoom:f,c||!He(f)||f===u||l!=null&&(!He(l.x)||!He(l.y)))return null;if(l!=null){var g=a,v=u,p=f,m={x:-p/v*(l.x-g.x)+l.x,y:-p/v*(l.y-g.y)+l.y};return{zoomed:!0,panned:!0,zoom:p,pan:m}}else return{zoomed:!0,panned:!1,zoom:f,pan:a}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),a=this._private;return t==null||!t.zoomed?this:(a.zoom=t.zoom,t.panned&&(a.pan.x=t.pan.x,a.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,a=!0,u=!0,l=[],f=!1,c=!1;if(!e)return this;if(He(e.zoom)||(a=!1),Yt(e.pan)||(u=!1),!a&&!u)return this;if(a){var g=e.zoom;g<t.minZoom||g>t.maxZoom||!t.zoomingEnabled?f=!0:(t.zoom=g,l.push("zoom"))}if(u&&(!f||!e.cancelOnFailedZoom)&&t.panningEnabled){var v=e.pan;He(v.x)&&(t.pan.x=v.x,c=!1),He(v.y)&&(t.pan.y=v.y,c=!1),c||l.push("pan")}return l.length>0&&(l.push("viewport"),this.emit(l.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(it(e)){var a=e;e=this.mutableElements().filter(a)}else Qa(e)||(e=this.mutableElements());if(e.length!==0){var u=e.boundingBox(),l=this.width(),f=this.height();t=t===void 0?this._private.zoom:t;var c={x:(l-t*(u.x1+u.x2))/2,y:(f-t*(u.y1+u.y2))/2};return c}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,a=this;return e.sizeCache=e.sizeCache||(t?function(){var u=a.window().getComputedStyle(t),l=function(c){return parseFloat(u.getPropertyValue(c))};return{width:t.clientWidth-l("padding-left")-l("padding-right"),height:t.clientHeight-l("padding-top")-l("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,a=this.renderedExtent(),u={x1:(a.x1-e.x)/t,x2:(a.x2-e.x)/t,y1:(a.y1-e.y)/t,y2:(a.y2-e.y)/t};return u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};No.centre=No.center;No.autolockNodes=No.autolock;No.autoungrabifyNodes=No.autoungrabify;var sh={data:tn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:tn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:tn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};sh.attr=sh.data;sh.removeAttr=sh.removeData;var oh=function(e){var t=this;e=ct({},e);var a=e.container;a&&!Vp(a)&&Vp(a[0])&&(a=a[0]);var u=a?a._cyreg:null;u=u||{},u&&u.cy&&(u.cy.destroy(),u={});var l=u.readies=u.readies||[];a&&(a._cyreg=u),u.cy=t;var f=nr!==void 0&&a!==void 0&&!e.headless,c=e;c.layout=ct({name:f?"grid":"null"},c.layout),c.renderer=ct({name:f?"canvas":"null"},c.renderer);var g=function(x,D,C){return D!==void 0?D:C!==void 0?C:x},v=this._private={container:a,ready:!1,options:c,elements:new Cr(this),listeners:[],aniEles:new Cr(this),data:c.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:g(!0,c.zoomingEnabled),userZoomingEnabled:g(!0,c.userZoomingEnabled),panningEnabled:g(!0,c.panningEnabled),userPanningEnabled:g(!0,c.userPanningEnabled),boxSelectionEnabled:g(!0,c.boxSelectionEnabled),autolock:g(!1,c.autolock,c.autolockNodes),autoungrabify:g(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:g(!1,c.autounselectify),styleEnabled:c.styleEnabled===void 0?f:c.styleEnabled,zoom:He(c.zoom)?c.zoom:1,pan:{x:Yt(c.pan)&&He(c.pan.x)?c.pan.x:0,y:Yt(c.pan)&&He(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:g(250,c.multiClickDebounceTime)};this.createEmitter(),this.selectionType(c.selectionType),this.zoomRange({min:c.minZoom,max:c.maxZoom});var p=function(x,D){var C=x.some(Hx);if(C)return Rc.all(x).then(D);D(x)};v.styleEnabled&&t.setStyle([]);var m=ct({},c,c.renderer);t.initRenderer(m);var w=function(x,D,C){t.notifications(!1);var T=t.mutableElements();T.length>0&&T.remove(),x!=null&&(Yt(x)||fn(x))&&t.add(x),t.one("layoutready",function(M){t.notifications(!0),t.emit(M),t.one("load",D),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",C),t.emit("done")});var R=ct({},t._private.options.layout);R.eles=t.elements(),t.layout(R).run()};p([c.style,c.elements],function(S){var x=S[0],D=S[1];v.styleEnabled&&t.style().append(x),w(D,function(){t.startAnimationLoop(),v.ready=!0,Nn(c.ready)&&t.on("ready",c.ready);for(var C=0;C<l.length;C++){var T=l[C];t.on("ready",T)}u&&(u.readies=[]),t.emit("ready")},c.done)})},Wp=oh.prototype;ct(Wp,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return nr;var t=this._private.container.ownerDocument;return t===void 0||t==null?nr:t.defaultView||nr},mount:function(e){if(e!=null){var t=this,a=t._private,u=a.options;return!Vp(e)&&Vp(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),a.container=e,a.styleEnabled=!0,t.invalidateSize(),t.initRenderer(ct({},u,u.renderer,{name:u.renderer.name==="null"?"canvas":u.renderer.name})),t.startAnimationLoop(),t.style(u.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ru(this._private.options)},json:function(e){var t=this,a=t._private,u=t.mutableElements(),l=function(O){return t.getElementById(O.id())};if(Yt(e)){if(t.startBatch(),e.elements){var f={},c=function(O,N){for(var k=[],L=[],H=0;H<O.length;H++){var z=O[H];if(!z.data.id){nn("cy.json() cannot handle elements without an ID attribute");continue}var F=""+z.data.id,Y=t.getElementById(F);f[F]=!0,Y.length!==0?L.push({ele:Y,json:z}):(N&&(z.group=N),k.push(z))}t.add(k);for(var G=0;G<L.length;G++){var Q=L[G],X=Q.ele,ee=Q.json;X.json(ee)}};if(fn(e.elements))c(e.elements);else for(var g=["nodes","edges"],v=0;v<g.length;v++){var p=g[v],m=e.elements[p];fn(m)&&c(m,p)}var w=t.collection();u.filter(function(M){return!f[M.id()]}).forEach(function(M){M.isParent()?w.merge(M):M.remove()}),w.forEach(function(M){return M.children().move({parent:null})}),w.forEach(function(M){return l(M).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==a.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==a.pan.x||e.pan.y!==a.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var S=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],x=0;x<S.length;x++){var D=S[x];e[D]!=null&&t[D](e[D])}return t.endBatch(),this}else{var C=!!e,T={};C?T.elements=this.elements().map(function(M){return M.json()}):(T.elements={},u.forEach(function(M){var O=M.group();T.elements[O]||(T.elements[O]=[]),T.elements[O].push(M.json())})),this._private.styleEnabled&&(T.style=t.style().json()),T.data=Ru(t.data());var R=a.options;return T.zoomingEnabled=a.zoomingEnabled,T.userZoomingEnabled=a.userZoomingEnabled,T.zoom=a.zoom,T.minZoom=a.minZoom,T.maxZoom=a.maxZoom,T.panningEnabled=a.panningEnabled,T.userPanningEnabled=a.userPanningEnabled,T.pan=Ru(a.pan),T.boxSelectionEnabled=a.boxSelectionEnabled,T.renderer=Ru(R.renderer),T.hideEdgesOnViewport=R.hideEdgesOnViewport,T.textureOnViewport=R.textureOnViewport,T.wheelSensitivity=R.wheelSensitivity,T.motionBlur=R.motionBlur,T.multiClickDebounceTime=R.multiClickDebounceTime,T}}});Wp.$id=Wp.getElementById;[SD,RD,zw,a0,Pp,BD,i0,Hp,LD,No,sh].forEach(function(n){ct(Wp,n)});var ND={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},kD={maximal:!1,acyclic:!1},dc=function(e){return e.scratch("breadthfirst")},K1=function(e,t){return e.scratch("breadthfirst",t)};function Nw(n){this.options=ct({},ND,kD,n)}Nw.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,a=t.nodes().filter(function(Ge){return Ge.isChildless()}),u=t,l=n.directed,f=n.acyclic||n.maximal||n.maximalAdjustments>0,c=!!n.boundingBox,g=e.extent(),v=Ca(c?n.boundingBox:{x1:g.x1,y1:g.y1,w:g.w,h:g.h}),p;if(Qa(n.roots))p=n.roots;else if(fn(n.roots)){for(var m=[],w=0;w<n.roots.length;w++){var S=n.roots[w],x=e.getElementById(S);m.push(x)}p=e.collection(m)}else if(it(n.roots))p=e.$(n.roots);else if(l)p=a.roots();else{var D=t.components();p=e.collection();for(var C=function(Ye){var Je=D[Ye],Qe=Je.maxDegree(!1),je=Je.filter(function(ut){return ut.degree(!1)===Qe});p=p.add(je)},T=0;T<D.length;T++)C(T)}var R=[],M={},O=function(Ye,Je){R[Je]==null&&(R[Je]=[]);var Qe=R[Je].length;R[Je].push(Ye),K1(Ye,{index:Qe,depth:Je})},N=function(Ye,Je){var Qe=dc(Ye),je=Qe.depth,ut=Qe.index;R[je][ut]=null,Ye.isChildless()&&O(Ye,Je)};u.bfs({roots:p,directed:n.directed,visit:function(Ye,Je,Qe,je,ut){var lt=Ye[0],wt=lt.id();lt.isChildless()&&O(lt,ut),M[wt]=!0}});for(var k=[],L=0;L<a.length;L++){var H=a[L];M[H.id()]||k.push(H)}var z=function(Ye){for(var Je=R[Ye],Qe=0;Qe<Je.length;Qe++){var je=Je[Qe];if(je==null){Je.splice(Qe,1),Qe--;continue}K1(je,{depth:Ye,index:Qe})}},F=function(Ye,Je){for(var Qe=dc(Ye),je=Ye.incomers().filter(function(Se){return Se.isNode()&&t.has(Se)}),ut=-1,lt=Ye.id(),wt=0;wt<je.length;wt++){var Le=je[wt],V=dc(Le);ut=Math.max(ut,V.depth)}if(Qe.depth<=ut){if(!n.acyclic&&Je[lt])return null;var fe=ut+1;return N(Ye,fe),Je[lt]=fe,!0}return!1};if(l&&f){var Y=[],G={},Q=function(Ye){return Y.push(Ye)},X=function(){return Y.shift()};for(a.forEach(function(Ge){return Y.push(Ge)});Y.length>0;){var ee=X(),K=F(ee,G);if(K)ee.outgoers().filter(function(Ge){return Ge.isNode()&&t.has(Ge)}).forEach(Q);else if(K===null){nn("Detected double maximal shift for node `"+ee.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var W=0;if(n.avoidOverlap)for(var j=0;j<a.length;j++){var le=a[j],I=le.layoutDimensions(n),Z=I.w,ne=I.h;W=Math.max(W,Z,ne)}var de={},se=function(Ye){if(de[Ye.id()])return de[Ye.id()];for(var Je=dc(Ye).depth,Qe=Ye.neighborhood(),je=0,ut=0,lt=0;lt<Qe.length;lt++){var wt=Qe[lt];if(!(wt.isEdge()||wt.isParent()||!a.has(wt))){var Le=dc(wt);if(Le!=null){var V=Le.index,fe=Le.depth;if(!(V==null||fe==null)){var Se=R[fe].length;fe<Je&&(je+=V/Se,ut++)}}}}return ut=Math.max(1,ut),je=je/ut,ut===0&&(je=0),de[Ye.id()]=je,je},we=function(Ye,Je){var Qe=se(Ye),je=se(Je),ut=Qe-je;return ut===0?zb(Ye.id(),Je.id()):ut};n.depthSort!==void 0&&(we=n.depthSort);for(var pe=R.length,Re=0;Re<pe;Re++)R[Re].sort(we),z(Re);for(var xe=[],ve=0;ve<k.length;ve++)xe.push(k[ve]);var re=function(){for(var Ye=0;Ye<pe;Ye++)z(Ye)};xe.length&&(R.unshift(xe),pe=R.length,re());for(var be=0,_e=0;_e<pe;_e++)be=Math.max(R[_e].length,be);var Ue={x:v.x1+v.w/2,y:v.y1+v.h/2},Pe=a.reduce(function(Ge,Ye){return function(Je){return{w:Ge.w===-1?Je.w:(Ge.w+Je.w)/2,h:Ge.h===-1?Je.h:(Ge.h+Je.h)/2}}(Ye.boundingBox({includeLabels:n.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),gt=Math.max(pe===1?0:c?(v.h-n.padding*2-Pe.h)/(pe-1):(v.h-n.padding*2-Pe.h)/(pe+1),W),_t=R.reduce(function(Ge,Ye){return Math.max(Ge,Ye.length)},0),xt=function(Ye){var Je=dc(Ye),Qe=Je.depth,je=Je.index;if(n.circle){var ut=Math.min(v.w/2/pe,v.h/2/pe);ut=Math.max(ut,W);var lt=ut*Qe+ut-(pe>0&&R[0].length<=3?ut/2:0),wt=2*Math.PI/R[Qe].length*je;return Qe===0&&R[0].length===1&&(lt=1),{x:Ue.x+lt*Math.cos(wt),y:Ue.y+lt*Math.sin(wt)}}else{var Le=R[Qe].length,V=Math.max(Le===1?0:c?(v.w-n.padding*2-Pe.w)/((n.grid?_t:Le)-1):(v.w-n.padding*2-Pe.w)/((n.grid?_t:Le)+1),W),fe={x:Ue.x+(je+1-(Le+1)/2)*V,y:Ue.y+(Qe+1-(pe+1)/2)*gt};return fe}};return t.nodes().layoutPositions(this,n,xt),this};var UD={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function kw(n){this.options=ct({},UD,n)}kw.prototype.run=function(){var n=this.options,e=n,t=n.cy,a=e.eles,u=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,l=a.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));for(var f=Ca(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),c={x:f.x1+f.w/2,y:f.y1+f.h/2},g=e.sweep===void 0?2*Math.PI-2*Math.PI/l.length:e.sweep,v=g/Math.max(1,l.length-1),p,m=0,w=0;w<l.length;w++){var S=l[w],x=S.layoutDimensions(e),D=x.w,C=x.h;m=Math.max(m,D,C)}if(He(e.radius)?p=e.radius:l.length<=1?p=0:p=Math.min(f.h,f.w)/2-m,l.length>1&&e.avoidOverlap){m*=1.75;var T=Math.cos(v)-Math.cos(0),R=Math.sin(v)-Math.sin(0),M=Math.sqrt(m*m/(T*T+R*R));p=Math.max(M,p)}var O=function(k,L){var H=e.startAngle+L*v*(u?1:-1),z=p*Math.cos(H),F=p*Math.sin(H),Y={x:c.x+z,y:c.y+F};return Y};return a.nodes().layoutPositions(this,e,O),this};var ID={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Uw(n){this.options=ct({},ID,n)}Uw.prototype.run=function(){for(var n=this.options,e=n,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.cy,u=e.eles,l=u.nodes().not(":parent"),f=Ca(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),c={x:f.x1+f.w/2,y:f.y1+f.h/2},g=[],v=0,p=0;p<l.length;p++){var m=l[p],w=void 0;w=e.concentric(m),g.push({value:w,node:m}),m._private.scratch.concentric=w}l.updateStyle();for(var S=0;S<l.length;S++){var x=l[S],D=x.layoutDimensions(e);v=Math.max(v,D.w,D.h)}g.sort(function(Pe,gt){return gt.value-Pe.value});for(var C=e.levelWidth(l),T=[[]],R=T[0],M=0;M<g.length;M++){var O=g[M];if(R.length>0){var N=Math.abs(R[0].value-O.value);N>=C&&(R=[],T.push(R))}R.push(O)}var k=v+e.minNodeSpacing;if(!e.avoidOverlap){var L=T.length>0&&T[0].length>1,H=Math.min(f.w,f.h)/2-k,z=H/(T.length+L?1:0);k=Math.min(k,z)}for(var F=0,Y=0;Y<T.length;Y++){var G=T[Y],Q=e.sweep===void 0?2*Math.PI-2*Math.PI/G.length:e.sweep,X=G.dTheta=Q/Math.max(1,G.length-1);if(G.length>1&&e.avoidOverlap){var ee=Math.cos(X)-Math.cos(0),K=Math.sin(X)-Math.sin(0),W=Math.sqrt(k*k/(ee*ee+K*K));F=Math.max(W,F)}G.r=F,F+=k}if(e.equidistant){for(var j=0,le=0,I=0;I<T.length;I++){var Z=T[I],ne=Z.r-le;j=Math.max(j,ne)}le=0;for(var de=0;de<T.length;de++){var se=T[de];de===0&&(le=se.r),se.r=le,le+=j}}for(var we={},pe=0;pe<T.length;pe++)for(var Re=T[pe],xe=Re.dTheta,ve=Re.r,re=0;re<Re.length;re++){var be=Re[re],_e=e.startAngle+(t?1:-1)*xe*re,Ue={x:c.x+ve*Math.cos(_e),y:c.y+ve*Math.sin(_e)};we[be.node.id()]=Ue}return u.nodes().layoutPositions(this,e,function(Pe){var gt=Pe.id();return we[gt]}),this};var Gy,PD={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function pm(n){this.options=ct({},PD,n),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),a=t.filter(function(u){var l=u.source().data("id"),f=u.target().data("id"),c=e.some(function(v){return v.data("id")===l}),g=e.some(function(v){return v.data("id")===f});return!c||!g});this.options.eles=this.options.eles.not(a)}pm.prototype.run=function(){var n=this.options,e=n.cy,t=this;t.stopped=!1,(n.animate===!0||n.animate===!1)&&t.emit({type:"layoutstart",layout:t}),n.debug===!0?Gy=!0:Gy=!1;var a=HD(e,t,n);Gy&&VD(a),n.randomize&&GD(a);var u=ul(),l=function(){YD(a,e,n),n.fit===!0&&e.fit(n.padding)},f=function(w){return!(t.stopped||w>=n.numIter||(KD(a,n),a.temperature=a.temperature*n.coolingFactor,a.temperature<n.minTemp))},c=function(){if(n.animate===!0||n.animate===!1)l(),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});else{var w=n.eles.nodes(),S=Iw(a,n,w);w.layoutPositions(t,n,S)}},g=0,v=!0;if(n.animate===!0){var p=function m(){for(var w=0;v&&w<n.refresh;)v=f(g),g++,w++;if(!v)Z1(a,n),c();else{var S=ul();S-u>=n.animationThreshold&&l(),Gp(m)}};p()}else{for(;v;)v=f(g),g++;Z1(a,n),c()}return this};pm.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};pm.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var HD=function(e,t,a){for(var u=a.eles.edges(),l=a.eles.nodes(),f=Ca(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),c={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:l.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:u.size(),temperature:a.initialTemp,clientWidth:f.w,clientHeight:f.h,boundingBox:f},g=a.eles.components(),v={},p=0;p<g.length;p++)for(var m=g[p],w=0;w<m.length;w++){var S=m[w];v[S.id()]=p}for(var p=0;p<c.nodeSize;p++){var x=l[p],D=x.layoutDimensions(a),C={};C.isLocked=x.locked(),C.id=x.data("id"),C.parentId=x.data("parent"),C.cmptId=v[x.id()],C.children=[],C.positionX=x.position("x"),C.positionY=x.position("y"),C.offsetX=0,C.offsetY=0,C.height=D.w,C.width=D.h,C.maxX=C.positionX+C.width/2,C.minX=C.positionX-C.width/2,C.maxY=C.positionY+C.height/2,C.minY=C.positionY-C.height/2,C.padLeft=parseFloat(x.style("padding")),C.padRight=parseFloat(x.style("padding")),C.padTop=parseFloat(x.style("padding")),C.padBottom=parseFloat(x.style("padding")),C.nodeRepulsion=Nn(a.nodeRepulsion)?a.nodeRepulsion(x):a.nodeRepulsion,c.layoutNodes.push(C),c.idToIndex[C.id]=p}for(var T=[],R=0,M=-1,O=[],p=0;p<c.nodeSize;p++){var x=c.layoutNodes[p],N=x.parentId;N!=null?c.layoutNodes[c.idToIndex[N]].children.push(x.id):(T[++M]=x.id,O.push(x.id))}for(c.graphSet.push(O);R<=M;){var k=T[R++],L=c.idToIndex[k],S=c.layoutNodes[L],H=S.children;if(H.length>0){c.graphSet.push(H);for(var p=0;p<H.length;p++)T[++M]=H[p]}}for(var p=0;p<c.graphSet.length;p++)for(var z=c.graphSet[p],w=0;w<z.length;w++){var F=c.idToIndex[z[w]];c.indexToGraph[F]=p}for(var p=0;p<c.edgeSize;p++){var Y=u[p],G={};G.id=Y.data("id"),G.sourceId=Y.data("source"),G.targetId=Y.data("target");var Q=Nn(a.idealEdgeLength)?a.idealEdgeLength(Y):a.idealEdgeLength,X=Nn(a.edgeElasticity)?a.edgeElasticity(Y):a.edgeElasticity,ee=c.idToIndex[G.sourceId],K=c.idToIndex[G.targetId],W=c.indexToGraph[ee],j=c.indexToGraph[K];if(W!=j){for(var le=qD(G.sourceId,G.targetId,c),I=c.graphSet[le],Z=0,C=c.layoutNodes[ee];I.indexOf(C.id)===-1;)C=c.layoutNodes[c.idToIndex[C.parentId]],Z++;for(C=c.layoutNodes[K];I.indexOf(C.id)===-1;)C=c.layoutNodes[c.idToIndex[C.parentId]],Z++;Q*=Z*a.nestingFactor}G.idealLength=Q,G.elasticity=X,c.layoutEdges.push(G)}return c},qD=function(e,t,a){var u=FD(e,t,0,a);return 2>u.count?0:u.graph},FD=function n(e,t,a,u){var l=u.graphSet[a];if(-1<l.indexOf(e)&&-1<l.indexOf(t))return{count:2,graph:a};for(var f=0,c=0;c<l.length;c++){var g=l[c],v=u.idToIndex[g],p=u.layoutNodes[v].children;if(p.length!==0){var m=u.indexToGraph[u.idToIndex[p[0]]],w=n(e,t,m,u);if(w.count!==0)if(w.count===1){if(f++,f===2)break}else return w}}return{count:f,graph:a}},VD,GD=function(e,t){for(var a=e.clientWidth,u=e.clientHeight,l=0;l<e.nodeSize;l++){var f=e.layoutNodes[l];f.children.length===0&&!f.isLocked&&(f.positionX=Math.random()*a,f.positionY=Math.random()*u)}},Iw=function(e,t,a){var u=e.boundingBox,l={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(a.forEach(function(f){var c=e.layoutNodes[e.idToIndex[f.data("id")]];l.x1=Math.min(l.x1,c.positionX),l.x2=Math.max(l.x2,c.positionX),l.y1=Math.min(l.y1,c.positionY),l.y2=Math.max(l.y2,c.positionY)}),l.w=l.x2-l.x1,l.h=l.y2-l.y1),function(f,c){var g=e.layoutNodes[e.idToIndex[f.data("id")]];if(t.boundingBox){var v=(g.positionX-l.x1)/l.w,p=(g.positionY-l.y1)/l.h;return{x:u.x1+v*u.w,y:u.y1+p*u.h}}else return{x:g.positionX,y:g.positionY}}},YD=function(e,t,a){var u=a.layout,l=a.eles.nodes(),f=Iw(e,a,l);l.positions(f),e.ready!==!0&&(e.ready=!0,u.one("layoutready",a.ready),u.emit({type:"layoutready",layout:this}))},KD=function(e,t,a){XD(e,t),WD(e),$D(e,t),JD(e),jD(e)},XD=function(e,t){for(var a=0;a<e.graphSet.length;a++)for(var u=e.graphSet[a],l=u.length,f=0;f<l;f++)for(var c=e.layoutNodes[e.idToIndex[u[f]]],g=f+1;g<l;g++){var v=e.layoutNodes[e.idToIndex[u[g]]];ZD(c,v,e,t)}},X1=function(e){return-1+2*e*Math.random()},ZD=function(e,t,a,u){var l=e.cmptId,f=t.cmptId;if(!(l!==f&&!a.isCompound)){var c=t.positionX-e.positionX,g=t.positionY-e.positionY,v=1;c===0&&g===0&&(c=X1(v),g=X1(v));var p=QD(e,t,c,g);if(p>0)var m=u.nodeOverlap*p,w=Math.sqrt(c*c+g*g),S=m*c/w,x=m*g/w;else var D=$p(e,c,g),C=$p(t,-1*c,-1*g),T=C.x-D.x,R=C.y-D.y,M=T*T+R*R,w=Math.sqrt(M),m=(e.nodeRepulsion+t.nodeRepulsion)/M,S=m*T/w,x=m*R/w;e.isLocked||(e.offsetX-=S,e.offsetY-=x),t.isLocked||(t.offsetX+=S,t.offsetY+=x)}},QD=function(e,t,a,u){if(a>0)var l=e.maxX-t.minX;else var l=t.maxX-e.minX;if(u>0)var f=e.maxY-t.minY;else var f=t.maxY-e.minY;return l>=0&&f>=0?Math.sqrt(l*l+f*f):0},$p=function(e,t,a){var u=e.positionX,l=e.positionY,f=e.height||1,c=e.width||1,g=a/t,v=f/c,p={};return t===0&&0<a||t===0&&0>a?(p.x=u,p.y=l+f/2,p):0<t&&-1*v<=g&&g<=v?(p.x=u+c/2,p.y=l+c*a/2/t,p):0>t&&-1*v<=g&&g<=v?(p.x=u-c/2,p.y=l-c*a/2/t,p):0<a&&(g<=-1*v||g>=v)?(p.x=u+f*t/2/a,p.y=l+f/2,p):(0>a&&(g<=-1*v||g>=v)&&(p.x=u-f*t/2/a,p.y=l-f/2),p)},WD=function(e,t){for(var a=0;a<e.edgeSize;a++){var u=e.layoutEdges[a],l=e.idToIndex[u.sourceId],f=e.layoutNodes[l],c=e.idToIndex[u.targetId],g=e.layoutNodes[c],v=g.positionX-f.positionX,p=g.positionY-f.positionY;if(!(v===0&&p===0)){var m=$p(f,v,p),w=$p(g,-1*v,-1*p),S=w.x-m.x,x=w.y-m.y,D=Math.sqrt(S*S+x*x),C=Math.pow(u.idealLength-D,2)/u.elasticity;if(D!==0)var T=C*S/D,R=C*x/D;else var T=0,R=0;f.isLocked||(f.offsetX+=T,f.offsetY+=R),g.isLocked||(g.offsetX-=T,g.offsetY-=R)}}},$D=function(e,t){if(t.gravity!==0)for(var a=1,u=0;u<e.graphSet.length;u++){var l=e.graphSet[u],f=l.length;if(u===0)var c=e.clientHeight/2,g=e.clientWidth/2;else var v=e.layoutNodes[e.idToIndex[l[0]]],p=e.layoutNodes[e.idToIndex[v.parentId]],c=p.positionX,g=p.positionY;for(var m=0;m<f;m++){var w=e.layoutNodes[e.idToIndex[l[m]]];if(!w.isLocked){var S=c-w.positionX,x=g-w.positionY,D=Math.sqrt(S*S+x*x);if(D>a){var C=t.gravity*S/D,T=t.gravity*x/D;w.offsetX+=C,w.offsetY+=T}}}}},JD=function(e,t){var a=[],u=0,l=-1;for(a.push.apply(a,e.graphSet[0]),l+=e.graphSet[0].length;u<=l;){var f=a[u++],c=e.idToIndex[f],g=e.layoutNodes[c],v=g.children;if(0<v.length&&!g.isLocked){for(var p=g.offsetX,m=g.offsetY,w=0;w<v.length;w++){var S=e.layoutNodes[e.idToIndex[v[w]]];S.offsetX+=p,S.offsetY+=m,a[++l]=v[w]}g.offsetX=0,g.offsetY=0}}},jD=function(e,t){for(var a=0;a<e.nodeSize;a++){var u=e.layoutNodes[a];0<u.children.length&&(u.maxX=void 0,u.minX=void 0,u.maxY=void 0,u.minY=void 0)}for(var a=0;a<e.nodeSize;a++){var u=e.layoutNodes[a];if(!(0<u.children.length||u.isLocked)){var l=eR(u.offsetX,u.offsetY,e.temperature);u.positionX+=l.x,u.positionY+=l.y,u.offsetX=0,u.offsetY=0,u.minX=u.positionX-u.width,u.maxX=u.positionX+u.width,u.minY=u.positionY-u.height,u.maxY=u.positionY+u.height,tR(u,e)}}for(var a=0;a<e.nodeSize;a++){var u=e.layoutNodes[a];0<u.children.length&&!u.isLocked&&(u.positionX=(u.maxX+u.minX)/2,u.positionY=(u.maxY+u.minY)/2,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY)}},eR=function(e,t,a){var u=Math.sqrt(e*e+t*t);if(u>a)var l={x:a*e/u,y:a*t/u};else var l={x:e,y:t};return l},tR=function n(e,t){var a=e.parentId;if(a!=null){var u=t.layoutNodes[t.idToIndex[a]],l=!1;if((u.maxX==null||e.maxX+u.padRight>u.maxX)&&(u.maxX=e.maxX+u.padRight,l=!0),(u.minX==null||e.minX-u.padLeft<u.minX)&&(u.minX=e.minX-u.padLeft,l=!0),(u.maxY==null||e.maxY+u.padBottom>u.maxY)&&(u.maxY=e.maxY+u.padBottom,l=!0),(u.minY==null||e.minY-u.padTop<u.minY)&&(u.minY=e.minY-u.padTop,l=!0),l)return n(u,t)}},Z1=function(e,t){for(var a=e.layoutNodes,u=[],l=0;l<a.length;l++){var f=a[l],c=f.cmptId,g=u[c]=u[c]||[];g.push(f)}for(var v=0,l=0;l<u.length;l++){var p=u[l];if(p){p.x1=1/0,p.x2=-1/0,p.y1=1/0,p.y2=-1/0;for(var m=0;m<p.length;m++){var w=p[m];p.x1=Math.min(p.x1,w.positionX-w.width/2),p.x2=Math.max(p.x2,w.positionX+w.width/2),p.y1=Math.min(p.y1,w.positionY-w.height/2),p.y2=Math.max(p.y2,w.positionY+w.height/2)}p.w=p.x2-p.x1,p.h=p.y2-p.y1,v+=p.w*p.h}}u.sort(function(R,M){return M.w*M.h-R.w*R.h});for(var S=0,x=0,D=0,C=0,T=Math.sqrt(v)*e.clientWidth/e.clientHeight,l=0;l<u.length;l++){var p=u[l];if(p){for(var m=0;m<p.length;m++){var w=p[m];w.isLocked||(w.positionX+=S-p.x1,w.positionY+=x-p.y1)}S+=p.w+t.componentSpacing,D+=p.w+t.componentSpacing,C=Math.max(C,p.h),D>T&&(x+=C+t.componentSpacing,S=0,D=0,C=0)}}},nR={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Pw(n){this.options=ct({},nR,n)}Pw.prototype.run=function(){var n=this.options,e=n,t=n.cy,a=e.eles,u=a.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));var l=Ca(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(l.h===0||l.w===0)a.nodes().layoutPositions(this,e,function(de){return{x:l.x1,y:l.y1}});else{var f=u.size(),c=Math.sqrt(f*l.h/l.w),g=Math.round(c),v=Math.round(l.w/l.h*c),p=function(se){if(se==null)return Math.min(g,v);var we=Math.min(g,v);we==g?g=se:v=se},m=function(se){if(se==null)return Math.max(g,v);var we=Math.max(g,v);we==g?g=se:v=se},w=e.rows,S=e.cols!=null?e.cols:e.columns;if(w!=null&&S!=null)g=w,v=S;else if(w!=null&&S==null)g=w,v=Math.ceil(f/g);else if(w==null&&S!=null)v=S,g=Math.ceil(f/v);else if(v*g>f){var x=p(),D=m();(x-1)*D>=f?p(x-1):(D-1)*x>=f&&m(D-1)}else for(;v*g<f;){var C=p(),T=m();(T+1)*C>=f?m(T+1):p(C+1)}var R=l.w/v,M=l.h/g;if(e.condense&&(R=0,M=0),e.avoidOverlap)for(var O=0;O<u.length;O++){var N=u[O],k=N._private.position;(k.x==null||k.y==null)&&(k.x=0,k.y=0);var L=N.layoutDimensions(e),H=e.avoidOverlapPadding,z=L.w+H,F=L.h+H;R=Math.max(R,z),M=Math.max(M,F)}for(var Y={},G=function(se,we){return!!Y["c-"+se+"-"+we]},Q=function(se,we){Y["c-"+se+"-"+we]=!0},X=0,ee=0,K=function(){ee++,ee>=v&&(ee=0,X++)},W={},j=0;j<u.length;j++){var le=u[j],I=e.position(le);if(I&&(I.row!==void 0||I.col!==void 0)){var Z={row:I.row,col:I.col};if(Z.col===void 0)for(Z.col=0;G(Z.row,Z.col);)Z.col++;else if(Z.row===void 0)for(Z.row=0;G(Z.row,Z.col);)Z.row++;W[le.id()]=Z,Q(Z.row,Z.col)}}var ne=function(se,we){var pe,Re;if(se.locked()||se.isParent())return!1;var xe=W[se.id()];if(xe)pe=xe.col*R+R/2+l.x1,Re=xe.row*M+M/2+l.y1;else{for(;G(X,ee);)K();pe=ee*R+R/2+l.x1,Re=X*M+M/2+l.y1,Q(X,ee),K()}return{x:pe,y:Re}};u.layoutPositions(this,e,ne)}return this};var rR={ready:function(){},stop:function(){}};function z0(n){this.options=ct({},rR,n)}z0.prototype.run=function(){var n=this.options,e=n.eles,t=this;return n.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",n.ready),t.emit("layoutready"),t.one("layoutstop",n.stop),t.emit("layoutstop"),this};z0.prototype.stop=function(){return this};var aR={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Hw(n){this.options=ct({},aR,n)}Hw.prototype.run=function(){var n=this.options,e=n.eles,t=e.nodes(),a=Nn(n.positions);function u(l){if(n.positions==null)return f2(l.position());if(a)return n.positions(l);var f=n.positions[l._private.data.id];return f??null}return t.layoutPositions(this,n,function(l,f){var c=u(l);return l.locked()||c==null?!1:c}),this};var iR={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function qw(n){this.options=ct({},iR,n)}qw.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,a=Ca(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u=function(f,c){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return t.nodes().layoutPositions(this,n,u),this};var uR=[{name:"breadthfirst",impl:Nw},{name:"circle",impl:kw},{name:"concentric",impl:Uw},{name:"cose",impl:pm},{name:"grid",impl:Pw},{name:"null",impl:z0},{name:"preset",impl:Hw},{name:"random",impl:qw}];function Fw(n){this.options=n,this.notifications=0}var Q1=function(){},W1=function(){throw new Error("A headless instance can not render images")};Fw.prototype={recalculateRenderedStyle:Q1,notify:function(){this.notifications++},init:Q1,isHeadless:function(){return!0},png:W1,jpg:W1};var N0={};N0.arrowShapeWidth=.3;N0.registerArrowShapes=function(){var n=this.arrowShapes={},e=this,t=function(v,p,m,w,S,x,D){var C=S.x-m/2-D,T=S.x+m/2+D,R=S.y-m/2-D,M=S.y+m/2+D,O=C<=v&&v<=T&&R<=p&&p<=M;return O},a=function(v,p,m,w,S){var x=v*Math.cos(w)-p*Math.sin(w),D=v*Math.sin(w)+p*Math.cos(w),C=x*m,T=D*m,R=C+S.x,M=T+S.y;return{x:R,y:M}},u=function(v,p,m,w){for(var S=[],x=0;x<v.length;x+=2){var D=v[x],C=v[x+1];S.push(a(D,C,p,m,w))}return S},l=function(v){for(var p=[],m=0;m<v.length;m++){var w=v[m];p.push(w.x,w.y)}return p},f=function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").pfValue*2},c=function(v,p){it(p)&&(p=n[p]),n[v]=ct({name:v,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(w,S,x,D,C,T){var R=l(u(this.points,x+2*T,D,C)),M=Ta(w,S,R);return M},roughCollide:t,draw:function(w,S,x,D){var C=u(this.points,S,x,D);e.arrowShapeImpl("polygon")(w,C)},spacing:function(w){return 0},gap:f},p)};c("none",{collide:Yp,roughCollide:Yp,draw:w0,spacing:u1,gap:u1}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(v,p,m,w,S){var x=u(this.points,p,m,w),D=this.controlPoint,C=a(D[0],D[1],p,m,w);e.arrowShapeImpl(this.name)(v,x,C)},gap:function(v){return f(v)*.8}}),c("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(v,p,m,w,S,x,D){var C=l(u(this.points,m+2*D,w,S)),T=l(u(this.pointsTee,m+2*D,w,S)),R=Ta(v,p,C)||Ta(v,p,T);return R},draw:function(v,p,m,w,S){var x=u(this.points,p,m,w),D=u(this.pointsTee,p,m,w);e.arrowShapeImpl(this.name)(v,x,D)}}),c("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(v,p,m,w,S,x,D){var C=S,T=Math.pow(C.x-v,2)+Math.pow(C.y-p,2)<=Math.pow((m+2*D)*this.radius,2),R=l(u(this.points,m+2*D,w,S));return Ta(v,p,R)||T},draw:function(v,p,m,w,S){var x=u(this.pointsTr,p,m,w);e.arrowShapeImpl(this.name)(v,x,w.x,w.y,this.radius*p)},spacing:function(v){return e.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),c("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(v,p){var m=this.baseCrossLinePts.slice(),w=p/v,S=3,x=5;return m[S]=m[S]-w,m[x]=m[x]-w,m},collide:function(v,p,m,w,S,x,D){var C=l(u(this.points,m+2*D,w,S)),T=l(u(this.crossLinePts(m,x),m+2*D,w,S)),R=Ta(v,p,C)||Ta(v,p,T);return R},draw:function(v,p,m,w,S){var x=u(this.points,p,m,w),D=u(this.crossLinePts(p,S),p,m,w);e.arrowShapeImpl(this.name)(v,x,D)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(v){return f(v)*.525}}),c("circle",{radius:.15,collide:function(v,p,m,w,S,x,D){var C=S,T=Math.pow(C.x-v,2)+Math.pow(C.y-p,2)<=Math.pow((m+2*D)*this.radius,2);return T},draw:function(v,p,m,w,S){e.arrowShapeImpl(this.name)(v,w.x,w.y,this.radius*p)},spacing:function(v){return e.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(v){return 1},gap:function(v){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}}),c("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(v){return .95*v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}})};var Io={};Io.projectIntoViewport=function(n,e){var t=this.cy,a=this.findContainerClientCoords(),u=a[0],l=a[1],f=a[4],c=t.pan(),g=t.zoom(),v=((n-u)/f-c.x)/g,p=((e-l)/f-c.y)/g;return[v,p]};Io.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var n=this.container,e=n.getBoundingClientRect(),t=this.cy.window().getComputedStyle(n),a=function(T){return parseFloat(t.getPropertyValue(T))},u={left:a("padding-left"),right:a("padding-right"),top:a("padding-top"),bottom:a("padding-bottom")},l={left:a("border-left-width"),right:a("border-right-width"),top:a("border-top-width"),bottom:a("border-bottom-width")},f=n.clientWidth,c=n.clientHeight,g=u.left+u.right,v=u.top+u.bottom,p=l.left+l.right,m=e.width/(f+p),w=f-g,S=c-v,x=e.left+u.left+l.left,D=e.top+u.top+l.top;return this.containerBB=[x,D,w,S,m]};Io.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Io.findNearestElement=function(n,e,t,a){return this.findNearestElements(n,e,t,a)[0]};Io.findNearestElements=function(n,e,t,a){var u=this,l=this,f=l.getCachedZSortedEles(),c=[],g=l.cy.zoom(),v=l.cy.hasCompoundNodes(),p=(a?24:8)/g,m=(a?8:2)/g,w=(a?8:2)/g,S=1/0,x,D;t&&(f=f.interactive);function C(L,H){if(L.isNode()){if(D)return;D=L,c.push(L)}if(L.isEdge()&&(H==null||H<S))if(x){if(x.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value){for(var z=0;z<c.length;z++)if(c[z].isEdge()){c[z]=L,x=L,S=H??S;break}}}else c.push(L),x=L,S=H??S}function T(L){var H=L.outerWidth()+2*m,z=L.outerHeight()+2*m,F=H/2,Y=z/2,G=L.position(),Q=L.pstyle("corner-radius").value==="auto"?"auto":L.pstyle("corner-radius").pfValue,X=L._private.rscratch;if(G.x-F<=n&&n<=G.x+F&&G.y-Y<=e&&e<=G.y+Y){var ee=l.nodeShapes[u.getNodeShape(L)];if(ee.checkPoint(n,e,0,H,z,G.x,G.y,Q,X))return C(L,0),!0}}function R(L){var H=L._private,z=H.rscratch,F=L.pstyle("width").pfValue,Y=L.pstyle("arrow-scale").value,G=F/2+p,Q=G*G,X=G*2,j=H.source,le=H.target,ee;if(z.edgeType==="segments"||z.edgeType==="straight"||z.edgeType==="haystack"){for(var K=z.allpts,W=0;W+3<K.length;W+=2)if(S2(n,e,K[W],K[W+1],K[W+2],K[W+3],X)&&Q>(ee=R2(n,e,K[W],K[W+1],K[W+2],K[W+3])))return C(L,ee),!0}else if(z.edgeType==="bezier"||z.edgeType==="multibezier"||z.edgeType==="self"||z.edgeType==="compound"){for(var K=z.allpts,W=0;W+5<z.allpts.length;W+=4)if(T2(n,e,K[W],K[W+1],K[W+2],K[W+3],K[W+4],K[W+5],X)&&Q>(ee=D2(n,e,K[W],K[W+1],K[W+2],K[W+3],K[W+4],K[W+5])))return C(L,ee),!0}for(var j=j||H.source,le=le||H.target,I=u.getArrowWidth(F,Y),Z=[{name:"source",x:z.arrowStartX,y:z.arrowStartY,angle:z.srcArrowAngle},{name:"target",x:z.arrowEndX,y:z.arrowEndY,angle:z.tgtArrowAngle},{name:"mid-source",x:z.midX,y:z.midY,angle:z.midsrcArrowAngle},{name:"mid-target",x:z.midX,y:z.midY,angle:z.midtgtArrowAngle}],W=0;W<Z.length;W++){var ne=Z[W],de=l.arrowShapes[L.pstyle(ne.name+"-arrow-shape").value],se=L.pstyle("width").pfValue;if(de.roughCollide(n,e,I,ne.angle,{x:ne.x,y:ne.y},se,p)&&de.collide(n,e,I,ne.angle,{x:ne.x,y:ne.y},se,p))return C(L),!0}v&&c.length>0&&(T(j),T(le))}function M(L,H,z){return Zi(L,H,z)}function O(L,H){var z=L._private,F=w,Y;H?Y=H+"-":Y="",L.boundingBox();var G=z.labelBounds[H||"main"],Q=L.pstyle(Y+"label").value,X=L.pstyle("text-events").strValue==="yes";if(!(!X||!Q)){var ee=M(z.rscratch,"labelX",H),K=M(z.rscratch,"labelY",H),W=M(z.rscratch,"labelAngle",H),j=L.pstyle(Y+"text-margin-x").pfValue,le=L.pstyle(Y+"text-margin-y").pfValue,I=G.x1-F-j,Z=G.x2+F-j,ne=G.y1-F-le,de=G.y2+F-le;if(W){var se=Math.cos(W),we=Math.sin(W),pe=function(Ue,Pe){return Ue=Ue-ee,Pe=Pe-K,{x:Ue*se-Pe*we+ee,y:Ue*we+Pe*se+K}},Re=pe(I,ne),xe=pe(I,de),ve=pe(Z,ne),re=pe(Z,de),be=[Re.x+j,Re.y+le,ve.x+j,ve.y+le,re.x+j,re.y+le,xe.x+j,xe.y+le];if(Ta(n,e,be))return C(L),!0}else if(Tc(G,n,e))return C(L),!0}}for(var N=f.length-1;N>=0;N--){var k=f[N];k.isNode()?T(k)||O(k):R(k)||O(k)||O(k,"source")||O(k,"target")}return c};Io.getAllInBox=function(n,e,t,a){var u=this.getCachedZSortedEles().interactive,l=[],f=Math.min(n,t),c=Math.max(n,t),g=Math.min(e,a),v=Math.max(e,a);n=f,t=c,e=g,a=v;for(var p=Ca({x1:n,y1:e,x2:t,y2:a}),m=0;m<u.length;m++){var w=u[m];if(w.isNode()){var S=w,x=S.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});S0(p,x)&&!$b(x,p)&&l.push(S)}else{var D=w,C=D._private,T=C.rscratch;if(T.startX!=null&&T.startY!=null&&!Tc(p,T.startX,T.startY)||T.endX!=null&&T.endY!=null&&!Tc(p,T.endX,T.endY))continue;if(T.edgeType==="bezier"||T.edgeType==="multibezier"||T.edgeType==="self"||T.edgeType==="compound"||T.edgeType==="segments"||T.edgeType==="haystack"){for(var R=C.rstyle.bezierPts||C.rstyle.linePts||C.rstyle.haystackPts,M=!0,O=0;O<R.length;O++)if(!x2(p,R[O])){M=!1;break}M&&l.push(D)}else(T.edgeType==="haystack"||T.edgeType==="straight")&&l.push(D)}}return l};var Jp={};Jp.calculateArrowAngles=function(n){var e=n._private.rscratch,t=e.edgeType==="haystack",a=e.edgeType==="bezier",u=e.edgeType==="multibezier",l=e.edgeType==="segments",f=e.edgeType==="compound",c=e.edgeType==="self",g,v,p,m,w,S,T,R;if(t?(p=e.haystackPts[0],m=e.haystackPts[1],w=e.haystackPts[2],S=e.haystackPts[3]):(p=e.arrowStartX,m=e.arrowStartY,w=e.arrowEndX,S=e.arrowEndY),T=e.midX,R=e.midY,l)g=p-e.segpts[0],v=m-e.segpts[1];else if(u||f||c||a){var x=e.allpts,D=dr(x[0],x[2],x[4],.1),C=dr(x[1],x[3],x[5],.1);g=p-D,v=m-C}else g=p-T,v=m-R;e.srcArrowAngle=Ep(g,v);var T=e.midX,R=e.midY;if(t&&(T=(p+w)/2,R=(m+S)/2),g=w-p,v=S-m,l){var x=e.allpts;if(x.length/2%2===0){var M=x.length/2,O=M-2;g=x[M]-x[O],v=x[M+1]-x[O+1]}else if(e.isRound)g=e.midVector[1],v=-e.midVector[0];else{var M=x.length/2-1,O=M-2;g=x[M]-x[O],v=x[M+1]-x[O+1]}}else if(u||f||c){var x=e.allpts,N=e.ctrlpts,k,L,H,z;if(N.length/2%2===0){var F=x.length/2-1,Y=F+2,G=Y+2;k=dr(x[F],x[Y],x[G],0),L=dr(x[F+1],x[Y+1],x[G+1],0),H=dr(x[F],x[Y],x[G],1e-4),z=dr(x[F+1],x[Y+1],x[G+1],1e-4)}else{var Y=x.length/2-1,F=Y-2,G=Y+2;k=dr(x[F],x[Y],x[G],.4999),L=dr(x[F+1],x[Y+1],x[G+1],.4999),H=dr(x[F],x[Y],x[G],.5),z=dr(x[F+1],x[Y+1],x[G+1],.5)}g=H-k,v=z-L}if(e.midtgtArrowAngle=Ep(g,v),e.midDispX=g,e.midDispY=v,g*=-1,v*=-1,l){var x=e.allpts;if(x.length/2%2!==0){if(!e.isRound){var M=x.length/2-1,Q=M+2;g=-(x[Q]-x[M]),v=-(x[Q+1]-x[M+1])}}}if(e.midsrcArrowAngle=Ep(g,v),l)g=w-e.segpts[e.segpts.length-2],v=S-e.segpts[e.segpts.length-1];else if(u||f||c||a){var x=e.allpts,X=x.length,D=dr(x[X-6],x[X-4],x[X-2],.9),C=dr(x[X-5],x[X-3],x[X-1],.9);g=w-D,v=S-C}else g=w-T,v=S-R;e.tgtArrowAngle=Ep(g,v)};Jp.getArrowWidth=Jp.getArrowHeight=function(n,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},a=t[n+", "+e];return a||(a=Math.max(Math.pow(n*13.37,.9),29)*e,t[n+", "+e]=a,a)};var u0,l0,Du={},gi={},$1,J1,Ro,qp,il,To,Do,Au,hc,Bp,Vw,Gw,s0,o0,j1,eb=function(e,t,a){a.x=t.x-e.x,a.y=t.y-e.y,a.len=Math.sqrt(a.x*a.x+a.y*a.y),a.nx=a.x/a.len,a.ny=a.y/a.len,a.ang=Math.atan2(a.ny,a.nx)},lR=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},sR=function(e,t,a,u,l){if(e!==j1?eb(t,e,Du):lR(gi,Du),eb(t,a,gi),$1=Du.nx*gi.ny-Du.ny*gi.nx,J1=Du.nx*gi.nx-Du.ny*-gi.ny,il=Math.asin(Math.max(-1,Math.min(1,$1))),Math.abs(il)<1e-6){u0=t.x,l0=t.y,Do=hc=0;return}Ro=1,qp=!1,J1<0?il<0?il=Math.PI+il:(il=Math.PI-il,Ro=-1,qp=!0):il>0&&(Ro=-1,qp=!0),t.radius!==void 0?hc=t.radius:hc=u,To=il/2,Bp=Math.min(Du.len/2,gi.len/2),l?(Au=Math.abs(Math.cos(To)*hc/Math.sin(To)),Au>Bp?(Au=Bp,Do=Math.abs(Au*Math.sin(To)/Math.cos(To))):Do=hc):(Au=Math.min(Bp,hc),Do=Math.abs(Au*Math.sin(To)/Math.cos(To))),s0=t.x+gi.nx*Au,o0=t.y+gi.ny*Au,u0=s0-gi.ny*Do*Ro,l0=o0+gi.nx*Do*Ro,Vw=t.x+Du.nx*Au,Gw=t.y+Du.ny*Au,j1=t};function Yw(n,e){e.radius===0?n.lineTo(e.cx,e.cy):n.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function k0(n,e,t,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return a===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(sR(n,e,t,a,u),{cx:u0,cy:l0,radius:Do,startX:Vw,startY:Gw,stopX:s0,stopY:o0,startAngle:Du.ang+Math.PI/2*Ro,endAngle:gi.ang-Math.PI/2*Ro,counterClockwise:qp})}var Hr={};Hr.findMidptPtsEtc=function(n,e){var t=e.posPts,a=e.intersectionPts,u=e.vectorNormInverse,l,f=n.pstyle("source-endpoint"),c=n.pstyle("target-endpoint"),g=f.units!=null&&c.units!=null,v=function(N,k,L,H){var z=H-k,F=L-N,Y=Math.sqrt(F*F+z*z);return{x:-z/Y,y:F/Y}},p=n.pstyle("edge-distances").value;switch(p){case"node-position":l=t;break;case"intersection":l=a;break;case"endpoints":{if(g){var m=this.manualEndptToPx(n.source()[0],f),w=hr(m,2),S=w[0],x=w[1],D=this.manualEndptToPx(n.target()[0],c),C=hr(D,2),T=C[0],R=C[1],M={x1:S,y1:x,x2:T,y2:R};u=v(S,x,T,R),l=M}else nn("Edge ".concat(n.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),l=a;break}}return{midptPts:l,vectorNormInverse:u}};Hr.findHaystackPoints=function(n){for(var e=0;e<n.length;e++){var t=n[e],a=t._private,u=a.rscratch;if(!u.haystack){var l=Math.random()*2*Math.PI;u.source={x:Math.cos(l),y:Math.sin(l)},l=Math.random()*2*Math.PI,u.target={x:Math.cos(l),y:Math.sin(l)}}var f=a.source,c=a.target,g=f.position(),v=c.position(),p=f.width(),m=c.width(),w=f.height(),S=c.height(),x=t.pstyle("haystack-radius").value,D=x/2;u.haystackPts=u.allpts=[u.source.x*p*D+g.x,u.source.y*w*D+g.y,u.target.x*m*D+v.x,u.target.y*S*D+v.y],u.midX=(u.allpts[0]+u.allpts[2])/2,u.midY=(u.allpts[1]+u.allpts[3])/2,u.edgeType="haystack",u.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Hr.findSegmentsPoints=function(n,e){var t=n._private.rscratch,a=n.pstyle("segment-weights"),u=n.pstyle("segment-distances"),l=n.pstyle("segment-radii"),f=n.pstyle("radius-type"),c=Math.min(a.pfValue.length,u.pfValue.length),g=l.pfValue[l.pfValue.length-1],v=f.pfValue[f.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var p=0;p<c;p++){var m=a.pfValue[p],w=u.pfValue[p],S=1-m,x=m,D=this.findMidptPtsEtc(n,e),C=D.midptPts,T=D.vectorNormInverse,R={x:C.x1*S+C.x2*x,y:C.y1*S+C.y2*x};t.segpts.push(R.x+T.x*w,R.y+T.y*w),t.radii.push(l.pfValue[p]!==void 0?l.pfValue[p]:g),t.isArcRadius.push((f.pfValue[p]!==void 0?f.pfValue[p]:v)==="arc-radius")}};Hr.findLoopPoints=function(n,e,t,a){var u=n._private.rscratch,l=e.dirCounts,f=e.srcPos,c=n.pstyle("control-point-distances"),g=c?c.pfValue[0]:void 0,v=n.pstyle("loop-direction").pfValue,p=n.pstyle("loop-sweep").pfValue,m=n.pstyle("control-point-step-size").pfValue;u.edgeType="self";var w=t,S=m;a&&(w=0,S=g);var x=v-Math.PI/2,D=x-p/2,C=x+p/2,T=v+"_"+p;w=l[T]===void 0?l[T]=0:++l[T],u.ctrlpts=[f.x+Math.cos(D)*1.4*S*(w/3+1),f.y+Math.sin(D)*1.4*S*(w/3+1),f.x+Math.cos(C)*1.4*S*(w/3+1),f.y+Math.sin(C)*1.4*S*(w/3+1)]};Hr.findCompoundLoopPoints=function(n,e,t,a){var u=n._private.rscratch;u.edgeType="compound";var l=e.srcPos,f=e.tgtPos,c=e.srcW,g=e.srcH,v=e.tgtW,p=e.tgtH,m=n.pstyle("control-point-step-size").pfValue,w=n.pstyle("control-point-distances"),S=w?w.pfValue[0]:void 0,x=t,D=m;a&&(x=0,D=S);var C=50,T={x:l.x-c/2,y:l.y-g/2},R={x:f.x-v/2,y:f.y-p/2},M={x:Math.min(T.x,R.x),y:Math.min(T.y,R.y)},O=.5,N=Math.max(O,Math.log(c*.01)),k=Math.max(O,Math.log(v*.01));u.ctrlpts=[M.x,M.y-(1+Math.pow(C,1.12)/100)*D*(x/3+1)*N,M.x-(1+Math.pow(C,1.12)/100)*D*(x/3+1)*k,M.y]};Hr.findStraightEdgePoints=function(n){n._private.rscratch.edgeType="straight"};Hr.findBezierPoints=function(n,e,t,a,u){var l=n._private.rscratch,f=n.pstyle("control-point-step-size").pfValue,c=n.pstyle("control-point-distances"),g=n.pstyle("control-point-weights"),v=c&&g?Math.min(c.value.length,g.value.length):1,p=c?c.pfValue[0]:void 0,m=g.value[0],w=a;l.edgeType=w?"multibezier":"bezier",l.ctrlpts=[];for(var S=0;S<v;S++){var x=(.5-e.eles.length/2+t)*f*(u?-1:1),D=void 0,C=Qb(x);w&&(p=c?c.pfValue[S]:f,m=g.value[S]),a?D=p:D=p!==void 0?C*p:void 0;var T=D!==void 0?D:x,R=1-m,M=m,O=this.findMidptPtsEtc(n,e),N=O.midptPts,k=O.vectorNormInverse,L={x:N.x1*R+N.x2*M,y:N.y1*R+N.y2*M};l.ctrlpts.push(L.x+k.x*T,L.y+k.y*T)}};Hr.findTaxiPoints=function(n,e){var t=n._private.rscratch;t.edgeType="segments";var a="vertical",u="horizontal",l="leftward",f="rightward",c="downward",g="upward",v="auto",p=e.posPts,m=e.srcW,w=e.srcH,S=e.tgtW,x=e.tgtH,D=n.pstyle("edge-distances").value,C=D!=="node-position",T=n.pstyle("taxi-direction").value,R=T,M=n.pstyle("taxi-turn"),O=M.units==="%",N=M.pfValue,k=N<0,L=n.pstyle("taxi-turn-min-distance").pfValue,H=C?(m+S)/2:0,z=C?(w+x)/2:0,F=p.x2-p.x1,Y=p.y2-p.y1,G=function(Ae,ke){return Ae>0?Math.max(Ae-ke,0):Math.min(Ae+ke,0)},Q=G(F,H),X=G(Y,z),ee=!1;R===v?T=Math.abs(Q)>Math.abs(X)?u:a:R===g||R===c?(T=a,ee=!0):(R===l||R===f)&&(T=u,ee=!0);var K=T===a,W=K?X:Q,j=K?Y:F,le=Qb(j),I=!1;!(ee&&(O||k))&&(R===c&&j<0||R===g&&j>0||R===l&&j>0||R===f&&j<0)&&(le*=-1,W=le*Math.abs(W),I=!0);var Z;if(O){var ne=N<0?1+N:N;Z=ne*W}else{var de=N<0?W:0;Z=de+N*le}var se=function(Ae){return Math.abs(Ae)<L||Math.abs(Ae)>=Math.abs(W)},we=se(Z),pe=se(Math.abs(W)-Math.abs(Z)),Re=we||pe;if(Re&&!I)if(K){var xe=Math.abs(j)<=w/2,ve=Math.abs(F)<=S/2;if(xe){var re=(p.x1+p.x2)/2,be=p.y1,_e=p.y2;t.segpts=[re,be,re,_e]}else if(ve){var Ue=(p.y1+p.y2)/2,Pe=p.x1,gt=p.x2;t.segpts=[Pe,Ue,gt,Ue]}else t.segpts=[p.x1,p.y2]}else{var _t=Math.abs(j)<=m/2,xt=Math.abs(Y)<=x/2;if(_t){var Ge=(p.y1+p.y2)/2,Ye=p.x1,Je=p.x2;t.segpts=[Ye,Ge,Je,Ge]}else if(xt){var Qe=(p.x1+p.x2)/2,je=p.y1,ut=p.y2;t.segpts=[Qe,je,Qe,ut]}else t.segpts=[p.x2,p.y1]}else if(K){var lt=p.y1+Z+(C?w/2*le:0),wt=p.x1,Le=p.x2;t.segpts=[wt,lt,Le,lt]}else{var V=p.x1+Z+(C?m/2*le:0),fe=p.y1,Se=p.y2;t.segpts=[V,fe,V,Se]}if(t.isRound){var he=n.pstyle("taxi-radius").value,me=n.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(he),t.isArcRadius=new Array(t.segpts.length/2).fill(me)}};Hr.tryToCorrectInvalidPoints=function(n,e){var t=n._private.rscratch;if(t.edgeType==="bezier"){var a=e.srcPos,u=e.tgtPos,l=e.srcW,f=e.srcH,c=e.tgtW,g=e.tgtH,v=e.srcShape,p=e.tgtShape,m=e.srcCornerRadius,w=e.tgtCornerRadius,S=e.srcRs,x=e.tgtRs,D=!He(t.startX)||!He(t.startY),C=!He(t.arrowStartX)||!He(t.arrowStartY),T=!He(t.endX)||!He(t.endY),R=!He(t.arrowEndX)||!He(t.arrowEndY),M=3,O=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth,N=M*O,k=_o({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),L=k<N,H=_o({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),z=H<N,F=!1;if(D||C||L){F=!0;var Y={x:t.ctrlpts[0]-a.x,y:t.ctrlpts[1]-a.y},G=Math.sqrt(Y.x*Y.x+Y.y*Y.y),Q={x:Y.x/G,y:Y.y/G},X=Math.max(l,f),ee={x:t.ctrlpts[0]+Q.x*2*X,y:t.ctrlpts[1]+Q.y*2*X},K=v.intersectLine(a.x,a.y,l,f,ee.x,ee.y,0,m,S);L?(t.ctrlpts[0]=t.ctrlpts[0]+Q.x*(N-k),t.ctrlpts[1]=t.ctrlpts[1]+Q.y*(N-k)):(t.ctrlpts[0]=K[0]+Q.x*N,t.ctrlpts[1]=K[1]+Q.y*N)}if(T||R||z){F=!0;var W={x:t.ctrlpts[0]-u.x,y:t.ctrlpts[1]-u.y},j=Math.sqrt(W.x*W.x+W.y*W.y),le={x:W.x/j,y:W.y/j},I=Math.max(l,f),Z={x:t.ctrlpts[0]+le.x*2*I,y:t.ctrlpts[1]+le.y*2*I},ne=p.intersectLine(u.x,u.y,c,g,Z.x,Z.y,0,w,x);z?(t.ctrlpts[0]=t.ctrlpts[0]+le.x*(N-H),t.ctrlpts[1]=t.ctrlpts[1]+le.y*(N-H)):(t.ctrlpts[0]=ne[0]+le.x*N,t.ctrlpts[1]=ne[1]+le.y*N)}F&&this.findEndpoints(n)}};Hr.storeAllpts=function(n){var e=n._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var a,u;e.ctrlpts.length/2%2===0?(a=e.allpts.length/2-1,e.midX=e.allpts[a],e.midY=e.allpts[a+1]):(a=e.allpts.length/2-3,u=.5,e.midX=dr(e.allpts[a],e.allpts[a+2],e.allpts[a+4],u),e.midY=dr(e.allpts[a+1],e.allpts[a+3],e.allpts[a+5],u))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var l=2;l+3<e.allpts.length;l+=2){var f=e.radii[l/2-1],c=e.isArcRadius[l/2-1];e.roundCorners.push(k0({x:e.allpts[l-2],y:e.allpts[l-1]},{x:e.allpts[l],y:e.allpts[l+1],radius:f},{x:e.allpts[l+2],y:e.allpts[l+3]},f,c))}}if(e.segpts.length%4===0){var g=e.segpts.length/2,v=g-2;e.midX=(e.segpts[v]+e.segpts[g])/2,e.midY=(e.segpts[v+1]+e.segpts[g+1])/2}else{var p=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[p],e.midY=e.segpts[p+1];else{var m={x:e.segpts[p],y:e.segpts[p+1]},w=e.roundCorners[p/2],S=[m.x-w.cx,m.y-w.cy],x=w.radius/Math.sqrt(Math.pow(S[0],2)+Math.pow(S[1],2));S=S.map(function(D){return D*x}),e.midX=w.cx+S[0],e.midY=w.cy+S[1],e.midVector=S}}}};Hr.checkForInvalidEdgeWarning=function(n){var e=n[0]._private.rscratch;e.nodesOverlap||He(e.startX)&&He(e.startY)&&He(e.endX)&&He(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,nn("Edge `"+n.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Hr.findEdgeControlPoints=function(n){var e=this;if(!(!n||n.length===0)){for(var t=this,a=t.cy,u=a.hasCompoundNodes(),l={map:new Mu,get:function(L){var H=this.map.get(L[0]);return H!=null?H.get(L[1]):null},set:function(L,H){var z=this.map.get(L[0]);z==null&&(z=new Mu,this.map.set(L[0],z)),z.set(L[1],H)}},f=[],c=[],g=0;g<n.length;g++){var v=n[g],p=v._private,m=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(m==="haystack"){c.push(v);continue}var w=m==="unbundled-bezier"||m.endsWith("segments")||m==="straight"||m==="straight-triangle"||m.endsWith("taxi"),S=m==="unbundled-bezier"||m==="bezier",x=p.source,D=p.target,C=x.poolIndex(),T=D.poolIndex(),R=[C,T].sort(),M=l.get(R);M==null&&(M={eles:[]},l.set(R,M),f.push(R)),M.eles.push(v),w&&(M.hasUnbundled=!0),S&&(M.hasBezier=!0)}}for(var O=function(L){var H=f[L],z=l.get(H),F=void 0;if(!z.hasUnbundled){var Y=z.eles[0].parallelEdges().filter(function(V){return V.isBundledBezier()});E0(z.eles),Y.forEach(function(V){return z.eles.push(V)}),z.eles.sort(function(V,fe){return V.poolIndex()-fe.poolIndex()})}var G=z.eles[0],Q=G.source(),X=G.target();if(Q.poolIndex()>X.poolIndex()){var ee=Q;Q=X,X=ee}var K=z.srcPos=Q.position(),W=z.tgtPos=X.position(),j=z.srcW=Q.outerWidth(),le=z.srcH=Q.outerHeight(),I=z.tgtW=X.outerWidth(),Z=z.tgtH=X.outerHeight(),ne=z.srcShape=t.nodeShapes[e.getNodeShape(Q)],de=z.tgtShape=t.nodeShapes[e.getNodeShape(X)],se=z.srcCornerRadius=Q.pstyle("corner-radius").value==="auto"?"auto":Q.pstyle("corner-radius").pfValue,we=z.tgtCornerRadius=X.pstyle("corner-radius").value==="auto"?"auto":X.pstyle("corner-radius").pfValue,pe=z.tgtRs=X._private.rscratch,Re=z.srcRs=Q._private.rscratch;z.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var xe=0;xe<z.eles.length;xe++){var ve=z.eles[xe],re=ve[0]._private.rscratch,be=ve.pstyle("curve-style").value,_e=be==="unbundled-bezier"||be.endsWith("segments")||be.endsWith("taxi"),Ue=!Q.same(ve.source());if(!z.calculatedIntersection&&Q!==X&&(z.hasBezier||z.hasUnbundled)){z.calculatedIntersection=!0;var Pe=ne.intersectLine(K.x,K.y,j,le,W.x,W.y,0,se,Re),gt=z.srcIntn=Pe,_t=de.intersectLine(W.x,W.y,I,Z,K.x,K.y,0,we,pe),xt=z.tgtIntn=_t,Ge=z.intersectionPts={x1:Pe[0],x2:_t[0],y1:Pe[1],y2:_t[1]},Ye=z.posPts={x1:K.x,x2:W.x,y1:K.y,y2:W.y},Je=_t[1]-Pe[1],Qe=_t[0]-Pe[0],je=Math.sqrt(Qe*Qe+Je*Je),ut=z.vector={x:Qe,y:Je},lt=z.vectorNorm={x:ut.x/je,y:ut.y/je},wt={x:-lt.y,y:lt.x};z.nodesOverlap=!He(je)||de.checkPoint(Pe[0],Pe[1],0,I,Z,W.x,W.y,we,pe)||ne.checkPoint(_t[0],_t[1],0,j,le,K.x,K.y,se,Re),z.vectorNormInverse=wt,F={nodesOverlap:z.nodesOverlap,dirCounts:z.dirCounts,calculatedIntersection:!0,hasBezier:z.hasBezier,hasUnbundled:z.hasUnbundled,eles:z.eles,srcPos:W,srcRs:pe,tgtPos:K,tgtRs:Re,srcW:I,srcH:Z,tgtW:j,tgtH:le,srcIntn:xt,tgtIntn:gt,srcShape:de,tgtShape:ne,posPts:{x1:Ye.x2,y1:Ye.y2,x2:Ye.x1,y2:Ye.y1},intersectionPts:{x1:Ge.x2,y1:Ge.y2,x2:Ge.x1,y2:Ge.y1},vector:{x:-ut.x,y:-ut.y},vectorNorm:{x:-lt.x,y:-lt.y},vectorNormInverse:{x:-wt.x,y:-wt.y}}}var Le=Ue?F:z;re.nodesOverlap=Le.nodesOverlap,re.srcIntn=Le.srcIntn,re.tgtIntn=Le.tgtIntn,re.isRound=be.startsWith("round"),u&&(Q.isParent()||Q.isChild()||X.isParent()||X.isChild())&&(Q.parents().anySame(X)||X.parents().anySame(Q)||Q.same(X)&&Q.isParent())?e.findCompoundLoopPoints(ve,Le,xe,_e):Q===X?e.findLoopPoints(ve,Le,xe,_e):be.endsWith("segments")?e.findSegmentsPoints(ve,Le):be.endsWith("taxi")?e.findTaxiPoints(ve,Le):be==="straight"||!_e&&z.eles.length%2===1&&xe===Math.floor(z.eles.length/2)?e.findStraightEdgePoints(ve):e.findBezierPoints(ve,Le,xe,_e,Ue),e.findEndpoints(ve),e.tryToCorrectInvalidPoints(ve,Le),e.checkForInvalidEdgeWarning(ve),e.storeAllpts(ve),e.storeEdgeProjections(ve),e.calculateArrowAngles(ve),e.recalculateEdgeLabelProjections(ve),e.calculateLabelAngles(ve)}},N=0;N<f.length;N++)O(N);this.findHaystackPoints(c)}};function Kw(n){var e=[];if(n!=null){for(var t=0;t<n.length;t+=2){var a=n[t],u=n[t+1];e.push({x:a,y:u})}return e}}Hr.getSegmentPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="segments")return Kw(e.segpts)};Hr.getControlPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return Kw(e.ctrlpts)};Hr.getEdgeMidpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),{x:e.midX,y:e.midY}};var mh={};mh.manualEndptToPx=function(n,e){var t=this,a=n.position(),u=n.outerWidth(),l=n.outerHeight(),f=n._private.rscratch;if(e.value.length===2){var c=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(c[0]=c[0]*u),e.units[1]==="%"&&(c[1]=c[1]*l),c[0]+=a.x,c[1]+=a.y,c}else{var g=e.pfValue[0];g=-Math.PI/2+g;var v=2*Math.max(u,l),p=[a.x+Math.cos(g)*v,a.y+Math.sin(g)*v];return t.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,u,l,p[0],p[1],0,n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,f)}};mh.findEndpoints=function(n){var e=this,t,a=n.source()[0],u=n.target()[0],l=a.position(),f=u.position(),c=n.pstyle("target-arrow-shape").value,g=n.pstyle("source-arrow-shape").value,v=n.pstyle("target-distance-from-node").pfValue,p=n.pstyle("source-distance-from-node").pfValue,m=a._private.rscratch,w=u._private.rscratch,S=n.pstyle("curve-style").value,x=n._private.rscratch,D=x.edgeType,C=S==="taxi",T=D==="self"||D==="compound",R=D==="bezier"||D==="multibezier"||T,M=D!=="bezier",O=D==="straight"||D==="segments",N=D==="segments",k=R||M||O,L=T||C,H=n.pstyle("source-endpoint"),z=L?"outside-to-node":H.value,F=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue,Y=n.pstyle("target-endpoint"),G=L?"outside-to-node":Y.value,Q=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;x.srcManEndpt=H,x.tgtManEndpt=Y;var X,ee,K,W;if(R){var j=[x.ctrlpts[0],x.ctrlpts[1]],le=M?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:j;X=le,ee=j}else if(O){var I=N?x.segpts.slice(0,2):[f.x,f.y],Z=N?x.segpts.slice(x.segpts.length-2):[l.x,l.y];X=Z,ee=I}if(G==="inside-to-node")t=[f.x,f.y];else if(Y.units)t=this.manualEndptToPx(u,Y);else if(G==="outside-to-line")t=x.tgtIntn;else if(G==="outside-to-node"||G==="outside-to-node-or-label"?K=X:(G==="outside-to-line"||G==="outside-to-line-or-label")&&(K=[l.x,l.y]),t=e.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,u.outerWidth(),u.outerHeight(),K[0],K[1],0,Q,w),G==="outside-to-node-or-label"||G==="outside-to-line-or-label"){var ne=u._private.rscratch,de=ne.labelWidth,se=ne.labelHeight,we=ne.labelX,pe=ne.labelY,Re=de/2,xe=se/2,ve=u.pstyle("text-valign").value;ve==="top"?pe-=xe:ve==="bottom"&&(pe+=xe);var re=u.pstyle("text-halign").value;re==="left"?we-=Re:re==="right"&&(we+=Re);var be=ah(K[0],K[1],[we-Re,pe-xe,we+Re,pe-xe,we+Re,pe+xe,we-Re,pe+xe],f.x,f.y);if(be.length>0){var _e=l,Ue=Co(_e,mc(t)),Pe=Co(_e,mc(be)),gt=Ue;if(Pe<Ue&&(t=be,gt=Pe),be.length>2){var _t=Co(_e,{x:be[2],y:be[3]});_t<gt&&(t=[be[2],be[3]])}}}var xt=xp(t,X,e.arrowShapes[c].spacing(n)+v),Ge=xp(t,X,e.arrowShapes[c].gap(n)+v);if(x.endX=Ge[0],x.endY=Ge[1],x.arrowEndX=xt[0],x.arrowEndY=xt[1],z==="inside-to-node")t=[l.x,l.y];else if(H.units)t=this.manualEndptToPx(a,H);else if(z==="outside-to-line")t=x.srcIntn;else if(z==="outside-to-node"||z==="outside-to-node-or-label"?W=ee:(z==="outside-to-line"||z==="outside-to-line-or-label")&&(W=[f.x,f.y]),t=e.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),W[0],W[1],0,F,m),z==="outside-to-node-or-label"||z==="outside-to-line-or-label"){var Ye=a._private.rscratch,Je=Ye.labelWidth,Qe=Ye.labelHeight,je=Ye.labelX,ut=Ye.labelY,lt=Je/2,wt=Qe/2,Le=a.pstyle("text-valign").value;Le==="top"?ut-=wt:Le==="bottom"&&(ut+=wt);var V=a.pstyle("text-halign").value;V==="left"?je-=lt:V==="right"&&(je+=lt);var fe=ah(W[0],W[1],[je-lt,ut-wt,je+lt,ut-wt,je+lt,ut+wt,je-lt,ut+wt],l.x,l.y);if(fe.length>0){var Se=f,he=Co(Se,mc(t)),me=Co(Se,mc(fe)),Ie=he;if(me<he&&(t=[fe[0],fe[1]],Ie=me),fe.length>2){var Ae=Co(Se,{x:fe[2],y:fe[3]});Ae<Ie&&(t=[fe[2],fe[3]])}}}var ke=xp(t,ee,e.arrowShapes[g].spacing(n)+p),et=xp(t,ee,e.arrowShapes[g].gap(n)+p);x.startX=et[0],x.startY=et[1],x.arrowStartX=ke[0],x.arrowStartY=ke[1],k&&(!He(x.startX)||!He(x.startY)||!He(x.endX)||!He(x.endY)?x.badLine=!0:x.badLine=!1)};mh.getSourceEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};mh.getTargetEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var U0={};function oR(n,e,t){for(var a=function(v,p,m,w){return dr(v,p,m,w)},u=e._private,l=u.rstyle.bezierPts,f=0;f<n.bezierProjPcts.length;f++){var c=n.bezierProjPcts[f];l.push({x:a(t[0],t[2],t[4],c),y:a(t[1],t[3],t[5],c)})}}U0.storeEdgeProjections=function(n){var e=n._private,t=e.rscratch,a=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,a==="multibezier"||a==="bezier"||a==="self"||a==="compound"){e.rstyle.bezierPts=[];for(var u=0;u+5<t.allpts.length;u+=4)oR(this,n,t.allpts.slice(u,u+6))}else if(a==="segments")for(var l=e.rstyle.linePts=[],u=0;u+1<t.allpts.length;u+=2)l.push({x:t.allpts[u],y:t.allpts[u+1]});else if(a==="haystack"){var f=t.haystackPts;e.rstyle.haystackPts=[{x:f[0],y:f[1]},{x:f[2],y:f[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth};U0.recalculateEdgeProjections=function(n){this.findEdgeControlPoints(n)};var Ou={};Ou.recalculateNodeLabelProjection=function(n){var e=n.pstyle("label").strValue;if(!us(e)){var t,a,u=n._private,l=n.width(),f=n.height(),c=n.padding(),g=n.position(),v=n.pstyle("text-halign").strValue,p=n.pstyle("text-valign").strValue,m=u.rscratch,w=u.rstyle;switch(v){case"left":t=g.x-l/2-c;break;case"right":t=g.x+l/2+c;break;default:t=g.x}switch(p){case"top":a=g.y-f/2-c;break;case"bottom":a=g.y+f/2+c;break;default:a=g.y}m.labelX=t,m.labelY=a,w.labelX=t,w.labelY=a,this.calculateLabelAngles(n),this.applyLabelDimensions(n)}};var Xw=function(e,t){var a=Math.atan(t/e);return e===0&&a<0&&(a=a*-1),a},Zw=function(e,t){var a=t.x-e.x,u=t.y-e.y;return Xw(a,u)},fR=function(e,t,a,u){var l=rh(0,u-.001,1),f=rh(0,u+.001,1),c=bc(e,t,a,l),g=bc(e,t,a,f);return Zw(c,g)};Ou.recalculateEdgeLabelProjections=function(n){var e,t=n._private,a=t.rscratch,u=this,l={mid:n.pstyle("label").strValue,source:n.pstyle("source-label").strValue,target:n.pstyle("target-label").strValue};if(l.mid||l.source||l.target){e={x:a.midX,y:a.midY};var f=function(m,w,S){ns(t.rscratch,m,w,S),ns(t.rstyle,m,w,S)};f("labelX",null,e.x),f("labelY",null,e.y);var c=Xw(a.midDispX,a.midDispY);f("labelAutoAngle",null,c);var g=function p(){if(p.cache)return p.cache;for(var m=[],w=0;w+5<a.allpts.length;w+=4){var S={x:a.allpts[w],y:a.allpts[w+1]},x={x:a.allpts[w+2],y:a.allpts[w+3]},D={x:a.allpts[w+4],y:a.allpts[w+5]};m.push({p0:S,p1:x,p2:D,startDist:0,length:0,segments:[]})}var C=t.rstyle.bezierPts,T=u.bezierProjPcts.length;function R(L,H,z,F,Y){var G=_o(H,z),Q=L.segments[L.segments.length-1],X={p0:H,p1:z,t0:F,t1:Y,startDist:Q?Q.startDist+Q.length:0,length:G};L.segments.push(X),L.length+=G}for(var M=0;M<m.length;M++){var O=m[M],N=m[M-1];N&&(O.startDist=N.startDist+N.length),R(O,O.p0,C[M*T],0,u.bezierProjPcts[0]);for(var k=0;k<T-1;k++)R(O,C[M*T+k],C[M*T+k+1],u.bezierProjPcts[k],u.bezierProjPcts[k+1]);R(O,C[M*T+T-1],O.p2,u.bezierProjPcts[T-1],1)}return p.cache=m},v=function(m){var w,S=m==="source";if(l[m]){var x=n.pstyle(m+"-text-offset").pfValue;switch(a.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var D=g(),C,T=0,R=0,M=0;M<D.length;M++){for(var O=D[S?M:D.length-1-M],N=0;N<O.segments.length;N++){var k=O.segments[S?N:O.segments.length-1-N],L=M===D.length-1&&N===O.segments.length-1;if(T=R,R+=k.length,R>=x||L){C={cp:O,segment:k};break}}if(C)break}var H=C.cp,z=C.segment,F=(x-T)/z.length,Y=z.t1-z.t0,G=S?z.t0+Y*F:z.t1-Y*F;G=rh(0,G,1),e=bc(H.p0,H.p1,H.p2,G),w=fR(H.p0,H.p1,H.p2,G);break}case"straight":case"segments":case"haystack":{for(var Q=0,X,ee,K,W,j=a.allpts.length,le=0;le+3<j&&(S?(K={x:a.allpts[le],y:a.allpts[le+1]},W={x:a.allpts[le+2],y:a.allpts[le+3]}):(K={x:a.allpts[j-2-le],y:a.allpts[j-1-le]},W={x:a.allpts[j-4-le],y:a.allpts[j-3-le]}),X=_o(K,W),ee=Q,Q+=X,!(Q>=x));le+=2);var I=x-ee,Z=I/X;Z=rh(0,Z,1),e=m2(K,W,Z),w=Zw(K,W);break}}f("labelX",m,e.x),f("labelY",m,e.y),f("labelAutoAngle",m,w)}};v("source"),v("target"),this.applyLabelDimensions(n)}};Ou.applyLabelDimensions=function(n){this.applyPrefixedLabelDimensions(n),n.isEdge()&&(this.applyPrefixedLabelDimensions(n,"source"),this.applyPrefixedLabelDimensions(n,"target"))};Ou.applyPrefixedLabelDimensions=function(n,e){var t=n._private,a=this.getLabelText(n,e),u=this.calculateLabelDimensions(n,a),l=n.pstyle("line-height").pfValue,f=n.pstyle("text-wrap").strValue,c=Zi(t.rscratch,"labelWrapCachedLines",e)||[],g=f!=="wrap"?1:Math.max(c.length,1),v=u.height/g,p=v*l,m=u.width,w=u.height+(g-1)*(l-1)*v;ns(t.rstyle,"labelWidth",e,m),ns(t.rscratch,"labelWidth",e,m),ns(t.rstyle,"labelHeight",e,w),ns(t.rscratch,"labelHeight",e,w),ns(t.rscratch,"labelLineHeight",e,p)};Ou.getLabelText=function(n,e){var t=n._private,a=e?e+"-":"",u=n.pstyle(a+"label").strValue,l=n.pstyle("text-transform").value,f=function(de,se){return se?(ns(t.rscratch,de,e,se),se):Zi(t.rscratch,de,e)};if(!u)return"";l=="none"||(l=="uppercase"?u=u.toUpperCase():l=="lowercase"&&(u=u.toLowerCase()));var c=n.pstyle("text-wrap").value;if(c==="wrap"){var g=f("labelKey");if(g!=null&&f("labelWrapKey")===g)return f("labelWrapCachedText");for(var v="​",p=u.split(`
`),m=n.pstyle("text-max-width").pfValue,w=n.pstyle("text-overflow-wrap").value,S=w==="anywhere",x=[],D=/[\s\u200b]+|$/g,C=0;C<p.length;C++){var T=p[C],R=this.calculateLabelDimensions(n,T),M=R.width;if(S){var O=T.split("").join(v);T=O}if(M>m){var N=T.matchAll(D),k="",L=0,H=Za(N),z;try{for(H.s();!(z=H.n()).done;){var F=z.value,Y=F[0],G=T.substring(L,F.index);L=F.index+Y.length;var Q=k.length===0?G:k+G+Y,X=this.calculateLabelDimensions(n,Q),ee=X.width;ee<=m?k+=G+Y:(k&&x.push(k),k=G+Y)}}catch(ne){H.e(ne)}finally{H.f()}k.match(/^[\s\u200b]+$/)||x.push(k)}else x.push(T)}f("labelWrapCachedLines",x),u=f("labelWrapCachedText",x.join(`
`)),f("labelWrapKey",g)}else if(c==="ellipsis"){var K=n.pstyle("text-max-width").pfValue,W="",j="…",le=!1;if(this.calculateLabelDimensions(n,u).width<K)return u;for(var I=0;I<u.length;I++){var Z=this.calculateLabelDimensions(n,W+u[I]+j).width;if(Z>K)break;W+=u[I],I===u.length-1&&(le=!0)}return le||(W+=j),W}return u};Ou.getLabelJustification=function(n){var e=n.pstyle("text-justification").strValue,t=n.pstyle("text-halign").strValue;if(e==="auto")if(n.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Ou.calculateLabelDimensions=function(n,e){var t=this,a=t.cy.window(),u=a.document,l=ls(e,n._private.labelDimsKey),f=t.labelDimCache||(t.labelDimCache=[]),c=f[l];if(c!=null)return c;var g=0,v=n.pstyle("font-style").strValue,p=n.pstyle("font-size").pfValue,m=n.pstyle("font-family").strValue,w=n.pstyle("font-weight").strValue,S=this.labelCalcCanvas,x=this.labelCalcCanvasContext;if(!S){S=this.labelCalcCanvas=u.createElement("canvas"),x=this.labelCalcCanvasContext=S.getContext("2d");var D=S.style;D.position="absolute",D.left="-9999px",D.top="-9999px",D.zIndex="-1",D.visibility="hidden",D.pointerEvents="none"}x.font="".concat(v," ").concat(w," ").concat(p,"px ").concat(m);for(var C=0,T=0,R=e.split(`
`),M=0;M<R.length;M++){var O=R[M],N=x.measureText(O),k=Math.ceil(N.width),L=p;C=Math.max(k,C),T+=L}return C+=g,T+=g,f[l]={width:C,height:T}};Ou.calculateLabelAngle=function(n,e){var t=n._private,a=t.rscratch,u=n.isEdge(),l=e?e+"-":"",f=n.pstyle(l+"text-rotation"),c=f.strValue;return c==="none"?0:u&&c==="autorotate"?a.labelAutoAngle:c==="autorotate"?0:f.pfValue};Ou.calculateLabelAngles=function(n){var e=this,t=n.isEdge(),a=n._private,u=a.rscratch;u.labelAngle=e.calculateLabelAngle(n),t&&(u.sourceLabelAngle=e.calculateLabelAngle(n,"source"),u.targetLabelAngle=e.calculateLabelAngle(n,"target"))};var Qw={},tb=28,nb=!1;Qw.getNodeShape=function(n){var e=this,t=n.pstyle("shape").value;if(t==="cutrectangle"&&(n.width()<tb||n.height()<tb))return nb||(nn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),nb=!0),"rectangle";if(n.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var a=n.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(a).name}return t};var mm={};mm.registerCalculationListeners=function(){var n=this.cy,e=n.collection(),t=this,a=function(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(f),c)for(var g=0;g<f.length;g++){var v=f[g],p=v._private,m=p.rstyle;m.clean=!1,m.cleanConnected=!1}};t.binder(n).on("bounds.* dirty.*",function(f){var c=f.target;a(c)}).on("style.* background.*",function(f){var c=f.target;a(c,!1)});var u=function(f){if(f){var c=t.onUpdateEleCalcsFns;e.cleanStyle();for(var g=0;g<e.length;g++){var v=e[g],p=v._private.rstyle;v.isNode()&&!p.cleanConnected&&(a(v.connectedEdges()),p.cleanConnected=!0)}if(c)for(var m=0;m<c.length;m++){var w=c[m];w(f,e)}t.recalculateRenderedStyle(e),e=n.collection()}};t.flushRenderedStyleQueue=function(){u(!0)},t.beforeRender(u,t.beforeRenderPriorities.eleCalcs)};mm.onUpdateEleCalcs=function(n){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(n)};mm.recalculateRenderedStyle=function(n,e){var t=function(O){return O._private.rstyle.cleanConnected},a=[],u=[];if(!this.destroyed){e===void 0&&(e=!0);for(var l=0;l<n.length;l++){var f=n[l],c=f._private,g=c.rstyle;f.isEdge()&&(!t(f.source())||!t(f.target()))&&(g.clean=!1),!(e&&g.clean||f.removed())&&f.pstyle("display").value!=="none"&&(c.group==="nodes"?u.push(f):a.push(f),g.clean=!0)}for(var v=0;v<u.length;v++){var p=u[v],m=p._private,w=m.rstyle,S=p.position();this.recalculateNodeLabelProjection(p),w.nodeX=S.x,w.nodeY=S.y,w.nodeW=p.pstyle("width").pfValue,w.nodeH=p.pstyle("height").pfValue}this.recalculateEdgeProjections(a);for(var x=0;x<a.length;x++){var D=a[x],C=D._private,T=C.rstyle,R=C.rscratch;T.srcX=R.arrowStartX,T.srcY=R.arrowStartY,T.tgtX=R.arrowEndX,T.tgtY=R.arrowEndY,T.midX=R.midX,T.midY=R.midY,T.labelAngle=R.labelAngle,T.sourceLabelAngle=R.sourceLabelAngle,T.targetLabelAngle=R.targetLabelAngle}}};var ym={};ym.updateCachedGrabbedEles=function(){var n=this.cachedZSortedEles;if(n){n.drag=[],n.nondrag=[];for(var e=[],t=0;t<n.length;t++){var a=n[t],u=a._private.rscratch;a.grabbed()&&!a.isParent()?e.push(a):u.inDragLayer?n.drag.push(a):n.nondrag.push(a)}for(var t=0;t<e.length;t++){var a=e[t];n.drag.push(a)}}};ym.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};ym.getCachedZSortedEles=function(n){if(n||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(_w),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Ww={};[Io,Jp,Hr,mh,U0,Ou,Qw,mm,ym].forEach(function(n){ct(Ww,n)});var $w={};$w.getCachedImage=function(n,e,t){var a=this,u=a.imageCache=a.imageCache||{},l=u[n];if(l)return l.image.complete||l.image.addEventListener("load",t),l.image;l=u[n]=u[n]||{};var f=l.image=new Image;f.addEventListener("load",t),f.addEventListener("error",function(){f.error=!0});var c="data:",g=n.substring(0,c.length).toLowerCase()===c;return g||(e=e==="null"?null:e,f.crossOrigin=e),f.src=n,f};var zc={};zc.registerBinding=function(n,e,t,a){var u=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(n)){for(var l=[],f=0;f<n.length;f++){var c=n[f];if(c!==void 0){var g=this.binder(c);l.push(g.on.apply(g,u))}}return l}var g=this.binder(n);return g.on.apply(g,u)};zc.binder=function(n){var e=this,t=e.cy.window(),a=n===t||n===t.document||n===t.document.body||Ix(n);if(e.supportsPassiveEvents==null){var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){return u=!0,!0}});t.addEventListener("test",null,l)}catch{}e.supportsPassiveEvents=u}var f=function(g,v,p){var m=Array.prototype.slice.call(arguments);return a&&e.supportsPassiveEvents&&(m[2]={capture:p??!1,passive:!1,once:!1}),e.bindings.push({target:n,args:m}),(n.addEventListener||n.on).apply(n,m),this};return{on:f,addEventListener:f,addListener:f,bind:f}};zc.nodeIsDraggable=function(n){return n&&n.isNode()&&!n.locked()&&n.grabbable()};zc.nodeIsGrabbable=function(n){return this.nodeIsDraggable(n)&&n.interactive()};zc.load=function(){var n=this,e=n.cy.window(),t=function(V){return V.selected()},a=function(V){var fe=V.getRootNode();if(fe&&fe.nodeType===11&&fe.host!==void 0)return fe},u=function(V,fe,Se,he){V==null&&(V=n.cy);for(var me=0;me<fe.length;me++){var Ie=fe[me];V.emit({originalEvent:Se,type:Ie,position:he})}},l=function(V){return V.shiftKey||V.metaKey||V.ctrlKey},f=function(V,fe){var Se=!0;if(n.cy.hasCompoundNodes()&&V&&V.pannable())for(var he=0;fe&&he<fe.length;he++){var V=fe[he];if(V.isNode()&&V.isParent()&&!V.pannable()){Se=!1;break}}else Se=!0;return Se},c=function(V){V[0]._private.grabbed=!0},g=function(V){V[0]._private.grabbed=!1},v=function(V){V[0]._private.rscratch.inDragLayer=!0},p=function(V){V[0]._private.rscratch.inDragLayer=!1},m=function(V){V[0]._private.rscratch.isGrabTarget=!0},w=function(V){V[0]._private.rscratch.isGrabTarget=!1},S=function(V,fe){var Se=fe.addToList,he=Se.has(V);!he&&V.grabbable()&&!V.locked()&&(Se.merge(V),c(V))},x=function(V,fe){if(V.cy().hasCompoundNodes()&&!(fe.inDragLayer==null&&fe.addToList==null)){var Se=V.descendants();fe.inDragLayer&&(Se.forEach(v),Se.connectedEdges().forEach(v)),fe.addToList&&S(Se,fe)}},D=function(V,fe){fe=fe||{};var Se=V.cy().hasCompoundNodes();fe.inDragLayer&&(V.forEach(v),V.neighborhood().stdFilter(function(he){return!Se||he.isEdge()}).forEach(v)),fe.addToList&&V.forEach(function(he){S(he,fe)}),x(V,fe),R(V,{inDragLayer:fe.inDragLayer}),n.updateCachedGrabbedEles()},C=D,T=function(V){V&&(n.getCachedZSortedEles().forEach(function(fe){g(fe),p(fe),w(fe)}),n.updateCachedGrabbedEles())},R=function(V,fe){if(!(fe.inDragLayer==null&&fe.addToList==null)&&V.cy().hasCompoundNodes()){var Se=V.ancestors().orphans();if(!Se.same(V)){var he=Se.descendants().spawnSelf().merge(Se).unmerge(V).unmerge(V.descendants()),me=he.connectedEdges();fe.inDragLayer&&(me.forEach(v),he.forEach(v)),fe.addToList&&he.forEach(function(Ie){S(Ie,fe)})}}},M=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},O=typeof MutationObserver<"u",N=typeof ResizeObserver<"u";O?(n.removeObserver=new MutationObserver(function(Le){for(var V=0;V<Le.length;V++){var fe=Le[V],Se=fe.removedNodes;if(Se)for(var he=0;he<Se.length;he++){var me=Se[he];if(me===n.container){n.destroy();break}}}}),n.container.parentNode&&n.removeObserver.observe(n.container.parentNode,{childList:!0})):n.registerBinding(n.container,"DOMNodeRemoved",function(Le){n.destroy()});var k=dh(function(){n.cy.resize()},100);O&&(n.styleObserver=new MutationObserver(k),n.styleObserver.observe(n.container,{attributes:!0})),n.registerBinding(e,"resize",k),N&&(n.resizeObserver=new ResizeObserver(k),n.resizeObserver.observe(n.container));var L=function(V,fe){for(;V!=null;)fe(V),V=V.parentNode},H=function(){n.invalidateContainerClientCoordsCache()};L(n.container,function(Le){n.registerBinding(Le,"transitionend",H),n.registerBinding(Le,"animationend",H),n.registerBinding(Le,"scroll",H)}),n.registerBinding(n.container,"contextmenu",function(Le){Le.preventDefault()});var z=function(){return n.selection[4]!==0},F=function(V){for(var fe=n.findContainerClientCoords(),Se=fe[0],he=fe[1],me=fe[2],Ie=fe[3],Ae=V.touches?V.touches:[V],ke=!1,et=0;et<Ae.length;et++){var nt=Ae[et];if(Se<=nt.clientX&&nt.clientX<=Se+me&&he<=nt.clientY&&nt.clientY<=he+Ie){ke=!0;break}}if(!ke)return!1;for(var qe=n.container,vt=V.target,pt=vt.parentNode,st=!1;pt;){if(pt===qe){st=!0;break}pt=pt.parentNode}return!!st};n.registerBinding(n.container,"mousedown",function(V){if(F(V)&&!(n.hoverData.which===1&&V.which!==1)){V.preventDefault(),M(),n.hoverData.capture=!0,n.hoverData.which=V.which;var fe=n.cy,Se=[V.clientX,V.clientY],he=n.projectIntoViewport(Se[0],Se[1]),me=n.selection,Ie=n.findNearestElements(he[0],he[1],!0,!1),Ae=Ie[0],ke=n.dragData.possibleDragElements;n.hoverData.mdownPos=he,n.hoverData.mdownGPos=Se;var et=function(){n.hoverData.tapholdCancelled=!1,clearTimeout(n.hoverData.tapholdTimeout),n.hoverData.tapholdTimeout=setTimeout(function(){if(!n.hoverData.tapholdCancelled){var Ht=n.hoverData.down;Ht?Ht.emit({originalEvent:V,type:"taphold",position:{x:he[0],y:he[1]}}):fe.emit({originalEvent:V,type:"taphold",position:{x:he[0],y:he[1]}})}},n.tapholdDuration)};if(V.which==3){n.hoverData.cxtStarted=!0;var nt={originalEvent:V,type:"cxttapstart",position:{x:he[0],y:he[1]}};Ae?(Ae.activate(),Ae.emit(nt),n.hoverData.down=Ae):fe.emit(nt),n.hoverData.downTime=new Date().getTime(),n.hoverData.cxtDragged=!1}else if(V.which==1){Ae&&Ae.activate();{if(Ae!=null&&n.nodeIsGrabbable(Ae)){var qe=function(Ht){return{originalEvent:V,type:Ht,position:{x:he[0],y:he[1]}}},vt=function(Ht){Ht.emit(qe("grab"))};if(m(Ae),!Ae.selected())ke=n.dragData.possibleDragElements=fe.collection(),C(Ae,{addToList:ke}),Ae.emit(qe("grabon")).emit(qe("grab"));else{ke=n.dragData.possibleDragElements=fe.collection();var pt=fe.$(function(st){return st.isNode()&&st.selected()&&n.nodeIsGrabbable(st)});D(pt,{addToList:ke}),Ae.emit(qe("grabon")),pt.forEach(vt)}n.redrawHint("eles",!0),n.redrawHint("drag",!0)}n.hoverData.down=Ae,n.hoverData.downs=Ie,n.hoverData.downTime=new Date().getTime()}u(Ae,["mousedown","tapstart","vmousedown"],V,{x:he[0],y:he[1]}),Ae==null?(me[4]=1,n.data.bgActivePosistion={x:he[0],y:he[1]},n.redrawHint("select",!0),n.redraw()):Ae.pannable()&&(me[4]=1),et()}me[0]=me[2]=he[0],me[1]=me[3]=he[1]}},!1);var Y=a(n.container);n.registerBinding([e,Y],"mousemove",function(V){var fe=n.hoverData.capture;if(!(!fe&&!F(V))){var Se=!1,he=n.cy,me=he.zoom(),Ie=[V.clientX,V.clientY],Ae=n.projectIntoViewport(Ie[0],Ie[1]),ke=n.hoverData.mdownPos,et=n.hoverData.mdownGPos,nt=n.selection,qe=null;!n.hoverData.draggingEles&&!n.hoverData.dragging&&!n.hoverData.selecting&&(qe=n.findNearestElement(Ae[0],Ae[1],!0,!1));var vt=n.hoverData.last,pt=n.hoverData.down,st=[Ae[0]-nt[2],Ae[1]-nt[3]],Ht=n.dragData.possibleDragElements,Wt;if(et){var Mn=Ie[0]-et[0],Wn=Mn*Mn,sn=Ie[1]-et[1],kn=sn*sn,Tn=Wn+kn;n.hoverData.isOverThresholdDrag=Wt=Tn>=n.desktopTapThreshold2}var $n=l(V);Wt&&(n.hoverData.tapholdCancelled=!0);var Fn=function(){var on=n.hoverData.dragDelta=n.hoverData.dragDelta||[];on.length===0?(on.push(st[0]),on.push(st[1])):(on[0]+=st[0],on[1]+=st[1])};Se=!0,u(qe,["mousemove","vmousemove","tapdrag"],V,{x:Ae[0],y:Ae[1]});var ur=function(){n.data.bgActivePosistion=void 0,n.hoverData.selecting||he.emit({originalEvent:V,type:"boxstart",position:{x:Ae[0],y:Ae[1]}}),nt[4]=1,n.hoverData.selecting=!0,n.redrawHint("select",!0),n.redraw()};if(n.hoverData.which===3){if(Wt){var lr={originalEvent:V,type:"cxtdrag",position:{x:Ae[0],y:Ae[1]}};pt?pt.emit(lr):he.emit(lr),n.hoverData.cxtDragged=!0,(!n.hoverData.cxtOver||qe!==n.hoverData.cxtOver)&&(n.hoverData.cxtOver&&n.hoverData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:Ae[0],y:Ae[1]}}),n.hoverData.cxtOver=qe,qe&&qe.emit({originalEvent:V,type:"cxtdragover",position:{x:Ae[0],y:Ae[1]}}))}}else if(n.hoverData.dragging){if(Se=!0,he.panningEnabled()&&he.userPanningEnabled()){var qr;if(n.hoverData.justStartedPan){var Dr=n.hoverData.mdownPos;qr={x:(Ae[0]-Dr[0])*me,y:(Ae[1]-Dr[1])*me},n.hoverData.justStartedPan=!1}else qr={x:st[0]*me,y:st[1]*me};he.panBy(qr),he.emit("dragpan"),n.hoverData.dragged=!0}Ae=n.projectIntoViewport(V.clientX,V.clientY)}else if(nt[4]==1&&(pt==null||pt.pannable())){if(Wt){if(!n.hoverData.dragging&&he.boxSelectionEnabled()&&($n||!he.panningEnabled()||!he.userPanningEnabled()))ur();else if(!n.hoverData.selecting&&he.panningEnabled()&&he.userPanningEnabled()){var oa=f(pt,n.hoverData.downs);oa&&(n.hoverData.dragging=!0,n.hoverData.justStartedPan=!0,nt[4]=0,n.data.bgActivePosistion=mc(ke),n.redrawHint("select",!0),n.redraw())}pt&&pt.pannable()&&pt.active()&&pt.unactivate()}}else{if(pt&&pt.pannable()&&pt.active()&&pt.unactivate(),(!pt||!pt.grabbed())&&qe!=vt&&(vt&&u(vt,["mouseout","tapdragout"],V,{x:Ae[0],y:Ae[1]}),qe&&u(qe,["mouseover","tapdragover"],V,{x:Ae[0],y:Ae[1]}),n.hoverData.last=qe),pt)if(Wt){if(he.boxSelectionEnabled()&&$n)pt&&pt.grabbed()&&(T(Ht),pt.emit("freeon"),Ht.emit("free"),n.dragData.didDrag&&(pt.emit("dragfreeon"),Ht.emit("dragfree"))),ur();else if(pt&&pt.grabbed()&&n.nodeIsDraggable(pt)){var Vn=!n.dragData.didDrag;Vn&&n.redrawHint("eles",!0),n.dragData.didDrag=!0,n.hoverData.draggingEles||D(Ht,{inDragLayer:!0});var Un={x:0,y:0};if(He(st[0])&&He(st[1])&&(Un.x+=st[0],Un.y+=st[1],Vn)){var yn=n.hoverData.dragDelta;yn&&He(yn[0])&&He(yn[1])&&(Un.x+=yn[0],Un.y+=yn[1])}n.hoverData.draggingEles=!0,Ht.silentShift(Un).emit("position drag"),n.redrawHint("drag",!0),n.redraw()}}else Fn();Se=!0}if(nt[2]=Ae[0],nt[3]=Ae[1],Se)return V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),!1}},!1);var G,Q,X;n.registerBinding(e,"mouseup",function(V){if(!(n.hoverData.which===1&&V.which!==1&&n.hoverData.capture)){var fe=n.hoverData.capture;if(fe){n.hoverData.capture=!1;var Se=n.cy,he=n.projectIntoViewport(V.clientX,V.clientY),me=n.selection,Ie=n.findNearestElement(he[0],he[1],!0,!1),Ae=n.dragData.possibleDragElements,ke=n.hoverData.down,et=l(V);if(n.data.bgActivePosistion&&(n.redrawHint("select",!0),n.redraw()),n.hoverData.tapholdCancelled=!0,n.data.bgActivePosistion=void 0,ke&&ke.unactivate(),n.hoverData.which===3){var nt={originalEvent:V,type:"cxttapend",position:{x:he[0],y:he[1]}};if(ke?ke.emit(nt):Se.emit(nt),!n.hoverData.cxtDragged){var qe={originalEvent:V,type:"cxttap",position:{x:he[0],y:he[1]}};ke?ke.emit(qe):Se.emit(qe)}n.hoverData.cxtDragged=!1,n.hoverData.which=null}else if(n.hoverData.which===1){if(u(Ie,["mouseup","tapend","vmouseup"],V,{x:he[0],y:he[1]}),!n.dragData.didDrag&&!n.hoverData.dragged&&!n.hoverData.selecting&&!n.hoverData.isOverThresholdDrag&&(u(ke,["click","tap","vclick"],V,{x:he[0],y:he[1]}),Q=!1,V.timeStamp-X<=Se.multiClickDebounceTime()?(G&&clearTimeout(G),Q=!0,X=null,u(ke,["dblclick","dbltap","vdblclick"],V,{x:he[0],y:he[1]})):(G=setTimeout(function(){Q||u(ke,["oneclick","onetap","voneclick"],V,{x:he[0],y:he[1]})},Se.multiClickDebounceTime()),X=V.timeStamp)),ke==null&&!n.dragData.didDrag&&!n.hoverData.selecting&&!n.hoverData.dragged&&!l(V)&&(Se.$(t).unselect(["tapunselect"]),Ae.length>0&&n.redrawHint("eles",!0),n.dragData.possibleDragElements=Ae=Se.collection()),Ie==ke&&!n.dragData.didDrag&&!n.hoverData.selecting&&Ie!=null&&Ie._private.selectable&&(n.hoverData.dragging||(Se.selectionType()==="additive"||et?Ie.selected()?Ie.unselect(["tapunselect"]):Ie.select(["tapselect"]):et||(Se.$(t).unmerge(Ie).unselect(["tapunselect"]),Ie.select(["tapselect"]))),n.redrawHint("eles",!0)),n.hoverData.selecting){var vt=Se.collection(n.getAllInBox(me[0],me[1],me[2],me[3]));n.redrawHint("select",!0),vt.length>0&&n.redrawHint("eles",!0),Se.emit({type:"boxend",originalEvent:V,position:{x:he[0],y:he[1]}});var pt=function(Wt){return Wt.selectable()&&!Wt.selected()};Se.selectionType()==="additive"||et||Se.$(t).unmerge(vt).unselect(),vt.emit("box").stdFilter(pt).select().emit("boxselect"),n.redraw()}if(n.hoverData.dragging&&(n.hoverData.dragging=!1,n.redrawHint("select",!0),n.redrawHint("eles",!0),n.redraw()),!me[4]){n.redrawHint("drag",!0),n.redrawHint("eles",!0);var st=ke&&ke.grabbed();T(Ae),st&&(ke.emit("freeon"),Ae.emit("free"),n.dragData.didDrag&&(ke.emit("dragfreeon"),Ae.emit("dragfree")))}}me[4]=0,n.hoverData.down=null,n.hoverData.cxtStarted=!1,n.hoverData.draggingEles=!1,n.hoverData.selecting=!1,n.hoverData.isOverThresholdDrag=!1,n.dragData.didDrag=!1,n.hoverData.dragged=!1,n.hoverData.dragDelta=[],n.hoverData.mdownPos=null,n.hoverData.mdownGPos=null,n.hoverData.which=null}}},!1);var ee=function(V){if(!n.scrollingPage){var fe=n.cy,Se=fe.zoom(),he=fe.pan(),me=n.projectIntoViewport(V.clientX,V.clientY),Ie=[me[0]*Se+he.x,me[1]*Se+he.y];if(n.hoverData.draggingEles||n.hoverData.dragging||n.hoverData.cxtStarted||z()){V.preventDefault();return}if(fe.panningEnabled()&&fe.userPanningEnabled()&&fe.zoomingEnabled()&&fe.userZoomingEnabled()){V.preventDefault(),n.data.wheelZooming=!0,clearTimeout(n.data.wheelTimeout),n.data.wheelTimeout=setTimeout(function(){n.data.wheelZooming=!1,n.redrawHint("eles",!0),n.redraw()},150);var Ae;V.deltaY!=null?Ae=V.deltaY/-250:V.wheelDeltaY!=null?Ae=V.wheelDeltaY/1e3:Ae=V.wheelDelta/1e3,Ae=Ae*n.wheelSensitivity;var ke=V.deltaMode===1;ke&&(Ae*=33);var et=fe.zoom()*Math.pow(10,Ae);V.type==="gesturechange"&&(et=n.gestureStartZoom*V.scale),fe.zoom({level:et,renderedPosition:{x:Ie[0],y:Ie[1]}}),fe.emit(V.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};n.registerBinding(n.container,"wheel",ee,!0),n.registerBinding(e,"scroll",function(V){n.scrollingPage=!0,clearTimeout(n.scrollingPageTimeout),n.scrollingPageTimeout=setTimeout(function(){n.scrollingPage=!1},250)},!0),n.registerBinding(n.container,"gesturestart",function(V){n.gestureStartZoom=n.cy.zoom(),n.hasTouchStarted||V.preventDefault()},!0),n.registerBinding(n.container,"gesturechange",function(Le){n.hasTouchStarted||ee(Le)},!0),n.registerBinding(n.container,"mouseout",function(V){var fe=n.projectIntoViewport(V.clientX,V.clientY);n.cy.emit({originalEvent:V,type:"mouseout",position:{x:fe[0],y:fe[1]}})},!1),n.registerBinding(n.container,"mouseover",function(V){var fe=n.projectIntoViewport(V.clientX,V.clientY);n.cy.emit({originalEvent:V,type:"mouseover",position:{x:fe[0],y:fe[1]}})},!1);var K,W,j,le,I,Z,ne,de,se,we,pe,Re,xe,ve=function(V,fe,Se,he){return Math.sqrt((Se-V)*(Se-V)+(he-fe)*(he-fe))},re=function(V,fe,Se,he){return(Se-V)*(Se-V)+(he-fe)*(he-fe)},be;n.registerBinding(n.container,"touchstart",be=function(V){if(n.hasTouchStarted=!0,!!F(V)){M(),n.touchData.capture=!0,n.data.bgActivePosistion=void 0;var fe=n.cy,Se=n.touchData.now,he=n.touchData.earlier;if(V.touches[0]){var me=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Se[0]=me[0],Se[1]=me[1]}if(V.touches[1]){var me=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);Se[2]=me[0],Se[3]=me[1]}if(V.touches[2]){var me=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);Se[4]=me[0],Se[5]=me[1]}if(V.touches[1]){n.touchData.singleTouchMoved=!0,T(n.dragData.touchDragEles);var Ie=n.findContainerClientCoords();se=Ie[0],we=Ie[1],pe=Ie[2],Re=Ie[3],K=V.touches[0].clientX-se,W=V.touches[0].clientY-we,j=V.touches[1].clientX-se,le=V.touches[1].clientY-we,xe=0<=K&&K<=pe&&0<=j&&j<=pe&&0<=W&&W<=Re&&0<=le&&le<=Re;var Ae=fe.pan(),ke=fe.zoom();I=ve(K,W,j,le),Z=re(K,W,j,le),ne=[(K+j)/2,(W+le)/2],de=[(ne[0]-Ae.x)/ke,(ne[1]-Ae.y)/ke];var et=200,nt=et*et;if(Z<nt&&!V.touches[2]){var qe=n.findNearestElement(Se[0],Se[1],!0,!0),vt=n.findNearestElement(Se[2],Se[3],!0,!0);qe&&qe.isNode()?(qe.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:Se[0],y:Se[1]}}),n.touchData.start=qe):vt&&vt.isNode()?(vt.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:Se[0],y:Se[1]}}),n.touchData.start=vt):fe.emit({originalEvent:V,type:"cxttapstart",position:{x:Se[0],y:Se[1]}}),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!0,n.touchData.cxtDragged=!1,n.data.bgActivePosistion=void 0,n.redraw();return}}if(V.touches[2])fe.boxSelectionEnabled()&&V.preventDefault();else if(!V.touches[1]){if(V.touches[0]){var pt=n.findNearestElements(Se[0],Se[1],!0,!0),st=pt[0];if(st!=null&&(st.activate(),n.touchData.start=st,n.touchData.starts=pt,n.nodeIsGrabbable(st))){var Ht=n.dragData.touchDragEles=fe.collection(),Wt=null;n.redrawHint("eles",!0),n.redrawHint("drag",!0),st.selected()?(Wt=fe.$(function(Tn){return Tn.selected()&&n.nodeIsGrabbable(Tn)}),D(Wt,{addToList:Ht})):C(st,{addToList:Ht}),m(st);var Mn=function($n){return{originalEvent:V,type:$n,position:{x:Se[0],y:Se[1]}}};st.emit(Mn("grabon")),Wt?Wt.forEach(function(Tn){Tn.emit(Mn("grab"))}):st.emit(Mn("grab"))}u(st,["touchstart","tapstart","vmousedown"],V,{x:Se[0],y:Se[1]}),st==null&&(n.data.bgActivePosistion={x:me[0],y:me[1]},n.redrawHint("select",!0),n.redraw()),n.touchData.singleTouchMoved=!1,n.touchData.singleTouchStartTime=+new Date,clearTimeout(n.touchData.tapholdTimeout),n.touchData.tapholdTimeout=setTimeout(function(){n.touchData.singleTouchMoved===!1&&!n.pinching&&!n.touchData.selecting&&u(n.touchData.start,["taphold"],V,{x:Se[0],y:Se[1]})},n.tapholdDuration)}}if(V.touches.length>=1){for(var Wn=n.touchData.startPosition=[null,null,null,null,null,null],sn=0;sn<Se.length;sn++)Wn[sn]=he[sn]=Se[sn];var kn=V.touches[0];n.touchData.startGPosition=[kn.clientX,kn.clientY]}}},!1);var _e;n.registerBinding(e,"touchmove",_e=function(V){var fe=n.touchData.capture;if(!(!fe&&!F(V))){var Se=n.selection,he=n.cy,me=n.touchData.now,Ie=n.touchData.earlier,Ae=he.zoom();if(V.touches[0]){var ke=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);me[0]=ke[0],me[1]=ke[1]}if(V.touches[1]){var ke=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);me[2]=ke[0],me[3]=ke[1]}if(V.touches[2]){var ke=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);me[4]=ke[0],me[5]=ke[1]}var et=n.touchData.startGPosition,nt;if(fe&&V.touches[0]&&et){for(var qe=[],vt=0;vt<me.length;vt++)qe[vt]=me[vt]-Ie[vt];var pt=V.touches[0].clientX-et[0],st=pt*pt,Ht=V.touches[0].clientY-et[1],Wt=Ht*Ht,Mn=st+Wt;nt=Mn>=n.touchTapThreshold2}if(fe&&n.touchData.cxt){V.preventDefault();var Wn=V.touches[0].clientX-se,sn=V.touches[0].clientY-we,kn=V.touches[1].clientX-se,Tn=V.touches[1].clientY-we,$n=re(Wn,sn,kn,Tn),Fn=$n/Z,ur=150,lr=ur*ur,qr=1.5,Dr=qr*qr;if(Fn>=Dr||$n>=lr){n.touchData.cxt=!1,n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var oa={originalEvent:V,type:"cxttapend",position:{x:me[0],y:me[1]}};n.touchData.start?(n.touchData.start.unactivate().emit(oa),n.touchData.start=null):he.emit(oa)}}if(fe&&n.touchData.cxt){var oa={originalEvent:V,type:"cxtdrag",position:{x:me[0],y:me[1]}};n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.touchData.start?n.touchData.start.emit(oa):he.emit(oa),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxtDragged=!0;var Vn=n.findNearestElement(me[0],me[1],!0,!0);(!n.touchData.cxtOver||Vn!==n.touchData.cxtOver)&&(n.touchData.cxtOver&&n.touchData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:me[0],y:me[1]}}),n.touchData.cxtOver=Vn,Vn&&Vn.emit({originalEvent:V,type:"cxtdragover",position:{x:me[0],y:me[1]}}))}else if(fe&&V.touches[2]&&he.boxSelectionEnabled())V.preventDefault(),n.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,n.touchData.selecting||he.emit({originalEvent:V,type:"boxstart",position:{x:me[0],y:me[1]}}),n.touchData.selecting=!0,n.touchData.didSelect=!0,Se[4]=1,!Se||Se.length===0||Se[0]===void 0?(Se[0]=(me[0]+me[2]+me[4])/3,Se[1]=(me[1]+me[3]+me[5])/3,Se[2]=(me[0]+me[2]+me[4])/3+1,Se[3]=(me[1]+me[3]+me[5])/3+1):(Se[2]=(me[0]+me[2]+me[4])/3,Se[3]=(me[1]+me[3]+me[5])/3),n.redrawHint("select",!0),n.redraw();else if(fe&&V.touches[1]&&!n.touchData.didSelect&&he.zoomingEnabled()&&he.panningEnabled()&&he.userZoomingEnabled()&&he.userPanningEnabled()){V.preventDefault(),n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var Un=n.dragData.touchDragEles;if(Un){n.redrawHint("drag",!0);for(var yn=0;yn<Un.length;yn++){var Bn=Un[yn]._private;Bn.grabbed=!1,Bn.rscratch.inDragLayer=!1}}var on=n.touchData.start,Wn=V.touches[0].clientX-se,sn=V.touches[0].clientY-we,kn=V.touches[1].clientX-se,Tn=V.touches[1].clientY-we,wi=ve(Wn,sn,kn,Tn),ms=wi/I;if(xe){var Ho=Wn-K,Uc=sn-W,qo=kn-j,Lu=Tn-le,ys=(Ho+qo)/2,Ei=(Uc+Lu)/2,fa=he.zoom(),ca=fa*ms,Aa=he.pan(),cn=de[0]*fa+Aa.x,bs=de[1]*fa+Aa.y,Fo={x:-ca/fa*(cn-Aa.x-ys)+cn,y:-ca/fa*(bs-Aa.y-Ei)+bs};if(on&&on.active()){var Un=n.dragData.touchDragEles;T(Un),n.redrawHint("drag",!0),n.redrawHint("eles",!0),on.unactivate().emit("freeon"),Un.emit("free"),n.dragData.didDrag&&(on.emit("dragfreeon"),Un.emit("dragfree"))}he.viewport({zoom:ca,pan:Fo,cancelOnFailedZoom:!0}),he.emit("pinchzoom"),I=wi,K=Wn,W=sn,j=kn,le=Tn,n.pinching=!0}if(V.touches[0]){var ke=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);me[0]=ke[0],me[1]=ke[1]}if(V.touches[1]){var ke=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);me[2]=ke[0],me[3]=ke[1]}if(V.touches[2]){var ke=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);me[4]=ke[0],me[5]=ke[1]}}else if(V.touches[0]&&!n.touchData.didSelect){var Gn=n.touchData.start,Da=n.touchData.last,Vn;if(!n.hoverData.draggingEles&&!n.swipePanning&&(Vn=n.findNearestElement(me[0],me[1],!0,!0)),fe&&Gn!=null&&V.preventDefault(),fe&&Gn!=null&&n.nodeIsDraggable(Gn))if(nt){var Un=n.dragData.touchDragEles,Fr=!n.dragData.didDrag;Fr&&D(Un,{inDragLayer:!0}),n.dragData.didDrag=!0;var Wi={x:0,y:0};if(He(qe[0])&&He(qe[1])&&(Wi.x+=qe[0],Wi.y+=qe[1],Fr)){n.redrawHint("eles",!0);var Rr=n.touchData.dragDelta;Rr&&He(Rr[0])&&He(Rr[1])&&(Wi.x+=Rr[0],Wi.y+=Rr[1])}n.hoverData.draggingEles=!0,Un.silentShift(Wi).emit("position drag"),n.redrawHint("drag",!0),n.touchData.startPosition[0]==Ie[0]&&n.touchData.startPosition[1]==Ie[1]&&n.redrawHint("eles",!0),n.redraw()}else{var Rr=n.touchData.dragDelta=n.touchData.dragDelta||[];Rr.length===0?(Rr.push(qe[0]),Rr.push(qe[1])):(Rr[0]+=qe[0],Rr[1]+=qe[1])}if(u(Gn||Vn,["touchmove","tapdrag","vmousemove"],V,{x:me[0],y:me[1]}),(!Gn||!Gn.grabbed())&&Vn!=Da&&(Da&&Da.emit({originalEvent:V,type:"tapdragout",position:{x:me[0],y:me[1]}}),Vn&&Vn.emit({originalEvent:V,type:"tapdragover",position:{x:me[0],y:me[1]}})),n.touchData.last=Vn,fe)for(var yn=0;yn<me.length;yn++)me[yn]&&n.touchData.startPosition[yn]&&nt&&(n.touchData.singleTouchMoved=!0);if(fe&&(Gn==null||Gn.pannable())&&he.panningEnabled()&&he.userPanningEnabled()){var Vo=f(Gn,n.touchData.starts);Vo&&(V.preventDefault(),n.data.bgActivePosistion||(n.data.bgActivePosistion=mc(n.touchData.startPosition)),n.swipePanning?(he.panBy({x:qe[0]*Ae,y:qe[1]*Ae}),he.emit("dragpan")):nt&&(n.swipePanning=!0,he.panBy({x:pt*Ae,y:Ht*Ae}),he.emit("dragpan"),Gn&&(Gn.unactivate(),n.redrawHint("select",!0),n.touchData.start=null)));var ke=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);me[0]=ke[0],me[1]=ke[1]}}for(var vt=0;vt<me.length;vt++)Ie[vt]=me[vt];fe&&V.touches.length>0&&!n.hoverData.draggingEles&&!n.swipePanning&&n.data.bgActivePosistion!=null&&(n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.redraw())}},!1);var Ue;n.registerBinding(e,"touchcancel",Ue=function(V){var fe=n.touchData.start;n.touchData.capture=!1,fe&&fe.unactivate()});var Pe,gt,_t,xt;if(n.registerBinding(e,"touchend",Pe=function(V){var fe=n.touchData.start,Se=n.touchData.capture;if(Se)V.touches.length===0&&(n.touchData.capture=!1),V.preventDefault();else return;var he=n.selection;n.swipePanning=!1,n.hoverData.draggingEles=!1;var me=n.cy,Ie=me.zoom(),Ae=n.touchData.now,ke=n.touchData.earlier;if(V.touches[0]){var et=n.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Ae[0]=et[0],Ae[1]=et[1]}if(V.touches[1]){var et=n.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY);Ae[2]=et[0],Ae[3]=et[1]}if(V.touches[2]){var et=n.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY);Ae[4]=et[0],Ae[5]=et[1]}fe&&fe.unactivate();var nt;if(n.touchData.cxt){if(nt={originalEvent:V,type:"cxttapend",position:{x:Ae[0],y:Ae[1]}},fe?fe.emit(nt):me.emit(nt),!n.touchData.cxtDragged){var qe={originalEvent:V,type:"cxttap",position:{x:Ae[0],y:Ae[1]}};fe?fe.emit(qe):me.emit(qe)}n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!1,n.touchData.start=null,n.redraw();return}if(!V.touches[2]&&me.boxSelectionEnabled()&&n.touchData.selecting){n.touchData.selecting=!1;var vt=me.collection(n.getAllInBox(he[0],he[1],he[2],he[3]));he[0]=void 0,he[1]=void 0,he[2]=void 0,he[3]=void 0,he[4]=0,n.redrawHint("select",!0),me.emit({type:"boxend",originalEvent:V,position:{x:Ae[0],y:Ae[1]}});var pt=function(lr){return lr.selectable()&&!lr.selected()};vt.emit("box").stdFilter(pt).select().emit("boxselect"),vt.nonempty()&&n.redrawHint("eles",!0),n.redraw()}if(fe!=null&&fe.unactivate(),V.touches[2])n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);else if(!V.touches[1]){if(!V.touches[0]){if(!V.touches[0]){n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var st=n.dragData.touchDragEles;if(fe!=null){var Ht=fe._private.grabbed;T(st),n.redrawHint("drag",!0),n.redrawHint("eles",!0),Ht&&(fe.emit("freeon"),st.emit("free"),n.dragData.didDrag&&(fe.emit("dragfreeon"),st.emit("dragfree"))),u(fe,["touchend","tapend","vmouseup","tapdragout"],V,{x:Ae[0],y:Ae[1]}),fe.unactivate(),n.touchData.start=null}else{var Wt=n.findNearestElement(Ae[0],Ae[1],!0,!0);u(Wt,["touchend","tapend","vmouseup","tapdragout"],V,{x:Ae[0],y:Ae[1]})}var Mn=n.touchData.startPosition[0]-Ae[0],Wn=Mn*Mn,sn=n.touchData.startPosition[1]-Ae[1],kn=sn*sn,Tn=Wn+kn,$n=Tn*Ie*Ie;n.touchData.singleTouchMoved||(fe||me.$(":selected").unselect(["tapunselect"]),u(fe,["tap","vclick"],V,{x:Ae[0],y:Ae[1]}),gt=!1,V.timeStamp-xt<=me.multiClickDebounceTime()?(_t&&clearTimeout(_t),gt=!0,xt=null,u(fe,["dbltap","vdblclick"],V,{x:Ae[0],y:Ae[1]})):(_t=setTimeout(function(){gt||u(fe,["onetap","voneclick"],V,{x:Ae[0],y:Ae[1]})},me.multiClickDebounceTime()),xt=V.timeStamp)),fe!=null&&!n.dragData.didDrag&&fe._private.selectable&&$n<n.touchTapThreshold2&&!n.pinching&&(me.selectionType()==="single"?(me.$(t).unmerge(fe).unselect(["tapunselect"]),fe.select(["tapselect"])):fe.selected()?fe.unselect(["tapunselect"]):fe.select(["tapselect"]),n.redrawHint("eles",!0)),n.touchData.singleTouchMoved=!0}}}for(var Fn=0;Fn<Ae.length;Fn++)ke[Fn]=Ae[Fn];n.dragData.didDrag=!1,V.touches.length===0&&(n.touchData.dragDelta=[],n.touchData.startPosition=[null,null,null,null,null,null],n.touchData.startGPosition=null,n.touchData.didSelect=!1),V.touches.length<2&&(V.touches.length===1&&(n.touchData.startGPosition=[V.touches[0].clientX,V.touches[0].clientY]),n.pinching=!1,n.redrawHint("eles",!0),n.redraw())},!1),typeof TouchEvent>"u"){var Ge=[],Ye=function(V){return{clientX:V.clientX,clientY:V.clientY,force:1,identifier:V.pointerId,pageX:V.pageX,pageY:V.pageY,radiusX:V.width/2,radiusY:V.height/2,screenX:V.screenX,screenY:V.screenY,target:V.target}},Je=function(V){return{event:V,touch:Ye(V)}},Qe=function(V){Ge.push(Je(V))},je=function(V){for(var fe=0;fe<Ge.length;fe++){var Se=Ge[fe];if(Se.event.pointerId===V.pointerId){Ge.splice(fe,1);return}}},ut=function(V){var fe=Ge.filter(function(Se){return Se.event.pointerId===V.pointerId})[0];fe.event=V,fe.touch=Ye(V)},lt=function(V){V.touches=Ge.map(function(fe){return fe.touch})},wt=function(V){return V.pointerType==="mouse"||V.pointerType===4};n.registerBinding(n.container,"pointerdown",function(Le){wt(Le)||(Le.preventDefault(),Qe(Le),lt(Le),be(Le))}),n.registerBinding(n.container,"pointerup",function(Le){wt(Le)||(je(Le),lt(Le),Pe(Le))}),n.registerBinding(n.container,"pointercancel",function(Le){wt(Le)||(je(Le),lt(Le),Ue(Le))}),n.registerBinding(n.container,"pointermove",function(Le){wt(Le)||(Le.preventDefault(),ut(Le),lt(Le),_e(Le))})}};var ol={};ol.generatePolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,draw:function(a,u,l,f,c,g){this.renderer.nodeShapeImpl("polygon",a,u,l,f,c,this.points)},intersectLine:function(a,u,l,f,c,g,v,p){return ah(c,g,this.points,a,u,l/2,f/2,v)},checkPoint:function(a,u,l,f,c,g,v,p){return ll(a,u,this.points,g,v,f,c,[0,-1],l)}}};ol.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l)},intersectLine:function(e,t,a,u,l,f,c,g){return B2(l,f,e,t,a/2+c,u/2+c)},checkPoint:function(e,t,a,u,l,f,c,g){return Mo(e,t,u,l,f,c,a)}}};ol.generateRoundPolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,getOrCreateCorners:function(a,u,l,f,c,g,v){if(g[v]!==void 0&&g[v+"-cx"]===a&&g[v+"-cy"]===u)return g[v];g[v]=new Array(e.length/2),g[v+"-cx"]=a,g[v+"-cy"]=u;var p=l/2,m=f/2;c=c==="auto"?ew(l,f):c;for(var w=new Array(e.length/2),S=0;S<e.length/2;S++)w[S]={x:a+p*e[S*2],y:u+m*e[S*2+1]};var x,D,C,T,R=w.length;for(D=w[R-1],x=0;x<R;x++)C=w[x%R],T=w[(x+1)%R],g[v][x]=k0(D,C,T,c),D=C,C=T;return g[v]},draw:function(a,u,l,f,c,g,v){this.renderer.nodeShapeImpl("round-polygon",a,u,l,f,c,this.points,this.getOrCreateCorners(u,l,f,c,g,v,"drawCorners"))},intersectLine:function(a,u,l,f,c,g,v,p,m){return O2(c,g,this.points,a,u,l,f,v,this.getOrCreateCorners(a,u,l,f,p,m,"corners"))},checkPoint:function(a,u,l,f,c,g,v,p,m){return M2(a,u,this.points,g,v,f,c,this.getOrCreateCorners(g,v,f,c,p,m,"corners"))}}};ol.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:la(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l,this.points,f)},intersectLine:function(e,t,a,u,l,f,c,g){return Jb(l,f,e,t,a,u,c,g)},checkPoint:function(e,t,a,u,l,f,c,g){var v=u/2,p=l/2;g=g==="auto"?Lo(u,l):g,g=Math.min(v,p,g);var m=g*2;return!!(ll(e,t,this.points,f,c,u,l-m,[0,-1],a)||ll(e,t,this.points,f,c,u-m,l,[0,-1],a)||Mo(e,t,m,m,f-v+g,c-p+g,a)||Mo(e,t,m,m,f+v-g,c-p+g,a)||Mo(e,t,m,m,f+v-g,c+p-g,a)||Mo(e,t,m,m,f-v+g,c+p-g,a))}}};ol.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:T0(),points:la(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l,null,f)},generateCutTrianglePts:function(e,t,a,u,l){var f=l==="auto"?this.cornerLength:l,c=t/2,g=e/2,v=a-g,p=a+g,m=u-c,w=u+c;return{topLeft:[v,m+f,v+f,m,v+f,m+f],topRight:[p-f,m,p,m+f,p-f,m+f],bottomRight:[p,w-f,p-f,w,p-f,w-f],bottomLeft:[v+f,w,v,w-f,v+f,w-f]}},intersectLine:function(e,t,a,u,l,f,c,g){var v=this.generateCutTrianglePts(a+2*c,u+2*c,e,t,g),p=[].concat.apply([],[v.topLeft.splice(0,4),v.topRight.splice(0,4),v.bottomRight.splice(0,4),v.bottomLeft.splice(0,4)]);return ah(l,f,p,e,t)},checkPoint:function(e,t,a,u,l,f,c,g){var v=g==="auto"?this.cornerLength:g;if(ll(e,t,this.points,f,c,u,l-2*v,[0,-1],a)||ll(e,t,this.points,f,c,u-2*v,l,[0,-1],a))return!0;var p=this.generateCutTrianglePts(u,l,f,c);return Ta(e,t,p.topLeft)||Ta(e,t,p.topRight)||Ta(e,t,p.bottomRight)||Ta(e,t,p.bottomLeft)}}};ol.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:la(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l)},intersectLine:function(e,t,a,u,l,f,c,g){var v=.15,p=.5,m=.85,w=this.generateBarrelBezierPts(a+2*c,u+2*c,e,t),S=function(C){var T=bc({x:C[0],y:C[1]},{x:C[2],y:C[3]},{x:C[4],y:C[5]},v),R=bc({x:C[0],y:C[1]},{x:C[2],y:C[3]},{x:C[4],y:C[5]},p),M=bc({x:C[0],y:C[1]},{x:C[2],y:C[3]},{x:C[4],y:C[5]},m);return[C[0],C[1],T.x,T.y,R.x,R.y,M.x,M.y,C[4],C[5]]},x=[].concat(S(w.topLeft),S(w.topRight),S(w.bottomRight),S(w.bottomLeft));return ah(l,f,x,e,t)},generateBarrelBezierPts:function(e,t,a,u){var l=t/2,f=e/2,c=a-f,g=a+f,v=u-l,p=u+l,m=jy(e,t),w=m.heightOffset,S=m.widthOffset,x=m.ctrlPtOffsetPct*e,D={topLeft:[c,v+w,c+x,v,c+S,v],topRight:[g-S,v,g-x,v,g,v+w],bottomRight:[g,p-w,g-x,p,g-S,p],bottomLeft:[c+S,p,c+x,p,c,p-w]};return D.topLeft.isTop=!0,D.topRight.isTop=!0,D.bottomLeft.isBottom=!0,D.bottomRight.isBottom=!0,D},checkPoint:function(e,t,a,u,l,f,c,g){var v=jy(u,l),p=v.heightOffset,m=v.widthOffset;if(ll(e,t,this.points,f,c,u,l-2*p,[0,-1],a)||ll(e,t,this.points,f,c,u-2*m,l,[0,-1],a))return!0;for(var w=this.generateBarrelBezierPts(u,l,f,c),S=function(H,z,F){var Y=F[4],G=F[2],Q=F[0],X=F[5],ee=F[1],K=Math.min(Y,Q),W=Math.max(Y,Q),j=Math.min(X,ee),le=Math.max(X,ee);if(K<=H&&H<=W&&j<=z&&z<=le){var I=_2(Y,G,Q),Z=C2(I[0],I[1],I[2],H),ne=Z.filter(function(de){return 0<=de&&de<=1});if(ne.length>0)return ne[0]}return null},x=Object.keys(w),D=0;D<x.length;D++){var C=x[D],T=w[C],R=S(e,t,T);if(R!=null){var M=T[5],O=T[3],N=T[1],k=dr(M,O,N,R);if(T.isTop&&k<=t||T.isBottom&&t<=k)return!0}}return!1}}};ol.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:la(4,0),draw:function(e,t,a,u,l,f){this.renderer.nodeShapeImpl(this.name,e,t,a,u,l,this.points,f)},intersectLine:function(e,t,a,u,l,f,c,g){var v=e-(a/2+c),p=t-(u/2+c),m=p,w=e+(a/2+c),S=rs(l,f,e,t,v,p,w,m,!1);return S.length>0?S:Jb(l,f,e,t,a,u,c,g)},checkPoint:function(e,t,a,u,l,f,c,g){g=g==="auto"?Lo(u,l):g;var v=2*g;if(ll(e,t,this.points,f,c,u,l-v,[0,-1],a)||ll(e,t,this.points,f,c,u-v,l,[0,-1],a))return!0;var p=u/2+2*a,m=l/2+2*a,w=[f-p,c-m,f-p,c,f+p,c,f+p,c-m];return!!(Ta(e,t,w)||Mo(e,t,v,v,f+u/2-g,c+l/2-g,a)||Mo(e,t,v,v,f-u/2+g,c+l/2-g,a))}}};ol.registerNodeShapes=function(){var n=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",la(3,0)),this.generateRoundPolygon("round-triangle",la(3,0)),this.generatePolygon("rectangle",la(4,0)),n.square=n.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",la(5,0)),this.generateRoundPolygon("round-pentagon",la(5,0)),this.generatePolygon("hexagon",la(6,0)),this.generateRoundPolygon("round-hexagon",la(6,0)),this.generatePolygon("heptagon",la(7,0)),this.generateRoundPolygon("round-heptagon",la(7,0)),this.generatePolygon("octagon",la(8,0)),this.generateRoundPolygon("round-octagon",la(8,0));var a=new Array(20);{var u=Jy(5,0),l=Jy(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var c=0;c<l.length/2;c++)l[c*2]*=f,l[c*2+1]*=f;for(var c=0;c<20/4;c++)a[c*4]=u[c*2],a[c*4+1]=u[c*2+1],a[c*4+2]=l[c*2],a[c*4+3]=l[c*2+1]}a=jb(a),this.generatePolygon("star",a),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var g=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",g),this.generateRoundPolygon("round-tag",g)}n.makePolygon=function(v){var p=v.join("$"),m="polygon-"+p,w;return(w=this[m])?w:e.generatePolygon(m,v)}};var yh={};yh.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};yh.redraw=function(n){n=n||Xb();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=n};yh.beforeRender=function(n,e){if(!this.destroyed){e==null&&zn("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:n,priority:e}),t.sort(function(a,u){return u.priority-a.priority})}};var rb=function(e,t,a){for(var u=e.beforeRenderCallbacks,l=0;l<u.length;l++)u[l].fn(t,a)};yh.startRenderLoop=function(){var n=this,e=n.cy;if(!n.renderLoopStarted){n.renderLoopStarted=!0;var t=function a(u){if(!n.destroyed){if(!e.batching())if(n.requestedFrame&&!n.skipFrame){rb(n,!0,u);var l=ul();n.render(n.renderOptions);var f=n.lastDrawTime=ul();n.averageRedrawTime===void 0&&(n.averageRedrawTime=f-l),n.redrawCount===void 0&&(n.redrawCount=0),n.redrawCount++,n.redrawTotalTime===void 0&&(n.redrawTotalTime=0);var c=f-l;n.redrawTotalTime+=c,n.lastRedrawTime=c,n.averageRedrawTime=n.averageRedrawTime/2+c/2,n.requestedFrame=!1}else rb(n,!1,u);n.skipFrame=!1,Gp(a)}};Gp(t)}};var cR=function(e){this.init(e)},Jw=cR,Nc=Jw.prototype;Nc.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Nc.init=function(n){var e=this;e.options=n,e.cy=n.cy;var t=e.container=n.cy.container(),a=e.cy.window();if(a){var u=a.document,l=u.head,f="__________cytoscape_stylesheet",c="__________cytoscape_container",g=u.getElementById(f)!=null;if(t.className.indexOf(c)<0&&(t.className=(t.className||"")+" "+c),!g){var v=u.createElement("style");v.id=f,v.textContent="."+c+" { position: relative; }",l.insertBefore(v,l.children[0])}var p=a.getComputedStyle(t),m=p.getPropertyValue("position");m==="static"&&nn("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=n.showFps,e.debug=n.debug,e.webgl=n.webgl,e.hideEdgesOnViewport=n.hideEdgesOnViewport,e.textureOnViewport=n.textureOnViewport,e.wheelSensitivity=n.wheelSensitivity,e.motionBlurEnabled=n.motionBlur,e.forcedPixelRatio=He(n.pixelRatio)?n.pixelRatio:null,e.motionBlur=n.motionBlur,e.motionBlurOpacity=n.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=n.desktopTapThreshold,e.desktopTapThreshold2=n.desktopTapThreshold*n.desktopTapThreshold,e.touchTapThreshold=n.touchTapThreshold,e.touchTapThreshold2=n.touchTapThreshold*n.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Nc.notify=function(n,e){var t=this,a=t.cy;if(!this.destroyed){if(n==="init"){t.load();return}if(n==="destroy"){t.destroy();return}(n==="add"||n==="remove"||n==="move"&&a.hasCompoundNodes()||n==="load"||n==="zorder"||n==="mount")&&t.invalidateCachedZSortedEles(),n==="viewport"&&t.redrawHint("select",!0),n==="gc"&&t.redrawHint("gc",!0),(n==="load"||n==="resize"||n==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Nc.destroy=function(){var n=this;n.destroyed=!0,n.cy.stopAnimationLoop();for(var e=0;e<n.bindings.length;e++){var t=n.bindings[e],a=t,u=a.target;(u.off||u.removeEventListener).apply(u,a.args)}if(n.bindings=[],n.beforeRenderCallbacks=[],n.onUpdateEleCalcsFns=[],n.removeObserver&&n.removeObserver.disconnect(),n.styleObserver&&n.styleObserver.disconnect(),n.resizeObserver&&n.resizeObserver.disconnect(),n.labelCalcDiv)try{document.body.removeChild(n.labelCalcDiv)}catch{}};Nc.isHeadless=function(){return!1};[N0,Ww,$w,zc,ol,yh].forEach(function(n){ct(Nc,n)});var Yy=1e3/60,jw={setupDequeueing:function(e){return function(){var a=this,u=this.renderer;if(!a.dequeueingSetup){a.dequeueingSetup=!0;var l=dh(function(){u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},e.deqRedrawThreshold),f=function(v,p){var m=ul(),w=u.averageRedrawTime,S=u.lastRedrawTime,x=[],D=u.cy.extent(),C=u.getPixelRatio();for(v||u.flushRenderedStyleQueue();;){var T=ul(),R=T-m,M=T-p;if(S<Yy){var O=Yy-(v?w:0);if(M>=e.deqFastCost*O)break}else if(v){if(R>=e.deqCost*S||R>=e.deqAvgCost*w)break}else if(M>=e.deqNoDrawCost*Yy)break;var N=e.deq(a,C,D);if(N.length>0)for(var k=0;k<N.length;k++)x.push(N[k]);else break}x.length>0&&(e.onDeqd(a,x),!v&&e.shouldRedraw(a,x,C,D)&&l())},c=e.priority||w0;u.beforeRender(f,c(a))}}}},vR=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yp;vs(this,n),this.idsByKey=new Mu,this.keyForId=new Mu,this.cachesByLvl=new Mu,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return ds(n,[{key:"getIdsFor",value:function(t){t==null&&zn("Can not get id list for null key");var a=this.idsByKey,u=this.idsByKey.get(t);return u||(u=new Dc,a.set(t,u)),u}},{key:"addIdForKey",value:function(t,a){t!=null&&this.getIdsFor(t).add(a)}},{key:"deleteIdForKey",value:function(t,a){t!=null&&this.getIdsFor(t).delete(a)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var a=t.id(),u=this.keyForId.get(a),l=this.getKey(t);this.deleteIdForKey(u,a),this.addIdForKey(l,a),this.keyForId.set(a,l)}},{key:"deleteKeyMappingFor",value:function(t){var a=t.id(),u=this.keyForId.get(a);this.deleteIdForKey(u,a),this.keyForId.delete(a)}},{key:"keyHasChangedFor",value:function(t){var a=t.id(),u=this.keyForId.get(a),l=this.getKey(t);return u!==l}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var a=this.cachesByLvl,u=this.lvls,l=a.get(t);return l||(l=new Mu,a.set(t,l),u.push(t)),l}},{key:"getCache",value:function(t,a){return this.getCachesAt(a).get(t)}},{key:"get",value:function(t,a){var u=this.getKey(t),l=this.getCache(u,a);return l!=null&&this.updateKeyMappingFor(t),l}},{key:"getForCachedKey",value:function(t,a){var u=this.keyForId.get(t.id()),l=this.getCache(u,a);return l}},{key:"hasCache",value:function(t,a){return this.getCachesAt(a).has(t)}},{key:"has",value:function(t,a){var u=this.getKey(t);return this.hasCache(u,a)}},{key:"setCache",value:function(t,a,u){u.key=t,this.getCachesAt(a).set(t,u)}},{key:"set",value:function(t,a,u){var l=this.getKey(t);this.setCache(l,a,u),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,a){this.getCachesAt(a).delete(t)}},{key:"delete",value:function(t,a){var u=this.getKey(t);this.deleteCache(u,a)}},{key:"invalidateKey",value:function(t){var a=this;this.lvls.forEach(function(u){return a.deleteCache(t,u)})}},{key:"invalidate",value:function(t){var a=t.id(),u=this.keyForId.get(a);this.deleteKeyMappingFor(t);var l=this.doesEleInvalidateKey(t);return l&&this.invalidateKey(u),l||this.getNumberOfIdsForKey(u)===0}}]),n}(),ab=25,Op=50,Fp=-4,f0=3,eE=7.99,dR=8,hR=1024,gR=1024,pR=1024,mR=.2,yR=.8,bR=10,wR=.15,ER=.1,xR=.9,SR=.9,TR=100,CR=1,yc={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},AR=gr({getKey:null,doesEleInvalidateKey:Yp,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Gb,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Zd=function(e,t){var a=this;a.renderer=e,a.onDequeues=[];var u=AR(t);ct(a,u),a.lookup=new vR(u.getKey,u.doesEleInvalidateKey),a.setupDequeueing()},ir=Zd.prototype;ir.reasons=yc;ir.getTextureQueue=function(n){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[n]=e.eleImgCaches[n]||[]};ir.getRetiredTextureQueue=function(n){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},a=t[n]=t[n]||[];return a};ir.getElementQueue=function(){var n=this,e=n.eleCacheQueue=n.eleCacheQueue||new hh(function(t,a){return a.reqs-t.reqs});return e};ir.getElementKeyToQueue=function(){var n=this,e=n.eleKeyToCacheQueue=n.eleKeyToCacheQueue||{};return e};ir.getElement=function(n,e,t,a,u){var l=this,f=this.renderer,c=f.cy.zoom(),g=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!n.visible()||n.removed()||!l.allowEdgeTxrCaching&&n.isEdge()||!l.allowParentTxrCaching&&n.isParent())return null;if(a==null&&(a=Math.ceil(x0(c*t))),a<Fp)a=Fp;else if(c>=eE||a>f0)return null;var v=Math.pow(2,a),p=e.h*v,m=e.w*v,w=f.eleTextBiggerThanMin(n,v);if(!this.isVisible(n,w))return null;var S=g.get(n,a);if(S&&S.invalidated&&(S.invalidated=!1,S.texture.invalidatedWidth-=S.width),S)return S;var x;if(p<=ab?x=ab:p<=Op?x=Op:x=Math.ceil(p/Op)*Op,p>pR||m>gR)return null;var D=l.getTextureQueue(x),C=D[D.length-2],T=function(){return l.recycleTexture(x,m)||l.addTexture(x,m)};C||(C=D[D.length-1]),C||(C=T()),C.width-C.usedWidth<m&&(C=T());for(var R=function(K){return K&&K.scaledLabelShown===w},M=u&&u===yc.dequeue,O=u&&u===yc.highQuality,N=u&&u===yc.downscale,k,L=a+1;L<=f0;L++){var H=g.get(n,L);if(H){k=H;break}}var z=k&&k.level===a+1?k:null,F=function(){C.context.drawImage(z.texture.canvas,z.x,0,z.width,z.height,C.usedWidth,0,m,p)};if(C.context.setTransform(1,0,0,1,0,0),C.context.clearRect(C.usedWidth,0,m,x),R(z))F();else if(R(k))if(O){for(var Y=k.level;Y>a;Y--)z=l.getElement(n,e,t,Y,yc.downscale);F()}else return l.queueElement(n,k.level-1),k;else{var G;if(!M&&!O&&!N)for(var Q=a-1;Q>=Fp;Q--){var X=g.get(n,Q);if(X){G=X;break}}if(R(G))return l.queueElement(n,a),G;C.context.translate(C.usedWidth,0),C.context.scale(v,v),this.drawElement(C.context,n,e,w,!1),C.context.scale(1/v,1/v),C.context.translate(-C.usedWidth,0)}return S={x:C.usedWidth,texture:C,level:a,scale:v,width:m,height:p,scaledLabelShown:w},C.usedWidth+=Math.ceil(m+dR),C.eleCaches.push(S),g.set(n,a,S),l.checkTextureFullness(C),S};ir.invalidateElements=function(n){for(var e=0;e<n.length;e++)this.invalidateElement(n[e])};ir.invalidateElement=function(n){var e=this,t=e.lookup,a=[],u=t.isInvalid(n);if(u){for(var l=Fp;l<=f0;l++){var f=t.getForCachedKey(n,l);f&&a.push(f)}var c=t.invalidate(n);if(c)for(var g=0;g<a.length;g++){var v=a[g],p=v.texture;p.invalidatedWidth+=v.width,v.invalidated=!0,e.checkTextureUtility(p)}e.removeFromQueue(n)}};ir.checkTextureUtility=function(n){n.invalidatedWidth>=mR*n.width&&this.retireTexture(n)};ir.checkTextureFullness=function(n){var e=this,t=e.getTextureQueue(n.height);n.usedWidth/n.width>yR&&n.fullnessChecks>=bR?ss(t,n):n.fullnessChecks++};ir.retireTexture=function(n){var e=this,t=n.height,a=e.getTextureQueue(t),u=this.lookup;ss(a,n),n.retired=!0;for(var l=n.eleCaches,f=0;f<l.length;f++){var c=l[f];u.deleteCache(c.key,c.level)}E0(l);var g=e.getRetiredTextureQueue(t);g.push(n)};ir.addTexture=function(n,e){var t=this,a=t.getTextureQueue(n),u={};return a.push(u),u.eleCaches=[],u.height=n,u.width=Math.max(hR,e),u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,u.canvas=t.renderer.makeOffscreenCanvas(u.width,u.height),u.context=u.canvas.getContext("2d"),u};ir.recycleTexture=function(n,e){for(var t=this,a=t.getTextureQueue(n),u=t.getRetiredTextureQueue(n),l=0;l<u.length;l++){var f=u[l];if(f.width>=e)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,E0(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,0,f.width,f.height),ss(u,f),a.push(f),f}};ir.queueElement=function(n,e){var t=this,a=t.getElementQueue(),u=t.getElementKeyToQueue(),l=this.getKey(n),f=u[l];if(f)f.level=Math.max(f.level,e),f.eles.merge(n),f.reqs++,a.updateItem(f);else{var c={eles:n.spawn().merge(n),level:e,reqs:1,key:l};a.push(c),u[l]=c}};ir.dequeue=function(n){for(var e=this,t=e.getElementQueue(),a=e.getElementKeyToQueue(),u=[],l=e.lookup,f=0;f<CR&&t.size()>0;f++){var c=t.pop(),g=c.key,v=c.eles[0],p=l.hasCache(v,c.level);if(a[g]=null,p)continue;u.push(c);var m=e.getBoundingBox(v);e.getElement(v,m,n,c.level,yc.dequeue)}return u};ir.removeFromQueue=function(n){var e=this,t=e.getElementQueue(),a=e.getElementKeyToQueue(),u=this.getKey(n),l=a[u];l!=null&&(l.eles.length===1?(l.reqs=b0,t.updateItem(l),t.pop(),a[u]=null):l.eles.unmerge(n))};ir.onDequeue=function(n){this.onDequeues.push(n)};ir.offDequeue=function(n){ss(this.onDequeues,n)};ir.setupDequeueing=jw.setupDequeueing({deqRedrawThreshold:TR,deqCost:wR,deqAvgCost:ER,deqNoDrawCost:xR,deqFastCost:SR,deq:function(e,t,a){return e.dequeue(t,a)},onDeqd:function(e,t){for(var a=0;a<e.onDequeues.length;a++){var u=e.onDequeues[a];u(t)}},shouldRedraw:function(e,t,a,u){for(var l=0;l<t.length;l++)for(var f=t[l].eles,c=0;c<f.length;c++){var g=f[c].boundingBox();if(S0(g,u))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var DR=1,Wd=-4,jp=2,RR=3.99,MR=50,BR=50,OR=.15,_R=.1,LR=.9,zR=.9,NR=1,ib=250,kR=4e3*4e3,ub=32767,UR=!0,tE=function(e){var t=this,a=t.renderer=e,u=a.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ul()-2*ib,t.skipping=!1,t.eleTxrDeqs=u.collection(),t.scheduleElementRefinement=dh(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},BR),a.beforeRender(function(f,c){c-t.lastInvalidationTime<=ib?t.skipping=!0:t.skipping=!1},a.beforeRenderPriorities.lyrTxrSkip);var l=function(c,g){return g.reqs-c.reqs};t.layersQueue=new hh(l),t.setupDequeueing()},Ar=tE.prototype,lb=0,IR=Math.pow(2,53)-1;Ar.makeLayer=function(n,e){var t=Math.pow(2,e),a=Math.ceil(n.w*t),u=Math.ceil(n.h*t),l=this.renderer.makeOffscreenCanvas(a,u),f={id:lb=++lb%IR,bb:n,level:e,width:a,height:u,canvas:l,context:l.getContext("2d"),eles:[],elesQueue:[],reqs:0},c=f.context,g=-f.bb.x1,v=-f.bb.y1;return c.scale(t,t),c.translate(g,v),f};Ar.getLayers=function(n,e,t){var a=this,u=a.renderer,l=u.cy,f=l.zoom(),c=a.firstGet;if(a.firstGet=!1,t==null){if(t=Math.ceil(x0(f*e)),t<Wd)t=Wd;else if(f>=RR||t>jp)return null}a.validateLayersElesOrdering(t,n);var g=a.layersByLevel,v=Math.pow(2,t),p=g[t]=g[t]||[],m,w=a.levelIsComplete(t,n),S,x=function(){var F=function(ee){if(a.validateLayersElesOrdering(ee,n),a.levelIsComplete(ee,n))return S=g[ee],!0},Y=function(ee){if(!S)for(var K=t+ee;Wd<=K&&K<=jp&&!F(K);K+=ee);};Y(1),Y(-1);for(var G=p.length-1;G>=0;G--){var Q=p[G];Q.invalid&&ss(p,Q)}};if(!w)x();else return p;var D=function(){if(!m){m=Ca();for(var F=0;F<n.length;F++)Wb(m,n[F].boundingBox())}return m},C=function(F){F=F||{};var Y=F.after;D();var G=Math.ceil(m.w*v),Q=Math.ceil(m.h*v);if(G>ub||Q>ub)return null;var X=G*Q;if(X>kR)return null;var ee=a.makeLayer(m,t);if(Y!=null){var K=p.indexOf(Y)+1;p.splice(K,0,ee)}else(F.insert===void 0||F.insert)&&p.unshift(ee);return ee};if(a.skipping&&!c)return null;for(var T=null,R=n.length/DR,M=!c,O=0;O<n.length;O++){var N=n[O],k=N._private.rscratch,L=k.imgLayerCaches=k.imgLayerCaches||{},H=L[t];if(H){T=H;continue}if((!T||T.eles.length>=R||!$b(T.bb,N.boundingBox()))&&(T=C({insert:!0,after:T}),!T))return null;S||M?a.queueLayer(T,N):a.drawEleInLayer(T,N,t,e),T.eles.push(N),L[t]=T}return S||(M?null:p)};Ar.getEleLevelForLayerLevel=function(n,e){return n};Ar.drawEleInLayer=function(n,e,t,a){var u=this,l=this.renderer,f=n.context,c=e.boundingBox();c.w===0||c.h===0||!e.visible()||(t=u.getEleLevelForLayerLevel(t,a),l.setImgSmoothing(f,!1),l.drawCachedElement(f,e,null,null,t,UR),l.setImgSmoothing(f,!0))};Ar.levelIsComplete=function(n,e){var t=this,a=t.layersByLevel[n];if(!a||a.length===0)return!1;for(var u=0,l=0;l<a.length;l++){var f=a[l];if(f.reqs>0||f.invalid)return!1;u+=f.eles.length}return u===e.length};Ar.validateLayersElesOrdering=function(n,e){var t=this.layersByLevel[n];if(t)for(var a=0;a<t.length;a++){for(var u=t[a],l=-1,f=0;f<e.length;f++)if(u.eles[0]===e[f]){l=f;break}if(l<0){this.invalidateLayer(u);continue}for(var c=l,f=0;f<u.eles.length;f++)if(u.eles[f]!==e[c+f]){this.invalidateLayer(u);break}}};Ar.updateElementsInLayers=function(n,e){for(var t=this,a=ch(n[0]),u=0;u<n.length;u++)for(var l=a?null:n[u],f=a?n[u]:n[u].ele,c=f._private.rscratch,g=c.imgLayerCaches=c.imgLayerCaches||{},v=Wd;v<=jp;v++){var p=g[v];p&&(l&&t.getEleLevelForLayerLevel(p.level)!==l.level||e(p,f,l))}};Ar.haveLayers=function(){for(var n=this,e=!1,t=Wd;t<=jp;t++){var a=n.layersByLevel[t];if(a&&a.length>0){e=!0;break}}return e};Ar.invalidateElements=function(n){var e=this;n.length!==0&&(e.lastInvalidationTime=ul(),!(n.length===0||!e.haveLayers())&&e.updateElementsInLayers(n,function(a,u,l){e.invalidateLayer(a)}))};Ar.invalidateLayer=function(n){if(this.lastInvalidationTime=ul(),!n.invalid){var e=n.level,t=n.eles,a=this.layersByLevel[e];ss(a,n),n.elesQueue=[],n.invalid=!0,n.replacement&&(n.replacement.invalid=!0);for(var u=0;u<t.length;u++){var l=t[u]._private.rscratch.imgLayerCaches;l&&(l[e]=null)}}};Ar.refineElementTextures=function(n){var e=this;e.updateElementsInLayers(n,function(a,u,l){var f=a.replacement;if(f||(f=a.replacement=e.makeLayer(a.bb,a.level),f.replaces=a,f.eles=a.eles),!f.reqs)for(var c=0;c<f.eles.length;c++)e.queueLayer(f,f.eles[c])})};Ar.enqueueElementRefinement=function(n){this.eleTxrDeqs.merge(n),this.scheduleElementRefinement()};Ar.queueLayer=function(n,e){var t=this,a=t.layersQueue,u=n.elesQueue,l=u.hasId=u.hasId||{};if(!n.replacement){if(e){if(l[e.id()])return;u.push(e),l[e.id()]=!0}n.reqs?(n.reqs++,a.updateItem(n)):(n.reqs=1,a.push(n))}};Ar.dequeue=function(n){for(var e=this,t=e.layersQueue,a=[],u=0;u<NR&&t.size()!==0;){var l=t.peek();if(l.replacement){t.pop();continue}if(l.replaces&&l!==l.replaces.replacement){t.pop();continue}if(l.invalid){t.pop();continue}var f=l.elesQueue.shift();f&&(e.drawEleInLayer(l,f,l.level,n),u++),a.length===0&&a.push(!0),l.elesQueue.length===0&&(t.pop(),l.reqs=0,l.replaces&&e.applyLayerReplacement(l),e.requestRedraw())}return a};Ar.applyLayerReplacement=function(n){var e=this,t=e.layersByLevel[n.level],a=n.replaces,u=t.indexOf(a);if(!(u<0||a.invalid)){t[u]=n;for(var l=0;l<n.eles.length;l++){var f=n.eles[l]._private,c=f.imgLayerCaches=f.imgLayerCaches||{};c&&(c[n.level]=n)}e.requestRedraw()}};Ar.requestRedraw=dh(function(){var n=this.renderer;n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},100);Ar.setupDequeueing=jw.setupDequeueing({deqRedrawThreshold:MR,deqCost:OR,deqAvgCost:_R,deqNoDrawCost:LR,deqFastCost:zR,deq:function(e,t){return e.dequeue(t)},onDeqd:w0,shouldRedraw:Gb,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var nE={},sb;function PR(n,e){for(var t=0;t<e.length;t++){var a=e[t];n.lineTo(a.x,a.y)}}function HR(n,e,t){for(var a,u=0;u<e.length;u++){var l=e[u];u===0&&(a=l),n.lineTo(l.x,l.y)}n.quadraticCurveTo(t.x,t.y,a.x,a.y)}function ob(n,e,t){n.beginPath&&n.beginPath();for(var a=e,u=0;u<a.length;u++){var l=a[u];n.lineTo(l.x,l.y)}var f=t,c=t[0];n.moveTo(c.x,c.y);for(var u=1;u<f.length;u++){var l=f[u];n.lineTo(l.x,l.y)}n.closePath&&n.closePath()}function qR(n,e,t,a,u){n.beginPath&&n.beginPath(),n.arc(t,a,u,0,Math.PI*2,!1);var l=e,f=l[0];n.moveTo(f.x,f.y);for(var c=0;c<l.length;c++){var g=l[c];n.lineTo(g.x,g.y)}n.closePath&&n.closePath()}function FR(n,e,t,a){n.arc(e,t,a,0,Math.PI*2,!1)}nE.arrowShapeImpl=function(n){return(sb||(sb={polygon:PR,"triangle-backcurve":HR,"triangle-tee":ob,"circle-triangle":qR,"triangle-cross":ob,circle:FR}))[n]};var _u={};_u.drawElement=function(n,e,t,a,u,l){var f=this;e.isNode()?f.drawNode(n,e,t,a,u,l):f.drawEdge(n,e,t,a,u,l)};_u.drawElementOverlay=function(n,e){var t=this;e.isNode()?t.drawNodeOverlay(n,e):t.drawEdgeOverlay(n,e)};_u.drawElementUnderlay=function(n,e){var t=this;e.isNode()?t.drawNodeUnderlay(n,e):t.drawEdgeUnderlay(n,e)};_u.drawCachedElementPortion=function(n,e,t,a,u,l,f,c){var g=this,v=t.getBoundingBox(e);if(!(v.w===0||v.h===0)){var p=t.getElement(e,v,a,u,l);if(p!=null){var m=c(g,e);if(m===0)return;var w=f(g,e),S=v.x1,x=v.y1,D=v.w,C=v.h,T,R,M,O,N;if(w!==0){var k=t.getRotationPoint(e);M=k.x,O=k.y,n.translate(M,O),n.rotate(w),N=g.getImgSmoothing(n),N||g.setImgSmoothing(n,!0);var L=t.getRotationOffset(e);T=L.x,R=L.y}else T=S,R=x;var H;m!==1&&(H=n.globalAlpha,n.globalAlpha=H*m),n.drawImage(p.texture.canvas,p.x,0,p.width,p.height,T,R,D,C),m!==1&&(n.globalAlpha=H),w!==0&&(n.rotate(-w),n.translate(-M,-O),N||g.setImgSmoothing(n,!1))}else t.drawElement(n,e)}};var VR=function(){return 0},GR=function(e,t){return e.getTextAngle(t,null)},YR=function(e,t){return e.getTextAngle(t,"source")},KR=function(e,t){return e.getTextAngle(t,"target")},XR=function(e,t){return t.effectiveOpacity()},Ky=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};_u.drawCachedElement=function(n,e,t,a,u,l){var f=this,c=f.data,g=c.eleTxrCache,v=c.lblTxrCache,p=c.slbTxrCache,m=c.tlbTxrCache,w=e.boundingBox(),S=l===!0?g.reasons.highQuality:null;if(!(w.w===0||w.h===0||!e.visible())&&(!a||S0(w,a))){var x=e.isEdge(),D=e.element()._private.rscratch.badLine;f.drawElementUnderlay(n,e),f.drawCachedElementPortion(n,e,g,t,u,S,VR,XR),(!x||!D)&&f.drawCachedElementPortion(n,e,v,t,u,S,GR,Ky),x&&!D&&(f.drawCachedElementPortion(n,e,p,t,u,S,YR,Ky),f.drawCachedElementPortion(n,e,m,t,u,S,KR,Ky)),f.drawElementOverlay(n,e)}};_u.drawElements=function(n,e){for(var t=this,a=0;a<e.length;a++){var u=e[a];t.drawElement(n,u)}};_u.drawCachedElements=function(n,e,t,a){for(var u=this,l=0;l<e.length;l++){var f=e[l];u.drawCachedElement(n,f,t,a)}};_u.drawCachedNodes=function(n,e,t,a){for(var u=this,l=0;l<e.length;l++){var f=e[l];f.isNode()&&u.drawCachedElement(n,f,t,a)}};_u.drawLayeredElements=function(n,e,t,a){var u=this,l=u.data.lyrTxrCache.getLayers(e,t);if(l)for(var f=0;f<l.length;f++){var c=l[f],g=c.bb;g.w===0||g.h===0||n.drawImage(c.canvas,g.x1,g.y1,g.w,g.h)}else u.drawCachedElements(n,e,t,a)};var fl={};fl.drawEdge=function(n,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=this,c=e._private.rscratch;if(!(l&&!e.visible())&&!(c.badLine||c.allpts==null||isNaN(c.allpts[0]))){var g;t&&(g=t,n.translate(-g.x1,-g.y1));var v=l?e.pstyle("opacity").value:1,p=l?e.pstyle("line-opacity").value:1,m=e.pstyle("curve-style").value,w=e.pstyle("line-style").value,S=e.pstyle("width").pfValue,x=e.pstyle("line-cap").value,D=e.pstyle("line-outline-width").value,C=e.pstyle("line-outline-color").value,T=v*p,R=v*p,M=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;m==="straight-triangle"?(f.eleStrokeStyle(n,e,ee),f.drawEdgeTrianglePath(e,n,c.allpts)):(n.lineWidth=S,n.lineCap=x,f.eleStrokeStyle(n,e,ee),f.drawEdgePath(e,n,c.allpts,w),n.lineCap="butt")},O=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;if(n.lineWidth=S+D,n.lineCap=x,D>0)f.colorStrokeStyle(n,C[0],C[1],C[2],ee);else{n.lineCap="butt";return}m==="straight-triangle"?f.drawEdgeTrianglePath(e,n,c.allpts):(f.drawEdgePath(e,n,c.allpts,w),n.lineCap="butt")},N=function(){u&&f.drawEdgeOverlay(n,e)},k=function(){u&&f.drawEdgeUnderlay(n,e)},L=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;f.drawArrowheads(n,e,ee)},H=function(){f.drawElementText(n,e,null,a)};n.lineJoin="round";var z=e.pstyle("ghost").value==="yes";if(z){var F=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue,G=e.pstyle("ghost-opacity").value,Q=T*G;n.translate(F,Y),M(Q),L(Q),n.translate(-F,-Y)}else O();k(),M(),L(),N(),H(),t&&n.translate(g.x1,g.y1)}};var rE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,a){if(a.visible()){var u=a.pstyle("".concat(e,"-opacity")).value;if(u!==0){var l=this,f=l.usePaths(),c=a._private.rscratch,g=a.pstyle("".concat(e,"-padding")).pfValue,v=2*g,p=a.pstyle("".concat(e,"-color")).value;t.lineWidth=v,c.edgeType==="self"&&!f?t.lineCap="butt":t.lineCap="round",l.colorStrokeStyle(t,p[0],p[1],p[2],u),l.drawEdgePath(a,t,c.allpts,"solid")}}}};fl.drawEdgeOverlay=rE("overlay");fl.drawEdgeUnderlay=rE("underlay");fl.drawEdgePath=function(n,e,t,a){var u=n._private.rscratch,l=e,f,c=!1,g=this.usePaths(),v=n.pstyle("line-dash-pattern").pfValue,p=n.pstyle("line-dash-offset").pfValue;if(g){var m=t.join("$"),w=u.pathCacheKey&&u.pathCacheKey===m;w?(f=e=u.pathCache,c=!0):(f=e=new Path2D,u.pathCacheKey=m,u.pathCache=f)}if(l.setLineDash)switch(a){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash(v),l.lineDashOffset=p;break;case"solid":l.setLineDash([]);break}if(!c&&!u.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),u.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var S=2;S+3<t.length;S+=4)e.quadraticCurveTo(t[S],t[S+1],t[S+2],t[S+3]);break;case"straight":case"haystack":for(var x=2;x+1<t.length;x+=2)e.lineTo(t[x],t[x+1]);break;case"segments":if(u.isRound){var D=Za(u.roundCorners),C;try{for(D.s();!(C=D.n()).done;){var T=C.value;Yw(e,T)}}catch(M){D.e(M)}finally{D.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var R=2;R+1<t.length;R+=2)e.lineTo(t[R],t[R+1]);break}e=l,g?e.stroke(f):e.stroke(),e.setLineDash&&e.setLineDash([])};fl.drawEdgeTrianglePath=function(n,e,t){e.fillStyle=e.strokeStyle;for(var a=n.pstyle("width").pfValue,u=0;u+1<t.length;u+=2){var l=[t[u+2]-t[u],t[u+3]-t[u+1]],f=Math.sqrt(l[0]*l[0]+l[1]*l[1]),c=[l[1]/f,-l[0]/f],g=[c[0]*a/2,c[1]*a/2];e.beginPath(),e.moveTo(t[u]-g[0],t[u+1]-g[1]),e.lineTo(t[u]+g[0],t[u+1]+g[1]),e.lineTo(t[u+2],t[u+3]),e.closePath(),e.fill()}};fl.drawArrowheads=function(n,e,t){var a=e._private.rscratch,u=a.edgeType==="haystack";u||this.drawArrowhead(n,e,"source",a.arrowStartX,a.arrowStartY,a.srcArrowAngle,t),this.drawArrowhead(n,e,"mid-target",a.midX,a.midY,a.midtgtArrowAngle,t),this.drawArrowhead(n,e,"mid-source",a.midX,a.midY,a.midsrcArrowAngle,t),u||this.drawArrowhead(n,e,"target",a.arrowEndX,a.arrowEndY,a.tgtArrowAngle,t)};fl.drawArrowhead=function(n,e,t,a,u,l,f){if(!(isNaN(a)||a==null||isNaN(u)||u==null||isNaN(l)||l==null)){var c=this,g=e.pstyle(t+"-arrow-shape").value;if(g!=="none"){var v=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",p=e.pstyle(t+"-arrow-fill").value,m=e.pstyle("width").pfValue,w=e.pstyle(t+"-arrow-width"),S=w.value==="match-line"?m:w.pfValue;w.units==="%"&&(S*=m);var x=e.pstyle("opacity").value;f===void 0&&(f=x);var D=n.globalCompositeOperation;(f!==1||p==="hollow")&&(n.globalCompositeOperation="destination-out",c.colorFillStyle(n,255,255,255,1),c.colorStrokeStyle(n,255,255,255,1),c.drawArrowShape(e,n,v,m,g,S,a,u,l),n.globalCompositeOperation=D);var C=e.pstyle(t+"-arrow-color").value;c.colorFillStyle(n,C[0],C[1],C[2],f),c.colorStrokeStyle(n,C[0],C[1],C[2],f),c.drawArrowShape(e,n,p,m,g,S,a,u,l)}}};fl.drawArrowShape=function(n,e,t,a,u,l,f,c,g){var v=this,p=this.usePaths()&&u!=="triangle-cross",m=!1,w,S=e,x={x:f,y:c},D=n.pstyle("arrow-scale").value,C=this.getArrowWidth(a,D),T=v.arrowShapes[u];if(p){var R=v.arrowPathCache=v.arrowPathCache||[],M=ls(u),O=R[M];O!=null?(w=e=O,m=!0):(w=e=new Path2D,R[M]=w)}m||(e.beginPath&&e.beginPath(),p?T.draw(e,1,0,{x:0,y:0},1):T.draw(e,C,g,x,a),e.closePath&&e.closePath()),e=S,p&&(e.translate(f,c),e.rotate(g),e.scale(C,C)),(t==="filled"||t==="both")&&(p?e.fill(w):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=l/(p?C:1),e.lineJoin="miter",p?e.stroke(w):e.stroke()),p&&(e.scale(1/C,1/C),e.rotate(-g),e.translate(-f,-c))};var I0={};I0.safeDrawImage=function(n,e,t,a,u,l,f,c,g,v){if(!(u<=0||l<=0||g<=0||v<=0))try{n.drawImage(e,t,a,u,l,f,c,g,v)}catch(p){nn(p)}};I0.drawInscribedImage=function(n,e,t,a,u){var l=this,f=t.position(),c=f.x,g=f.y,v=t.cy().style(),p=v.getIndexedStyle.bind(v),m=p(t,"background-fit","value",a),w=p(t,"background-repeat","value",a),S=t.width(),x=t.height(),D=t.padding()*2,C=S+(p(t,"background-width-relative-to","value",a)==="inner"?0:D),T=x+(p(t,"background-height-relative-to","value",a)==="inner"?0:D),R=t._private.rscratch,M=p(t,"background-clip","value",a),O=M==="node",N=p(t,"background-image-opacity","value",a)*u,k=p(t,"background-image-smoothing","value",a),L=t.pstyle("corner-radius").value;L!=="auto"&&(L=t.pstyle("corner-radius").pfValue);var H=e.width||e.cachedW,z=e.height||e.cachedH;(H==null||z==null)&&(document.body.appendChild(e),H=e.cachedW=e.width||e.offsetWidth,z=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=H,Y=z;if(p(t,"background-width","value",a)!=="auto"&&(p(t,"background-width","units",a)==="%"?F=p(t,"background-width","pfValue",a)*C:F=p(t,"background-width","pfValue",a)),p(t,"background-height","value",a)!=="auto"&&(p(t,"background-height","units",a)==="%"?Y=p(t,"background-height","pfValue",a)*T:Y=p(t,"background-height","pfValue",a)),!(F===0||Y===0)){if(m==="contain"){var G=Math.min(C/F,T/Y);F*=G,Y*=G}else if(m==="cover"){var G=Math.max(C/F,T/Y);F*=G,Y*=G}var Q=c-C/2,X=p(t,"background-position-x","units",a),ee=p(t,"background-position-x","pfValue",a);X==="%"?Q+=(C-F)*ee:Q+=ee;var K=p(t,"background-offset-x","units",a),W=p(t,"background-offset-x","pfValue",a);K==="%"?Q+=(C-F)*W:Q+=W;var j=g-T/2,le=p(t,"background-position-y","units",a),I=p(t,"background-position-y","pfValue",a);le==="%"?j+=(T-Y)*I:j+=I;var Z=p(t,"background-offset-y","units",a),ne=p(t,"background-offset-y","pfValue",a);Z==="%"?j+=(T-Y)*ne:j+=ne,R.pathCache&&(Q-=c,j-=g,c=0,g=0);var de=n.globalAlpha;n.globalAlpha=N;var se=l.getImgSmoothing(n),we=!1;if(k==="no"&&se?(l.setImgSmoothing(n,!1),we=!0):k==="yes"&&!se&&(l.setImgSmoothing(n,!0),we=!0),w==="no-repeat")O&&(n.save(),R.pathCache?n.clip(R.pathCache):(l.nodeShapes[l.getNodeShape(t)].draw(n,c,g,C,T,L,R),n.clip())),l.safeDrawImage(n,e,0,0,H,z,Q,j,F,Y),O&&n.restore();else{var pe=n.createPattern(e,w);n.fillStyle=pe,l.nodeShapes[l.getNodeShape(t)].draw(n,c,g,C,T,L,R),n.translate(Q,j),n.fill(),n.translate(-Q,-j)}n.globalAlpha=de,we&&l.setImgSmoothing(n,se)}};var Po={};Po.eleTextBiggerThanMin=function(n,e){if(!e){var t=n.cy().zoom(),a=this.getPixelRatio(),u=Math.ceil(x0(t*a));e=Math.pow(2,u)}var l=n.pstyle("font-size").pfValue*e,f=n.pstyle("min-zoomed-font-size").pfValue;return!(l<f)};Po.drawElementText=function(n,e,t,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=this;if(a==null){if(l&&!f.eleTextBiggerThanMin(e))return}else if(a===!1)return;if(e.isNode()){var c=e.pstyle("label");if(!c||!c.value)return;var g=f.getLabelJustification(e);n.textAlign=g,n.textBaseline="bottom"}else{var v=e.element()._private.rscratch.badLine,p=e.pstyle("label"),m=e.pstyle("source-label"),w=e.pstyle("target-label");if(v||(!p||!p.value)&&(!m||!m.value)&&(!w||!w.value))return;n.textAlign="center",n.textBaseline="bottom"}var S=!t,x;t&&(x=t,n.translate(-x.x1,-x.y1)),u==null?(f.drawText(n,e,null,S,l),e.isEdge()&&(f.drawText(n,e,"source",S,l),f.drawText(n,e,"target",S,l))):f.drawText(n,e,u,S,l),t&&n.translate(x.x1,x.y1)};Po.getFontCache=function(n){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===n)return e;return e={context:n},this.fontCaches.push(e),e};Po.setupTextStyle=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,f=e.pstyle("font-weight").strValue,c=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,g=e.pstyle("text-outline-opacity").value*c,v=e.pstyle("color").value,p=e.pstyle("text-outline-color").value;n.font=a+" "+f+" "+u+" "+l,n.lineJoin="round",this.colorFillStyle(n,v[0],v[1],v[2],c),this.colorStrokeStyle(n,p[0],p[1],p[2],g)};function Xy(n,e,t,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,f=arguments.length>6?arguments[6]:void 0;n.beginPath(),n.moveTo(e+l,t),n.lineTo(e+a-l,t),n.quadraticCurveTo(e+a,t,e+a,t+l),n.lineTo(e+a,t+u-l),n.quadraticCurveTo(e+a,t+u,e+a-l,t+u),n.lineTo(e+l,t+u),n.quadraticCurveTo(e,t+u,e,t+u-l),n.lineTo(e,t+l),n.quadraticCurveTo(e,t,e+l,t),n.closePath(),f?n.stroke():n.fill()}Po.getTextAngle=function(n,e){var t,a=n._private,u=a.rscratch,l=e?e+"-":"",f=n.pstyle(l+"text-rotation");if(f.strValue==="autorotate"){var c=Zi(u,"labelAngle",e);t=n.isEdge()?c:0}else f.strValue==="none"?t=0:t=f.pfValue;return t};Po.drawText=function(n,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=e._private,f=l.rscratch,c=u?e.effectiveOpacity():1;if(!(u&&(c===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var g=Zi(f,"labelX",t),v=Zi(f,"labelY",t),p,m,w=this.getLabelText(e,t);if(w!=null&&w!==""&&!isNaN(g)&&!isNaN(v)){this.setupTextStyle(n,e,u);var S=t?t+"-":"",x=Zi(f,"labelWidth",t),D=Zi(f,"labelHeight",t),C=e.pstyle(S+"text-margin-x").pfValue,T=e.pstyle(S+"text-margin-y").pfValue,R=e.isEdge(),M=e.pstyle("text-halign").value,O=e.pstyle("text-valign").value;R&&(M="center",O="center"),g+=C,v+=T;var N;switch(a?N=this.getTextAngle(e,t):N=0,N!==0&&(p=g,m=v,n.translate(p,m),n.rotate(N),g=0,v=0),O){case"top":break;case"center":v+=D/2;break;case"bottom":v+=D;break}var k=e.pstyle("text-background-opacity").value,L=e.pstyle("text-border-opacity").value,H=e.pstyle("text-border-width").pfValue,z=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,Y=F.indexOf("round")===0,G=2;if(k>0||H>0&&L>0){var Q=g-z;switch(M){case"left":Q-=x;break;case"center":Q-=x/2;break}var X=v-D-z,ee=x+2*z,K=D+2*z;if(k>0){var W=n.fillStyle,j=e.pstyle("text-background-color").value;n.fillStyle="rgba("+j[0]+","+j[1]+","+j[2]+","+k*c+")",Y?Xy(n,Q,X,ee,K,G):n.fillRect(Q,X,ee,K),n.fillStyle=W}if(H>0&&L>0){var le=n.strokeStyle,I=n.lineWidth,Z=e.pstyle("text-border-color").value,ne=e.pstyle("text-border-style").value;if(n.strokeStyle="rgba("+Z[0]+","+Z[1]+","+Z[2]+","+L*c+")",n.lineWidth=H,n.setLineDash)switch(ne){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"double":n.lineWidth=H/4,n.setLineDash([]);break;case"solid":n.setLineDash([]);break}if(Y?Xy(n,Q,X,ee,K,G,"stroke"):n.strokeRect(Q,X,ee,K),ne==="double"){var de=H/2;Y?Xy(n,Q+de,X+de,ee-de*2,K-de*2,G,"stroke"):n.strokeRect(Q+de,X+de,ee-de*2,K-de*2)}n.setLineDash&&n.setLineDash([]),n.lineWidth=I,n.strokeStyle=le}}var se=2*e.pstyle("text-outline-width").pfValue;if(se>0&&(n.lineWidth=se),e.pstyle("text-wrap").value==="wrap"){var we=Zi(f,"labelWrapCachedLines",t),pe=Zi(f,"labelLineHeight",t),Re=x/2,xe=this.getLabelJustification(e);switch(xe==="auto"||(M==="left"?xe==="left"?g+=-x:xe==="center"&&(g+=-Re):M==="center"?xe==="left"?g+=-Re:xe==="right"&&(g+=Re):M==="right"&&(xe==="center"?g+=Re:xe==="right"&&(g+=x))),O){case"top":v-=(we.length-1)*pe;break;case"center":case"bottom":v-=(we.length-1)*pe;break}for(var ve=0;ve<we.length;ve++)se>0&&n.strokeText(we[ve],g,v),n.fillText(we[ve],g,v),v+=pe}else se>0&&n.strokeText(w,g,v),n.fillText(w,g,v);N!==0&&(n.rotate(-N),n.translate(-p,-m))}}};var kc={};kc.drawNode=function(n,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=this,c,g,v=e._private,p=v.rscratch,m=e.position();if(!(!He(m.x)||!He(m.y))&&!(l&&!e.visible())){var w=l?e.effectiveOpacity():1,S=f.usePaths(),x,D=!1,C=e.padding();c=e.width()+2*C,g=e.height()+2*C;var T;t&&(T=t,n.translate(-T.x1,-T.y1));for(var R=e.pstyle("background-image"),M=R.value,O=new Array(M.length),N=new Array(M.length),k=0,L=0;L<M.length;L++){var H=M[L],z=O[L]=H!=null&&H!=="none";if(z){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",L);k++,N[L]=f.getCachedImage(H,F,function(){v.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var Y=e.pstyle("background-blacken").value,G=e.pstyle("border-width").pfValue,Q=e.pstyle("background-opacity").value*w,X=e.pstyle("border-color").value,ee=e.pstyle("border-style").value,K=e.pstyle("border-join").value,W=e.pstyle("border-cap").value,j=e.pstyle("border-position").value,le=e.pstyle("border-dash-pattern").pfValue,I=e.pstyle("border-dash-offset").pfValue,Z=e.pstyle("border-opacity").value*w,ne=e.pstyle("outline-width").pfValue,de=e.pstyle("outline-color").value,se=e.pstyle("outline-style").value,we=e.pstyle("outline-opacity").value*w,pe=e.pstyle("outline-offset").value,Re=e.pstyle("corner-radius").value;Re!=="auto"&&(Re=e.pstyle("corner-radius").pfValue);var xe=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q;f.eleFillStyle(n,e,he)},ve=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z;f.colorStrokeStyle(n,X[0],X[1],X[2],he)},re=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:we;f.colorStrokeStyle(n,de[0],de[1],de[2],he)},be=function(he,me,Ie,Ae){var ke=f.nodePathCache=f.nodePathCache||[],et=Vb(Ie==="polygon"?Ie+","+Ae.join(","):Ie,""+me,""+he,""+Re),nt=ke[et],qe,vt=!1;return nt!=null?(qe=nt,vt=!0,p.pathCache=qe):(qe=new Path2D,ke[et]=p.pathCache=qe),{path:qe,cacheHit:vt}},_e=e.pstyle("shape").strValue,Ue=e.pstyle("shape-polygon-points").pfValue;if(S){n.translate(m.x,m.y);var Pe=be(c,g,_e,Ue);x=Pe.path,D=Pe.cacheHit}var gt=function(){if(!D){var he=m;S&&(he={x:0,y:0}),f.nodeShapes[f.getNodeShape(e)].draw(x||n,he.x,he.y,c,g,Re,p)}S?n.fill(x):n.fill()},_t=function(){for(var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ie=v.backgrounding,Ae=0,ke=0;ke<N.length;ke++){var et=e.cy().style().getIndexedStyle(e,"background-image-containment","value",ke);if(me&&et==="over"||!me&&et==="inside"){Ae++;continue}O[ke]&&N[ke].complete&&!N[ke].error&&(Ae++,f.drawInscribedImage(n,N[ke],e,ke,he))}v.backgrounding=Ae!==k,Ie!==v.backgrounding&&e.updateStyle(!1)},xt=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;f.hasPie(e)&&(f.drawPie(n,e,me),he&&(S||f.nodeShapes[f.getNodeShape(e)].draw(n,m.x,m.y,c,g,Re,p)))},Ge=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w,me=(Y>0?Y:-Y)*he,Ie=Y>0?0:255;Y!==0&&(f.colorFillStyle(n,Ie,Ie,Ie,me),S?n.fill(x):n.fill())},Ye=function(){if(G>0){if(n.lineWidth=G,n.lineCap=W,n.lineJoin=K,n.setLineDash)switch(ee){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash(le),n.lineDashOffset=I;break;case"solid":case"double":n.setLineDash([]);break}if(j!=="center"){if(n.save(),n.lineWidth*=2,j==="inside")S?n.clip(x):n.clip();else{var he=new Path2D;he.rect(-c/2-G,-g/2-G,c+2*G,g+2*G),he.addPath(x),n.clip(he,"evenodd")}S?n.stroke(x):n.stroke(),n.restore()}else S?n.stroke(x):n.stroke();if(ee==="double"){n.lineWidth=G/3;var me=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",S?n.stroke(x):n.stroke(),n.globalCompositeOperation=me}n.setLineDash&&n.setLineDash([])}},Je=function(){if(ne>0){if(n.lineWidth=ne,n.lineCap="butt",n.setLineDash)switch(se){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"solid":case"double":n.setLineDash([]);break}var he=m;S&&(he={x:0,y:0});var me=f.getNodeShape(e),Ie=G;j==="inside"&&(Ie=0),j==="outside"&&(Ie*=2);var Ae=(c+Ie+(ne+pe))/c,ke=(g+Ie+(ne+pe))/g,et=c*Ae,nt=g*ke,qe=f.nodeShapes[me].points,vt;if(S){var pt=be(et,nt,me,qe);vt=pt.path}if(me==="ellipse")f.drawEllipsePath(vt||n,he.x,he.y,et,nt);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(me)){var st=0,Ht=0,Wt=0;me==="round-diamond"?st=(Ie+pe+ne)*1.4:me==="round-heptagon"?(st=(Ie+pe+ne)*1.075,Wt=-(Ie/2+pe+ne)/35):me==="round-hexagon"?st=(Ie+pe+ne)*1.12:me==="round-pentagon"?(st=(Ie+pe+ne)*1.13,Wt=-(Ie/2+pe+ne)/15):me==="round-tag"?(st=(Ie+pe+ne)*1.12,Ht=(Ie/2+ne+pe)*.07):me==="round-triangle"&&(st=(Ie+pe+ne)*(Math.PI/2),Wt=-(Ie+pe/2+ne)/Math.PI),st!==0&&(Ae=(c+st)/c,et=c*Ae,["round-hexagon","round-tag"].includes(me)||(ke=(g+st)/g,nt=g*ke)),Re=Re==="auto"?ew(et,nt):Re;for(var Mn=et/2,Wn=nt/2,sn=Re+(Ie+ne+pe)/2,kn=new Array(qe.length/2),Tn=new Array(qe.length/2),$n=0;$n<qe.length/2;$n++)kn[$n]={x:he.x+Ht+Mn*qe[$n*2],y:he.y+Wt+Wn*qe[$n*2+1]};var Fn,ur,lr,qr,Dr=kn.length;for(ur=kn[Dr-1],Fn=0;Fn<Dr;Fn++)lr=kn[Fn%Dr],qr=kn[(Fn+1)%Dr],Tn[Fn]=k0(ur,lr,qr,sn),ur=lr,lr=qr;f.drawRoundPolygonPath(vt||n,he.x+Ht,he.y+Wt,c*Ae,g*ke,qe,Tn)}else if(["roundrectangle","round-rectangle"].includes(me))Re=Re==="auto"?Lo(et,nt):Re,f.drawRoundRectanglePath(vt||n,he.x,he.y,et,nt,Re+(Ie+ne+pe)/2);else if(["cutrectangle","cut-rectangle"].includes(me))Re=Re==="auto"?T0():Re,f.drawCutRectanglePath(vt||n,he.x,he.y,et,nt,null,Re+(Ie+ne+pe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(me))Re=Re==="auto"?Lo(et,nt):Re,f.drawBottomRoundRectanglePath(vt||n,he.x,he.y,et,nt,Re+(Ie+ne+pe)/2);else if(me==="barrel")f.drawBarrelPath(vt||n,he.x,he.y,et,nt);else if(me.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(me)){var oa=(Ie+ne+pe)/c;qe=Kp(Xp(qe,oa)),f.drawPolygonPath(vt||n,he.x,he.y,c,g,qe)}else{var Vn=(Ie+ne+pe)/c;qe=Kp(Xp(qe,-Vn)),f.drawPolygonPath(vt||n,he.x,he.y,c,g,qe)}if(S?n.stroke(vt):n.stroke(),se==="double"){n.lineWidth=Ie/3;var Un=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",S?n.stroke(vt):n.stroke(),n.globalCompositeOperation=Un}n.setLineDash&&n.setLineDash([])}},Qe=function(){u&&f.drawNodeOverlay(n,e,m,c,g)},je=function(){u&&f.drawNodeUnderlay(n,e,m,c,g)},ut=function(){f.drawElementText(n,e,null,a)},lt=e.pstyle("ghost").value==="yes";if(lt){var wt=e.pstyle("ghost-offset-x").pfValue,Le=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,fe=V*w;n.translate(wt,Le),re(),Je(),xe(V*Q),gt(),_t(fe,!0),ve(V*Z),Ye(),xt(Y!==0||G!==0),_t(fe,!1),Ge(fe),n.translate(-wt,-Le)}S&&n.translate(-m.x,-m.y),je(),S&&n.translate(m.x,m.y),re(),Je(),xe(),gt(),_t(w,!0),ve(),Ye(),xt(Y!==0||G!==0),_t(w,!1),Ge(),S&&n.translate(-m.x,-m.y),ut(),Qe(),t&&n.translate(T.x1,T.y1)}};var aE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,a,u,l,f){var c=this;if(a.visible()){var g=a.pstyle("".concat(e,"-padding")).pfValue,v=a.pstyle("".concat(e,"-opacity")).value,p=a.pstyle("".concat(e,"-color")).value,m=a.pstyle("".concat(e,"-shape")).value,w=a.pstyle("".concat(e,"-corner-radius")).value;if(v>0){if(u=u||a.position(),l==null||f==null){var S=a.padding();l=a.width()+2*S,f=a.height()+2*S}c.colorFillStyle(t,p[0],p[1],p[2],v),c.nodeShapes[m].draw(t,u.x,u.y,l+g*2,f+g*2,w),t.fill()}}}};kc.drawNodeOverlay=aE("overlay");kc.drawNodeUnderlay=aE("underlay");kc.hasPie=function(n){return n=n[0],n._private.hasPie};kc.drawPie=function(n,e,t,a){e=e[0],a=a||e.position();var u=e.cy().style(),l=e.pstyle("pie-size"),f=a.x,c=a.y,g=e.width(),v=e.height(),p=Math.min(g,v)/2,m=0,w=this.usePaths();w&&(f=0,c=0),l.units==="%"?p=p*l.pfValue:l.pfValue!==void 0&&(p=l.pfValue/2);for(var S=1;S<=u.pieBackgroundN;S++){var x=e.pstyle("pie-"+S+"-background-size").value,D=e.pstyle("pie-"+S+"-background-color").value,C=e.pstyle("pie-"+S+"-background-opacity").value*t,T=x/100;T+m>1&&(T=1-m);var R=1.5*Math.PI+2*Math.PI*m,M=2*Math.PI*T,O=R+M;x===0||m>=1||m+T>1||(n.beginPath(),n.moveTo(f,c),n.arc(f,c,p,R,O),n.closePath(),this.colorFillStyle(n,D[0],D[1],D[2],C),n.fill(),m+=T)}};var sa={},ZR=100;sa.getPixelRatio=function(){var n=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};sa.paintCache=function(n){for(var e=this.paintCaches=this.paintCaches||[],t=!0,a,u=0;u<e.length;u++)if(a=e[u],a.context===n){t=!1;break}return t&&(a={context:n},e.push(a)),a};sa.createGradientStyleFor=function(n,e,t,a,u){var l,f=this.usePaths(),c=t.pstyle(e+"-gradient-stop-colors").value,g=t.pstyle(e+"-gradient-stop-positions").pfValue;if(a==="radial-gradient")if(t.isEdge()){var v=t.sourceEndpoint(),p=t.targetEndpoint(),m=t.midpoint(),w=_o(v,m),S=_o(p,m);l=n.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(w,S))}else{var x=f?{x:0,y:0}:t.position(),D=t.paddedWidth(),C=t.paddedHeight();l=n.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(D,C))}else if(t.isEdge()){var T=t.sourceEndpoint(),R=t.targetEndpoint();l=n.createLinearGradient(T.x,T.y,R.x,R.y)}else{var M=f?{x:0,y:0}:t.position(),O=t.paddedWidth(),N=t.paddedHeight(),k=O/2,L=N/2,H=t.pstyle("background-gradient-direction").value;switch(H){case"to-bottom":l=n.createLinearGradient(M.x,M.y-L,M.x,M.y+L);break;case"to-top":l=n.createLinearGradient(M.x,M.y+L,M.x,M.y-L);break;case"to-left":l=n.createLinearGradient(M.x+k,M.y,M.x-k,M.y);break;case"to-right":l=n.createLinearGradient(M.x-k,M.y,M.x+k,M.y);break;case"to-bottom-right":case"to-right-bottom":l=n.createLinearGradient(M.x-k,M.y-L,M.x+k,M.y+L);break;case"to-top-right":case"to-right-top":l=n.createLinearGradient(M.x-k,M.y+L,M.x+k,M.y-L);break;case"to-bottom-left":case"to-left-bottom":l=n.createLinearGradient(M.x+k,M.y-L,M.x-k,M.y+L);break;case"to-top-left":case"to-left-top":l=n.createLinearGradient(M.x+k,M.y+L,M.x-k,M.y-L);break}}if(!l)return null;for(var z=g.length===c.length,F=c.length,Y=0;Y<F;Y++)l.addColorStop(z?g[Y]:Y/(F-1),"rgba("+c[Y][0]+","+c[Y][1]+","+c[Y][2]+","+u+")");return l};sa.gradientFillStyle=function(n,e,t,a){var u=this.createGradientStyleFor(n,"background",e,t,a);if(!u)return null;n.fillStyle=u};sa.colorFillStyle=function(n,e,t,a,u){n.fillStyle="rgba("+e+","+t+","+a+","+u+")"};sa.eleFillStyle=function(n,e,t){var a=e.pstyle("background-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientFillStyle(n,e,a,t);else{var u=e.pstyle("background-color").value;this.colorFillStyle(n,u[0],u[1],u[2],t)}};sa.gradientStrokeStyle=function(n,e,t,a){var u=this.createGradientStyleFor(n,"line",e,t,a);if(!u)return null;n.strokeStyle=u};sa.colorStrokeStyle=function(n,e,t,a,u){n.strokeStyle="rgba("+e+","+t+","+a+","+u+")"};sa.eleStrokeStyle=function(n,e,t){var a=e.pstyle("line-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientStrokeStyle(n,e,a,t);else{var u=e.pstyle("line-color").value;this.colorStrokeStyle(n,u[0],u[1],u[2],t)}};sa.matchCanvasSize=function(n){var e=this,t=e.data,a=e.findContainerClientCoords(),u=a[2],l=a[3],f=e.getPixelRatio(),c=e.motionBlurPxRatio;(n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(f=c);var g=u*f,v=l*f,p;if(!(g===e.canvasWidth&&v===e.canvasHeight)){e.fontCaches=null;var m=t.canvasContainer;m.style.width=u+"px",m.style.height=l+"px";for(var w=0;w<e.CANVAS_LAYERS;w++)p=t.canvases[w],p.width=g,p.height=v,p.style.width=u+"px",p.style.height=l+"px";for(var w=0;w<e.BUFFER_COUNT;w++)p=t.bufferCanvases[w],p.width=g,p.height=v,p.style.width=u+"px",p.style.height=l+"px";e.textureMult=1,f<=1&&(p=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,p.width=g*e.textureMult,p.height=v*e.textureMult),e.canvasWidth=g,e.canvasHeight=v,e.pixelRatio=f}};sa.renderTo=function(n,e,t,a){this.render({forcedContext:n,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:a})};sa.clearCanvas=function(){var n=this,e=n.data;function t(a){a.clearRect(0,0,n.canvasWidth,n.canvasHeight)}t(e.contexts[n.NODE]),t(e.contexts[n.DRAG])};sa.render=function(n){var e=this;n=n||Xb();var t=e.cy,a=n.forcedContext,u=n.drawAllLayers,l=n.drawOnlyNodeLayer,f=n.forcedZoom,c=n.forcedPan,g=n.forcedPxRatio===void 0?this.getPixelRatio():n.forcedPxRatio,v=e.data,p=v.canvasNeedsRedraw,m=e.textureOnViewport&&!a&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),w=n.motionBlur!==void 0?n.motionBlur:e.motionBlur,S=e.motionBlurPxRatio,x=t.hasCompoundNodes(),D=e.hoverData.draggingEles,C=!!(e.hoverData.selecting||e.touchData.selecting);w=w&&!a&&e.motionBlurEnabled&&!C;var T=w;a||(e.prevPxRatio!==g&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=g),!a&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),w&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(T=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!m&&(p[e.NODE]=!0,p[e.SELECT_BOX]=!0);var R=t.style(),M=t.zoom(),O=f!==void 0?f:M,N=t.pan(),k={x:N.x,y:N.y},L={zoom:M,pan:{x:N.x,y:N.y}},H=e.prevViewport,z=H===void 0||L.zoom!==H.zoom||L.pan.x!==H.pan.x||L.pan.y!==H.pan.y;!z&&!(D&&!x)&&(e.motionBlurPxRatio=1),c&&(k=c),O*=g,k.x*=g,k.y*=g;var F=e.getCachedZSortedEles();function Y(ve,re,be,_e,Ue){var Pe=ve.globalCompositeOperation;ve.globalCompositeOperation="destination-out",e.colorFillStyle(ve,255,255,255,e.motionBlurTransparency),ve.fillRect(re,be,_e,Ue),ve.globalCompositeOperation=Pe}function G(ve,re){var be,_e,Ue,Pe;!e.clearingMotionBlur&&(ve===v.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ve===v.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(be={x:N.x*S,y:N.y*S},_e=M*S,Ue=e.canvasWidth*S,Pe=e.canvasHeight*S):(be=k,_e=O,Ue=e.canvasWidth,Pe=e.canvasHeight),ve.setTransform(1,0,0,1,0,0),re==="motionBlur"?Y(ve,0,0,Ue,Pe):!a&&(re===void 0||re)&&ve.clearRect(0,0,Ue,Pe),u||(ve.translate(be.x,be.y),ve.scale(_e,_e)),c&&ve.translate(c.x,c.y),f&&ve.scale(f,f)}if(m||(e.textureDrawLastFrame=!1),m){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var Q=e.data.bufferContexts[e.TEXTURE_BUFFER];Q.setTransform(1,0,0,1,0,0),Q.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:Q,drawOnlyNodeLayer:!0,forcedPxRatio:g*e.textureMult});var L=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};L.mpan={x:(0-L.pan.x)/L.zoom,y:(0-L.pan.y)/L.zoom}}p[e.DRAG]=!1,p[e.NODE]=!1;var X=v.contexts[e.NODE],ee=e.textureCache.texture,L=e.textureCache.viewport;X.setTransform(1,0,0,1,0,0),w?Y(X,0,0,L.width,L.height):X.clearRect(0,0,L.width,L.height);var K=R.core("outside-texture-bg-color").value,W=R.core("outside-texture-bg-opacity").value;e.colorFillStyle(X,K[0],K[1],K[2],W),X.fillRect(0,0,L.width,L.height);var M=t.zoom();G(X,!1),X.clearRect(L.mpan.x,L.mpan.y,L.width/L.zoom/g,L.height/L.zoom/g),X.drawImage(ee,L.mpan.x,L.mpan.y,L.width/L.zoom/g,L.height/L.zoom/g)}else e.textureOnViewport&&!a&&(e.textureCache=null);var j=t.extent(),le=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),I=e.hideEdgesOnViewport&&le,Z=[];if(Z[e.NODE]=!p[e.NODE]&&w&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,Z[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),Z[e.DRAG]=!p[e.DRAG]&&w&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,Z[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),p[e.NODE]||u||l||Z[e.NODE]){var ne=w&&!Z[e.NODE]&&S!==1,X=a||(ne?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:v.contexts[e.NODE]),de=w&&!ne?"motionBlur":void 0;G(X,de),I?e.drawCachedNodes(X,F.nondrag,g,j):e.drawLayeredElements(X,F.nondrag,g,j),e.debug&&e.drawDebugPoints(X,F.nondrag),!u&&!w&&(p[e.NODE]=!1)}if(!l&&(p[e.DRAG]||u||Z[e.DRAG])){var ne=w&&!Z[e.DRAG]&&S!==1,X=a||(ne?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:v.contexts[e.DRAG]);G(X,w&&!ne?"motionBlur":void 0),I?e.drawCachedNodes(X,F.drag,g,j):e.drawCachedElements(X,F.drag,g,j),e.debug&&e.drawDebugPoints(X,F.drag),!u&&!w&&(p[e.DRAG]=!1)}if(this.drawSelectionRectangle(n,G),w&&S!==1){var se=v.contexts[e.NODE],we=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],pe=v.contexts[e.DRAG],Re=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],xe=function(re,be,_e){re.setTransform(1,0,0,1,0,0),_e||!T?re.clearRect(0,0,e.canvasWidth,e.canvasHeight):Y(re,0,0,e.canvasWidth,e.canvasHeight);var Ue=S;re.drawImage(be,0,0,e.canvasWidth*Ue,e.canvasHeight*Ue,0,0,e.canvasWidth,e.canvasHeight)};(p[e.NODE]||Z[e.NODE])&&(xe(se,we,Z[e.NODE]),p[e.NODE]=!1),(p[e.DRAG]||Z[e.DRAG])&&(xe(pe,Re,Z[e.DRAG]),p[e.DRAG]=!1)}e.prevViewport=L,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),w&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!m,e.mbFrames=0,p[e.NODE]=!0,p[e.DRAG]=!0,e.redraw()},ZR)),a||t.emit("render")};var Hd;sa.drawSelectionRectangle=function(n,e){var t=this,a=t.cy,u=t.data,l=a.style(),f=n.drawOnlyNodeLayer,c=n.drawAllLayers,g=u.canvasNeedsRedraw,v=n.forcedContext;if(t.showFps||!f&&g[t.SELECT_BOX]&&!c){var p=v||u.contexts[t.SELECT_BOX];if(e(p),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var m=t.cy.zoom(),w=l.core("selection-box-border-width").value/m;p.lineWidth=w,p.fillStyle="rgba("+l.core("selection-box-color").value[0]+","+l.core("selection-box-color").value[1]+","+l.core("selection-box-color").value[2]+","+l.core("selection-box-opacity").value+")",p.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),w>0&&(p.strokeStyle="rgba("+l.core("selection-box-border-color").value[0]+","+l.core("selection-box-border-color").value[1]+","+l.core("selection-box-border-color").value[2]+","+l.core("selection-box-opacity").value+")",p.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(u.bgActivePosistion&&!t.hoverData.selecting){var m=t.cy.zoom(),S=u.bgActivePosistion;p.fillStyle="rgba("+l.core("active-bg-color").value[0]+","+l.core("active-bg-color").value[1]+","+l.core("active-bg-color").value[2]+","+l.core("active-bg-opacity").value+")",p.beginPath(),p.arc(S.x,S.y,l.core("active-bg-size").pfValue/m,0,2*Math.PI),p.fill()}var x=t.lastRedrawTime;if(t.showFps&&x){x=Math.round(x);var D=Math.round(1e3/x),C="1 frame = "+x+" ms = "+D+" fps";if(p.setTransform(1,0,0,1,0,0),p.fillStyle="rgba(255, 0, 0, 0.75)",p.strokeStyle="rgba(255, 0, 0, 0.75)",p.font="30px Arial",!Hd){var T=p.measureText(C);Hd=T.actualBoundingBoxAscent}p.fillText(C,0,Hd);var R=60;p.strokeRect(0,Hd+10,250,20),p.fillRect(0,Hd+10,250*Math.min(D/R,1),20)}c||(g[t.SELECT_BOX]=!1)}};function fb(n,e,t){var a=n.createShader(e);if(n.shaderSource(a,t),n.compileShader(a),!n.getShaderParameter(a,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(a));return a}function QR(n,e,t){var a=fb(n,n.VERTEX_SHADER,e),u=fb(n,n.FRAGMENT_SHADER,t),l=n.createProgram();if(n.attachShader(l,a),n.attachShader(l,u),n.linkProgram(l),!n.getProgramParameter(l,n.LINK_STATUS))throw new Error("Could not initialize shaders");return l}function WR(n,e,t){t===void 0&&(t=e);var a=n.makeOffscreenCanvas(e,t),u=a.context=a.getContext("2d");return a.clear=function(){return u.clearRect(0,0,a.width,a.height)},a.clear(),a}function P0(n){var e=n.pixelRatio,t=n.cy.zoom(),a=n.cy.pan();return{zoom:t*e,pan:{x:a.x*e,y:a.y*e}}}function $R(n,e,t,a,u){var l=a*t+e.x,f=u*t+e.y;return f=Math.round(n.canvasHeight-f),[l,f]}function _p(n,e,t){var a=n[0]/255,u=n[1]/255,l=n[2]/255,f=e,c=t||new Array(4);return c[0]=a*f,c[1]=u*f,c[2]=l*f,c[3]=f,c}function Lp(n,e){var t=e||new Array(4);return t[0]=(n>>0&255)/255,t[1]=(n>>8&255)/255,t[2]=(n>>16&255)/255,t[3]=(n>>24&255)/255,t}function JR(n){return n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24)}function jR(n,e){var t=n.createTexture();return t.buffer=function(a){n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,a),n.generateMipmap(n.TEXTURE_2D),n.bindTexture(n.TEXTURE_2D,null)},t.deleteTexture=function(){n.deleteTexture(t)},t}function iE(n,e){switch(e){case"float":return[1,n.FLOAT,4];case"vec2":return[2,n.FLOAT,4];case"vec3":return[3,n.FLOAT,4];case"vec4":return[4,n.FLOAT,4];case"int":return[1,n.INT,4];case"ivec2":return[2,n.INT,4]}}function uE(n,e,t){switch(e){case n.FLOAT:return new Float32Array(t);case n.INT:return new Int32Array(t)}}function eM(n,e,t,a,u,l){switch(e){case n.FLOAT:return new Float32Array(t.buffer,l*a,u);case n.INT:return new Int32Array(t.buffer,l*a,u)}}function tM(n,e,t,a){var u=iE(n,e),l=hr(u,2),f=l[0],c=l[1],g=uE(n,c,a),v=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,v),n.bufferData(n.ARRAY_BUFFER,g,n.STATIC_DRAW),c===n.FLOAT?n.vertexAttribPointer(t,f,c,!1,0,0):c===n.INT&&n.vertexAttribIPointer(t,f,c,0,0),n.enableVertexAttribArray(t),n.bindBuffer(n.ARRAY_BUFFER,null),v}function Ka(n,e,t,a){var u=iE(n,t),l=hr(u,3),f=l[0],c=l[1],g=l[2],v=uE(n,c,e*f),p=f*g,m=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,m),n.bufferData(n.ARRAY_BUFFER,e*p,n.DYNAMIC_DRAW),n.enableVertexAttribArray(a),c===n.FLOAT?n.vertexAttribPointer(a,f,c,!1,p,0):c===n.INT&&n.vertexAttribIPointer(a,f,c,p,0),n.vertexAttribDivisor(a,1),n.bindBuffer(n.ARRAY_BUFFER,null);for(var w=new Array(e),S=0;S<e;S++)w[S]=eM(n,c,v,p,f,S);return m.dataArray=v,m.stride=p,m.size=f,m.getView=function(x){return w[x]},m.setPoint=function(x,D,C){var T=w[x];T[0]=D,T[1]=C},m.bufferSubData=function(x){n.bindBuffer(n.ARRAY_BUFFER,m),x?n.bufferSubData(n.ARRAY_BUFFER,0,v,0,x*f):n.bufferSubData(n.ARRAY_BUFFER,0,v)},m}function nM(n){var e=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,e);var t=n.createTexture();return n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.bindFramebuffer(n.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(a,u){n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,a,u,0,n.RGBA,n.UNSIGNED_BYTE,null)},e}var cb=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function $d(){var n=new cb(9);return cb!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function lE(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function rM(n,e,t){var a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],g=e[5],v=e[6],p=e[7],m=e[8],w=t[0],S=t[1],x=t[2],D=t[3],C=t[4],T=t[5],R=t[6],M=t[7],O=t[8];return n[0]=w*a+S*f+x*v,n[1]=w*u+S*c+x*p,n[2]=w*l+S*g+x*m,n[3]=D*a+C*f+T*v,n[4]=D*u+C*c+T*p,n[5]=D*l+C*g+T*m,n[6]=R*a+M*f+O*v,n[7]=R*u+M*c+O*p,n[8]=R*l+M*g+O*m,n}function em(n,e,t){var a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],g=e[5],v=e[6],p=e[7],m=e[8],w=t[0],S=t[1];return n[0]=a,n[1]=u,n[2]=l,n[3]=f,n[4]=c,n[5]=g,n[6]=w*a+S*f+v,n[7]=w*u+S*c+p,n[8]=w*l+S*g+m,n}function sE(n,e,t){var a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],g=e[5],v=e[6],p=e[7],m=e[8],w=Math.sin(t),S=Math.cos(t);return n[0]=S*a+w*f,n[1]=S*u+w*c,n[2]=S*l+w*g,n[3]=S*f-w*a,n[4]=S*c-w*u,n[5]=S*g-w*l,n[6]=v,n[7]=p,n[8]=m,n}function H0(n,e,t){var a=t[0],u=t[1];return n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n[3]=u*e[3],n[4]=u*e[4],n[5]=u*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function aM(n,e,t){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/t,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}var Jd={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},qd=gr({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),iM=function(){function n(e,t){vs(this,n),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=t.webglTexSize,this.rows=t.webglTexRows,this.enableWrapping=t.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=t.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=t.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return ds(n,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var a=t.w,u=t.h,l=this.texHeight,f=this.maxTexWidth,c=l/u,g=a*c,v=u*c;return g>f&&(c=f/a,g=a*c,v=u*c),{scale:c,texW:g,texH:v}}},{key:"draw",value:function(t,a,u){var l=this,f=this.atlasSize,c=this.rows,g=this.texHeight,v=this.getScale(a),p=v.scale,m=v.texW,w=v.texH,S=[null,null],x=function(M,O){if(u&&O){var N=O.context,k=M.x,L=M.row,H=k,z=g*L;N.save(),N.translate(H,z),N.scale(p,p),u(N,a),N.restore()}},D=function(){x(l.freePointer,l.canvas),S[0]={x:l.freePointer.x,y:l.freePointer.row*g,w:m,h:w},S[1]={x:l.freePointer.x+m,y:l.freePointer.row*g,w:0,h:w},l.freePointer.x+=m,l.freePointer.x==f&&(l.freePointer.x=0,l.freePointer.row++)},C=function(){var M=l.scratch,O=l.canvas;M.clear(),x({x:0,row:0},M);var N=f-l.freePointer.x,k=m-N,L=g;{var H=l.freePointer.x,z=l.freePointer.row*g,F=N;O.context.drawImage(M,0,0,F,L,H,z,F,L),S[0]={x:H,y:z,w:F,h:w}}{var Y=N,G=(l.freePointer.row+1)*g,Q=k;O&&O.context.drawImage(M,Y,0,Q,L,0,G,Q,L),S[1]={x:0,y:G,w:Q,h:w}}l.freePointer.x=k,l.freePointer.row++},T=function(){l.freePointer.x=0,l.freePointer.row++};if(this.freePointer.x+m<=f)D();else{if(this.freePointer.row>=c-1)return!1;this.freePointer.x===f?(T(),D()):this.enableWrapping?C():(T(),D())}return this.keyToLocation.set(t,S),this.needsBuffer=!0,S}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){var a=this.atlasSize,u=this.rows,l=this.getScale(t),f=l.texW;return this.freePointer.x+f>a?this.freePointer.row<u-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=jR(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),n}(),uM=function(){function n(e,t){vs(this,n),this.r=e,this.opts=t,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return ds(n,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(t){var a=this.keyToIds.get(t);return a||(a=new Set,this.keyToIds.set(t,a)),a}},{key:"_createAtlas",value:function(){var t=this.r,a=this.opts;return new iM(t,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,a=this.opts,u=a.webglTexSize,l=Math.floor(u/a.webglTexRows);this.scratch=a.createTextureCanvas(t,u,l,"scratch")}return this.scratch}},{key:"draw",value:function(t,a,u,l){if(this.styleKeyNeedsRedraw.has(a)){this.styleKeyNeedsRedraw.delete(a),this.deleteKey(t,a);var f=this.styleKeyToAtlas.get(a);f&&(f.forceGC=!0),this.styleKeyToAtlas.delete(a)}var c=this.styleKeyToAtlas.get(a);return c||(c=this.atlases[this.atlases.length-1],(!c||!c.canFit(u))&&(c=this._createAtlas(),this.atlases.push(c)),c.draw(a,u,l),this.styleKeyToAtlas.set(a,c),this.getIdsFor(a).add(t),this.idToKey.set(t,a)),c}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"deleteKey",value:function(t,a){this.idToKey.delete(t),this.getIdsFor(a).delete(t)}},{key:"checkKeyIsInvalid",value:function(t,a){if(!this.idToKey.has(t))return!1;var u=this.idToKey.get(t);return u!=a?(this.deleteKey(t,u),!0):!1}},{key:"_getKeysToCollect",value:function(){var t=new Set,a=Za(this.styleKeyToAtlas.keys()),u;try{for(a.s();!(u=a.n()).done;){var l=u.value;this.getIdsFor(l).size==0&&t.add(l)}}catch(f){a.e(f)}finally{a.f()}return t}},{key:"gc",value:function(){var t=this,a=this.atlases.some(function(w){return w.forceGC}),u=this._getKeysToCollect();if(u.size===0&&!a){console.log("nothing to garbage collect");return}var l=[],f=new Map,c=null,g=Za(this.atlases),v;try{var p=function(){var S=v.value,x=S.getKeys(),D=lM(u,x);if(D.size===0&&!S.forceGC)return l.push(S),x.forEach(function(L){return f.set(L,S)}),"continue";c||(c=t._createAtlas(),l.push(c));var C=Za(x),T;try{for(C.s();!(T=C.n()).done;){var R=T.value;if(!D.has(R)){var M=S.getOffsets(R),O=hr(M,2),N=O[0],k=O[1];c.canFit({w:N.w+k.w,h:N.h})||(c=t._createAtlas(),l.push(c)),t._copyTextureToNewAtlas(R,S,c),f.set(R,c)}}}catch(L){C.e(L)}finally{C.f()}};for(g.s();!(v=g.n()).done;)var m=p()}catch(w){g.e(w)}finally{g.f()}this.atlases=l,this.styleKeyToAtlas=f}},{key:"_copyTextureToNewAtlas",value:function(t,a,u){var l=a.getOffsets(t),f=hr(l,2),c=f[0],g=f[1];if(g.w===0)u.draw(t,c,function(w){w.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h)});else{var v=this._getScratchCanvas();v.clear(),v.context.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h),v.context.drawImage(a.canvas,g.x,g.y,g.w,g.h,c.w,0,g.w,g.h);var p=c.w+g.w,m=c.h;u.draw(t,{w:p,h:m},function(w){w.drawImage(v,0,0,p,m,0,0,p,m)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),n}();function lM(n,e){return n.intersection?n.intersection(e):new Set(Mb(n).filter(function(t){return e.has(t)}))}var sM=function(){function n(e,t){vs(this,n),this.r=e;var a=t;this.globalOptions=a,this.maxAtlases=a.webglTexPerBatch,this.atlasSize=a.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(a)}return ds(n,[{key:"_cacheScratchCanvas",value:function(t){var a=-1,u=-1,l=null,f=t.createTextureCanvas;t.createTextureCanvas=function(c,g,v,p){return p?((!l||g!=a||v!=u)&&(a=g,u=v,l=f(c,g,v)),l):f(c,g,v)}}},{key:"addRenderType",value:function(t,a){var u=new uM(this.r,this.globalOptions),l=a;this.renderTypes.set(t,ct({type:t,atlasCollection:u},l))}},{key:"getRenderTypes",value:function(){return Mb(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"invalidate",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.forceRedraw,l=u===void 0?!1:u,f=a.filterEle,c=f===void 0?function(){return!0}:f,g=a.filterType,v=g===void 0?function(){return!0}:g,p=!1,m=Za(t),w;try{for(m.s();!(w=m.n()).done;){var S=w.value;if(c(S)){var x=S.id(),D=Za(this.getRenderTypes()),C;try{for(D.s();!(C=D.n()).done;){var T=C.value;if(v(T.type)){var R=T.getKey(S);l?(T.atlasCollection.deleteKey(x,R),T.atlasCollection.styleKeyNeedsRedraw.add(R),p=!0):p|=T.atlasCollection.checkKeyIsInvalid(x,R)}}}catch(M){D.e(M)}finally{D.f()}}}}catch(M){m.e(M)}finally{m.f()}return p}},{key:"gc",value:function(){var t=Za(this.getRenderTypes()),a;try{for(t.s();!(a=t.n()).done;){var u=a.value;u.atlasCollection.gc()}}catch(l){t.e(l)}finally{t.f()}}},{key:"isRenderable",value:function(t,a){var u=this.getRenderTypeOpts(a);return u&&u.isVisible(t)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(t,a,u){var l=this.renderTypes.get(u),f=l.getKey(t),c=t.id();return l.atlasCollection.draw(c,f,a,function(g){l.drawElement(g,t,a,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(t){var a=this.batchAtlases.indexOf(t);if(a<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(t),a=this.batchAtlases.length-1}return a}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(t,a){return a})}},{key:"getAtlasInfo",value:function(t,a){var u=this.renderTypes.get(a),l=u.getBoundingBox(t),f=this.getOrCreateAtlas(t,l,a),c=this.getAtlasIndexForBatch(f);if(c!==void 0){var g=u.getKey(t),v=f.getOffsets(g),p=hr(v,2),m=p[0],w=p[1];return{atlasID:c,tex:m,tex1:m,tex2:w,bb:l,type:a,styleKey:g}}}},{key:"canAddToCurrentBatch",value:function(t,a){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var u=this.renderTypes.get(a),l=u.getKey(t),f=u.atlasCollection.getAtlas(l);return f&&this.batchAtlases.includes(f)}return!0}},{key:"setTransformMatrix",value:function(t,a,u){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=a.bb,c=a.type,g=a.tex1,v=a.tex2,p=this.getRenderTypeOpts(c),m=p.getPadding?p.getPadding(u):0,w=g.w/(g.w+v.w);l||(w=1-w);var S=this.getAdjustedBB(f,m,l,w),x,D;lE(t);var C=p.getRotation?p.getRotation(u):0;if(C!==0){var T=p.getRotationPoint(u),R=T.x,M=T.y;em(t,t,[R,M]),sE(t,t,C);var O=p.getRotationOffset(u);x=O.x+S.xOffset,D=O.y}else x=S.x1,D=S.y1;em(t,t,[x,D]),H0(t,t,[S.w,S.h])}},{key:"getTransformMatrix",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=$d();return this.setTransformMatrix(l,t,a,u),l}},{key:"getAdjustedBB",value:function(t,a,u,l){var f=t.x1,c=t.y1,g=t.w,v=t.h;a&&(f-=a,c-=a,g+=2*a,v+=2*a);var p=0,m=g*l;return u&&l<1?g=m:!u&&l<1&&(p=g-m,f+=p,g=m),{x1:f,y1:c,w:g,h:v,xOffset:p}}},{key:"getDebugInfo",value:function(){var t=[],a=Za(this.renderTypes),u;try{for(a.s();!(u=a.n()).done;){var l=hr(u.value,2),f=l[0],c=l[1],g=c.atlasCollection.getCounts(),v=g.keyCount,p=g.atlasCount;t.push({type:f,keyCount:v,atlasCount:p})}}catch(m){a.e(m)}finally{a.f()}return t}}]),n}(),Zy=0,vb=1,db=2,Qy=3,oM=function(){function n(e,t,a){vs(this,n),this.r=e,this.gl=t,this.maxInstances=a.webglBatchSize,this.maxAtlases=a.webglTexPerBatch,this.atlasSize=a.webglTexSize,this.bgColor=a.bgColor,a.enableWrapping=!0,a.createTextureCanvas=WR,this.atlasManager=new sM(e,a),this.program=this.createShaderProgram(Jd.SCREEN),this.pickingProgram=this.createShaderProgram(Jd.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return ds(n,[{key:"addTextureRenderType",value:function(t,a){this.atlasManager.addRenderType(t,a)}},{key:"invalidate",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.type,l=this.atlasManager;return u?l.invalidate(t,{filterType:function(c){return c===u},forceRedraw:!0}):l.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(t){var a=this.gl,u=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Zy,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(vb,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(db,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(Qy,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),l=this.atlasManager.getIndexArray(),f=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(l.map(function(v){return"uniform sampler2D uTexture".concat(v,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Zy,`) {
          `).concat(l.map(function(v){return"if(vAtlasId == ".concat(v,") outColor = texture(uTexture").concat(v,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(Qy,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),c=QR(a,u,f);c.aPosition=a.getAttribLocation(c,"aPosition"),c.aIndex=a.getAttribLocation(c,"aIndex"),c.aVertType=a.getAttribLocation(c,"aVertType"),c.aAtlasId=a.getAttribLocation(c,"aAtlasId"),c.aTex1=a.getAttribLocation(c,"aTex1"),c.aTex2=a.getAttribLocation(c,"aTex2"),c.aScaleRotate1=a.getAttribLocation(c,"aScaleRotate1"),c.aTranslate1=a.getAttribLocation(c,"aTranslate1"),c.aScaleRotate2=a.getAttribLocation(c,"aScaleRotate2"),c.aTranslate2=a.getAttribLocation(c,"aTranslate2"),c.aPointAPointB=a.getAttribLocation(c,"aPointAPointB"),c.aPointCPointD=a.getAttribLocation(c,"aPointCPointD"),c.aLineWidth=a.getAttribLocation(c,"aLineWidth"),c.aEdgeColor=a.getAttribLocation(c,"aEdgeColor"),c.uPanZoomMatrix=a.getUniformLocation(c,"uPanZoomMatrix"),c.uAtlasSize=a.getUniformLocation(c,"uAtlasSize"),c.uBGColor=a.getUniformLocation(c,"uBGColor"),c.uTextures=[];for(var g=0;g<this.atlasManager.maxAtlases;g++)c.uTextures.push(a.getUniformLocation(c,"uTexture".concat(g)));return c}},{key:"createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1],a=[].concat(t,t);this.vertexCount=a.length/2;var u=this.maxInstances,l=this.gl,f=this.program,c=l.createVertexArray();return l.bindVertexArray(c),tM(l,"vec2",f.aPosition,a),this.indexBuffer=Ka(l,u,"vec4",f.aIndex),this.vertTypeBuffer=Ka(l,u,"int",f.aVertType),this.atlasIdBuffer=Ka(l,u,"int",f.aAtlasId),this.tex1Buffer=Ka(l,u,"vec4",f.aTex1),this.tex2Buffer=Ka(l,u,"vec4",f.aTex2),this.scaleRotate1Buffer=Ka(l,u,"vec4",f.aScaleRotate1),this.translate1Buffer=Ka(l,u,"vec2",f.aTranslate1),this.scaleRotate2Buffer=Ka(l,u,"vec4",f.aScaleRotate2),this.translate2Buffer=Ka(l,u,"vec2",f.aTranslate2),this.pointAPointBBuffer=Ka(l,u,"vec4",f.aPointAPointB),this.pointCPointDBuffer=Ka(l,u,"vec4",f.aPointCPointD),this.lineWidthBuffer=Ka(l,u,"float",f.aLineWidth),this.edgeColorBuffer=Ka(l,u,"vec4",f.aEdgeColor),l.bindVertexArray(null),c}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(a){return a.endsWith("Buffer")}).map(function(a){return t[a]})),this._buffers}},{key:"startFrame",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jd.SCREEN;this.panZoomMatrix=t,this.debugInfo=a,this.renderTarget=u,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||$d()}},{key:"drawTexture",value:function(t,a,u){var l=this.atlasManager;if(l.isRenderable(t,u)){l.canAddToCurrentBatch(t,u)||this.endBatch();var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=Zy;var c=this.indexBuffer.getView(f);Lp(a,c);var g=l.getAtlasInfo(t,u,g),v=g.atlasID,p=g.tex1,m=g.tex2,w=this.atlasIdBuffer.getView(f);w[0]=v;var S=this.tex1Buffer.getView(f);S[0]=p.x,S[1]=p.y,S[2]=p.w,S[3]=p.h;var x=this.tex2Buffer.getView(f);x[0]=m.x,x[1]=m.y,x[2]=m.w,x[3]=m.h;for(var D=this.getTempMatrix(),C=0,T=[1,2];C<T.length;C++){var R=T[C];l.setTransformMatrix(D,g,t,R===1);var M=this["scaleRotate".concat(R,"Buffer")].getView(f);M[0]=D[0],M[1]=D[1],M[2]=D[3],M[3]=D[4];var O=this["translate".concat(R,"Buffer")].getView(f);O[0]=D[6],O[1]=D[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(t,a,u){var l=t._private.rscratch,f,c,g;if(u==="source"?(f=l.arrowStartX,c=l.arrowStartY,g=l.srcArrowAngle):(f=l.arrowEndX,c=l.arrowEndY,g=l.tgtArrowAngle),!(isNaN(f)||f==null||isNaN(c)||c==null||isNaN(g)||g==null)){var v=t.pstyle(u+"-arrow-shape").value;if(v!=="none"){var p=t.pstyle(u+"-arrow-color").value,m=t.pstyle("opacity").value,w=t.pstyle("line-opacity").value,S=m*w,x=t.pstyle("width").pfValue,D=t.pstyle("arrow-scale").value,C=this.r.getArrowWidth(x,D),T=this.getTempMatrix();lE(T),em(T,T,[f,c]),H0(T,T,[C,C]),sE(T,T,g);var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=Qy;var M=this.indexBuffer.getView(R);Lp(a,M);var O=this.edgeColorBuffer.getView(R);_p(p,S,O);var N=this.scaleRotate1Buffer.getView(R);N[0]=T[0],N[1]=T[1],N[2]=T[3],N[3]=T[4];var k=this.translate1Buffer.getView(R);k[0]=T[6],k[1]=T[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(t,a){var u=t.pstyle("opacity").value,l=t.pstyle("line-opacity").value,f=t.pstyle("width").pfValue,c=t.pstyle("line-color").value,g=u*l,v=this.getEdgePoints(t);if(v.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),v.length==4){var p=this.instanceCount;this.vertTypeBuffer.getView(p)[0]=vb;var m=this.indexBuffer.getView(p);Lp(a,m);var w=this.edgeColorBuffer.getView(p);_p(c,g,w);var S=this.lineWidthBuffer.getView(p);S[0]=f;var x=this.pointAPointBBuffer.getView(p);x[0]=v[0],x[1]=v[1],x[2]=v[2],x[3]=v[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var D=0;D<v.length-2;D+=2){var C=this.instanceCount;this.vertTypeBuffer.getView(C)[0]=db;var T=this.indexBuffer.getView(C);Lp(a,T);var R=this.edgeColorBuffer.getView(C);_p(c,g,R);var M=this.lineWidthBuffer.getView(C);M[0]=f;var O=v[D-2],N=v[D-1],k=v[D],L=v[D+1],H=v[D+2],z=v[D+3],F=v[D+4],Y=v[D+5];D==0&&(O=2*k-H+.001,N=2*L-z+.001),D==v.length-4&&(F=2*H-k+.001,Y=2*z-L+.001);var G=this.pointAPointBBuffer.getView(C);G[0]=O,G[1]=N,G[2]=k,G[3]=L;var Q=this.pointCPointDBuffer.getView(C);Q[0]=H,Q[1]=z,Q[2]=F,Q[3]=Y,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(t){var a=t._private.rscratch,u=a.allpts;if(u.length==4)return u;var l=this.getNumSegments(t);return this.getCurveSegmentPoints(u,l)}},{key:"getNumSegments",value:function(t){var a=15;return Math.min(Math.max(a,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(t,a){if(t.length==4)return t;for(var u=Array((a+1)*2),l=0;l<=a;l++)if(l==0)u[0]=t[0],u[1]=t[1];else if(l==a)u[l*2]=t[t.length-2],u[l*2+1]=t[t.length-1];else{var f=l/a;this.setCurvePoint(t,f,u,l*2)}return u}},{key:"setCurvePoint",value:function(t,a,u,l){if(t.length<=2)u[l]=t[0],u[l+1]=t[1];else{for(var f=Array(t.length-2),c=0;c<f.length;c+=2){var g=(1-a)*t[c]+a*t[c+2],v=(1-a)*t[c+1]+a*t[c+3];f[c]=g,f[c+1]=v}return this.setCurvePoint(f,a,u,l)}}},{key:"endBatch",value:function(){var t=this.gl,a=this.vao,u=this.vertexCount,l=this.instanceCount;if(l!==0){var f=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(f),t.bindVertexArray(a);var c=Za(this.buffers),g;try{for(c.s();!(g=c.n()).done;){var v=g.value;v.bufferSubData(l)}}catch(x){c.e(x)}finally{c.f()}for(var p=this.atlasManager.getAtlases(),m=0;m<p.length;m++)p[m].bufferIfNeeded(t);for(var w=0;w<p.length;w++)t.activeTexture(t.TEXTURE0+w),t.bindTexture(t.TEXTURE_2D,p[w].texture),t.uniform1i(f.uTextures[w],w);t.uniformMatrix3fv(f.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(f.uAtlasSize,this.atlasManager.atlasSize);var S=_p(this.bgColor,1);t.uniform4fv(f.uBGColor,S),t.drawArraysInstanced(t.TRIANGLES,0,u,l),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:l,atlasCount:p.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),n}();function hb(n,e){return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e,")")}var fM=function(){function n(e){vs(this,n),this.r=e}return ds(n,[{key:"getStyleKey",value:function(t,a){var u=this.getStyle(t,a),l=u.shape,f=u.opacity,c=u.color;if(!l)return null;var g=a.width(),v=a.height(),p=hb(c,f);return ls("".concat(l,"-").concat(g,"-").concat(v,"-").concat(p))}},{key:"isVisible",value:function(t,a){var u=a.pstyle("".concat(t,"-opacity")).value;return u>0}},{key:"getStyle",value:function(t,a){var u=a.pstyle("".concat(t,"-opacity")).value,l=a.pstyle("".concat(t,"-color")).value,f=a.pstyle("".concat(t,"-shape")).value;return{opacity:u,color:l,shape:f}}},{key:"getPadding",value:function(t,a){return a.pstyle("".concat(t,"-padding")).pfValue}},{key:"draw",value:function(t,a,u,l){if(this.isVisible(t,u)){var f=this.r,c=l.w,g=l.h,v=c/2,p=g/2,m=this.getStyle(t,u),w=m.shape,S=m.color,x=m.opacity;a.save(),a.fillStyle=hb(S,x),w==="round-rectangle"||w==="roundrectangle"?f.drawRoundRectanglePath(a,v,p,c,g,"auto"):w==="ellipse"&&f.drawEllipsePath(a,v,p,c,g),a.fill(),a.restore()}}}]),n}();function cM(n){var e=n&&n.style&&n.style.backgroundColor||"white";return Nb(e)}var oE={};oE.initWebgl=function(n,e){var t=this,a=t.data.contexts[t.WEBGL],u=n.cy.container();n.bgColor=cM(u),n.webglTexSize=Math.min(n.webglTexSize,a.getParameter(a.MAX_TEXTURE_SIZE)),n.webglTexRows=Math.min(n.webglTexRows,54),n.webglBatchSize=Math.min(n.webglBatchSize,16384),n.webglTexPerBatch=Math.min(n.webglTexPerBatch,a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=n.webglDebug,t.webglDebugShowAtlases=n.webglDebugShowAtlases,console.log("max texture units",a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",a.getParameter(a.MAX_TEXTURE_SIZE)),console.log("webgl options",n),t.pickingFrameBuffer=nM(a),t.pickingFrameBuffer.needsDraw=!0;var l=function(p){return t.getTextAngle(p,null)},f=function(p){var m=p.pstyle("label");return m&&m.value};t.eleDrawing=new oM(t,a,n);var c=new fM(t);t.eleDrawing.addTextureRenderType("node-body",qd({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(p){return p.visible()}})),t.eleDrawing.addTextureRenderType("node-label",qd({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:l,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:f})),t.eleDrawing.addTextureRenderType("node-overlay",qd({getBoundingBox:e.getElementBox,getKey:function(p){return c.getStyleKey("overlay",p)},drawElement:function(p,m,w){return c.draw("overlay",p,m,w)},isVisible:function(p){return c.isVisible("overlay",p)},getPadding:function(p){return c.getPadding("overlay",p)}})),t.eleDrawing.addTextureRenderType("node-underlay",qd({getBoundingBox:e.getElementBox,getKey:function(p){return c.getStyleKey("underlay",p)},drawElement:function(p,m,w){return c.draw("underlay",p,m,w)},isVisible:function(p){return c.isVisible("underlay",p)},getPadding:function(p){return c.getPadding("underlay",p)}})),t.eleDrawing.addTextureRenderType("edge-label",qd({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:l,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:f}));var g=dh(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(v,p){var m=!1;p&&p.length>0&&(m|=t.eleDrawing.invalidate(p)),m&&g()}),vM(t)};function vM(n){{var e=n.render;n.render=function(l){l=l||{};var f=n.cy;n.webgl&&(f.zoom()>eE?(dM(n),e.call(n,l)):(hM(n),cE(n,l,Jd.SCREEN)))}}{var t=n.matchCanvasSize;n.matchCanvasSize=function(l){t.call(n,l),n.pickingFrameBuffer.setFramebufferAttachmentSizes(n.canvasWidth,n.canvasHeight),n.pickingFrameBuffer.needsDraw=!0}}n.findNearestElements=function(l,f,c,g){return wM(n,l,f)};{var a=n.invalidateCachedZSortedEles;n.invalidateCachedZSortedEles=function(){a.call(n),n.pickingFrameBuffer.needsDraw=!0}}{var u=n.notify;n.notify=function(l,f){u.call(n,l,f),l==="viewport"||l==="bounds"?n.pickingFrameBuffer.needsDraw=!0:l==="background"&&n.eleDrawing.invalidate(f,{type:"node-body"})}}}function dM(n){var e=n.data.contexts[n.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function hM(n){var e=function(a){a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.canvasWidth,n.canvasHeight),a.restore()};e(n.data.contexts[n.NODE]),e(n.data.contexts[n.DRAG])}function gM(n){var e=n.canvasWidth,t=n.canvasHeight,a=P0(n),u=a.pan,l=a.zoom,f=$d();em(f,f,[u.x,u.y]),H0(f,f,[l,l]);var c=$d();aM(c,e,t);var g=$d();return rM(g,c,f),g}function fE(n,e){var t=n.canvasWidth,a=n.canvasHeight,u=P0(n),l=u.pan,f=u.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,a),e.translate(l.x,l.y),e.scale(f,f)}function pM(n,e){n.drawSelectionRectangle(e,function(t){return fE(n,t)})}function mM(n){var e=n.data.contexts[n.NODE];e.save(),fE(n,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function yM(n){var e=function(u,l,f){for(var c=u.atlasManager.getRenderTypeOpts(l),g=n.data.contexts[n.NODE],v=.125,p=c.atlasCollection.atlases,m=0;m<p.length;m++){var w=p[m],S=w.canvas,x=S.width,D=S.height,C=x*m,T=S.height*f;g.save(),g.scale(v,v),g.drawImage(S,C,T),g.strokeStyle="black",g.rect(C,T,x,D),g.stroke(),g.restore()}},t=0;e(n.eleDrawing,"node-body",t++),e(n.eleDrawing,"node-label",t++)}function bM(n,e,t,a,u){var l,f,c,g,v=P0(n),p=v.pan,m=v.zoom;{var w=$R(n,p,m,e,t),S=hr(w,2),x=S[0],D=S[1],C=6;l=x-C/2,f=D-C/2,c=C,g=C}if(c===0||g===0)return[];var T=n.data.contexts[n.WEBGL];T.bindFramebuffer(T.FRAMEBUFFER,n.pickingFrameBuffer),n.pickingFrameBuffer.needsDraw&&(T.viewport(0,0,T.canvas.width,T.canvas.height),cE(n,null,Jd.PICKING),n.pickingFrameBuffer.needsDraw=!1);var R=c*g,M=new Uint8Array(R*4);T.readPixels(l,f,c,g,T.RGBA,T.UNSIGNED_BYTE,M),T.bindFramebuffer(T.FRAMEBUFFER,null);for(var O=new Set,N=0;N<R;N++){var k=M.slice(N*4,N*4+4),L=JR(k)-1;L>=0&&O.add(L)}return O}function wM(n,e,t){var a=bM(n,e,t),u=n.getCachedZSortedEles(),l,f,c=Za(a),g;try{for(c.s();!(g=c.n()).done;){var v=g.value,p=u[v];if(!l&&p.isNode()&&(l=p),!f&&p.isEdge()&&(f=p),l&&f)break}}catch(m){c.e(m)}finally{c.f()}return[l,f].filter(Boolean)}function cE(n,e,t){var a,u;n.webglDebug&&(u=[],a=performance.now());var l=n.eleDrawing,f=0;if(t.screen&&n.data.canvasNeedsRedraw[n.SELECT_BOX]&&pM(n,e),n.data.canvasNeedsRedraw[n.NODE]||t.picking){var c=function(G,Q){Q+=1,G.isNode()?(l.drawTexture(G,Q,"node-underlay"),l.drawTexture(G,Q,"node-body"),l.drawTexture(G,Q,"node-label"),l.drawTexture(G,Q,"node-overlay")):(l.drawEdgeLine(G,Q),l.drawEdgeArrow(G,Q,"source"),l.drawEdgeArrow(G,Q,"target"),l.drawTexture(G,Q,"edge-label"))},g=n.data.contexts[n.WEBGL];t.screen?(g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA)):g.disable(g.BLEND),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT),g.viewport(0,0,g.canvas.width,g.canvas.height);var v=gM(n),p=n.getCachedZSortedEles();if(f=p.length,l.startFrame(v,u,t),t.screen){for(var m=0;m<p.nondrag.length;m++)c(p.nondrag[m],m);for(var w=0;w<p.drag.length;w++)c(p.drag[w],-1)}else if(t.picking)for(var S=0;S<p.length;S++)c(p[S],S);l.endFrame(),n.data.gc&&(console.log("Garbage Collect!"),n.data.gc=!1,l.gc()),t.screen&&n.webglDebugShowAtlases&&(mM(n),yM(n)),n.data.canvasNeedsRedraw[n.NODE]=!1,n.data.canvasNeedsRedraw[n.DRAG]=!1}if(n.webglDebug){var x=performance.now(),D=!0,C=0,T=0,R=Za(u),M;try{for(R.s();!(M=R.n()).done;){var O=M.value;C++,T+=O.count}}catch(Y){R.e(Y)}finally{R.f()}var N=Math.ceil(x-a),k="".concat(f," elements, ").concat(T," rectangles, ").concat(C," batches");if(D)console.log("WebGL (".concat(t.name,") - ").concat(k));else{console.log("WebGL render (".concat(t.name,") - frame time ").concat(N,"ms")),console.log("  ".concat(k)),console.log("Texture Atlases Used:");var L=l.getAtlasDebugInfo(),H=Za(L),z;try{for(H.s();!(z=H.n()).done;){var F=z.value;console.log("  ".concat(F.type,": ").concat(F.keyCount," keys, ").concat(F.atlasCount," atlases"))}}catch(Y){H.e(Y)}finally{H.f()}console.log("")}}}var gs={};gs.drawPolygonPath=function(n,e,t,a,u,l){var f=a/2,c=u/2;n.beginPath&&n.beginPath(),n.moveTo(e+f*l[0],t+c*l[1]);for(var g=1;g<l.length/2;g++)n.lineTo(e+f*l[g*2],t+c*l[g*2+1]);n.closePath()};gs.drawRoundPolygonPath=function(n,e,t,a,u,l,f){f.forEach(function(c){return Yw(n,c)}),n.closePath()};gs.drawRoundRectanglePath=function(n,e,t,a,u,l){var f=a/2,c=u/2,g=l==="auto"?Lo(a,u):Math.min(l,c,f);n.beginPath&&n.beginPath(),n.moveTo(e,t-c),n.arcTo(e+f,t-c,e+f,t,g),n.arcTo(e+f,t+c,e,t+c,g),n.arcTo(e-f,t+c,e-f,t,g),n.arcTo(e-f,t-c,e,t-c,g),n.lineTo(e,t-c),n.closePath()};gs.drawBottomRoundRectanglePath=function(n,e,t,a,u,l){var f=a/2,c=u/2,g=l==="auto"?Lo(a,u):l;n.beginPath&&n.beginPath(),n.moveTo(e,t-c),n.lineTo(e+f,t-c),n.lineTo(e+f,t),n.arcTo(e+f,t+c,e,t+c,g),n.arcTo(e-f,t+c,e-f,t,g),n.lineTo(e-f,t-c),n.lineTo(e,t-c),n.closePath()};gs.drawCutRectanglePath=function(n,e,t,a,u,l,f){var c=a/2,g=u/2,v=f==="auto"?T0():f;n.beginPath&&n.beginPath(),n.moveTo(e-c+v,t-g),n.lineTo(e+c-v,t-g),n.lineTo(e+c,t-g+v),n.lineTo(e+c,t+g-v),n.lineTo(e+c-v,t+g),n.lineTo(e-c+v,t+g),n.lineTo(e-c,t+g-v),n.lineTo(e-c,t-g+v),n.closePath()};gs.drawBarrelPath=function(n,e,t,a,u){var l=a/2,f=u/2,c=e-l,g=e+l,v=t-f,p=t+f,m=jy(a,u),w=m.widthOffset,S=m.heightOffset,x=m.ctrlPtOffsetPct*w;n.beginPath&&n.beginPath(),n.moveTo(c,v+S),n.lineTo(c,p-S),n.quadraticCurveTo(c+x,p,c+w,p),n.lineTo(g-w,p),n.quadraticCurveTo(g-x,p,g,p-S),n.lineTo(g,v+S),n.quadraticCurveTo(g-x,v,g-w,v),n.lineTo(c+w,v),n.quadraticCurveTo(c+x,v,c,v+S),n.closePath()};var gb=Math.sin(0),pb=Math.cos(0),c0={},v0={},vE=Math.PI/40;for(var gc=0*Math.PI;gc<2*Math.PI;gc+=vE)c0[gc]=Math.sin(gc),v0[gc]=Math.cos(gc);gs.drawEllipsePath=function(n,e,t,a,u){if(n.beginPath&&n.beginPath(),n.ellipse)n.ellipse(e,t,a/2,u/2,0,0,2*Math.PI);else for(var l,f,c=a/2,g=u/2,v=0*Math.PI;v<2*Math.PI;v+=vE)l=e-c*c0[v]*gb+c*v0[v]*pb,f=t+g*v0[v]*gb+g*c0[v]*pb,v===0?n.moveTo(l,f):n.lineTo(l,f);n.closePath()};var bh={};bh.createBuffer=function(n,e){var t=document.createElement("canvas");return t.width=n,t.height=e,[t,t.getContext("2d")]};bh.bufferCanvasImage=function(n){var e=this.cy,t=e.mutableElements(),a=t.boundingBox(),u=this.findContainerClientCoords(),l=n.full?Math.ceil(a.w):u[2],f=n.full?Math.ceil(a.h):u[3],c=He(n.maxWidth)||He(n.maxHeight),g=this.getPixelRatio(),v=1;if(n.scale!==void 0)l*=n.scale,f*=n.scale,v=n.scale;else if(c){var p=1/0,m=1/0;He(n.maxWidth)&&(p=v*n.maxWidth/l),He(n.maxHeight)&&(m=v*n.maxHeight/f),v=Math.min(p,m),l*=v,f*=v}c||(l*=g,f*=g,v*=g);var w=document.createElement("canvas");w.width=l,w.height=f,w.style.width=l+"px",w.style.height=f+"px";var S=w.getContext("2d");if(l>0&&f>0){S.clearRect(0,0,l,f),S.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(n.full)S.translate(-a.x1*v,-a.y1*v),S.scale(v,v),this.drawElements(S,x),S.scale(1/v,1/v),S.translate(a.x1*v,a.y1*v);else{var D=e.pan(),C={x:D.x*v,y:D.y*v};v*=e.zoom(),S.translate(C.x,C.y),S.scale(v,v),this.drawElements(S,x),S.scale(1/v,1/v),S.translate(-C.x,-C.y)}n.bg&&(S.globalCompositeOperation="destination-over",S.fillStyle=n.bg,S.rect(0,0,l,f),S.fill())}return w};function EM(n,e){for(var t=atob(n),a=new ArrayBuffer(t.length),u=new Uint8Array(a),l=0;l<t.length;l++)u[l]=t.charCodeAt(l);return new Blob([a],{type:e})}function mb(n){var e=n.indexOf(",");return n.substr(e+1)}function dE(n,e,t){var a=function(){return e.toDataURL(t,n.quality)};switch(n.output){case"blob-promise":return new Rc(function(u,l){try{e.toBlob(function(f){f!=null?u(f):l(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,n.quality)}catch(f){l(f)}});case"blob":return EM(mb(a()),t);case"base64":return mb(a());case"base64uri":default:return a()}}bh.png=function(n){return dE(n,this.bufferCanvasImage(n),"image/png")};bh.jpg=function(n){return dE(n,this.bufferCanvasImage(n),"image/jpeg")};var hE={};hE.nodeShapeImpl=function(n,e,t,a,u,l,f,c){switch(n){case"ellipse":return this.drawEllipsePath(e,t,a,u,l);case"polygon":return this.drawPolygonPath(e,t,a,u,l,f);case"round-polygon":return this.drawRoundPolygonPath(e,t,a,u,l,f,c);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,a,u,l,c);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,a,u,l,f,c);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,a,u,l,c);case"barrel":return this.drawBarrelPath(e,t,a,u,l)}};var xM=gE,Ot=gE.prototype;Ot.CANVAS_LAYERS=3;Ot.SELECT_BOX=0;Ot.DRAG=1;Ot.NODE=2;Ot.WEBGL=3;Ot.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ot.BUFFER_COUNT=3;Ot.TEXTURE_BUFFER=0;Ot.MOTIONBLUR_BUFFER_NODE=1;Ot.MOTIONBLUR_BUFFER_DRAG=2;function gE(n){var e=this,t=e.cy.window(),a=t.document;n.webgl&&(Ot.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Ot.CANVAS_LAYERS),contexts:new Array(Ot.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ot.CANVAS_LAYERS),bufferCanvases:new Array(Ot.BUFFER_COUNT),bufferContexts:new Array(Ot.CANVAS_LAYERS)};var u="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";e.data.canvasContainer=a.createElement("div");var f=e.data.canvasContainer.style;e.data.canvasContainer.style[u]=l,f.position="relative",f.zIndex="0",f.overflow="hidden";var c=n.cy.container();c.appendChild(e.data.canvasContainer),c.style[u]=l;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};qx()&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var v=0;v<Ot.CANVAS_LAYERS;v++){var p=e.data.canvases[v]=a.createElement("canvas"),m=Ot.CANVAS_TYPES[v];e.data.contexts[v]=p.getContext(m),e.data.contexts[v]||zn("Could not create canvas of type "+m),Object.keys(g).forEach(function(ve){p.style[ve]=g[ve]}),p.style.position="absolute",p.setAttribute("data-id","layer"+v),p.style.zIndex=String(Ot.CANVAS_LAYERS-v),e.data.canvasContainer.appendChild(p),e.data.canvasNeedsRedraw[v]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Ot.NODE].setAttribute("data-id","layer"+Ot.NODE+"-node"),e.data.canvases[Ot.SELECT_BOX].setAttribute("data-id","layer"+Ot.SELECT_BOX+"-selectbox"),e.data.canvases[Ot.DRAG].setAttribute("data-id","layer"+Ot.DRAG+"-drag"),e.data.canvases[Ot.WEBGL]&&e.data.canvases[Ot.WEBGL].setAttribute("data-id","layer"+Ot.WEBGL+"-webgl");for(var v=0;v<Ot.BUFFER_COUNT;v++)e.data.bufferCanvases[v]=a.createElement("canvas"),e.data.bufferContexts[v]=e.data.bufferCanvases[v].getContext("2d"),e.data.bufferCanvases[v].style.position="absolute",e.data.bufferCanvases[v].setAttribute("data-id","buffer"+v),e.data.bufferCanvases[v].style.zIndex=String(-v-1),e.data.bufferCanvases[v].style.visibility="hidden";e.pathsEnabled=!0;var w=Ca(),S=function(re){return{x:(re.x1+re.x2)/2,y:(re.y1+re.y2)/2}},x=function(re){return{x:-re.w/2,y:-re.h/2}},D=function(re){var be=re[0]._private,_e=be.oldBackgroundTimestamp===be.backgroundTimestamp;return!_e},C=function(re){return re[0]._private.nodeKey},T=function(re){return re[0]._private.labelStyleKey},R=function(re){return re[0]._private.sourceLabelStyleKey},M=function(re){return re[0]._private.targetLabelStyleKey},O=function(re,be,_e,Ue,Pe){return e.drawElement(re,be,_e,!1,!1,Pe)},N=function(re,be,_e,Ue,Pe){return e.drawElementText(re,be,_e,Ue,"main",Pe)},k=function(re,be,_e,Ue,Pe){return e.drawElementText(re,be,_e,Ue,"source",Pe)},L=function(re,be,_e,Ue,Pe){return e.drawElementText(re,be,_e,Ue,"target",Pe)},H=function(re){return re.boundingBox(),re[0]._private.bodyBounds},z=function(re){return re.boundingBox(),re[0]._private.labelBounds.main||w},F=function(re){return re.boundingBox(),re[0]._private.labelBounds.source||w},Y=function(re){return re.boundingBox(),re[0]._private.labelBounds.target||w},G=function(re,be){return be},Q=function(re){return S(H(re))},X=function(re,be,_e){var Ue=re?re+"-":"";return{x:be.x+_e.pstyle(Ue+"text-margin-x").pfValue,y:be.y+_e.pstyle(Ue+"text-margin-y").pfValue}},ee=function(re,be,_e){var Ue=re[0]._private.rscratch;return{x:Ue[be],y:Ue[_e]}},K=function(re){return X("",ee(re,"labelX","labelY"),re)},W=function(re){return X("source",ee(re,"sourceLabelX","sourceLabelY"),re)},j=function(re){return X("target",ee(re,"targetLabelX","targetLabelY"),re)},le=function(re){return x(H(re))},I=function(re){return x(F(re))},Z=function(re){return x(Y(re))},ne=function(re){var be=z(re),_e=x(z(re));if(re.isNode()){switch(re.pstyle("text-halign").value){case"left":_e.x=-be.w-(be.leftPad||0);break;case"right":_e.x=-(be.rightPad||0);break}switch(re.pstyle("text-valign").value){case"top":_e.y=-be.h-(be.topPad||0);break;case"bottom":_e.y=-(be.botPad||0);break}}return _e},de=e.data.eleTxrCache=new Zd(e,{getKey:C,doesEleInvalidateKey:D,drawElement:O,getBoundingBox:H,getRotationPoint:Q,getRotationOffset:le,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),se=e.data.lblTxrCache=new Zd(e,{getKey:T,drawElement:N,getBoundingBox:z,getRotationPoint:K,getRotationOffset:ne,isVisible:G}),we=e.data.slbTxrCache=new Zd(e,{getKey:R,drawElement:k,getBoundingBox:F,getRotationPoint:W,getRotationOffset:I,isVisible:G}),pe=e.data.tlbTxrCache=new Zd(e,{getKey:M,drawElement:L,getBoundingBox:Y,getRotationPoint:j,getRotationOffset:Z,isVisible:G}),Re=e.data.lyrTxrCache=new tE(e);e.onUpdateEleCalcs(function(re,be){de.invalidateElements(be),se.invalidateElements(be),we.invalidateElements(be),pe.invalidateElements(be),Re.invalidateElements(be);for(var _e=0;_e<be.length;_e++){var Ue=be[_e]._private;Ue.oldBackgroundTimestamp=Ue.backgroundTimestamp}});var xe=function(re){for(var be=0;be<re.length;be++)Re.enqueueElementRefinement(re[be].ele)};de.onDequeue(xe),se.onDequeue(xe),we.onDequeue(xe),pe.onDequeue(xe),n.webgl&&e.initWebgl(n,{getStyleKey:C,getLabelKey:T,drawElement:O,drawLabel:N,getElementBox:H,getLabelBox:z,getElementRotationPoint:Q,getElementRotationOffset:le,getLabelRotationPoint:K,getLabelRotationOffset:ne})}Ot.redrawHint=function(n,e){var t=this;switch(n){case"eles":t.data.canvasNeedsRedraw[Ot.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[Ot.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[Ot.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var SM=typeof Path2D<"u";Ot.path2dEnabled=function(n){if(n===void 0)return this.pathsEnabled;this.pathsEnabled=!!n};Ot.usePaths=function(){return SM&&this.pathsEnabled};Ot.setImgSmoothing=function(n,e){n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled=e:(n.webkitImageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.msImageSmoothingEnabled=e)};Ot.getImgSmoothing=function(n){return n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled:n.webkitImageSmoothingEnabled||n.mozImageSmoothingEnabled||n.msImageSmoothingEnabled};Ot.makeOffscreenCanvas=function(n,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":ar(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(n,e);else{var a=this.cy.window(),u=a.document;t=u.createElement("canvas"),t.width=n,t.height=e}return t};[nE,_u,fl,I0,Po,kc,sa,oE,gs,bh,hE].forEach(function(n){ct(Ot,n)});var TM=[{name:"null",impl:Fw},{name:"base",impl:Jw},{name:"canvas",impl:xM}],CM=[{type:"layout",extensions:uR},{type:"renderer",extensions:TM}],pE={},mE={};function yE(n,e,t){var a=t,u=function(H){nn("Can not register `"+e+"` for `"+n+"` since `"+H+"` already exists in the prototype and can not be overridden")};if(n==="core"){if(oh.prototype[e])return u(e);oh.prototype[e]=t}else if(n==="collection"){if(Cr.prototype[e])return u(e);Cr.prototype[e]=t}else if(n==="layout"){for(var l=function(H){this.options=H,t.call(this,H),Yt(this._private)||(this._private={}),this._private.cy=H.cy,this._private.listeners=[],this.createEmitter()},f=l.prototype=Object.create(t.prototype),c=[],g=0;g<c.length;g++){var v=c[g];f[v]=f[v]||function(){return this}}f.start&&!f.run?f.run=function(){return this.start(),this}:!f.start&&f.run&&(f.start=function(){return this.run(),this});var p=t.prototype.stop;f.stop=function(){var L=this.options;if(L&&L.animate){var H=this.animations;if(H)for(var z=0;z<H.length;z++)H[z].stop()}return p?p.call(this):this.emit("layoutstop"),this},f.destroy||(f.destroy=function(){return this}),f.cy=function(){return this._private.cy};var m=function(H){return H._private.cy},w={addEventFields:function(H,z){z.layout=H,z.cy=m(H),z.target=H},bubble:function(){return!0},parent:function(H){return m(H)}};ct(f,{createEmitter:function(){return this._private.emitter=new cm(w,this),this},emitter:function(){return this._private.emitter},on:function(H,z){return this.emitter().on(H,z),this},one:function(H,z){return this.emitter().one(H,z),this},once:function(H,z){return this.emitter().one(H,z),this},removeListener:function(H,z){return this.emitter().removeListener(H,z),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(H,z){return this.emitter().emit(H,z),this}}),tn.eventAliasesOn(f),a=l}else if(n==="renderer"&&e!=="null"&&e!=="base"){var S=bE("renderer","base"),x=S.prototype,D=t,C=t.prototype,T=function(){S.apply(this,arguments),D.apply(this,arguments)},R=T.prototype;for(var M in x){var O=x[M],N=C[M]!=null;if(N)return u(M);R[M]=O}for(var k in C)R[k]=C[k];x.clientFunctions.forEach(function(L){R[L]=R[L]||function(){zn("Renderer does not implement `renderer."+L+"()` on its prototype")}}),a=T}else if(n==="__proto__"||n==="constructor"||n==="prototype")return zn(n+" is an illegal type to be registered, possibly lead to prototype pollutions");return kb({map:pE,keys:[n,e],value:a})}function bE(n,e){return Ub({map:pE,keys:[n,e]})}function AM(n,e,t,a,u){return kb({map:mE,keys:[n,e,t,a],value:u})}function DM(n,e,t,a){return Ub({map:mE,keys:[n,e,t,a]})}var d0=function(){if(arguments.length===2)return bE.apply(null,arguments);if(arguments.length===3)return yE.apply(null,arguments);if(arguments.length===4)return DM.apply(null,arguments);if(arguments.length===5)return AM.apply(null,arguments);zn("Invalid extension access syntax")};oh.prototype.extension=d0;CM.forEach(function(n){n.extensions.forEach(function(e){yE(n.type,e.name,e.impl)})});var wE=function n(){if(!(this instanceof n))return new n;this.length=0},ko=wE.prototype;ko.instanceString=function(){return"stylesheet"};ko.selector=function(n){var e=this.length++;return this[e]={selector:n,properties:[]},this};ko.css=function(n,e){var t=this.length-1;if(it(n))this[t].properties.push({name:n,value:e});else if(Yt(n))for(var a=n,u=Object.keys(a),l=0;l<u.length;l++){var f=u[l],c=a[f];if(c!=null){var g=kr.properties[f]||kr.properties[nm(f)];if(g!=null){var v=g.name,p=c;this[t].properties.push({name:v,value:p})}}}return this};ko.style=ko.css;ko.generateStyle=function(n){var e=new kr(n);return this.appendToStyle(e)};ko.appendToStyle=function(n){for(var e=0;e<this.length;e++){var t=this[e],a=t.selector,u=t.properties;n.selector(a);for(var l=0;l<u.length;l++){var f=u[l];n.css(f.name,f.value)}}return n};var RM="3.31.0",Uo=function(e){if(e===void 0&&(e={}),Yt(e))return new oh(e);if(it(e))return d0.apply(d0,arguments)};Uo.use=function(n){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Uo),n.apply(null,e),this};Uo.warnings=function(n){return Yb(n)};Uo.version=RM;Uo.stylesheet=Uo.Stylesheet=wE;class MM{constructor(e){Fe(this,"kind",Gt.AUTOMATON);Fe(this,"id");Fe(this,"cy");this.id=e}init(){this.cy=Uo({container:document.getElementById(this.id),elements:[],style:[{selector:"node",style:{"background-color":"#666",label:"data(id)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)"}}],layout:{name:"preset"}}),this.cy.on("tap","node, edge",e=>{console.log(e.target.id())})}fit(){var e;(e=this.cy)==null||e.fit()}addNode(e,t){var a;(a=this.cy)==null||a.add({group:"nodes",data:{id:e},position:t})}removeNode(e){var t;(t=this.cy)==null||t.remove(`node#${e}`)}renameNode(e,t){console.log(e,t)}setInitialNode(e){console.log(e)}setIsFinalNode(e,t){console.log(e,t)}addEdge(e,t,a,u){var l;(l=this.cy)==null||l.add({group:"edges",data:{id:e,source:t,target:a,label:u}})}editEdge(e,t){console.log(e,t)}removeEdge(e){var t;(t=this.cy)==null||t.remove(`edge#${e}`)}highlightElements(e){console.log(e)}clearHighlights(){}}class BM{constructor(e){Fe(this,"visual");this.visual=e}visitAddStateCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.addNode(e.stateId,{x:0,y:0})}visitRemoveStateCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.removeNode(e.stateId)}visitRenameStateCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.renameNode(e.stateId,e.newStateId)}visitSetInitialStateCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.setInitialNode(e.stateId)}visitSetStateFinalFlagCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.setIsFinalNode(e.stateId,e.shouldBeFinal)}visitAddEdgeCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.addEdge(e.edge.id,e.fromStateId,e.toStateId,e.edge.label)}visitRemoveEdgeCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.removeEdge(e.edgeId)}visitEditEdgeCommand(e){if(this.visual.kind!==Gt.AUTOMATON)throw new Error("Type mismatch");this.visual.editEdge(e.edgeId,e.edge.label)}visitAddProductionRuleCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitRemoveProductionRuleCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitAddNonterminalsCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitAddTerminalsCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitSetInitialNonterminalCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitRemoveNonterminalCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitRemoveTerminalCommand(e){throw this.visual.kind!==Gt.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}}class ps{constructor(e){Fe(this,"kind",Gt.AUTOMATON);Fe(this,"automaton");Fe(this,"backup");this.automaton=e}saveBackup(){this.backup=this.automaton.save()}undo(){this.backup&&this.automaton.restore(this.backup)}}class OM extends ps{constructor(t,a){super(t);Fe(this,"stateId");this.stateId=a}accept(t){t.visitAddStateCommand(this)}execute(){if(this.automaton.states.some(t=>t===this.stateId))return new at(`Cannot add state ${this.stateId}, as it has already been added before.`);this.saveBackup(),this.automaton.states.push(this.stateId)}}class _M extends ps{constructor(t,a){super(t);Fe(this,"stateId");this.stateId=a}accept(t){t.visitRemoveStateCommand(this)}execute(){const t=this.automaton.states.findIndex(a=>a===this.stateId);if(t===-1)return new at(`Cannot remove state ${this.stateId}, as it does not exist.`);this.saveBackup(),this.automaton.states.length>1&&t!==this.automaton.states.length-1?this.automaton.states[t]=this.automaton.states.pop():this.automaton.states.pop(),this.automaton.deltaFunctionMatrix[this.stateId]={};for(const a in this.automaton.deltaFunctionMatrix)for(const u in this.automaton.deltaFunctionMatrix[a])u===this.stateId&&(this.automaton.deltaFunctionMatrix[a][u]=[])}}class LM extends ps{constructor(t,a,u){super(t);Fe(this,"stateId");Fe(this,"newStateId");this.stateId=a,this.newStateId=u}accept(t){t.visitRenameStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new at(`Cannot edit state ${this.stateId}, as it does not exist.`);this.saveBackup(),this.automaton.states=this.automaton.states.map(t=>t===this.stateId?this.newStateId:t),this.automaton.initialStateId===this.stateId&&(this.automaton.initialStateId=this.newStateId),this.automaton.finalStateIds=this.automaton.finalStateIds.map(t=>t===this.stateId?this.newStateId:t)}}class zM extends ps{constructor(t,a,u){super(t);Fe(this,"stateId");Fe(this,"shouldBeFinal");this.stateId=a,this.shouldBeFinal=u}accept(t){t.visitSetStateFinalFlagCommand(this)}execute(){if(this.automaton.states.every(a=>a!==this.stateId))return new at(`Cannot edit state ${this.stateId}, as it does not exist.`);const t=this.automaton.finalStateIds.some(a=>a===this.stateId);t&&this.shouldBeFinal||!t&&!this.shouldBeFinal||(this.saveBackup(),this.shouldBeFinal?this.automaton.finalStateIds.push(this.stateId):this.automaton.finalStateIds=this.automaton.finalStateIds.filter(a=>a!==this.stateId))}}class NM extends ps{constructor(t,a){super(t);Fe(this,"stateId");this.stateId=a}accept(t){t.visitSetInitialStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new at(`Cannot edit state ${this.stateId}, as it does not exist.`);this.saveBackup(),this.automaton.initialStateId=this.stateId}}class kM extends ps{constructor(t,a,u,l){super(t);Fe(this,"fromStateId");Fe(this,"toStateId");Fe(this,"edge");this.fromStateId=a,this.toStateId=u,this.edge=l}accept(t){t.visitAddEdgeCommand(this)}execute(){this.saveBackup();const t=this.automaton.states.some(u=>u===this.fromStateId),a=this.automaton.states.some(u=>u===this.toStateId);if(!t||!a)return new at(`Cannot add edge. Both ${this.fromStateId} and ${this.toStateId} state IDs have to exist.`);if(this.automaton.deltaFunctionMatrix[this.fromStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId]={}),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]=[]),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].some(u=>u.equals(this.edge)))return new at("Cannot add edge, as it already exists.");this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].push(this.edge)}}class UM extends ps{constructor(t,a,u,l){super(t);Fe(this,"edgeId");Fe(this,"fromStateId");Fe(this,"toStateId");this.edgeId=l,this.fromStateId=a,this.toStateId=u}accept(t){t.visitRemoveEdgeCommand(this)}execute(){var a,u;const t=(u=(a=this.automaton.deltaFunctionMatrix[this.fromStateId])==null?void 0:a[this.toStateId])==null?void 0:u.findIndex(l=>l.id===this.edgeId);if(t===void 0)return new at(`Cannot remove edge ${this.edgeId} because one of its states does not exist.`);if(t===-1)return new at(`Cannot remove edge ${this.edgeId}, as it does not exist on states ${this.fromStateId}, ${this.toStateId}.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length>1&&t!==this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length-1?this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId][t]=this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop():this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop(),console.log(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId])}}class IM extends ps{constructor(t,a,u){super(t);Fe(this,"edgeId");Fe(this,"edge");this.edgeId=a,this.edge=u}accept(t){t.visitEditEdgeCommand(this)}execute(){return new at("Not implemented.")}}class EE{constructor(e,t,a){Fe(this,"kind",Gt.AUTOMATON);Fe(this,"mode");Fe(this,"automatonType");Fe(this,"visual");Fe(this,"visitor");Fe(this,"factory");Fe(this,"automaton");Fe(this,"simulation");this.automatonType=e,this.factory=new xx(e),this.automaton=this.factory.createAutomaton(cx),this.visual=new MM(t),this.visitor=new BM(this.visual),this.mode=a}init(){this.visual.init()}undo(){return this.automaton.undo(),new at("Not implemented.")}fit(){this.visual.fit()}addState(e,t){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");let a=this.checkStateId(e);if(a!==void 0)return a;const u=new OM(this.automaton,e);if(a=this.automaton.executeCommand(u),a!==void 0)return a;this.visual.addNode(e,t)}removeState(e){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");const t=new _M(this.automaton,e),a=this.automaton.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}renameState(e,t){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");let a=this.checkStateId(t);if(a!==void 0)return a;const u=new LM(this.automaton,e,t);if(a=this.automaton.executeCommand(u),a!==void 0)return a;u.accept(this.visitor)}setInitialState(e){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");const t=new NM(this.automaton,e),a=this.automaton.executeCommand(t);if(a!==void 0)return a;t.accept(this.visitor)}setIsFinalState(e,t){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");const a=new zM(this.automaton,e,t),u=this.automaton.executeCommand(a);if(u!==void 0)return u;a.accept(this.visitor)}addEdge(e,t,a){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");let u=this.checkEdgeProps(a);if(u!==void 0)return u;const l=this.factory.createEdge(a),f=new kM(this.automaton,e,t,l);if(u=this.automaton.executeCommand(f),u!==void 0)return u;f.accept(this.visitor)}removeEdge(e,t,a){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");const u=new UM(this.automaton,e,t,a),l=this.automaton.executeCommand(u);if(l!==void 0)return l;u.accept(this.visitor)}editEdge(e,t){if(this.mode.mode!==Xa.EDIT)return new at("Operation is only permitted in edit mode.");let a=this.checkEdgeProps(t);if(a!==void 0)return a;const u=this.factory.createEdge(t),l=new IM(this.automaton,e,u);if(a=this.automaton.executeCommand(l),a!==void 0)return a;l.accept(this.visitor)}highlight(e){return this.mode.mode!==Xa.VISUAL?new at("Operation is only permitted in visual mode."):new at(`Not implemented ${e}`)}containsWord(e){return this.automaton.createRunSimulation(e).run()}runStart(e){if(this.mode.mode!==Xa.VISUAL)return new at("Operation is only permitted in visual mode.");this.simulation=this.automaton.createRunSimulation(e)}runNext(){if(this.mode.mode!==Xa.VISUAL)return new at("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new at("Run simulation does not exist. Try starting a simulation first.");const e=new Ab(this.simulation),t=this.simulation.executeCommand(e);if(t!==void 0)return t;const a=e.getResult();if(a===void 0)return new at("Command result is empty.");this.visual.clearHighlights(),this.visual.highlightElements([a.id])}runUndo(){if(this.mode.mode!==Xa.VISUAL)return new at("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new at("Run simulation does not exist. Try starting a simulation first.");const e=this.simulation.undo();return e!==void 0?new at(e.details):new at("Not implemented.")}createEdge(e){return this.factory.createEdge(e)}checkStateId(e){if(e.trim().length===0)return new at("State ID must contain at least one non-whitespace character.");if(e.charAt(0)=="_")return new at("State ID cannot start with an underscore")}checkEdgeProps(e){if(e.inputChar.trim().length===0)return new at("Input char must contain at least one non-whitespace character.");if(this.automatonType===yi.PDA){if(e.readStackChar===void 0||e.writeStackWord===void 0)return new at("PDA edge must specify character(s) read from and written to the stack");if(e.readStackChar.trim().length===0||e.writeStackWord.length===0)return new at("Read and written stack character(s) must not contain whitespace-only symbols");for(const t in e.writeStackWord)if(t.trim().length===0)return new at("Read and written stack character(s) must not contain whitespace-only symbols")}}}var Wy={exports:{}},Fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function PM(){if(yb)return Fd;yb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,u,l){var f=null;if(l!==void 0&&(f=""+l),u.key!==void 0&&(f=""+u.key),"key"in u){l={};for(var c in u)c!=="key"&&(l[c]=u[c])}else l=u;return u=l.ref,{$$typeof:n,type:a,key:f,ref:u!==void 0?u:null,props:l}}return Fd.Fragment=e,Fd.jsx=t,Fd.jsxs=t,Fd}var bb;function HM(){return bb||(bb=1,Wy.exports=PM()),Wy.exports}var q0=HM();const ln=q0.jsx,Bo=q0.jsxs,xE=q0.Fragment,bm=mi.createContext(void 0),qM=({children:n})=>ln(bm.Provider,{value:new fx(new EE(yi.FINITE,xb,new Eb)),children:n});function FM(){const n=mi.useContext(bm),e=mi.useRef(""),t=mi.useRef(""),a=mi.useRef(""),u=mi.useRef("");if(!n)throw new Error("AutomatonWindow must be used within a CoreProvider");function l(){const m=n.primary;switch(m.kind){case Gt.AUTOMATON:{const w=m.addState(e.current,{x:200,y:50});w!==void 0&&console.log(w.details);break}case Gt.GRAMMAR:console.log("Cannot add state to grammar.");break}}function f(){const m=n.primary;switch(m.kind){case Gt.AUTOMATON:{const w=m.removeState(e.current);w!==void 0&&console.log(w.details);break}case Gt.GRAMMAR:console.log("Cannot remove state from grammar.");break}}function c(){const m=n.primary;switch(m.kind){case Gt.AUTOMATON:{const w=m.addEdge(t.current,a.current,{id:"",inputChar:u.current});w!==void 0&&console.log(w.details);break}case Gt.GRAMMAR:console.log("Cannot add edge to grammar.");break}}function g(){const m=n.primary;switch(m.kind){case Gt.AUTOMATON:{const w=m.removeEdge(t.current,a.current,e.current);w!==void 0&&console.log(w.details);break}case Gt.GRAMMAR:console.log("Cannot remove edge from grammar.");break}}function v(){const m=n==null?void 0:n.primary.undo();m!==void 0&&console.log(m.details)}function p(){const m=n.primary;switch(m.kind){case Gt.AUTOMATON:{m.fit();break}case Gt.GRAMMAR:console.log("Fit is not applicable to grammar window.");break}}return ln(xE,{children:Bo("div",{className:"row",children:[Bo("div",{className:"col-2",children:[ln("div",{children:"From:"}),ln("input",{onChange:m=>t.current=m.target.value}),ln("div",{children:"To:"}),ln("input",{onChange:m=>a.current=m.target.value})]}),Bo("div",{className:"col-2",children:[ln("div",{children:"Character:"}),ln("input",{onChange:m=>u.current=m.target.value}),ln("div",{children:"ID:"}),ln("input",{onChange:m=>e.current=m.target.value})]}),ln("div",{className:"col-2",children:Bo("div",{className:"stack",children:[ln("button",{className:"btn btn-primary",onClick:c,children:"Add edge"}),ln("button",{className:"btn btn-primary",onClick:g,children:"Remove edge"}),ln("button",{className:"btn btn-primary",onClick:l,children:"Add state"}),ln("button",{className:"btn btn-primary",onClick:f,children:"Remove state"}),ln("button",{className:"btn btn-primary",onClick:v,children:"Undo"}),ln("button",{className:"btn btn-primary",onClick:p,children:"Fit automaton to screen"})]})})]})})}class VM{constructor(){Fe(this,"inputType",{Kind:Gt.AUTOMATON,AutomatonType:yi.FINITE});Fe(this,"outputType",{Kind:Gt.AUTOMATON,AutomatonType:yi.FINITE})}init(e){return new EE(this.outputType.AutomatonType,Sb,e)}next(){}undo(){}}function wb({primary:n,cols:e}){const t=mi.useContext(bm);if(!t)throw new Error("AutomatonWindow must be used within a CoreProvider");return mi.useEffect(()=>{var a;if(n&&t.primary.kind===Gt.AUTOMATON)t.primary.init();else if(!n)t.algorithmStart(new VM),((a=t.secondary)==null?void 0:a.kind)===Gt.AUTOMATON&&t.secondary.init();else throw new Error("AutomatonWindow could not be initialized correctly")},[n,t]),ln("div",{className:`col-${e}`,children:ln("div",{id:n?xb:Sb})})}function GM({toggle:n}){if(!mi.useContext(bm))throw new Error("ToggleWindow must be used within a CoreProvider");return ln("button",{className:"btn btn-primary",onClick:n,children:"Toggle window"})}function YM(){const[n,e]=mi.useState(!1),[t,a]=mi.useState(12);return Bo(xE,{children:[ln(GM,{toggle:()=>{e(!n),a(n?12:6)}}),Bo("div",{id:"cy-window",className:"d-flex flex-row",children:[ln(wb,{primary:!0,cols:t}),n?ln(wb,{primary:!1,cols:6}):null]})]})}function KM(){return Bo(qM,{children:[ln("h1",{children:"Víla Fojálka"}),ln(FM,{}),ln(YM,{})]})}ox.createRoot(document.getElementById("root")).render(ln(mi.StrictMode,{children:ln(KM,{})}));
