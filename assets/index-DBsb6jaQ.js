var yR=Object.defineProperty;var bR=(n,e,t)=>e in n?yR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var De=(n,e,t)=>bR(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ER(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Rb={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function wR(){if(qE)return Wt;qE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function T(G,X,Z){this.props=G,this.context=X,this.refs=x,this.updater=Z||y}T.prototype.isReactComponent={},T.prototype.setState=function(G,X){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,X,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function w(){}w.prototype=T.prototype;function R(G,X,Z){this.props=G,this.context=X,this.refs=x,this.updater=Z||y}var A=R.prototype=new w;A.constructor=R,E(A,T.prototype),A.isPureReactComponent=!0;var O=Array.isArray,B={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function N(G,X,Z,J,re,ie){return Z=ie.ref,{$$typeof:n,type:G,key:X,ref:Z!==void 0?Z:null,props:ie}}function U(G,X){return N(G.type,X,void 0,void 0,void 0,G.props)}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function V(G){var X={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Z){return X[Z]})}var Y=/\/+/g;function H(G,X){return typeof G=="object"&&G!==null&&G.key!=null?V(""+G.key):X.toString(36)}function $(){}function D(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then($,$):(G.status="pending",G.then(function(X){G.status==="pending"&&(G.status="fulfilled",G.value=X)},function(X){G.status==="pending"&&(G.status="rejected",G.reason=X)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function _(G,X,Z,J,re){var ie=typeof G;(ie==="undefined"||ie==="boolean")&&(G=null);var oe=!1;if(G===null)oe=!0;else switch(ie){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(G.$$typeof){case n:case e:oe=!0;break;case v:return oe=G._init,_(oe(G._payload),X,Z,J,re)}}if(oe)return re=re(G),oe=J===""?"."+H(G,0):J,O(re)?(Z="",oe!=null&&(Z=oe.replace(Y,"$&/")+"/"),_(re,X,Z,"",function(te){return te})):re!=null&&(F(re)&&(re=U(re,Z+(re.key==null||G&&G.key===re.key?"":(""+re.key).replace(Y,"$&/")+"/")+oe)),X.push(re)),1;oe=0;var he=J===""?".":J+":";if(O(G))for(var se=0;se<G.length;se++)J=G[se],ie=he+H(J,se),oe+=_(J,X,Z,ie,re);else if(se=b(G),typeof se=="function")for(G=se.call(G),se=0;!(J=G.next()).done;)J=J.value,ie=he+H(J,se++),oe+=_(J,X,Z,ie,re);else if(ie==="object"){if(typeof G.then=="function")return _(D(G),X,Z,J,re);throw X=String(G),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return oe}function I(G,X,Z){if(G==null)return G;var J=[],re=0;return _(G,J,"","",function(ie){return X.call(Z,ie,re++)}),J}function L(G){if(G._status===-1){var X=G._result;X=X(),X.then(function(Z){(G._status===0||G._status===-1)&&(G._status=1,G._result=Z)},function(Z){(G._status===0||G._status===-1)&&(G._status=2,G._result=Z)}),G._status===-1&&(G._status=0,G._result=X)}if(G._status===1)return G._result.default;throw G._result}var k=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function K(){}return Wt.Children={map:I,forEach:function(G,X,Z){I(G,function(){X.apply(this,arguments)},Z)},count:function(G){var X=0;return I(G,function(){X++}),X},toArray:function(G){return I(G,function(X){return X})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Wt.Component=T,Wt.Fragment=t,Wt.Profiler=i,Wt.PureComponent=R,Wt.StrictMode=r,Wt.Suspense=c,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Wt.cache=function(G){return function(){return G.apply(null,arguments)}},Wt.cloneElement=function(G,X,Z){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var J=E({},G.props),re=G.key,ie=void 0;if(X!=null)for(oe in X.ref!==void 0&&(ie=void 0),X.key!==void 0&&(re=""+X.key),X)!z.call(X,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&X.ref===void 0||(J[oe]=X[oe]);var oe=arguments.length-2;if(oe===1)J.children=Z;else if(1<oe){for(var he=Array(oe),se=0;se<oe;se++)he[se]=arguments[se+2];J.children=he}return N(G.type,re,void 0,void 0,ie,J)},Wt.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Wt.createElement=function(G,X,Z){var J,re={},ie=null;if(X!=null)for(J in X.key!==void 0&&(ie=""+X.key),X)z.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=X[J]);var oe=arguments.length-2;if(oe===1)re.children=Z;else if(1<oe){for(var he=Array(oe),se=0;se<oe;se++)he[se]=arguments[se+2];re.children=he}if(G&&G.defaultProps)for(J in oe=G.defaultProps,oe)re[J]===void 0&&(re[J]=oe[J]);return N(G,ie,void 0,void 0,null,re)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(G){return{$$typeof:u,render:G}},Wt.isValidElement=F,Wt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:L}},Wt.memo=function(G,X){return{$$typeof:f,type:G,compare:X===void 0?null:X}},Wt.startTransition=function(G){var X=B.T,Z={};B.T=Z;try{var J=G(),re=B.S;re!==null&&re(Z,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(K,k)}catch(ie){k(ie)}finally{B.T=X}},Wt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Wt.use=function(G){return B.H.use(G)},Wt.useActionState=function(G,X,Z){return B.H.useActionState(G,X,Z)},Wt.useCallback=function(G,X){return B.H.useCallback(G,X)},Wt.useContext=function(G){return B.H.useContext(G)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(G,X){return B.H.useDeferredValue(G,X)},Wt.useEffect=function(G,X){return B.H.useEffect(G,X)},Wt.useId=function(){return B.H.useId()},Wt.useImperativeHandle=function(G,X,Z){return B.H.useImperativeHandle(G,X,Z)},Wt.useInsertionEffect=function(G,X){return B.H.useInsertionEffect(G,X)},Wt.useLayoutEffect=function(G,X){return B.H.useLayoutEffect(G,X)},Wt.useMemo=function(G,X){return B.H.useMemo(G,X)},Wt.useOptimistic=function(G,X){return B.H.useOptimistic(G,X)},Wt.useReducer=function(G,X,Z){return B.H.useReducer(G,X,Z)},Wt.useRef=function(G){return B.H.useRef(G)},Wt.useState=function(G){return B.H.useState(G)},Wt.useSyncExternalStore=function(G,X,Z){return B.H.useSyncExternalStore(G,X,Z)},Wt.useTransition=function(){return B.H.useTransition()},Wt.version="19.0.0",Wt}var XE;function Og(){return XE||(XE=1,Rb.exports=wR()),Rb.exports}var fe=Og();const $a=fs(fe);var Mb={exports:{}},Uv={},Ob={exports:{}},Db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function TR(){return WE||(WE=1,function(n){function e(I,L){var k=I.length;I.push(L);e:for(;0<k;){var K=k-1>>>1,G=I[K];if(0<i(G,L))I[K]=L,I[k]=G,k=K;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],k=I.pop();if(k!==L){I[0]=k;e:for(var K=0,G=I.length,X=G>>>1;K<X;){var Z=2*(K+1)-1,J=I[Z],re=Z+1,ie=I[re];if(0>i(J,k))re<G&&0>i(ie,J)?(I[K]=ie,I[re]=k,K=re):(I[K]=J,I[Z]=k,K=Z);else if(re<G&&0>i(ie,k))I[K]=ie,I[re]=k,K=re;else break e}}return L}function i(I,L){var k=I.sortIndex-L.sortIndex;return k!==0?k:I.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],f=[],v=1,g=null,b=3,y=!1,E=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function A(I){for(var L=t(f);L!==null;){if(L.callback===null)r(f);else if(L.startTime<=I)r(f),L.sortIndex=L.expirationTime,e(c,L);else break;L=t(f)}}function O(I){if(x=!1,A(I),!E)if(t(c)!==null)E=!0,D();else{var L=t(f);L!==null&&_(O,L.startTime-I)}}var B=!1,z=-1,N=5,U=-1;function F(){return!(n.unstable_now()-U<N)}function V(){if(B){var I=n.unstable_now();U=I;var L=!0;try{e:{E=!1,x&&(x=!1,w(z),z=-1),y=!0;var k=b;try{t:{for(A(I),g=t(c);g!==null&&!(g.expirationTime>I&&F());){var K=g.callback;if(typeof K=="function"){g.callback=null,b=g.priorityLevel;var G=K(g.expirationTime<=I);if(I=n.unstable_now(),typeof G=="function"){g.callback=G,A(I),L=!0;break t}g===t(c)&&r(c),A(I)}else r(c);g=t(c)}if(g!==null)L=!0;else{var X=t(f);X!==null&&_(O,X.startTime-I),L=!1}}break e}finally{g=null,b=k,y=!1}L=void 0}}finally{L?Y():B=!1}}}var Y;if(typeof R=="function")Y=function(){R(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=V,Y=function(){$.postMessage(null)}}else Y=function(){T(V,0)};function D(){B||(B=!0,Y())}function _(I,L){z=T(function(){I(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){E||y||(E=!0,D())},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(I){switch(b){case 1:case 2:case 3:var L=3;break;default:L=b}var k=b;b=L;try{return I()}finally{b=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=b;b=I;try{return L()}finally{b=k}},n.unstable_scheduleCallback=function(I,L,k){var K=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?K+k:K):k=K,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,I={id:v++,callback:L,priorityLevel:I,startTime:k,expirationTime:G,sortIndex:-1},k>K?(I.sortIndex=k,e(f,I),t(c)===null&&I===t(f)&&(x?(w(z),z=-1):x=!0,_(O,k-K))):(I.sortIndex=G,e(c,I),E||y||(E=!0,D())),I},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(I){var L=b;return function(){var k=b;b=L;try{return I.apply(this,arguments)}finally{b=k}}}}(Db)),Db}var $E;function SR(){return $E||($E=1,Ob.exports=TR()),Ob.exports}var Nb={exports:{}},ta={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function xR(){if(KE)return ta;KE=1;var n=Og();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:c,containerInfo:f,implementation:v}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ta.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ta.createPortal=function(c,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,v)},ta.flushSync=function(c){var f=l.T,v=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=f,r.p=v,r.d.f()}},ta.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ta.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ta.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var v=f.as,g=u(v,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):v==="script"&&r.d.X(c,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ta.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ta.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,g=u(v,f.crossOrigin);r.d.L(c,v,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ta.preloadModule=function(c,f){if(typeof c=="string")if(f){var v=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ta.requestFormReset=function(c){r.d.r(c)},ta.unstable_batchedUpdates=function(c,f){return c(f)},ta.useFormState=function(c,f,v){return l.H.useFormState(c,f,v)},ta.useFormStatus=function(){return l.H.useHostTransitionStatus()},ta.version="19.0.0",ta}var ZE;function H1(){if(ZE)return Nb.exports;ZE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nb.exports=xR(),Nb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function CR(){if(QE)return Uv;QE=1;var n=SR(),e=Og(),t=H1();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),y=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),O=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var N=Symbol.for("react.client.reference");function U(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===N?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case u:return"Portal";case v:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case y:return(a.displayName||"Context")+".Provider";case b:return(a._context.displayName||"Context")+".Consumer";case E:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case w:return s=a.displayName||null,s!==null?s:U(a.type)||"Memo";case R:s=a._payload,a=a._init;try{return U(a(s))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,Y,H;function $(a){if(Y===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Y=s&&s[1]||"",H=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+a+H}var D=!1;function _(a,s){if(!a||D)return"";D=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Ge){var Ne=Ge}Reflect.construct(a,[],Je)}else{try{Je.call()}catch(Ge){Ne=Ge}a.call(Je.prototype)}}else{try{throw Error()}catch(Ge){Ne=Ge}(Je=a())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Ge){if(Ge&&Ne&&typeof Ge.stack=="string")return[Ge.stack,Ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=m.DetermineComponentFrameRoot(),q=M[0],ee=M[1];if(q&&ee){var ue=q.split(`
`),Ee=ee.split(`
`);for(S=m=0;m<ue.length&&!ue[m].includes("DetermineComponentFrameRoot");)m++;for(;S<Ee.length&&!Ee[S].includes("DetermineComponentFrameRoot");)S++;if(m===ue.length||S===Ee.length)for(m=ue.length-1,S=Ee.length-1;1<=m&&0<=S&&ue[m]!==Ee[S];)S--;for(;1<=m&&0<=S;m--,S--)if(ue[m]!==Ee[S]){if(m!==1||S!==1)do if(m--,S--,0>S||ue[m]!==Ee[S]){var He=`
`+ue[m].replace(" at new "," at ");return a.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",a.displayName)),He}while(1<=m&&0<=S);break}}}finally{D=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?$(d):""}function I(a){switch(a.tag){case 26:case 27:case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 15:return a=_(a.type,!1),a;case 11:return a=_(a.type.render,!1),a;case 1:return a=_(a.type,!0),a;default:return""}}function L(a){try{var s="";do s+=I(a),a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function k(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function K(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function G(a){if(k(a)!==a)throw Error(r(188))}function X(a){var s=a.alternate;if(!s){if(s=k(a),s===null)throw Error(r(188));return s!==a?null:a}for(var d=a,m=s;;){var S=d.return;if(S===null)break;var M=S.alternate;if(M===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===M.child){for(M=S.child;M;){if(M===d)return G(S),a;if(M===m)return G(S),s;M=M.sibling}throw Error(r(188))}if(d.return!==m.return)d=S,m=M;else{for(var q=!1,ee=S.child;ee;){if(ee===d){q=!0,d=S,m=M;break}if(ee===m){q=!0,m=S,d=M;break}ee=ee.sibling}if(!q){for(ee=M.child;ee;){if(ee===d){q=!0,d=M,m=S;break}if(ee===m){q=!0,m=M,d=S;break}ee=ee.sibling}if(!q)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:s}function Z(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=Z(a),s!==null)return s;a=a.sibling}return null}var J=Array.isArray,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},oe=[],he=-1;function se(a){return{current:a}}function te(a){0>he||(a.current=oe[he],oe[he]=null,he--)}function ae(a,s){he++,oe[he]=a.current,a.current=s}var le=se(null),me=se(null),_e=se(null),Ae=se(null);function et(a,s){switch(ae(_e,s),ae(me,a),ae(le,null),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Rm(s):0;break;default:if(a=a===8?s.parentNode:s,s=a.tagName,a=a.namespaceURI)a=Rm(a),s=Mm(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(le),ae(le,s)}function ot(){te(le),te(me),te(_e)}function rt(a){a.memoizedState!==null&&ae(Ae,a);var s=le.current,d=Mm(s,a.type);s!==d&&(ae(me,a),ae(le,d))}function Pe(a){me.current===a&&(te(le),te(me)),Ae.current===a&&(te(Ae),uf._currentValue=ie)}var Ve=Object.prototype.hasOwnProperty,Ke=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,at=n.unstable_shouldYield,tt=n.unstable_requestPaint,it=n.unstable_now,dt=n.unstable_getCurrentPriorityLevel,Oe=n.unstable_ImmediatePriority,j=n.unstable_UserBlockingPriority,pe=n.unstable_NormalPriority,Le=n.unstable_LowPriority,Te=n.unstable_IdlePriority,Re=n.log,ye=n.unstable_setDisableYieldValue,de=null,Se=null;function ke(a){if(Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(de,a,void 0,(a.current.flags&128)===128)}catch{}}function Ie(a){if(typeof Re=="function"&&ye(a),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(de,a)}catch{}}var Fe=Math.clz32?Math.clz32:ze,nt=Math.log,Ze=Math.LN2;function ze(a){return a>>>=0,a===0?32:31-(nt(a)/Ze|0)|0}var $e=128,ut=4194304;function St(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bt(a,s){var d=a.pendingLanes;if(d===0)return 0;var m=0,S=a.suspendedLanes,M=a.pingedLanes,q=a.warmLanes;a=a.finishedLanes!==0;var ee=d&134217727;return ee!==0?(d=ee&~S,d!==0?m=St(d):(M&=ee,M!==0?m=St(M):a||(q=ee&~q,q!==0&&(m=St(q))))):(ee=d&~S,ee!==0?m=St(ee):M!==0?m=St(M):a||(q=d&~q,q!==0&&(m=St(q)))),m===0?0:s!==0&&s!==m&&(s&S)===0&&(S=m&-m,q=s&-s,S>=q||S===32&&(q&4194176)!==0)?s:m}function Rt(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ht(a,s){switch(a){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var a=$e;return $e<<=1,($e&4194176)===0&&($e=128),a}function At(){var a=ut;return ut<<=1,(ut&62914560)===0&&(ut=4194304),a}function vt(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function gt(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ln(a,s,d,m,S,M){var q=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var ee=a.entanglements,ue=a.expirationTimes,Ee=a.hiddenUpdates;for(d=q&~d;0<d;){var He=31-Fe(d),Je=1<<He;ee[He]=0,ue[He]=-1;var Ne=Ee[He];if(Ne!==null)for(Ee[He]=null,He=0;He<Ne.length;He++){var Ge=Ne[He];Ge!==null&&(Ge.lane&=-536870913)}d&=~Je}m!==0&&Mt(a,m,0),M!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=M&~(q&~s))}function Mt(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var m=31-Fe(s);a.entangledLanes|=s,a.entanglements[m]=a.entanglements[m]|1073741824|d&4194218}function It(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var m=31-Fe(d),S=1<<m;S&s|a[m]&s&&(a[m]|=s),d&=~S}}function Bn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function $t(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:zm(a.type))}function rn(a,s){var d=re.p;try{return re.p=a,s()}finally{re.p=d}}var Ut=Math.random().toString(36).slice(2),fn="__reactFiber$"+Ut,cn="__reactProps$"+Ut,la="__reactContainer$"+Ut,ua="__reactEvents$"+Ut,Ja="__reactListeners$"+Ut,Ti="__reactHandles$"+Ut,La="__reactResources$"+Ut,Ia="__reactMarker$"+Ut;function Ba(a){delete a[fn],delete a[cn],delete a[ua],delete a[Ja],delete a[Ti]}function xr(a){var s=a[fn];if(s)return s;for(var d=a.parentNode;d;){if(s=d[la]||d[fn]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=Dm(a);a!==null;){if(d=a[fn])return d;a=Dm(a)}return s}a=d,d=a.parentNode}return null}function _r(a){if(a=a[fn]||a[la]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function Cr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Wr(a){var s=a[La];return s||(s=a[La]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Sn(a){a[Ia]=!0}var hs=new Set,Ao={};function $n(a,s){$r(a,s),$r(a+"Capture",s)}function $r(a,s){for(Ao[a]=s,a=0;a<s.length;a++)hs.add(s[a])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dn={},Ft={};function vn(a){return Ve.call(Ft,a)?!0:Ve.call(dn,a)?!1:ja.test(a)?Ft[a]=!0:(dn[a]=!0,!1)}function fa(a,s,d){if(vn(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function hr(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function Si(a,s,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+m)}}function ca(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Uf(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function y0(a){var s=Uf(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),m=""+a[s];if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,M=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return S.call(this)},set:function(q){m=""+q,M.call(this,q)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(q){m=""+q},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function hu(a){a._valueTracker||(a._valueTracker=y0(a))}function vu(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),m="";return a&&(m=Uf(a)?a.checked?"true":"false":a.value),a=m,a!==d?(s.setValue(a),!0):!1}function gu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var b0=/[\n"\\]/g;function da(a){return a.replace(b0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zf(a,s,d,m,S,M,q,ee){a.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.type=q:a.removeAttribute("type"),s!=null?q==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ca(s)):a.value!==""+ca(s)&&(a.value=""+ca(s)):q!=="submit"&&q!=="reset"||a.removeAttribute("value"),s!=null?Vd(a,q,ca(s)):d!=null?Vd(a,q,ca(d)):m!=null&&a.removeAttribute("value"),S==null&&M!=null&&(a.defaultChecked=!!M),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?a.name=""+ca(ee):a.removeAttribute("name")}function Gf(a,s,d,m,S,M,q,ee){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.type=M),s!=null||d!=null){if(!(M!=="submit"&&M!=="reset"||s!=null))return;d=d!=null?""+ca(d):"",s=s!=null?""+ca(s):d,ee||s===a.value||(a.value=s),a.defaultValue=s}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=ee?a.checked:!!m,a.defaultChecked=!!m,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(a.name=q)}function Vd(a,s,d){s==="number"&&gu(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function vs(a,s,d,m){if(a=a.options,s){s={};for(var S=0;S<d.length;S++)s["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=s.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&m&&(a[d].defaultSelected=!0)}else{for(d=""+ca(d),s=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,m&&(a[S].defaultSelected=!0);return}s!==null||a[S].disabled||(s=a[S])}s!==null&&(s.selected=!0)}}function Hf(a,s,d){if(s!=null&&(s=""+ca(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+ca(d):""}function Vf(a,s,d,m){if(s==null){if(m!=null){if(d!=null)throw Error(r(92));if(J(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),s=d}d=ca(s),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m)}function ei(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var Xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yd(a,s,d){var m=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":m?a.setProperty(s,d):typeof d!="number"||d===0||Xg.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function Wg(a,s,d){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var S in s)m=s[S],s.hasOwnProperty(S)&&d[S]!==m&&Yd(a,S,m)}else for(var M in s)s.hasOwnProperty(M)&&Yd(a,M,s[M])}function Yf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pu(a){return Kg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var qd=null;function Xd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Zs=null,gs=null;function Zg(a){var s=_r(a);if(s&&(a=s.stateNode)){var d=a[cn]||null;e:switch(a=s.stateNode,s.type){case"input":if(zf(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+da(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var m=d[s];if(m!==a&&m.form===a.form){var S=m[cn]||null;if(!S)throw Error(r(90));zf(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(s=0;s<d.length;s++)m=d[s],m.form===a.form&&vu(m)}break e;case"textarea":Hf(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&vs(a,!!d.multiple,s,!1)}}}var Wd=!1;function Qg(a,s,d){if(Wd)return a(s,d);Wd=!0;try{var m=a(s);return m}finally{if(Wd=!1,(Zs!==null||gs!==null)&&(Pc(),Zs&&(s=Zs,a=gs,gs=Zs=null,Zg(s),a)))for(s=0;s<a.length;s++)Zg(a[s])}}function mu(a,s){var d=a.stateNode;if(d===null)return null;var m=d[cn]||null;if(m===null)return null;d=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,s,typeof d));return d}var yu=!1;if(gr)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){yu=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{yu=!1}var Ro=null,$d=null,qf=null;function Jg(){if(qf)return qf;var a,s=$d,d=s.length,m,S="value"in Ro?Ro.value:Ro.textContent,M=S.length;for(a=0;a<d&&s[a]===S[a];a++);var q=d-a;for(m=1;m<=q&&s[d-m]===S[M-m];m++);return qf=S.slice(a,1<m?1-m:void 0)}function xn(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Tn(){return!0}function jg(){return!1}function Kr(a){function s(d,m,S,M,q){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=M,this.target=q,this.currentTarget=null;for(var ee in a)a.hasOwnProperty(ee)&&(d=a[ee],this[ee]=d?d(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Tn:jg,this.isPropagationStopped=jg,this}return V(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),s}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xf=Kr(ps),Eu=V({},ps,{view:0,detail:0}),E0=Kr(Eu),Wf,Kd,jn,Qs=V({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jn&&(jn&&a.type==="mousemove"?(Wf=a.screenX-jn.screenX,Kd=a.screenY-jn.screenY):Kd=Wf=0,jn=a),Wf)},movementY:function(a){return"movementY"in a?a.movementY:Kd}}),Mo=Kr(Qs),ep=V({},Qs,{dataTransfer:0}),Zd=Kr(ep),_a=V({},Eu,{relatedTarget:0}),$f=Kr(_a),tp=V({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),np=Kr(tp),rp=V({},ps,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ap=Kr(rp),ip=V({},ps,{data:0}),Zr=Kr(ip),w0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=T0[a])?!!s[a]:!1}function xi(){return op}var Kf=V({},Eu,{key:function(a){if(a.key){var s=w0[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=xn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Pa[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(a){return a.type==="keypress"?xn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?xn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Qd=Kr(Kf),Pn=V({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Kr(Pn),Jd=V({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),S0=Kr(Jd),jd=V({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=Kr(jd),C0=V({},Qs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=Kr(C0),sp=V({},ps,{newState:0,oldState:0}),Zf=Kr(sp),Js=[9,13,27,32],eh=gr&&"CompositionEvent"in window,js=null;gr&&"documentMode"in document&&(js=document.documentMode);var lp=gr&&"TextEvent"in window&&!js,Qf=gr&&(!eh||js&&8<js&&11>=js),Jf=" ",th=!1;function up(a,s){switch(a){case"keyup":return Js.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Oo=!1;function R0(a,s){switch(a){case"compositionend":return jf(s);case"keypress":return s.which!==32?null:(th=!0,Jf);case"textInput":return a=s.data,a===Jf&&th?null:a;default:return null}}function fp(a,s){if(Oo)return a==="compositionend"||!eh&&up(a,s)?(a=Jg(),qf=$d=Ro=null,Oo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qf&&s.locale!=="ko"?null:s.data;default:return null}}var ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!ha[a.type]:s==="textarea"}function el(a,s,d,m){Zs?gs?gs.push(m):gs=[m]:Zs=m,s=zc(s,"onChange"),0<s.length&&(d=new Xf("onChange","change",null,d,m),a.push({event:d,listeners:s}))}var tl=null,nl=null;function M0(a){Cm(a,0)}function tc(a){var s=Cr(a);if(vu(s))return a}function cp(a,s){if(a==="change")return s}var dp=!1;if(gr){var nh;if(gr){var Do="oninput"in document;if(!Do){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),Do=typeof hp.oninput=="function"}nh=Do}else nh=!1;dp=nh&&(!document.documentMode||9<document.documentMode)}function vp(){tl&&(tl.detachEvent("onpropertychange",nc),nl=tl=null)}function nc(a){if(a.propertyName==="value"&&tc(nl)){var s=[];el(s,nl,a,Xd(a)),Qg(M0,s)}}function gp(a,s,d){a==="focusin"?(vp(),tl=s,nl=d,tl.attachEvent("onpropertychange",nc)):a==="focusout"&&vp()}function No(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return tc(nl)}function rc(a,s){if(a==="click")return tc(s)}function O0(a,s){if(a==="input"||a==="change")return tc(s)}function D0(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var va=typeof Object.is=="function"?Object.is:D0;function Ci(a,s){if(va(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),m=Object.keys(s);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!Ve.call(s,S)||!va(a[S],s[S]))return!1}return!0}function Fa(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function rh(a,s){var d=Fa(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=s&&m>=s)return{node:d,offset:s-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Fa(d)}}function pp(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?pp(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function mp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=gu(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=gu(a.document)}return s}function ah(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function N0(a,s){var d=mp(s);s=a.focusedElem;var m=a.selectionRange;if(d!==s&&s&&s.ownerDocument&&pp(s.ownerDocument.documentElement,s)){if(m!==null&&ah(s)){if(a=m.start,d=m.end,d===void 0&&(d=a),"selectionStart"in s)s.selectionStart=a,s.selectionEnd=Math.min(d,s.value.length);else if(d=(a=s.ownerDocument||document)&&a.defaultView||window,d.getSelection){d=d.getSelection();var S=s.textContent.length,M=Math.min(m.start,S);m=m.end===void 0?M:Math.min(m.end,S),!d.extend&&M>m&&(S=m,m=M,M=S),S=rh(s,M);var q=rh(s,m);S&&q&&(d.rangeCount!==1||d.anchorNode!==S.node||d.anchorOffset!==S.offset||d.focusNode!==q.node||d.focusOffset!==q.offset)&&(a=a.createRange(),a.setStart(S.node,S.offset),d.removeAllRanges(),M>m?(d.addRange(a),d.extend(q.node,q.offset)):(a.setEnd(q.node,q.offset),d.addRange(a)))}}for(a=[],d=s;d=d.parentNode;)d.nodeType===1&&a.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<a.length;s++)d=a[s],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var L0=gr&&"documentMode"in document&&11>=document.documentMode,ti=null,we=null,Ue=null,Be=!1;function pt(a,s,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Be||ti==null||ti!==gu(m)||(m=ti,"selectionStart"in m&&ah(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ue&&Ci(Ue,m)||(Ue=m,m=zc(we,"onSelect"),0<m.length&&(s=new Xf("onSelect","select",null,s,d),a.push({event:s,listeners:m}),s.target=ti)))}function Dt(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var jt={animationend:Dt("Animation","AnimationEnd"),animationiteration:Dt("Animation","AnimationIteration"),animationstart:Dt("Animation","AnimationStart"),transitionrun:Dt("Transition","TransitionRun"),transitionstart:Dt("Transition","TransitionStart"),transitioncancel:Dt("Transition","TransitionCancel"),transitionend:Dt("Transition","TransitionEnd")},er={},Cn={};gr&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);function Zi(a){if(er[a])return er[a];if(!jt[a])return a;var s=jt[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Cn)return er[a]=s[d];return a}var yp=Zi("animationend"),ga=Zi("animationiteration"),wu=Zi("animationstart"),I0=Zi("transitionrun"),rl=Zi("transitionstart"),ac=Zi("transitioncancel"),Tu=Zi("transitionend"),yn=new Map,bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ka(a,s){yn.set(a,s),$n(s,[a])}var Pr=[],al=0,ih=0;function ic(){for(var a=al,s=ih=al=0;s<a;){var d=Pr[s];Pr[s++]=null;var m=Pr[s];Pr[s++]=null;var S=Pr[s];Pr[s++]=null;var M=Pr[s];if(Pr[s++]=null,m!==null&&S!==null){var q=m.pending;q===null?S.next=S:(S.next=q.next,q.next=S),m.pending=S}M!==0&&oh(d,S,M)}}function ms(a,s,d,m){Pr[al++]=a,Pr[al++]=s,Pr[al++]=d,Pr[al++]=m,ih|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Ai(a,s,d,m){return ms(a,s,d,m),ys(a)}function ni(a,s){return ms(a,null,null,s),ys(a)}function oh(a,s,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var S=!1,M=a.return;M!==null;)M.childLanes|=d,m=M.alternate,m!==null&&(m.childLanes|=d),M.tag===22&&(a=M.stateNode,a===null||a._visibility&1||(S=!0)),a=M,M=M.return;S&&s!==null&&a.tag===3&&(M=a.stateNode,S=31-Fe(d),M=M.hiddenUpdates,a=M[S],a===null?M[S]=[s]:a.push(s),s.lane=d|536870912)}function ys(a){if(50<ef)throw ef=0,iv=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var bs={},sh=new WeakMap;function Fr(a,s){if(typeof a=="object"&&a!==null){var d=sh.get(a);return d!==void 0?d:(s={value:a,source:s,stack:L(s)},sh.set(a,s),s)}return{value:a,source:s,stack:L(s)}}var Es=[],Ri=0,Mi=null,ws=0,Ua=[],za=0,Ts=null,Ga=1,Ha="";function Qi(a,s){Es[Ri++]=ws,Es[Ri++]=Mi,Mi=a,ws=s}function Ep(a,s,d){Ua[za++]=Ga,Ua[za++]=Ha,Ua[za++]=Ts,Ts=a;var m=Ga;a=Ha;var S=32-Fe(m)-1;m&=~(1<<S),d+=1;var M=32-Fe(s)+S;if(30<M){var q=S-S%5;M=(m&(1<<q)-1).toString(32),m>>=q,S-=q,Ga=1<<32-Fe(s)+S|d<<S|m,Ha=M+a}else Ga=1<<M|d<<S|m,Ha=a}function oc(a){a.return!==null&&(Qi(a,1),Ep(a,1,0))}function lh(a){for(;a===Mi;)Mi=Es[--Ri],Es[Ri]=null,ws=Es[--Ri],Es[Ri]=null;for(;a===Ts;)Ts=Ua[--za],Ua[za]=null,Ha=Ua[--za],Ua[za]=null,Ga=Ua[--za],Ua[za]=null}var kr=null,en=null,Pt=!1,ri=null,Oi=!1,sc=Error(r(519));function Ss(a){var s=Error(r(418,""));throw Ji(Fr(s,a)),sc}function lc(a){var s=a.stateNode,d=a.type,m=a.memoizedProps;switch(s[fn]=a,s[cn]=m,d){case"dialog":tn("cancel",s),tn("close",s);break;case"iframe":case"object":case"embed":tn("load",s);break;case"video":case"audio":for(d=0;d<rf.length;d++)tn(rf[d],s);break;case"source":tn("error",s);break;case"img":case"image":case"link":tn("error",s),tn("load",s);break;case"details":tn("toggle",s);break;case"input":tn("invalid",s),Gf(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),hu(s);break;case"select":tn("invalid",s);break;case"textarea":tn("invalid",s),Vf(s,m.value,m.defaultValue,m.children),hu(s)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||m.suppressHydrationWarning===!0||zt(s.textContent,d)?(m.popover!=null&&(tn("beforetoggle",s),tn("toggle",s)),m.onScroll!=null&&tn("scroll",s),m.onScrollEnd!=null&&tn("scrollend",s),m.onClick!=null&&(s.onclick=Gc),s=!0):s=!1,s||Ss(a)}function il(a){for(kr=a.return;kr;)switch(kr.tag){case 3:case 27:Oi=!0;return;case 5:case 13:Oi=!1;return;default:kr=kr.return}}function xs(a){if(a!==kr)return!1;if(!Pt)return il(a),Pt=!0,!1;var s=!1,d;if((d=a.tag!==3&&a.tag!==27)&&((d=a.tag===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||of(a.type,a.memoizedProps)),d=!d),d&&(s=!0),s&&en&&Ss(a),il(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(s===0){en=vi(a.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;a=a.nextSibling}en=null}}else en=kr?vi(a.stateNode.nextSibling):null;return!0}function Di(){en=kr=null,Pt=!1}function Ji(a){ri===null?ri=[a]:ri.push(a)}var ji=Error(r(460)),Su=Error(r(474)),Lo={then:function(){}};function wp(a){return a=a.status,a==="fulfilled"||a==="rejected"}function uc(){}function Tp(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(uc,uc),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,a===ji?Error(r(483)):a;default:if(typeof s.status=="string")s.then(uc,uc);else{if(a=An,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(m){if(s.status==="pending"){var S=s;S.status="fulfilled",S.value=m}},function(m){if(s.status==="pending"){var S=s;S.status="rejected",S.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,a===ji?Error(r(483)):a}throw xu=s,ji}}var xu=null;function Sp(){if(xu===null)throw Error(r(459));var a=xu;return xu=null,a}var eo=null,to=0;function Cu(a){var s=to;return to+=1,eo===null&&(eo=[]),Tp(eo,a,s)}function Q(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function no(a,s){throw s.$$typeof===o?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Au(a){var s=a._init;return s(a._payload)}function pa(a){function s(Ce,be){if(a){var Me=Ce.deletions;Me===null?(Ce.deletions=[be],Ce.flags|=16):Me.push(be)}}function d(Ce,be){if(!a)return null;for(;be!==null;)s(Ce,be),be=be.sibling;return null}function m(Ce){for(var be=new Map;Ce!==null;)Ce.key!==null?be.set(Ce.key,Ce):be.set(Ce.index,Ce),Ce=Ce.sibling;return be}function S(Ce,be){return Ce=$o(Ce,be),Ce.index=0,Ce.sibling=null,Ce}function M(Ce,be,Me){return Ce.index=Me,a?(Me=Ce.alternate,Me!==null?(Me=Me.index,Me<be?(Ce.flags|=33554434,be):Me):(Ce.flags|=33554434,be)):(Ce.flags|=1048576,be)}function q(Ce){return a&&Ce.alternate===null&&(Ce.flags|=33554434),Ce}function ee(Ce,be,Me,Xe){return be===null||be.tag!==6?(be=Qh(Me,Ce.mode,Xe),be.return=Ce,be):(be=S(be,Me),be.return=Ce,be)}function ue(Ce,be,Me,Xe){var mt=Me.type;return mt===c?He(Ce,be,Me.props.children,Xe,Me.key):be!==null&&(be.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&Au(mt)===be.type)?(be=S(be,Me.props),Q(be,Me),be.return=Ce,be):(be=Ku(Me.type,Me.key,Me.props,null,Ce.mode,Xe),Q(be,Me),be.return=Ce,be)}function Ee(Ce,be,Me,Xe){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=Jh(Me,Ce.mode,Xe),be.return=Ce,be):(be=S(be,Me.children||[]),be.return=Ce,be)}function He(Ce,be,Me,Xe,mt){return be===null||be.tag!==7?(be=Ls(Me,Ce.mode,Xe,mt),be.return=Ce,be):(be=S(be,Me),be.return=Ce,be)}function Je(Ce,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Qh(""+be,Ce.mode,Me),be.return=Ce,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case l:return Me=Ku(be.type,be.key,be.props,null,Ce.mode,Me),Q(Me,be),Me.return=Ce,Me;case u:return be=Jh(be,Ce.mode,Me),be.return=Ce,be;case R:var Xe=be._init;return be=Xe(be._payload),Je(Ce,be,Me)}if(J(be)||z(be))return be=Ls(be,Ce.mode,Me,null),be.return=Ce,be;if(typeof be.then=="function")return Je(Ce,Cu(be),Me);if(be.$$typeof===y)return Je(Ce,Oc(Ce,be),Me);no(Ce,be)}return null}function Ne(Ce,be,Me,Xe){var mt=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return mt!==null?null:ee(Ce,be,""+Me,Xe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return Me.key===mt?ue(Ce,be,Me,Xe):null;case u:return Me.key===mt?Ee(Ce,be,Me,Xe):null;case R:return mt=Me._init,Me=mt(Me._payload),Ne(Ce,be,Me,Xe)}if(J(Me)||z(Me))return mt!==null?null:He(Ce,be,Me,Xe,null);if(typeof Me.then=="function")return Ne(Ce,be,Cu(Me),Xe);if(Me.$$typeof===y)return Ne(Ce,be,Oc(Ce,Me),Xe);no(Ce,Me)}return null}function Ge(Ce,be,Me,Xe,mt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Ce=Ce.get(Me)||null,ee(be,Ce,""+Xe,mt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:return Ce=Ce.get(Xe.key===null?Me:Xe.key)||null,ue(be,Ce,Xe,mt);case u:return Ce=Ce.get(Xe.key===null?Me:Xe.key)||null,Ee(be,Ce,Xe,mt);case R:var Kt=Xe._init;return Xe=Kt(Xe._payload),Ge(Ce,be,Me,Xe,mt)}if(J(Xe)||z(Xe))return Ce=Ce.get(Me)||null,He(be,Ce,Xe,mt,null);if(typeof Xe.then=="function")return Ge(Ce,be,Me,Cu(Xe),mt);if(Xe.$$typeof===y)return Ge(Ce,be,Me,Oc(be,Xe),mt);no(be,Xe)}return null}function Et(Ce,be,Me,Xe){for(var mt=null,Kt=null,Tt=be,Nt=be=0,gn=null;Tt!==null&&Nt<Me.length;Nt++){Tt.index>Nt?(gn=Tt,Tt=null):gn=Tt.sibling;var on=Ne(Ce,Tt,Me[Nt],Xe);if(on===null){Tt===null&&(Tt=gn);break}a&&Tt&&on.alternate===null&&s(Ce,Tt),be=M(on,be,Nt),Kt===null?mt=on:Kt.sibling=on,Kt=on,Tt=gn}if(Nt===Me.length)return d(Ce,Tt),Pt&&Qi(Ce,Nt),mt;if(Tt===null){for(;Nt<Me.length;Nt++)Tt=Je(Ce,Me[Nt],Xe),Tt!==null&&(be=M(Tt,be,Nt),Kt===null?mt=Tt:Kt.sibling=Tt,Kt=Tt);return Pt&&Qi(Ce,Nt),mt}for(Tt=m(Tt);Nt<Me.length;Nt++)gn=Ge(Tt,Ce,Nt,Me[Nt],Xe),gn!==null&&(a&&gn.alternate!==null&&Tt.delete(gn.key===null?Nt:gn.key),be=M(gn,be,Nt),Kt===null?mt=gn:Kt.sibling=gn,Kt=gn);return a&&Tt.forEach(function(ts){return s(Ce,ts)}),Pt&&Qi(Ce,Nt),mt}function kt(Ce,be,Me,Xe){if(Me==null)throw Error(r(151));for(var mt=null,Kt=null,Tt=be,Nt=be=0,gn=null,on=Me.next();Tt!==null&&!on.done;Nt++,on=Me.next()){Tt.index>Nt?(gn=Tt,Tt=null):gn=Tt.sibling;var ts=Ne(Ce,Tt,on.value,Xe);if(ts===null){Tt===null&&(Tt=gn);break}a&&Tt&&ts.alternate===null&&s(Ce,Tt),be=M(ts,be,Nt),Kt===null?mt=ts:Kt.sibling=ts,Kt=ts,Tt=gn}if(on.done)return d(Ce,Tt),Pt&&Qi(Ce,Nt),mt;if(Tt===null){for(;!on.done;Nt++,on=Me.next())on=Je(Ce,on.value,Xe),on!==null&&(be=M(on,be,Nt),Kt===null?mt=on:Kt.sibling=on,Kt=on);return Pt&&Qi(Ce,Nt),mt}for(Tt=m(Tt);!on.done;Nt++,on=Me.next())on=Ge(Tt,Ce,Nt,on.value,Xe),on!==null&&(a&&on.alternate!==null&&Tt.delete(on.key===null?Nt:on.key),be=M(on,be,Nt),Kt===null?mt=on:Kt.sibling=on,Kt=on);return a&&Tt.forEach(function(Tb){return s(Ce,Tb)}),Pt&&Qi(Ce,Nt),mt}function qn(Ce,be,Me,Xe){if(typeof Me=="object"&&Me!==null&&Me.type===c&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:e:{for(var mt=Me.key;be!==null;){if(be.key===mt){if(mt=Me.type,mt===c){if(be.tag===7){d(Ce,be.sibling),Xe=S(be,Me.props.children),Xe.return=Ce,Ce=Xe;break e}}else if(be.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&Au(mt)===be.type){d(Ce,be.sibling),Xe=S(be,Me.props),Q(Xe,Me),Xe.return=Ce,Ce=Xe;break e}d(Ce,be);break}else s(Ce,be);be=be.sibling}Me.type===c?(Xe=Ls(Me.props.children,Ce.mode,Xe,Me.key),Xe.return=Ce,Ce=Xe):(Xe=Ku(Me.type,Me.key,Me.props,null,Ce.mode,Xe),Q(Xe,Me),Xe.return=Ce,Ce=Xe)}return q(Ce);case u:e:{for(mt=Me.key;be!==null;){if(be.key===mt)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){d(Ce,be.sibling),Xe=S(be,Me.children||[]),Xe.return=Ce,Ce=Xe;break e}else{d(Ce,be);break}else s(Ce,be);be=be.sibling}Xe=Jh(Me,Ce.mode,Xe),Xe.return=Ce,Ce=Xe}return q(Ce);case R:return mt=Me._init,Me=mt(Me._payload),qn(Ce,be,Me,Xe)}if(J(Me))return Et(Ce,be,Me,Xe);if(z(Me)){if(mt=z(Me),typeof mt!="function")throw Error(r(150));return Me=mt.call(Me),kt(Ce,be,Me,Xe)}if(typeof Me.then=="function")return qn(Ce,be,Cu(Me),Xe);if(Me.$$typeof===y)return qn(Ce,be,Oc(Ce,Me),Xe);no(Ce,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(d(Ce,be.sibling),Xe=S(be,Me),Xe.return=Ce,Ce=Xe):(d(Ce,be),Xe=Qh(Me,Ce.mode,Xe),Xe.return=Ce,Ce=Xe),q(Ce)):d(Ce,be)}return function(Ce,be,Me,Xe){try{to=0;var mt=qn(Ce,be,Me,Xe);return eo=null,mt}catch(Tt){if(Tt===ji)throw Tt;var Kt=Sa(29,Tt,null,Ce.mode);return Kt.lanes=Xe,Kt.return=Ce,Kt}finally{}}}var Gt=pa(!0),xp=pa(!1),ol=se(null),fc=se(0);function Io(a,s){a=vo,ae(fc,a),ae(ol,s),vo=a|s.baseLanes}function uh(){ae(fc,vo),ae(ol,ol.current)}function fh(){vo=fc.current,te(ol),te(fc)}var Va=se(null),Ni=null;function Bo(a){var s=a.alternate;ae(lr,lr.current&1),ae(Va,a),Ni===null&&(s===null||ol.current!==null||s.memoizedState!==null)&&(Ni=a)}function Li(a){if(a.tag===22){if(ae(lr,lr.current),ae(Va,a),Ni===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(Ni=a)}}else _o()}function _o(){ae(lr,lr.current),ae(Va,Va.current)}function ro(a){te(Va),Ni===a&&(Ni=null),te(lr)}var lr=se(0);function cc(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var B0=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},ao=n.unstable_scheduleCallback,_0=n.unstable_NormalPriority,ur={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ch(){return{controller:new B0,data:new Map,refCount:0}}function Ru(a){a.refCount--,a.refCount===0&&ao(_0,function(){a.controller.abort()})}var Mu=null,io=0,sl=0,ll=null;function ai(a,s){if(Mu===null){var d=Mu=[];io=0,sl=gv(),ll={status:"pending",value:void 0,then:function(m){d.push(m)}}}return io++,s.then(Cp,Cp),s}function Cp(){if(--io===0&&Mu!==null){ll!==null&&(ll.status="fulfilled");var a=Mu;Mu=null,sl=0,ll=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function P0(a,s){var d=[],m={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return a.then(function(){m.status="fulfilled",m.value=s;for(var S=0;S<d.length;S++)(0,d[S])(s)},function(S){for(m.status="rejected",m.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),m}var Ap=F.S;F.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ai(a,s),Ap!==null&&Ap(a,s)};var Cs=se(null);function dh(){var a=Cs.current;return a!==null?a:An.pooledCache}function Ou(a,s){s===null?ae(Cs,Cs.current):ae(Cs,s.pool)}function hh(){var a=dh();return a===null?null:{parent:ur._currentValue,pool:a}}var Po=0,Xt=null,bn=null,Fn=null,As=!1,ul=!1,Fo=!1,dc=0,ma=0,ko=null,Rs=0;function hn(){throw Error(r(321))}function vh(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!va(a[d],s[d]))return!1;return!0}function hc(a,s,d,m,S,M){return Po=M,Xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=a===null||a.memoizedState===null?Jr:Ii,Fo=!1,M=d(m,S),Fo=!1,ul&&(M=fl(s,d,m,S)),gh(a),M}function gh(a){F.H=Kn;var s=bn!==null&&bn.next!==null;if(Po=0,Fn=bn=Xt=null,As=!1,ma=0,ko=null,s)throw Error(r(300));a===null||fr||(a=a.dependencies,a!==null&&Mc(a)&&(fr=!0))}function fl(a,s,d,m){Xt=a;var S=0;do{if(ul&&(ko=null),ma=0,ul=!1,25<=S)throw Error(r(301));if(S+=1,Fn=bn=null,a.updateQueue!=null){var M=a.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}F.H=Go,M=s(d,m)}while(ul);return M}function Uo(){var a=F.H,s=a.useState()[0];return s=typeof s.then=="function"?Ms(s):s,a=a.useState()[0],(bn!==null?bn.memoizedState:null)!==a&&(Xt.flags|=1024),s}function vc(){var a=dc!==0;return dc=0,a}function ph(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function cl(a){if(As){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}As=!1}Po=0,Fn=bn=Xt=null,ul=!1,ma=dc=0,ko=null}function Qr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Xt.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function tr(){if(bn===null){var a=Xt.alternate;a=a!==null?a.memoizedState:null}else a=bn.next;var s=Fn===null?Xt.memoizedState:Fn.next;if(s!==null)Fn=s,bn=a;else{if(a===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));bn=a,a={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Fn===null?Xt.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}var ar;ar=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ms(a){var s=ma;return ma+=1,ko===null&&(ko=[]),a=Tp(ko,a,s),s=Xt,(Fn===null?s.memoizedState:Fn.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?Jr:Ii),a}function Du(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ms(a);if(a.$$typeof===y)return Rr(a)}throw Error(r(438,String(a)))}function Ya(a){var s=null,d=Xt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var m=Xt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(S){return S.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=ar(),Xt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),m=0;m<a;m++)d[m]=O;return s.index++,d}function ii(a,s){return typeof s=="function"?s(a):s}function Os(a){var s=tr();return oo(s,bn,a)}function oo(a,s,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var S=a.baseQueue,M=m.pending;if(M!==null){if(S!==null){var q=S.next;S.next=M.next,M.next=q}s.baseQueue=S=M,m.pending=null}if(M=a.baseState,S===null)a.memoizedState=M;else{s=S.next;var ee=q=null,ue=null,Ee=s,He=!1;do{var Je=Ee.lane&-536870913;if(Je!==Ee.lane?(an&Je)===Je:(Po&Je)===Je){var Ne=Ee.revertLane;if(Ne===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Je===sl&&(He=!0);else if((Po&Ne)===Ne){Ee=Ee.next,Ne===sl&&(He=!0);continue}else Je={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ue===null?(ee=ue=Je,q=M):ue=ue.next=Je,Xt.lanes|=Ne,Ko|=Ne;Je=Ee.action,Fo&&d(M,Je),M=Ee.hasEagerState?Ee.eagerState:d(M,Je)}else Ne={lane:Je,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ue===null?(ee=ue=Ne,q=M):ue=ue.next=Ne,Xt.lanes|=Je,Ko|=Je;Ee=Ee.next}while(Ee!==null&&Ee!==s);if(ue===null?q=M:ue.next=ee,!va(M,a.memoizedState)&&(fr=!0,He&&(d=ll,d!==null)))throw d;a.memoizedState=M,a.baseState=q,a.baseQueue=ue,m.lastRenderedState=M}return S===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function gc(a){var s=tr(),d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,S=d.pending,M=s.memoizedState;if(S!==null){d.pending=null;var q=S=S.next;do M=a(M,q.action),q=q.next;while(q!==S);va(M,s.memoizedState)||(fr=!0),s.memoizedState=M,s.baseQueue===null&&(s.baseState=M),d.lastRenderedState=M}return[M,m]}function Ar(a,s,d){var m=Xt,S=tr(),M=Pt;if(M){if(d===void 0)throw Error(r(407));d=d()}else d=s();var q=!va((bn||S).memoizedState,d);if(q&&(S.memoizedState=d,fr=!0),S=S.queue,bc(Mp.bind(null,m,S,a),[a]),S.getSnapshot!==s||q||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,zo(9,Rp.bind(null,m,S,d,s),{destroy:void 0},null),An===null)throw Error(r(349));M||(Po&60)!==0||pc(m,s,d)}return d}function pc(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=Xt.updateQueue,s===null?(s=ar(),Xt.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function Rp(a,s,d,m){s.value=d,s.getSnapshot=m,Op(s)&&mc(a)}function Mp(a,s,d){return d(function(){Op(s)&&mc(a)})}function Op(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!va(a,d)}catch{return!0}}function mc(a){var s=ni(a,2);s!==null&&Or(s,a,2)}function mh(a){var s=Qr();if(typeof a=="function"){var d=a;if(a=d(),Fo){Ie(!0);try{d()}finally{Ie(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},s}function dl(a,s,d,m){return a.baseState=d,oo(a,bn,typeof m=="function"?m:ii)}function Dp(a,s,d,m,S){if(ml(a))throw Error(r(485));if(a=s.action,a!==null){var M={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){M.listeners.push(q)}};F.T!==null?d(!0):M.isTransition=!1,m(M),d=s.pending,d===null?(M.next=s.pending=M,Np(s,M)):(M.next=d.next,s.pending=d.next=M)}}function Np(a,s){var d=s.action,m=s.payload,S=a.state;if(s.isTransition){var M=F.T,q={};F.T=q;try{var ee=d(S,m),ue=F.S;ue!==null&&ue(q,ee),Lp(a,s,ee)}catch(Ee){yh(a,s,Ee)}finally{F.T=M}}else try{M=d(S,m),Lp(a,s,M)}catch(Ee){yh(a,s,Ee)}}function Lp(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){hl(a,s,m)},function(m){return yh(a,s,m)}):hl(a,s,d)}function hl(a,s,d){s.status="fulfilled",s.value=d,Ip(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,Np(a,d)))}function yh(a,s,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=d,Ip(s),s=s.next;while(s!==m)}a.action=null}function Ip(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yc(a,s){return s}function bh(a,s){if(Pt){var d=An.formState;if(d!==null){e:{var m=Xt;if(Pt){if(en){t:{for(var S=en,M=Oi;S.nodeType!==8;){if(!M){S=null;break t}if(S=vi(S.nextSibling),S===null){S=null;break t}}M=S.data,S=M==="F!"||M==="F"?S:null}if(S){en=vi(S.nextSibling),m=S.data==="F!";break e}}Ss(m)}m=!1}m&&(s=d[0])}}return d=Qr(),d.memoizedState=d.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:s},d.queue=m,d=ya.bind(null,Xt,m),m.dispatch=d,m=mh(!1),M=pl.bind(null,Xt,!1,m.queue),m=Qr(),S={state:s,dispatch:null,action:a,pending:null},m.queue=S,d=Dp.bind(null,Xt,S,M,d),S.dispatch=d,m.memoizedState=a,[s,d,!1]}function Bp(a){var s=tr();return _p(s,bn,a)}function _p(a,s,d){s=oo(a,s,yc)[0],a=Os(ii)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ms(s):s;var m=tr(),S=m.queue,M=S.dispatch;return d!==m.memoizedState&&(Xt.flags|=2048,zo(9,F0.bind(null,S,d),{destroy:void 0},null)),[s,M,a]}function F0(a,s){a.action=s}function Eh(a){var s=tr(),d=bn;if(d!==null)return _p(s,d,a);tr(),s=s.memoizedState,d=tr();var m=d.queue.dispatch;return d.memoizedState=a,[s,m,!1]}function zo(a,s,d,m){return a={tag:a,create:s,inst:d,deps:m,next:null},s=Xt.updateQueue,s===null&&(s=ar(),Xt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,s.lastEffect=a),a}function Pp(){return tr().memoizedState}function vl(a,s,d,m){var S=Qr();Xt.flags|=a,S.memoizedState=zo(1|s,d,{destroy:void 0},m===void 0?null:m)}function Nu(a,s,d,m){var S=tr();m=m===void 0?null:m;var M=S.memoizedState.inst;bn!==null&&m!==null&&vh(m,bn.memoizedState.deps)?S.memoizedState=zo(s,d,M,m):(Xt.flags|=a,S.memoizedState=zo(1|s,d,M,m))}function wh(a,s){vl(8390656,8,a,s)}function bc(a,s){Nu(2048,8,a,s)}function Lu(a,s){return Nu(4,2,a,s)}function Fp(a,s){return Nu(4,4,a,s)}function Th(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Sh(a,s,d){d=d!=null?d.concat([a]):null,Nu(4,4,Th.bind(null,s,a),d)}function xh(){}function Ch(a,s){var d=tr();s=s===void 0?null:s;var m=d.memoizedState;return s!==null&&vh(s,m[1])?m[0]:(d.memoizedState=[a,s],a)}function kp(a,s){var d=tr();s=s===void 0?null:s;var m=d.memoizedState;if(s!==null&&vh(s,m[1]))return m[0];if(m=a(),Fo){Ie(!0);try{a()}finally{Ie(!1)}}return d.memoizedState=[m,s],m}function Iu(a,s,d){return d===void 0||(Po&1073741824)!==0?a.memoizedState=s:(a.memoizedState=d,a=um(),Xt.lanes|=a,Ko|=a,d)}function Ah(a,s,d,m){return va(d,s)?d:ol.current!==null?(a=Iu(a,d,m),va(a,s)||(fr=!0),a):(Po&42)===0?(fr=!0,a.memoizedState=d):(a=um(),Xt.lanes|=a,Ko|=a,s)}function Ec(a,s,d,m,S){var M=re.p;re.p=M!==0&&8>M?M:8;var q=F.T,ee={};F.T=ee,pl(a,!1,s,d);try{var ue=S(),Ee=F.S;if(Ee!==null&&Ee(ee,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var He=P0(ue,m);_u(a,s,He,Ca(a))}else _u(a,s,m,Ca(a))}catch(Je){_u(a,s,{then:function(){},status:"rejected",reason:Je},Ca())}finally{re.p=M,F.T=q}}function k0(){}function Bu(a,s,d,m){if(a.tag!==5)throw Error(r(476));var S=qt(a).queue;Ec(a,S,s,ie,d===null?k0:function(){return Up(a),d(m)})}function qt(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:ie},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Up(a){var s=qt(a).next.queue;_u(a,s,{},Ca())}function Rh(){return Rr(uf)}function gl(){return tr().memoizedState}function Mh(){return tr().memoizedState}function U0(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=Ca();a=fi(d);var m=ba(s,a,d);m!==null&&(Or(m,s,d),xt(m,s,d)),s={cache:ch()},a.payload=s;return}s=s.return}}function z0(a,s,d){var m=Ca();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},ml(a)?Oh(s,d):(d=Ai(a,s,d,m),d!==null&&(Or(d,a,m),Dh(d,s,m)))}function ya(a,s,d){var m=Ca();_u(a,s,d,m)}function _u(a,s,d,m){var S={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(ml(a))Oh(s,S);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=s.lastRenderedReducer,M!==null))try{var q=s.lastRenderedState,ee=M(q,d);if(S.hasEagerState=!0,S.eagerState=ee,va(ee,q))return ms(a,s,S,0),An===null&&ic(),!1}catch{}finally{}if(d=Ai(a,s,S,m),d!==null)return Or(d,a,m),Dh(d,s,m),!0}return!1}function pl(a,s,d,m){if(m={lane:2,revertLane:gv(),action:m,hasEagerState:!1,eagerState:null,next:null},ml(a)){if(s)throw Error(r(479))}else s=Ai(a,d,m,2),s!==null&&Or(s,a,2)}function ml(a){var s=a.alternate;return a===Xt||s!==null&&s===Xt}function Oh(a,s){ul=As=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function Dh(a,s,d){if((d&4194176)!==0){var m=s.lanes;m&=a.pendingLanes,d|=m,s.lanes=d,It(a,d)}}var Kn={readContext:Rr,use:Du,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn};Kn.useCacheRefresh=hn,Kn.useMemoCache=hn,Kn.useHostTransitionStatus=hn,Kn.useFormState=hn,Kn.useActionState=hn,Kn.useOptimistic=hn;var Jr={readContext:Rr,use:Du,useCallback:function(a,s){return Qr().memoizedState=[a,s===void 0?null:s],a},useContext:Rr,useEffect:wh,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,vl(4194308,4,Th.bind(null,s,a),d)},useLayoutEffect:function(a,s){return vl(4194308,4,a,s)},useInsertionEffect:function(a,s){vl(4,2,a,s)},useMemo:function(a,s){var d=Qr();s=s===void 0?null:s;var m=a();if(Fo){Ie(!0);try{a()}finally{Ie(!1)}}return d.memoizedState=[m,s],m},useReducer:function(a,s,d){var m=Qr();if(d!==void 0){var S=d(s);if(Fo){Ie(!0);try{d(s)}finally{Ie(!1)}}}else S=s;return m.memoizedState=m.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},m.queue=a,a=a.dispatch=z0.bind(null,Xt,a),[m.memoizedState,a]},useRef:function(a){var s=Qr();return a={current:a},s.memoizedState=a},useState:function(a){a=mh(a);var s=a.queue,d=ya.bind(null,Xt,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:xh,useDeferredValue:function(a,s){var d=Qr();return Iu(d,a,s)},useTransition:function(){var a=mh(!1);return a=Ec.bind(null,Xt,a.queue,!0,!1),Qr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var m=Xt,S=Qr();if(Pt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=s(),An===null)throw Error(r(349));(an&60)!==0||pc(m,s,d)}S.memoizedState=d;var M={value:d,getSnapshot:s};return S.queue=M,wh(Mp.bind(null,m,M,a),[a]),m.flags|=2048,zo(9,Rp.bind(null,m,M,d,s),{destroy:void 0},null),d},useId:function(){var a=Qr(),s=An.identifierPrefix;if(Pt){var d=Ha,m=Ga;d=(m&~(1<<32-Fe(m)-1)).toString(32)+d,s=":"+s+"R"+d,d=dc++,0<d&&(s+="H"+d.toString(32)),s+=":"}else d=Rs++,s=":"+s+"r"+d.toString(32)+":";return a.memoizedState=s},useCacheRefresh:function(){return Qr().memoizedState=U0.bind(null,Xt)}};Jr.useMemoCache=Ya,Jr.useHostTransitionStatus=Rh,Jr.useFormState=bh,Jr.useActionState=bh,Jr.useOptimistic=function(a){var s=Qr();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=pl.bind(null,Xt,!0,d),d.dispatch=s,[a,s]};var Ii={readContext:Rr,use:Du,useCallback:Ch,useContext:Rr,useEffect:bc,useImperativeHandle:Sh,useInsertionEffect:Lu,useLayoutEffect:Fp,useMemo:kp,useReducer:Os,useRef:Pp,useState:function(){return Os(ii)},useDebugValue:xh,useDeferredValue:function(a,s){var d=tr();return Ah(d,bn.memoizedState,a,s)},useTransition:function(){var a=Os(ii)[0],s=tr().memoizedState;return[typeof a=="boolean"?a:Ms(a),s]},useSyncExternalStore:Ar,useId:gl};Ii.useCacheRefresh=Mh,Ii.useMemoCache=Ya,Ii.useHostTransitionStatus=Rh,Ii.useFormState=Bp,Ii.useActionState=Bp,Ii.useOptimistic=function(a,s){var d=tr();return dl(d,bn,a,s)};var Go={readContext:Rr,use:Du,useCallback:Ch,useContext:Rr,useEffect:bc,useImperativeHandle:Sh,useInsertionEffect:Lu,useLayoutEffect:Fp,useMemo:kp,useReducer:gc,useRef:Pp,useState:function(){return gc(ii)},useDebugValue:xh,useDeferredValue:function(a,s){var d=tr();return bn===null?Iu(d,a,s):Ah(d,bn.memoizedState,a,s)},useTransition:function(){var a=gc(ii)[0],s=tr().memoizedState;return[typeof a=="boolean"?a:Ms(a),s]},useSyncExternalStore:Ar,useId:gl};Go.useCacheRefresh=Mh,Go.useMemoCache=Ya,Go.useHostTransitionStatus=Rh,Go.useFormState=Eh,Go.useActionState=Eh,Go.useOptimistic=function(a,s){var d=tr();return bn!==null?dl(d,bn,a,s):(d.baseState=a,[a,d.queue.dispatch])};function yl(a,s,d,m){s=a.memoizedState,d=d(m,s),d=d==null?s:V({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var wc={isMounted:function(a){return(a=a._reactInternals)?k(a)===a:!1},enqueueSetState:function(a,s,d){a=a._reactInternals;var m=Ca(),S=fi(m);S.payload=s,d!=null&&(S.callback=d),s=ba(a,S,m),s!==null&&(Or(s,a,m),xt(s,a,m))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var m=Ca(),S=fi(m);S.tag=1,S.payload=s,d!=null&&(S.callback=d),s=ba(a,S,m),s!==null&&(Or(s,a,m),xt(s,a,m))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=Ca(),m=fi(d);m.tag=2,s!=null&&(m.callback=s),s=ba(a,m,d),s!==null&&(Or(s,a,d),xt(s,a,d))}};function Tc(a,s,d,m,S,M,q){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,M,q):s.prototype&&s.prototype.isPureReactComponent?!Ci(d,m)||!Ci(S,M):!0}function Nh(a,s,d,m){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,m),s.state!==a&&wc.enqueueReplaceState(s,s.state,null)}function so(a,s){var d=s;if("ref"in s){d={};for(var m in s)m!=="ref"&&(d[m]=s[m])}if(a=a.defaultProps){d===s&&(d=V({},d));for(var S in a)d[S]===void 0&&(d[S]=a[S])}return d}var bl=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function lo(a){bl(a)}function zp(a){console.error(a)}function uo(a){bl(a)}function Pu(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function Lh(a,s,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Fu(a,s,d){return d=fi(d),d.tag=3,d.payload={element:null},d.callback=function(){Pu(a,s)},d}function Gp(a){return a=fi(a),a.tag=3,a}function Hp(a,s,d,m){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var M=m.value;a.payload=function(){return S(M)},a.callback=function(){Lh(s,d,m)}}var q=d.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(a.callback=function(){Lh(s,d,m),typeof S!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var ee=m.stack;this.componentDidCatch(m.value,{componentStack:ee!==null?ee:""})})}function G0(a,s,d,m,S){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=d.alternate,s!==null&&xl(s,d,S,!0),d=Va.current,d!==null){switch(d.tag){case 13:return Ni===null?sv():d.alternate===null&&Qn===0&&(Qn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,m===Lo?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([m]):s.add(m),uv(a,m,S)),!1;case 22:return d.flags|=65536,m===Lo?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([m]):d.add(m)),uv(a,m,S)),!1}throw Error(r(435,d.tag))}return uv(a,m,S),sv(),!1}if(Pt)return s=Va.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=S,m!==sc&&(a=Error(r(422),{cause:m}),Ji(Fr(a,d)))):(m!==sc&&(s=Error(r(423),{cause:m}),Ji(Fr(s,d))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,m=Fr(m,d),S=Fu(a.stateNode,m,S),Cl(a,S),Qn!==4&&(Qn=2)),!1;var M=Error(r(520),{cause:m});if(M=Fr(M,d),Qu===null?Qu=[M]:Qu.push(M),Qn!==4&&(Qn=2),s===null)return!0;m=Fr(m,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=S&-S,d.lanes|=a,a=Fu(d.stateNode,m,a),Cl(d,a),!1;case 1:if(s=d.type,M=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(zi===null||!zi.has(M))))return d.flags|=65536,S&=-S,d.lanes|=S,S=Gp(S),Hp(S,a,d,m),Cl(d,S),!1}d=d.return}while(d!==null);return!1}var Ih=Error(r(461)),fr=!1;function pr(a,s,d,m){s.child=a===null?xp(s,null,d,m):Gt(s,a.child,d,m)}function Bh(a,s,d,m,S){d=d.render;var M=s.ref;if("ref"in m){var q={};for(var ee in m)ee!=="ref"&&(q[ee]=m[ee])}else q=m;return qo(s),m=hc(a,s,d,q,M,S),ee=vc(),a!==null&&!fr?(ph(a,s,S),si(a,s,S)):(Pt&&ee&&oc(s),s.flags|=1,pr(a,s,m,S),s.child)}function _h(a,s,d,m,S){if(a===null){var M=d.type;return typeof M=="function"&&!Zh(M)&&M.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=M,Ur(a,s,M,m,S)):(a=Ku(d.type,null,m,s,s.mode,S),a.ref=s.ref,a.return=s,s.child=a)}if(M=a.child,!Tl(a,S)){var q=M.memoizedProps;if(d=d.compare,d=d!==null?d:Ci,d(q,m)&&a.ref===s.ref)return si(a,s,S)}return s.flags|=1,a=$o(M,m),a.ref=s.ref,a.return=s,s.child=a}function Ur(a,s,d,m,S){if(a!==null){var M=a.memoizedProps;if(Ci(M,m)&&a.ref===s.ref)if(fr=!1,s.pendingProps=m=M,Tl(a,S))(a.flags&131072)!==0&&(fr=!0);else return s.lanes=a.lanes,si(a,s,S)}return El(a,s,d,m,S)}function oi(a,s,d){var m=s.pendingProps,S=m.children,M=(s.stateNode._pendingVisibility&2)!==0,q=a!==null?a.memoizedState:null;if(ku(a,s),m.mode==="hidden"||M){if((s.flags&128)!==0){if(m=q!==null?q.baseLanes|d:d,a!==null){for(S=s.child=a.child,M=0;S!==null;)M=M|S.lanes|S.childLanes,S=S.sibling;s.childLanes=M&~m}else s.childLanes=0,s.child=null;return Vp(a,s,m,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ou(s,q!==null?q.cachePool:null),q!==null?Io(s,q):uh(),Li(s);else return s.lanes=s.childLanes=536870912,Vp(a,s,q!==null?q.baseLanes|d:d,d)}else q!==null?(Ou(s,q.cachePool),Io(s,q),_o(),s.memoizedState=null):(a!==null&&Ou(s,null),uh(),_o());return pr(a,s,S,d),s.child}function Vp(a,s,d,m){var S=dh();return S=S===null?null:{parent:ur._currentValue,pool:S},s.memoizedState={baseLanes:d,cachePool:S},a!==null&&Ou(s,null),uh(),Li(s),a!==null&&xl(a,s,m,!0),null}function ku(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(s.flags|=2097664)}}function El(a,s,d,m,S){return qo(s),d=hc(a,s,d,m,void 0,S),m=vc(),a!==null&&!fr?(ph(a,s,S),si(a,s,S)):(Pt&&m&&oc(s),s.flags|=1,pr(a,s,d,S),s.child)}function Ds(a,s,d,m,S,M){return qo(s),s.updateQueue=null,d=fl(s,m,d,S),gh(a),m=vc(),a!==null&&!fr?(ph(a,s,M),si(a,s,M)):(Pt&&m&&oc(s),s.flags|=1,pr(a,s,d,M),s.child)}function Ph(a,s,d,m,S){if(qo(s),s.stateNode===null){var M=bs,q=d.contextType;typeof q=="object"&&q!==null&&(M=Rr(q)),M=new d(m,M),s.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=wc,s.stateNode=M,M._reactInternals=s,M=s.stateNode,M.props=m,M.state=s.memoizedState,M.refs={},Gu(s),q=d.contextType,M.context=typeof q=="object"&&q!==null?Rr(q):bs,M.state=s.memoizedState,q=d.getDerivedStateFromProps,typeof q=="function"&&(yl(s,d,q,m),M.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(q=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),q!==M.state&&wc.enqueueReplaceState(M,M.state,null),Yu(s,m,M,S),ci(),M.state=s.memoizedState),typeof M.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(a===null){M=s.stateNode;var ee=s.memoizedProps,ue=so(d,ee);M.props=ue;var Ee=M.context,He=d.contextType;q=bs,typeof He=="object"&&He!==null&&(q=Rr(He));var Je=d.getDerivedStateFromProps;He=typeof Je=="function"||typeof M.getSnapshotBeforeUpdate=="function",ee=s.pendingProps!==ee,He||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ee||Ee!==q)&&Nh(s,M,m,q),Pi=!1;var Ne=s.memoizedState;M.state=Ne,Yu(s,m,M,S),ci(),Ee=s.memoizedState,ee||Ne!==Ee||Pi?(typeof Je=="function"&&(yl(s,d,Je,m),Ee=s.memoizedState),(ue=Pi||Tc(s,d,ue,m,Ne,Ee,q))?(He||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(s.flags|=4194308)):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=Ee),M.props=m,M.state=Ee,M.context=q,m=ue):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{M=s.stateNode,Hu(a,s),q=s.memoizedProps,He=so(d,q),M.props=He,Je=s.pendingProps,Ne=M.context,Ee=d.contextType,ue=bs,typeof Ee=="object"&&Ee!==null&&(ue=Rr(Ee)),ee=d.getDerivedStateFromProps,(Ee=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==Je||Ne!==ue)&&Nh(s,M,m,ue),Pi=!1,Ne=s.memoizedState,M.state=Ne,Yu(s,m,M,S),ci();var Ge=s.memoizedState;q!==Je||Ne!==Ge||Pi||a!==null&&a.dependencies!==null&&Mc(a.dependencies)?(typeof ee=="function"&&(yl(s,d,ee,m),Ge=s.memoizedState),(He=Pi||Tc(s,d,He,m,Ne,Ge,ue)||a!==null&&a.dependencies!==null&&Mc(a.dependencies))?(Ee||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,Ge,ue),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,Ge,ue)),typeof M.componentDidUpdate=="function"&&(s.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof M.componentDidUpdate!="function"||q===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=Ge),M.props=m,M.state=Ge,M.context=ue,m=He):(typeof M.componentDidUpdate!="function"||q===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=1024),m=!1)}return M=m,ku(a,s),m=(s.flags&128)!==0,M||m?(M=s.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:M.render(),s.flags|=1,a!==null&&m?(s.child=Gt(s,a.child,null,S),s.child=Gt(s,null,d,S)):pr(a,s,d,S),s.memoizedState=M.state,a=s.child):a=si(a,s,S),a}function Fh(a,s,d,m){return Di(),s.flags|=256,pr(a,s,d,m),s.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Sc(a){return{baseLanes:a,cachePool:hh()}}function Ho(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=qa),a}function wl(a,s,d){var m=s.pendingProps,S=!1,M=(s.flags&128)!==0,q;if((q=M)||(q=a!==null&&a.memoizedState===null?!1:(lr.current&2)!==0),q&&(S=!0,s.flags&=-129),q=(s.flags&32)!==0,s.flags&=-33,a===null){if(Pt){if(S?Bo(s):_o(),Pt){var ee=en,ue;if(ue=ee){e:{for(ue=ee,ee=Oi;ue.nodeType!==8;){if(!ee){ee=null;break e}if(ue=vi(ue.nextSibling),ue===null){ee=null;break e}}ee=ue}ee!==null?(s.memoizedState={dehydrated:ee,treeContext:Ts!==null?{id:Ga,overflow:Ha}:null,retryLane:536870912},ue=Sa(18,null,null,0),ue.stateNode=ee,ue.return=s,s.child=ue,kr=s,en=null,ue=!0):ue=!1}ue||Ss(s)}if(ee=s.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return ee.data==="$!"?s.lanes=16:s.lanes=536870912,null;ro(s)}return ee=m.children,m=m.fallback,S?(_o(),S=s.mode,ee=xc({mode:"hidden",children:ee},S),m=Ls(m,S,d,null),ee.return=s,m.return=s,ee.sibling=m,s.child=ee,S=s.child,S.memoizedState=Sc(d),S.childLanes=Ho(a,q,d),s.memoizedState=kh,m):(Bo(s),Uh(s,ee))}if(ue=a.memoizedState,ue!==null&&(ee=ue.dehydrated,ee!==null)){if(M)s.flags&256?(Bo(s),s.flags&=-257,s=Cc(a,s,d)):s.memoizedState!==null?(_o(),s.child=a.child,s.flags|=128,s=null):(_o(),S=m.fallback,ee=s.mode,m=xc({mode:"visible",children:m.children},ee),S=Ls(S,ee,d,null),S.flags|=2,m.return=s,S.return=s,m.sibling=S,s.child=m,Gt(s,a.child,null,d),m=s.child,m.memoizedState=Sc(d),m.childLanes=Ho(a,q,d),s.memoizedState=kh,s=S);else if(Bo(s),ee.data==="$!"){if(q=ee.nextSibling&&ee.nextSibling.dataset,q)var Ee=q.dgst;q=Ee,m=Error(r(419)),m.stack="",m.digest=q,Ji({value:m,source:null,stack:null}),s=Cc(a,s,d)}else if(fr||xl(a,s,d,!1),q=(d&a.childLanes)!==0,fr||q){if(q=An,q!==null){if(m=d&-d,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(q.suspendedLanes|d))!==0?0:m,m!==0&&m!==ue.retryLane)throw ue.retryLane=m,ni(a,m),Or(q,a,m),Ih}ee.data==="$?"||sv(),s=Cc(a,s,d)}else ee.data==="$?"?(s.flags|=128,s.child=a.child,s=J0.bind(null,a),ee._reactRetry=s,s=null):(a=ue.treeContext,en=vi(ee.nextSibling),kr=s,Pt=!0,ri=null,Oi=!1,a!==null&&(Ua[za++]=Ga,Ua[za++]=Ha,Ua[za++]=Ts,Ga=a.id,Ha=a.overflow,Ts=s),s=Uh(s,m.children),s.flags|=4096);return s}return S?(_o(),S=m.fallback,ee=s.mode,ue=a.child,Ee=ue.sibling,m=$o(ue,{mode:"hidden",children:m.children}),m.subtreeFlags=ue.subtreeFlags&31457280,Ee!==null?S=$o(Ee,S):(S=Ls(S,ee,d,null),S.flags|=2),S.return=s,m.return=s,m.sibling=S,s.child=m,m=S,S=s.child,ee=a.child.memoizedState,ee===null?ee=Sc(d):(ue=ee.cachePool,ue!==null?(Ee=ur._currentValue,ue=ue.parent!==Ee?{parent:Ee,pool:Ee}:ue):ue=hh(),ee={baseLanes:ee.baseLanes|d,cachePool:ue}),S.memoizedState=ee,S.childLanes=Ho(a,q,d),s.memoizedState=kh,m):(Bo(s),d=a.child,a=d.sibling,d=$o(d,{mode:"visible",children:m.children}),d.return=s,d.sibling=null,a!==null&&(q=s.deletions,q===null?(s.deletions=[a],s.flags|=16):q.push(a)),s.child=d,s.memoizedState=null,d)}function Uh(a,s){return s=xc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function xc(a,s){return im(a,s,0,null)}function Cc(a,s,d){return Gt(s,a.child,null,d),a=Uh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Uu(a,s,d){a.lanes|=s;var m=a.alternate;m!==null&&(m.lanes|=s),ui(a.return,s,d)}function Ac(a,s,d,m,S){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=d,M.tailMode=S)}function zu(a,s,d){var m=s.pendingProps,S=m.revealOrder,M=m.tail;if(pr(a,s,m.children,d),m=lr.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Uu(a,d,s);else if(a.tag===19)Uu(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(ae(lr,m),S){case"forwards":for(d=s.child,S=null;d!==null;)a=d.alternate,a!==null&&cc(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=s.child,s.child=null):(S=d.sibling,d.sibling=null),Ac(s,!1,S,d,M);break;case"backwards":for(d=null,S=s.child,s.child=null;S!==null;){if(a=S.alternate,a!==null&&cc(a)===null){s.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}Ac(s,!0,d,null,M);break;case"together":Ac(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function si(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Ko|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(xl(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,d=$o(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=$o(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function Tl(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Mc(a)))}function H0(a,s,d){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),Yo(s,ur,a.memoizedState.cache),Di();break;case 27:case 5:rt(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:Yo(s,s.type,s.memoizedProps.value);break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Bo(s),s.flags|=128,null):(d&s.child.childLanes)!==0?wl(a,s,d):(Bo(s),a=si(a,s,d),a!==null?a.sibling:null);Bo(s);break;case 19:var S=(a.flags&128)!==0;if(m=(d&s.childLanes)!==0,m||(xl(a,s,d,!1),m=(d&s.childLanes)!==0),S){if(m)return zu(a,s,d);s.flags|=128}if(S=s.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ae(lr,lr.current),m)break;return null;case 22:case 23:return s.lanes=0,oi(a,s,d);case 24:Yo(s,ur,a.memoizedState.cache)}return si(a,s,d)}function zh(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)fr=!0;else{if(!Tl(a,d)&&(s.flags&128)===0)return fr=!1,H0(a,s,d);fr=(a.flags&131072)!==0}else fr=!1,Pt&&(s.flags&1048576)!==0&&Ep(s,ws,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var m=s.elementType,S=m._init;if(m=S(m._payload),s.type=m,typeof m=="function")Zh(m)?(a=so(m,a),s.tag=1,s=Ph(null,s,m,a,d)):(s.tag=0,s=El(null,s,m,a,d));else{if(m!=null){if(S=m.$$typeof,S===E){s.tag=11,s=Bh(null,s,m,a,d);break e}else if(S===w){s.tag=14,s=_h(null,s,m,a,d);break e}}throw s=U(m)||m,Error(r(306,s,""))}}return s;case 0:return El(a,s,s.type,s.pendingProps,d);case 1:return m=s.type,S=so(m,s.pendingProps),Ph(a,s,m,S,d);case 3:e:{if(et(s,s.stateNode.containerInfo),a===null)throw Error(r(387));var M=s.pendingProps;S=s.memoizedState,m=S.element,Hu(a,s),Yu(s,M,null,d);var q=s.memoizedState;if(M=q.cache,Yo(s,ur,M),M!==S.cache&&Rc(s,[ur],d,!0),ci(),M=q.element,S.isDehydrated)if(S={element:M,isDehydrated:!1,cache:q.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Fh(a,s,M,d);break e}else if(M!==m){m=Fr(Error(r(424)),s),Ji(m),s=Fh(a,s,M,d);break e}else for(en=vi(s.stateNode.containerInfo.firstChild),kr=s,Pt=!0,ri=null,Oi=!0,d=xp(s,null,M,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Di(),M===m){s=si(a,s,d);break e}pr(a,s,M,d)}s=s.child}return s;case 26:return ku(a,s),a===null?(d=Ov(s.type,null,s.pendingProps,null))?s.memoizedState=d:Pt||(d=s.type,a=s.pendingProps,m=Hc(_e.current).createElement(d),m[fn]=s,m[cn]=a,yr(m,d,a),Sn(m),s.stateNode=m):s.memoizedState=Ov(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return rt(s),a===null&&Pt&&(m=s.stateNode=Mv(s.type,s.pendingProps,_e.current),kr=s,Oi=!0,en=vi(m.firstChild)),m=s.pendingProps.children,a!==null||Pt?pr(a,s,m,d):s.child=Gt(s,null,m,d),ku(a,s),s.child;case 5:return a===null&&Pt&&((S=m=en)&&(m=ib(m,s.type,s.pendingProps,Oi),m!==null?(s.stateNode=m,kr=s,en=vi(m.firstChild),Oi=!1,S=!0):S=!1),S||Ss(s)),rt(s),S=s.type,M=s.pendingProps,q=a!==null?a.memoizedProps:null,m=M.children,of(S,M)?m=null:q!==null&&of(S,q)&&(s.flags|=32),s.memoizedState!==null&&(S=hc(a,s,Uo,null,null,d),uf._currentValue=S),ku(a,s),pr(a,s,m,d),s.child;case 6:return a===null&&Pt&&((a=d=en)&&(d=ob(d,s.pendingProps,Oi),d!==null?(s.stateNode=d,kr=s,en=null,a=!0):a=!1),a||Ss(s)),null;case 13:return wl(a,s,d);case 4:return et(s,s.stateNode.containerInfo),m=s.pendingProps,a===null?s.child=Gt(s,null,m,d):pr(a,s,m,d),s.child;case 11:return Bh(a,s,s.type,s.pendingProps,d);case 7:return pr(a,s,s.pendingProps,d),s.child;case 8:return pr(a,s,s.pendingProps.children,d),s.child;case 12:return pr(a,s,s.pendingProps.children,d),s.child;case 10:return m=s.pendingProps,Yo(s,s.type,m.value),pr(a,s,m.children,d),s.child;case 9:return S=s.type._context,m=s.pendingProps.children,qo(s),S=Rr(S),m=m(S),s.flags|=1,pr(a,s,m,d),s.child;case 14:return _h(a,s,s.type,s.pendingProps,d);case 15:return Ur(a,s,s.type,s.pendingProps,d);case 19:return zu(a,s,d);case 22:return oi(a,s,d);case 24:return qo(s),m=Rr(ur),a===null?(S=dh(),S===null&&(S=An,M=ch(),S.pooledCache=M,M.refCount++,M!==null&&(S.pooledCacheLanes|=d),S=M),s.memoizedState={parent:m,cache:S},Gu(s),Yo(s,ur,S)):((a.lanes&d)!==0&&(Hu(a,s),Yu(s,null,null,d),ci()),S=a.memoizedState,M=s.memoizedState,S.parent!==m?(S={parent:m,cache:m},s.memoizedState=S,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=S),Yo(s,ur,m)):(m=M.cache,Yo(s,ur,m),m!==S.cache&&Rc(s,[ur],d,!0))),pr(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Sl=se(null),Vo=null,li=null;function Yo(a,s,d){ae(Sl,s._currentValue),s._currentValue=d}function Bi(a){a._currentValue=Sl.current,te(Sl)}function ui(a,s,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),a===d)break;a=a.return}}function Rc(a,s,d,m){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var M=S.dependencies;if(M!==null){var q=S.child;M=M.firstContext;e:for(;M!==null;){var ee=M;M=S;for(var ue=0;ue<s.length;ue++)if(ee.context===s[ue]){M.lanes|=d,ee=M.alternate,ee!==null&&(ee.lanes|=d),ui(M.return,d,a),m||(q=null);break e}M=ee.next}}else if(S.tag===18){if(q=S.return,q===null)throw Error(r(341));q.lanes|=d,M=q.alternate,M!==null&&(M.lanes|=d),ui(q,d,a),q=null}else q=S.child;if(q!==null)q.return=S;else for(q=S;q!==null;){if(q===a){q=null;break}if(S=q.sibling,S!==null){S.return=q.return,q=S;break}q=q.return}S=q}}function xl(a,s,d,m){a=null;for(var S=s,M=!1;S!==null;){if(!M){if((S.flags&524288)!==0)M=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var q=S.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var ee=S.type;va(S.pendingProps.value,q.value)||(a!==null?a.push(ee):a=[ee])}}else if(S===Ae.current){if(q=S.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(uf):a=[uf])}S=S.return}a!==null&&Rc(s,a,d,m),s.flags|=262144}function Mc(a){for(a=a.firstContext;a!==null;){if(!va(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function qo(a){Vo=a,li=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Rr(a){return _i(Vo,a)}function Oc(a,s){return Vo===null&&qo(a),_i(a,s)}function _i(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},li===null){if(a===null)throw Error(r(308));li=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else li=li.next=s;return d}var Pi=!1;function Gu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function fi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ba(a,s,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Vn&2)!==0){var S=m.pending;return S===null?s.next=s:(s.next=S.next,S.next=s),m.pending=s,s=ys(a),oh(a,null,d),s}return ms(a,m,s,d),ys(a)}function xt(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194176)!==0)){var m=s.lanes;m&=a.pendingLanes,d|=m,s.lanes=d,It(a,d)}}function Cl(a,s){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,M=null;if(d=d.firstBaseUpdate,d!==null){do{var q={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};M===null?S=M=q:M=M.next=q,d=d.next}while(d!==null);M===null?S=M=s:M=M.next=s}else S=M=s;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:M,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var Vu=!1;function ci(){if(Vu){var a=ll;if(a!==null)throw a}}function Yu(a,s,d,m){Vu=!1;var S=a.updateQueue;Pi=!1;var M=S.firstBaseUpdate,q=S.lastBaseUpdate,ee=S.shared.pending;if(ee!==null){S.shared.pending=null;var ue=ee,Ee=ue.next;ue.next=null,q===null?M=Ee:q.next=Ee,q=ue;var He=a.alternate;He!==null&&(He=He.updateQueue,ee=He.lastBaseUpdate,ee!==q&&(ee===null?He.firstBaseUpdate=Ee:ee.next=Ee,He.lastBaseUpdate=ue))}if(M!==null){var Je=S.baseState;q=0,He=Ee=ue=null,ee=M;do{var Ne=ee.lane&-536870913,Ge=Ne!==ee.lane;if(Ge?(an&Ne)===Ne:(m&Ne)===Ne){Ne!==0&&Ne===sl&&(Vu=!0),He!==null&&(He=He.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Et=a,kt=ee;Ne=s;var qn=d;switch(kt.tag){case 1:if(Et=kt.payload,typeof Et=="function"){Je=Et.call(qn,Je,Ne);break e}Je=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=kt.payload,Ne=typeof Et=="function"?Et.call(qn,Je,Ne):Et,Ne==null)break e;Je=V({},Je,Ne);break e;case 2:Pi=!0}}Ne=ee.callback,Ne!==null&&(a.flags|=64,Ge&&(a.flags|=8192),Ge=S.callbacks,Ge===null?S.callbacks=[Ne]:Ge.push(Ne))}else Ge={lane:Ne,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},He===null?(Ee=He=Ge,ue=Je):He=He.next=Ge,q|=Ne;if(ee=ee.next,ee===null){if(ee=S.shared.pending,ee===null)break;Ge=ee,ee=Ge.next,Ge.next=null,S.lastBaseUpdate=Ge,S.shared.pending=null}}while(!0);He===null&&(ue=Je),S.baseState=ue,S.firstBaseUpdate=Ee,S.lastBaseUpdate=He,M===null&&(S.shared.lanes=0),Ko|=q,a.lanes=q,a.memoizedState=Je}}function Dc(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Gh(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Dc(d[a],s)}function ir(a,s){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var S=m.next;d=S;do{if((d.tag&a)===a){m=void 0;var M=d.create,q=d.inst;m=M(),q.destroy=m}d=d.next}while(d!==S)}}catch(ee){Dn(s,s.return,ee)}}function Xo(a,s,d){try{var m=s.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var M=S.next;m=M;do{if((m.tag&a)===a){var q=m.inst,ee=q.destroy;if(ee!==void 0){q.destroy=void 0,S=s;var ue=d;try{ee()}catch(Ee){Dn(S,ue,Ee)}}}m=m.next}while(m!==M)}}catch(Ee){Dn(s,s.return,Ee)}}function Yp(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{Gh(s,d)}catch(m){Dn(a,a.return,m)}}}function Hh(a,s,d){d.props=so(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Dn(a,s,m)}}function Ns(a,s){try{var d=a.ref;if(d!==null){var m=a.stateNode;switch(a.tag){case 26:case 27:case 5:var S=m;break;default:S=m}typeof d=="function"?a.refCleanup=d(S):d.current=S}}catch(M){Dn(a,s,M)}}function jr(a,s){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(S){Dn(a,s,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){Dn(a,s,S)}else d.current=null}function qp(a){var s=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(S){Dn(a,a.return,S)}}function Xp(a,s,d){try{var m=a.stateNode;Jo(m,a.type,d,s),m[cn]=s}catch(S){Dn(a,a.return,S)}}function Wp(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function di(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wp(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function mr(a,s,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?d.nodeType===8?d.parentNode.insertBefore(a,s):d.insertBefore(a,s):(d.nodeType===8?(s=d.parentNode,s.insertBefore(a,d)):(s=d,s.appendChild(a)),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Gc));else if(m!==4&&m!==27&&(a=a.child,a!==null))for(mr(a,s,d),a=a.sibling;a!==null;)mr(a,s,d),a=a.sibling}function Al(a,s,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(m!==4&&m!==27&&(a=a.child,a!==null))for(Al(a,s,d),a=a.sibling;a!==null;)Al(a,s,d),a=a.sibling}var fo=!1,kn=!1,Vh=!1,$p=typeof WeakSet=="function"?WeakSet:Set,Zn=null,Yh=!1;function Kp(a,s){if(a=a.containerInfo,Tv=ff,a=mp(a),ah(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,M=m.focusNode;m=m.focusOffset;try{d.nodeType,M.nodeType}catch{d=null;break e}var q=0,ee=-1,ue=-1,Ee=0,He=0,Je=a,Ne=null;t:for(;;){for(var Ge;Je!==d||S!==0&&Je.nodeType!==3||(ee=q+S),Je!==M||m!==0&&Je.nodeType!==3||(ue=q+m),Je.nodeType===3&&(q+=Je.nodeValue.length),(Ge=Je.firstChild)!==null;)Ne=Je,Je=Ge;for(;;){if(Je===a)break t;if(Ne===d&&++Ee===S&&(ee=q),Ne===M&&++He===m&&(ue=q),(Ge=Je.nextSibling)!==null)break;Je=Ne,Ne=Je.parentNode}Je=Ge}d=ee===-1||ue===-1?null:{start:ee,end:ue}}else d=null}d=d||{start:0,end:0}}else d=null;for(Sv={focusedElem:a,selectionRange:d},ff=!1,Zn=s;Zn!==null;)if(s=Zn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Zn=a;else for(;Zn!==null;){switch(s=Zn,M=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&M!==null){a=void 0,d=s,S=M.memoizedProps,M=M.memoizedState,m=d.stateNode;try{var Et=so(d.type,S,d.elementType===d.type);a=m.getSnapshotBeforeUpdate(Et,M),m.__reactInternalSnapshotBeforeUpdate=a}catch(kt){Dn(d,d.return,kt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)Rv(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Rv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Zn=a;break}Zn=s.return}return Et=Yh,Yh=!1,Et}function Zp(a,s,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:ki(a,d),m&4&&ir(5,d);break;case 1:if(ki(a,d),m&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(ee){Dn(d,d.return,ee)}else{var S=so(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(S,s,a.__reactInternalSnapshotBeforeUpdate)}catch(ee){Dn(d,d.return,ee)}}m&64&&Yp(d),m&512&&Ns(d,d.return);break;case 3:if(ki(a,d),m&64&&(m=d.updateQueue,m!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{Gh(m,a)}catch(ee){Dn(d,d.return,ee)}}break;case 26:ki(a,d),m&512&&Ns(d,d.return);break;case 27:case 5:ki(a,d),s===null&&m&4&&qp(d),m&512&&Ns(d,d.return);break;case 12:ki(a,d);break;case 13:ki(a,d),m&4&&Jp(a,d);break;case 22:if(S=d.memoizedState!==null||fo,!S){s=s!==null&&s.memoizedState!==null||kn;var M=fo,q=kn;fo=S,(kn=s)&&!q?ea(a,d,(d.subtreeFlags&8772)!==0):ki(a,d),fo=M,kn=q}m&512&&(d.memoizedProps.mode==="manual"?Ns(d,d.return):jr(d,d.return));break;default:ki(a,d)}}function Qp(a){var s=a.alternate;s!==null&&(a.alternate=null,Qp(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Ba(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var or=null,Ea=!1;function Fi(a,s,d){for(d=d.child;d!==null;)qh(a,s,d),d=d.sibling}function qh(a,s,d){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(de,d)}catch{}switch(d.tag){case 26:kn||jr(d,s),Fi(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:kn||jr(d,s);var m=or,S=Ea;for(or=d.stateNode,Fi(a,s,d),d=d.stateNode,s=d.attributes;s.length;)d.removeAttributeNode(s[0]);Ba(d),or=m,Ea=S;break;case 5:kn||jr(d,s);case 6:S=or;var M=Ea;if(or=null,Fi(a,s,d),or=S,Ea=M,or!==null)if(Ea)try{a=or,m=d.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)}catch(q){Dn(d,s,q)}else try{or.removeChild(d.stateNode)}catch(q){Dn(d,s,q)}break;case 18:or!==null&&(Ea?(s=or,d=d.stateNode,s.nodeType===8?Av(s.parentNode,d):s.nodeType===1&&Av(s,d),gf(s)):Av(or,d.stateNode));break;case 4:m=or,S=Ea,or=d.stateNode.containerInfo,Ea=!0,Fi(a,s,d),or=m,Ea=S;break;case 0:case 11:case 14:case 15:kn||Xo(2,d,s),kn||Xo(4,d,s),Fi(a,s,d);break;case 1:kn||(jr(d,s),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Hh(d,s,m)),Fi(a,s,d);break;case 21:Fi(a,s,d);break;case 22:kn||jr(d,s),kn=(m=kn)||d.memoizedState!==null,Fi(a,s,d),kn=m;break;default:Fi(a,s,d)}}function Jp(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{gf(a)}catch(d){Dn(s,s.return,d)}}function Xh(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new $p),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new $p),s;default:throw Error(r(435,a.tag))}}function Nc(a,s){var d=Xh(a);s.forEach(function(m){var S=j0.bind(null,a,m);d.has(m)||(d.add(m),m.then(S,S))})}function Mr(a,s){var d=s.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m],M=a,q=s,ee=q;e:for(;ee!==null;){switch(ee.tag){case 27:case 5:or=ee.stateNode,Ea=!1;break e;case 3:or=ee.stateNode.containerInfo,Ea=!0;break e;case 4:or=ee.stateNode.containerInfo,Ea=!0;break e}ee=ee.return}if(or===null)throw Error(r(160));qh(M,q,S),or=null,Ea=!1,M=S.alternate,M!==null&&(M.return=null),S.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Wh(s,a),s=s.sibling}var wa=null;function Wh(a,s){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mr(s,a),Ta(a),m&4&&(Xo(3,a,a.return),ir(3,a),Xo(5,a,a.return));break;case 1:Mr(s,a),Ta(a),m&512&&(kn||d===null||jr(d,d.return)),m&64&&fo&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var S=wa;if(Mr(s,a),Ta(a),m&512&&(kn||d===null||jr(d,d.return)),m&4){var M=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":M=S.getElementsByTagName("title")[0],(!M||M[Ia]||M[fn]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=S.createElement(m),S.head.insertBefore(M,S.querySelector("head > title"))),yr(M,m,d),M[fn]=a,Sn(M),m=M;break e;case"link":var q=Bm("link","href",S).get(m+(d.href||""));if(q){for(var ee=0;ee<q.length;ee++)if(M=q[ee],M.getAttribute("href")===(d.href==null?null:d.href)&&M.getAttribute("rel")===(d.rel==null?null:d.rel)&&M.getAttribute("title")===(d.title==null?null:d.title)&&M.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){q.splice(ee,1);break t}}M=S.createElement(m),yr(M,m,d),S.head.appendChild(M);break;case"meta":if(q=Bm("meta","content",S).get(m+(d.content||""))){for(ee=0;ee<q.length;ee++)if(M=q[ee],M.getAttribute("content")===(d.content==null?null:""+d.content)&&M.getAttribute("name")===(d.name==null?null:d.name)&&M.getAttribute("property")===(d.property==null?null:d.property)&&M.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&M.getAttribute("charset")===(d.charSet==null?null:d.charSet)){q.splice(ee,1);break t}}M=S.createElement(m),yr(M,m,d),S.head.appendChild(M);break;default:throw Error(r(468,m))}M[fn]=a,Sn(M),m=M}a.stateNode=m}else _m(S,a.type,a.stateNode);else a.stateNode=sf(S,m,a.memoizedProps);else M!==m?(M===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):M.count--,m===null?_m(S,a.type,a.stateNode):sf(S,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Xp(a,a.memoizedProps,d.memoizedProps)}break;case 27:if(m&4&&a.alternate===null){S=a.stateNode,M=a.memoizedProps;try{for(var ue=S.firstChild;ue;){var Ee=ue.nextSibling,He=ue.nodeName;ue[Ia]||He==="HEAD"||He==="BODY"||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&ue.rel.toLowerCase()==="stylesheet"||S.removeChild(ue),ue=Ee}for(var Je=a.type,Ne=S.attributes;Ne.length;)S.removeAttributeNode(Ne[0]);yr(S,Je,M),S[fn]=a,S[cn]=M}catch(Et){Dn(a,a.return,Et)}}case 5:if(Mr(s,a),Ta(a),m&512&&(kn||d===null||jr(d,d.return)),a.flags&32){S=a.stateNode;try{ei(S,"")}catch(Et){Dn(a,a.return,Et)}}m&4&&a.stateNode!=null&&(S=a.memoizedProps,Xp(a,S,d!==null?d.memoizedProps:S)),m&1024&&(Vh=!0);break;case 6:if(Mr(s,a),Ta(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Et){Dn(a,a.return,Et)}}break;case 3:if($c=null,S=wa,wa=qc(s.containerInfo),Mr(s,a),wa=S,Ta(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{gf(s.containerInfo)}catch(Et){Dn(a,a.return,Et)}Vh&&(Vh=!1,qu(a));break;case 4:m=wa,wa=qc(a.stateNode.containerInfo),Mr(s,a),Ta(a),wa=m;break;case 12:Mr(s,a),Ta(a);break;case 13:Mr(s,a),Ta(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(nv=it()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Nc(a,m)));break;case 22:if(m&512&&(kn||d===null||jr(d,d.return)),ue=a.memoizedState!==null,Ee=d!==null&&d.memoizedState!==null,He=fo,Je=kn,fo=He||ue,kn=Je||Ee,Mr(s,a),kn=Je,fo=He,Ta(a),s=a.stateNode,s._current=a,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,m&8192&&(s._visibility=ue?s._visibility&-2:s._visibility|1,ue&&(s=fo||kn,d===null||Ee||s||zr(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(d=null,s=a;;){if(s.tag===5||s.tag===26||s.tag===27){if(d===null){Ee=d=s;try{if(S=Ee.stateNode,ue)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{q=Ee.stateNode,ee=Ee.memoizedProps.style;var Ge=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;q.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Et){Dn(Ee,Ee.return,Et)}}}else if(s.tag===6){if(d===null){Ee=s;try{Ee.stateNode.nodeValue=ue?"":Ee.memoizedProps}catch(Et){Dn(Ee,Ee.return,Et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Nc(a,d))));break;case 19:Mr(s,a),Ta(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Nc(a,m)));break;case 21:break;default:Mr(s,a),Ta(a)}}function Ta(a){var s=a.flags;if(s&2){try{if(a.tag!==27){e:{for(var d=a.return;d!==null;){if(Wp(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 27:var S=m.stateNode,M=di(a);Al(a,M,S);break;case 5:var q=m.stateNode;m.flags&32&&(ei(q,""),m.flags&=-33);var ee=di(a);Al(a,ee,q);break;case 3:case 4:var ue=m.stateNode.containerInfo,Ee=di(a);mr(a,Ee,ue);break;default:throw Error(r(161))}}}catch(He){Dn(a,a.return,He)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function qu(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;qu(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ki(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zp(a,s.alternate,s),s=s.sibling}function zr(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Xo(4,s,s.return),zr(s);break;case 1:jr(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&Hh(s,s.return,d),zr(s);break;case 26:case 27:case 5:jr(s,s.return),zr(s);break;case 22:jr(s,s.return),s.memoizedState===null&&zr(s);break;default:zr(s)}a=a.sibling}}function ea(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,S=a,M=s,q=M.flags;switch(M.tag){case 0:case 11:case 15:ea(S,M,d),ir(4,M);break;case 1:if(ea(S,M,d),m=M,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ee){Dn(m,m.return,Ee)}if(m=M,S=m.updateQueue,S!==null){var ee=m.stateNode;try{var ue=S.shared.hiddenCallbacks;if(ue!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ue.length;S++)Dc(ue[S],ee)}catch(Ee){Dn(m,m.return,Ee)}}d&&q&64&&Yp(M),Ns(M,M.return);break;case 26:case 27:case 5:ea(S,M,d),d&&m===null&&q&4&&qp(M),Ns(M,M.return);break;case 12:ea(S,M,d);break;case 13:ea(S,M,d),d&&q&4&&Jp(S,M);break;case 22:M.memoizedState===null&&ea(S,M,d),Ns(M,M.return);break;default:ea(S,M,d)}s=s.sibling}}function $h(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Ru(d))}function Lc(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ru(a))}function Wo(a,s,d,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jp(a,s,d,m),s=s.sibling}function jp(a,s,d,m){var S=s.flags;switch(s.tag){case 0:case 11:case 15:Wo(a,s,d,m),S&2048&&ir(9,s);break;case 3:Wo(a,s,d,m),S&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ru(a)));break;case 12:if(S&2048){Wo(a,s,d,m),a=s.stateNode;try{var M=s.memoizedProps,q=M.id,ee=M.onPostCommit;typeof ee=="function"&&ee(q,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ue){Dn(s,s.return,ue)}}else Wo(a,s,d,m);break;case 23:break;case 22:M=s.stateNode,s.memoizedState!==null?M._visibility&4?Wo(a,s,d,m):Xu(a,s):M._visibility&4?Wo(a,s,d,m):(M._visibility|=4,Rl(a,s,d,m,(s.subtreeFlags&10256)!==0)),S&2048&&$h(s.alternate,s);break;case 24:Wo(a,s,d,m),S&2048&&Lc(s.alternate,s);break;default:Wo(a,s,d,m)}}function Rl(a,s,d,m,S){for(S=S&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var M=a,q=s,ee=d,ue=m,Ee=q.flags;switch(q.tag){case 0:case 11:case 15:Rl(M,q,ee,ue,S),ir(8,q);break;case 23:break;case 22:var He=q.stateNode;q.memoizedState!==null?He._visibility&4?Rl(M,q,ee,ue,S):Xu(M,q):(He._visibility|=4,Rl(M,q,ee,ue,S)),S&&Ee&2048&&$h(q.alternate,q);break;case 24:Rl(M,q,ee,ue,S),S&&Ee&2048&&Lc(q.alternate,q);break;default:Rl(M,q,ee,ue,S)}s=s.sibling}}function Xu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,m=s,S=m.flags;switch(m.tag){case 22:Xu(d,m),S&2048&&$h(m.alternate,m);break;case 24:Xu(d,m),S&2048&&Lc(m.alternate,m);break;default:Xu(d,m)}s=s.sibling}}var Wu=8192;function Ml(a){if(a.subtreeFlags&Wu)for(a=a.child;a!==null;)em(a),a=a.sibling}function em(a){switch(a.tag){case 26:Ml(a),a.flags&Wu&&a.memoizedState!==null&&hb(wa,a.memoizedState,a.memoizedProps);break;case 5:Ml(a);break;case 3:case 4:var s=wa;wa=qc(a.stateNode.containerInfo),Ml(a),wa=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=Wu,Wu=16777216,Ml(a),Wu=s):Ml(a));break;default:Ml(a)}}function tm(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function $u(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];Zn=m,Kh(m,a)}tm(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nm(a),a=a.sibling}function nm(a){switch(a.tag){case 0:case 11:case 15:$u(a),a.flags&2048&&Xo(9,a,a.return);break;case 3:$u(a);break;case 12:$u(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&4&&(a.return===null||a.return.tag!==13)?(s._visibility&=-5,Ic(a)):$u(a);break;default:$u(a)}}function Ic(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];Zn=m,Kh(m,a)}tm(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Xo(8,s,s.return),Ic(s);break;case 22:d=s.stateNode,d._visibility&4&&(d._visibility&=-5,Ic(s));break;default:Ic(s)}a=a.sibling}}function Kh(a,s){for(;Zn!==null;){var d=Zn;switch(d.tag){case 0:case 11:case 15:Xo(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ru(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Zn=m;else e:for(d=a;Zn!==null;){m=Zn;var S=m.sibling,M=m.return;if(Qp(m),m===d){Zn=null;break e}if(S!==null){S.return=M,Zn=S;break e}Zn=M}}}function rm(a,s,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(a,s,d,m){return new rm(a,s,d,m)}function Zh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $o(a,s){var d=a.alternate;return d===null?(d=Sa(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&31457280,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function am(a,s){a.flags&=31457282;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Ku(a,s,d,m,S,M){var q=0;if(m=a,typeof a=="function")Zh(a)&&(q=1);else if(typeof a=="string")q=cb(a,d,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case c:return Ls(d.children,S,M,s);case f:q=8,S|=24;break;case v:return a=Sa(12,d,s,S|2),a.elementType=v,a.lanes=M,a;case x:return a=Sa(13,d,s,S),a.elementType=x,a.lanes=M,a;case T:return a=Sa(19,d,s,S),a.elementType=T,a.lanes=M,a;case A:return im(d,S,M,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case g:case y:q=10;break e;case b:q=9;break e;case E:q=11;break e;case w:q=14;break e;case R:q=16,m=null;break e}q=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return s=Sa(q,d,s,S),s.elementType=a,s.type=m,s.lanes=M,s}function Ls(a,s,d,m){return a=Sa(7,a,m,s),a.lanes=d,a}function im(a,s,d,m){a=Sa(22,a,m,s),a.elementType=A,a.lanes=d;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=S._current;if(M===null)throw Error(r(456));if((S._pendingVisibility&2)===0){var q=ni(M,2);q!==null&&(S._pendingVisibility|=2,Or(q,M,2))}},attach:function(){var M=S._current;if(M===null)throw Error(r(456));if((S._pendingVisibility&2)!==0){var q=ni(M,2);q!==null&&(S._pendingVisibility&=-3,Or(q,M,2))}}};return a.stateNode=S,a}function Qh(a,s,d){return a=Sa(6,a,null,s),a.lanes=d,a}function Jh(a,s,d){return s=Sa(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function co(a){a.flags|=4}function om(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Pm(s)){if(s=Va.current,s!==null&&((an&4194176)===an?Ni!==null:(an&62914560)!==an&&(an&536870912)===0||s!==Ni))throw xu=Lo,Su;a.flags|=8192}}function Gr(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?At():536870912,a.lanes|=s,Dl|=s)}function Zu(a,s){if(!Pt)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Hn(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(s)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&31457280,m|=S.flags&31457280,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=m,a.childLanes=d,s}function V0(a,s,d){var m=s.pendingProps;switch(lh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(s),null;case 1:return Hn(s),null;case 3:return d=s.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),Bi(ur),ot(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(xs(s)?co(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ri!==null&&(Nl(ri),ri=null))),Hn(s),null;case 26:return d=s.memoizedState,a===null?(co(s),d!==null?(Hn(s),om(s,d)):(Hn(s),s.flags&=-16777217)):d?d!==a.memoizedState?(co(s),Hn(s),om(s,d)):(Hn(s),s.flags&=-16777217):(a.memoizedProps!==m&&co(s),Hn(s),s.flags&=-16777217),null;case 27:Pe(s),d=_e.current;var S=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==m&&co(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return Hn(s),null}a=le.current,xs(s)?lc(s):(a=Mv(S,m,d),s.stateNode=a,co(s))}return Hn(s),null;case 5:if(Pe(s),d=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&co(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return Hn(s),null}if(a=le.current,xs(s))lc(s);else{switch(S=Hc(_e.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?S.createElement("select",{is:m.is}):S.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?S.createElement(d,{is:m.is}):S.createElement(d)}}a[fn]=s,a[cn]=m;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=a;e:switch(yr(a,d,m),d){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&co(s)}}return Hn(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==m&&co(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(a=_e.current,xs(s)){if(a=s.stateNode,d=s.memoizedProps,m=null,S=kr,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}a[fn]=s,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||zt(a.nodeValue,d)),a||Ss(s)}else a=Hc(a).createTextNode(m),a[fn]=s,s.stateNode=a}return Hn(s),null;case 13:if(m=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=xs(s),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[fn]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Hn(s),S=!1}else ri!==null&&(Nl(ri),ri=null),S=!0;if(!S)return s.flags&256?(ro(s),s):(ro(s),null)}if(ro(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=m!==null,a=a!==null&&a.memoizedState!==null,d){m=s.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool);var M=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==S&&(m.flags|=2048)}return d!==a&&d&&(s.child.flags|=8192),Gr(s,s.updateQueue),Hn(s),null;case 4:return ot(),a===null&&Ev(s.stateNode.containerInfo),Hn(s),null;case 10:return Bi(s.type),Hn(s),null;case 19:if(te(lr),S=s.memoizedState,S===null)return Hn(s),null;if(m=(s.flags&128)!==0,M=S.rendering,M===null)if(m)Zu(S,!1);else{if(Qn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(M=cc(a),M!==null){for(s.flags|=128,Zu(S,!1),a=M.updateQueue,s.updateQueue=a,Gr(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)am(d,a),d=d.sibling;return ae(lr,lr.current&1|2),s.child}a=a.sibling}S.tail!==null&&it()>Bc&&(s.flags|=128,m=!0,Zu(S,!1),s.lanes=4194304)}else{if(!m)if(a=cc(M),a!==null){if(s.flags|=128,m=!0,a=a.updateQueue,s.updateQueue=a,Gr(s,a),Zu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!Pt)return Hn(s),null}else 2*it()-S.renderingStartTime>Bc&&d!==536870912&&(s.flags|=128,m=!0,Zu(S,!1),s.lanes=4194304);S.isBackwards?(M.sibling=s.child,s.child=M):(a=S.last,a!==null?a.sibling=M:s.child=M,S.last=M)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=it(),s.sibling=null,a=lr.current,ae(lr,m?a&1|2:a&1),s):(Hn(s),null);case 22:case 23:return ro(s),fh(),m=s.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(d&536870912)!==0&&(s.flags&128)===0&&(Hn(s),s.subtreeFlags&6&&(s.flags|=8192)):Hn(s),d=s.updateQueue,d!==null&&Gr(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048),a!==null&&te(Cs),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Bi(ur),Hn(s),null;case 25:return null}throw Error(r(156,s.tag))}function sm(a,s){switch(lh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Bi(ur),ot(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Pe(s),null;case 13:if(ro(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Di()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return te(lr),null;case 4:return ot(),null;case 10:return Bi(s.type),null;case 22:case 23:return ro(s),fh(),a!==null&&te(Cs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Bi(ur),null;case 25:return null;default:return null}}function lm(a,s){switch(lh(s),s.tag){case 3:Bi(ur),ot();break;case 26:case 27:case 5:Pe(s);break;case 4:ot();break;case 13:ro(s);break;case 19:te(lr);break;case 10:Bi(s.type);break;case 22:case 23:ro(s),fh(),a!==null&&te(Cs);break;case 24:Bi(ur)}}var Y0={getCacheForType:function(a){var s=Rr(ur),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d}},q0=typeof WeakMap=="function"?WeakMap:Map,Vn=0,An=null,Qt=null,an=0,Ln=0,xa=null,ho=!1,Ol=!1,jh=!1,vo=0,Qn=0,Ko=0,Is=0,ev=0,qa=0,Dl=0,Qu=null,Ui=null,tv=!1,nv=0,Bc=1/0,_c=null,zi=null,Ju=!1,Bs=null,ju=0,rv=0,av=null,ef=0,iv=null;function Ca(){if((Vn&2)!==0&&an!==0)return an&-an;if(F.T!==null){var a=sl;return a!==0?a:gv()}return $t()}function um(){qa===0&&(qa=(an&536870912)===0||Pt?st():536870912);var a=Va.current;return a!==null&&(a.flags|=32),qa}function Or(a,s,d){(a===An&&Ln===2||a.cancelPendingCommit!==null)&&(Ll(a,0),go(a,an,qa,!1)),gt(a,d),((Vn&2)===0||a!==An)&&(a===An&&((Vn&2)===0&&(Is|=d),Qn===4&&go(a,an,qa,!1)),hi(a))}function fm(a,s,d){if((Vn&6)!==0)throw Error(r(327));var m=!d&&(s&60)===0&&(s&a.expiredLanes)===0||Rt(a,s),S=m?$0(a,s):lv(a,s,!0),M=m;do{if(S===0){Ol&&!m&&go(a,s,0,!1);break}else if(S===6)go(a,s,0,!ho);else{if(d=a.current.alternate,M&&!X0(d)){S=lv(a,s,!1),M=!1;continue}if(S===2){if(M=s,a.errorRecoveryDisabledLanes&M)var q=0;else q=a.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){s=q;e:{var ee=a;S=Qu;var ue=ee.current.memoizedState.isDehydrated;if(ue&&(Ll(ee,q).flags|=256),q=lv(ee,q,!1),q!==2){if(jh&&!ue){ee.errorRecoveryDisabledLanes|=M,Is|=M,S=4;break e}M=Ui,Ui=S,M!==null&&Nl(M)}S=q}if(M=!1,S!==2)continue}}if(S===1){Ll(a,0),go(a,s,0,!0);break}e:{switch(m=a,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){go(m,s,qa,!ho);break e}break;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(r(329))}if(m.finishedWork=d,m.finishedLanes=s,(s&62914560)===s&&(M=nv+300-it(),10<M)){if(go(m,s,qa,!ho),bt(m,0)!==0)break e;m.timeoutHandle=Cv(cm.bind(null,m,d,Ui,_c,tv,s,qa,Is,Dl,ho,2,-0,0),M);break e}cm(m,d,Ui,_c,tv,s,qa,Is,Dl,ho,0,-0,0)}}break}while(!0);hi(a)}function Nl(a){Ui===null?Ui=a:Ui.push.apply(Ui,a)}function cm(a,s,d,m,S,M,q,ee,ue,Ee,He,Je,Ne){var Ge=s.subtreeFlags;if((Ge&8192||(Ge&16785408)===16785408)&&(lf={stylesheets:null,count:0,unsuspend:db},em(s),s=vb(),s!==null)){a.cancelPendingCommit=s(ym.bind(null,a,d,m,S,q,ee,ue,1,Je,Ne)),go(a,M,q,!Ee);return}ym(a,d,m,S,q,ee,ue,He,Je,Ne)}function X0(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var S=d[m],M=S.getSnapshot;S=S.value;try{if(!va(M(),S))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function go(a,s,d,m){s&=~ev,s&=~Is,a.suspendedLanes|=s,a.pingedLanes&=~s,m&&(a.warmLanes|=s),m=a.expirationTimes;for(var S=s;0<S;){var M=31-Fe(S),q=1<<M;m[M]=-1,S&=~q}d!==0&&Mt(a,d,s)}function Pc(){return(Vn&6)===0?(Fs(0),!1):!0}function ov(){if(Qt!==null){if(Ln===0)var a=Qt.return;else a=Qt,li=Vo=null,cl(a),eo=null,to=0,a=Qt;for(;a!==null;)lm(a.alternate,a),a=a.return;Qt=null}}function Ll(a,s){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,Vc(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ov(),An=a,Qt=d=$o(a.current,null),an=s,Ln=0,xa=null,ho=!1,Ol=Rt(a,s),jh=!1,Dl=qa=ev=Is=Ko=Qn=0,Ui=Qu=null,tv=!1,(s&8)!==0&&(s|=s&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=s;0<m;){var S=31-Fe(m),M=1<<S;s|=a[S],m&=~M}return vo=s,ic(),d}function dm(a,s){Xt=null,F.H=Kn,s===ji?(s=Sp(),Ln=3):s===Su?(s=Sp(),Ln=4):Ln=s===Ih?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xa=s,Qt===null&&(Qn=1,Pu(a,Fr(s,a.current)))}function hm(){var a=F.H;return F.H=Kn,a===null?Kn:a}function vm(){var a=F.A;return F.A=Y0,a}function sv(){Qn=4,ho||(an&4194176)!==an&&Va.current!==null||(Ol=!0),(Ko&134217727)===0&&(Is&134217727)===0||An===null||go(An,an,qa,!1)}function lv(a,s,d){var m=Vn;Vn|=2;var S=hm(),M=vm();(An!==a||an!==s)&&(_c=null,Ll(a,s)),s=!1;var q=Qn;e:do try{if(Ln!==0&&Qt!==null){var ee=Qt,ue=xa;switch(Ln){case 8:ov(),q=6;break e;case 3:case 2:case 6:Va.current===null&&(s=!0);var Ee=Ln;if(Ln=0,xa=null,_s(a,ee,ue,Ee),d&&Ol){q=0;break e}break;default:Ee=Ln,Ln=0,xa=null,_s(a,ee,ue,Ee)}}W0(),q=Qn;break}catch(He){dm(a,He)}while(!0);return s&&a.shellSuspendCounter++,li=Vo=null,Vn=m,F.H=S,F.A=M,Qt===null&&(An=null,an=0,ic()),q}function W0(){for(;Qt!==null;)gm(Qt)}function $0(a,s){var d=Vn;Vn|=2;var m=hm(),S=vm();An!==a||an!==s?(_c=null,Bc=it()+500,Ll(a,s)):Ol=Rt(a,s);e:do try{if(Ln!==0&&Qt!==null){s=Qt;var M=xa;t:switch(Ln){case 1:Ln=0,xa=null,_s(a,s,M,1);break;case 2:if(wp(M)){Ln=0,xa=null,pm(s);break}s=function(){Ln===2&&An===a&&(Ln=7),hi(a)},M.then(s,s);break e;case 3:Ln=7;break e;case 4:Ln=5;break e;case 7:wp(M)?(Ln=0,xa=null,pm(s)):(Ln=0,xa=null,_s(a,s,M,7));break;case 5:var q=null;switch(Qt.tag){case 26:q=Qt.memoizedState;case 5:case 27:var ee=Qt;if(!q||Pm(q)){Ln=0,xa=null;var ue=ee.sibling;if(ue!==null)Qt=ue;else{var Ee=ee.return;Ee!==null?(Qt=Ee,tf(Ee)):Qt=null}break t}}Ln=0,xa=null,_s(a,s,M,5);break;case 6:Ln=0,xa=null,_s(a,s,M,6);break;case 8:ov(),Qn=6;break e;default:throw Error(r(462))}}K0();break}catch(He){dm(a,He)}while(!0);return li=Vo=null,F.H=m,F.A=S,Vn=d,Qt!==null?0:(An=null,an=0,ic(),Qn)}function K0(){for(;Qt!==null&&!at();)gm(Qt)}function gm(a){var s=zh(a.alternate,a,vo);a.memoizedProps=a.pendingProps,s===null?tf(a):Qt=s}function pm(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=Ds(d,s,s.pendingProps,s.type,void 0,an);break;case 11:s=Ds(d,s,s.pendingProps,s.type.render,s.ref,an);break;case 5:cl(s);default:lm(d,s),s=Qt=am(s,vo),s=zh(d,s,vo)}a.memoizedProps=a.pendingProps,s===null?tf(a):Qt=s}function _s(a,s,d,m){li=Vo=null,cl(s),eo=null,to=0;var S=s.return;try{if(G0(a,S,s,d,an)){Qn=1,Pu(a,Fr(d,a.current)),Qt=null;return}}catch(M){if(S!==null)throw Qt=S,M;Qn=1,Pu(a,Fr(d,a.current)),Qt=null;return}s.flags&32768?(Pt||m===1?a=!0:Ol||(an&536870912)!==0?a=!1:(ho=a=!0,(m===2||m===3||m===6)&&(m=Va.current,m!==null&&m.tag===13&&(m.flags|=16384))),mm(s,a)):tf(s)}function tf(a){var s=a;do{if((s.flags&32768)!==0){mm(s,ho);return}a=s.return;var d=V0(s.alternate,s,vo);if(d!==null){Qt=d;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=a}while(s!==null);Qn===0&&(Qn=5)}function mm(a,s){do{var d=sm(a.alternate,a);if(d!==null){d.flags&=32767,Qt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){Qt=a;return}Qt=a=d}while(a!==null);Qn=6,Qt=null}function ym(a,s,d,m,S,M,q,ee,ue,Ee){var He=F.T,Je=re.p;try{re.p=2,F.T=null,Z0(a,s,d,m,Je,S,M,q,ee,ue,Ee)}finally{F.T=He,re.p=Je}}function Z0(a,s,d,m,S,M,q,ee){do po();while(Bs!==null);if((Vn&6)!==0)throw Error(r(327));var ue=a.finishedWork;if(m=a.finishedLanes,ue===null)return null;if(a.finishedWork=null,a.finishedLanes=0,ue===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var Ee=ue.lanes|ue.childLanes;if(Ee|=ih,ln(a,m,Ee,M,q,ee),a===An&&(Qt=An=null,an=0),(ue.subtreeFlags&10256)===0&&(ue.flags&10256)===0||Ju||(Ju=!0,rv=Ee,av=d,eb(pe,function(){return po(),null})),d=(ue.flags&15990)!==0,(ue.subtreeFlags&15990)!==0||d?(d=F.T,F.T=null,M=re.p,re.p=2,q=Vn,Vn|=4,Kp(a,ue),Wh(ue,a),N0(Sv,a.containerInfo),ff=!!Tv,Sv=Tv=null,a.current=ue,Zp(a,ue.alternate,ue),tt(),Vn=q,re.p=M,F.T=d):a.current=ue,Ju?(Ju=!1,Bs=a,ju=m):bm(a,Ee),Ee=a.pendingLanes,Ee===0&&(zi=null),ke(ue.stateNode),hi(a),s!==null)for(S=a.onRecoverableError,ue=0;ue<s.length;ue++)Ee=s[ue],S(Ee.value,{componentStack:Ee.stack});return(ju&3)!==0&&po(),Ee=a.pendingLanes,(m&4194218)!==0&&(Ee&42)!==0?a===iv?ef++:(ef=0,iv=a):ef=0,Fs(0),null}function bm(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ru(s)))}function po(){if(Bs!==null){var a=Bs,s=rv;rv=0;var d=Bn(ju),m=F.T,S=re.p;try{if(re.p=32>d?32:d,F.T=null,Bs===null)var M=!1;else{d=av,av=null;var q=Bs,ee=ju;if(Bs=null,ju=0,(Vn&6)!==0)throw Error(r(331));var ue=Vn;if(Vn|=4,nm(q.current),jp(q,q.current,ee,d),Vn=ue,Fs(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(de,q)}catch{}M=!0}return M}finally{re.p=S,F.T=m,bm(a,s)}}return!1}function Em(a,s,d){s=Fr(d,s),s=Fu(a.stateNode,s,2),a=ba(a,s,2),a!==null&&(gt(a,2),hi(a))}function Dn(a,s,d){if(a.tag===3)Em(a,a,d);else for(;s!==null;){if(s.tag===3){Em(s,a,d);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(zi===null||!zi.has(m))){a=Fr(d,a),d=Gp(2),m=ba(s,d,2),m!==null&&(Hp(d,m,s,a),gt(m,2),hi(m));break}}s=s.return}}function uv(a,s,d){var m=a.pingCache;if(m===null){m=a.pingCache=new q0;var S=new Set;m.set(s,S)}else S=m.get(s),S===void 0&&(S=new Set,m.set(s,S));S.has(d)||(jh=!0,S.add(d),a=Q0.bind(null,a,s,d),s.then(a,a))}function Q0(a,s,d){var m=a.pingCache;m!==null&&m.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,An===a&&(an&d)===d&&(Qn===4||Qn===3&&(an&62914560)===an&&300>it()-nv?(Vn&2)===0&&Ll(a,0):ev|=d,Dl===an&&(Dl=0)),hi(a)}function wm(a,s){s===0&&(s=At()),a=ni(a,s),a!==null&&(gt(a,s),hi(a))}function J0(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),wm(a,d)}function j0(a,s){var d=0;switch(a.tag){case 13:var m=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(s),wm(a,d)}function eb(a,s){return Ke(a,s)}var Fc=null,Il=null,fv=!1,Ps=!1,cv=!1,Zo=0;function hi(a){a!==Il&&a.next===null&&(Il===null?Fc=Il=a:Il=Il.next=a),Ps=!0,fv||(fv=!0,tb(Tm))}function Fs(a,s){if(!cv&&Ps){cv=!0;do for(var d=!1,m=Fc;m!==null;){if(a!==0){var S=m.pendingLanes;if(S===0)var M=0;else{var q=m.suspendedLanes,ee=m.pingedLanes;M=(1<<31-Fe(42|a)+1)-1,M&=S&~(q&~ee),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(d=!0,vv(m,M))}else M=an,M=bt(m,m===An?M:0),(M&3)===0||Rt(m,M)||(d=!0,vv(m,M));m=m.next}while(d);cv=!1}}function Tm(){Ps=fv=!1;var a=0;Zo!==0&&(mo()&&(a=Zo),Zo=0);for(var s=it(),d=null,m=Fc;m!==null;){var S=m.next,M=dv(m,s);M===0?(m.next=null,d===null?Fc=S:d.next=S,S===null&&(Il=d)):(d=m,(a!==0||(M&3)!==0)&&(Ps=!0)),m=S}Fs(a)}function dv(a,s){for(var d=a.suspendedLanes,m=a.pingedLanes,S=a.expirationTimes,M=a.pendingLanes&-62914561;0<M;){var q=31-Fe(M),ee=1<<q,ue=S[q];ue===-1?((ee&d)===0||(ee&m)!==0)&&(S[q]=ht(ee,s)):ue<=s&&(a.expiredLanes|=ee),M&=~ee}if(s=An,d=an,d=bt(a,a===s?d:0),m=a.callbackNode,d===0||a===s&&Ln===2||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Qe(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Rt(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(m!==null&&Qe(m),Bn(d)){case 2:case 8:d=j;break;case 32:d=pe;break;case 268435456:d=Te;break;default:d=pe}return m=hv.bind(null,a),d=Ke(d,m),a.callbackPriority=s,a.callbackNode=d,s}return m!==null&&m!==null&&Qe(m),a.callbackPriority=2,a.callbackNode=null,2}function hv(a,s){var d=a.callbackNode;if(po()&&a.callbackNode!==d)return null;var m=an;return m=bt(a,a===An?m:0),m===0?null:(fm(a,m,s),dv(a,it()),a.callbackNode!=null&&a.callbackNode===d?hv.bind(null,a):null)}function vv(a,s){if(po())return null;fm(a,s,!0)}function tb(a){Jn(function(){(Vn&6)!==0?Ke(Oe,a):a()})}function gv(){return Zo===0&&(Zo=st()),Zo}function Sm(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:pu(""+a)}function nf(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function kc(a,s,d,m,S){if(s==="submit"&&d&&d.stateNode===S){var M=Sm((S[cn]||null).action),q=m.submitter;q&&(s=(s=q[cn]||null)?Sm(s.formAction):q.getAttribute("formAction"),s!==null&&(M=s,q=null));var ee=new Xf("action","action",null,m,S);a.push({event:ee,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Zo!==0){var ue=q?nf(S,q):new FormData(S);Bu(d,{pending:!0,data:ue,method:S.method,action:M},null,ue)}}else typeof M=="function"&&(ee.preventDefault(),ue=q?nf(S,q):new FormData(S),Bu(d,{pending:!0,data:ue,method:S.method,action:M},M,ue))},currentTarget:S}]})}}for(var pv=0;pv<bp.length;pv++){var mv=bp[pv],yv=mv.toLowerCase(),xm=mv[0].toUpperCase()+mv.slice(1);ka(yv,"on"+xm)}ka(yp,"onAnimationEnd"),ka(ga,"onAnimationIteration"),ka(wu,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(I0,"onTransitionRun"),ka(rl,"onTransitionStart"),ka(ac,"onTransitionCancel"),ka(Tu,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function Cm(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],S=m.event;m=m.listeners;e:{var M=void 0;if(s)for(var q=m.length-1;0<=q;q--){var ee=m[q],ue=ee.instance,Ee=ee.currentTarget;if(ee=ee.listener,ue!==M&&S.isPropagationStopped())break e;M=ee,S.currentTarget=Ee;try{M(S)}catch(He){bl(He)}S.currentTarget=null,M=ue}else for(q=0;q<m.length;q++){if(ee=m[q],ue=ee.instance,Ee=ee.currentTarget,ee=ee.listener,ue!==M&&S.isPropagationStopped())break e;M=ee,S.currentTarget=Ee;try{M(S)}catch(He){bl(He)}S.currentTarget=null,M=ue}}}}function tn(a,s){var d=s[ua];d===void 0&&(d=s[ua]=new Set);var m=a+"__bubble";d.has(m)||(Am(s,a,2,!1),d.add(m))}function bv(a,s,d){var m=0;s&&(m|=4),Am(d,a,m,s)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Ev(a){if(!a[Uc]){a[Uc]=!0,hs.forEach(function(d){d!=="selectionchange"&&(nb.has(d)||bv(d,!1,a),bv(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Uc]||(s[Uc]=!0,bv("selectionchange",!1,s))}}function Am(a,s,d,m){switch(zm(s)){case 2:var S=pb;break;case 8:S=mb;break;default:S=_v}d=S.bind(null,s,d,a),S=void 0,!yu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(S=!0),m?S!==void 0?a.addEventListener(s,d,{capture:!0,passive:S}):a.addEventListener(s,d,!0):S!==void 0?a.addEventListener(s,d,{passive:S}):a.addEventListener(s,d,!1)}function wv(a,s,d,m,S){var M=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var q=m.tag;if(q===3||q===4){var ee=m.stateNode.containerInfo;if(ee===S||ee.nodeType===8&&ee.parentNode===S)break;if(q===4)for(q=m.return;q!==null;){var ue=q.tag;if((ue===3||ue===4)&&(ue=q.stateNode.containerInfo,ue===S||ue.nodeType===8&&ue.parentNode===S))return;q=q.return}for(;ee!==null;){if(q=xr(ee),q===null)return;if(ue=q.tag,ue===5||ue===6||ue===26||ue===27){m=M=q;continue e}ee=ee.parentNode}}m=m.return}Qg(function(){var Ee=M,He=Xd(d),Je=[];e:{var Ne=yn.get(a);if(Ne!==void 0){var Ge=Xf,Et=a;switch(a){case"keypress":if(xn(d)===0)break e;case"keydown":case"keyup":Ge=Qd;break;case"focusin":Et="focus",Ge=$f;break;case"focusout":Et="blur",Ge=$f;break;case"beforeblur":case"afterblur":Ge=$f;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=S0;break;case yp:case ga:case wu:Ge=np;break;case Tu:Ge=x0;break;case"scroll":case"scrollend":Ge=E0;break;case"wheel":Ge=A0;break;case"copy":case"cut":case"paste":Ge=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Ki;break;case"toggle":case"beforetoggle":Ge=Zf}var kt=(s&4)!==0,qn=!kt&&(a==="scroll"||a==="scrollend"),Ce=kt?Ne!==null?Ne+"Capture":null:Ne;kt=[];for(var be=Ee,Me;be!==null;){var Xe=be;if(Me=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Me===null||Ce===null||(Xe=mu(be,Ce),Xe!=null&&kt.push(af(be,Xe,Me))),qn)break;be=be.return}0<kt.length&&(Ne=new Ge(Ne,Et,null,d,He),Je.push({event:Ne,listeners:kt}))}}if((s&7)===0){e:{if(Ne=a==="mouseover"||a==="pointerover",Ge=a==="mouseout"||a==="pointerout",Ne&&d!==qd&&(Et=d.relatedTarget||d.fromElement)&&(xr(Et)||Et[la]))break e;if((Ge||Ne)&&(Ne=He.window===He?He:(Ne=He.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ge?(Et=d.relatedTarget||d.toElement,Ge=Ee,Et=Et?xr(Et):null,Et!==null&&(qn=k(Et),kt=Et.tag,Et!==qn||kt!==5&&kt!==27&&kt!==6)&&(Et=null)):(Ge=null,Et=Ee),Ge!==Et)){if(kt=Mo,Xe="onMouseLeave",Ce="onMouseEnter",be="mouse",(a==="pointerout"||a==="pointerover")&&(kt=Ki,Xe="onPointerLeave",Ce="onPointerEnter",be="pointer"),qn=Ge==null?Ne:Cr(Ge),Me=Et==null?Ne:Cr(Et),Ne=new kt(Xe,be+"leave",Ge,d,He),Ne.target=qn,Ne.relatedTarget=Me,Xe=null,xr(He)===Ee&&(kt=new kt(Ce,be+"enter",Et,d,He),kt.target=Me,kt.relatedTarget=qn,Xe=kt),qn=Xe,Ge&&Et)t:{for(kt=Ge,Ce=Et,be=0,Me=kt;Me;Me=Bl(Me))be++;for(Me=0,Xe=Ce;Xe;Xe=Bl(Xe))Me++;for(;0<be-Me;)kt=Bl(kt),be--;for(;0<Me-be;)Ce=Bl(Ce),Me--;for(;be--;){if(kt===Ce||Ce!==null&&kt===Ce.alternate)break t;kt=Bl(kt),Ce=Bl(Ce)}kt=null}else kt=null;Ge!==null&&Xa(Je,Ne,Ge,kt,!1),Et!==null&&qn!==null&&Xa(Je,qn,Et,kt,!0)}}e:{if(Ne=Ee?Cr(Ee):window,Ge=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Ne.type==="file")var mt=cp;else if(ec(Ne))if(dp)mt=O0;else{mt=No;var Kt=gp}else Ge=Ne.nodeName,!Ge||Ge.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?Ee&&Yf(Ee.elementType)&&(mt=cp):mt=rc;if(mt&&(mt=mt(a,Ee))){el(Je,mt,d,He);break e}Kt&&Kt(a,Ne,Ee),a==="focusout"&&Ee&&Ne.type==="number"&&Ee.memoizedProps.value!=null&&Vd(Ne,"number",Ne.value)}switch(Kt=Ee?Cr(Ee):window,a){case"focusin":(ec(Kt)||Kt.contentEditable==="true")&&(ti=Kt,we=Ee,Ue=null);break;case"focusout":Ue=we=ti=null;break;case"mousedown":Be=!0;break;case"contextmenu":case"mouseup":case"dragend":Be=!1,pt(Je,d,He);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":pt(Je,d,He)}var Tt;if(eh)e:{switch(a){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Oo?up(a,d)&&(Nt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Nt="onCompositionStart");Nt&&(Qf&&d.locale!=="ko"&&(Oo||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Oo&&(Tt=Jg()):(Ro=He,$d="value"in Ro?Ro.value:Ro.textContent,Oo=!0)),Kt=zc(Ee,Nt),0<Kt.length&&(Nt=new Zr(Nt,a,null,d,He),Je.push({event:Nt,listeners:Kt}),Tt?Nt.data=Tt:(Tt=jf(d),Tt!==null&&(Nt.data=Tt)))),(Tt=lp?R0(a,d):fp(a,d))&&(Nt=zc(Ee,"onBeforeInput"),0<Nt.length&&(Kt=new Zr("onBeforeInput","beforeinput",null,d,He),Je.push({event:Kt,listeners:Nt}),Kt.data=Tt)),kc(Je,a,Ee,d,He)}Cm(Je,s)})}function af(a,s,d){return{instance:a,listener:s,currentTarget:d}}function zc(a,s){for(var d=s+"Capture",m=[];a!==null;){var S=a,M=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||M===null||(S=mu(a,d),S!=null&&m.unshift(af(a,S,M)),S=mu(a,s),S!=null&&m.push(af(a,S,M))),a=a.return}return m}function Bl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Xa(a,s,d,m,S){for(var M=s._reactName,q=[];d!==null&&d!==m;){var ee=d,ue=ee.alternate,Ee=ee.stateNode;if(ee=ee.tag,ue!==null&&ue===m)break;ee!==5&&ee!==26&&ee!==27||Ee===null||(ue=Ee,S?(Ee=mu(d,M),Ee!=null&&q.unshift(af(d,Ee,ue))):S||(Ee=mu(d,M),Ee!=null&&q.push(af(d,Ee,ue)))),d=d.return}q.length!==0&&a.push({event:s,listeners:q})}var rb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Qo(a){return(typeof a=="string"?a:""+a).replace(rb,`
`).replace(ab,"")}function zt(a,s){return s=Qo(s),Qo(a)===s}function Gc(){}function Vt(a,s,d,m,S,M){switch(d){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||ei(a,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&ei(a,""+m);break;case"className":hr(a,"class",m);break;case"tabIndex":hr(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(a,d,m);break;case"style":Wg(a,m,M);break;case"data":if(s!=="object"){hr(a,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=pu(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(d==="formAction"?(s!=="input"&&Vt(a,s,"name",S.name,S,null),Vt(a,s,"formEncType",S.formEncType,S,null),Vt(a,s,"formMethod",S.formMethod,S,null),Vt(a,s,"formTarget",S.formTarget,S,null)):(Vt(a,s,"encType",S.encType,S,null),Vt(a,s,"method",S.method,S,null),Vt(a,s,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=pu(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Gc);break;case"onScroll":m!=null&&tn("scroll",a);break;case"onScrollEnd":m!=null&&tn("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=pu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":tn("beforetoggle",a),tn("toggle",a),fa(a,"popover",m);break;case"xlinkActuate":Si(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Si(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Si(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Si(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Si(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Si(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Si(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Si(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Si(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":fa(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=$g.get(d)||d,fa(a,d,m))}}function Yn(a,s,d,m,S,M){switch(d){case"style":Wg(a,m,M);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?ei(a,m):(typeof m=="number"||typeof m=="bigint")&&ei(a,""+m);break;case"onScroll":m!=null&&tn("scroll",a);break;case"onScrollEnd":m!=null&&tn("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),s=d.slice(2,S?d.length-7:void 0),M=a[cn]||null,M=M!=null?M[d]:null,typeof M=="function"&&a.removeEventListener(s,M,S),typeof m=="function")){typeof M!="function"&&M!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,m,S);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):fa(a,d,m)}}}function yr(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",a),tn("load",a);var m=!1,S=!1,M;for(M in d)if(d.hasOwnProperty(M)){var q=d[M];if(q!=null)switch(M){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vt(a,s,M,q,d,null)}}S&&Vt(a,s,"srcSet",d.srcSet,d,null),m&&Vt(a,s,"src",d.src,d,null);return;case"input":tn("invalid",a);var ee=M=q=S=null,ue=null,Ee=null;for(m in d)if(d.hasOwnProperty(m)){var He=d[m];if(He!=null)switch(m){case"name":S=He;break;case"type":q=He;break;case"checked":ue=He;break;case"defaultChecked":Ee=He;break;case"value":M=He;break;case"defaultValue":ee=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,s));break;default:Vt(a,s,m,He,d,null)}}Gf(a,M,ee,ue,Ee,q,S,!1),hu(a);return;case"select":tn("invalid",a),m=q=M=null;for(S in d)if(d.hasOwnProperty(S)&&(ee=d[S],ee!=null))switch(S){case"value":M=ee;break;case"defaultValue":q=ee;break;case"multiple":m=ee;default:Vt(a,s,S,ee,d,null)}s=M,d=q,a.multiple=!!m,s!=null?vs(a,!!m,s,!1):d!=null&&vs(a,!!m,d,!0);return;case"textarea":tn("invalid",a),M=S=m=null;for(q in d)if(d.hasOwnProperty(q)&&(ee=d[q],ee!=null))switch(q){case"value":m=ee;break;case"defaultValue":S=ee;break;case"children":M=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:Vt(a,s,q,ee,d,null)}Vf(a,m,S,M),hu(a);return;case"option":for(ue in d)if(d.hasOwnProperty(ue)&&(m=d[ue],m!=null))switch(ue){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Vt(a,s,ue,m,d,null)}return;case"dialog":tn("cancel",a),tn("close",a);break;case"iframe":case"object":tn("load",a);break;case"video":case"audio":for(m=0;m<rf.length;m++)tn(rf[m],a);break;case"image":tn("error",a),tn("load",a);break;case"details":tn("toggle",a);break;case"embed":case"source":case"link":tn("error",a),tn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in d)if(d.hasOwnProperty(Ee)&&(m=d[Ee],m!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vt(a,s,Ee,m,d,null)}return;default:if(Yf(s)){for(He in d)d.hasOwnProperty(He)&&(m=d[He],m!==void 0&&Yn(a,s,He,m,d,void 0));return}}for(ee in d)d.hasOwnProperty(ee)&&(m=d[ee],m!=null&&Vt(a,s,ee,m,d,null))}function Jo(a,s,d,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,M=null,q=null,ee=null,ue=null,Ee=null,He=null;for(Ge in d){var Je=d[Ge];if(d.hasOwnProperty(Ge)&&Je!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":ue=Je;default:m.hasOwnProperty(Ge)||Vt(a,s,Ge,null,m,Je)}}for(var Ne in m){var Ge=m[Ne];if(Je=d[Ne],m.hasOwnProperty(Ne)&&(Ge!=null||Je!=null))switch(Ne){case"type":M=Ge;break;case"name":S=Ge;break;case"checked":Ee=Ge;break;case"defaultChecked":He=Ge;break;case"value":q=Ge;break;case"defaultValue":ee=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,s));break;default:Ge!==Je&&Vt(a,s,Ne,Ge,m,Je)}}zf(a,q,ee,ue,Ee,He,M,S);return;case"select":Ge=q=ee=Ne=null;for(M in d)if(ue=d[M],d.hasOwnProperty(M)&&ue!=null)switch(M){case"value":break;case"multiple":Ge=ue;default:m.hasOwnProperty(M)||Vt(a,s,M,null,m,ue)}for(S in m)if(M=m[S],ue=d[S],m.hasOwnProperty(S)&&(M!=null||ue!=null))switch(S){case"value":Ne=M;break;case"defaultValue":ee=M;break;case"multiple":q=M;default:M!==ue&&Vt(a,s,S,M,m,ue)}s=ee,d=q,m=Ge,Ne!=null?vs(a,!!d,Ne,!1):!!m!=!!d&&(s!=null?vs(a,!!d,s,!0):vs(a,!!d,d?[]:"",!1));return;case"textarea":Ge=Ne=null;for(ee in d)if(S=d[ee],d.hasOwnProperty(ee)&&S!=null&&!m.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Vt(a,s,ee,null,m,S)}for(q in m)if(S=m[q],M=d[q],m.hasOwnProperty(q)&&(S!=null||M!=null))switch(q){case"value":Ne=S;break;case"defaultValue":Ge=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==M&&Vt(a,s,q,S,m,M)}Hf(a,Ne,Ge);return;case"option":for(var Et in d)if(Ne=d[Et],d.hasOwnProperty(Et)&&Ne!=null&&!m.hasOwnProperty(Et))switch(Et){case"selected":a.selected=!1;break;default:Vt(a,s,Et,null,m,Ne)}for(ue in m)if(Ne=m[ue],Ge=d[ue],m.hasOwnProperty(ue)&&Ne!==Ge&&(Ne!=null||Ge!=null))switch(ue){case"selected":a.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol";break;default:Vt(a,s,ue,Ne,m,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in d)Ne=d[kt],d.hasOwnProperty(kt)&&Ne!=null&&!m.hasOwnProperty(kt)&&Vt(a,s,kt,null,m,Ne);for(Ee in m)if(Ne=m[Ee],Ge=d[Ee],m.hasOwnProperty(Ee)&&Ne!==Ge&&(Ne!=null||Ge!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,s));break;default:Vt(a,s,Ee,Ne,m,Ge)}return;default:if(Yf(s)){for(var qn in d)Ne=d[qn],d.hasOwnProperty(qn)&&Ne!==void 0&&!m.hasOwnProperty(qn)&&Yn(a,s,qn,void 0,m,Ne);for(He in m)Ne=m[He],Ge=d[He],!m.hasOwnProperty(He)||Ne===Ge||Ne===void 0&&Ge===void 0||Yn(a,s,He,Ne,m,Ge);return}}for(var Ce in d)Ne=d[Ce],d.hasOwnProperty(Ce)&&Ne!=null&&!m.hasOwnProperty(Ce)&&Vt(a,s,Ce,null,m,Ne);for(Je in m)Ne=m[Je],Ge=d[Je],!m.hasOwnProperty(Je)||Ne===Ge||Ne==null&&Ge==null||Vt(a,s,Je,Ne,m,Ge)}var Tv=null,Sv=null;function Hc(a){return a.nodeType===9?a:a.ownerDocument}function Rm(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function of(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xv=null;function mo(){var a=window.event;return a&&a.type==="popstate"?a===xv?!1:(xv=a,!0):(xv=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,Vc=typeof clearTimeout=="function"?clearTimeout:void 0,Un=typeof Promise=="function"?Promise:void 0,Jn=typeof queueMicrotask=="function"?queueMicrotask:typeof Un<"u"?function(a){return Un.resolve(null).then(a).catch(Om)}:Cv;function Om(a){setTimeout(function(){throw a})}function Av(a,s){var d=s,m=0;do{var S=d.nextSibling;if(a.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(m===0){a.removeChild(S),gf(s);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=S}while(d);gf(s)}function Rv(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Rv(d),Ba(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function ib(a,s,d,m){for(;a.nodeType===1;){var S=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Ia])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(M=a.getAttribute("rel"),M==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(M!==S.rel||a.getAttribute("href")!==(S.href==null?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(M=a.getAttribute("src"),(M!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&M&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var M=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===M)return a}else return a;if(a=vi(a.nextSibling),a===null)break}return null}function ob(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=vi(a.nextSibling),a===null))return null;return a}function vi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}function Dm(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return a;s--}else d==="/$"&&s++}a=a.previousSibling}return null}function Mv(a,s,d){switch(s=Hc(d),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var Dr=new Map,Yc=new Set;function qc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Gi=re.d;re.d={f:Xc,r:Aa,D:sb,C:lb,L:ub,m:fb,X:yo,S:Lm,M:Yt};function Xc(){var a=Gi.f(),s=Pc();return a||s}function Aa(a){var s=_r(a);s!==null&&s.tag===5&&s.type==="form"?Up(s):Gi.r(a)}var gi=typeof document>"u"?null:document;function Nm(a,s,d){var m=gi;if(m&&typeof s=="string"&&s){var S=da(s);S='link[rel="'+a+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),Yc.has(S)||(Yc.add(S),a={rel:a,crossOrigin:d,href:s},m.querySelector(S)===null&&(s=m.createElement("link"),yr(s,"link",a),Sn(s),m.head.appendChild(s)))}}function sb(a){Gi.D(a),Nm("dns-prefetch",a,null)}function lb(a,s){Gi.C(a,s),Nm("preconnect",a,s)}function ub(a,s,d){Gi.L(a,s,d);var m=gi;if(m&&a&&s){var S='link[rel="preload"][as="'+da(s)+'"]';s==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+da(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+da(d.imageSizes)+'"]')):S+='[href="'+da(a)+'"]';var M=S;switch(s){case"style":M=br(a);break;case"script":M=Pl(a)}Dr.has(M)||(a=V({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),Dr.set(M,a),m.querySelector(S)!==null||s==="style"&&m.querySelector(_l(M))||s==="script"&&m.querySelector(Fl(M))||(s=m.createElement("link"),yr(s,"link",a),Sn(s),m.head.appendChild(s)))}}function fb(a,s){Gi.m(a,s);var d=gi;if(d&&a){var m=s&&typeof s.as=="string"?s.as:"script",S='link[rel="modulepreload"][as="'+da(m)+'"][href="'+da(a)+'"]',M=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=Pl(a)}if(!Dr.has(M)&&(a=V({rel:"modulepreload",href:a},s),Dr.set(M,a),d.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Fl(M)))return}m=d.createElement("link"),yr(m,"link",a),Sn(m),d.head.appendChild(m)}}}function Lm(a,s,d){Gi.S(a,s,d);var m=gi;if(m&&a){var S=Wr(m).hoistableStyles,M=br(a);s=s||"default";var q=S.get(M);if(!q){var ee={loading:0,preload:null};if(q=m.querySelector(_l(M)))ee.loading=5;else{a=V({rel:"stylesheet",href:a,"data-precedence":s},d),(d=Dr.get(M))&&Dv(a,d);var ue=q=m.createElement("link");Sn(ue),yr(ue,"link",a),ue._p=new Promise(function(Ee,He){ue.onload=Ee,ue.onerror=He}),ue.addEventListener("load",function(){ee.loading|=1}),ue.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Wc(q,s,m)}q={type:"stylesheet",instance:q,count:1,state:ee},S.set(M,q)}}}function yo(a,s){Gi.X(a,s);var d=gi;if(d&&a){var m=Wr(d).hoistableScripts,S=Pl(a),M=m.get(S);M||(M=d.querySelector(Fl(S)),M||(a=V({src:a,async:!0},s),(s=Dr.get(S))&&Nv(a,s),M=d.createElement("script"),Sn(M),yr(M,"link",a),d.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},m.set(S,M))}}function Yt(a,s){Gi.M(a,s);var d=gi;if(d&&a){var m=Wr(d).hoistableScripts,S=Pl(a),M=m.get(S);M||(M=d.querySelector(Fl(S)),M||(a=V({src:a,async:!0,type:"module"},s),(s=Dr.get(S))&&Nv(a,s),M=d.createElement("script"),Sn(M),yr(M,"link",a),d.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},m.set(S,M))}}function Ov(a,s,d,m){var S=(S=_e.current)?qc(S):null;if(!S)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=br(d.href),d=Wr(S).hoistableStyles,m=d.get(s),m||(m={type:"style",instance:null,count:0,state:null},d.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=br(d.href);var M=Wr(S).hoistableStyles,q=M.get(a);if(q||(S=S.ownerDocument||S,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(a,q),(M=S.querySelector(_l(a)))&&!M._p&&(q.instance=M,q.state.loading=5),Dr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Dr.set(a,d),M||En(S,a,d,q.state))),s&&m===null)throw Error(r(528,""));return q}if(s&&m!==null)throw Error(r(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pl(d),d=Wr(S).hoistableScripts,m=d.get(s),m||(m={type:"script",instance:null,count:0,state:null},d.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function br(a){return'href="'+da(a)+'"'}function _l(a){return'link[rel="stylesheet"]['+a+"]"}function Im(a){return V({},a,{"data-precedence":a.precedence,precedence:null})}function En(a,s,d,m){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=a.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),yr(s,"link",d),Sn(s),a.head.appendChild(s))}function Pl(a){return'[src="'+da(a)+'"]'}function Fl(a){return"script[async]"+a}function sf(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var m=a.querySelector('style[data-href~="'+da(d.href)+'"]');if(m)return s.instance=m,Sn(m),m;var S=V({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Sn(m),yr(m,"style",S),Wc(m,d.precedence,a),s.instance=m;case"stylesheet":S=br(d.href);var M=a.querySelector(_l(S));if(M)return s.state.loading|=4,s.instance=M,Sn(M),M;m=Im(d),(S=Dr.get(S))&&Dv(m,S),M=(a.ownerDocument||a).createElement("link"),Sn(M);var q=M;return q._p=new Promise(function(ee,ue){q.onload=ee,q.onerror=ue}),yr(M,"link",m),s.state.loading|=4,Wc(M,d.precedence,a),s.instance=M;case"script":return M=Pl(d.src),(S=a.querySelector(Fl(M)))?(s.instance=S,Sn(S),S):(m=d,(S=Dr.get(M))&&(m=V({},d),Nv(m,S)),a=a.ownerDocument||a,S=a.createElement("script"),Sn(S),yr(S,"link",m),a.head.appendChild(S),s.instance=S);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Wc(m,d.precedence,a));return s.instance}function Wc(a,s,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,M=S,q=0;q<m.length;q++){var ee=m[q];if(ee.dataset.precedence===s)M=ee;else if(M!==S)break}M?M.parentNode.insertBefore(a,M.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function Dv(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Nv(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var $c=null;function Bm(a,s,d){if($c===null){var m=new Map,S=$c=new Map;S.set(d,m)}else S=$c,m=S.get(d),m||(m=new Map,S.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),S=0;S<d.length;S++){var M=d[S];if(!(M[Ia]||M[fn]||a==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var q=M.getAttribute(s)||"";q=a+q;var ee=m.get(q);ee?ee.push(M):m.set(q,[M])}}return m}function _m(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function cb(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pm(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var lf=null;function db(){}function hb(a,s,d){if(lf===null)throw Error(r(475));var m=lf;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var S=br(d.href),M=a.querySelector(_l(S));if(M){a=M._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Kc.bind(m),a.then(m,m)),s.state.loading|=4,s.instance=M,Sn(M);return}M=a.ownerDocument||a,d=Im(d),(S=Dr.get(S))&&Dv(d,S),M=M.createElement("link"),Sn(M);var q=M;q._p=new Promise(function(ee,ue){q.onload=ee,q.onerror=ue}),yr(M,"link",d),s.instance=M}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(m.count++,s=Kc.bind(m),a.addEventListener("load",s),a.addEventListener("error",s))}}function vb(){if(lf===null)throw Error(r(475));var a=lf;return a.stylesheets&&a.count===0&&Lv(a,a.stylesheets),0<a.count?function(s){var d=setTimeout(function(){if(a.stylesheets&&Lv(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)Lv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var kl=null;function Lv(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,kl=new Map,s.forEach(Iv,a),kl=null,Kc.call(a))}function Iv(a,s){if(!(s.state.loading&4)){var d=kl.get(a);if(d)var m=d.get(null);else{d=new Map,kl.set(a,d);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<S.length;M++){var q=S[M];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(d.set(q.dataset.precedence,q),m=q)}m&&d.set(null,m)}S=s.instance,q=S.getAttribute("data-precedence"),M=d.get(q)||m,M===m&&d.set(null,S),d.set(q,S),this.count++,m=Kc.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),M?M.parentNode.insertBefore(S,M.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),s.state.loading|=4}}var uf={$$typeof:y,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function gb(a,s,d,m,S,M,q,ee){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.hiddenUpdates=vt(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=M,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function Fm(a,s,d,m,S,M,q,ee,ue,Ee,He,Je){return a=new gb(a,s,d,q,ee,ue,Ee,Je),s=1,M===!0&&(s|=24),M=Sa(3,null,null,s),a.current=M,M.stateNode=a,s=ch(),s.refCount++,a.pooledCache=s,s.refCount++,M.memoizedState={element:m,isDehydrated:d,cache:s},Gu(M),a}function cr(a){return a?(a=bs,a):bs}function Hr(a,s,d,m,S,M){S=cr(S),m.context===null?m.context=S:m.pendingContext=S,m=fi(s),m.payload={element:d},M=M===void 0?null:M,M!==null&&(m.callback=M),d=ba(a,m,s),d!==null&&(Or(d,a,s),xt(d,a,s))}function km(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function Bv(a,s){km(a,s),(a=a.alternate)&&km(a,s)}function Um(a){if(a.tag===13){var s=ni(a,67108864);s!==null&&Or(s,a,67108864),Bv(a,67108864)}}var ff=!0;function pb(a,s,d,m){var S=F.T;F.T=null;var M=re.p;try{re.p=2,_v(a,s,d,m)}finally{re.p=M,F.T=S}}function mb(a,s,d,m){var S=F.T;F.T=null;var M=re.p;try{re.p=8,_v(a,s,d,m)}finally{re.p=M,F.T=S}}function _v(a,s,d,m){if(ff){var S=Zc(m);if(S===null)wv(a,s,m,Qc,d),Gm(a,m);else if(bb(S,a,s,d,m))m.stopPropagation();else if(Gm(a,m),s&4&&-1<yb.indexOf(a)){for(;S!==null;){var M=_r(S);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var q=St(M.pendingLanes);if(q!==0){var ee=M;for(ee.pendingLanes|=2,ee.entangledLanes|=2;q;){var ue=1<<31-Fe(q);ee.entanglements[1]|=ue,q&=~ue}hi(M),(Vn&6)===0&&(Bc=it()+500,Fs(0))}}break;case 13:ee=ni(M,2),ee!==null&&Or(ee,M,2),Pc(),Bv(M,2)}if(M=Zc(m),M===null&&wv(a,s,m,Qc,d),M===S)break;S=M}S!==null&&m.stopPropagation()}else wv(a,s,m,null,d)}}function Zc(a){return a=Xd(a),Pv(a)}var Qc=null;function Pv(a){if(Qc=null,a=xr(a),a!==null){var s=k(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=K(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Qc=a,null}function zm(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Oe:return 2;case j:return 8;case pe:case Le:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Jc=!1,bo=null,jo=null,es=null,cf=new Map,df=new Map,Ra=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(a,s){switch(a){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":cf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(s.pointerId)}}function hf(a,s,d,m,S,M){return a===null||a.nativeEvent!==M?(a={blockedOn:s,domEventName:d,eventSystemFlags:m,nativeEvent:M,targetContainers:[S]},s!==null&&(s=_r(s),s!==null&&Um(s)),a):(a.eventSystemFlags|=m,s=a.targetContainers,S!==null&&s.indexOf(S)===-1&&s.push(S),a)}function bb(a,s,d,m,S){switch(s){case"focusin":return bo=hf(bo,a,s,d,m,S),!0;case"dragenter":return jo=hf(jo,a,s,d,m,S),!0;case"mouseover":return es=hf(es,a,s,d,m,S),!0;case"pointerover":var M=S.pointerId;return cf.set(M,hf(cf.get(M)||null,a,s,d,m,S)),!0;case"gotpointercapture":return M=S.pointerId,df.set(M,hf(df.get(M)||null,a,s,d,m,S)),!0}return!1}function Hm(a){var s=xr(a.target);if(s!==null){var d=k(s);if(d!==null){if(s=d.tag,s===13){if(s=K(d),s!==null){a.blockedOn=s,rn(a.priority,function(){if(d.tag===13){var m=Ca(),S=ni(d,m);S!==null&&Or(S,d,m),Bv(d,m)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Zc(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);qd=m,d.target.dispatchEvent(m),qd=null}else return s=_r(d),s!==null&&Um(s),a.blockedOn=d,!1;s.shift()}return!0}function Fv(a,s,d){vf(a)&&d.delete(s)}function Eb(){Jc=!1,bo!==null&&vf(bo)&&(bo=null),jo!==null&&vf(jo)&&(jo=null),es!==null&&vf(es)&&(es=null),cf.forEach(Fv),df.forEach(Fv)}function jc(a,s){a.blockedOn===s&&(a.blockedOn=null,Jc||(Jc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Eb)))}var ed=null;function Vm(a){ed!==a&&(ed=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ed===a&&(ed=null);for(var s=0;s<a.length;s+=3){var d=a[s],m=a[s+1],S=a[s+2];if(typeof m!="function"){if(Pv(m||d)===null)continue;break}var M=_r(d);M!==null&&(a.splice(s,3),s-=3,Bu(M,{pending:!0,data:S,method:d.method,action:m},m,S))}}))}function gf(a){function s(ue){return jc(ue,a)}bo!==null&&jc(bo,a),jo!==null&&jc(jo,a),es!==null&&jc(es,a),cf.forEach(s),df.forEach(s);for(var d=0;d<Ra.length;d++){var m=Ra[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ra.length&&(d=Ra[0],d.blockedOn===null);)Hm(d),d.blockedOn===null&&Ra.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var S=d[m],M=d[m+1],q=S[cn]||null;if(typeof M=="function")q||Vm(d);else if(q){var ee=null;if(M&&M.hasAttribute("formAction")){if(S=M,q=M[cn]||null)ee=q.formAction;else if(Pv(S)!==null)continue}else ee=q.action;typeof ee=="function"?d[m+1]=ee:(d.splice(m,3),m-=3),Vm(d)}}}function kv(a){this._internalRoot=a}td.prototype.render=kv.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var d=s.current,m=Ca();Hr(d,m,a,s,null,null)},td.prototype.unmount=kv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;a.tag===0&&po(),Hr(a.current,2,null,a,null,null),Pc(),s[la]=null}};function td(a){this._internalRoot=a}td.prototype.unstable_scheduleHydration=function(a){if(a){var s=$t();a={blockedOn:null,target:a,priority:s};for(var d=0;d<Ra.length&&s!==0&&s<Ra[d].priority;d++);Ra.splice(d,0,a),d===0&&Hm(a)}};var Ym=e.version;if(Ym!=="19.0.0")throw Error(r(527,Ym,"19.0.0"));re.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=X(s),a=a!==null?Z(a):null,a=a===null?null:a.stateNode,a};var wb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:xr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{de=nd.inject(wb),Se=nd}catch{}}return Uv.createRoot=function(a,s){if(!i(a))throw Error(r(299));var d=!1,m="",S=lo,M=zp,q=uo,ee=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(S=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(q=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(ee=s.unstable_transitionCallbacks)),s=Fm(a,1,!1,null,null,d,m,S,M,q,ee,null),a[la]=s.current,Ev(a.nodeType===8?a.parentNode:a),new kv(s)},Uv.hydrateRoot=function(a,s,d){if(!i(a))throw Error(r(299));var m=!1,S="",M=lo,q=zp,ee=uo,ue=null,Ee=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(M=d.onUncaughtError),d.onCaughtError!==void 0&&(q=d.onCaughtError),d.onRecoverableError!==void 0&&(ee=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ue=d.unstable_transitionCallbacks),d.formState!==void 0&&(Ee=d.formState)),s=Fm(a,1,!0,s,d??null,m,S,M,q,ee,ue,Ee),s.context=cr(null),d=s.current,m=Ca(),S=fi(m),S.callback=null,ba(d,S,m),s.current.lanes=m,gt(s,m),hi(s),a[la]=s.current,Ev(a),new td(s)},Uv.version="19.0.0",Uv}var JE;function AR(){if(JE)return Mb.exports;JE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mb.exports=CR(),Mb.exports}var RR=AR();const vr="",V1="q",Lb="Z",jE="",dg="cy-primary",Wy="cy-secondary";class Ye{constructor(e){De(this,"details");this.details=e}}class bS extends Ye{}class h1 extends Error{}class ES{constructor(e,t){De(this,"stateId");De(this,"remainingInput");this.stateId=e,this.remainingInput=t}accept(e){return e.visitFiniteConfiguration(this)}save(){return new TS(this.stateId,this.remainingInput)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput}}class wS{constructor(e,t,r){De(this,"stateId");De(this,"remainingInput");De(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=r}accept(e){return e.visitPDAConfiguration(this)}save(){return new SS(this.stateId,this.remainingInput,this.stack)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput,this.stack=e.stack}}class hy{constructor(e,t){De(this,"stateId");De(this,"remainingInput");this.stateId=e,this.remainingInput=t}accept(e){return e.visitNFAConfiguration(this)}save(){return new TS(this.stateId,this.remainingInput)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput}}class v1{constructor(e,t,r){De(this,"stateId");De(this,"remainingInput");De(this,"stack");this.stateId=e,this.remainingInput=t,this.stack=r}accept(e){return e.visitNPDAConfiguration(this)}save(){return new SS(this.stateId,this.remainingInput,this.stack)}restore(e){this.stateId=e.stateId,this.remainingInput=e.remainingInput,this.stack=e.stack}}class TS{constructor(e,t){De(this,"stateId");De(this,"remainingInput");this.stateId=e,this.remainingInput=[...t]}}class SS{constructor(e,t,r){De(this,"stateId");De(this,"remainingInput");De(this,"stack");this.stateId=e,this.remainingInput=[...t],this.stack=[...r]}}const xS=(n,e)=>{if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0};class $y{constructor(e,t){De(this,"id");De(this,"inputChar");this.id=e,this.inputChar=t}get label(){return this.inputChar}equals(e){return e instanceof $y?this.inputChar===e.inputChar:!1}}class Of{constructor(e,t,r,i){De(this,"id");De(this,"inputChar");De(this,"readStackChar");De(this,"writeStackWord");this.id=e,this.inputChar=t,this.readStackChar=r,this.writeStackWord=i}get label(){return[this.inputChar,this.readStackChar,this.writeStackWord.join("")].join(",")}equals(e){return e instanceof Of?this.inputChar===e.inputChar&&this.readStackChar===e.readStackChar&&xS(this.writeStackWord,e.writeStackWord):!1}}class MR{constructor(e){De(this,"automaton");De(this,"result");this.automaton=e}visitFiniteConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=Xn.FINITE)throw new Error("Wrong automaton type");const t=e.remainingInput[0];let r;const i=this.automaton.deltaFunctionMatrix[e.stateId];for(const o in i){const l=i[o];for(let u=0;u<l.length;u++)l[u].inputChar===t&&(r=o,this.result=l[u])}if(r===void 0)throw new Error("Step for the symbol doesn't exist in the delta function");return new ES(r,e.remainingInput.slice(1))}visitPDAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=Xn.PDA)throw new Error("Wrong automaton type");const t=e.remainingInput[0],r=e.stack[e.stack.length-1];let i,o;const l=this.automaton.deltaFunctionMatrix[e.stateId];e:for(const u in l){const c=l[u];for(let f=0;f<c.length;f++){const v=c[f];if(v instanceof Of){if(v.inputChar===t&&v.readStackChar===r){i=u,o=v.writeStackWord,this.result=c[f];break e}}else throw new Error("AutomatonType is pushDown but one of its edges isn't")}}if(i===void 0||o===void 0)throw new Error("Step for the (symbol, top of stack) combination in the delta function doesn't exist");{const u=e.stack.slice(0,-1).concat(o);return new wS(i,e.remainingInput.slice(1),u)}}visitNFAConfiguration(e){if(e.remainingInput.length===0){const o=[],l=this.automaton.deltaFunctionMatrix[e.stateId];for(const f in l)for(const v of l[f])v.inputChar===vr&&o.push({edge:v,state:f});if(o.length===0)throw new Error("Input end reached");const u=Math.floor(Math.random()*o.length),c=o[u];return this.result=c.edge,new hy(c.state,e.remainingInput)}if(this.automaton.automatonType!=Xn.FINITE)throw new Error("Wrong automaton type");const t=e.remainingInput[0],r=[],i=this.automaton.deltaFunctionMatrix[e.stateId];for(const o in i){const l=i[o];for(let u=0;u<l.length;u++)if(l[u].inputChar===t||l[u].inputChar===vr){const c={edge:l[u],state:o};r.push(c)}}if(r.length===0)throw new h1("No posible next step from this state and input symbol. Automaton is at a dead end. This may be caused by non-determinism, if you want  a different run try running the simulation again or undoing the last step");{let o;r.length===1?o=0:o=Math.floor(Math.random()*r.length);const l=r[o];return this.result=l.edge,l.edge.inputChar===vr?new hy(l.state,e.remainingInput):new hy(l.state,e.remainingInput.slice(1))}}visitNPDAConfiguration(e){if(e.remainingInput.length===0)throw new Error("Input end reached");if(this.automaton.automatonType!=Xn.PDA)throw new Error("Wrong automaton type");const t=e.remainingInput[0],r=e.stack[e.stack.length-1],i=[],o=this.automaton.deltaFunctionMatrix[e.stateId];for(const l in o){const u=o[l];for(let c=0;c<u.length;c++){const f=u[c];if(f instanceof Of){if((f.inputChar===t||f.inputChar===vr)&&f.readStackChar===r){const v={edge:f,state:l};i.push(v)}}else throw new Error("AutomatonType is pushDown but one of its edges isn't")}}if(i.length===0)throw new h1("No posible next step from this state and input symbol. Automaton is at a dead end. This may be caused by non-determinism, if you want  a different run try running the simulation again or undoing the last step");{let l;i.length===1?l=0:l=Math.floor(Math.random()*i.length);const u=i[l];this.result=u.edge;const c=e.stack.slice(0,-1).concat(u.edge.writeStackWord);return u.edge.inputChar===vr?new v1(u.state,e.remainingInput,c):new v1(u.state,e.remainingInput.slice(1),c)}}}class OR{constructor(e){De(this,"simulation");De(this,"backup");De(this,"result");this.simulation=e}saveBackup(){this.backup=this.simulation.configuration.save()}undo(){this.backup&&this.simulation.configuration.restore(this.backup)}getResult(){return this.result}}class CS extends OR{constructor(e){super(e)}execute(){this.saveBackup();const e=new MR(this.simulation.automaton);try{const t=this.simulation.configuration.accept(e);this.simulation.configuration=t,this.result=e.result}catch(t){if(t instanceof Error)return t instanceof h1?new bS(t.message):new Ye(t.message)}}}class qm{constructor(e,t){De(this,"automaton");De(this,"configuration");De(this,"commandHistory");this.automaton=e,this.configuration=t,this.commandHistory=[]}executeCommand(e){const t=e.execute();if(t!==void 0)return t;this.commandHistory.push(e)}undo(){const e=this.commandHistory.pop();if(e===void 0)return new Ye("Cannot undo because command history is empty.");e.undo()}run(){for(;this.configuration.remainingInput.length>0;){const e=new CS(this),t=e.execute();if(t!==void 0)return t instanceof bS?!1:t;this.commandHistory.push(e)}return this.automaton.finalStateIds.some(e=>this.configuration.stateId===e)}}var Qv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var DR=Qv.exports,ew;function NR(){return ew||(ew=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,v="__lodash_placeholder__",g=1,b=2,y=4,E=1,x=2,T=1,w=2,R=4,A=8,O=16,B=32,z=64,N=128,U=256,F=512,V=30,Y="...",H=800,$=16,D=1,_=2,I=3,L=1/0,k=9007199254740991,K=17976931348623157e292,G=NaN,X=4294967295,Z=X-1,J=X>>>1,re=[["ary",N],["bind",T],["bindKey",w],["curry",A],["curryRight",O],["flip",F],["partial",B],["partialRight",z],["rearg",U]],ie="[object Arguments]",oe="[object Array]",he="[object AsyncFunction]",se="[object Boolean]",te="[object Date]",ae="[object DOMException]",le="[object Error]",me="[object Function]",_e="[object GeneratorFunction]",Ae="[object Map]",et="[object Number]",ot="[object Null]",rt="[object Object]",Pe="[object Promise]",Ve="[object Proxy]",Ke="[object RegExp]",Qe="[object Set]",at="[object String]",tt="[object Symbol]",it="[object Undefined]",dt="[object WeakMap]",Oe="[object WeakSet]",j="[object ArrayBuffer]",pe="[object DataView]",Le="[object Float32Array]",Te="[object Float64Array]",Re="[object Int8Array]",ye="[object Int16Array]",de="[object Int32Array]",Se="[object Uint8Array]",ke="[object Uint8ClampedArray]",Ie="[object Uint16Array]",Fe="[object Uint32Array]",nt=/\b__p \+= '';/g,Ze=/\b(__p \+=) '' \+/g,ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$e=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,St=RegExp($e.source),bt=RegExp(ut.source),Rt=/<%-([\s\S]+?)%>/g,ht=/<%([\s\S]+?)%>/g,st=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/[\\^$.*+?()[\]{}|]/g,Mt=RegExp(ln.source),It=/^\s+/,Bn=/\s/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rn=/\{\n\/\* \[wrapped with (.+)\] \*/,Ut=/,? & /,fn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cn=/[()=,{}\[\]\/\s]/,la=/\\(\\)?/g,ua=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ja=/\w*$/,Ti=/^[-+]0x[0-9a-f]+$/i,La=/^0b[01]+$/i,Ia=/^\[object .+?Constructor\]$/,Ba=/^0o[0-7]+$/i,xr=/^(?:0|[1-9]\d*)$/,_r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cr=/($^)/,Wr=/['\n\r\u2028\u2029\\]/g,Sn="\\ud800-\\udfff",hs="\\u0300-\\u036f",Ao="\\ufe20-\\ufe2f",$n="\\u20d0-\\u20ff",$r=hs+Ao+$n,gr="\\u2700-\\u27bf",ja="a-z\\xdf-\\xf6\\xf8-\\xff",dn="\\xac\\xb1\\xd7\\xf7",Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vn="\\u2000-\\u206f",fa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hr="A-Z\\xc0-\\xd6\\xd8-\\xde",Si="\\ufe0e\\ufe0f",ca=dn+Ft+vn+fa,Uf="[']",y0="["+Sn+"]",hu="["+ca+"]",vu="["+$r+"]",gu="\\d+",b0="["+gr+"]",da="["+ja+"]",zf="[^"+Sn+ca+gu+gr+ja+hr+"]",Gf="\\ud83c[\\udffb-\\udfff]",Vd="(?:"+vu+"|"+Gf+")",vs="[^"+Sn+"]",Hf="(?:\\ud83c[\\udde6-\\uddff]){2}",Vf="[\\ud800-\\udbff][\\udc00-\\udfff]",ei="["+hr+"]",Xg="\\u200d",Yd="(?:"+da+"|"+zf+")",Wg="(?:"+ei+"|"+zf+")",Yf="(?:"+Uf+"(?:d|ll|m|re|s|t|ve))?",$g="(?:"+Uf+"(?:D|LL|M|RE|S|T|VE))?",Kg=Vd+"?",pu="["+Si+"]?",qd="(?:"+Xg+"(?:"+[vs,Hf,Vf].join("|")+")"+pu+Kg+")*",Xd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gs=pu+Kg+qd,Zg="(?:"+[b0,Hf,Vf].join("|")+")"+gs,Wd="(?:"+[vs+vu+"?",vu,Hf,Vf,y0].join("|")+")",Qg=RegExp(Uf,"g"),mu=RegExp(vu,"g"),yu=RegExp(Gf+"(?="+Gf+")|"+Wd+gs,"g"),bu=RegExp([ei+"?"+da+"+"+Yf+"(?="+[hu,ei,"$"].join("|")+")",Wg+"+"+$g+"(?="+[hu,ei+Yd,"$"].join("|")+")",ei+"?"+Yd+"+"+Yf,ei+"+"+$g,Zs,Xd,gu,Zg].join("|"),"g"),Ro=RegExp("["+Xg+Sn+$r+Si+"]"),$d=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jg=-1,xn={};xn[Le]=xn[Te]=xn[Re]=xn[ye]=xn[de]=xn[Se]=xn[ke]=xn[Ie]=xn[Fe]=!0,xn[ie]=xn[oe]=xn[j]=xn[se]=xn[pe]=xn[te]=xn[le]=xn[me]=xn[Ae]=xn[et]=xn[rt]=xn[Ke]=xn[Qe]=xn[at]=xn[dt]=!1;var Tn={};Tn[ie]=Tn[oe]=Tn[j]=Tn[pe]=Tn[se]=Tn[te]=Tn[Le]=Tn[Te]=Tn[Re]=Tn[ye]=Tn[de]=Tn[Ae]=Tn[et]=Tn[rt]=Tn[Ke]=Tn[Qe]=Tn[at]=Tn[tt]=Tn[Se]=Tn[ke]=Tn[Ie]=Tn[Fe]=!0,Tn[le]=Tn[me]=Tn[dt]=!1;var jg={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Kr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ps={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Eu=parseFloat,E0=parseInt,Wf=typeof Xl=="object"&&Xl&&Xl.Object===Object&&Xl,Kd=typeof self=="object"&&self&&self.Object===Object&&self,jn=Wf||Kd||Function("return this")(),Qs=e&&!e.nodeType&&e,Mo=Qs&&!0&&n&&!n.nodeType&&n,ep=Mo&&Mo.exports===Qs,Zd=ep&&Wf.process,_a=function(){try{var we=Mo&&Mo.require&&Mo.require("util").types;return we||Zd&&Zd.binding&&Zd.binding("util")}catch{}}(),$f=_a&&_a.isArrayBuffer,tp=_a&&_a.isDate,np=_a&&_a.isMap,rp=_a&&_a.isRegExp,ap=_a&&_a.isSet,ip=_a&&_a.isTypedArray;function Zr(we,Ue,Be){switch(Be.length){case 0:return we.call(Ue);case 1:return we.call(Ue,Be[0]);case 2:return we.call(Ue,Be[0],Be[1]);case 3:return we.call(Ue,Be[0],Be[1],Be[2])}return we.apply(Ue,Be)}function w0(we,Ue,Be,pt){for(var Dt=-1,jt=we==null?0:we.length;++Dt<jt;){var er=we[Dt];Ue(pt,er,Be(er),we)}return pt}function Pa(we,Ue){for(var Be=-1,pt=we==null?0:we.length;++Be<pt&&Ue(we[Be],Be,we)!==!1;);return we}function T0(we,Ue){for(var Be=we==null?0:we.length;Be--&&Ue(we[Be],Be,we)!==!1;);return we}function op(we,Ue){for(var Be=-1,pt=we==null?0:we.length;++Be<pt;)if(!Ue(we[Be],Be,we))return!1;return!0}function xi(we,Ue){for(var Be=-1,pt=we==null?0:we.length,Dt=0,jt=[];++Be<pt;){var er=we[Be];Ue(er,Be,we)&&(jt[Dt++]=er)}return jt}function Kf(we,Ue){var Be=we==null?0:we.length;return!!Be&&Js(we,Ue,0)>-1}function Qd(we,Ue,Be){for(var pt=-1,Dt=we==null?0:we.length;++pt<Dt;)if(Be(Ue,we[pt]))return!0;return!1}function Pn(we,Ue){for(var Be=-1,pt=we==null?0:we.length,Dt=Array(pt);++Be<pt;)Dt[Be]=Ue(we[Be],Be,we);return Dt}function Ki(we,Ue){for(var Be=-1,pt=Ue.length,Dt=we.length;++Be<pt;)we[Dt+Be]=Ue[Be];return we}function Jd(we,Ue,Be,pt){var Dt=-1,jt=we==null?0:we.length;for(pt&&jt&&(Be=we[++Dt]);++Dt<jt;)Be=Ue(Be,we[Dt],Dt,we);return Be}function S0(we,Ue,Be,pt){var Dt=we==null?0:we.length;for(pt&&Dt&&(Be=we[--Dt]);Dt--;)Be=Ue(Be,we[Dt],Dt,we);return Be}function jd(we,Ue){for(var Be=-1,pt=we==null?0:we.length;++Be<pt;)if(Ue(we[Be],Be,we))return!0;return!1}var x0=Qf("length");function C0(we){return we.split("")}function A0(we){return we.match(fn)||[]}function sp(we,Ue,Be){var pt;return Be(we,function(Dt,jt,er){if(Ue(Dt,jt,er))return pt=jt,!1}),pt}function Zf(we,Ue,Be,pt){for(var Dt=we.length,jt=Be+(pt?1:-1);pt?jt--:++jt<Dt;)if(Ue(we[jt],jt,we))return jt;return-1}function Js(we,Ue,Be){return Ue===Ue?D0(we,Ue,Be):Zf(we,js,Be)}function eh(we,Ue,Be,pt){for(var Dt=Be-1,jt=we.length;++Dt<jt;)if(pt(we[Dt],Ue))return Dt;return-1}function js(we){return we!==we}function lp(we,Ue){var Be=we==null?0:we.length;return Be?jf(we,Ue)/Be:G}function Qf(we){return function(Ue){return Ue==null?t:Ue[we]}}function Jf(we){return function(Ue){return we==null?t:we[Ue]}}function th(we,Ue,Be,pt,Dt){return Dt(we,function(jt,er,Cn){Be=pt?(pt=!1,jt):Ue(Be,jt,er,Cn)}),Be}function up(we,Ue){var Be=we.length;for(we.sort(Ue);Be--;)we[Be]=we[Be].value;return we}function jf(we,Ue){for(var Be,pt=-1,Dt=we.length;++pt<Dt;){var jt=Ue(we[pt]);jt!==t&&(Be=Be===t?jt:Be+jt)}return Be}function Oo(we,Ue){for(var Be=-1,pt=Array(we);++Be<we;)pt[Be]=Ue(Be);return pt}function R0(we,Ue){return Pn(Ue,function(Be){return[Be,we[Be]]})}function fp(we){return we&&we.slice(0,rh(we)+1).replace(It,"")}function ha(we){return function(Ue){return we(Ue)}}function ec(we,Ue){return Pn(Ue,function(Be){return we[Be]})}function el(we,Ue){return we.has(Ue)}function tl(we,Ue){for(var Be=-1,pt=we.length;++Be<pt&&Js(Ue,we[Be],0)>-1;);return Be}function nl(we,Ue){for(var Be=we.length;Be--&&Js(Ue,we[Be],0)>-1;);return Be}function M0(we,Ue){for(var Be=we.length,pt=0;Be--;)we[Be]===Ue&&++pt;return pt}var tc=Jf(jg),cp=Jf(Kr);function dp(we){return"\\"+Xf[we]}function nh(we,Ue){return we==null?t:we[Ue]}function Do(we){return Ro.test(we)}function hp(we){return $d.test(we)}function vp(we){for(var Ue,Be=[];!(Ue=we.next()).done;)Be.push(Ue.value);return Be}function nc(we){var Ue=-1,Be=Array(we.size);return we.forEach(function(pt,Dt){Be[++Ue]=[Dt,pt]}),Be}function gp(we,Ue){return function(Be){return we(Ue(Be))}}function No(we,Ue){for(var Be=-1,pt=we.length,Dt=0,jt=[];++Be<pt;){var er=we[Be];(er===Ue||er===v)&&(we[Be]=v,jt[Dt++]=Be)}return jt}function rc(we){var Ue=-1,Be=Array(we.size);return we.forEach(function(pt){Be[++Ue]=pt}),Be}function O0(we){var Ue=-1,Be=Array(we.size);return we.forEach(function(pt){Be[++Ue]=[pt,pt]}),Be}function D0(we,Ue,Be){for(var pt=Be-1,Dt=we.length;++pt<Dt;)if(we[pt]===Ue)return pt;return-1}function va(we,Ue,Be){for(var pt=Be+1;pt--;)if(we[pt]===Ue)return pt;return pt}function Ci(we){return Do(we)?mp(we):x0(we)}function Fa(we){return Do(we)?ah(we):C0(we)}function rh(we){for(var Ue=we.length;Ue--&&Bn.test(we.charAt(Ue)););return Ue}var pp=Jf(ps);function mp(we){for(var Ue=yu.lastIndex=0;yu.test(we);)++Ue;return Ue}function ah(we){return we.match(yu)||[]}function N0(we){return we.match(bu)||[]}var L0=function we(Ue){Ue=Ue==null?jn:ti.defaults(jn.Object(),Ue,ti.pick(jn,qf));var Be=Ue.Array,pt=Ue.Date,Dt=Ue.Error,jt=Ue.Function,er=Ue.Math,Cn=Ue.Object,Zi=Ue.RegExp,yp=Ue.String,ga=Ue.TypeError,wu=Be.prototype,I0=jt.prototype,rl=Cn.prototype,ac=Ue["__core-js_shared__"],Tu=I0.toString,yn=rl.hasOwnProperty,bp=0,ka=function(){var h=/[^.]+$/.exec(ac&&ac.keys&&ac.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Pr=rl.toString,al=Tu.call(Cn),ih=jn._,ic=Zi("^"+Tu.call(yn).replace(ln,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ms=ep?Ue.Buffer:t,Ai=Ue.Symbol,ni=Ue.Uint8Array,oh=ms?ms.allocUnsafe:t,ys=gp(Cn.getPrototypeOf,Cn),bs=Cn.create,sh=rl.propertyIsEnumerable,Fr=wu.splice,Es=Ai?Ai.isConcatSpreadable:t,Ri=Ai?Ai.iterator:t,Mi=Ai?Ai.toStringTag:t,ws=function(){try{var h=ci(Cn,"defineProperty");return h({},"",{}),h}catch{}}(),Ua=Ue.clearTimeout!==jn.clearTimeout&&Ue.clearTimeout,za=pt&&pt.now!==jn.Date.now&&pt.now,Ts=Ue.setTimeout!==jn.setTimeout&&Ue.setTimeout,Ga=er.ceil,Ha=er.floor,Qi=Cn.getOwnPropertySymbols,Ep=ms?ms.isBuffer:t,oc=Ue.isFinite,lh=wu.join,kr=gp(Cn.keys,Cn),en=er.max,Pt=er.min,ri=pt.now,Oi=Ue.parseInt,sc=er.random,Ss=wu.reverse,lc=ci(Ue,"DataView"),il=ci(Ue,"Map"),xs=ci(Ue,"Promise"),Di=ci(Ue,"Set"),Ji=ci(Ue,"WeakMap"),ji=ci(Cn,"create"),Su=Ji&&new Ji,Lo={},wp=ea(lc),uc=ea(il),Tp=ea(xs),xu=ea(Di),Sp=ea(Ji),eo=Ai?Ai.prototype:t,to=eo?eo.valueOf:t,Cu=eo?eo.toString:t;function Q(h){if(Jn(h)&&!zt(h)&&!(h instanceof Gt)){if(h instanceof pa)return h;if(yn.call(h,"__wrapped__"))return Lc(h)}return new pa(h)}var no=function(){function h(){}return function(p){if(!Un(p))return{};if(bs)return bs(p);h.prototype=p;var C=new h;return h.prototype=t,C}}();function Au(){}function pa(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}Q.templateSettings={escape:Rt,evaluate:ht,interpolate:st,variable:"",imports:{_:Q}},Q.prototype=Au.prototype,Q.prototype.constructor=Q,pa.prototype=no(Au.prototype),pa.prototype.constructor=pa;function Gt(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function xp(){var h=new Gt(this.__wrapped__);return h.__actions__=Ur(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Ur(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Ur(this.__views__),h}function ol(){if(this.__filtered__){var h=new Gt(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function fc(){var h=this.__wrapped__.value(),p=this.__dir__,C=zt(h),P=p<0,W=C?h.length:0,ne=Xo(0,W,this.__views__),ce=ne.start,ge=ne.end,xe=ge-ce,qe=P?ge:ce-1,We=this.__iteratees__,je=We.length,ct=0,wt=Pt(xe,this.__takeCount__);if(!C||!P&&W==xe&&wt==xe)return wc(h,this.__actions__);var Bt=[];e:for(;xe--&&ct<wt;){qe+=p;for(var Zt=-1,_t=h[qe];++Zt<je;){var nn=We[Zt],un=nn.iteratee,pi=nn.type,Ma=un(_t);if(pi==_)_t=Ma;else if(!Ma){if(pi==D)continue e;break e}}Bt[ct++]=_t}return Bt}Gt.prototype=no(Au.prototype),Gt.prototype.constructor=Gt;function Io(h){var p=-1,C=h==null?0:h.length;for(this.clear();++p<C;){var P=h[p];this.set(P[0],P[1])}}function uh(){this.__data__=ji?ji(null):{},this.size=0}function fh(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function Va(h){var p=this.__data__;if(ji){var C=p[h];return C===c?t:C}return yn.call(p,h)?p[h]:t}function Ni(h){var p=this.__data__;return ji?p[h]!==t:yn.call(p,h)}function Bo(h,p){var C=this.__data__;return this.size+=this.has(h)?0:1,C[h]=ji&&p===t?c:p,this}Io.prototype.clear=uh,Io.prototype.delete=fh,Io.prototype.get=Va,Io.prototype.has=Ni,Io.prototype.set=Bo;function Li(h){var p=-1,C=h==null?0:h.length;for(this.clear();++p<C;){var P=h[p];this.set(P[0],P[1])}}function _o(){this.__data__=[],this.size=0}function ro(h){var p=this.__data__,C=As(p,h);if(C<0)return!1;var P=p.length-1;return C==P?p.pop():Fr.call(p,C,1),--this.size,!0}function lr(h){var p=this.__data__,C=As(p,h);return C<0?t:p[C][1]}function cc(h){return As(this.__data__,h)>-1}function B0(h,p){var C=this.__data__,P=As(C,h);return P<0?(++this.size,C.push([h,p])):C[P][1]=p,this}Li.prototype.clear=_o,Li.prototype.delete=ro,Li.prototype.get=lr,Li.prototype.has=cc,Li.prototype.set=B0;function ao(h){var p=-1,C=h==null?0:h.length;for(this.clear();++p<C;){var P=h[p];this.set(P[0],P[1])}}function _0(){this.size=0,this.__data__={hash:new Io,map:new(il||Li),string:new Io}}function ur(h){var p=Cl(this,h).delete(h);return this.size-=p?1:0,p}function ch(h){return Cl(this,h).get(h)}function Ru(h){return Cl(this,h).has(h)}function Mu(h,p){var C=Cl(this,h),P=C.size;return C.set(h,p),this.size+=C.size==P?0:1,this}ao.prototype.clear=_0,ao.prototype.delete=ur,ao.prototype.get=ch,ao.prototype.has=Ru,ao.prototype.set=Mu;function io(h){var p=-1,C=h==null?0:h.length;for(this.__data__=new ao;++p<C;)this.add(h[p])}function sl(h){return this.__data__.set(h,c),this}function ll(h){return this.__data__.has(h)}io.prototype.add=io.prototype.push=sl,io.prototype.has=ll;function ai(h){var p=this.__data__=new Li(h);this.size=p.size}function Cp(){this.__data__=new Li,this.size=0}function P0(h){var p=this.__data__,C=p.delete(h);return this.size=p.size,C}function Ap(h){return this.__data__.get(h)}function Cs(h){return this.__data__.has(h)}function dh(h,p){var C=this.__data__;if(C instanceof Li){var P=C.__data__;if(!il||P.length<i-1)return P.push([h,p]),this.size=++C.size,this;C=this.__data__=new ao(P)}return C.set(h,p),this.size=C.size,this}ai.prototype.clear=Cp,ai.prototype.delete=P0,ai.prototype.get=Ap,ai.prototype.has=Cs,ai.prototype.set=dh;function Ou(h,p){var C=zt(h),P=!C&&Qo(h),W=!C&&!P&&Jo(h),ne=!C&&!P&&!W&&gi(h),ce=C||P||W||ne,ge=ce?Oo(h.length,yp):[],xe=ge.length;for(var qe in h)(p||yn.call(h,qe))&&!(ce&&(qe=="length"||W&&(qe=="offset"||qe=="parent")||ne&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||di(qe,xe)))&&ge.push(qe);return ge}function hh(h){var p=h.length;return p?h[Ec(0,p-1)]:t}function Po(h,p){return qu(Ur(h),Rs(p,0,h.length))}function Xt(h){return qu(Ur(h))}function bn(h,p,C){(C!==t&&!Xa(h[p],C)||C===t&&!(p in h))&&ma(h,p,C)}function Fn(h,p,C){var P=h[p];(!(yn.call(h,p)&&Xa(P,C))||C===t&&!(p in h))&&ma(h,p,C)}function As(h,p){for(var C=h.length;C--;)if(Xa(h[C][0],p))return C;return-1}function ul(h,p,C,P){return Uo(h,function(W,ne,ce){p(P,W,C(W),ce)}),P}function Fo(h,p){return h&&oi(p,cr(p),h)}function dc(h,p){return h&&oi(p,Hr(p),h)}function ma(h,p,C){p=="__proto__"&&ws?ws(h,p,{configurable:!0,enumerable:!0,value:C,writable:!0}):h[p]=C}function ko(h,p){for(var C=-1,P=p.length,W=Be(P),ne=h==null;++C<P;)W[C]=ne?t:kl(h,p[C]);return W}function Rs(h,p,C){return h===h&&(C!==t&&(h=h<=C?h:C),p!==t&&(h=h>=p?h:p)),h}function hn(h,p,C,P,W,ne){var ce,ge=p&g,xe=p&b,qe=p&y;if(C&&(ce=W?C(h,P,W,ne):C(h)),ce!==t)return ce;if(!Un(h))return h;var We=zt(h);if(We){if(ce=Ns(h),!ge)return Ur(h,ce)}else{var je=ir(h),ct=je==me||je==_e;if(Jo(h))return Lh(h,ge);if(je==rt||je==ie||ct&&!W){if(ce=xe||ct?{}:jr(h),!ge)return xe?ku(h,dc(ce,h)):Vp(h,Fo(ce,h))}else{if(!Tn[je])return W?h:{};ce=qp(h,je,ge)}}ne||(ne=new ai);var wt=ne.get(h);if(wt)return wt;ne.set(h,ce),Gi(h)?h.forEach(function(_t){ce.add(hn(_t,p,C,_t,h,ne))}):Om(h)&&h.forEach(function(_t,nn){ce.set(nn,hn(_t,p,C,nn,h,ne))});var Bt=qe?xe?Gu:Pi:xe?Hr:cr,Zt=We?t:Bt(h);return Pa(Zt||h,function(_t,nn){Zt&&(nn=_t,_t=h[nn]),Fn(ce,nn,hn(_t,p,C,nn,h,ne))}),ce}function vh(h){var p=cr(h);return function(C){return hc(C,h,p)}}function hc(h,p,C){var P=C.length;if(h==null)return!P;for(h=Cn(h);P--;){var W=C[P],ne=p[W],ce=h[W];if(ce===t&&!(W in h)||!ne(ce))return!1}return!0}function gh(h,p,C){if(typeof h!="function")throw new ga(l);return Mr(function(){h.apply(t,C)},p)}function fl(h,p,C,P){var W=-1,ne=Kf,ce=!0,ge=h.length,xe=[],qe=p.length;if(!ge)return xe;C&&(p=Pn(p,ha(C))),P?(ne=Qd,ce=!1):p.length>=i&&(ne=el,ce=!1,p=new io(p));e:for(;++W<ge;){var We=h[W],je=C==null?We:C(We);if(We=P||We!==0?We:0,ce&&je===je){for(var ct=qe;ct--;)if(p[ct]===je)continue e;xe.push(We)}else ne(p,je,P)||xe.push(We)}return xe}var Uo=Ph(Ya),vc=Ph(ii,!0);function ph(h,p){var C=!0;return Uo(h,function(P,W,ne){return C=!!p(P,W,ne),C}),C}function cl(h,p,C){for(var P=-1,W=h.length;++P<W;){var ne=h[P],ce=p(ne);if(ce!=null&&(ge===t?ce===ce&&!Aa(ce):C(ce,ge)))var ge=ce,xe=ne}return xe}function Qr(h,p,C,P){var W=h.length;for(C=Yt(C),C<0&&(C=-C>W?0:W+C),P=P===t||P>W?W:Yt(P),P<0&&(P+=W),P=C>P?0:Ov(P);C<P;)h[C++]=p;return h}function tr(h,p){var C=[];return Uo(h,function(P,W,ne){p(P,W,ne)&&C.push(P)}),C}function ar(h,p,C,P,W){var ne=-1,ce=h.length;for(C||(C=Wp),W||(W=[]);++ne<ce;){var ge=h[ne];p>0&&C(ge)?p>1?ar(ge,p-1,C,P,W):Ki(W,ge):P||(W[W.length]=ge)}return W}var Ms=Fh(),Du=Fh(!0);function Ya(h,p){return h&&Ms(h,p,cr)}function ii(h,p){return h&&Du(h,p,cr)}function Os(h,p){return xi(p,function(C){return mo(h[C])})}function oo(h,p){p=lo(p,h);for(var C=0,P=p.length;h!=null&&C<P;)h=h[zr(p[C++])];return C&&C==P?h:t}function gc(h,p,C){var P=p(h);return zt(h)?P:Ki(P,C(h))}function Ar(h){return h==null?h===t?it:ot:Mi&&Mi in Cn(h)?Yu(h):Ea(h)}function pc(h,p){return h>p}function Rp(h,p){return h!=null&&yn.call(h,p)}function Mp(h,p){return h!=null&&p in Cn(h)}function Op(h,p,C){return h>=Pt(p,C)&&h<en(p,C)}function mc(h,p,C){for(var P=C?Qd:Kf,W=h[0].length,ne=h.length,ce=ne,ge=Be(ne),xe=1/0,qe=[];ce--;){var We=h[ce];ce&&p&&(We=Pn(We,ha(p))),xe=Pt(We.length,xe),ge[ce]=!C&&(p||W>=120&&We.length>=120)?new io(ce&&We):t}We=h[0];var je=-1,ct=ge[0];e:for(;++je<W&&qe.length<xe;){var wt=We[je],Bt=p?p(wt):wt;if(wt=C||wt!==0?wt:0,!(ct?el(ct,Bt):P(qe,Bt,C))){for(ce=ne;--ce;){var Zt=ge[ce];if(!(Zt?el(Zt,Bt):P(h[ce],Bt,C)))continue e}ct&&ct.push(Bt),qe.push(wt)}}return qe}function mh(h,p,C,P){return Ya(h,function(W,ne,ce){p(P,C(W),ne,ce)}),P}function dl(h,p,C){p=lo(p,h),h=qh(h,p);var P=h==null?h:h[zr(Gr(p))];return P==null?t:Zr(P,h,C)}function Dp(h){return Jn(h)&&Ar(h)==ie}function Np(h){return Jn(h)&&Ar(h)==j}function Lp(h){return Jn(h)&&Ar(h)==te}function hl(h,p,C,P,W){return h===p?!0:h==null||p==null||!Jn(h)&&!Jn(p)?h!==h&&p!==p:yh(h,p,C,P,hl,W)}function yh(h,p,C,P,W,ne){var ce=zt(h),ge=zt(p),xe=ce?oe:ir(h),qe=ge?oe:ir(p);xe=xe==ie?rt:xe,qe=qe==ie?rt:qe;var We=xe==rt,je=qe==rt,ct=xe==qe;if(ct&&Jo(h)){if(!Jo(p))return!1;ce=!0,We=!1}if(ct&&!We)return ne||(ne=new ai),ce||gi(h)?qo(h,p,C,P,W,ne):Rr(h,p,xe,C,P,W,ne);if(!(C&E)){var wt=We&&yn.call(h,"__wrapped__"),Bt=je&&yn.call(p,"__wrapped__");if(wt||Bt){var Zt=wt?h.value():h,_t=Bt?p.value():p;return ne||(ne=new ai),W(Zt,_t,C,P,ne)}}return ct?(ne||(ne=new ai),Oc(h,p,C,P,W,ne)):!1}function Ip(h){return Jn(h)&&ir(h)==Ae}function yc(h,p,C,P){var W=C.length,ne=W,ce=!P;if(h==null)return!ne;for(h=Cn(h);W--;){var ge=C[W];if(ce&&ge[2]?ge[1]!==h[ge[0]]:!(ge[0]in h))return!1}for(;++W<ne;){ge=C[W];var xe=ge[0],qe=h[xe],We=ge[1];if(ce&&ge[2]){if(qe===t&&!(xe in h))return!1}else{var je=new ai;if(P)var ct=P(qe,We,xe,h,p,je);if(!(ct===t?hl(We,qe,E|x,P,je):ct))return!1}}return!0}function bh(h){if(!Un(h)||Vh(h))return!1;var p=mo(h)?ic:Ia;return p.test(ea(h))}function Bp(h){return Jn(h)&&Ar(h)==Ke}function _p(h){return Jn(h)&&ir(h)==Qe}function F0(h){return Jn(h)&&Vc(h.length)&&!!xn[Ar(h)]}function Eh(h){return typeof h=="function"?h:h==null?gn:typeof h=="object"?zt(h)?bc(h[0],h[1]):wh(h):VE(h)}function zo(h){if(!Zn(h))return kr(h);var p=[];for(var C in Cn(h))yn.call(h,C)&&C!="constructor"&&p.push(C);return p}function Pp(h){if(!Un(h))return or(h);var p=Zn(h),C=[];for(var P in h)P=="constructor"&&(p||!yn.call(h,P))||C.push(P);return C}function vl(h,p){return h<p}function Nu(h,p){var C=-1,P=Vt(h)?Be(h.length):[];return Uo(h,function(W,ne,ce){P[++C]=p(W,ne,ce)}),P}function wh(h){var p=Vu(h);return p.length==1&&p[0][2]?Kp(p[0][0],p[0][1]):function(C){return C===h||yc(C,h,p)}}function bc(h,p){return Al(h)&&Yh(p)?Kp(zr(h),p):function(C){var P=kl(C,h);return P===t&&P===p?Iv(C,h):hl(p,P,E|x)}}function Lu(h,p,C,P,W){h!==p&&Ms(p,function(ne,ce){if(W||(W=new ai),Un(ne))Fp(h,p,ce,C,Lu,P,W);else{var ge=P?P(Xh(h,ce),ne,ce+"",h,p,W):t;ge===t&&(ge=ne),bn(h,ce,ge)}},Hr)}function Fp(h,p,C,P,W,ne,ce){var ge=Xh(h,C),xe=Xh(p,C),qe=ce.get(xe);if(qe){bn(h,C,qe);return}var We=ne?ne(ge,xe,C+"",h,p,ce):t,je=We===t;if(je){var ct=zt(xe),wt=!ct&&Jo(xe),Bt=!ct&&!wt&&gi(xe);We=xe,ct||wt||Bt?zt(ge)?We=ge:Yn(ge)?We=Ur(ge):wt?(je=!1,We=Lh(xe,!0)):Bt?(je=!1,We=Ih(xe,!0)):We=[]:Dr(xe)||Qo(xe)?(We=ge,Qo(ge)?We=_l(ge):(!Un(ge)||mo(ge))&&(We=jr(xe))):je=!1}je&&(ce.set(xe,We),W(We,xe,P,ne,ce),ce.delete(xe)),bn(h,C,We)}function Th(h,p){var C=h.length;if(C)return p+=p<0?C:0,di(p,C)?h[p]:t}function Sh(h,p,C){p.length?p=Pn(p,function(ne){return zt(ne)?function(ce){return oo(ce,ne.length===1?ne[0]:ne)}:ne}):p=[gn];var P=-1;p=Pn(p,ha(xt()));var W=Nu(h,function(ne,ce,ge){var xe=Pn(p,function(qe){return qe(ne)});return{criteria:xe,index:++P,value:ne}});return up(W,function(ne,ce){return pr(ne,ce,C)})}function xh(h,p){return Ch(h,p,function(C,P){return Iv(h,P)})}function Ch(h,p,C){for(var P=-1,W=p.length,ne={};++P<W;){var ce=p[P],ge=oo(h,ce);C(ge,ce)&&gl(ne,lo(ce,h),ge)}return ne}function kp(h){return function(p){return oo(p,h)}}function Iu(h,p,C,P){var W=P?eh:Js,ne=-1,ce=p.length,ge=h;for(h===p&&(p=Ur(p)),C&&(ge=Pn(h,ha(C)));++ne<ce;)for(var xe=0,qe=p[ne],We=C?C(qe):qe;(xe=W(ge,We,xe,P))>-1;)ge!==h&&Fr.call(ge,xe,1),Fr.call(h,xe,1);return h}function Ah(h,p){for(var C=h?p.length:0,P=C-1;C--;){var W=p[C];if(C==P||W!==ne){var ne=W;di(W)?Fr.call(h,W,1):Ii(h,W)}}return h}function Ec(h,p){return h+Ha(sc()*(p-h+1))}function k0(h,p,C,P){for(var W=-1,ne=en(Ga((p-h)/(C||1)),0),ce=Be(ne);ne--;)ce[P?ne:++W]=h,h+=C;return ce}function Bu(h,p){var C="";if(!h||p<1||p>k)return C;do p%2&&(C+=h),p=Ha(p/2),p&&(h+=h);while(p);return C}function qt(h,p){return wa(Fi(h,p,gn),h+"")}function Up(h){return hh(Ra(h))}function Rh(h,p){var C=Ra(h);return qu(C,Rs(p,0,C.length))}function gl(h,p,C,P){if(!Un(h))return h;p=lo(p,h);for(var W=-1,ne=p.length,ce=ne-1,ge=h;ge!=null&&++W<ne;){var xe=zr(p[W]),qe=C;if(xe==="__proto__"||xe==="constructor"||xe==="prototype")return h;if(W!=ce){var We=ge[xe];qe=P?P(We,xe,ge):t,qe===t&&(qe=Un(We)?We:di(p[W+1])?[]:{})}Fn(ge,xe,qe),ge=ge[xe]}return h}var Mh=Su?function(h,p){return Su.set(h,p),h}:gn,U0=ws?function(h,p){return ws(h,"toString",{configurable:!0,enumerable:!1,value:mt(p),writable:!0})}:gn;function z0(h){return qu(Ra(h))}function ya(h,p,C){var P=-1,W=h.length;p<0&&(p=-p>W?0:W+p),C=C>W?W:C,C<0&&(C+=W),W=p>C?0:C-p>>>0,p>>>=0;for(var ne=Be(W);++P<W;)ne[P]=h[P+p];return ne}function _u(h,p){var C;return Uo(h,function(P,W,ne){return C=p(P,W,ne),!C}),!!C}function pl(h,p,C){var P=0,W=h==null?P:h.length;if(typeof p=="number"&&p===p&&W<=J){for(;P<W;){var ne=P+W>>>1,ce=h[ne];ce!==null&&!Aa(ce)&&(C?ce<=p:ce<p)?P=ne+1:W=ne}return W}return ml(h,p,gn,C)}function ml(h,p,C,P){var W=0,ne=h==null?0:h.length;if(ne===0)return 0;p=C(p);for(var ce=p!==p,ge=p===null,xe=Aa(p),qe=p===t;W<ne;){var We=Ha((W+ne)/2),je=C(h[We]),ct=je!==t,wt=je===null,Bt=je===je,Zt=Aa(je);if(ce)var _t=P||Bt;else qe?_t=Bt&&(P||ct):ge?_t=Bt&&ct&&(P||!wt):xe?_t=Bt&&ct&&!wt&&(P||!Zt):wt||Zt?_t=!1:_t=P?je<=p:je<p;_t?W=We+1:ne=We}return Pt(ne,Z)}function Oh(h,p){for(var C=-1,P=h.length,W=0,ne=[];++C<P;){var ce=h[C],ge=p?p(ce):ce;if(!C||!Xa(ge,xe)){var xe=ge;ne[W++]=ce===0?0:ce}}return ne}function Dh(h){return typeof h=="number"?h:Aa(h)?G:+h}function Kn(h){if(typeof h=="string")return h;if(zt(h))return Pn(h,Kn)+"";if(Aa(h))return Cu?Cu.call(h):"";var p=h+"";return p=="0"&&1/h==-1/0?"-0":p}function Jr(h,p,C){var P=-1,W=Kf,ne=h.length,ce=!0,ge=[],xe=ge;if(C)ce=!1,W=Qd;else if(ne>=i){var qe=p?null:Yo(h);if(qe)return rc(qe);ce=!1,W=el,xe=new io}else xe=p?[]:ge;e:for(;++P<ne;){var We=h[P],je=p?p(We):We;if(We=C||We!==0?We:0,ce&&je===je){for(var ct=xe.length;ct--;)if(xe[ct]===je)continue e;p&&xe.push(je),ge.push(We)}else W(xe,je,C)||(xe!==ge&&xe.push(je),ge.push(We))}return ge}function Ii(h,p){return p=lo(p,h),h=qh(h,p),h==null||delete h[zr(Gr(p))]}function Go(h,p,C,P){return gl(h,p,C(oo(h,p)),P)}function yl(h,p,C,P){for(var W=h.length,ne=P?W:-1;(P?ne--:++ne<W)&&p(h[ne],ne,h););return C?ya(h,P?0:ne,P?ne+1:W):ya(h,P?ne+1:0,P?W:ne)}function wc(h,p){var C=h;return C instanceof Gt&&(C=C.value()),Jd(p,function(P,W){return W.func.apply(W.thisArg,Ki([P],W.args))},C)}function Tc(h,p,C){var P=h.length;if(P<2)return P?Jr(h[0]):[];for(var W=-1,ne=Be(P);++W<P;)for(var ce=h[W],ge=-1;++ge<P;)ge!=W&&(ne[W]=fl(ne[W]||ce,h[ge],p,C));return Jr(ar(ne,1),p,C)}function Nh(h,p,C){for(var P=-1,W=h.length,ne=p.length,ce={};++P<W;){var ge=P<ne?p[P]:t;C(ce,h[P],ge)}return ce}function so(h){return Yn(h)?h:[]}function bl(h){return typeof h=="function"?h:gn}function lo(h,p){return zt(h)?h:Al(h,p)?[h]:ki(En(h))}var zp=qt;function uo(h,p,C){var P=h.length;return C=C===t?P:C,!p&&C>=P?h:ya(h,p,C)}var Pu=Ua||function(h){return jn.clearTimeout(h)};function Lh(h,p){if(p)return h.slice();var C=h.length,P=oh?oh(C):new h.constructor(C);return h.copy(P),P}function Fu(h){var p=new h.constructor(h.byteLength);return new ni(p).set(new ni(h)),p}function Gp(h,p){var C=p?Fu(h.buffer):h.buffer;return new h.constructor(C,h.byteOffset,h.byteLength)}function Hp(h){var p=new h.constructor(h.source,Ja.exec(h));return p.lastIndex=h.lastIndex,p}function G0(h){return to?Cn(to.call(h)):{}}function Ih(h,p){var C=p?Fu(h.buffer):h.buffer;return new h.constructor(C,h.byteOffset,h.length)}function fr(h,p){if(h!==p){var C=h!==t,P=h===null,W=h===h,ne=Aa(h),ce=p!==t,ge=p===null,xe=p===p,qe=Aa(p);if(!ge&&!qe&&!ne&&h>p||ne&&ce&&xe&&!ge&&!qe||P&&ce&&xe||!C&&xe||!W)return 1;if(!P&&!ne&&!qe&&h<p||qe&&C&&W&&!P&&!ne||ge&&C&&W||!ce&&W||!xe)return-1}return 0}function pr(h,p,C){for(var P=-1,W=h.criteria,ne=p.criteria,ce=W.length,ge=C.length;++P<ce;){var xe=fr(W[P],ne[P]);if(xe){if(P>=ge)return xe;var qe=C[P];return xe*(qe=="desc"?-1:1)}}return h.index-p.index}function Bh(h,p,C,P){for(var W=-1,ne=h.length,ce=C.length,ge=-1,xe=p.length,qe=en(ne-ce,0),We=Be(xe+qe),je=!P;++ge<xe;)We[ge]=p[ge];for(;++W<ce;)(je||W<ne)&&(We[C[W]]=h[W]);for(;qe--;)We[ge++]=h[W++];return We}function _h(h,p,C,P){for(var W=-1,ne=h.length,ce=-1,ge=C.length,xe=-1,qe=p.length,We=en(ne-ge,0),je=Be(We+qe),ct=!P;++W<We;)je[W]=h[W];for(var wt=W;++xe<qe;)je[wt+xe]=p[xe];for(;++ce<ge;)(ct||W<ne)&&(je[wt+C[ce]]=h[W++]);return je}function Ur(h,p){var C=-1,P=h.length;for(p||(p=Be(P));++C<P;)p[C]=h[C];return p}function oi(h,p,C,P){var W=!C;C||(C={});for(var ne=-1,ce=p.length;++ne<ce;){var ge=p[ne],xe=P?P(C[ge],h[ge],ge,C,h):t;xe===t&&(xe=h[ge]),W?ma(C,ge,xe):Fn(C,ge,xe)}return C}function Vp(h,p){return oi(h,Dc(h),p)}function ku(h,p){return oi(h,Gh(h),p)}function El(h,p){return function(C,P){var W=zt(C)?w0:ul,ne=p?p():{};return W(C,h,xt(P,2),ne)}}function Ds(h){return qt(function(p,C){var P=-1,W=C.length,ne=W>1?C[W-1]:t,ce=W>2?C[2]:t;for(ne=h.length>3&&typeof ne=="function"?(W--,ne):t,ce&&mr(C[0],C[1],ce)&&(ne=W<3?t:ne,W=1),p=Cn(p);++P<W;){var ge=C[P];ge&&h(p,ge,P,ne)}return p})}function Ph(h,p){return function(C,P){if(C==null)return C;if(!Vt(C))return h(C,P);for(var W=C.length,ne=p?W:-1,ce=Cn(C);(p?ne--:++ne<W)&&P(ce[ne],ne,ce)!==!1;);return C}}function Fh(h){return function(p,C,P){for(var W=-1,ne=Cn(p),ce=P(p),ge=ce.length;ge--;){var xe=ce[h?ge:++W];if(C(ne[xe],xe,ne)===!1)break}return p}}function kh(h,p,C){var P=p&T,W=wl(h);function ne(){var ce=this&&this!==jn&&this instanceof ne?W:h;return ce.apply(P?C:this,arguments)}return ne}function Sc(h){return function(p){p=En(p);var C=Do(p)?Fa(p):t,P=C?C[0]:p.charAt(0),W=C?uo(C,1).join(""):p.slice(1);return P[h]()+W}}function Ho(h){return function(p){return Jd(qn(Fv(p).replace(Qg,"")),h,"")}}function wl(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var C=no(h.prototype),P=h.apply(C,p);return Un(P)?P:C}}function Uh(h,p,C){var P=wl(h);function W(){for(var ne=arguments.length,ce=Be(ne),ge=ne,xe=ba(W);ge--;)ce[ge]=arguments[ge];var qe=ne<3&&ce[0]!==xe&&ce[ne-1]!==xe?[]:No(ce,xe);if(ne-=qe.length,ne<C)return Vo(h,p,Uu,W.placeholder,t,ce,qe,t,t,C-ne);var We=this&&this!==jn&&this instanceof W?P:h;return Zr(We,this,ce)}return W}function xc(h){return function(p,C,P){var W=Cn(p);if(!Vt(p)){var ne=xt(C,3);p=cr(p),C=function(ge){return ne(W[ge],ge,W)}}var ce=h(p,C,P);return ce>-1?W[ne?p[ce]:ce]:t}}function Cc(h){return _i(function(p){var C=p.length,P=C,W=pa.prototype.thru;for(h&&p.reverse();P--;){var ne=p[P];if(typeof ne!="function")throw new ga(l);if(W&&!ce&&fi(ne)=="wrapper")var ce=new pa([],!0)}for(P=ce?P:C;++P<C;){ne=p[P];var ge=fi(ne),xe=ge=="wrapper"?Hu(ne):t;xe&&kn(xe[0])&&xe[1]==(N|A|B|U)&&!xe[4].length&&xe[9]==1?ce=ce[fi(xe[0])].apply(ce,xe[3]):ce=ne.length==1&&kn(ne)?ce[ge]():ce.thru(ne)}return function(){var qe=arguments,We=qe[0];if(ce&&qe.length==1&&zt(We))return ce.plant(We).value();for(var je=0,ct=C?p[je].apply(this,qe):We;++je<C;)ct=p[je].call(this,ct);return ct}})}function Uu(h,p,C,P,W,ne,ce,ge,xe,qe){var We=p&N,je=p&T,ct=p&w,wt=p&(A|O),Bt=p&F,Zt=ct?t:wl(h);function _t(){for(var nn=arguments.length,un=Be(nn),pi=nn;pi--;)un[pi]=arguments[pi];if(wt)var Ma=ba(_t),mi=M0(un,Ma);if(P&&(un=Bh(un,P,W,wt)),ne&&(un=_h(un,ne,ce,wt)),nn-=mi,wt&&nn<qe){var dr=No(un,Ma);return Vo(h,p,Uu,_t.placeholder,C,un,dr,ge,xe,qe-nn)}var Eo=je?C:this,ks=ct?Eo[h]:h;return nn=un.length,ge?un=Jp(un,ge):Bt&&nn>1&&un.reverse(),We&&xe<nn&&(un.length=xe),this&&this!==jn&&this instanceof _t&&(ks=Zt||wl(ks)),ks.apply(Eo,un)}return _t}function Ac(h,p){return function(C,P){return mh(C,h,p(P),{})}}function zu(h,p){return function(C,P){var W;if(C===t&&P===t)return p;if(C!==t&&(W=C),P!==t){if(W===t)return P;typeof C=="string"||typeof P=="string"?(C=Kn(C),P=Kn(P)):(C=Dh(C),P=Dh(P)),W=h(C,P)}return W}}function si(h){return _i(function(p){return p=Pn(p,ha(xt())),qt(function(C){var P=this;return h(p,function(W){return Zr(W,P,C)})})})}function Tl(h,p){p=p===t?" ":Kn(p);var C=p.length;if(C<2)return C?Bu(p,h):p;var P=Bu(p,Ga(h/Ci(p)));return Do(p)?uo(Fa(P),0,h).join(""):P.slice(0,h)}function H0(h,p,C,P){var W=p&T,ne=wl(h);function ce(){for(var ge=-1,xe=arguments.length,qe=-1,We=P.length,je=Be(We+xe),ct=this&&this!==jn&&this instanceof ce?ne:h;++qe<We;)je[qe]=P[qe];for(;xe--;)je[qe++]=arguments[++ge];return Zr(ct,W?C:this,je)}return ce}function zh(h){return function(p,C,P){return P&&typeof P!="number"&&mr(p,C,P)&&(C=P=t),p=yo(p),C===t?(C=p,p=0):C=yo(C),P=P===t?p<C?1:-1:yo(P),k0(p,C,P,h)}}function Sl(h){return function(p,C){return typeof p=="string"&&typeof C=="string"||(p=br(p),C=br(C)),h(p,C)}}function Vo(h,p,C,P,W,ne,ce,ge,xe,qe){var We=p&A,je=We?ce:t,ct=We?t:ce,wt=We?ne:t,Bt=We?t:ne;p|=We?B:z,p&=~(We?z:B),p&R||(p&=-4);var Zt=[h,p,W,wt,je,Bt,ct,ge,xe,qe],_t=C.apply(t,Zt);return kn(h)&&Nc(_t,Zt),_t.placeholder=P,Wh(_t,h,p)}function li(h){var p=er[h];return function(C,P){if(C=br(C),P=P==null?0:Pt(Yt(P),292),P&&oc(C)){var W=(En(C)+"e").split("e"),ne=p(W[0]+"e"+(+W[1]+P));return W=(En(ne)+"e").split("e"),+(W[0]+"e"+(+W[1]-P))}return p(C)}}var Yo=Di&&1/rc(new Di([,-0]))[1]==L?function(h){return new Di(h)}:xb;function Bi(h){return function(p){var C=ir(p);return C==Ae?nc(p):C==Qe?O0(p):R0(p,h(p))}}function ui(h,p,C,P,W,ne,ce,ge){var xe=p&w;if(!xe&&typeof h!="function")throw new ga(l);var qe=P?P.length:0;if(qe||(p&=-97,P=W=t),ce=ce===t?ce:en(Yt(ce),0),ge=ge===t?ge:Yt(ge),qe-=W?W.length:0,p&z){var We=P,je=W;P=W=t}var ct=xe?t:Hu(h),wt=[h,p,C,P,W,We,je,ne,ce,ge];if(ct&&Qp(wt,ct),h=wt[0],p=wt[1],C=wt[2],P=wt[3],W=wt[4],ge=wt[9]=wt[9]===t?xe?0:h.length:en(wt[9]-qe,0),!ge&&p&(A|O)&&(p&=-25),!p||p==T)var Bt=kh(h,p,C);else p==A||p==O?Bt=Uh(h,p,ge):(p==B||p==(T|B))&&!W.length?Bt=H0(h,p,C,P):Bt=Uu.apply(t,wt);var Zt=ct?Mh:Nc;return Wh(Zt(Bt,wt),h,p)}function Rc(h,p,C,P){return h===t||Xa(h,rl[C])&&!yn.call(P,C)?p:h}function xl(h,p,C,P,W,ne){return Un(h)&&Un(p)&&(ne.set(p,h),Lu(h,p,t,xl,ne),ne.delete(p)),h}function Mc(h){return Dr(h)?t:h}function qo(h,p,C,P,W,ne){var ce=C&E,ge=h.length,xe=p.length;if(ge!=xe&&!(ce&&xe>ge))return!1;var qe=ne.get(h),We=ne.get(p);if(qe&&We)return qe==p&&We==h;var je=-1,ct=!0,wt=C&x?new io:t;for(ne.set(h,p),ne.set(p,h);++je<ge;){var Bt=h[je],Zt=p[je];if(P)var _t=ce?P(Zt,Bt,je,p,h,ne):P(Bt,Zt,je,h,p,ne);if(_t!==t){if(_t)continue;ct=!1;break}if(wt){if(!jd(p,function(nn,un){if(!el(wt,un)&&(Bt===nn||W(Bt,nn,C,P,ne)))return wt.push(un)})){ct=!1;break}}else if(!(Bt===Zt||W(Bt,Zt,C,P,ne))){ct=!1;break}}return ne.delete(h),ne.delete(p),ct}function Rr(h,p,C,P,W,ne,ce){switch(C){case pe:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case j:return!(h.byteLength!=p.byteLength||!ne(new ni(h),new ni(p)));case se:case te:case et:return Xa(+h,+p);case le:return h.name==p.name&&h.message==p.message;case Ke:case at:return h==p+"";case Ae:var ge=nc;case Qe:var xe=P&E;if(ge||(ge=rc),h.size!=p.size&&!xe)return!1;var qe=ce.get(h);if(qe)return qe==p;P|=x,ce.set(h,p);var We=qo(ge(h),ge(p),P,W,ne,ce);return ce.delete(h),We;case tt:if(to)return to.call(h)==to.call(p)}return!1}function Oc(h,p,C,P,W,ne){var ce=C&E,ge=Pi(h),xe=ge.length,qe=Pi(p),We=qe.length;if(xe!=We&&!ce)return!1;for(var je=xe;je--;){var ct=ge[je];if(!(ce?ct in p:yn.call(p,ct)))return!1}var wt=ne.get(h),Bt=ne.get(p);if(wt&&Bt)return wt==p&&Bt==h;var Zt=!0;ne.set(h,p),ne.set(p,h);for(var _t=ce;++je<xe;){ct=ge[je];var nn=h[ct],un=p[ct];if(P)var pi=ce?P(un,nn,ct,p,h,ne):P(nn,un,ct,h,p,ne);if(!(pi===t?nn===un||W(nn,un,C,P,ne):pi)){Zt=!1;break}_t||(_t=ct=="constructor")}if(Zt&&!_t){var Ma=h.constructor,mi=p.constructor;Ma!=mi&&"constructor"in h&&"constructor"in p&&!(typeof Ma=="function"&&Ma instanceof Ma&&typeof mi=="function"&&mi instanceof mi)&&(Zt=!1)}return ne.delete(h),ne.delete(p),Zt}function _i(h){return wa(Fi(h,t,Sa),h+"")}function Pi(h){return gc(h,cr,Dc)}function Gu(h){return gc(h,Hr,Gh)}var Hu=Su?function(h){return Su.get(h)}:xb;function fi(h){for(var p=h.name+"",C=Lo[p],P=yn.call(Lo,p)?C.length:0;P--;){var W=C[P],ne=W.func;if(ne==null||ne==h)return W.name}return p}function ba(h){var p=yn.call(Q,"placeholder")?Q:h;return p.placeholder}function xt(){var h=Q.iteratee||on;return h=h===on?Eh:h,arguments.length?h(arguments[0],arguments[1]):h}function Cl(h,p){var C=h.__data__;return fo(p)?C[typeof p=="string"?"string":"hash"]:C.map}function Vu(h){for(var p=cr(h),C=p.length;C--;){var P=p[C],W=h[P];p[C]=[P,W,Yh(W)]}return p}function ci(h,p){var C=nh(h,p);return bh(C)?C:t}function Yu(h){var p=yn.call(h,Mi),C=h[Mi];try{h[Mi]=t;var P=!0}catch{}var W=Pr.call(h);return P&&(p?h[Mi]=C:delete h[Mi]),W}var Dc=Qi?function(h){return h==null?[]:(h=Cn(h),xi(Qi(h),function(p){return sh.call(h,p)}))}:Cb,Gh=Qi?function(h){for(var p=[];h;)Ki(p,Dc(h)),h=ys(h);return p}:Cb,ir=Ar;(lc&&ir(new lc(new ArrayBuffer(1)))!=pe||il&&ir(new il)!=Ae||xs&&ir(xs.resolve())!=Pe||Di&&ir(new Di)!=Qe||Ji&&ir(new Ji)!=dt)&&(ir=function(h){var p=Ar(h),C=p==rt?h.constructor:t,P=C?ea(C):"";if(P)switch(P){case wp:return pe;case uc:return Ae;case Tp:return Pe;case xu:return Qe;case Sp:return dt}return p});function Xo(h,p,C){for(var P=-1,W=C.length;++P<W;){var ne=C[P],ce=ne.size;switch(ne.type){case"drop":h+=ce;break;case"dropRight":p-=ce;break;case"take":p=Pt(p,h+ce);break;case"takeRight":h=en(h,p-ce);break}}return{start:h,end:p}}function Yp(h){var p=h.match(rn);return p?p[1].split(Ut):[]}function Hh(h,p,C){p=lo(p,h);for(var P=-1,W=p.length,ne=!1;++P<W;){var ce=zr(p[P]);if(!(ne=h!=null&&C(h,ce)))break;h=h[ce]}return ne||++P!=W?ne:(W=h==null?0:h.length,!!W&&Vc(W)&&di(ce,W)&&(zt(h)||Qo(h)))}function Ns(h){var p=h.length,C=new h.constructor(p);return p&&typeof h[0]=="string"&&yn.call(h,"index")&&(C.index=h.index,C.input=h.input),C}function jr(h){return typeof h.constructor=="function"&&!Zn(h)?no(ys(h)):{}}function qp(h,p,C){var P=h.constructor;switch(p){case j:return Fu(h);case se:case te:return new P(+h);case pe:return Gp(h,C);case Le:case Te:case Re:case ye:case de:case Se:case ke:case Ie:case Fe:return Ih(h,C);case Ae:return new P;case et:case at:return new P(h);case Ke:return Hp(h);case Qe:return new P;case tt:return G0(h)}}function Xp(h,p){var C=p.length;if(!C)return h;var P=C-1;return p[P]=(C>1?"& ":"")+p[P],p=p.join(C>2?", ":" "),h.replace($t,`{
/* [wrapped with `+p+`] */
`)}function Wp(h){return zt(h)||Qo(h)||!!(Es&&h&&h[Es])}function di(h,p){var C=typeof h;return p=p??k,!!p&&(C=="number"||C!="symbol"&&xr.test(h))&&h>-1&&h%1==0&&h<p}function mr(h,p,C){if(!Un(C))return!1;var P=typeof p;return(P=="number"?Vt(C)&&di(p,C.length):P=="string"&&p in C)?Xa(C[p],h):!1}function Al(h,p){if(zt(h))return!1;var C=typeof h;return C=="number"||C=="symbol"||C=="boolean"||h==null||Aa(h)?!0:vt.test(h)||!At.test(h)||p!=null&&h in Cn(p)}function fo(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function kn(h){var p=fi(h),C=Q[p];if(typeof C!="function"||!(p in Gt.prototype))return!1;if(h===C)return!0;var P=Hu(C);return!!P&&h===P[0]}function Vh(h){return!!ka&&ka in h}var $p=ac?mo:Ab;function Zn(h){var p=h&&h.constructor,C=typeof p=="function"&&p.prototype||rl;return h===C}function Yh(h){return h===h&&!Un(h)}function Kp(h,p){return function(C){return C==null?!1:C[h]===p&&(p!==t||h in Cn(C))}}function Zp(h){var p=nf(h,function(P){return C.size===f&&C.clear(),P}),C=p.cache;return p}function Qp(h,p){var C=h[1],P=p[1],W=C|P,ne=W<(T|w|N),ce=P==N&&C==A||P==N&&C==U&&h[7].length<=p[8]||P==(N|U)&&p[7].length<=p[8]&&C==A;if(!(ne||ce))return h;P&T&&(h[2]=p[2],W|=C&T?0:R);var ge=p[3];if(ge){var xe=h[3];h[3]=xe?Bh(xe,ge,p[4]):ge,h[4]=xe?No(h[3],v):p[4]}return ge=p[5],ge&&(xe=h[5],h[5]=xe?_h(xe,ge,p[6]):ge,h[6]=xe?No(h[5],v):p[6]),ge=p[7],ge&&(h[7]=ge),P&N&&(h[8]=h[8]==null?p[8]:Pt(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=W,h}function or(h){var p=[];if(h!=null)for(var C in Cn(h))p.push(C);return p}function Ea(h){return Pr.call(h)}function Fi(h,p,C){return p=en(p===t?h.length-1:p,0),function(){for(var P=arguments,W=-1,ne=en(P.length-p,0),ce=Be(ne);++W<ne;)ce[W]=P[p+W];W=-1;for(var ge=Be(p+1);++W<p;)ge[W]=P[W];return ge[p]=C(ce),Zr(h,this,ge)}}function qh(h,p){return p.length<2?h:oo(h,ya(p,0,-1))}function Jp(h,p){for(var C=h.length,P=Pt(p.length,C),W=Ur(h);P--;){var ne=p[P];h[P]=di(ne,C)?W[ne]:t}return h}function Xh(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var Nc=Ta(Mh),Mr=Ts||function(h,p){return jn.setTimeout(h,p)},wa=Ta(U0);function Wh(h,p,C){var P=p+"";return wa(h,Xp(P,$h(Yp(P),C)))}function Ta(h){var p=0,C=0;return function(){var P=ri(),W=$-(P-C);if(C=P,W>0){if(++p>=H)return arguments[0]}else p=0;return h.apply(t,arguments)}}function qu(h,p){var C=-1,P=h.length,W=P-1;for(p=p===t?P:p;++C<p;){var ne=Ec(C,W),ce=h[ne];h[ne]=h[C],h[C]=ce}return h.length=p,h}var ki=Zp(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(gt,function(C,P,W,ne){p.push(W?ne.replace(la,"$1"):P||C)}),p});function zr(h){if(typeof h=="string"||Aa(h))return h;var p=h+"";return p=="0"&&1/h==-1/0?"-0":p}function ea(h){if(h!=null){try{return Tu.call(h)}catch{}try{return h+""}catch{}}return""}function $h(h,p){return Pa(re,function(C){var P="_."+C[0];p&C[1]&&!Kf(h,P)&&h.push(P)}),h.sort()}function Lc(h){if(h instanceof Gt)return h.clone();var p=new pa(h.__wrapped__,h.__chain__);return p.__actions__=Ur(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function Wo(h,p,C){(C?mr(h,p,C):p===t)?p=1:p=en(Yt(p),0);var P=h==null?0:h.length;if(!P||p<1)return[];for(var W=0,ne=0,ce=Be(Ga(P/p));W<P;)ce[ne++]=ya(h,W,W+=p);return ce}function jp(h){for(var p=-1,C=h==null?0:h.length,P=0,W=[];++p<C;){var ne=h[p];ne&&(W[P++]=ne)}return W}function Rl(){var h=arguments.length;if(!h)return[];for(var p=Be(h-1),C=arguments[0],P=h;P--;)p[P-1]=arguments[P];return Ki(zt(C)?Ur(C):[C],ar(p,1))}var Xu=qt(function(h,p){return Yn(h)?fl(h,ar(p,1,Yn,!0)):[]}),Wu=qt(function(h,p){var C=Gr(p);return Yn(C)&&(C=t),Yn(h)?fl(h,ar(p,1,Yn,!0),xt(C,2)):[]}),Ml=qt(function(h,p){var C=Gr(p);return Yn(C)&&(C=t),Yn(h)?fl(h,ar(p,1,Yn,!0),t,C):[]});function em(h,p,C){var P=h==null?0:h.length;return P?(p=C||p===t?1:Yt(p),ya(h,p<0?0:p,P)):[]}function tm(h,p,C){var P=h==null?0:h.length;return P?(p=C||p===t?1:Yt(p),p=P-p,ya(h,0,p<0?0:p)):[]}function $u(h,p){return h&&h.length?yl(h,xt(p,3),!0,!0):[]}function nm(h,p){return h&&h.length?yl(h,xt(p,3),!0):[]}function Ic(h,p,C,P){var W=h==null?0:h.length;return W?(C&&typeof C!="number"&&mr(h,p,C)&&(C=0,P=W),Qr(h,p,C,P)):[]}function Kh(h,p,C){var P=h==null?0:h.length;if(!P)return-1;var W=C==null?0:Yt(C);return W<0&&(W=en(P+W,0)),Zf(h,xt(p,3),W)}function rm(h,p,C){var P=h==null?0:h.length;if(!P)return-1;var W=P-1;return C!==t&&(W=Yt(C),W=C<0?en(P+W,0):Pt(W,P-1)),Zf(h,xt(p,3),W,!0)}function Sa(h){var p=h==null?0:h.length;return p?ar(h,1):[]}function Zh(h){var p=h==null?0:h.length;return p?ar(h,L):[]}function $o(h,p){var C=h==null?0:h.length;return C?(p=p===t?1:Yt(p),ar(h,p)):[]}function am(h){for(var p=-1,C=h==null?0:h.length,P={};++p<C;){var W=h[p];P[W[0]]=W[1]}return P}function Ku(h){return h&&h.length?h[0]:t}function Ls(h,p,C){var P=h==null?0:h.length;if(!P)return-1;var W=C==null?0:Yt(C);return W<0&&(W=en(P+W,0)),Js(h,p,W)}function im(h){var p=h==null?0:h.length;return p?ya(h,0,-1):[]}var Qh=qt(function(h){var p=Pn(h,so);return p.length&&p[0]===h[0]?mc(p):[]}),Jh=qt(function(h){var p=Gr(h),C=Pn(h,so);return p===Gr(C)?p=t:C.pop(),C.length&&C[0]===h[0]?mc(C,xt(p,2)):[]}),co=qt(function(h){var p=Gr(h),C=Pn(h,so);return p=typeof p=="function"?p:t,p&&C.pop(),C.length&&C[0]===h[0]?mc(C,t,p):[]});function om(h,p){return h==null?"":lh.call(h,p)}function Gr(h){var p=h==null?0:h.length;return p?h[p-1]:t}function Zu(h,p,C){var P=h==null?0:h.length;if(!P)return-1;var W=P;return C!==t&&(W=Yt(C),W=W<0?en(P+W,0):Pt(W,P-1)),p===p?va(h,p,W):Zf(h,js,W,!0)}function Hn(h,p){return h&&h.length?Th(h,Yt(p)):t}var V0=qt(sm);function sm(h,p){return h&&h.length&&p&&p.length?Iu(h,p):h}function lm(h,p,C){return h&&h.length&&p&&p.length?Iu(h,p,xt(C,2)):h}function Y0(h,p,C){return h&&h.length&&p&&p.length?Iu(h,p,t,C):h}var q0=_i(function(h,p){var C=h==null?0:h.length,P=ko(h,p);return Ah(h,Pn(p,function(W){return di(W,C)?+W:W}).sort(fr)),P});function Vn(h,p){var C=[];if(!(h&&h.length))return C;var P=-1,W=[],ne=h.length;for(p=xt(p,3);++P<ne;){var ce=h[P];p(ce,P,h)&&(C.push(ce),W.push(P))}return Ah(h,W),C}function An(h){return h==null?h:Ss.call(h)}function Qt(h,p,C){var P=h==null?0:h.length;return P?(C&&typeof C!="number"&&mr(h,p,C)?(p=0,C=P):(p=p==null?0:Yt(p),C=C===t?P:Yt(C)),ya(h,p,C)):[]}function an(h,p){return pl(h,p)}function Ln(h,p,C){return ml(h,p,xt(C,2))}function xa(h,p){var C=h==null?0:h.length;if(C){var P=pl(h,p);if(P<C&&Xa(h[P],p))return P}return-1}function ho(h,p){return pl(h,p,!0)}function Ol(h,p,C){return ml(h,p,xt(C,2),!0)}function jh(h,p){var C=h==null?0:h.length;if(C){var P=pl(h,p,!0)-1;if(Xa(h[P],p))return P}return-1}function vo(h){return h&&h.length?Oh(h):[]}function Qn(h,p){return h&&h.length?Oh(h,xt(p,2)):[]}function Ko(h){var p=h==null?0:h.length;return p?ya(h,1,p):[]}function Is(h,p,C){return h&&h.length?(p=C||p===t?1:Yt(p),ya(h,0,p<0?0:p)):[]}function ev(h,p,C){var P=h==null?0:h.length;return P?(p=C||p===t?1:Yt(p),p=P-p,ya(h,p<0?0:p,P)):[]}function qa(h,p){return h&&h.length?yl(h,xt(p,3),!1,!0):[]}function Dl(h,p){return h&&h.length?yl(h,xt(p,3)):[]}var Qu=qt(function(h){return Jr(ar(h,1,Yn,!0))}),Ui=qt(function(h){var p=Gr(h);return Yn(p)&&(p=t),Jr(ar(h,1,Yn,!0),xt(p,2))}),tv=qt(function(h){var p=Gr(h);return p=typeof p=="function"?p:t,Jr(ar(h,1,Yn,!0),t,p)});function nv(h){return h&&h.length?Jr(h):[]}function Bc(h,p){return h&&h.length?Jr(h,xt(p,2)):[]}function _c(h,p){return p=typeof p=="function"?p:t,h&&h.length?Jr(h,t,p):[]}function zi(h){if(!(h&&h.length))return[];var p=0;return h=xi(h,function(C){if(Yn(C))return p=en(C.length,p),!0}),Oo(p,function(C){return Pn(h,Qf(C))})}function Ju(h,p){if(!(h&&h.length))return[];var C=zi(h);return p==null?C:Pn(C,function(P){return Zr(p,t,P)})}var Bs=qt(function(h,p){return Yn(h)?fl(h,p):[]}),ju=qt(function(h){return Tc(xi(h,Yn))}),rv=qt(function(h){var p=Gr(h);return Yn(p)&&(p=t),Tc(xi(h,Yn),xt(p,2))}),av=qt(function(h){var p=Gr(h);return p=typeof p=="function"?p:t,Tc(xi(h,Yn),t,p)}),ef=qt(zi);function iv(h,p){return Nh(h||[],p||[],Fn)}function Ca(h,p){return Nh(h||[],p||[],gl)}var um=qt(function(h){var p=h.length,C=p>1?h[p-1]:t;return C=typeof C=="function"?(h.pop(),C):t,Ju(h,C)});function Or(h){var p=Q(h);return p.__chain__=!0,p}function fm(h,p){return p(h),h}function Nl(h,p){return p(h)}var cm=_i(function(h){var p=h.length,C=p?h[0]:0,P=this.__wrapped__,W=function(ne){return ko(ne,h)};return p>1||this.__actions__.length||!(P instanceof Gt)||!di(C)?this.thru(W):(P=P.slice(C,+C+(p?1:0)),P.__actions__.push({func:Nl,args:[W],thisArg:t}),new pa(P,this.__chain__).thru(function(ne){return p&&!ne.length&&ne.push(t),ne}))});function X0(){return Or(this)}function go(){return new pa(this.value(),this.__chain__)}function Pc(){this.__values__===t&&(this.__values__=Lm(this.value()));var h=this.__index__>=this.__values__.length,p=h?t:this.__values__[this.__index__++];return{done:h,value:p}}function ov(){return this}function Ll(h){for(var p,C=this;C instanceof Au;){var P=Lc(C);P.__index__=0,P.__values__=t,p?W.__wrapped__=P:p=P;var W=P;C=C.__wrapped__}return W.__wrapped__=h,p}function dm(){var h=this.__wrapped__;if(h instanceof Gt){var p=h;return this.__actions__.length&&(p=new Gt(this)),p=p.reverse(),p.__actions__.push({func:Nl,args:[An],thisArg:t}),new pa(p,this.__chain__)}return this.thru(An)}function hm(){return wc(this.__wrapped__,this.__actions__)}var vm=El(function(h,p,C){yn.call(h,C)?++h[C]:ma(h,C,1)});function sv(h,p,C){var P=zt(h)?op:ph;return C&&mr(h,p,C)&&(p=t),P(h,xt(p,3))}function lv(h,p){var C=zt(h)?xi:tr;return C(h,xt(p,3))}var W0=xc(Kh),$0=xc(rm);function K0(h,p){return ar(po(h,p),1)}function gm(h,p){return ar(po(h,p),L)}function pm(h,p,C){return C=C===t?1:Yt(C),ar(po(h,p),C)}function _s(h,p){var C=zt(h)?Pa:Uo;return C(h,xt(p,3))}function tf(h,p){var C=zt(h)?T0:vc;return C(h,xt(p,3))}var mm=El(function(h,p,C){yn.call(h,C)?h[C].push(p):ma(h,C,[p])});function ym(h,p,C,P){h=Vt(h)?h:Ra(h),C=C&&!P?Yt(C):0;var W=h.length;return C<0&&(C=en(W+C,0)),Xc(h)?C<=W&&h.indexOf(p,C)>-1:!!W&&Js(h,p,C)>-1}var Z0=qt(function(h,p,C){var P=-1,W=typeof p=="function",ne=Vt(h)?Be(h.length):[];return Uo(h,function(ce){ne[++P]=W?Zr(p,ce,C):dl(ce,p,C)}),ne}),bm=El(function(h,p,C){ma(h,C,p)});function po(h,p){var C=zt(h)?Pn:Nu;return C(h,xt(p,3))}function Em(h,p,C,P){return h==null?[]:(zt(p)||(p=p==null?[]:[p]),C=P?t:C,zt(C)||(C=C==null?[]:[C]),Sh(h,p,C))}var Dn=El(function(h,p,C){h[C?0:1].push(p)},function(){return[[],[]]});function uv(h,p,C){var P=zt(h)?Jd:th,W=arguments.length<3;return P(h,xt(p,4),C,W,Uo)}function Q0(h,p,C){var P=zt(h)?S0:th,W=arguments.length<3;return P(h,xt(p,4),C,W,vc)}function wm(h,p){var C=zt(h)?xi:tr;return C(h,kc(xt(p,3)))}function J0(h){var p=zt(h)?hh:Up;return p(h)}function j0(h,p,C){(C?mr(h,p,C):p===t)?p=1:p=Yt(p);var P=zt(h)?Po:Rh;return P(h,p)}function eb(h){var p=zt(h)?Xt:z0;return p(h)}function Fc(h){if(h==null)return 0;if(Vt(h))return Xc(h)?Ci(h):h.length;var p=ir(h);return p==Ae||p==Qe?h.size:zo(h).length}function Il(h,p,C){var P=zt(h)?jd:_u;return C&&mr(h,p,C)&&(p=t),P(h,xt(p,3))}var fv=qt(function(h,p){if(h==null)return[];var C=p.length;return C>1&&mr(h,p[0],p[1])?p=[]:C>2&&mr(p[0],p[1],p[2])&&(p=[p[0]]),Sh(h,ar(p,1),[])}),Ps=za||function(){return jn.Date.now()};function cv(h,p){if(typeof p!="function")throw new ga(l);return h=Yt(h),function(){if(--h<1)return p.apply(this,arguments)}}function Zo(h,p,C){return p=C?t:p,p=h&&p==null?h.length:p,ui(h,N,t,t,t,t,p)}function hi(h,p){var C;if(typeof p!="function")throw new ga(l);return h=Yt(h),function(){return--h>0&&(C=p.apply(this,arguments)),h<=1&&(p=t),C}}var Fs=qt(function(h,p,C){var P=T;if(C.length){var W=No(C,ba(Fs));P|=B}return ui(h,P,p,C,W)}),Tm=qt(function(h,p,C){var P=T|w;if(C.length){var W=No(C,ba(Tm));P|=B}return ui(p,P,h,C,W)});function dv(h,p,C){p=C?t:p;var P=ui(h,A,t,t,t,t,t,p);return P.placeholder=dv.placeholder,P}function hv(h,p,C){p=C?t:p;var P=ui(h,O,t,t,t,t,t,p);return P.placeholder=hv.placeholder,P}function vv(h,p,C){var P,W,ne,ce,ge,xe,qe=0,We=!1,je=!1,ct=!0;if(typeof h!="function")throw new ga(l);p=br(p)||0,Un(C)&&(We=!!C.leading,je="maxWait"in C,ne=je?en(br(C.maxWait)||0,p):ne,ct="trailing"in C?!!C.trailing:ct);function wt(dr){var Eo=P,ks=W;return P=W=t,qe=dr,ce=h.apply(ks,Eo),ce}function Bt(dr){return qe=dr,ge=Mr(nn,p),We?wt(dr):ce}function Zt(dr){var Eo=dr-xe,ks=dr-qe,YE=p-Eo;return je?Pt(YE,ne-ks):YE}function _t(dr){var Eo=dr-xe,ks=dr-qe;return xe===t||Eo>=p||Eo<0||je&&ks>=ne}function nn(){var dr=Ps();if(_t(dr))return un(dr);ge=Mr(nn,Zt(dr))}function un(dr){return ge=t,ct&&P?wt(dr):(P=W=t,ce)}function pi(){ge!==t&&Pu(ge),qe=0,P=xe=W=ge=t}function Ma(){return ge===t?ce:un(Ps())}function mi(){var dr=Ps(),Eo=_t(dr);if(P=arguments,W=this,xe=dr,Eo){if(ge===t)return Bt(xe);if(je)return Pu(ge),ge=Mr(nn,p),wt(xe)}return ge===t&&(ge=Mr(nn,p)),ce}return mi.cancel=pi,mi.flush=Ma,mi}var tb=qt(function(h,p){return gh(h,1,p)}),gv=qt(function(h,p,C){return gh(h,br(p)||0,C)});function Sm(h){return ui(h,F)}function nf(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new ga(l);var C=function(){var P=arguments,W=p?p.apply(this,P):P[0],ne=C.cache;if(ne.has(W))return ne.get(W);var ce=h.apply(this,P);return C.cache=ne.set(W,ce)||ne,ce};return C.cache=new(nf.Cache||ao),C}nf.Cache=ao;function kc(h){if(typeof h!="function")throw new ga(l);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function pv(h){return hi(2,h)}var mv=zp(function(h,p){p=p.length==1&&zt(p[0])?Pn(p[0],ha(xt())):Pn(ar(p,1),ha(xt()));var C=p.length;return qt(function(P){for(var W=-1,ne=Pt(P.length,C);++W<ne;)P[W]=p[W].call(this,P[W]);return Zr(h,this,P)})}),yv=qt(function(h,p){var C=No(p,ba(yv));return ui(h,B,t,p,C)}),xm=qt(function(h,p){var C=No(p,ba(xm));return ui(h,z,t,p,C)}),rf=_i(function(h,p){return ui(h,U,t,t,t,p)});function nb(h,p){if(typeof h!="function")throw new ga(l);return p=p===t?p:Yt(p),qt(h,p)}function Cm(h,p){if(typeof h!="function")throw new ga(l);return p=p==null?0:en(Yt(p),0),qt(function(C){var P=C[p],W=uo(C,0,p);return P&&Ki(W,P),Zr(h,this,W)})}function tn(h,p,C){var P=!0,W=!0;if(typeof h!="function")throw new ga(l);return Un(C)&&(P="leading"in C?!!C.leading:P,W="trailing"in C?!!C.trailing:W),vv(h,p,{leading:P,maxWait:p,trailing:W})}function bv(h){return Zo(h,1)}function Uc(h,p){return yv(bl(p),h)}function Ev(){if(!arguments.length)return[];var h=arguments[0];return zt(h)?h:[h]}function Am(h){return hn(h,y)}function wv(h,p){return p=typeof p=="function"?p:t,hn(h,y,p)}function af(h){return hn(h,g|y)}function zc(h,p){return p=typeof p=="function"?p:t,hn(h,g|y,p)}function Bl(h,p){return p==null||hc(h,p,cr(p))}function Xa(h,p){return h===p||h!==h&&p!==p}var rb=Sl(pc),ab=Sl(function(h,p){return h>=p}),Qo=Dp(function(){return arguments}())?Dp:function(h){return Jn(h)&&yn.call(h,"callee")&&!sh.call(h,"callee")},zt=Be.isArray,Gc=$f?ha($f):Np;function Vt(h){return h!=null&&Vc(h.length)&&!mo(h)}function Yn(h){return Jn(h)&&Vt(h)}function yr(h){return h===!0||h===!1||Jn(h)&&Ar(h)==se}var Jo=Ep||Ab,Tv=tp?ha(tp):Lp;function Sv(h){return Jn(h)&&h.nodeType===1&&!Dr(h)}function Hc(h){if(h==null)return!0;if(Vt(h)&&(zt(h)||typeof h=="string"||typeof h.splice=="function"||Jo(h)||gi(h)||Qo(h)))return!h.length;var p=ir(h);if(p==Ae||p==Qe)return!h.size;if(Zn(h))return!zo(h).length;for(var C in h)if(yn.call(h,C))return!1;return!0}function Rm(h,p){return hl(h,p)}function Mm(h,p,C){C=typeof C=="function"?C:t;var P=C?C(h,p):t;return P===t?hl(h,p,t,C):!!P}function of(h){if(!Jn(h))return!1;var p=Ar(h);return p==le||p==ae||typeof h.message=="string"&&typeof h.name=="string"&&!Dr(h)}function xv(h){return typeof h=="number"&&oc(h)}function mo(h){if(!Un(h))return!1;var p=Ar(h);return p==me||p==_e||p==he||p==Ve}function Cv(h){return typeof h=="number"&&h==Yt(h)}function Vc(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=k}function Un(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function Jn(h){return h!=null&&typeof h=="object"}var Om=np?ha(np):Ip;function Av(h,p){return h===p||yc(h,p,Vu(p))}function Rv(h,p,C){return C=typeof C=="function"?C:t,yc(h,p,Vu(p),C)}function ib(h){return Mv(h)&&h!=+h}function ob(h){if($p(h))throw new Dt(o);return bh(h)}function vi(h){return h===null}function Dm(h){return h==null}function Mv(h){return typeof h=="number"||Jn(h)&&Ar(h)==et}function Dr(h){if(!Jn(h)||Ar(h)!=rt)return!1;var p=ys(h);if(p===null)return!0;var C=yn.call(p,"constructor")&&p.constructor;return typeof C=="function"&&C instanceof C&&Tu.call(C)==al}var Yc=rp?ha(rp):Bp;function qc(h){return Cv(h)&&h>=-9007199254740991&&h<=k}var Gi=ap?ha(ap):_p;function Xc(h){return typeof h=="string"||!zt(h)&&Jn(h)&&Ar(h)==at}function Aa(h){return typeof h=="symbol"||Jn(h)&&Ar(h)==tt}var gi=ip?ha(ip):F0;function Nm(h){return h===t}function sb(h){return Jn(h)&&ir(h)==dt}function lb(h){return Jn(h)&&Ar(h)==Oe}var ub=Sl(vl),fb=Sl(function(h,p){return h<=p});function Lm(h){if(!h)return[];if(Vt(h))return Xc(h)?Fa(h):Ur(h);if(Ri&&h[Ri])return vp(h[Ri]());var p=ir(h),C=p==Ae?nc:p==Qe?rc:Ra;return C(h)}function yo(h){if(!h)return h===0?h:0;if(h=br(h),h===L||h===-1/0){var p=h<0?-1:1;return p*K}return h===h?h:0}function Yt(h){var p=yo(h),C=p%1;return p===p?C?p-C:p:0}function Ov(h){return h?Rs(Yt(h),0,X):0}function br(h){if(typeof h=="number")return h;if(Aa(h))return G;if(Un(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Un(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=fp(h);var C=La.test(h);return C||Ba.test(h)?E0(h.slice(2),C?2:8):Ti.test(h)?G:+h}function _l(h){return oi(h,Hr(h))}function Im(h){return h?Rs(Yt(h),-9007199254740991,k):h===0?h:0}function En(h){return h==null?"":Kn(h)}var Pl=Ds(function(h,p){if(Zn(p)||Vt(p)){oi(p,cr(p),h);return}for(var C in p)yn.call(p,C)&&Fn(h,C,p[C])}),Fl=Ds(function(h,p){oi(p,Hr(p),h)}),sf=Ds(function(h,p,C,P){oi(p,Hr(p),h,P)}),Wc=Ds(function(h,p,C,P){oi(p,cr(p),h,P)}),Dv=_i(ko);function Nv(h,p){var C=no(h);return p==null?C:Fo(C,p)}var $c=qt(function(h,p){h=Cn(h);var C=-1,P=p.length,W=P>2?p[2]:t;for(W&&mr(p[0],p[1],W)&&(P=1);++C<P;)for(var ne=p[C],ce=Hr(ne),ge=-1,xe=ce.length;++ge<xe;){var qe=ce[ge],We=h[qe];(We===t||Xa(We,rl[qe])&&!yn.call(h,qe))&&(h[qe]=ne[qe])}return h}),Bm=qt(function(h){return h.push(t,xl),Zr(ff,t,h)});function _m(h,p){return sp(h,xt(p,3),Ya)}function cb(h,p){return sp(h,xt(p,3),ii)}function Pm(h,p){return h==null?h:Ms(h,xt(p,3),Hr)}function lf(h,p){return h==null?h:Du(h,xt(p,3),Hr)}function db(h,p){return h&&Ya(h,xt(p,3))}function hb(h,p){return h&&ii(h,xt(p,3))}function vb(h){return h==null?[]:Os(h,cr(h))}function Kc(h){return h==null?[]:Os(h,Hr(h))}function kl(h,p,C){var P=h==null?t:oo(h,p);return P===t?C:P}function Lv(h,p){return h!=null&&Hh(h,p,Rp)}function Iv(h,p){return h!=null&&Hh(h,p,Mp)}var uf=Ac(function(h,p,C){p!=null&&typeof p.toString!="function"&&(p=Pr.call(p)),h[p]=C},mt(gn)),gb=Ac(function(h,p,C){p!=null&&typeof p.toString!="function"&&(p=Pr.call(p)),yn.call(h,p)?h[p].push(C):h[p]=[C]},xt),Fm=qt(dl);function cr(h){return Vt(h)?Ou(h):zo(h)}function Hr(h){return Vt(h)?Ou(h,!0):Pp(h)}function km(h,p){var C={};return p=xt(p,3),Ya(h,function(P,W,ne){ma(C,p(P,W,ne),P)}),C}function Bv(h,p){var C={};return p=xt(p,3),Ya(h,function(P,W,ne){ma(C,W,p(P,W,ne))}),C}var Um=Ds(function(h,p,C){Lu(h,p,C)}),ff=Ds(function(h,p,C,P){Lu(h,p,C,P)}),pb=_i(function(h,p){var C={};if(h==null)return C;var P=!1;p=Pn(p,function(ne){return ne=lo(ne,h),P||(P=ne.length>1),ne}),oi(h,Gu(h),C),P&&(C=hn(C,g|b|y,Mc));for(var W=p.length;W--;)Ii(C,p[W]);return C});function mb(h,p){return Zc(h,kc(xt(p)))}var _v=_i(function(h,p){return h==null?{}:xh(h,p)});function Zc(h,p){if(h==null)return{};var C=Pn(Gu(h),function(P){return[P]});return p=xt(p),Ch(h,C,function(P,W){return p(P,W[0])})}function Qc(h,p,C){p=lo(p,h);var P=-1,W=p.length;for(W||(W=1,h=t);++P<W;){var ne=h==null?t:h[zr(p[P])];ne===t&&(P=W,ne=C),h=mo(ne)?ne.call(h):ne}return h}function Pv(h,p,C){return h==null?h:gl(h,p,C)}function zm(h,p,C,P){return P=typeof P=="function"?P:t,h==null?h:gl(h,p,C,P)}var Jc=Bi(cr),bo=Bi(Hr);function jo(h,p,C){var P=zt(h),W=P||Jo(h)||gi(h);if(p=xt(p,4),C==null){var ne=h&&h.constructor;W?C=P?new ne:[]:Un(h)?C=mo(ne)?no(ys(h)):{}:C={}}return(W?Pa:Ya)(h,function(ce,ge,xe){return p(C,ce,ge,xe)}),C}function es(h,p){return h==null?!0:Ii(h,p)}function cf(h,p,C){return h==null?h:Go(h,p,bl(C))}function df(h,p,C,P){return P=typeof P=="function"?P:t,h==null?h:Go(h,p,bl(C),P)}function Ra(h){return h==null?[]:ec(h,cr(h))}function yb(h){return h==null?[]:ec(h,Hr(h))}function Gm(h,p,C){return C===t&&(C=p,p=t),C!==t&&(C=br(C),C=C===C?C:0),p!==t&&(p=br(p),p=p===p?p:0),Rs(br(h),p,C)}function hf(h,p,C){return p=yo(p),C===t?(C=p,p=0):C=yo(C),h=br(h),Op(h,p,C)}function bb(h,p,C){if(C&&typeof C!="boolean"&&mr(h,p,C)&&(p=C=t),C===t&&(typeof p=="boolean"?(C=p,p=t):typeof h=="boolean"&&(C=h,h=t)),h===t&&p===t?(h=0,p=1):(h=yo(h),p===t?(p=h,h=0):p=yo(p)),h>p){var P=h;h=p,p=P}if(C||h%1||p%1){var W=sc();return Pt(h+W*(p-h+Eu("1e-"+((W+"").length-1))),p)}return Ec(h,p)}var Hm=Ho(function(h,p,C){return p=p.toLowerCase(),h+(C?vf(p):p)});function vf(h){return kt(En(h).toLowerCase())}function Fv(h){return h=En(h),h&&h.replace(_r,tc).replace(mu,"")}function Eb(h,p,C){h=En(h),p=Kn(p);var P=h.length;C=C===t?P:Rs(Yt(C),0,P);var W=C;return C-=p.length,C>=0&&h.slice(C,W)==p}function jc(h){return h=En(h),h&&bt.test(h)?h.replace(ut,cp):h}function ed(h){return h=En(h),h&&Mt.test(h)?h.replace(ln,"\\$&"):h}var Vm=Ho(function(h,p,C){return h+(C?"-":"")+p.toLowerCase()}),gf=Ho(function(h,p,C){return h+(C?" ":"")+p.toLowerCase()}),kv=Sc("toLowerCase");function td(h,p,C){h=En(h),p=Yt(p);var P=p?Ci(h):0;if(!p||P>=p)return h;var W=(p-P)/2;return Tl(Ha(W),C)+h+Tl(Ga(W),C)}function Ym(h,p,C){h=En(h),p=Yt(p);var P=p?Ci(h):0;return p&&P<p?h+Tl(p-P,C):h}function wb(h,p,C){h=En(h),p=Yt(p);var P=p?Ci(h):0;return p&&P<p?Tl(p-P,C)+h:h}function nd(h,p,C){return C||p==null?p=0:p&&(p=+p),Oi(En(h).replace(It,""),p||0)}function a(h,p,C){return(C?mr(h,p,C):p===t)?p=1:p=Yt(p),Bu(En(h),p)}function s(){var h=arguments,p=En(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var d=Ho(function(h,p,C){return h+(C?"_":"")+p.toLowerCase()});function m(h,p,C){return C&&typeof C!="number"&&mr(h,p,C)&&(p=C=t),C=C===t?X:C>>>0,C?(h=En(h),h&&(typeof p=="string"||p!=null&&!Yc(p))&&(p=Kn(p),!p&&Do(h))?uo(Fa(h),0,C):h.split(p,C)):[]}var S=Ho(function(h,p,C){return h+(C?" ":"")+kt(p)});function M(h,p,C){return h=En(h),C=C==null?0:Rs(Yt(C),0,h.length),p=Kn(p),h.slice(C,C+p.length)==p}function q(h,p,C){var P=Q.templateSettings;C&&mr(h,p,C)&&(p=t),h=En(h),p=sf({},p,P,Rc);var W=sf({},p.imports,P.imports,Rc),ne=cr(W),ce=ec(W,ne),ge,xe,qe=0,We=p.interpolate||Cr,je="__p += '",ct=Zi((p.escape||Cr).source+"|"+We.source+"|"+(We===st?ua:Cr).source+"|"+(p.evaluate||Cr).source+"|$","g"),wt="//# sourceURL="+(yn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jg+"]")+`
`;h.replace(ct,function(_t,nn,un,pi,Ma,mi){return un||(un=pi),je+=h.slice(qe,mi).replace(Wr,dp),nn&&(ge=!0,je+=`' +
__e(`+nn+`) +
'`),Ma&&(xe=!0,je+=`';
`+Ma+`;
__p += '`),un&&(je+=`' +
((__t = (`+un+`)) == null ? '' : __t) +
'`),qe=mi+_t.length,_t}),je+=`';
`;var Bt=yn.call(p,"variable")&&p.variable;if(!Bt)je=`with (obj) {
`+je+`
}
`;else if(cn.test(Bt))throw new Dt(u);je=(xe?je.replace(nt,""):je).replace(Ze,"$1").replace(ze,"$1;"),je="function("+(Bt||"obj")+`) {
`+(Bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ge?", __e = _.escape":"")+(xe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+je+`return __p
}`;var Zt=Ce(function(){return jt(ne,wt+"return "+je).apply(t,ce)});if(Zt.source=je,of(Zt))throw Zt;return Zt}function ee(h){return En(h).toLowerCase()}function ue(h){return En(h).toUpperCase()}function Ee(h,p,C){if(h=En(h),h&&(C||p===t))return fp(h);if(!h||!(p=Kn(p)))return h;var P=Fa(h),W=Fa(p),ne=tl(P,W),ce=nl(P,W)+1;return uo(P,ne,ce).join("")}function He(h,p,C){if(h=En(h),h&&(C||p===t))return h.slice(0,rh(h)+1);if(!h||!(p=Kn(p)))return h;var P=Fa(h),W=nl(P,Fa(p))+1;return uo(P,0,W).join("")}function Je(h,p,C){if(h=En(h),h&&(C||p===t))return h.replace(It,"");if(!h||!(p=Kn(p)))return h;var P=Fa(h),W=tl(P,Fa(p));return uo(P,W).join("")}function Ne(h,p){var C=V,P=Y;if(Un(p)){var W="separator"in p?p.separator:W;C="length"in p?Yt(p.length):C,P="omission"in p?Kn(p.omission):P}h=En(h);var ne=h.length;if(Do(h)){var ce=Fa(h);ne=ce.length}if(C>=ne)return h;var ge=C-Ci(P);if(ge<1)return P;var xe=ce?uo(ce,0,ge).join(""):h.slice(0,ge);if(W===t)return xe+P;if(ce&&(ge+=xe.length-ge),Yc(W)){if(h.slice(ge).search(W)){var qe,We=xe;for(W.global||(W=Zi(W.source,En(Ja.exec(W))+"g")),W.lastIndex=0;qe=W.exec(We);)var je=qe.index;xe=xe.slice(0,je===t?ge:je)}}else if(h.indexOf(Kn(W),ge)!=ge){var ct=xe.lastIndexOf(W);ct>-1&&(xe=xe.slice(0,ct))}return xe+P}function Ge(h){return h=En(h),h&&St.test(h)?h.replace($e,pp):h}var Et=Ho(function(h,p,C){return h+(C?" ":"")+p.toUpperCase()}),kt=Sc("toUpperCase");function qn(h,p,C){return h=En(h),p=C?t:p,p===t?hp(h)?N0(h):A0(h):h.match(p)||[]}var Ce=qt(function(h,p){try{return Zr(h,t,p)}catch(C){return of(C)?C:new Dt(C)}}),be=_i(function(h,p){return Pa(p,function(C){C=zr(C),ma(h,C,Fs(h[C],h))}),h});function Me(h){var p=h==null?0:h.length,C=xt();return h=p?Pn(h,function(P){if(typeof P[1]!="function")throw new ga(l);return[C(P[0]),P[1]]}):[],qt(function(P){for(var W=-1;++W<p;){var ne=h[W];if(Zr(ne[0],this,P))return Zr(ne[1],this,P)}})}function Xe(h){return vh(hn(h,g))}function mt(h){return function(){return h}}function Kt(h,p){return h==null||h!==h?p:h}var Tt=Cc(),Nt=Cc(!0);function gn(h){return h}function on(h){return Eh(typeof h=="function"?h:hn(h,g))}function ts(h){return wh(hn(h,g))}function Tb(h,p){return bc(h,hn(p,g))}var GA=qt(function(h,p){return function(C){return dl(C,h,p)}}),HA=qt(function(h,p){return function(C){return dl(h,C,p)}});function Sb(h,p,C){var P=cr(p),W=Os(p,P);C==null&&!(Un(p)&&(W.length||!P.length))&&(C=p,p=h,h=this,W=Os(p,cr(p)));var ne=!(Un(C)&&"chain"in C)||!!C.chain,ce=mo(h);return Pa(W,function(ge){var xe=p[ge];h[ge]=xe,ce&&(h.prototype[ge]=function(){var qe=this.__chain__;if(ne||qe){var We=h(this.__wrapped__),je=We.__actions__=Ur(this.__actions__);return je.push({func:xe,args:arguments,thisArg:h}),We.__chain__=qe,We}return xe.apply(h,Ki([this.value()],arguments))})}),h}function VA(){return jn._===this&&(jn._=ih),this}function xb(){}function YA(h){return h=Yt(h),qt(function(p){return Th(p,h)})}var qA=si(Pn),XA=si(op),WA=si(jd);function VE(h){return Al(h)?Qf(zr(h)):kp(h)}function $A(h){return function(p){return h==null?t:oo(h,p)}}var KA=zh(),ZA=zh(!0);function Cb(){return[]}function Ab(){return!1}function QA(){return{}}function JA(){return""}function jA(){return!0}function eR(h,p){if(h=Yt(h),h<1||h>k)return[];var C=X,P=Pt(h,X);p=xt(p),h-=X;for(var W=Oo(P,p);++C<h;)p(C);return W}function tR(h){return zt(h)?Pn(h,zr):Aa(h)?[h]:Ur(ki(En(h)))}function nR(h){var p=++bp;return En(h)+p}var rR=zu(function(h,p){return h+p},0),aR=li("ceil"),iR=zu(function(h,p){return h/p},1),oR=li("floor");function sR(h){return h&&h.length?cl(h,gn,pc):t}function lR(h,p){return h&&h.length?cl(h,xt(p,2),pc):t}function uR(h){return lp(h,gn)}function fR(h,p){return lp(h,xt(p,2))}function cR(h){return h&&h.length?cl(h,gn,vl):t}function dR(h,p){return h&&h.length?cl(h,xt(p,2),vl):t}var hR=zu(function(h,p){return h*p},1),vR=li("round"),gR=zu(function(h,p){return h-p},0);function pR(h){return h&&h.length?jf(h,gn):0}function mR(h,p){return h&&h.length?jf(h,xt(p,2)):0}return Q.after=cv,Q.ary=Zo,Q.assign=Pl,Q.assignIn=Fl,Q.assignInWith=sf,Q.assignWith=Wc,Q.at=Dv,Q.before=hi,Q.bind=Fs,Q.bindAll=be,Q.bindKey=Tm,Q.castArray=Ev,Q.chain=Or,Q.chunk=Wo,Q.compact=jp,Q.concat=Rl,Q.cond=Me,Q.conforms=Xe,Q.constant=mt,Q.countBy=vm,Q.create=Nv,Q.curry=dv,Q.curryRight=hv,Q.debounce=vv,Q.defaults=$c,Q.defaultsDeep=Bm,Q.defer=tb,Q.delay=gv,Q.difference=Xu,Q.differenceBy=Wu,Q.differenceWith=Ml,Q.drop=em,Q.dropRight=tm,Q.dropRightWhile=$u,Q.dropWhile=nm,Q.fill=Ic,Q.filter=lv,Q.flatMap=K0,Q.flatMapDeep=gm,Q.flatMapDepth=pm,Q.flatten=Sa,Q.flattenDeep=Zh,Q.flattenDepth=$o,Q.flip=Sm,Q.flow=Tt,Q.flowRight=Nt,Q.fromPairs=am,Q.functions=vb,Q.functionsIn=Kc,Q.groupBy=mm,Q.initial=im,Q.intersection=Qh,Q.intersectionBy=Jh,Q.intersectionWith=co,Q.invert=uf,Q.invertBy=gb,Q.invokeMap=Z0,Q.iteratee=on,Q.keyBy=bm,Q.keys=cr,Q.keysIn=Hr,Q.map=po,Q.mapKeys=km,Q.mapValues=Bv,Q.matches=ts,Q.matchesProperty=Tb,Q.memoize=nf,Q.merge=Um,Q.mergeWith=ff,Q.method=GA,Q.methodOf=HA,Q.mixin=Sb,Q.negate=kc,Q.nthArg=YA,Q.omit=pb,Q.omitBy=mb,Q.once=pv,Q.orderBy=Em,Q.over=qA,Q.overArgs=mv,Q.overEvery=XA,Q.overSome=WA,Q.partial=yv,Q.partialRight=xm,Q.partition=Dn,Q.pick=_v,Q.pickBy=Zc,Q.property=VE,Q.propertyOf=$A,Q.pull=V0,Q.pullAll=sm,Q.pullAllBy=lm,Q.pullAllWith=Y0,Q.pullAt=q0,Q.range=KA,Q.rangeRight=ZA,Q.rearg=rf,Q.reject=wm,Q.remove=Vn,Q.rest=nb,Q.reverse=An,Q.sampleSize=j0,Q.set=Pv,Q.setWith=zm,Q.shuffle=eb,Q.slice=Qt,Q.sortBy=fv,Q.sortedUniq=vo,Q.sortedUniqBy=Qn,Q.split=m,Q.spread=Cm,Q.tail=Ko,Q.take=Is,Q.takeRight=ev,Q.takeRightWhile=qa,Q.takeWhile=Dl,Q.tap=fm,Q.throttle=tn,Q.thru=Nl,Q.toArray=Lm,Q.toPairs=Jc,Q.toPairsIn=bo,Q.toPath=tR,Q.toPlainObject=_l,Q.transform=jo,Q.unary=bv,Q.union=Qu,Q.unionBy=Ui,Q.unionWith=tv,Q.uniq=nv,Q.uniqBy=Bc,Q.uniqWith=_c,Q.unset=es,Q.unzip=zi,Q.unzipWith=Ju,Q.update=cf,Q.updateWith=df,Q.values=Ra,Q.valuesIn=yb,Q.without=Bs,Q.words=qn,Q.wrap=Uc,Q.xor=ju,Q.xorBy=rv,Q.xorWith=av,Q.zip=ef,Q.zipObject=iv,Q.zipObjectDeep=Ca,Q.zipWith=um,Q.entries=Jc,Q.entriesIn=bo,Q.extend=Fl,Q.extendWith=sf,Sb(Q,Q),Q.add=rR,Q.attempt=Ce,Q.camelCase=Hm,Q.capitalize=vf,Q.ceil=aR,Q.clamp=Gm,Q.clone=Am,Q.cloneDeep=af,Q.cloneDeepWith=zc,Q.cloneWith=wv,Q.conformsTo=Bl,Q.deburr=Fv,Q.defaultTo=Kt,Q.divide=iR,Q.endsWith=Eb,Q.eq=Xa,Q.escape=jc,Q.escapeRegExp=ed,Q.every=sv,Q.find=W0,Q.findIndex=Kh,Q.findKey=_m,Q.findLast=$0,Q.findLastIndex=rm,Q.findLastKey=cb,Q.floor=oR,Q.forEach=_s,Q.forEachRight=tf,Q.forIn=Pm,Q.forInRight=lf,Q.forOwn=db,Q.forOwnRight=hb,Q.get=kl,Q.gt=rb,Q.gte=ab,Q.has=Lv,Q.hasIn=Iv,Q.head=Ku,Q.identity=gn,Q.includes=ym,Q.indexOf=Ls,Q.inRange=hf,Q.invoke=Fm,Q.isArguments=Qo,Q.isArray=zt,Q.isArrayBuffer=Gc,Q.isArrayLike=Vt,Q.isArrayLikeObject=Yn,Q.isBoolean=yr,Q.isBuffer=Jo,Q.isDate=Tv,Q.isElement=Sv,Q.isEmpty=Hc,Q.isEqual=Rm,Q.isEqualWith=Mm,Q.isError=of,Q.isFinite=xv,Q.isFunction=mo,Q.isInteger=Cv,Q.isLength=Vc,Q.isMap=Om,Q.isMatch=Av,Q.isMatchWith=Rv,Q.isNaN=ib,Q.isNative=ob,Q.isNil=Dm,Q.isNull=vi,Q.isNumber=Mv,Q.isObject=Un,Q.isObjectLike=Jn,Q.isPlainObject=Dr,Q.isRegExp=Yc,Q.isSafeInteger=qc,Q.isSet=Gi,Q.isString=Xc,Q.isSymbol=Aa,Q.isTypedArray=gi,Q.isUndefined=Nm,Q.isWeakMap=sb,Q.isWeakSet=lb,Q.join=om,Q.kebabCase=Vm,Q.last=Gr,Q.lastIndexOf=Zu,Q.lowerCase=gf,Q.lowerFirst=kv,Q.lt=ub,Q.lte=fb,Q.max=sR,Q.maxBy=lR,Q.mean=uR,Q.meanBy=fR,Q.min=cR,Q.minBy=dR,Q.stubArray=Cb,Q.stubFalse=Ab,Q.stubObject=QA,Q.stubString=JA,Q.stubTrue=jA,Q.multiply=hR,Q.nth=Hn,Q.noConflict=VA,Q.noop=xb,Q.now=Ps,Q.pad=td,Q.padEnd=Ym,Q.padStart=wb,Q.parseInt=nd,Q.random=bb,Q.reduce=uv,Q.reduceRight=Q0,Q.repeat=a,Q.replace=s,Q.result=Qc,Q.round=vR,Q.runInContext=we,Q.sample=J0,Q.size=Fc,Q.snakeCase=d,Q.some=Il,Q.sortedIndex=an,Q.sortedIndexBy=Ln,Q.sortedIndexOf=xa,Q.sortedLastIndex=ho,Q.sortedLastIndexBy=Ol,Q.sortedLastIndexOf=jh,Q.startCase=S,Q.startsWith=M,Q.subtract=gR,Q.sum=pR,Q.sumBy=mR,Q.template=q,Q.times=eR,Q.toFinite=yo,Q.toInteger=Yt,Q.toLength=Ov,Q.toLower=ee,Q.toNumber=br,Q.toSafeInteger=Im,Q.toString=En,Q.toUpper=ue,Q.trim=Ee,Q.trimEnd=He,Q.trimStart=Je,Q.truncate=Ne,Q.unescape=Ge,Q.uniqueId=nR,Q.upperCase=Et,Q.upperFirst=kt,Q.each=_s,Q.eachRight=tf,Q.first=Ku,Sb(Q,function(){var h={};return Ya(Q,function(p,C){yn.call(Q.prototype,C)||(h[C]=p)}),h}(),{chain:!1}),Q.VERSION=r,Pa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){Q[h].placeholder=Q}),Pa(["drop","take"],function(h,p){Gt.prototype[h]=function(C){C=C===t?1:en(Yt(C),0);var P=this.__filtered__&&!p?new Gt(this):this.clone();return P.__filtered__?P.__takeCount__=Pt(C,P.__takeCount__):P.__views__.push({size:Pt(C,X),type:h+(P.__dir__<0?"Right":"")}),P},Gt.prototype[h+"Right"]=function(C){return this.reverse()[h](C).reverse()}}),Pa(["filter","map","takeWhile"],function(h,p){var C=p+1,P=C==D||C==I;Gt.prototype[h]=function(W){var ne=this.clone();return ne.__iteratees__.push({iteratee:xt(W,3),type:C}),ne.__filtered__=ne.__filtered__||P,ne}}),Pa(["head","last"],function(h,p){var C="take"+(p?"Right":"");Gt.prototype[h]=function(){return this[C](1).value()[0]}}),Pa(["initial","tail"],function(h,p){var C="drop"+(p?"":"Right");Gt.prototype[h]=function(){return this.__filtered__?new Gt(this):this[C](1)}}),Gt.prototype.compact=function(){return this.filter(gn)},Gt.prototype.find=function(h){return this.filter(h).head()},Gt.prototype.findLast=function(h){return this.reverse().find(h)},Gt.prototype.invokeMap=qt(function(h,p){return typeof h=="function"?new Gt(this):this.map(function(C){return dl(C,h,p)})}),Gt.prototype.reject=function(h){return this.filter(kc(xt(h)))},Gt.prototype.slice=function(h,p){h=Yt(h);var C=this;return C.__filtered__&&(h>0||p<0)?new Gt(C):(h<0?C=C.takeRight(-h):h&&(C=C.drop(h)),p!==t&&(p=Yt(p),C=p<0?C.dropRight(-p):C.take(p-h)),C)},Gt.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Gt.prototype.toArray=function(){return this.take(X)},Ya(Gt.prototype,function(h,p){var C=/^(?:filter|find|map|reject)|While$/.test(p),P=/^(?:head|last)$/.test(p),W=Q[P?"take"+(p=="last"?"Right":""):p],ne=P||/^find/.test(p);W&&(Q.prototype[p]=function(){var ce=this.__wrapped__,ge=P?[1]:arguments,xe=ce instanceof Gt,qe=ge[0],We=xe||zt(ce),je=function(nn){var un=W.apply(Q,Ki([nn],ge));return P&&ct?un[0]:un};We&&C&&typeof qe=="function"&&qe.length!=1&&(xe=We=!1);var ct=this.__chain__,wt=!!this.__actions__.length,Bt=ne&&!ct,Zt=xe&&!wt;if(!ne&&We){ce=Zt?ce:new Gt(this);var _t=h.apply(ce,ge);return _t.__actions__.push({func:Nl,args:[je],thisArg:t}),new pa(_t,ct)}return Bt&&Zt?h.apply(this,ge):(_t=this.thru(je),Bt?P?_t.value()[0]:_t.value():_t)})}),Pa(["pop","push","shift","sort","splice","unshift"],function(h){var p=wu[h],C=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",P=/^(?:pop|shift)$/.test(h);Q.prototype[h]=function(){var W=arguments;if(P&&!this.__chain__){var ne=this.value();return p.apply(zt(ne)?ne:[],W)}return this[C](function(ce){return p.apply(zt(ce)?ce:[],W)})}}),Ya(Gt.prototype,function(h,p){var C=Q[p];if(C){var P=C.name+"";yn.call(Lo,P)||(Lo[P]=[]),Lo[P].push({name:p,func:C})}}),Lo[Uu(t,w).name]=[{name:"wrapper",func:t}],Gt.prototype.clone=xp,Gt.prototype.reverse=ol,Gt.prototype.value=fc,Q.prototype.at=cm,Q.prototype.chain=X0,Q.prototype.commit=go,Q.prototype.next=Pc,Q.prototype.plant=Ll,Q.prototype.reverse=dm,Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=hm,Q.prototype.first=Q.prototype.head,Ri&&(Q.prototype[Ri]=ov),Q},ti=L0();Mo?((Mo.exports=ti)._=ti,Qs._=ti):jn._=ti}).call(DR)}(Qv,Qv.exports)),Qv.exports}var My=NR(),Xn=(n=>(n.FINITE="FINITE",n.PDA="PDA",n.TURING="TURING",n))(Xn||{});class AS{constructor({states:e=[],deltaFunctionMatrix:t={},automatonType:r,initialStateId:i,finalStateIds:o=[]}){De(this,"states");De(this,"deltaFunctionMatrix");De(this,"automatonType");De(this,"commandHistory");De(this,"initialStateId");De(this,"finalStateIds");this.states=e,this.commandHistory=[],this.automatonType=r,this.deltaFunctionMatrix=t,this.initialStateId=i,this.finalStateIds=o}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new Ye("Cannot undo because command history is empty.")}save(){return new LR(this.states,this.deltaFunctionMatrix,this.automatonType,this.initialStateId,this.finalStateIds)}restore(e){this.states=e.states,this.deltaFunctionMatrix=e.deltaFunctionMatrix,this.automatonType=e.automatonType,this.initialStateId=e.initialStateId,this.finalStateIds=e.finalStateIds}isDeterministic(){const e=new Set([]),t=new Set([]);this.automatonType=="PDA"&&t.add(Lb);for(const r in this.deltaFunctionMatrix)for(const i in this.deltaFunctionMatrix[r]){const o=this.deltaFunctionMatrix[r][i];for(const l of o)if(e.add(l.inputChar),this.automatonType=="PDA"&&l instanceof Of){t.add(l.readStackChar);for(const u of l.writeStackWord)t.add(u)}}if(e.has(vr)||this.states.length!=Object.keys(this.deltaFunctionMatrix).length)return!1;switch(this.automatonType){case"FINITE":for(const r in this.deltaFunctionMatrix){const i=new Set([]);let o=0;for(const l in this.deltaFunctionMatrix[r]){const u=this.deltaFunctionMatrix[r][l];o+=u.length;for(const c of u)if(c instanceof $y)i.add(c.inputChar);else throw new Error("Finite automaton has non-finite edge")}if(o!=i.size||o!=e.size)return!1}return!0;case"PDA":for(const r in this.deltaFunctionMatrix){const i={};let o=0;for(const u in this.deltaFunctionMatrix[r]){const c=this.deltaFunctionMatrix[r][u];o+=c.length;for(const f of c)if(f instanceof Of)i[f.inputChar]===void 0&&(i[f.inputChar]=new Set([])),i[f.inputChar].add(f.readStackChar);else throw new Error("PDA has non-PDA edge")}let l=0;for(const u in i)l=l+i[u].size;if(o!=l||o!=e.size*t.size)return!1}return!0}return!1}createRunSimulation(e){if(this.isDeterministic())switch(this.automatonType){case"FINITE":return new qm(this,new ES(this.initialStateId,e));case"PDA":return new qm(this,new wS(this.initialStateId,e,[Lb]));case"TURING":throw new Error("Not implemented.")}else switch(this.automatonType){case"FINITE":return new qm(this,new hy(this.initialStateId,e));case"PDA":return new qm(this,new v1(this.initialStateId,e,[Lb]));case"TURING":throw new Error("Not implemented.")}}}class LR{constructor(e,t,r,i,o){De(this,"states");De(this,"automatonType");De(this,"deltaFunctionMatrix");De(this,"initialStateId");De(this,"finalStateIds");this.states=[...e],this.automatonType=r,this.initialStateId=i,this.finalStateIds=[...o],this.deltaFunctionMatrix=My.cloneDeep(t)}}var Ir=(n=>(n.REGULAR="REGULAR",n.CONTEXT_FREE="CONTEXT_FREE",n))(Ir||{});class hg{constructor(e,t,r){De(this,"id");De(this,"inputNonTerminal");De(this,"outputSymbols");this.id=e,this.inputNonTerminal=t,this.outputSymbols=r}static createByFactory(e,t,r){return new hg(e,t,r)}equals(e){return e instanceof hg?this.inputNonTerminal===e.inputNonTerminal&&xS(this.outputSymbols,e.outputSymbols):!1}toString(){return`${this.inputNonTerminal} -> ${this.outputSymbols.join("")}`}}class Y1{constructor(e,t,r,i,o){De(this,"grammarType");De(this,"nonTerminalSymbols");De(this,"terminalSymbols");De(this,"initialNonTerminalSymbol");De(this,"productionRules");De(this,"commandHistory");this.grammarType=e,this.nonTerminalSymbols=t,this.terminalSymbols=r,this.initialNonTerminalSymbol=i,this.productionRules=o??[],this.commandHistory=[]}hasNonTerminalSymbol(e){return this.nonTerminalSymbols.some(t=>t===e)}hasTerminalSymbol(e){return this.terminalSymbols.some(t=>t===e)}executeCommand(e){const t=e.execute();return t===void 0&&this.commandHistory.push(e),t}undo(){const e=this.commandHistory.pop();if(e)e.undo();else return new Ye("Cannot undo because command history is empty.")}save(){return new IR(this.grammarType,this.nonTerminalSymbols,this.terminalSymbols,this.initialNonTerminalSymbol,this.productionRules)}restore(e){this.grammarType=e.grammarType,this.nonTerminalSymbols=e.nonTerminalSymbols,this.terminalSymbols=e.terminalSymbols,this.initialNonTerminalSymbol=e.initialNonTerminalSymbol,this.productionRules=e.productionRules}}class IR{constructor(e,t,r,i,o){De(this,"grammarType");De(this,"nonTerminalSymbols");De(this,"terminalSymbols");De(this,"initialNonTerminalSymbol");De(this,"productionRules");this.grammarType=e,this.nonTerminalSymbols=[...t],this.terminalSymbols=[...r],this.initialNonTerminalSymbol=i,this.productionRules=My.cloneDeep(o)}}class BR{constructor(e){De(this,"internalFactory");De(this,"edgeCounter",0);if(e===Xn.FINITE)this.internalFactory=new _R;else if(e===Xn.PDA)this.internalFactory=new PR;else{const t=[Xn.FINITE,Xn.PDA];throw new Error(`Unsupported automaton type: ${e}. Supported types are ${JSON.stringify(t)}.`)}}createAutomaton(e){return this.internalFactory.createAutomaton(e)}createEdge(e){return e.id=`_${this.edgeCounter}`,this.edgeCounter++,this.internalFactory.createEdge(e)}}class _R{createAutomaton(e){return new AS({states:[e],deltaFunctionMatrix:{},automatonType:Xn.FINITE,initialStateId:e,finalStateIds:[]})}createEdge(e){return new $y(e.id,e.inputChar)}}class PR{createAutomaton(e){return new AS({states:[e],deltaFunctionMatrix:{},automatonType:Xn.PDA,initialStateId:e,finalStateIds:[]})}createEdge(e){if(!e.readStackChar||!e.writeStackWord)throw new Error("Cannot create PDAEdge without both readStackChar and writeStackWord arguments");return new Of(e.id,e.inputChar,e.readStackChar,e.writeStackWord)}}function Tr(n){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(n)}function ou(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function su(n,e,t){return e&&FR(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function RS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lr(n,e){return UR(n)||GR(n,e)||q1(n,e)||VR()}function MS(n){return kR(n)||zR(n)||q1(n)||HR()}function kR(n){if(Array.isArray(n))return g1(n)}function UR(n){if(Array.isArray(n))return n}function zR(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function GR(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(c){o=!0,u=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return r}}function q1(n,e){if(n){if(typeof n=="string")return g1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g1(n,e)}}function g1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function HR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bi(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=q1(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,u;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return o=c.done,c},e:function(c){l=!0,u=c},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(l)throw u}}}}var Er=typeof window>"u"?null:window,tw=Er?Er.navigator:null;Er&&Er.document;var YR=Tr(""),OS=Tr({}),qR=Tr(function(){}),XR=typeof HTMLElement>"u"?"undefined":Tr(HTMLElement),Dg=function(e){return e&&e.instanceString&&rr(e.instanceString)?e.instanceString():null},Ct=function(e){return e!=null&&Tr(e)==YR},rr=function(e){return e!=null&&Tr(e)===qR},_n=function(e){return!Ei(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},mn=function(e){return e!=null&&Tr(e)===OS&&!_n(e)&&e.constructor===Object},WR=function(e){return e!=null&&Tr(e)===OS},lt=function(e){return e!=null&&Tr(e)===Tr(1)&&!isNaN(e)},$R=function(e){return lt(e)&&Math.floor(e)===e},Oy=function(e){if(XR!=="undefined")return e!=null&&e instanceof HTMLElement},Ei=function(e){return Ng(e)||DS(e)},Ng=function(e){return Dg(e)==="collection"&&e._private.single},DS=function(e){return Dg(e)==="collection"&&!e._private.single},X1=function(e){return Dg(e)==="core"},NS=function(e){return Dg(e)==="stylesheet"},KR=function(e){return Dg(e)==="event"},Ql=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},ZR=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},QR=function(e){return mn(e)&&lt(e.x1)&&lt(e.x2)&&lt(e.y1)&&lt(e.y2)},JR=function(e){return WR(e)&&rr(e.then)},jR=function(){return tw&&tw.userAgent.match(/msie|trident|edge/i)},vg=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);return o.join("$")});var r=function i(){var o=this,l=arguments,u,c=t.apply(o,l),f=i.cache;return(u=f[c])||(u=f[c]=e.apply(o,l)),u};return r.cache={},r},W1=vg(function(n){return n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Ky=vg(function(n){return n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),LS=vg(function(n,e){return n+e[0].toUpperCase()+e.substring(1)},function(n,e){return n+"$"+e}),nw=function(e){return Ql(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},wr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",eM="rgb[a]?\\(("+wr+"[%]?)\\s*,\\s*("+wr+"[%]?)\\s*,\\s*("+wr+"[%]?)(?:\\s*,\\s*("+wr+"))?\\)",tM="rgb[a]?\\((?:"+wr+"[%]?)\\s*,\\s*(?:"+wr+"[%]?)\\s*,\\s*(?:"+wr+"[%]?)(?:\\s*,\\s*(?:"+wr+"))?\\)",nM="hsl[a]?\\(("+wr+")\\s*,\\s*("+wr+"[%])\\s*,\\s*("+wr+"[%])(?:\\s*,\\s*("+wr+"))?\\)",rM="hsl[a]?\\((?:"+wr+")\\s*,\\s*(?:"+wr+"[%])\\s*,\\s*(?:"+wr+"[%])(?:\\s*,\\s*(?:"+wr+"))?\\)",aM="\\#[0-9a-fA-F]{3}",iM="\\#[0-9a-fA-F]{6}",IS=function(e,t){return e<t?-1:e>t?1:0},oM=function(e,t){return-1*IS(e,t)},Lt=Object.assign!=null?Object.assign.bind(Object):function(n){for(var e=arguments,t=1;t<e.length;t++){var r=e[t];if(r!=null)for(var i=Object.keys(r),o=0;o<i.length;o++){var l=i[o];n[l]=r[l]}}return n},sM=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,i,o,l=16;return t?(r=parseInt(e[1]+e[1],l),i=parseInt(e[2]+e[2],l),o=parseInt(e[3]+e[3],l)):(r=parseInt(e[1]+e[2],l),i=parseInt(e[3]+e[4],l),o=parseInt(e[5]+e[6],l)),[r,i,o]}},lM=function(e){var t,r,i,o,l,u,c,f;function v(E,x,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?E+(x-E)*6*T:T<1/2?x:T<2/3?E+(x-E)*(2/3-T)*6:E}var g=new RegExp("^"+nM+"$").exec(e);if(g){if(r=parseInt(g[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(g[2]),i<0||i>100||(i=i/100,o=parseFloat(g[3]),o<0||o>100)||(o=o/100,l=g[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(i===0)u=c=f=Math.round(o*255);else{var b=o<.5?o*(1+i):o+i-o*i,y=2*o-b;u=Math.round(255*v(y,b,r+1/3)),c=Math.round(255*v(y,b,r)),f=Math.round(255*v(y,b,r-1/3))}t=[u,c,f,l]}return t},uM=function(e){var t,r=new RegExp("^"+eM+"$").exec(e);if(r){t=[];for(var i=[],o=1;o<=3;o++){var l=r[o];if(l[l.length-1]==="%"&&(i[o]=!0),l=parseFloat(l),i[o]&&(l=l/100*255),l<0||l>255)return;t.push(Math.floor(l))}var u=i[1]||i[2]||i[3],c=i[1]&&i[2]&&i[3];if(u&&!c)return;var f=r[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;t.push(f)}}return t},fM=function(e){return cM[e.toLowerCase()]},BS=function(e){return(_n(e)?e:null)||fM(e)||sM(e)||uM(e)||lM(e)},cM={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_S=function(e){for(var t=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var l=r[o];if(mn(l))throw Error("Tried to set map with object key");o<r.length-1?(t[l]==null&&(t[l]={}),t=t[l]):t[l]=e.value}},PS=function(e){for(var t=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var l=r[o];if(mn(l))throw Error("Tried to get map with object key");if(t=t[l],t==null)return t}return t};function dM(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Df=dM,Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hM(n,e){return e={exports:{}},n(e,e.exports),e.exports}var vM=typeof Jv=="object"&&Jv&&Jv.Object===Object&&Jv,gM=vM,pM=typeof self=="object"&&self&&self.Object===Object&&self,mM=gM||pM||Function("return this")(),Zy=mM,yM=function(){return Zy.Date.now()},Ib=yM,bM=/\s/;function EM(n){for(var e=n.length;e--&&bM.test(n.charAt(e)););return e}var wM=EM,TM=/^\s+/;function SM(n){return n&&n.slice(0,wM(n)+1).replace(TM,"")}var xM=SM,CM=Zy.Symbol,Td=CM,FS=Object.prototype,AM=FS.hasOwnProperty,RM=FS.toString,zv=Td?Td.toStringTag:void 0;function MM(n){var e=AM.call(n,zv),t=n[zv];try{n[zv]=void 0;var r=!0}catch{}var i=RM.call(n);return r&&(e?n[zv]=t:delete n[zv]),i}var OM=MM,DM=Object.prototype,NM=DM.toString;function LM(n){return NM.call(n)}var IM=LM,BM="[object Null]",_M="[object Undefined]",rw=Td?Td.toStringTag:void 0;function PM(n){return n==null?n===void 0?_M:BM:rw&&rw in Object(n)?OM(n):IM(n)}var kS=PM;function FM(n){return n!=null&&typeof n=="object"}var kM=FM,UM="[object Symbol]";function zM(n){return typeof n=="symbol"||kM(n)&&kS(n)==UM}var Lg=zM,aw=NaN,GM=/^[-+]0x[0-9a-f]+$/i,HM=/^0b[01]+$/i,VM=/^0o[0-7]+$/i,YM=parseInt;function qM(n){if(typeof n=="number")return n;if(Lg(n))return aw;if(Df(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Df(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=xM(n);var t=HM.test(n);return t||VM.test(n)?YM(n.slice(2),t?2:8):GM.test(n)?aw:+n}var iw=qM,XM="Expected a function",WM=Math.max,$M=Math.min;function KM(n,e,t){var r,i,o,l,u,c,f=0,v=!1,g=!1,b=!0;if(typeof n!="function")throw new TypeError(XM);e=iw(e)||0,Df(t)&&(v=!!t.leading,g="maxWait"in t,o=g?WM(iw(t.maxWait)||0,e):o,b="trailing"in t?!!t.trailing:b);function y(z){var N=r,U=i;return r=i=void 0,f=z,l=n.apply(U,N),l}function E(z){return f=z,u=setTimeout(w,e),v?y(z):l}function x(z){var N=z-c,U=z-f,F=e-N;return g?$M(F,o-U):F}function T(z){var N=z-c,U=z-f;return c===void 0||N>=e||N<0||g&&U>=o}function w(){var z=Ib();if(T(z))return R(z);u=setTimeout(w,x(z))}function R(z){return u=void 0,b&&r?y(z):(r=i=void 0,l)}function A(){u!==void 0&&clearTimeout(u),f=0,r=c=i=u=void 0}function O(){return u===void 0?l:R(Ib())}function B(){var z=Ib(),N=T(z);if(r=arguments,i=this,c=z,N){if(u===void 0)return E(c);if(g)return clearTimeout(u),u=setTimeout(w,e),y(c)}return u===void 0&&(u=setTimeout(w,e)),l}return B.cancel=A,B.flush=O,B}var Ig=KM,Bb=Er?Er.performance:null,US=Bb&&Bb.now?function(){return Bb.now()}:function(){return Date.now()},ZM=function(){if(Er){if(Er.requestAnimationFrame)return function(n){Er.requestAnimationFrame(n)};if(Er.mozRequestAnimationFrame)return function(n){Er.mozRequestAnimationFrame(n)};if(Er.webkitRequestAnimationFrame)return function(n){Er.webkitRequestAnimationFrame(n)};if(Er.msRequestAnimationFrame)return function(n){Er.msRequestAnimationFrame(n)}}return function(n){n&&setTimeout(function(){n(US())},1e3/60)}}(),Dy=function(e){return ZM(e)},Gs=US,hd=9261,zS=65599,jv=5381,GS=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hd,r=t,i;i=e.next(),!i.done;)r=r*zS+i.value|0;return r},gg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hd;return t*zS+e|0},pg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jv;return(t<<5)+t+e|0},QM=function(e,t){return e*2097152+t},Ul=function(e){return e[0]*2097152+e[1]},Xm=function(e,t){return[gg(e[0],t[0]),pg(e[1],t[1])]},JM=function(e,t){var r={value:0,done:!1},i=0,o=e.length,l={next:function(){return i<o?r.value=e[i++]:r.done=!0,r}};return GS(l,t)},Jl=function(e,t){var r={value:0,done:!1},i=0,o=e.length,l={next:function(){return i<o?r.value=e.charCodeAt(i++):r.done=!0,r}};return GS(l,t)},HS=function(){return jM(arguments)},jM=function(e){for(var t,r=0;r<e.length;r++){var i=e[r];r===0?t=Jl(i):t=Jl(i,t)}return t},ow=!0,eO=console.warn!=null,tO=console.trace!=null,$1=Number.MAX_SAFE_INTEGER||9007199254740991,VS=function(){return!0},Ny=function(){return!1},sw=function(){return 0},K1=function(){},nr=function(e){throw new Error(e)},YS=function(e){if(e!==void 0)ow=!!e;else return ow},On=function(e){YS()&&(eO?console.warn(e):(console.log(e),tO&&console.trace()))},nO=function(e){return Lt({},e)},is=function(e){return e==null?e:_n(e)?e.slice():mn(e)?nO(e):e},rO=function(e){return e.slice()},qS=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},aO={},XS=function(){return aO},Br=function(e){var t=Object.keys(e);return function(r){for(var i={},o=0;o<t.length;o++){var l=t[o],u=r==null?void 0:r[l];i[l]=u===void 0?e[l]:u}return i}},jl=function(e,t,r){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},Z1=function(e){e.splice(0,e.length)},iO=function(e,t){for(var r=0;r<t.length;r++){var i=t[r];e.push(i)}},xo=function(e,t,r){return r&&(t=LS(r,t)),e[t]},Yl=function(e,t,r,i){r&&(t=LS(r,t)),e[t]=i},oO=function(){function n(){ou(this,n),this._obj={}}return su(n,[{key:"set",value:function(t,r){return this._obj[t]=r,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}]),n}(),os=typeof Map<"u"?Map:oO,sO="undefined",lO=function(){function n(e){if(ou(this,n),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var r=0;r<t.length;r++)this.add(t[r])}}return su(n,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)}},{key:"delete",value:function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})}},{key:"forEach",value:function(t,r){return this.toArray().forEach(t,r)}}]),n}(),Dd=(typeof Set>"u"?"undefined":Tr(Set))!==sO?Set:lO,Qy=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!X1(e)){nr("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){nr("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new Dd,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),t.renderedPosition){var l=t.renderedPosition,u=e.pan(),c=e.zoom();o.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}var f=[];_n(t.classes)?f=t.classes:Ct(t.classes)&&(f=t.classes.split(/\s+/));for(var v=0,g=f.length;v<g;v++){var b=f[v];!b||b===""||o.classes.add(b)}this.createEmitter();var y=t.style||t.css;y&&(On("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y)),(r===void 0||r)&&this.restore()},lw=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,i,o){var l;mn(r)&&!Ei(r)&&(l=r,r=l.roots||l.root,i=l.visit,o=l.directed),o=arguments.length===2&&!rr(i)?i:o,i=rr(i)?i:function(){};for(var u=this._private.cy,c=r=Ct(r)?this.filter(r):r,f=[],v=[],g={},b={},y={},E=0,x,T=this.byGroup(),w=T.nodes,R=T.edges,A=0;A<c.length;A++){var O=c[A],B=O.id();O.isNode()&&(f.unshift(O),e.bfs&&(y[B]=!0,v.push(O)),b[B]=0)}for(var z=function(){var $=e.bfs?f.shift():f.pop(),D=$.id();if(e.dfs){if(y[D])return"continue";y[D]=!0,v.push($)}var _=b[D],I=g[D],L=I!=null?I.source():null,k=I!=null?I.target():null,K=I==null?void 0:$.same(L)?k[0]:L[0],G=void 0;if(G=i($,I,K,E++,_),G===!0)return x=$,"break";if(G===!1)return"break";for(var X=$.connectedEdges().filter(function(oe){return(!o||oe.source().same($))&&R.has(oe)}),Z=0;Z<X.length;Z++){var J=X[Z],re=J.connectedNodes().filter(function(oe){return!oe.same($)&&w.has(oe)}),ie=re.id();re.length!==0&&!y[ie]&&(re=re[0],f.push(re),e.bfs&&(y[ie]=!0,v.push(re)),g[ie]=J,b[ie]=b[D]+1)}};f.length!==0;){var N=z();if(N!=="continue"&&N==="break")break}for(var U=u.collection(),F=0;F<v.length;F++){var V=v[F],Y=g[V.id()];Y!=null&&U.push(Y),U.push(V)}return{path:u.collection(U),found:u.collection(x)}}},mg={breadthFirstSearch:lw({bfs:!0}),depthFirstSearch:lw({dfs:!0})};mg.bfs=mg.breadthFirstSearch;mg.dfs=mg.depthFirstSearch;var uO=hM(function(n,e){(function(){var t,r,i,o,l,u,c,f,v,g,b,y,E,x,T;i=Math.floor,g=Math.min,r=function(w,R){return w<R?-1:w>R?1:0},v=function(w,R,A,O,B){var z;if(A==null&&(A=0),B==null&&(B=r),A<0)throw new Error("lo must be non-negative");for(O==null&&(O=w.length);A<O;)z=i((A+O)/2),B(R,w[z])<0?O=z:A=z+1;return[].splice.apply(w,[A,A-A].concat(R)),R},u=function(w,R,A){return A==null&&(A=r),w.push(R),x(w,0,w.length-1,A)},l=function(w,R){var A,O;return R==null&&(R=r),A=w.pop(),w.length?(O=w[0],w[0]=A,T(w,0,R)):O=A,O},f=function(w,R,A){var O;return A==null&&(A=r),O=w[0],w[0]=R,T(w,0,A),O},c=function(w,R,A){var O;return A==null&&(A=r),w.length&&A(w[0],R)<0&&(O=[w[0],R],R=O[0],w[0]=O[1],T(w,0,A)),R},o=function(w,R){var A,O,B,z,N,U;for(R==null&&(R=r),z=(function(){U=[];for(var F=0,V=i(w.length/2);0<=V?F<V:F>V;0<=V?F++:F--)U.push(F);return U}).apply(this).reverse(),N=[],O=0,B=z.length;O<B;O++)A=z[O],N.push(T(w,A,R));return N},E=function(w,R,A){var O;if(A==null&&(A=r),O=w.indexOf(R),O!==-1)return x(w,0,O,A),T(w,O,A)},b=function(w,R,A){var O,B,z,N,U;if(A==null&&(A=r),B=w.slice(0,R),!B.length)return B;for(o(B,A),U=w.slice(R),z=0,N=U.length;z<N;z++)O=U[z],c(B,O,A);return B.sort(A).reverse()},y=function(w,R,A){var O,B,z,N,U,F,V,Y,H;if(A==null&&(A=r),R*10<=w.length){if(z=w.slice(0,R).sort(A),!z.length)return z;for(B=z[z.length-1],V=w.slice(R),N=0,F=V.length;N<F;N++)O=V[N],A(O,B)<0&&(v(z,O,0,null,A),z.pop(),B=z[z.length-1]);return z}for(o(w,A),H=[],U=0,Y=g(R,w.length);0<=Y?U<Y:U>Y;0<=Y?++U:--U)H.push(l(w,A));return H},x=function(w,R,A,O){var B,z,N;for(O==null&&(O=r),B=w[A];A>R;){if(N=A-1>>1,z=w[N],O(B,z)<0){w[A]=z,A=N;continue}break}return w[A]=B},T=function(w,R,A){var O,B,z,N,U;for(A==null&&(A=r),B=w.length,U=R,z=w[R],O=2*R+1;O<B;)N=O+1,N<B&&!(A(w[O],w[N])<0)&&(O=N),w[R]=w[O],R=O,O=2*R+1;return w[R]=z,x(w,U,R,A)},t=function(){w.push=u,w.pop=l,w.replace=f,w.pushpop=c,w.heapify=o,w.updateItem=E,w.nlargest=b,w.nsmallest=y;function w(R){this.cmp=R??r,this.nodes=[]}return w.prototype.push=function(R){return u(this.nodes,R,this.cmp)},w.prototype.pop=function(){return l(this.nodes,this.cmp)},w.prototype.peek=function(){return this.nodes[0]},w.prototype.contains=function(R){return this.nodes.indexOf(R)!==-1},w.prototype.replace=function(R){return f(this.nodes,R,this.cmp)},w.prototype.pushpop=function(R){return c(this.nodes,R,this.cmp)},w.prototype.heapify=function(){return o(this.nodes,this.cmp)},w.prototype.updateItem=function(R){return E(this.nodes,R,this.cmp)},w.prototype.clear=function(){return this.nodes=[]},w.prototype.empty=function(){return this.nodes.length===0},w.prototype.size=function(){return this.nodes.length},w.prototype.clone=function(){var R;return R=new w,R.nodes=this.nodes.slice(0),R},w.prototype.toArray=function(){return this.nodes.slice(0)},w.prototype.insert=w.prototype.push,w.prototype.top=w.prototype.peek,w.prototype.front=w.prototype.peek,w.prototype.has=w.prototype.contains,w.prototype.copy=w.prototype.clone,w}(),function(w,R){return n.exports=R()}(this,function(){return t})}).call(Jv)}),Bg=uO,fO=Br({root:null,weight:function(e){return 1},directed:!1}),cO={dijkstra:function(e){if(!mn(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=fO(e),i=r.root,o=r.weight,l=r.directed,u=this,c=o,f=Ct(i)?this.filter(i)[0]:i[0],v={},g={},b={},y=this.byGroup(),E=y.nodes,x=y.edges;x.unmergeBy(function(_){return _.isLoop()});for(var T=function(I){return v[I.id()]},w=function(I,L){v[I.id()]=L,R.updateItem(I)},R=new Bg(function(_,I){return T(_)-T(I)}),A=0;A<E.length;A++){var O=E[A];v[O.id()]=O.same(f)?0:1/0,R.push(O)}for(var B=function(I,L){for(var k=(l?I.edgesTo(L):I.edgesWith(L)).intersect(x),K=1/0,G,X=0;X<k.length;X++){var Z=k[X],J=c(Z);(J<K||!G)&&(K=J,G=Z)}return{edge:G,dist:K}};R.size()>0;){var z=R.pop(),N=T(z),U=z.id();if(b[U]=N,N!==1/0)for(var F=z.neighborhood().intersect(E),V=0;V<F.length;V++){var Y=F[V],H=Y.id(),$=B(z,Y),D=N+$.dist;D<T(Y)&&(w(Y,D),g[H]={node:z,edge:$.edge})}}return{distanceTo:function(I){var L=Ct(I)?E.filter(I)[0]:I[0];return b[L.id()]},pathTo:function(I){var L=Ct(I)?E.filter(I)[0]:I[0],k=[],K=L,G=K.id();if(L.length>0)for(k.unshift(L);g[G];){var X=g[G];k.unshift(X.edge),k.unshift(X.node),K=X.node,G=K.id()}return u.spawn(k)}}}},dO={kruskal:function(e){e=e||function(A){return 1};for(var t=this.byGroup(),r=t.nodes,i=t.edges,o=r.length,l=new Array(o),u=r,c=function(O){for(var B=0;B<l.length;B++){var z=l[B];if(z.has(O))return B}},f=0;f<o;f++)l[f]=this.spawn(r[f]);for(var v=i.sort(function(A,O){return e(A)-e(O)}),g=0;g<v.length;g++){var b=v[g],y=b.source()[0],E=b.target()[0],x=c(y),T=c(E),w=l[x],R=l[T];x!==T&&(u.merge(b),w.merge(R),l.splice(T,1))}return u}},hO=Br({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),vO={aStar:function(e){var t=this.cy(),r=hO(e),i=r.root,o=r.goal,l=r.heuristic,u=r.directed,c=r.weight;i=t.collection(i)[0],o=t.collection(o)[0];var f=i.id(),v=o.id(),g={},b={},y={},E=new Bg(function(G,X){return b[G.id()]-b[X.id()]}),x=new Dd,T={},w={},R=function(X,Z){E.push(X),x.add(Z)},A,O,B=function(){A=E.pop(),O=A.id(),x.delete(O)},z=function(X){return x.has(X)};R(i,f),g[f]=0,b[f]=l(i);for(var N=0;E.size()>0;){if(B(),N++,O===v){for(var U=[],F=o,V=v,Y=w[V];U.unshift(F),Y!=null&&U.unshift(Y),F=T[V],F!=null;)V=F.id(),Y=w[V];return{found:!0,distance:g[O],path:this.spawn(U),steps:N}}y[O]=!0;for(var H=A._private.edges,$=0;$<H.length;$++){var D=H[$];if(this.hasElementWithId(D.id())&&!(u&&D.data("source")!==O)){var _=D.source(),I=D.target(),L=_.id()!==O?_:I,k=L.id();if(this.hasElementWithId(k)&&!y[k]){var K=g[O]+c(D);if(!z(k)){g[k]=K,b[k]=K+l(L),R(L,k),T[k]=A,w[k]=D;continue}K<g[k]&&(g[k]=K,b[k]=K+l(L),T[k]=A,w[k]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:N}}},gO=Br({weight:function(e){return 1},directed:!1}),pO={floydWarshall:function(e){for(var t=this.cy(),r=gO(e),i=r.weight,o=r.directed,l=i,u=this.byGroup(),c=u.nodes,f=u.edges,v=c.length,g=v*v,b=function(J){return c.indexOf(J)},y=function(J){return c[J]},E=new Array(g),x=0;x<g;x++){var T=x%v,w=(x-T)/v;w===T?E[x]=0:E[x]=1/0}for(var R=new Array(g),A=new Array(g),O=0;O<f.length;O++){var B=f[O],z=B.source()[0],N=B.target()[0];if(z!==N){var U=b(z),F=b(N),V=U*v+F,Y=l(B);if(E[V]>Y&&(E[V]=Y,R[V]=F,A[V]=B),!o){var H=F*v+U;!o&&E[H]>Y&&(E[H]=Y,R[H]=U,A[H]=B)}}}for(var $=0;$<v;$++)for(var D=0;D<v;D++)for(var _=D*v+$,I=0;I<v;I++){var L=D*v+I,k=$*v+I;E[_]+E[k]<E[L]&&(E[L]=E[_]+E[k],R[L]=R[_])}var K=function(J){return(Ct(J)?t.filter(J):J)[0]},G=function(J){return b(K(J))},X={distance:function(J,re){var ie=G(J),oe=G(re);return E[ie*v+oe]},path:function(J,re){var ie=G(J),oe=G(re),he=y(ie);if(ie===oe)return he.collection();if(R[ie*v+oe]==null)return t.collection();var se=t.collection(),te=ie,ae;for(se.merge(he);ie!==oe;)te=ie,ie=R[ie*v+oe],ae=A[te*v+ie],se.merge(ae),se.merge(y(ie));return se}};return X}},mO=Br({weight:function(e){return 1},directed:!1,root:null}),yO={bellmanFord:function(e){var t=this,r=mO(e),i=r.weight,o=r.directed,l=r.root,u=i,c=this,f=this.cy(),v=this.byGroup(),g=v.edges,b=v.nodes,y=b.length,E=new os,x=!1,T=[];l=f.collection(l)[0],g.unmergeBy(function(rt){return rt.isLoop()});for(var w=g.length,R=function(Pe){var Ve=E.get(Pe.id());return Ve||(Ve={},E.set(Pe.id(),Ve)),Ve},A=function(Pe){return(Ct(Pe)?f.$(Pe):Pe)[0]},O=function(Pe){return R(A(Pe)).dist},B=function(Pe){for(var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Ke=A(Pe),Qe=[],at=Ke;;){if(at==null)return t.spawn();var tt=R(at),it=tt.edge,dt=tt.pred;if(Qe.unshift(at[0]),at.same(Ve)&&Qe.length>0)break;it!=null&&Qe.unshift(it),at=dt}return c.spawn(Qe)},z=0;z<y;z++){var N=b[z],U=R(N);N.same(l)?U.dist=0:U.dist=1/0,U.pred=null,U.edge=null}for(var F=!1,V=function(Pe,Ve,Ke,Qe,at,tt){var it=Qe.dist+tt;it<at.dist&&!Ke.same(Qe.edge)&&(at.dist=it,at.pred=Pe,at.edge=Ke,F=!0)},Y=1;Y<y;Y++){F=!1;for(var H=0;H<w;H++){var $=g[H],D=$.source(),_=$.target(),I=u($),L=R(D),k=R(_);V(D,_,$,L,k,I),o||V(_,D,$,k,L,I)}if(!F)break}if(F)for(var K=[],G=0;G<w;G++){var X=g[G],Z=X.source(),J=X.target(),re=u(X),ie=R(Z).dist,oe=R(J).dist;if(ie+re<oe||!o&&oe+re<ie)if(x||(On("Graph contains a negative weight cycle for Bellman-Ford"),x=!0),e.findNegativeWeightCycles!==!1){var he=[];ie+re<oe&&he.push(Z),!o&&oe+re<ie&&he.push(J);for(var se=he.length,te=0;te<se;te++){var ae=he[te],le=[ae];le.push(R(ae).edge);for(var me=R(ae).pred;le.indexOf(me)===-1;)le.push(me),le.push(R(me).edge),me=R(me).pred;le=le.slice(le.indexOf(me));for(var _e=le[0].id(),Ae=0,et=2;et<le.length;et+=2)le[et].id()<_e&&(_e=le[et].id(),Ae=et);le=le.slice(Ae).concat(le.slice(0,Ae)),le.push(le[0]);var ot=le.map(function(rt){return rt.id()}).join(",");K.indexOf(ot)===-1&&(T.push(c.spawn(le)),K.push(ot))}}else break}return{distanceTo:O,pathTo:B,hasNegativeWeightCycle:x,negativeWeightCycles:T}}},bO=Math.sqrt(2),EO=function(e,t,r){r.length===0&&nr("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],o=i[1],l=i[2],u=t[o],c=t[l],f=r,v=f.length-1;v>=0;v--){var g=f[v],b=g[1],y=g[2];(t[b]===u&&t[y]===c||t[b]===c&&t[y]===u)&&f.splice(v,1)}for(var E=0;E<f.length;E++){var x=f[E];x[1]===c?(f[E]=x.slice(),f[E][1]=u):x[2]===c&&(f[E]=x.slice(),f[E][2]=u)}for(var T=0;T<t.length;T++)t[T]===c&&(t[T]=u);return f},_b=function(e,t,r,i){for(;r>i;){var o=Math.floor(Math.random()*t.length);t=EO(o,e,t),r--}return t},wO={kargerStein:function(){var e=this,t=this.byGroup(),r=t.nodes,i=t.edges;i.unmergeBy(function(k){return k.isLoop()});var o=r.length,l=i.length,u=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),c=Math.floor(o/bO);if(o<2){nr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],v=0;v<l;v++){var g=i[v];f.push([v,r.indexOf(g.source()),r.indexOf(g.target())])}for(var b=1/0,y=[],E=new Array(o),x=new Array(o),T=new Array(o),w=function(K,G){for(var X=0;X<o;X++)G[X]=K[X]},R=0;R<=u;R++){for(var A=0;A<o;A++)x[A]=A;var O=_b(x,f.slice(),o,c),B=O.slice();w(x,T);var z=_b(x,O,c,2),N=_b(T,B,c,2);z.length<=N.length&&z.length<b?(b=z.length,y=z,w(x,E)):N.length<=z.length&&N.length<b&&(b=N.length,y=N,w(T,E))}for(var U=this.spawn(y.map(function(k){return i[k[0]]})),F=this.spawn(),V=this.spawn(),Y=E[0],H=0;H<E.length;H++){var $=E[H],D=r[H];$===Y?F.merge(D):V.merge(D)}var _=function(K){var G=e.spawn();return K.forEach(function(X){G.merge(X),X.connectedEdges().forEach(function(Z){e.contains(Z)&&!U.contains(Z)&&G.merge(Z)})}),G},I=[_(F),_(V)],L={cut:U,components:I,partition1:F,partition2:V};return L}},TO=function(e){return{x:e.x,y:e.y}},Jy=function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},WS=function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},vd=function(e){return{x:e[0],y:e[1]}},SO=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=t;o<r;o++){var l=e[o];isFinite(l)&&(i=Math.min(l,i))}return i},xO=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=t;o<r;o++){var l=e[o];isFinite(l)&&(i=Math.max(l,i))}return i},CO=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,l=t;l<r;l++){var u=e[l];isFinite(u)&&(i+=u,o++)}return i/o},AO=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var u=0,c=e.length-1;c>=0;c--){var f=e[c];l?isFinite(f)||(e[c]=-1/0,u++):e.splice(c,1)}o&&e.sort(function(b,y){return b-y});var v=e.length,g=Math.floor(v/2);return v%2!==0?e[g+1+u]:(e[g-1+u]+e[g+u])/2},RO=function(e){return Math.PI*e/180},Wm=function(e,t){return Math.atan2(t,e)-Math.PI/2},Q1=Math.log2||function(n){return Math.log(n)/Math.log(2)},$S=function(e){return e>0?1:e<0?-1:0},Nf=function(e,t){return Math.sqrt(yf(e,t))},yf=function(e,t){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i},MO=function(e){for(var t=e.length,r=0,i=0;i<t;i++)r+=e[i];for(var o=0;o<t;o++)e[o]=e[o]/r;return e},Nr=function(e,t,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*r},md=function(e,t,r,i){return{x:Nr(e.x,t.x,r.x,i),y:Nr(e.y,t.y,r.y,i)}},OO=function(e,t,r,i){var o={x:t.x-e.x,y:t.y-e.y},l=Nf(e,t),u={x:o.x/l,y:o.y/l};return r=r??0,i=i??r*l,{x:e.x+u.x*i,y:e.y+u.y*i}},yg=function(e,t,r){return Math.max(e,Math.min(r,t))},Qa=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},DO=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},NO=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},LO=function(e,t,r){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},KS=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},IO=function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},vy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,o,l;if(t.length===1)r=i=o=l=t[0];else if(t.length===2)r=o=t[0],l=i=t[1];else if(t.length===4){var u=Lr(t,4);r=u[0],i=u[1],o=u[2],l=u[3]}return e.x1-=l,e.x2+=i,e.y1-=r,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},uw=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},J1=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},Sd=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},BO=function(e,t){return Sd(e,t.x,t.y)},ZS=function(e,t){return Sd(e,t.x1,t.y1)&&Sd(e,t.x2,t.y2)},QS=function(e,t,r,i,o,l,u){var c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=c==="auto"?Lf(o,l):c,v=o/2,g=l/2;f=Math.min(f,v,g);var b=f!==v,y=f!==g,E;if(b){var x=r-v+f-u,T=i-g-u,w=r+v-f+u,R=T;if(E=Wl(e,t,r,i,x,T,w,R,!1),E.length>0)return E}if(y){var A=r+v+u,O=i-g+f-u,B=A,z=i+g-f+u;if(E=Wl(e,t,r,i,A,O,B,z,!1),E.length>0)return E}if(b){var N=r-v+f-u,U=i+g+u,F=r+v-f+u,V=U;if(E=Wl(e,t,r,i,N,U,F,V,!1),E.length>0)return E}if(y){var Y=r-v-u,H=i-g+f-u,$=Y,D=i+g-f+u;if(E=Wl(e,t,r,i,Y,H,$,D,!1),E.length>0)return E}var _;{var I=r-v+f,L=i-g+f;if(_=eg(e,t,r,i,I,L,f+u),_.length>0&&_[0]<=I&&_[1]<=L)return[_[0],_[1]]}{var k=r+v-f,K=i-g+f;if(_=eg(e,t,r,i,k,K,f+u),_.length>0&&_[0]>=k&&_[1]<=K)return[_[0],_[1]]}{var G=r+v-f,X=i+g-f;if(_=eg(e,t,r,i,G,X,f+u),_.length>0&&_[0]>=G&&_[1]>=X)return[_[0],_[1]]}{var Z=r-v+f,J=i+g-f;if(_=eg(e,t,r,i,Z,J,f+u),_.length>0&&_[0]<=Z&&_[1]>=J)return[_[0],_[1]]}return[]},_O=function(e,t,r,i,o,l,u){var c=u,f=Math.min(r,o),v=Math.max(r,o),g=Math.min(i,l),b=Math.max(i,l);return f-c<=e&&e<=v+c&&g-c<=t&&t<=b+c},PO=function(e,t,r,i,o,l,u,c,f){var v={x1:Math.min(r,u,o)-f,x2:Math.max(r,u,o)+f,y1:Math.min(i,c,l)-f,y2:Math.max(i,c,l)+f};return!(e<v.x1||e>v.x2||t<v.y1||t>v.y2)},FO=function(e,t,r,i){r-=i;var o=t*t-4*e*r;if(o<0)return[];var l=Math.sqrt(o),u=2*e,c=(-t+l)/u,f=(-t-l)/u;return[c,f]},kO=function(e,t,r,i,o){var l=1e-5;e===0&&(e=l),t/=e,r/=e,i/=e;var u,c,f,v,g,b,y,E;if(c=(3*r-t*t)/9,f=-(27*i)+t*(9*r-2*(t*t)),f/=54,u=c*c*c+f*f,o[1]=0,y=t/3,u>0){g=f+Math.sqrt(u),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),b=f-Math.sqrt(u),b=b<0?-Math.pow(-b,1/3):Math.pow(b,1/3),o[0]=-y+g+b,y+=(g+b)/2,o[4]=o[2]=-y,y=Math.sqrt(3)*(-b+g)/2,o[3]=y,o[5]=-y;return}if(o[5]=o[3]=0,u===0){E=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),o[0]=-y+2*E,o[4]=o[2]=-(E+y);return}c=-c,v=c*c*c,v=Math.acos(f/Math.sqrt(v)),E=2*Math.sqrt(c),o[0]=-y+E*Math.cos(v/3),o[2]=-y+E*Math.cos((v+2*Math.PI)/3),o[4]=-y+E*Math.cos((v+4*Math.PI)/3)},UO=function(e,t,r,i,o,l,u,c){var f=1*r*r-4*r*o+2*r*u+4*o*o-4*o*u+u*u+i*i-4*i*l+2*i*c+4*l*l-4*l*c+c*c,v=1*9*r*o-3*r*r-3*r*u-6*o*o+3*o*u+9*i*l-3*i*i-3*i*c-6*l*l+3*l*c,g=1*3*r*r-6*r*o+r*u-r*e+2*o*o+2*o*e-u*e+3*i*i-6*i*l+i*c-i*t+2*l*l+2*l*t-c*t,b=1*r*o-r*r+r*e-o*e+i*l-i*i+i*t-l*t,y=[];kO(f,v,g,b,y);for(var E=1e-7,x=[],T=0;T<6;T+=2)Math.abs(y[T+1])<E&&y[T]>=0&&y[T]<=1&&x.push(y[T]);x.push(1),x.push(0);for(var w=-1,R,A,O,B=0;B<x.length;B++)R=Math.pow(1-x[B],2)*r+2*(1-x[B])*x[B]*o+x[B]*x[B]*u,A=Math.pow(1-x[B],2)*i+2*(1-x[B])*x[B]*l+x[B]*x[B]*c,O=Math.pow(R-e,2)+Math.pow(A-t,2),w>=0?O<w&&(w=O):w=O;return w},zO=function(e,t,r,i,o,l){var u=[e-r,t-i],c=[o-r,l-i],f=c[0]*c[0]+c[1]*c[1],v=u[0]*u[0]+u[1]*u[1],g=u[0]*c[0]+u[1]*c[1],b=g*g/f;return g<0?v:b>f?(e-o)*(e-o)+(t-l)*(t-l):v-b},Wa=function(e,t,r){for(var i,o,l,u,c,f=0,v=0;v<r.length/2;v++)if(i=r[v*2],o=r[v*2+1],v+1<r.length/2?(l=r[(v+1)*2],u=r[(v+1)*2+1]):(l=r[(v+1-r.length/2)*2],u=r[(v+1-r.length/2)*2+1]),!(i==e&&l==e))if(i>=e&&e>=l||i<=e&&e<=l)c=(e-i)/(l-i)*(u-o)+o,c>t&&f++;else continue;return f%2!==0},Hs=function(e,t,r,i,o,l,u,c,f){var v=new Array(r.length),g;c[0]!=null?(g=Math.atan(c[1]/c[0]),c[0]<0?g=g+Math.PI/2:g=-g-Math.PI/2):g=c;for(var b=Math.cos(-g),y=Math.sin(-g),E=0;E<v.length/2;E++)v[E*2]=l/2*(r[E*2]*b-r[E*2+1]*y),v[E*2+1]=u/2*(r[E*2+1]*b+r[E*2]*y),v[E*2]+=i,v[E*2+1]+=o;var x;if(f>0){var T=Iy(v,-f);x=Ly(T)}else x=v;return Wa(e,t,x)},GO=function(e,t,r,i,o,l,u,c){for(var f=new Array(r.length*2),v=0;v<c.length;v++){var g=c[v];f[v*4+0]=g.startX,f[v*4+1]=g.startY,f[v*4+2]=g.stopX,f[v*4+3]=g.stopY;var b=Math.pow(g.cx-e,2)+Math.pow(g.cy-t,2);if(b<=Math.pow(g.radius,2))return!0}return Wa(e,t,f)},Ly=function(e){for(var t=new Array(e.length/2),r,i,o,l,u,c,f,v,g=0;g<e.length/4;g++){r=e[g*4],i=e[g*4+1],o=e[g*4+2],l=e[g*4+3],g<e.length/4-1?(u=e[(g+1)*4],c=e[(g+1)*4+1],f=e[(g+1)*4+2],v=e[(g+1)*4+3]):(u=e[0],c=e[1],f=e[2],v=e[3]);var b=Wl(r,i,o,l,u,c,f,v,!0);t[g*2]=b[0],t[g*2+1]=b[1]}return t},Iy=function(e,t){for(var r=new Array(e.length*2),i,o,l,u,c=0;c<e.length/2;c++){i=e[c*2],o=e[c*2+1],c<e.length/2-1?(l=e[(c+1)*2],u=e[(c+1)*2+1]):(l=e[0],u=e[1]);var f=u-o,v=-(l-i),g=Math.sqrt(f*f+v*v),b=f/g,y=v/g;r[c*4]=i+b*t,r[c*4+1]=o+y*t,r[c*4+2]=l+b*t,r[c*4+3]=u+y*t}return r},HO=function(e,t,r,i,o,l){var u=r-e,c=i-t;u/=o,c/=l;var f=Math.sqrt(u*u+c*c),v=f-1;if(v<0)return[];var g=v/f;return[(r-e)*g+e,(i-t)*g+t]},xf=function(e,t,r,i,o,l,u){return e-=o,t-=l,e/=r/2+u,t/=i/2+u,e*e+t*t<=1},eg=function(e,t,r,i,o,l,u){var c=[r-e,i-t],f=[e-o,t-l],v=c[0]*c[0]+c[1]*c[1],g=2*(f[0]*c[0]+f[1]*c[1]),b=f[0]*f[0]+f[1]*f[1]-u*u,y=g*g-4*v*b;if(y<0)return[];var E=(-g+Math.sqrt(y))/(2*v),x=(-g-Math.sqrt(y))/(2*v),T=Math.min(E,x),w=Math.max(E,x),R=[];if(T>=0&&T<=1&&R.push(T),w>=0&&w<=1&&R.push(w),R.length===0)return[];var A=R[0]*c[0]+e,O=R[0]*c[1]+t;if(R.length>1){if(R[0]==R[1])return[A,O];var B=R[1]*c[0]+e,z=R[1]*c[1]+t;return[A,O,B,z]}else return[A,O]},Pb=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},Wl=function(e,t,r,i,o,l,u,c,f){var v=e-o,g=r-e,b=u-o,y=t-l,E=i-t,x=c-l,T=b*y-x*v,w=g*y-E*v,R=x*g-b*E;if(R!==0){var A=T/R,O=w/R,B=.001,z=0-B,N=1+B;return z<=A&&A<=N&&z<=O&&O<=N?[e+A*g,t+A*E]:f?[e+A*g,t+A*E]:[]}else return T===0||w===0?Pb(e,r,u)===u?[u,c]:Pb(e,r,o)===o?[o,l]:Pb(o,u,r)===r?[r,i]:[]:[]},bg=function(e,t,r,i,o,l,u,c){var f=[],v,g=new Array(r.length),b=!0;l==null&&(b=!1);var y;if(b){for(var E=0;E<g.length/2;E++)g[E*2]=r[E*2]*l+i,g[E*2+1]=r[E*2+1]*u+o;if(c>0){var x=Iy(g,-c);y=Ly(x)}else y=g}else y=r;for(var T,w,R,A,O=0;O<y.length/2;O++)T=y[O*2],w=y[O*2+1],O<y.length/2-1?(R=y[(O+1)*2],A=y[(O+1)*2+1]):(R=y[0],A=y[1]),v=Wl(e,t,i,o,T,w,R,A),v.length!==0&&f.push(v[0],v[1]);return f},VO=function(e,t,r,i,o,l,u,c,f){var v=[],g,b=new Array(r.length*2);f.forEach(function(R,A){A===0?(b[b.length-2]=R.startX,b[b.length-1]=R.startY):(b[A*4-2]=R.startX,b[A*4-1]=R.startY),b[A*4]=R.stopX,b[A*4+1]=R.stopY,g=eg(e,t,i,o,R.cx,R.cy,R.radius),g.length!==0&&v.push(g[0],g[1])});for(var y=0;y<b.length/4;y++)g=Wl(e,t,i,o,b[y*4],b[y*4+1],b[y*4+2],b[y*4+3],!1),g.length!==0&&v.push(g[0],g[1]);if(v.length>2){for(var E=[v[0],v[1]],x=Math.pow(E[0]-e,2)+Math.pow(E[1]-t,2),T=1;T<v.length/2;T++){var w=Math.pow(v[T*2]-e,2)+Math.pow(v[T*2+1]-t,2);w<=x&&(E[0]=v[T*2],E[1]=v[T*2+1],x=w)}return E}return v},$m=function(e,t,r){var i=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=(o-r)/o;return l<0&&(l=1e-5),[t[0]+l*i[0],t[1]+l*i[1]]},Oa=function(e,t){var r=p1(e,t);return r=JS(r),r},JS=function(e){for(var t,r,i=e.length/2,o=1/0,l=1/0,u=-1/0,c=-1/0,f=0;f<i;f++)t=e[2*f],r=e[2*f+1],o=Math.min(o,t),u=Math.max(u,t),l=Math.min(l,r),c=Math.max(c,r);for(var v=2/(u-o),g=2/(c-l),b=0;b<i;b++)t=e[2*b]=e[2*b]*v,r=e[2*b+1]=e[2*b+1]*g,o=Math.min(o,t),u=Math.max(u,t),l=Math.min(l,r),c=Math.max(c,r);if(l<-1)for(var y=0;y<i;y++)r=e[2*y+1]=e[2*y+1]+(-1-l);return e},p1=function(e,t){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=t;for(var o=new Array(e*2),l,u=0;u<e;u++)l=u*r+i,o[2*u]=Math.cos(l),o[2*u+1]=Math.sin(-l);return o},Lf=function(e,t){return Math.min(e/4,t/4,8)},jS=function(e,t){return Math.min(e/10,t/10,8)},j1=function(){return 8},YO=function(e,t,r){return[e-2*t+r,2*(t-e),e]},m1=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},qO=Br({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),XO={pageRank:function(e){for(var t=qO(e),r=t.dampingFactor,i=t.precision,o=t.iterations,l=t.weight,u=this._private.cy,c=this.byGroup(),f=c.nodes,v=c.edges,g=f.length,b=g*g,y=v.length,E=new Array(b),x=new Array(g),T=(1-r)/g,w=0;w<g;w++){for(var R=0;R<g;R++){var A=w*g+R;E[A]=0}x[w]=0}for(var O=0;O<y;O++){var B=v[O],z=B.data("source"),N=B.data("target");if(z!==N){var U=f.indexOfId(z),F=f.indexOfId(N),V=l(B),Y=F*g+U;E[Y]+=V,x[U]+=V}}for(var H=1/g+T,$=0;$<g;$++)if(x[$]===0)for(var D=0;D<g;D++){var _=D*g+$;E[_]=H}else for(var I=0;I<g;I++){var L=I*g+$;E[L]=E[L]/x[$]+T}for(var k=new Array(g),K=new Array(g),G,X=0;X<g;X++)k[X]=1;for(var Z=0;Z<o;Z++){for(var J=0;J<g;J++)K[J]=0;for(var re=0;re<g;re++)for(var ie=0;ie<g;ie++){var oe=re*g+ie;K[re]+=E[oe]*k[ie]}MO(K),G=k,k=K,K=G;for(var he=0,se=0;se<g;se++){var te=G[se]-k[se];he+=te*te}if(he<i)break}var ae={rank:function(me){return me=u.collection(me)[0],k[f.indexOf(me)]}};return ae}},fw=Br({root:null,weight:function(e){return 1},directed:!1,alpha:0}),yd={degreeCentralityNormalized:function(e){e=fw(e);var t=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var v={},g={},b=0,y=0,E=0;E<i;E++){var x=r[E],T=x.id();e.root=x;var w=this.degreeCentrality(e);b<w.indegree&&(b=w.indegree),y<w.outdegree&&(y=w.outdegree),v[T]=w.indegree,g[T]=w.outdegree}return{indegree:function(A){return b==0?0:(Ct(A)&&(A=t.filter(A)),v[A.id()]/b)},outdegree:function(A){return y===0?0:(Ct(A)&&(A=t.filter(A)),g[A.id()]/y)}}}else{for(var o={},l=0,u=0;u<i;u++){var c=r[u];e.root=c;var f=this.degreeCentrality(e);l<f.degree&&(l=f.degree),o[c.id()]=f.degree}return{degree:function(A){return l===0?0:(Ct(A)&&(A=t.filter(A)),o[A.id()]/l)}}}},degreeCentrality:function(e){e=fw(e);var t=this.cy(),r=this,i=e,o=i.root,l=i.weight,u=i.directed,c=i.alpha;if(o=t.collection(o)[0],u){for(var y=o.connectedEdges(),E=y.filter(function(z){return z.target().same(o)&&r.has(z)}),x=y.filter(function(z){return z.source().same(o)&&r.has(z)}),T=E.length,w=x.length,R=0,A=0,O=0;O<E.length;O++)R+=l(E[O]);for(var B=0;B<x.length;B++)A+=l(x[B]);return{indegree:Math.pow(T,1-c)*Math.pow(R,c),outdegree:Math.pow(w,1-c)*Math.pow(A,c)}}else{for(var f=o.connectedEdges().intersection(r),v=f.length,g=0,b=0;b<f.length;b++)g+=l(f[b]);return{degree:Math.pow(v,1-c)*Math.pow(g,c)}}}};yd.dc=yd.degreeCentrality;yd.dcn=yd.degreeCentralityNormalised=yd.degreeCentralityNormalized;var cw=Br({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),bd={closenessCentralityNormalized:function(e){for(var t=cw(e),r=t.harmonic,i=t.weight,o=t.directed,l=this.cy(),u={},c=0,f=this.nodes(),v=this.floydWarshall({weight:i,directed:o}),g=0;g<f.length;g++){for(var b=0,y=f[g],E=0;E<f.length;E++)if(g!==E){var x=v.distance(y,f[E]);r?b+=1/x:b+=x}r||(b=1/b),c<b&&(c=b),u[y.id()]=b}return{closeness:function(w){return c==0?0:(Ct(w)?w=l.filter(w)[0].id():w=w.id(),u[w]/c)}}},closenessCentrality:function(e){var t=cw(e),r=t.root,i=t.weight,o=t.directed,l=t.harmonic;r=this.filter(r)[0];for(var u=this.dijkstra({root:r,weight:i,directed:o}),c=0,f=this.nodes(),v=0;v<f.length;v++){var g=f[v];if(!g.same(r)){var b=u.distanceTo(g);l?c+=1/b:c+=b}}return l?c:1/c}};bd.cc=bd.closenessCentrality;bd.ccn=bd.closenessCentralityNormalised=bd.closenessCentralityNormalized;var WO=Br({weight:null,directed:!1}),y1={betweennessCentrality:function(e){for(var t=WO(e),r=t.directed,i=t.weight,o=i!=null,l=this.cy(),u=this.nodes(),c={},f={},v=0,g={set:function(A,O){f[A]=O,O>v&&(v=O)},get:function(A){return f[A]}},b=0;b<u.length;b++){var y=u[b],E=y.id();r?c[E]=y.outgoers().nodes():c[E]=y.openNeighborhood().nodes(),g.set(E,0)}for(var x=function(A){for(var O=u[A].id(),B=[],z={},N={},U={},F=new Bg(function(ie,oe){return U[ie]-U[oe]}),V=0;V<u.length;V++){var Y=u[V].id();z[Y]=[],N[Y]=0,U[Y]=1/0}for(N[O]=1,U[O]=0,F.push(O);!F.empty();){var H=F.pop();if(B.push(H),o)for(var $=0;$<c[H].length;$++){var D=c[H][$],_=l.getElementById(H),I=void 0;_.edgesTo(D).length>0?I=_.edgesTo(D)[0]:I=D.edgesTo(_)[0];var L=i(I);D=D.id(),U[D]>U[H]+L&&(U[D]=U[H]+L,F.nodes.indexOf(D)<0?F.push(D):F.updateItem(D),N[D]=0,z[D]=[]),U[D]==U[H]+L&&(N[D]=N[D]+N[H],z[D].push(H))}else for(var k=0;k<c[H].length;k++){var K=c[H][k].id();U[K]==1/0&&(F.push(K),U[K]=U[H]+1),U[K]==U[H]+1&&(N[K]=N[K]+N[H],z[K].push(H))}}for(var G={},X=0;X<u.length;X++)G[u[X].id()]=0;for(;B.length>0;){for(var Z=B.pop(),J=0;J<z[Z].length;J++){var re=z[Z][J];G[re]=G[re]+N[re]/N[Z]*(1+G[Z])}Z!=u[A].id()&&g.set(Z,g.get(Z)+G[Z])}},T=0;T<u.length;T++)x(T);var w={betweenness:function(A){var O=l.collection(A).id();return g.get(O)},betweennessNormalized:function(A){if(v==0)return 0;var O=l.collection(A).id();return g.get(O)/v}};return w.betweennessNormalised=w.betweennessNormalized,w}};y1.bc=y1.betweennessCentrality;var $O=Br({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(n){return 1}]}),KO=function(e){return $O(e)},ZO=function(e,t){for(var r=0,i=0;i<t.length;i++)r+=t[i](e);return r},QO=function(e,t,r){for(var i=0;i<t;i++)e[i*t+i]=r},ex=function(e,t){for(var r,i=0;i<t;i++){r=0;for(var o=0;o<t;o++)r+=e[o*t+i];for(var l=0;l<t;l++)e[l*t+i]=e[l*t+i]/r}},JO=function(e,t,r){for(var i=new Array(r*r),o=0;o<r;o++){for(var l=0;l<r;l++)i[o*r+l]=0;for(var u=0;u<r;u++)for(var c=0;c<r;c++)i[o*r+c]+=e[o*r+u]*t[u*r+c]}return i},jO=function(e,t,r){for(var i=e.slice(0),o=1;o<r;o++)e=JO(e,i,t);return e},eD=function(e,t,r){for(var i=new Array(t*t),o=0;o<t*t;o++)i[o]=Math.pow(e[o],r);return ex(i,t),i},tD=function(e,t,r,i){for(var o=0;o<r;o++){var l=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(t[o]*Math.pow(10,i))/Math.pow(10,i);if(l!==u)return!1}return!0},nD=function(e,t,r,i){for(var o=[],l=0;l<t;l++){for(var u=[],c=0;c<t;c++)Math.round(e[l*t+c]*1e3)/1e3>0&&u.push(r[c]);u.length!==0&&o.push(i.collection(u))}return o},rD=function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},aD=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&rD(e[t],e[r])&&e.splice(r,1);return e},dw=function(e){for(var t=this.nodes(),r=this.edges(),i=this.cy(),o=KO(e),l={},u=0;u<t.length;u++)l[t[u].id()]=u;for(var c=t.length,f=c*c,v=new Array(f),g,b=0;b<f;b++)v[b]=0;for(var y=0;y<r.length;y++){var E=r[y],x=l[E.source().id()],T=l[E.target().id()],w=ZO(E,o.attributes);v[x*c+T]+=w,v[T*c+x]+=w}QO(v,c,o.multFactor),ex(v,c);for(var R=!0,A=0;R&&A<o.maxIterations;)R=!1,g=jO(v,c,o.expandFactor),v=eD(g,c,o.inflateFactor),tD(v,g,f,4)||(R=!0),A++;var O=nD(v,c,t,i);return O=aD(O),O},iD={markovClustering:dw,mcl:dw},oD=function(e){return e},tx=function(e,t){return Math.abs(t-e)},hw=function(e,t,r){return e+tx(t,r)},vw=function(e,t,r){return e+Math.pow(r-t,2)},sD=function(e){return Math.sqrt(e)},lD=function(e,t,r){return Math.max(e,tx(t,r))},Gv=function(e,t,r,i,o){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:oD,u=i,c,f,v=0;v<e;v++)c=t(v),f=r(v),u=o(u,c,f);return l(u)},xd={euclidean:function(e,t,r){return e>=2?Gv(e,t,r,0,vw,sD):Gv(e,t,r,0,hw)},squaredEuclidean:function(e,t,r){return Gv(e,t,r,0,vw)},manhattan:function(e,t,r){return Gv(e,t,r,0,hw)},max:function(e,t,r){return Gv(e,t,r,-1/0,lD)}};xd["squared-euclidean"]=xd.squaredEuclidean;xd.squaredeuclidean=xd.squaredEuclidean;function jy(n,e,t,r,i,o){var l;return rr(n)?l=n:l=xd[n]||xd.euclidean,e===0&&rr(n)?l(i,o):l(e,t,r,i,o)}var uD=Br({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),eE=function(e){return uD(e)},By=function(e,t,r,i,o){var l=o!=="kMedoids",u=l?function(g){return r[g]}:function(g){return i[g](r)},c=function(b){return i[b](t)},f=r,v=t;return jy(e,i.length,u,c,f,v)},Fb=function(e,t,r){for(var i=r.length,o=new Array(i),l=new Array(i),u=new Array(t),c=null,f=0;f<i;f++)o[f]=e.min(r[f]).value,l[f]=e.max(r[f]).value;for(var v=0;v<t;v++){c=[];for(var g=0;g<i;g++)c[g]=Math.random()*(l[g]-o[g])+o[g];u[v]=c}return u},nx=function(e,t,r,i,o){for(var l=1/0,u=0,c=0;c<t.length;c++){var f=By(r,e,t[c],i,o);f<l&&(l=f,u=c)}return u},rx=function(e,t,r){for(var i=[],o=null,l=0;l<t.length;l++)o=t[l],r[o.id()]===e&&i.push(o);return i},fD=function(e,t,r){return Math.abs(t-e)<=r},cD=function(e,t,r){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var l=Math.abs(e[i][o]-t[i][o]);if(l>r)return!1}return!0},dD=function(e,t,r){for(var i=0;i<r;i++)if(e===t[i])return!0;return!1},gw=function(e,t){var r=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var o=e[Math.floor(Math.random()*e.length)];dD(o,r,i);)o=e[Math.floor(Math.random()*e.length)];r[i]=o}else for(var l=0;l<t;l++)r[l]=e[Math.floor(Math.random()*e.length)];return r},pw=function(e,t,r){for(var i=0,o=0;o<t.length;o++)i+=By("manhattan",t[o],e,r,"kMedoids");return i},hD=function(e){var t=this.cy(),r=this.nodes(),i=null,o=eE(e),l=new Array(o.k),u={},c;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,c=Fb(r,o.k,o.attributes)):Tr(o.testCentroids)==="object"?c=o.testCentroids:c=Fb(r,o.k,o.attributes):c=Fb(r,o.k,o.attributes);for(var f=!0,v=0;f&&v<o.maxIterations;){for(var g=0;g<r.length;g++)i=r[g],u[i.id()]=nx(i,c,o.distance,o.attributes,"kMeans");f=!1;for(var b=0;b<o.k;b++){var y=rx(b,r,u);if(y.length!==0){for(var E=o.attributes.length,x=c[b],T=new Array(E),w=new Array(E),R=0;R<E;R++){w[R]=0;for(var A=0;A<y.length;A++)i=y[A],w[R]+=o.attributes[R](i);T[R]=w[R]/y.length,fD(T[R],x[R],o.sensitivityThreshold)||(f=!0)}c[b]=T,l[b]=t.collection(y)}}v++}return l},vD=function(e){var t=this.cy(),r=this.nodes(),i=null,o=eE(e),l=new Array(o.k),u,c={},f,v=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(Tr(o.testCentroids)==="object"?u=o.testCentroids:u=gw(r,o.k)):u=gw(r,o.k);for(var g=!0,b=0;g&&b<o.maxIterations;){for(var y=0;y<r.length;y++)i=r[y],c[i.id()]=nx(i,u,o.distance,o.attributes,"kMedoids");g=!1;for(var E=0;E<u.length;E++){var x=rx(E,r,c);if(x.length!==0){v[E]=pw(u[E],x,o.attributes);for(var T=0;T<x.length;T++)f=pw(x[T],x,o.attributes),f<v[E]&&(v[E]=f,u[E]=x[T],g=!0);l[E]=t.collection(x)}}b++}return l},gD=function(e,t,r,i,o){for(var l,u,c=0;c<t.length;c++)for(var f=0;f<e.length;f++)i[c][f]=Math.pow(r[c][f],o.m);for(var v=0;v<e.length;v++)for(var g=0;g<o.attributes.length;g++){l=0,u=0;for(var b=0;b<t.length;b++)l+=i[b][v]*o.attributes[g](t[b]),u+=i[b][v];e[v][g]=l/u}},pD=function(e,t,r,i,o){for(var l=0;l<e.length;l++)t[l]=e[l].slice();for(var u,c,f,v=2/(o.m-1),g=0;g<r.length;g++)for(var b=0;b<i.length;b++){u=0;for(var y=0;y<r.length;y++)c=By(o.distance,i[b],r[g],o.attributes,"cmeans"),f=By(o.distance,i[b],r[y],o.attributes,"cmeans"),u+=Math.pow(c/f,v);e[b][g]=1/u}},mD=function(e,t,r,i){for(var o=new Array(r.k),l=0;l<o.length;l++)o[l]=[];for(var u,c,f=0;f<t.length;f++){u=-1/0,c=-1;for(var v=0;v<t[0].length;v++)t[f][v]>u&&(u=t[f][v],c=v);o[c].push(e[f])}for(var g=0;g<o.length;g++)o[g]=i.collection(o[g]);return o},mw=function(e){var t=this.cy(),r=this.nodes(),i=eE(e),o,l,u,c,f;c=new Array(r.length);for(var v=0;v<r.length;v++)c[v]=new Array(i.k);u=new Array(r.length);for(var g=0;g<r.length;g++)u[g]=new Array(i.k);for(var b=0;b<r.length;b++){for(var y=0,E=0;E<i.k;E++)u[b][E]=Math.random(),y+=u[b][E];for(var x=0;x<i.k;x++)u[b][x]=u[b][x]/y}l=new Array(i.k);for(var T=0;T<i.k;T++)l[T]=new Array(i.attributes.length);f=new Array(r.length);for(var w=0;w<r.length;w++)f[w]=new Array(i.k);for(var R=!0,A=0;R&&A<i.maxIterations;)R=!1,gD(l,r,u,f,i),pD(u,c,l,r,i),cD(u,c,i.sensitivityThreshold)||(R=!0),A++;return o=mD(r,u,i,t),{clusters:o,degreeOfMembership:u}},yD={kMeans:hD,kMedoids:vD,fuzzyCMeans:mw,fcm:mw},bD=Br({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ED={single:"min",complete:"max"},wD=function(e){var t=bD(e),r=ED[t.linkage];return r!=null&&(t.linkage=r),t},yw=function(e,t,r,i,o){for(var l=0,u=1/0,c,f=o.attributes,v=function(F,V){return jy(o.distance,f.length,function(Y){return f[Y](F)},function(Y){return f[Y](V)},F,V)},g=0;g<e.length;g++){var b=e[g].key,y=r[b][i[b]];y<u&&(l=b,u=y)}if(o.mode==="threshold"&&u>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var E=t[l],x=t[i[l]],T;o.mode==="dendrogram"?T={left:E,right:x,key:E.key}:T={value:E.value.concat(x.value),key:E.key},e[E.index]=T,e.splice(x.index,1),t[E.key]=T;for(var w=0;w<e.length;w++){var R=e[w];E.key===R.key?c=1/0:o.linkage==="min"?(c=r[E.key][R.key],r[E.key][R.key]>r[x.key][R.key]&&(c=r[x.key][R.key])):o.linkage==="max"?(c=r[E.key][R.key],r[E.key][R.key]<r[x.key][R.key]&&(c=r[x.key][R.key])):o.linkage==="mean"?c=(r[E.key][R.key]*E.size+r[x.key][R.key]*x.size)/(E.size+x.size):o.mode==="dendrogram"?c=v(R.value,E.value):c=v(R.value[0],E.value[0]),r[E.key][R.key]=r[R.key][E.key]=c}for(var A=0;A<e.length;A++){var O=e[A].key;if(i[O]===E.key||i[O]===x.key){for(var B=O,z=0;z<e.length;z++){var N=e[z].key;r[O][N]<r[O][B]&&(B=N)}i[O]=B}e[A].index=A}return E.key=x.key=E.index=x.index=null,!0},Km=function n(e,t,r){e&&(e.value?t.push(e.value):(e.left&&n(e.left,t),e.right&&n(e.right,t)))},TD=function n(e,t){if(!e)return"";if(e.left&&e.right){var r=n(e.left,t),i=n(e.right,t),o=t.add({group:"nodes",data:{id:r+","+i}});return t.add({group:"edges",data:{source:r,target:o.id()}}),t.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},SD=function n(e,t,r){if(!e)return[];var i=[],o=[],l=[];return t===0?(e.left&&Km(e.left,i),e.right&&Km(e.right,o),l=i.concat(o),[r.collection(l)]):t===1?e.value?[r.collection(e.value)]:(e.left&&Km(e.left,i),e.right&&Km(e.right,o),[r.collection(i),r.collection(o)]):e.value?[r.collection(e.value)]:(e.left&&(i=n(e.left,t-1,r)),e.right&&(o=n(e.right,t-1,r)),i.concat(o))},bw=function(e){for(var t=this.cy(),r=this.nodes(),i=wD(e),o=i.attributes,l=function(A,O){return jy(i.distance,o.length,function(B){return o[B](A)},function(B){return o[B](O)},A,O)},u=[],c=[],f=[],v=[],g=0;g<r.length;g++){var b={value:i.mode==="dendrogram"?r[g]:[r[g]],key:g,index:g};u[g]=b,v[g]=b,c[g]=[],f[g]=0}for(var y=0;y<u.length;y++)for(var E=0;E<=y;E++){var x=void 0;i.mode==="dendrogram"?x=y===E?1/0:l(u[y].value,u[E].value):x=y===E?1/0:l(u[y].value[0],u[E].value[0]),c[y][E]=x,c[E][y]=x,x<c[y][f[y]]&&(f[y]=E)}for(var T=yw(u,v,c,f,i);T;)T=yw(u,v,c,f,i);var w;return i.mode==="dendrogram"?(w=SD(u[0],i.dendrogramDepth,t),i.addDendrogram&&TD(u[0],t)):(w=new Array(u.length),u.forEach(function(R,A){R.key=R.index=null,w[A]=t.collection(R.value)})),w},xD={hierarchicalClustering:bw,hca:bw},CD=Br({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),AD=function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||nr("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(o){return o===r})||lt(r)||nr("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(r)),CD(e)},RD=function(e,t,r,i){var o=function(u,c){return i[c](u)};return-jy(e,i.length,function(l){return o(t,l)},function(l){return o(r,l)},t,r)},MD=function(e,t){var r=null;return t==="median"?r=AO(e):t==="mean"?r=CO(e):t==="min"?r=SO(e):t==="max"?r=xO(e):r=t,r},OD=function(e,t,r){for(var i=[],o=0;o<e;o++)t[o*e+o]+r[o*e+o]>0&&i.push(o);return i},Ew=function(e,t,r){for(var i=[],o=0;o<e;o++){for(var l=-1,u=-1/0,c=0;c<r.length;c++){var f=r[c];t[o*e+f]>u&&(l=f,u=t[o*e+f])}l>0&&i.push(l)}for(var v=0;v<r.length;v++)i[r[v]]=r[v];return i},DD=function(e,t,r){for(var i=Ew(e,t,r),o=0;o<r.length;o++){for(var l=[],u=0;u<i.length;u++)i[u]===r[o]&&l.push(u);for(var c=-1,f=-1/0,v=0;v<l.length;v++){for(var g=0,b=0;b<l.length;b++)g+=t[l[b]*e+l[v]];g>f&&(c=v,f=g)}r[o]=l[c]}return i=Ew(e,t,r),i},ww=function(e){for(var t=this.cy(),r=this.nodes(),i=AD(e),o={},l=0;l<r.length;l++)o[r[l].id()]=l;var u,c,f,v,g,b;u=r.length,c=u*u,f=new Array(c);for(var y=0;y<c;y++)f[y]=-1/0;for(var E=0;E<u;E++)for(var x=0;x<u;x++)E!==x&&(f[E*u+x]=RD(i.distance,r[E],r[x],i.attributes));v=MD(f,i.preference);for(var T=0;T<u;T++)f[T*u+T]=v;g=new Array(c);for(var w=0;w<c;w++)g[w]=0;b=new Array(c);for(var R=0;R<c;R++)b[R]=0;for(var A=new Array(u),O=new Array(u),B=new Array(u),z=0;z<u;z++)A[z]=0,O[z]=0,B[z]=0;for(var N=new Array(u*i.minIterations),U=0;U<N.length;U++)N[U]=0;var F;for(F=0;F<i.maxIterations;F++){for(var V=0;V<u;V++){for(var Y=-1/0,H=-1/0,$=-1,D=0,_=0;_<u;_++)A[_]=g[V*u+_],D=b[V*u+_]+f[V*u+_],D>=Y?(H=Y,Y=D,$=_):D>H&&(H=D);for(var I=0;I<u;I++)g[V*u+I]=(1-i.damping)*(f[V*u+I]-Y)+i.damping*A[I];g[V*u+$]=(1-i.damping)*(f[V*u+$]-H)+i.damping*A[$]}for(var L=0;L<u;L++){for(var k=0,K=0;K<u;K++)A[K]=b[K*u+L],O[K]=Math.max(0,g[K*u+L]),k+=O[K];k-=O[L],O[L]=g[L*u+L],k+=O[L];for(var G=0;G<u;G++)b[G*u+L]=(1-i.damping)*Math.min(0,k-O[G])+i.damping*A[G];b[L*u+L]=(1-i.damping)*(k-O[L])+i.damping*A[L]}for(var X=0,Z=0;Z<u;Z++){var J=b[Z*u+Z]+g[Z*u+Z]>0?1:0;N[F%i.minIterations*u+Z]=J,X+=J}if(X>0&&(F>=i.minIterations-1||F==i.maxIterations-1)){for(var re=0,ie=0;ie<u;ie++){B[ie]=0;for(var oe=0;oe<i.minIterations;oe++)B[ie]+=N[oe*u+ie];(B[ie]===0||B[ie]===i.minIterations)&&re++}if(re===u)break}}for(var he=OD(u,g,b),se=DD(u,f,he),te={},ae=0;ae<he.length;ae++)te[he[ae]]=[];for(var le=0;le<r.length;le++){var me=o[r[le].id()],_e=se[me];_e!=null&&te[_e].push(r[le])}for(var Ae=new Array(he.length),et=0;et<he.length;et++)Ae[et]=t.collection(te[he[et]]);return Ae},ND={affinityPropagation:ww,ap:ww},LD=Br({root:void 0,directed:!1}),ID={hierholzer:function(e){if(!mn(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=LD(e),i=r.root,o=r.directed,l=this,u=!1,c,f,v;i&&(v=Ct(i)?this.filter(i)[0].id():i[0].id());var g={},b={};o?l.forEach(function(R){var A=R.id();if(R.isNode()){var O=R.indegree(!0),B=R.outdegree(!0),z=O-B,N=B-O;z==1?c?u=!0:c=A:N==1?f?u=!0:f=A:(N>1||z>1)&&(u=!0),g[A]=[],R.outgoers().forEach(function(U){U.isEdge()&&g[A].push(U.id())})}else b[A]=[void 0,R.target().id()]}):l.forEach(function(R){var A=R.id();if(R.isNode()){var O=R.degree(!0);O%2&&(c?f?u=!0:f=A:c=A),g[A]=[],R.connectedEdges().forEach(function(B){return g[A].push(B.id())})}else b[A]=[R.source().id(),R.target().id()]});var y={found:!1,trail:void 0};if(u)return y;if(f&&c)if(o){if(v&&f!=v)return y;v=f}else{if(v&&f!=v&&c!=v)return y;v||(v=f)}else v||(v=l[0].id());var E=function(A){for(var O=A,B=[A],z,N,U;g[O].length;)z=g[O].shift(),N=b[z][0],U=b[z][1],O!=U?(g[U]=g[U].filter(function(F){return F!=z}),O=U):!o&&O!=N&&(g[N]=g[N].filter(function(F){return F!=z}),O=N),B.unshift(z),B.unshift(O);return B},x=[],T=[];for(T=E(v);T.length!=1;)g[T[0]].length==0?(x.unshift(l.getElementById(T.shift())),x.unshift(l.getElementById(T.shift()))):T=E(T.shift()).concat(T);x.unshift(l.getElementById(T.shift()));for(var w in g)if(g[w].length)return y;return y.found=!0,y.trail=this.spawn(x,!0),y}},Zm=function(){var e=this,t={},r=0,i=0,o=[],l=[],u={},c=function(b,y){for(var E=l.length-1,x=[],T=e.spawn();l[E].x!=b||l[E].y!=y;)x.push(l.pop().edge),E--;x.push(l.pop().edge),x.forEach(function(w){var R=w.connectedNodes().intersection(e);T.merge(w),R.forEach(function(A){var O=A.id(),B=A.connectedEdges().intersection(e);T.merge(A),t[O].cutVertex?T.merge(B.filter(function(z){return z.isLoop()})):T.merge(B)})}),o.push(T)},f=function g(b,y,E){b===E&&(i+=1),t[y]={id:r,low:r++,cutVertex:!1};var x=e.getElementById(y).connectedEdges().intersection(e);if(x.size()===0)o.push(e.spawn(e.getElementById(y)));else{var T,w,R,A;x.forEach(function(O){T=O.source().id(),w=O.target().id(),R=T===y?w:T,R!==E&&(A=O.id(),u[A]||(u[A]=!0,l.push({x:y,y:R,edge:O})),R in t?t[y].low=Math.min(t[y].low,t[R].id):(g(b,R,y),t[y].low=Math.min(t[y].low,t[R].low),t[y].id<=t[R].low&&(t[y].cutVertex=!0,c(y,R))))})}};e.forEach(function(g){if(g.isNode()){var b=g.id();b in t||(i=0,f(b,b),t[b].cutVertex=i>1)}});var v=Object.keys(t).filter(function(g){return t[g].cutVertex}).map(function(g){return e.getElementById(g)});return{cut:e.spawn(v),components:o}},BD={hopcroftTarjanBiconnected:Zm,htbc:Zm,htb:Zm,hopcroftTarjanBiconnectedComponents:Zm},Qm=function(){var e=this,t={},r=0,i=[],o=[],l=e.spawn(e),u=function c(f){o.push(f),t[f]={index:r,low:r++,explored:!1};var v=e.getElementById(f).connectedEdges().intersection(e);if(v.forEach(function(x){var T=x.target().id();T!==f&&(T in t||c(T),t[T].explored||(t[f].low=Math.min(t[f].low,t[T].low)))}),t[f].index===t[f].low){for(var g=e.spawn();;){var b=o.pop();if(g.merge(e.getElementById(b)),t[b].low=t[f].index,t[b].explored=!0,b===f)break}var y=g.edgesWith(g),E=g.merge(y);i.push(E),l=l.difference(E)}};return e.forEach(function(c){if(c.isNode()){var f=c.id();f in t||u(f)}}),{cut:l,components:i}},_D={tarjanStronglyConnected:Qm,tsc:Qm,tscc:Qm,tarjanStronglyConnectedComponents:Qm},ax={};[mg,cO,dO,vO,pO,yO,wO,XO,yd,bd,y1,iD,yD,xD,ND,ID,BD,_D].forEach(function(n){Lt(ax,n)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var ix=0,ox=1,sx=2,Vs=function n(e){if(!(this instanceof n))return new n(e);this.id="Thenable/1.0.7",this.state=ix,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Vs.prototype={fulfill:function(e){return Tw(this,ox,"fulfillValue",e)},reject:function(e){return Tw(this,sx,"rejectReason",e)},then:function(e,t){var r=this,i=new Vs;return r.onFulfilled.push(xw(e,i,"fulfill")),r.onRejected.push(xw(t,i,"reject")),lx(r),i.proxy}};var Tw=function(e,t,r,i){return e.state===ix&&(e.state=t,e[r]=i,lx(e)),e},lx=function(e){e.state===ox?Sw(e,"onFulfilled",e.fulfillValue):e.state===sx&&Sw(e,"onRejected",e.rejectReason)},Sw=function(e,t,r){if(e[t].length!==0){var i=e[t];e[t]=[];var o=function(){for(var u=0;u<i.length;u++)i[u](r)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},xw=function(e,t,r){return function(i){if(typeof e!="function")t[r].call(t,i);else{var o;try{o=e(i)}catch(l){t.reject(l);return}PD(t,o)}}},PD=function n(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Tr(t)==="object"&&t!==null||typeof t=="function")try{r=t.then}catch(o){e.reject(o);return}if(typeof r=="function"){var i=!1;try{r.call(t,function(o){i||(i=!0,o===t?e.reject(new TypeError("circular thenable chain")):n(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(t)};Vs.all=function(n){return new Vs(function(e,t){for(var r=new Array(n.length),i=0,o=function(c,f){r[c]=f,i++,i===n.length&&e(r)},l=0;l<n.length;l++)(function(u){var c=n[u],f=c!=null&&c.then!=null;if(f)c.then(function(g){o(u,g)},function(g){t(g)});else{var v=c;o(u,v)}})(l)})};Vs.resolve=function(n){return new Vs(function(e,t){e(n)})};Vs.reject=function(n){return new Vs(function(e,t){t(n)})};var Nd=typeof Promise<"u"?Promise:Vs,b1=function(e,t,r){var i=X1(e),o=!i,l=this._private=Lt({duration:1e3},t,r);if(l.target=e,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&rr(l.complete)&&l.completes.push(l.complete),o){var u=e.position();l.startPosition=l.startPosition||{x:u.x,y:u.y},l.startStyle=l.startStyle||e.cy().style().getAnimationStartStyle(e,l.style)}if(i){var c=e.pan();l.startPan={x:c.x,y:c.y},l.startZoom=e.zoom()}this.length=1,this[0]=this},If=b1.prototype;Lt(If,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),Ei(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(f,v){var g=e[f];g!=null&&(e[f]=e[v],e[v]=g)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],l=o.name,u=e.startStyle[l];e.startStyle[l]=o,e.style[i]=u}return t&&this.play(),this},promise:function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new Nd(function(i,o){r.push(function(){i()})})}});If.complete=If.completed;If.run=If.play;If.running=If.playing;var FD={animated:function(){return function(){var t=this,r=t.length!==void 0,i=r?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return!1;var l=i[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,r=t.length!==void 0,i=r?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<i.length;l++){var u=i[l];u._private.animation.queue=[]}return this}},delay:function(){return function(t,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:r}):this}},delayAnimation:function(){return function(t,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:r}):this}},animation:function(){return function(t,r){var i=this,o=i.length!==void 0,l=o?i:[i],u=this._private.cy||this,c=!o,f=!c;if(!u.styleEnabled())return this;var v=u.style();t=Lt({},t,r);var g=Object.keys(t).length===0;if(g)return new b1(l[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(f&&(t.style=v.getPropsList(t.style||t.css),t.css=void 0),f&&t.renderedPosition!=null){var b=t.renderedPosition,y=u.pan(),E=u.zoom();t.position=WS(b,E,y)}if(c&&t.panBy!=null){var x=t.panBy,T=u.pan();t.pan={x:T.x+x.x,y:T.y+x.y}}var w=t.center||t.centre;if(c&&w!=null){var R=u.getCenterPan(w.eles,t.zoom);R!=null&&(t.pan=R)}if(c&&t.fit!=null){var A=t.fit,O=u.getFitViewport(A.eles||A.boundingBox,A.padding);O!=null&&(t.pan=O.pan,t.zoom=O.zoom)}if(c&&mn(t.zoom)){var B=u.getZoomedViewport(t.zoom);B!=null?(B.zoomed&&(t.zoom=B.zoom),B.panned&&(t.pan=B.pan)):t.zoom=null}return new b1(l[0],t)}},animate:function(){return function(t,r){var i=this,o=i.length!==void 0,l=o?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;r&&(t=Lt({},t,r));for(var c=0;c<l.length;c++){var f=l[c],v=f.animated()&&(t.queue===void 0||t.queue),g=f.animation(t,v?{queue:!0}:void 0);g.play()}return this}},stop:function(){return function(t,r){var i=this,o=i.length!==void 0,l=o?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var c=0;c<l.length;c++){for(var f=l[c],v=f._private,g=v.animation.current,b=0;b<g.length;b++){var y=g[b],E=y._private;r&&(E.duration=0)}t&&(v.animation.queue=[]),r||(v.animation.current=[])}return u.notify("draw"),this}}},kD=Array.isArray,e0=kD,UD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zD=/^\w*$/;function GD(n,e){if(e0(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Lg(n)?!0:zD.test(n)||!UD.test(n)||e!=null&&n in Object(e)}var HD=GD,VD="[object AsyncFunction]",YD="[object Function]",qD="[object GeneratorFunction]",XD="[object Proxy]";function WD(n){if(!Df(n))return!1;var e=kS(n);return e==YD||e==qD||e==VD||e==XD}var $D=WD,KD=Zy["__core-js_shared__"],kb=KD,Cw=function(){var n=/[^.]+$/.exec(kb&&kb.keys&&kb.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ZD(n){return!!Cw&&Cw in n}var QD=ZD,JD=Function.prototype,jD=JD.toString;function e2(n){if(n!=null){try{return jD.call(n)}catch{}try{return n+""}catch{}}return""}var t2=e2,n2=/[\\^$.*+?()[\]{}|]/g,r2=/^\[object .+?Constructor\]$/,a2=Function.prototype,i2=Object.prototype,o2=a2.toString,s2=i2.hasOwnProperty,l2=RegExp("^"+o2.call(s2).replace(n2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u2(n){if(!Df(n)||QD(n))return!1;var e=$D(n)?l2:r2;return e.test(t2(n))}var f2=u2;function c2(n,e){return n==null?void 0:n[e]}var d2=c2;function h2(n,e){var t=d2(n,e);return f2(t)?t:void 0}var tE=h2,v2=tE(Object,"create"),Eg=v2;function g2(){this.__data__=Eg?Eg(null):{},this.size=0}var p2=g2;function m2(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var y2=m2,b2="__lodash_hash_undefined__",E2=Object.prototype,w2=E2.hasOwnProperty;function T2(n){var e=this.__data__;if(Eg){var t=e[n];return t===b2?void 0:t}return w2.call(e,n)?e[n]:void 0}var S2=T2,x2=Object.prototype,C2=x2.hasOwnProperty;function A2(n){var e=this.__data__;return Eg?e[n]!==void 0:C2.call(e,n)}var R2=A2,M2="__lodash_hash_undefined__";function O2(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Eg&&e===void 0?M2:e,this}var D2=O2;function Ld(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ld.prototype.clear=p2;Ld.prototype.delete=y2;Ld.prototype.get=S2;Ld.prototype.has=R2;Ld.prototype.set=D2;var Aw=Ld;function N2(){this.__data__=[],this.size=0}var L2=N2;function I2(n,e){return n===e||n!==n&&e!==e}var ux=I2;function B2(n,e){for(var t=n.length;t--;)if(ux(n[t][0],e))return t;return-1}var t0=B2,_2=Array.prototype,P2=_2.splice;function F2(n){var e=this.__data__,t=t0(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():P2.call(e,t,1),--this.size,!0}var k2=F2;function U2(n){var e=this.__data__,t=t0(e,n);return t<0?void 0:e[t][1]}var z2=U2;function G2(n){return t0(this.__data__,n)>-1}var H2=G2;function V2(n,e){var t=this.__data__,r=t0(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var Y2=V2;function Id(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Id.prototype.clear=L2;Id.prototype.delete=k2;Id.prototype.get=z2;Id.prototype.has=H2;Id.prototype.set=Y2;var q2=Id,X2=tE(Zy,"Map"),W2=X2;function $2(){this.size=0,this.__data__={hash:new Aw,map:new(W2||q2),string:new Aw}}var K2=$2;function Z2(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var Q2=Z2;function J2(n,e){var t=n.__data__;return Q2(e)?t[typeof e=="string"?"string":"hash"]:t.map}var n0=J2;function j2(n){var e=n0(this,n).delete(n);return this.size-=e?1:0,e}var eN=j2;function tN(n){return n0(this,n).get(n)}var nN=tN;function rN(n){return n0(this,n).has(n)}var aN=rN;function iN(n,e){var t=n0(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var oN=iN;function Bd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Bd.prototype.clear=K2;Bd.prototype.delete=eN;Bd.prototype.get=nN;Bd.prototype.has=aN;Bd.prototype.set=oN;var fx=Bd,sN="Expected a function";function nE(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(sN);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var l=n.apply(this,r);return t.cache=o.set(i,l)||o,l};return t.cache=new(nE.Cache||fx),t}nE.Cache=fx;var lN=nE,uN=500;function fN(n){var e=lN(n,function(r){return t.size===uN&&t.clear(),r}),t=e.cache;return e}var cN=fN,dN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hN=/\\(\\)?/g,vN=cN(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(dN,function(t,r,i,o){e.push(i?o.replace(hN,"$1"):r||t)}),e}),cx=vN;function gN(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var dx=gN,Rw=Td?Td.prototype:void 0,Mw=Rw?Rw.toString:void 0;function hx(n){if(typeof n=="string")return n;if(e0(n))return dx(n,hx)+"";if(Lg(n))return Mw?Mw.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var pN=hx;function mN(n){return n==null?"":pN(n)}var vx=mN;function yN(n,e){return e0(n)?n:HD(n,e)?[n]:cx(vx(n))}var gx=yN;function bN(n){if(typeof n=="string"||Lg(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var rE=bN;function EN(n,e){e=gx(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[rE(e[t++])];return t&&t==r?n:void 0}var wN=EN;function TN(n,e,t){var r=n==null?void 0:wN(n,e);return r===void 0?t:r}var SN=TN,xN=function(){try{var n=tE(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Ow=xN;function CN(n,e,t){e=="__proto__"&&Ow?Ow(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var AN=CN,RN=Object.prototype,MN=RN.hasOwnProperty;function ON(n,e,t){var r=n[e];(!(MN.call(n,e)&&ux(r,t))||t===void 0&&!(e in n))&&AN(n,e,t)}var DN=ON,NN=9007199254740991,LN=/^(?:0|[1-9]\d*)$/;function IN(n,e){var t=typeof n;return e=e??NN,!!e&&(t=="number"||t!="symbol"&&LN.test(n))&&n>-1&&n%1==0&&n<e}var BN=IN;function _N(n,e,t,r){if(!Df(n))return n;e=gx(e,n);for(var i=-1,o=e.length,l=o-1,u=n;u!=null&&++i<o;){var c=rE(e[i]),f=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=l){var v=u[c];f=r?r(v,c,u):void 0,f===void 0&&(f=Df(v)?v:BN(e[i+1])?[]:{})}DN(u,c,f),u=u[c]}return n}var PN=_N;function FN(n,e,t){return n==null?n:PN(n,e,t)}var kN=FN;function UN(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var zN=UN;function GN(n){return e0(n)?dx(n,rE):Lg(n)?[n]:zN(cx(vx(n)))}var HN=GN,VN={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=Lt({},t,e),function(i,o){var l=e,u=this,c=u.length!==void 0,f=c?u:[u],v=c?u[0]:u;if(Ct(i)){var g=i.indexOf(".")!==-1,b=g&&HN(i);if(l.allowGetting&&o===void 0){var y;return v&&(l.beforeGet(v),b&&v._private[l.field][i]===void 0?y=SN(v._private[l.field],b):y=v._private[l.field][i]),y}else if(l.allowSetting&&o!==void 0){var E=!l.immutableKeys[i];if(E){var x=RS({},i,o);l.beforeSet(u,x);for(var T=0,w=f.length;T<w;T++){var R=f[T];l.canSet(R)&&(b&&v._private[l.field][i]===void 0?kN(R._private[l.field],b,o):R._private[l.field][i]=o)}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&mn(i)){var A=i,O,B,z=Object.keys(A);l.beforeSet(u,A);for(var N=0;N<z.length;N++){O=z[N],B=A[O];var U=!l.immutableKeys[O];if(U)for(var F=0;F<f.length;F++){var V=f[F];l.canSet(V)&&(V._private[l.field][O]=B)}}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&rr(i)){var Y=i;u.on(l.bindingEvent,Y)}else if(l.allowGetting&&i===void 0){var H;return v&&(l.beforeGet(v),H=v._private[l.field]),H}return u}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Lt({},t,e),function(i){var o=e,l=this,u=l.length!==void 0,c=u?l:[l];if(Ct(i)){for(var f=i.split(/\s+/),v=f.length,g=0;g<v;g++){var b=f[g];if(!Ql(b)){var y=!o.immutableKeys[b];if(y)for(var E=0,x=c.length;E<x;E++)c[E]._private[o.field][b]=void 0}}o.triggerEvent&&l[o.triggerFnName](o.event)}else if(i===void 0){for(var T=0,w=c.length;T<w;T++)for(var R=c[T]._private[o.field],A=Object.keys(R),O=0;O<A.length;O++){var B=A[O],z=!o.immutableKeys[B];z&&(R[B]=void 0)}o.triggerEvent&&l[o.triggerFnName](o.event)}return l}}},YN={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,i){var o=this,l=Array.prototype.slice.call(arguments,0);return new Nd(function(u,c){var f=function(y){o.off.apply(o,g),u(y)},v=l.concat([f]),g=v.concat([]);o.on.apply(o,v)})}}},Mn={};[FD,VN,YN].forEach(function(n){Lt(Mn,n)});var qN={animate:Mn.animate(),animation:Mn.animation(),animated:Mn.animated(),clearQueue:Mn.clearQueue(),delay:Mn.delay(),delayAnimation:Mn.delayAnimation(),stop:Mn.stop()},py={classes:function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(E){return r.push(E)}),r}else _n(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new Dd(e),l=0;l<t.length;l++){for(var u=t[l],c=u._private,f=c.classes,v=!1,g=0;g<e.length;g++){var b=e[g],y=f.has(b);if(!y){v=!0;break}}v||(v=f.size!==e.length),v&&(c.classes=o,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){_n(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=t===void 0,o=[],l=0,u=r.length;l<u;l++)for(var c=r[l],f=c._private.classes,v=!1,g=0;g<e.length;g++){var b=e[g],y=f.has(b),E=!1;t||i&&!y?(f.add(b),E=!0):(!t||i&&y)&&(f.delete(b),E=!0),!v&&E&&(o.push(c),v=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}};py.className=py.classNames=py.classes;var pn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:wr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};pn.variable="(?:[\\w-.]|(?:\\\\"+pn.metaChar+"))+";pn.className="(?:[\\w-]|(?:\\\\"+pn.metaChar+"))+";pn.value=pn.string+"|"+pn.number;pn.id=pn.variable;(function(){var n,e,t;for(n=pn.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],pn.comparatorOp+="|@"+e;for(n=pn.comparatorOp.split("|"),t=0;t<n.length;t++)e=n[t],!(e.indexOf("!")>=0)&&e!=="="&&(pn.comparatorOp+="|\\!"+e)})();var In=function(){return{checks:[]}},yt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},E1=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(n,e){return oM(n.selector,e.selector)}),XN=function(){for(var n={},e,t=0;t<E1.length;t++)e=E1[t],n[e.selector]=e.matches;return n}(),WN=function(e,t){return XN[e](t)},$N="("+E1.map(function(n){return n.selector}).join("|")+")",rd=function(e){return e.replace(new RegExp("\\\\("+pn.metaChar+")","g"),function(t,r){return r})},zl=function(e,t,r){e[e.length-1]=r},w1=[{name:"group",query:!0,regex:"("+pn.group+")",populate:function(e,t,r){var i=Lr(r,1),o=i[0];t.checks.push({type:yt.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:$N,populate:function(e,t,r){var i=Lr(r,1),o=i[0];t.checks.push({type:yt.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+pn.id+")",populate:function(e,t,r){var i=Lr(r,1),o=i[0];t.checks.push({type:yt.ID,value:rd(o)})}},{name:"className",query:!0,regex:"\\.("+pn.className+")",populate:function(e,t,r){var i=Lr(r,1),o=i[0];t.checks.push({type:yt.CLASS,value:rd(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+pn.variable+")\\s*\\]",populate:function(e,t,r){var i=Lr(r,1),o=i[0];t.checks.push({type:yt.DATA_EXIST,field:rd(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+pn.variable+")\\s*("+pn.comparatorOp+")\\s*("+pn.value+")\\s*\\]",populate:function(e,t,r){var i=Lr(r,3),o=i[0],l=i[1],u=i[2],c=new RegExp("^"+pn.string+"$").exec(u)!=null;c?u=u.substring(1,u.length-1):u=parseFloat(u),t.checks.push({type:yt.DATA_COMPARE,field:rd(o),operator:l,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+pn.boolOp+")\\s*("+pn.variable+")\\s*\\]",populate:function(e,t,r){var i=Lr(r,2),o=i[0],l=i[1];t.checks.push({type:yt.DATA_BOOL,field:rd(l),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+pn.meta+")\\s*("+pn.comparatorOp+")\\s*("+pn.number+")\\s*\\]\\]",populate:function(e,t,r){var i=Lr(r,3),o=i[0],l=i[1],u=i[2];t.checks.push({type:yt.META_COMPARE,field:rd(o),operator:l,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:pn.separator,populate:function(e,t){var r=e.currentSubject,i=e.edgeCount,o=e.compoundCount,l=e[e.length-1];r!=null&&(l.subject=r,e.currentSubject=null),l.edgeCount=i,l.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=In();return u}},{name:"directedEdge",separator:!0,regex:pn.directedEdge,populate:function(e,t){if(e.currentSubject==null){var r=In(),i=t,o=In();return r.checks.push({type:yt.DIRECTED_EDGE,source:i,target:o}),zl(e,t,r),e.edgeCount++,o}else{var l=In(),u=t,c=In();return l.checks.push({type:yt.NODE_SOURCE,source:u,target:c}),zl(e,t,l),e.edgeCount++,c}}},{name:"undirectedEdge",separator:!0,regex:pn.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var r=In(),i=t,o=In();return r.checks.push({type:yt.UNDIRECTED_EDGE,nodes:[i,o]}),zl(e,t,r),e.edgeCount++,o}else{var l=In(),u=t,c=In();return l.checks.push({type:yt.NODE_NEIGHBOR,node:u,neighbor:c}),zl(e,t,l),c}}},{name:"child",separator:!0,regex:pn.child,populate:function(e,t){if(e.currentSubject==null){var r=In(),i=In(),o=e[e.length-1];return r.checks.push({type:yt.CHILD,parent:o,child:i}),zl(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var l=In(),u=e[e.length-1],c=In(),f=In(),v=In(),g=In();return l.checks.push({type:yt.COMPOUND_SPLIT,left:u,right:c,subject:f}),f.checks=t.checks,t.checks=[{type:yt.TRUE}],g.checks.push({type:yt.TRUE}),c.checks.push({type:yt.PARENT,parent:g,child:v}),zl(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var b=In(),y=In(),E=[{type:yt.PARENT,parent:b,child:y}];return b.checks=t.checks,t.checks=E,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:pn.descendant,populate:function(e,t){if(e.currentSubject==null){var r=In(),i=In(),o=e[e.length-1];return r.checks.push({type:yt.DESCENDANT,ancestor:o,descendant:i}),zl(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var l=In(),u=e[e.length-1],c=In(),f=In(),v=In(),g=In();return l.checks.push({type:yt.COMPOUND_SPLIT,left:u,right:c,subject:f}),f.checks=t.checks,t.checks=[{type:yt.TRUE}],g.checks.push({type:yt.TRUE}),c.checks.push({type:yt.ANCESTOR,ancestor:g,descendant:v}),zl(e,u,l),e.currentSubject=f,e.compoundCount++,v}else{var b=In(),y=In(),E=[{type:yt.ANCESTOR,ancestor:b,descendant:y}];return b.checks=t.checks,t.checks=E,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:pn.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return On("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],i=r.checks[0],o=i==null?null:i.type;o===yt.DIRECTED_EDGE?i.type=yt.NODE_TARGET:o===yt.UNDIRECTED_EDGE&&(i.type=yt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];w1.forEach(function(n){return n.regexObj=new RegExp("^"+n.regex)});var KN=function(e){for(var t,r,i,o=0;o<w1.length;o++){var l=w1[o],u=l.name,c=e.match(l.regexObj);if(c!=null){r=c,t=l,i=u;var f=c[0];e=e.substring(f.length);break}}return{expr:t,match:r,name:i,remaining:e}},ZN=function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},QN=function(e){var t=this,r=t.inputText=e,i=t[0]=In();for(t.length=1,r=ZN(r);;){var o=KN(r);if(o.expr==null)return On("The selector `"+e+"`is invalid"),!1;var l=o.match.slice(1),u=o.expr.populate(t,i,l);if(u===!1)return!1;if(u!=null&&(i=u),r=o.remaining,r.match(/^\s*$/))break}var c=t[t.length-1];t.currentSubject!=null&&(c.subject=t.currentSubject),c.edgeCount=t.edgeCount,c.compoundCount=t.compoundCount;for(var f=0;f<t.length;f++){var v=t[f];if(v.compoundCount>0&&v.edgeCount>0)return On("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return On("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&On("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},JN=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},t=function(v){return Ct(v)?'"'+v+'"':e(v)},r=function(v){return" "+v+" "},i=function(v,g){var b=v.type,y=v.value;switch(b){case yt.GROUP:{var E=e(y);return E.substring(0,E.length-1)}case yt.DATA_COMPARE:{var x=v.field,T=v.operator;return"["+x+r(e(T))+t(y)+"]"}case yt.DATA_BOOL:{var w=v.operator,R=v.field;return"["+e(w)+R+"]"}case yt.DATA_EXIST:{var A=v.field;return"["+A+"]"}case yt.META_COMPARE:{var O=v.operator,B=v.field;return"[["+B+r(e(O))+t(y)+"]]"}case yt.STATE:return y;case yt.ID:return"#"+y;case yt.CLASS:return"."+y;case yt.PARENT:case yt.CHILD:return o(v.parent,g)+r(">")+o(v.child,g);case yt.ANCESTOR:case yt.DESCENDANT:return o(v.ancestor,g)+" "+o(v.descendant,g);case yt.COMPOUND_SPLIT:{var z=o(v.left,g),N=o(v.subject,g),U=o(v.right,g);return z+(z.length>0?" ":"")+N+U}case yt.TRUE:return""}},o=function(v,g){return v.checks.reduce(function(b,y,E){return b+(g===v&&E===0?"$":"")+i(y,g)},"")},l="",u=0;u<this.length;u++){var c=this[u];l+=o(c,c.subject),this.length>1&&u<this.length-1&&(l+=", ")}return this.toStringCache=l,l},jN={parse:QN,toString:JN},px=function(e,t,r){var i,o=Ct(e),l=lt(e),u=Ct(r),c,f,v=!1,g=!1,b=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),g=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),v=!0),(o||u||v)&&(c=!o&&!l?"":""+e,f=""+r),v&&(e=c=c.toLowerCase(),r=f=f.toLowerCase()),t){case"*=":i=c.indexOf(f)>=0;break;case"$=":i=c.indexOf(f,c.length-f.length)>=0;break;case"^=":i=c.indexOf(f)===0;break;case"=":i=e===r;break;case">":b=!0,i=e>r;break;case">=":b=!0,i=e>=r;break;case"<":b=!0,i=e<r;break;case"<=":b=!0,i=e<=r;break;default:i=!1;break}return g&&(e!=null||!b)&&(i=!i),i},eL=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},tL=function(e){return e!==void 0},aE=function(e,t){return e.data(t)},nL=function(e,t){return e[t]()},sr=[],Wn=function(e,t){return e.checks.every(function(r){return sr[r.type](r,t)})};sr[yt.GROUP]=function(n,e){var t=n.value;return t==="*"||t===e.group()};sr[yt.STATE]=function(n,e){var t=n.value;return WN(t,e)};sr[yt.ID]=function(n,e){var t=n.value;return e.id()===t};sr[yt.CLASS]=function(n,e){var t=n.value;return e.hasClass(t)};sr[yt.META_COMPARE]=function(n,e){var t=n.field,r=n.operator,i=n.value;return px(nL(e,t),r,i)};sr[yt.DATA_COMPARE]=function(n,e){var t=n.field,r=n.operator,i=n.value;return px(aE(e,t),r,i)};sr[yt.DATA_BOOL]=function(n,e){var t=n.field,r=n.operator;return eL(aE(e,t),r)};sr[yt.DATA_EXIST]=function(n,e){var t=n.field;return n.operator,tL(aE(e,t))};sr[yt.UNDIRECTED_EDGE]=function(n,e){var t=n.nodes[0],r=n.nodes[1],i=e.source(),o=e.target();return Wn(t,i)&&Wn(r,o)||Wn(r,i)&&Wn(t,o)};sr[yt.NODE_NEIGHBOR]=function(n,e){return Wn(n.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&Wn(n.neighbor,t)})};sr[yt.DIRECTED_EDGE]=function(n,e){return Wn(n.source,e.source())&&Wn(n.target,e.target())};sr[yt.NODE_SOURCE]=function(n,e){return Wn(n.source,e)&&e.outgoers().some(function(t){return t.isNode()&&Wn(n.target,t)})};sr[yt.NODE_TARGET]=function(n,e){return Wn(n.target,e)&&e.incomers().some(function(t){return t.isNode()&&Wn(n.source,t)})};sr[yt.CHILD]=function(n,e){return Wn(n.child,e)&&Wn(n.parent,e.parent())};sr[yt.PARENT]=function(n,e){return Wn(n.parent,e)&&e.children().some(function(t){return Wn(n.child,t)})};sr[yt.DESCENDANT]=function(n,e){return Wn(n.descendant,e)&&e.ancestors().some(function(t){return Wn(n.ancestor,t)})};sr[yt.ANCESTOR]=function(n,e){return Wn(n.ancestor,e)&&e.descendants().some(function(t){return Wn(n.descendant,t)})};sr[yt.COMPOUND_SPLIT]=function(n,e){return Wn(n.subject,e)&&Wn(n.left,e)&&Wn(n.right,e)};sr[yt.TRUE]=function(){return!0};sr[yt.COLLECTION]=function(n,e){var t=n.value;return t.has(e)};sr[yt.FILTER]=function(n,e){var t=n.value;return t(e)};var rL=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===yt.ID)return e.getElementById(t[0].checks[0].value).collection();var r=function(o){for(var l=0;l<t.length;l++){var u=t[l];if(Wn(u,o))return!0}return!1};return t.text()==null&&(r=function(){return!0}),e.filter(r)},aL=function(e){for(var t=this,r=0;r<t.length;r++){var i=t[r];if(Wn(i,e))return!0}return!1},iL={matches:aL,filter:rL},eu=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ct(e)&&e.match(/^\s*$/)||(Ei(e)?this.addQuery({checks:[{type:yt.COLLECTION,value:e.collection()}]}):rr(e)?this.addQuery({checks:[{type:yt.FILTER,value:e}]}):Ct(e)?this.parse(e)||(this.invalid=!0):nr("A selector must be created from a string; found "))},tu=eu.prototype;[jN,iL].forEach(function(n){return Lt(tu,n)});tu.text=function(){return this.inputText};tu.size=function(){return this.length};tu.eq=function(n){return this[n]};tu.sameText=function(n){return!this.invalid&&!n.invalid&&this.text()===n.text()};tu.addQuery=function(n){this[this.length++]=n};tu.selector=tu.toString;var Kl={allAre:function(e){var t=new eu(e);return this.every(function(r){return t.matches(r)})},is:function(e){var t=new eu(e);return this.some(function(r){return t.matches(r)})},some:function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})}};Kl.allAreNeighbours=Kl.allAreNeighbors;Kl.has=Kl.contains;Kl.equal=Kl.equals=Kl.same;var qi=function(e,t){return function(i,o,l,u){var c=i,f=this,v;if(c==null?v="":Ei(c)&&c.length===1&&(v=c.id()),f.length===1&&v){var g=f[0]._private,b=g.traversalCache=g.traversalCache||{},y=b[t]=b[t]||[],E=Jl(v),x=y[E];return x||(y[E]=e.call(f,i,o,l,u))}else return e.call(f,i,o,l,u)}},Cd={parent:function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var o=this[i],l=o._private.parent;l&&t.push(l)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var o=r[i];t.push(o)}r=r.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var i=this[r],o=i.parents();t=t||o,t=t.intersect(o)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:qi(function(n){for(var e=[],t=0;t<this.length;t++)for(var r=this[t],i=r._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(n)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function r(i){for(var o=0;o<i.length;o++){var l=i[o];t.push(l),l.children().nonempty()&&r(l.children())}}return r(this.children()),this.spawn(t,!0).filter(e)}};function iE(n,e,t,r){for(var i=[],o=new Dd,l=n.cy(),u=l.hasCompoundNodes(),c=0;c<n.length;c++){var f=n[c];t?i.push(f):u&&r(i,o,f)}for(;i.length>0;){var v=i.shift();e(v),o.add(v.id()),u&&r(i,o,v)}return n}function mx(n,e,t){if(t.isParent())for(var r=t._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||n.push(o)}}Cd.forEachDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iE(this,n,e,mx)};function yx(n,e,t){if(t.isChild()){var r=t._private.parent;e.has(r.id())||n.push(r)}}Cd.forEachUp=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iE(this,n,e,yx)};function oL(n,e,t){yx(n,e,t),mx(n,e,t)}Cd.forEachUpAndDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iE(this,n,e,oL)};Cd.ancestors=Cd.parents;var wg,bx;wg=bx={data:Mn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Mn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Mn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Mn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Mn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Mn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};wg.attr=wg.data;wg.removeAttr=wg.removeData;var sL=bx,r0={};function Ub(n){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var r=0,i=t[0],o=i._private.edges,l=0;l<o.length;l++){var u=o[l];!e&&u.isLoop()||(r+=n(i,u))}return r}else return}}Lt(r0,{degree:Ub(function(n,e){return e.source().same(e.target())?2:1}),indegree:Ub(function(n,e){return e.target().same(n)?1:0}),outdegree:Ub(function(n,e){return e.source().same(n)?1:0})});function ad(n,e){return function(t){for(var r,i=this.nodes(),o=0;o<i.length;o++){var l=i[o],u=l[n](t);u!==void 0&&(r===void 0||e(u,r))&&(r=u)}return r}}Lt(r0,{minDegree:ad("degree",function(n,e){return n<e}),maxDegree:ad("degree",function(n,e){return n>e}),minIndegree:ad("indegree",function(n,e){return n<e}),maxIndegree:ad("indegree",function(n,e){return n>e}),minOutdegree:ad("outdegree",function(n,e){return n<e}),maxOutdegree:ad("outdegree",function(n,e){return n>e})});Lt(r0,{totalDegree:function(e){for(var t=0,r=this.nodes(),i=0;i<r.length;i++)t+=r[i].degree(e);return t}});var Co,Ex,wx=function(e,t,r){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var l=o._private.position,u={x:t.x!=null?t.x-l.x:0,y:t.y!=null?t.y-l.y:0};o.isParent()&&!(u.x===0&&u.y===0)&&o.children().shift(u,r),o.dirtyBoundingBoxCache()}}},Dw={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){wx(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Co=Ex={position:Mn.data(Dw),silentPosition:Mn.data(Lt({},Dw,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){wx(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(mn(e))t?this.silentPosition(e):this.position(e);else if(rr(e)){var r=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o],u=void 0;(u=r(l,o))&&(t?l.silentPosition(u):l.position(u))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,r){var i;if(mn(e)?(i={x:lt(e.x)?e.x:0,y:lt(e.y)?e.y:0},r=t):Ct(e)&&lt(t)&&(i={x:0,y:0},i[e]=t),i!=null){var o=this.cy();o.startBatch();for(var l=0;l<this.length;l++){var u=this[l];if(!(o.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var c=u.position(),f={x:c.x+i.x,y:c.y+i.y};r?u.silentPosition(f):u.position(f)}}o.endBatch()}return this},silentShift:function(e,t){return mn(e)?this.shift(e,!0):Ct(e)&&lt(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var r=this[0],i=this.cy(),o=i.zoom(),l=i.pan(),u=mn(e)?e:void 0,c=u!==void 0||t!==void 0&&Ct(e);if(r&&r.isNode())if(c)for(var f=0;f<this.length;f++){var v=this[f];t!==void 0?v.position(e,(t-l[e])/o):u!==void 0&&v.position(WS(u,o,l))}else{var g=r.position();return u=Jy(g,o,l),e===void 0?u:u[e]}else if(!c)return;return this},relativePosition:function(e,t){var r=this[0],i=this.cy(),o=mn(e)?e:void 0,l=o!==void 0||t!==void 0&&Ct(e),u=i.hasCompoundNodes();if(r&&r.isNode())if(l)for(var c=0;c<this.length;c++){var f=this[c],v=u?f.parent():null,g=v&&v.length>0,b=g;g&&(v=v[0]);var y=b?v.position():{x:0,y:0};t!==void 0?f.position(e,t+y[e]):o!==void 0&&f.position({x:o.x+y.x,y:o.y+y.y})}else{var E=r.position(),x=u?r.parent():null,T=x&&x.length>0,w=T;T&&(x=x[0]);var R=w?x.position():{x:0,y:0};return o={x:E.x-R.x,y:E.y-R.y},e===void 0?o:o[e]}else if(!l)return;return this}};Co.modelPosition=Co.point=Co.position;Co.modelPositions=Co.points=Co.positions;Co.renderedPoint=Co.renderedPosition;Co.relativePoint=Co.relativePosition;var lL=Ex,Ed,lu;Ed=lu={};lu.renderedBoundingBox=function(n){var e=this.boundingBox(n),t=this.cy(),r=t.zoom(),i=t.pan(),o=e.x1*r+i.x,l=e.x2*r+i.x,u=e.y1*r+i.y,c=e.y2*r+i.y;return{x1:o,x2:l,y1:u,y2:c,w:l-o,h:c-u}};lu.dirtyCompoundBoundsCache=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var r=t._private;r.compoundBoundsClean=!1,r.bbCache=null,n||t.emitAndNotify("bounds")}}),this)};lu.updateCompoundBounds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!n&&e.batching())return this;function t(l){if(!l.isParent())return;var u=l._private,c=l.children(),f=l.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},g=c.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),b=u.position;(g.w===0||g.h===0)&&(g={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},g.x1=b.x-g.w/2,g.x2=b.x+g.w/2,g.y1=b.y-g.h/2,g.y2=b.y+g.h/2);function y(F,V,Y){var H=0,$=0,D=V+Y;return F>0&&D>0&&(H=V/D*F,$=Y/D*F),{biasDiff:H,biasComplementDiff:$}}function E(F,V,Y,H){if(Y.units==="%")switch(H){case"width":return F>0?Y.pfValue*F:0;case"height":return V>0?Y.pfValue*V:0;case"average":return F>0&&V>0?Y.pfValue*(F+V)/2:0;case"min":return F>0&&V>0?F>V?Y.pfValue*V:Y.pfValue*F:0;case"max":return F>0&&V>0?F>V?Y.pfValue*F:Y.pfValue*V:0;default:return 0}else return Y.units==="px"?Y.pfValue:0}var x=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(x=x*100/v.width.val);var T=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(T=T*100/v.width.val);var w=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(w=w*100/v.height.val);var R=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(R=R*100/v.height.val);var A=y(v.width.val-g.w,x,T),O=A.biasDiff,B=A.biasComplementDiff,z=y(v.height.val-g.h,w,R),N=z.biasDiff,U=z.biasComplementDiff;u.autoPadding=E(g.w,g.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),u.autoWidth=Math.max(g.w,v.width.val),b.x=(-O+g.x1+g.x2+B)/2,u.autoHeight=Math.max(g.h,v.height.val),b.y=(-N+g.y1+g.y2+U)/2}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;(!o.compoundBoundsClean||n)&&(t(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Yi=function(e){return e===1/0||e===-1/0?0:e},To=function(e,t,r,i,o){i-t===0||o-r===0||t==null||r==null||i==null||o==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},bf=function(e,t){return t==null?e:To(e,t.x1,t.y1,t.x2,t.y2)},Hv=function(e,t,r){return xo(e,t,r)},Jm=function(e,t,r){if(!t.cy().headless()){var i=t._private,o=i.rstyle,l=o.arrowWidth/2,u=t.pstyle(r+"-arrow-shape").value,c,f;if(u!=="none"){r==="source"?(c=o.srcX,f=o.srcY):r==="target"?(c=o.tgtX,f=o.tgtY):(c=o.midX,f=o.midY);var v=i.arrowBounds=i.arrowBounds||{},g=v[r]=v[r]||{};g.x1=c-l,g.y1=f-l,g.x2=c+l,g.y2=f+l,g.w=g.x2-g.x1,g.h=g.y2-g.y1,vy(g,1),To(e,g.x1,g.y1,g.x2,g.y2)}}},zb=function(e,t,r){if(!t.cy().headless()){var i;r?i=r+"-":i="";var o=t._private,l=o.rstyle,u=t.pstyle(i+"label").strValue;if(u){var c=t.pstyle("text-halign"),f=t.pstyle("text-valign"),v=Hv(l,"labelWidth",r),g=Hv(l,"labelHeight",r),b=Hv(l,"labelX",r),y=Hv(l,"labelY",r),E=t.pstyle(i+"text-margin-x").pfValue,x=t.pstyle(i+"text-margin-y").pfValue,T=t.isEdge(),w=t.pstyle(i+"text-rotation"),R=t.pstyle("text-outline-width").pfValue,A=t.pstyle("text-border-width").pfValue,O=A/2,B=t.pstyle("text-background-padding").pfValue,z=2,N=g,U=v,F=U/2,V=N/2,Y,H,$,D;if(T)Y=b-F,H=b+F,$=y-V,D=y+V;else{switch(c.value){case"left":Y=b-U,H=b;break;case"center":Y=b-F,H=b+F;break;case"right":Y=b,H=b+U;break}switch(f.value){case"top":$=y-N,D=y;break;case"center":$=y-V,D=y+V;break;case"bottom":$=y,D=y+N;break}}var _=E-Math.max(R,O)-B-z,I=E+Math.max(R,O)+B+z,L=x-Math.max(R,O)-B-z,k=x+Math.max(R,O)+B+z;Y+=_,H+=I,$+=L,D+=k;var K=r||"main",G=o.labelBounds,X=G[K]=G[K]||{};X.x1=Y,X.y1=$,X.x2=H,X.y2=D,X.w=H-Y,X.h=D-$,X.leftPad=_,X.rightPad=I,X.topPad=L,X.botPad=k;var Z=T&&w.strValue==="autorotate",J=w.pfValue!=null&&w.pfValue!==0;if(Z||J){var re=Z?Hv(o.rstyle,"labelAngle",r):w.pfValue,ie=Math.cos(re),oe=Math.sin(re),he=(Y+H)/2,se=($+D)/2;if(!T){switch(c.value){case"left":he=H;break;case"right":he=Y;break}switch(f.value){case"top":se=D;break;case"bottom":se=$;break}}var te=function(rt,Pe){return rt=rt-he,Pe=Pe-se,{x:rt*ie-Pe*oe+he,y:rt*oe+Pe*ie+se}},ae=te(Y,$),le=te(Y,D),me=te(H,$),_e=te(H,D);Y=Math.min(ae.x,le.x,me.x,_e.x),H=Math.max(ae.x,le.x,me.x,_e.x),$=Math.min(ae.y,le.y,me.y,_e.y),D=Math.max(ae.y,le.y,me.y,_e.y)}var Ae=K+"Rot",et=G[Ae]=G[Ae]||{};et.x1=Y,et.y1=$,et.x2=H,et.y2=D,et.w=H-Y,et.h=D-$,To(e,Y,$,H,D),To(o.labelBounds.all,Y,$,H,D)}return e}},uL=function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value;if(r>0&&i>0){var o=t.pstyle("outline-offset").value,l=t.pstyle("shape").value,u=i+o,c=(e.w+u*2)/e.w,f=(e.h+u*2)/e.h,v=0,g=0;["diamond","pentagon","round-triangle"].includes(l)?(c=(e.w+u*2.4)/e.w,g=-u/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?c=(e.w+u*2.4)/e.w:l==="star"?(c=(e.w+u*2.8)/e.w,f=(e.h+u*2.6)/e.h,g=-u/3.8):l==="triangle"?(c=(e.w+u*2.8)/e.w,f=(e.h+u*2.4)/e.h,g=-u/1.4):l==="vee"&&(c=(e.w+u*4.4)/e.w,f=(e.h+u*3.8)/e.h,g=-u*.5);var b=e.h*f-e.h,y=e.w*c-e.w;if(gy(e,[Math.ceil(b/2),Math.ceil(y/2)]),v!=0||g!==0){var E=LO(e,v,g);KS(e,E)}}}},fL=function(e,t){var r=e._private.cy,i=r.styleEnabled(),o=r.headless(),l=Qa(),u=e._private,c=e.isNode(),f=e.isEdge(),v,g,b,y,E,x,T=u.rstyle,w=c&&i?e.pstyle("bounds-expansion").pfValue:[0],R=function(ot){return ot.pstyle("display").value!=="none"},A=!i||R(e)&&(!f||R(e.source())&&R(e.target()));if(A){var O=0,B=0;i&&t.includeOverlays&&(O=e.pstyle("overlay-opacity").value,O!==0&&(B=e.pstyle("overlay-padding").value));var z=0,N=0;i&&t.includeUnderlays&&(z=e.pstyle("underlay-opacity").value,z!==0&&(N=e.pstyle("underlay-padding").value));var U=Math.max(B,N),F=0,V=0;if(i&&(F=e.pstyle("width").pfValue,V=F/2),c&&t.includeNodes){var Y=e.position();E=Y.x,x=Y.y;var H=e.outerWidth(),$=H/2,D=e.outerHeight(),_=D/2;v=E-$,g=E+$,b=x-_,y=x+_,To(l,v,b,g,y),i&&t.includeOutlines&&uL(l,e)}else if(f&&t.includeEdges)if(i&&!o){var I=e.pstyle("curve-style").strValue;if(v=Math.min(T.srcX,T.midX,T.tgtX),g=Math.max(T.srcX,T.midX,T.tgtX),b=Math.min(T.srcY,T.midY,T.tgtY),y=Math.max(T.srcY,T.midY,T.tgtY),v-=V,g+=V,b-=V,y+=V,To(l,v,b,g,y),I==="haystack"){var L=T.haystackPts;if(L&&L.length===2){if(v=L[0].x,b=L[0].y,g=L[1].x,y=L[1].y,v>g){var k=v;v=g,g=k}if(b>y){var K=b;b=y,y=K}To(l,v-V,b-V,g+V,y+V)}}else if(I==="bezier"||I==="unbundled-bezier"||I.endsWith("segments")||I.endsWith("taxi")){var G;switch(I){case"bezier":case"unbundled-bezier":G=T.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":G=T.linePts;break}if(G!=null)for(var X=0;X<G.length;X++){var Z=G[X];v=Z.x-V,g=Z.x+V,b=Z.y-V,y=Z.y+V,To(l,v,b,g,y)}}}else{var J=e.source(),re=J.position(),ie=e.target(),oe=ie.position();if(v=re.x,g=oe.x,b=re.y,y=oe.y,v>g){var he=v;v=g,g=he}if(b>y){var se=b;b=y,y=se}v-=V,g+=V,b-=V,y+=V,To(l,v,b,g,y)}if(i&&t.includeEdges&&f&&(Jm(l,e,"mid-source"),Jm(l,e,"mid-target"),Jm(l,e,"source"),Jm(l,e,"target")),i){var te=e.pstyle("ghost").value==="yes";if(te){var ae=e.pstyle("ghost-offset-x").pfValue,le=e.pstyle("ghost-offset-y").pfValue;To(l,l.x1+ae,l.y1+le,l.x2+ae,l.y2+le)}}var me=u.bodyBounds=u.bodyBounds||{};uw(me,l),gy(me,w),vy(me,1),i&&(v=l.x1,g=l.x2,b=l.y1,y=l.y2,To(l,v-U,b-U,g+U,y+U));var _e=u.overlayBounds=u.overlayBounds||{};uw(_e,l),gy(_e,w),vy(_e,1);var Ae=u.labelBounds=u.labelBounds||{};Ae.all!=null?NO(Ae.all):Ae.all=Qa(),i&&t.includeLabels&&(t.includeMainLabels&&zb(l,e,null),f&&(t.includeSourceLabels&&zb(l,e,"source"),t.includeTargetLabels&&zb(l,e,"target")))}return l.x1=Yi(l.x1),l.y1=Yi(l.y1),l.x2=Yi(l.x2),l.y2=Yi(l.y2),l.w=Yi(l.x2-l.x1),l.h=Yi(l.y2-l.y1),l.w>0&&l.h>0&&A&&(gy(l,w),vy(l,1)),l},Tx=function(e){var t=0,r=function(l){return(l?1:0)<<t++},i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},Sx=function(e){if(e.isEdge()){var t=e.source().position(),r=e.target().position(),i=function(l){return Math.round(l)};return JM([i(t.x),i(t.y),i(r.x),i(r.y)])}else return 0},Nw=function(e,t){var r=e._private,i,o=e.isEdge(),l=t==null?Lw:Tx(t),u=l===Lw,c=Sx(e),f=r.bbCachePosKey===c,v=t.useCache&&f,g=function(x){return x._private.bbCache==null||x._private.styleDirty},b=!v||g(e)||o&&(g(e.source())||g(e.target()));if(b?(f||e.recalculateRenderedStyle(v),i=fL(e,Tg),r.bbCache=i,r.bbCachePosKey=c):i=r.bbCache,!u){var y=e.isNode();i=Qa(),(t.includeNodes&&y||t.includeEdges&&!y)&&(t.includeOverlays?bf(i,r.overlayBounds):bf(i,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?bf(i,r.labelBounds.all):(t.includeMainLabels&&bf(i,r.labelBounds.mainRot),t.includeSourceLabels&&bf(i,r.labelBounds.sourceRot),t.includeTargetLabels&&bf(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Tg={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Lw=Tx(Tg),Iw=Br(Tg);lu.boundingBox=function(n){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(n===void 0||n.useCache===void 0||n.useCache===!0))n===void 0?n=Tg:n=Iw(n),e=Nw(this[0],n);else{e=Qa(),n=n||Tg;var t=Iw(n),r=this,i=r.cy(),o=i.styleEnabled();if(o)for(var l=0;l<r.length;l++){var u=r[l],c=u._private,f=Sx(u),v=c.bbCachePosKey===f,g=t.useCache&&v&&!c.styleDirty;u.recalculateRenderedStyle(g)}this.updateCompoundBounds(!n.useCache);for(var b=0;b<r.length;b++){var y=r[b];bf(e,Nw(y,t))}}return e.x1=Yi(e.x1),e.y1=Yi(e.y1),e.x2=Yi(e.x2),e.y2=Yi(e.y2),e.w=Yi(e.x2-e.x1),e.h=Yi(e.y2-e.y1),e};lu.dirtyBoundingBoxCache=function(){for(var n=0;n<this.length;n++){var e=this[n]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};lu.boundingBoxAt=function(n){var e=this.nodes(),t=this.cy(),r=t.hasCompoundNodes(),i=t.collection();if(r&&(i=e.filter(function(f){return f.isParent()}),e=e.not(i)),mn(n)){var o=n;n=function(){return o}}var l=function(v,g){return v._private.bbAtOldPos=n(v,g)},u=function(v){return v._private.bbAtOldPos};t.startBatch(),e.forEach(l).silentPositions(n),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var c=DO(this.boundingBox({useCache:!1}));return e.silentPositions(u),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),t.endBatch(),c};Ed.boundingbox=Ed.bb=Ed.boundingBox;Ed.renderedBoundingbox=Ed.renderedBoundingBox;var cL=lu,tg,_g;tg=_g={};var xx=function(e){e.uppercaseName=nw(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=nw(e.outerName),tg[e.name]=function(){var r=this[0],i=r._private,o=i.cy,l=o._private.styleEnabled;if(r)if(l){if(r.isParent())return r.updateCompoundBounds(),i[e.autoName]||0;var u=r.pstyle(e.name);switch(u.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},tg["outer"+e.uppercaseName]=function(){var r=this[0],i=r._private,o=i.cy,l=o._private.styleEnabled;if(r)if(l){var u=r[e.name](),c=r.pstyle("border-width").pfValue,f=2*r.padding();return u+c+f}else return 1},tg["rendered"+e.uppercaseName]=function(){var r=this[0];if(r){var i=r[e.name]();return i*this.cy().zoom()}},tg["rendered"+e.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[e.outerName]();return i*this.cy().zoom()}}};xx({name:"width"});xx({name:"height"});_g.padding=function(){var n=this[0],e=n._private;return n.isParent()?(n.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:n.pstyle("padding").pfValue):n.pstyle("padding").pfValue};_g.paddedHeight=function(){var n=this[0];return n.height()+2*n.padding()};_g.paddedWidth=function(){var n=this[0];return n.width()+2*n.padding()};var dL=_g,hL=function(e,t){if(e.isEdge())return t(e)},vL=function(e,t){if(e.isEdge()){var r=e.cy();return Jy(t(e),r.zoom(),r.pan())}},gL=function(e,t){if(e.isEdge()){var r=e.cy(),i=r.pan(),o=r.zoom();return t(e).map(function(l){return Jy(l,o,i)})}},pL=function(e){return e.renderer().getControlPoints(e)},mL=function(e){return e.renderer().getSegmentPoints(e)},yL=function(e){return e.renderer().getSourceEndpoint(e)},bL=function(e){return e.renderer().getTargetEndpoint(e)},EL=function(e){return e.renderer().getEdgeMidpoint(e)},Bw={controlPoints:{get:pL,mult:!0},segmentPoints:{get:mL,mult:!0},sourceEndpoint:{get:yL},targetEndpoint:{get:bL},midpoint:{get:EL}},wL=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},TL=Object.keys(Bw).reduce(function(n,e){var t=Bw[e],r=wL(e);return n[e]=function(){return hL(this,t.get)},t.mult?n[r]=function(){return gL(this,t.get)}:n[r]=function(){return vL(this,t.get)},n},{}),SL=Lt({},lL,cL,dL,TL);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Cx=function(e,t){this.recycle(e,t)};function Vv(){return!1}function jm(){return!0}Cx.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Vv,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?jm:Vv):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:r.x*i+o.x,y:r.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=jm;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=jm;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=jm,this.stopPropagation()},isDefaultPrevented:Vv,isPropagationStopped:Vv,isImmediatePropagationStopped:Vv};var Ax=/^([^.]+)(\.(?:[^.]+))?$/,xL=".*",Rx={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},_w=Object.keys(Rx),CL={};function a0(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CL,e=arguments.length>1?arguments[1]:void 0,t=0;t<_w.length;t++){var r=_w[t];this[r]=n[r]||Rx[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var nu=a0.prototype,Mx=function(e,t,r,i,o,l,u){rr(i)&&(o=i,i=null),u&&(l==null?l=u:l=Lt({},l,u));for(var c=_n(r)?r:r.split(/\s+/),f=0;f<c.length;f++){var v=c[f];if(!Ql(v)){var g=v.match(Ax);if(g){var b=g[1],y=g[2]?g[2]:null,E=t(e,v,b,y,i,o,l);if(E===!1)break}}}},Pw=function(e,t){return e.addEventFields(e.context,t),new Cx(t.type,t)},AL=function(e,t,r){if(KR(r)){t(e,r);return}else if(mn(r)){t(e,Pw(e,r));return}for(var i=_n(r)?r:r.split(/\s+/),o=0;o<i.length;o++){var l=i[o];if(!Ql(l)){var u=l.match(Ax);if(u){var c=u[1],f=u[2]?u[2]:null,v=Pw(e,{type:c,namespace:f,target:e.context});t(e,v)}}}};nu.on=nu.addListener=function(n,e,t,r,i){return Mx(this,function(o,l,u,c,f,v,g){rr(v)&&o.listeners.push({event:l,callback:v,type:u,namespace:c,qualifier:f,conf:g})},n,e,t,r,i),this};nu.one=function(n,e,t,r){return this.on(n,e,t,r,{one:!0})};nu.removeListener=nu.off=function(n,e,t,r){var i=this;this.emitting!==0&&(this.listeners=rO(this.listeners));for(var o=this.listeners,l=function(f){var v=o[f];Mx(i,function(g,b,y,E,x,T){if((v.type===y||n==="*")&&(!E&&v.namespace!==".*"||v.namespace===E)&&(!x||g.qualifierCompare(v.qualifier,x))&&(!T||v.callback===T))return o.splice(f,1),!1},n,e,t,r)},u=o.length-1;u>=0;u--)l(u);return this};nu.removeAllListeners=function(){return this.removeListener("*")};nu.emit=nu.trigger=function(n,e,t){var r=this.listeners,i=r.length;return this.emitting++,_n(e)||(e=[e]),AL(this,function(o,l){t!=null&&(r=[{event:l.event,type:l.type,namespace:l.namespace,callback:t}],i=r.length);for(var u=function(v){var g=r[v];if(g.type===l.type&&(!g.namespace||g.namespace===l.namespace||g.namespace===xL)&&o.eventMatches(o.context,g,l)){var b=[l];e!=null&&iO(b,e),o.beforeEmit(o.context,g,l),g.conf&&g.conf.one&&(o.listeners=o.listeners.filter(function(x){return x!==g}));var y=o.callbackContext(o.context,g,l),E=g.callback.apply(y,b);o.afterEmit(o.context,g,l),E===!1&&(l.stopPropagation(),l.preventDefault())}},c=0;c<i;c++)u(c);o.bubble(o.context)&&!l.isPropagationStopped()&&o.parent(o.context).emit(l,e)},n),this.emitting--,this};var RL={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&Ng(r.target)&&i.matches(r.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,r){return t.qualifier!=null?r.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ey=function(e){return Ct(e)?new eu(e):e},Ox={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new a0(RL,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,r){for(var i=ey(t),o=0;o<this.length;o++){var l=this[o];l.emitter().on(e,i,r)}return this},removeListener:function(e,t,r){for(var i=ey(t),o=0;o<this.length;o++){var l=this[o];l.emitter().removeListener(e,i,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,r){for(var i=ey(t),o=0;o<this.length;o++){var l=this[o];l.emitter().one(e,i,r)}return this},once:function(e,t,r){for(var i=ey(t),o=0;o<this.length;o++){var l=this[o];l.emitter().on(e,i,r,{once:!0,onceCollection:this})}},emit:function(e,t){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};Mn.eventAliasesOn(Ox);var Dx={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(Ct(e)||Ei(e))return new eu(e).filter(this);if(rr(e)){for(var r=this.spawn(),i=this,o=0;o<i.length;o++){var l=i[o],u=t?e.apply(t,[l,o,i]):e(l,o,i);u&&r.push(l)}return r}return this.spawn()},not:function(e){if(e){Ct(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var i=this[r],o=e.has(i);o||t.push(i)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ct(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),i=this,o=e,l=this.length<e.length,u=l?i:o,c=l?o:i,f=0;f<u.length;f++){var v=u[f];c.has(v)&&r.push(v)}return r},xor:function(e){var t=this._private.cy;Ct(e)&&(e=t.$(e));var r=this.spawn(),i=this,o=e,l=function(c,f){for(var v=0;v<c.length;v++){var g=c[v],b=g._private.data.id,y=f.hasElementWithId(b);y||r.push(g)}};return l(i,o),l(o,i),r},diff:function(e){var t=this._private.cy;Ct(e)&&(e=t.$(e));var r=this.spawn(),i=this.spawn(),o=this.spawn(),l=this,u=e,c=function(v,g,b){for(var y=0;y<v.length;y++){var E=v[y],x=E._private.data.id,T=g.hasElementWithId(x);T?o.merge(E):b.push(E)}};return c(l,u,r),c(u,l,i),{left:r,right:i,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(Ct(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var l=e[o],u=!this.has(l);u&&i.push(l)}return i},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&Ct(e)){var i=e;e=r.mutableElements().filter(i)}for(var o=t.map,l=0;l<e.length;l++){var u=e[l],c=u._private.data.id,f=!o.has(c);if(f){var v=this.length++;this[v]=u,o.set(c,{ele:u,index:v})}}return this},unmergeAt:function(e){var t=this[e],r=t.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(r);var l=e===this.length-1;if(this.length>1&&!l){var u=this.length-1,c=this[u],f=c._private.data.id;this[u]=void 0,this[e]=c,o.set(f,{ele:c,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,i=t.map,o=i.get(r);if(!o)return this;var l=o.index;return this.unmergeAt(l),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&Ct(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},map:function(e,t){for(var r=[],i=this,o=0;o<i.length;o++){var l=i[o],u=t?e.apply(t,[l,o,i]):e(l,o,i);r.push(u)}return r},reduce:function(e,t){for(var r=t,i=this,o=0;o<i.length;o++)r=e(r,i[o],o,i);return r},max:function(e,t){for(var r=-1/0,i,o=this,l=0;l<o.length;l++){var u=o[l],c=t?e.apply(t,[u,l,o]):e(u,l,o);c>r&&(r=c,i=u)}return{value:r,ele:i}},min:function(e,t){for(var r=1/0,i,o=this,l=0;l<o.length;l++){var u=o[l],c=t?e.apply(t,[u,l,o]):e(u,l,o);c<r&&(r=c,i=u)}return{value:r,ele:i}}},wn=Dx;wn.u=wn["|"]=wn["+"]=wn.union=wn.or=wn.add;wn["\\"]=wn["!"]=wn["-"]=wn.difference=wn.relativeComplement=wn.subtract=wn.not;wn.n=wn["&"]=wn["."]=wn.and=wn.intersection=wn.intersect;wn["^"]=wn["(+)"]=wn["(-)"]=wn.symmetricDifference=wn.symdiff=wn.xor;wn.fnFilter=wn.filterFn=wn.stdFilter=wn.filter;wn.complement=wn.abscomp=wn.absoluteComplement;var ML={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Nx=function(e,t){var r=e.cy(),i=r.hasCompoundNodes();function o(v){var g=v.pstyle("z-compound-depth");return g.value==="auto"?i?v.zDepth():0:g.value==="bottom"?-1:g.value==="top"?$1:0}var l=o(e)-o(t);if(l!==0)return l;function u(v){var g=v.pstyle("z-index-compare");return g.value==="auto"&&v.isNode()?1:0}var c=u(e)-u(t);if(c!==0)return c;var f=e.pstyle("z-index").value-t.pstyle("z-index").value;return f!==0?f:e.poolIndex()-t.poolIndex()},_y={forEach:function(e,t){if(rr(e))for(var r=this.length,i=0;i<r;i++){var o=this[i],l=t?e.apply(t,[o,i,this]):e(o,i,this);if(l===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var o=e;o>=0&&o<t&&o<i;o++)r.push(this[o]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!rr(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Nx)},zDepth:function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:$1-1}else{var o=t.source,l=t.target,u=o.zDepth(),c=l.zDepth();return Math.max(u,c,0)}}}};_y.each=_y.forEach;var OL=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Tr(Symbol))!=e&&Tr(Symbol.iterator)!=e;t&&(_y[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},o=0,l=this.length;return RS({next:function(){return o<l?i.value=r[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};OL();var DL=Br({nodeDimensionsIncludeLabels:!1}),my={layoutDimensions:function(e){e=DL(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,r){var i=this.nodes().filter(function(B){return!B.isParent()}),o=this.cy(),l=t.eles,u=function(z){return z.id()},c=vg(r,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(z,N,U){var F={x:N.x1+N.w/2,y:N.y1+N.h/2},V={x:(U.x-F.x)*z,y:(U.y-F.y)*z};return{x:F.x+V.x,y:F.y+V.y}},v=t.spacingFactor&&t.spacingFactor!==1,g=function(){if(!v)return null;for(var z=Qa(),N=0;N<i.length;N++){var U=i[N],F=c(U,N);IO(z,F.x,F.y)}return z},b=g(),y=vg(function(B,z){var N=c(B,z);if(v){var U=Math.abs(t.spacingFactor);N=f(U,b,N)}return t.transform!=null&&(N=t.transform(B,N)),N},u);if(t.animate){for(var E=0;E<i.length;E++){var x=i[E],T=y(x,E),w=t.animateFilter==null||t.animateFilter(x,E);if(w){var R=x.animation({position:T,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(R)}else x.position(T)}if(t.fit){var A=o.animation({fit:{boundingBox:l.boundingBoxAt(y),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(A)}else if(t.zoom!==void 0&&t.pan!==void 0){var O=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(O)}e.animations.forEach(function(B){return B.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Nd.all(e.animations.map(function(B){return B.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(y),t.fit&&o.fit(t.eles,t.padding),t.zoom!=null&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(Lt({},e,{eles:this}))}};my.createLayout=my.makeLayout=my.layout;function Lx(n,e,t){var r=t._private,i=r.styleCache=r.styleCache||[],o;return(o=i[n])!=null||(o=i[n]=e(t)),o}function i0(n,e){return n=Jl(n),function(r){return Lx(n,e,r)}}function o0(n,e){n=Jl(n);var t=function(i){return e.call(i)};return function(){var i=this[0];if(i)return Lx(n,t,i)}}var Yr={recalculateRenderedStyle:function(e){var t=this.cy(),r=t.renderer(),i=t.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var i=t.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=o;return e?l.emitAndNotify("style"):l.emit("style"),o.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var o=r._private.style[e];return o??(t?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,o=r.style();if(mn(e)){var l=e;o.applyBypass(this,l,i),this.emitAndNotify("style")}else if(Ct(e))if(t===void 0){var u=this[0];return u?o.getStylePropertyValue(u,e):void 0}else o.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var c=this[0];return c?o.getRawStyle(c):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,i=t.style(),o=this;if(e===void 0)for(var l=0;l<o.length;l++){var u=o[l];i.removeAllBypasses(u,r)}else{e=e.split(/\s+/);for(var c=0;c<o.length;c++){var f=o[c];i.removeBypasses(f,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,o=r.pstyle("opacity").value;if(!t)return o;var l=i.data.parent?r.parents():null;if(l)for(var u=0;u<l.length;u++){var c=l[u],f=c.pstyle("opacity").value;o=f*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function Gb(n,e){var t=n._private,r=t.data.parent?n.parents():null;if(r)for(var i=0;i<r.length;i++){var o=r[i];if(!e(o))return!1}return!0}function oE(n){var e=n.ok,t=n.edgeOkViaNode||n.ok,r=n.parentOk||n.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],l=i.hasCompoundNodes();if(o){var u=o._private;if(!e(o))return!1;if(o.isNode())return!l||Gb(o,r);var c=u.source,f=u.target;return t(c)&&(!l||Gb(c,t))&&(c===f||t(f)&&(!l||Gb(f,t)))}}}var _d=i0("eleTakesUpSpace",function(n){return n.pstyle("display").value==="element"&&n.width()!==0&&(n.isNode()?n.height()!==0:!0)});Yr.takesUpSpace=o0("takesUpSpace",oE({ok:_d}));var NL=i0("eleInteractive",function(n){return n.pstyle("events").value==="yes"&&n.pstyle("visibility").value==="visible"&&_d(n)}),LL=i0("parentInteractive",function(n){return n.pstyle("visibility").value==="visible"&&_d(n)});Yr.interactive=o0("interactive",oE({ok:NL,parentOk:LL,edgeOkViaNode:_d}));Yr.noninteractive=function(){var n=this[0];if(n)return!n.interactive()};var IL=i0("eleVisible",function(n){return n.pstyle("visibility").value==="visible"&&n.pstyle("opacity").pfValue!==0&&_d(n)}),BL=_d;Yr.visible=o0("visible",oE({ok:IL,edgeOkViaNode:BL}));Yr.hidden=function(){var n=this[0];if(n)return!n.visible()};Yr.isBundledBezier=o0("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Yr.bypass=Yr.css=Yr.style;Yr.renderedCss=Yr.renderedStyle;Yr.removeBypass=Yr.removeCss=Yr.removeStyle;Yr.pstyle=Yr.parsedStyle;var Zl={};function Fw(n){return function(){var e=arguments,t=[];if(e.length===2){var r=e[0],i=e[1];this.on(n.event,r,i)}else if(e.length===1&&rr(e[0])){var o=e[0];this.on(n.event,o)}else if(e.length===0||e.length===1&&_n(e[0])){for(var l=e.length===1?e[0]:null,u=0;u<this.length;u++){var c=this[u],f=!n.ableField||c._private[n.ableField],v=c._private[n.field]!=n.value;if(n.overrideAble){var g=n.overrideAble(c);if(g!==void 0&&(f=g,!g))return this}f&&(c._private[n.field]=n.value,v&&t.push(c))}var b=this.spawn(t);b.updateStyle(),b.emit(n.event),l&&b.emit(l)}return this}}function Pd(n){Zl[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(t!==void 0)return t}return e._private[n.field]}},Zl[n.on]=Fw({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),Zl[n.off]=Fw({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}Pd({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Pd({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Pd({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Pd({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Zl.deselect=Zl.unselect;Zl.grabbed=function(){var n=this[0];if(n)return n._private.grabbed};Pd({field:"active",on:"activate",off:"unactivate"});Pd({field:"pannable",on:"panify",off:"unpanify"});Zl.inactive=function(){var n=this[0];if(n)return!n._private.active};var ra={},kw=function(e){return function(r){for(var i=this,o=[],l=0;l<i.length;l++){var u=i[l];if(u.isNode()){for(var c=!1,f=u.connectedEdges(),v=0;v<f.length;v++){var g=f[v],b=g.source(),y=g.target();if(e.noIncomingEdges&&y===u&&b!==u||e.noOutgoingEdges&&b===u&&y!==u){c=!0;break}}c||o.push(u)}}return this.spawn(o,!0).filter(r)}},Uw=function(e){return function(t){for(var r=this,i=[],o=0;o<r.length;o++){var l=r[o];if(l.isNode())for(var u=l.connectedEdges(),c=0;c<u.length;c++){var f=u[c],v=f.source(),g=f.target();e.outgoing&&v===l?(i.push(f),i.push(g)):e.incoming&&g===l&&(i.push(f),i.push(v))}}return this.spawn(i,!0).filter(t)}},zw=function(e){return function(t){for(var r=this,i=[],o={};;){var l=e.outgoing?r.outgoers():r.incomers();if(l.length===0)break;for(var u=!1,c=0;c<l.length;c++){var f=l[c],v=f.id();o[v]||(o[v]=!0,i.push(f),u=!0)}if(!u)break;r=l}return this.spawn(i,!0).filter(t)}};ra.clearTraversalCache=function(){for(var n=0;n<this.length;n++)this[n]._private.traversalCache=null};Lt(ra,{roots:kw({noIncomingEdges:!0}),leaves:kw({noOutgoingEdges:!0}),outgoers:qi(Uw({outgoing:!0}),"outgoers"),successors:zw({outgoing:!0}),incomers:qi(Uw({incoming:!0}),"incomers"),predecessors:zw({})});Lt(ra,{neighborhood:qi(function(n){for(var e=[],t=this.nodes(),r=0;r<t.length;r++)for(var i=t[r],o=i.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),f=u.target(),v=i===c?f:c;v.length>0&&e.push(v[0]),e.push(u[0])}return this.spawn(e,!0).filter(n)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});ra.neighbourhood=ra.neighborhood;ra.closedNeighbourhood=ra.closedNeighborhood;ra.openNeighbourhood=ra.openNeighborhood;Lt(ra,{source:qi(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"source"),target:qi(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"target"),sources:Gw({attr:"source"}),targets:Gw({attr:"target"})});function Gw(n){return function(t){for(var r=[],i=0;i<this.length;i++){var o=this[i],l=o._private[n.attr];l&&r.push(l)}return this.spawn(r,!0).filter(t)}}Lt(ra,{edgesWith:qi(Hw(),"edgesWith"),edgesTo:qi(Hw({thisIsSrc:!0}),"edgesTo")});function Hw(n){return function(t){var r=[],i=this._private.cy,o=n||{};Ct(t)&&(t=i.$(t));for(var l=0;l<t.length;l++)for(var u=t[l]._private.edges,c=0;c<u.length;c++){var f=u[c],v=f._private.data,g=this.hasElementWithId(v.source)&&t.hasElementWithId(v.target),b=t.hasElementWithId(v.source)&&this.hasElementWithId(v.target),y=g||b;y&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!g||o.thisIsTgt&&!b)||r.push(f))}return this.spawn(r,!0)}}Lt(ra,{connectedEdges:qi(function(n){for(var e=[],t=this,r=0;r<t.length;r++){var i=t[r];if(i.isNode())for(var o=i._private.edges,l=0;l<o.length;l++){var u=o[l];e.push(u)}}return this.spawn(e,!0).filter(n)},"connectedEdges"),connectedNodes:qi(function(n){for(var e=[],t=this,r=0;r<t.length;r++){var i=t[r];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(n)},"connectedNodes"),parallelEdges:qi(Vw(),"parallelEdges"),codirectedEdges:qi(Vw({codirected:!0}),"codirectedEdges")});function Vw(n){var e={codirected:!1};return n=Lt({},e,n),function(r){for(var i=[],o=this.edges(),l=n,u=0;u<o.length;u++)for(var c=o[u],f=c._private,v=f.source,g=v._private.data.id,b=f.data.target,y=v._private.edges,E=0;E<y.length;E++){var x=y[E],T=x._private.data,w=T.target,R=T.source,A=w===b&&R===g,O=g===w&&b===R;(l.codirected&&A||!l.codirected&&(A||O))&&i.push(x)}return this.spawn(i,!0).filter(r)}}Lt(ra,{components:function(e){var t=this,r=t.cy(),i=r.collection(),o=e==null?t.nodes():e.nodes(),l=[];e!=null&&o.empty()&&(o=e.sources());var u=function(v,g){i.merge(v),o.unmerge(v),g.merge(v)};if(o.empty())return t.spawn();var c=function(){var v=r.collection();l.push(v);var g=o[0];u(g,v),t.bfs({directed:!1,roots:g,visit:function(y){return u(y,v)}}),v.forEach(function(b){b.connectedEdges().forEach(function(y){t.has(y)&&v.has(y.source())&&v.has(y.target())&&v.merge(y)})})};do c();while(o.length>0);return l},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});ra.componentsOf=ra.components;var qr=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){nr("A collection must have a reference to the core");return}var o=new os,l=!1;if(!t)t=[];else if(t.length>0&&mn(t[0])&&!Ng(t[0])){l=!0;for(var u=[],c=new Dd,f=0,v=t.length;f<v;f++){var g=t[f];g.data==null&&(g.data={});var b=g.data;if(b.id==null)b.id=qS();else if(e.hasElementWithId(b.id)||c.has(b.id))continue;var y=new Qy(e,g,!1);u.push(y),c.add(b.id)}t=u}this.length=0;for(var E=0,x=t.length;E<x;E++){var T=t[E][0];if(T!=null){var w=T._private.data.id;(!r||!o.has(w))&&(r&&o.set(w,{index:this.length,ele:T}),this[this.length]=T,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(R){this.lazyMap=R},rebuildMap:function(){for(var A=this.lazyMap=new os,O=this.eles,B=0;B<O.length;B++){var z=O[B];A.set(z.id(),{index:B,ele:z})}}},r&&(this._private.map=o),l&&!i&&this.restore()},Gn=Qy.prototype=qr.prototype=Object.create(Array.prototype);Gn.instanceString=function(){return"collection"};Gn.spawn=function(n,e){return new qr(this.cy(),n,e)};Gn.spawnSelf=function(){return this.spawn(this)};Gn.cy=function(){return this._private.cy};Gn.renderer=function(){return this._private.cy.renderer()};Gn.element=function(){return this[0]};Gn.collection=function(){return DS(this)?this:new qr(this._private.cy,[this])};Gn.unique=function(){return new qr(this._private.cy,this,!0)};Gn.hasElementWithId=function(n){return n=""+n,this._private.map.has(n)};Gn.getElementById=function(n){n=""+n;var e=this._private.cy,t=this._private.map.get(n);return t?t.ele:new qr(e)};Gn.$id=Gn.getElementById;Gn.poolIndex=function(){var n=this._private.cy,e=n._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};Gn.indexOf=function(n){var e=n[0]._private.data.id;return this._private.map.get(e).index};Gn.indexOfId=function(n){return n=""+n,this._private.map.get(n).index};Gn.json=function(n){var e=this.element(),t=this.cy();if(e==null&&n)return this;if(e!=null){var r=e._private;if(mn(n)){if(t.startBatch(),n.data){e.data(n.data);var i=r.data;if(e.isEdge()){var o=!1,l={},u=n.data.source,c=n.data.target;u!=null&&u!=i.source&&(l.source=""+u,o=!0),c!=null&&c!=i.target&&(l.target=""+c,o=!0),o&&(e=e.move(l))}else{var f="parent"in n.data,v=n.data.parent;f&&(v!=null||i.parent!=null)&&v!=i.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}n.position&&e.position(n.position);var g=function(x,T,w){var R=n[x];R!=null&&R!==r[x]&&(R?e[T]():e[w]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),g("pannable","panify","unpanify"),n.classes!=null&&e.classes(n.classes),t.endBatch(),this}else if(n===void 0){var b={data:is(r.data),position:is(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};b.classes="";var y=0;return r.classes.forEach(function(E){return b.classes+=y++===0?E:" "+E}),b}}};Gn.jsons=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e],r=t.json();n.push(r)}return n};Gn.clone=function(){for(var n=this.cy(),e=[],t=0;t<this.length;t++){var r=this[t],i=r.json(),o=new Qy(n,i,!1);e.push(o)}return new qr(n,e)};Gn.copy=Gn.clone;Gn.restore=function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,r=t.cy(),i=r._private,o=[],l=[],u,c=0,f=t.length;c<f;c++){var v=t[c];e&&!v.removed()||(v.isNode()?o.push(v):l.push(v))}u=o.concat(l);var g,b=function(){u.splice(g,1),g--};for(g=0;g<u.length;g++){var y=u[g],E=y._private,x=E.data;if(y.clearTraversalCache(),!(!e&&!E.removed)){if(x.id===void 0)x.id=qS();else if(lt(x.id))x.id=""+x.id;else if(Ql(x.id)||!Ct(x.id)){nr("Can not create element with invalid string ID `"+x.id+"`"),b();continue}else if(r.hasElementWithId(x.id)){nr("Can not create second element with ID `"+x.id+"`"),b();continue}}var T=x.id;if(y.isNode()){var w=E.position;w.x==null&&(w.x=0),w.y==null&&(w.y=0)}if(y.isEdge()){for(var R=y,A=["source","target"],O=A.length,B=!1,z=0;z<O;z++){var N=A[z],U=x[N];lt(U)&&(U=x[N]=""+x[N]),U==null||U===""?(nr("Can not create edge `"+T+"` with unspecified "+N),B=!0):r.hasElementWithId(U)||(nr("Can not create edge `"+T+"` with nonexistant "+N+" `"+U+"`"),B=!0)}if(B){b();continue}var F=r.getElementById(x.source),V=r.getElementById(x.target);F.same(V)?F._private.edges.push(R):(F._private.edges.push(R),V._private.edges.push(R)),R._private.source=F,R._private.target=V}E.map=new os,E.map.set(T,{ele:y,index:0}),E.removed=!1,e&&r.addToPool(y)}for(var Y=0;Y<o.length;Y++){var H=o[Y],$=H._private.data;lt($.parent)&&($.parent=""+$.parent);var D=$.parent,_=D!=null;if(_||H._private.parent){var I=H._private.parent?r.collection().merge(H._private.parent):r.getElementById(D);if(I.empty())$.parent=void 0;else if(I[0].removed())On("Node added with missing parent, reference to parent removed"),$.parent=void 0,H._private.parent=null;else{for(var L=!1,k=I;!k.empty();){if(H.same(k)){L=!0,$.parent=void 0;break}k=k.parent()}L||(I[0]._private.children.push(H),H._private.parent=I[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var K=u.length===t.length?t:new qr(r,u),G=0;G<K.length;G++){var X=K[G];X.isNode()||(X.parallelEdges().clearTraversalCache(),X.source().clearTraversalCache(),X.target().clearTraversalCache())}var Z;i.hasCompoundNodes?Z=r.collection().merge(K).merge(K.connectedNodes()).merge(K.parent()):Z=K,Z.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?K.emitAndNotify("add"):e&&K.emit("add")}return t};Gn.removed=function(){var n=this[0];return n&&n._private.removed};Gn.inside=function(){var n=this[0];return n&&!n._private.removed};Gn.remove=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,r=[],i={},o=t._private.cy;function l(D){for(var _=D._private.edges,I=0;I<_.length;I++)c(_[I])}function u(D){for(var _=D._private.children,I=0;I<_.length;I++)c(_[I])}function c(D){var _=i[D.id()];e&&D.removed()||_||(i[D.id()]=!0,D.isNode()?(r.push(D),l(D),u(D)):r.unshift(D))}for(var f=0,v=t.length;f<v;f++){var g=t[f];c(g)}function b(D,_){var I=D._private.edges;jl(I,_),D.clearTraversalCache()}function y(D){D.clearTraversalCache()}var E=[];E.ids={};function x(D,_){_=_[0],D=D[0];var I=D._private.children,L=D.id();jl(I,_),_._private.parent=null,E.ids[L]||(E.ids[L]=!0,E.push(D))}t.dirtyCompoundBoundsCache(),e&&o.removeFromPool(r);for(var T=0;T<r.length;T++){var w=r[T];if(w.isEdge()){var R=w.source()[0],A=w.target()[0];b(R,w),b(A,w);for(var O=w.parallelEdges(),B=0;B<O.length;B++){var z=O[B];y(z),z.isBundledBezier()&&z.dirtyBoundingBoxCache()}}else{var N=w.parent();N.length!==0&&x(N,w)}e&&(w._private.removed=!0)}var U=o._private.elements;o._private.hasCompoundNodes=!1;for(var F=0;F<U.length;F++){var V=U[F];if(V.isParent()){o._private.hasCompoundNodes=!0;break}}var Y=new qr(this.cy(),r);Y.size()>0&&(n?Y.emitAndNotify("remove"):e&&Y.emit("remove"));for(var H=0;H<E.length;H++){var $=E[H];(!e||!$.removed())&&$.updateStyle()}return Y};Gn.move=function(n){var e=this._private.cy,t=this,r=!1,i=!1,o=function(E){return E==null?E:""+E};if(n.source!==void 0||n.target!==void 0){var l=o(n.source),u=o(n.target),c=l!=null&&e.hasElementWithId(l),f=u!=null&&e.hasElementWithId(u);(c||f)&&(e.batch(function(){t.remove(r,i),t.emitAndNotify("moveout");for(var y=0;y<t.length;y++){var E=t[y],x=E._private.data;E.isEdge()&&(c&&(x.source=l),f&&(x.target=u))}t.restore(r,i)}),t.emitAndNotify("move"))}else if(n.parent!==void 0){var v=o(n.parent),g=v===null||e.hasElementWithId(v);if(g){var b=v===null?void 0:v;e.batch(function(){var y=t.remove(r,i);y.emitAndNotify("moveout");for(var E=0;E<t.length;E++){var x=t[E],T=x._private.data;x.isNode()&&(T.parent=b)}y.restore(r,i)}),t.emitAndNotify("move")}}return this};[ax,qN,py,Kl,Cd,sL,r0,SL,Ox,Dx,ML,_y,my,Yr,Zl,ra].forEach(function(n){Lt(Gn,n)});var _L={add:function(e){var t,r=this;if(Ei(e)){var i=e;if(i._private.cy===r)t=i.restore();else{for(var o=[],l=0;l<i.length;l++){var u=i[l];o.push(u.json())}t=new qr(r,o)}}else if(_n(e)){var c=e;t=new qr(r,c)}else if(mn(e)&&(_n(e.nodes)||_n(e.edges))){for(var f=e,v=[],g=["nodes","edges"],b=0,y=g.length;b<y;b++){var E=g[b],x=f[E];if(_n(x))for(var T=0,w=x.length;T<w;T++){var R=Lt({group:E},x[T]);v.push(R)}}t=new qr(r,v)}else{var A=e;t=new Qy(r,A).collection()}return t},remove:function(e){if(!Ei(e)){if(Ct(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function PL(n,e,t,r){var i=4,o=.001,l=1e-7,u=10,c=11,f=1/(c-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var g=0;g<4;++g)if(typeof arguments[g]!="number"||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;n=Math.min(n,1),t=Math.min(t,1),n=Math.max(n,0),t=Math.max(t,0);var b=v?new Float32Array(c):new Array(c);function y(V,Y){return 1-3*Y+3*V}function E(V,Y){return 3*Y-6*V}function x(V){return 3*V}function T(V,Y,H){return((y(Y,H)*V+E(Y,H))*V+x(Y))*V}function w(V,Y,H){return 3*y(Y,H)*V*V+2*E(Y,H)*V+x(Y)}function R(V,Y){for(var H=0;H<i;++H){var $=w(Y,n,t);if($===0)return Y;var D=T(Y,n,t)-V;Y-=D/$}return Y}function A(){for(var V=0;V<c;++V)b[V]=T(V*f,n,t)}function O(V,Y,H){var $,D,_=0;do D=Y+(H-Y)/2,$=T(D,n,t)-V,$>0?H=D:Y=D;while(Math.abs($)>l&&++_<u);return D}function B(V){for(var Y=0,H=1,$=c-1;H!==$&&b[H]<=V;++H)Y+=f;--H;var D=(V-b[H])/(b[H+1]-b[H]),_=Y+D*f,I=w(_,n,t);return I>=o?R(V,_):I===0?_:O(V,Y,Y+f)}var z=!1;function N(){z=!0,(n!==e||t!==r)&&A()}var U=function(Y){return z||N(),n===e&&t===r?Y:Y===0?0:Y===1?1:T(B(Y),e,r)};U.getControlPoints=function(){return[{x:n,y:e},{x:t,y:r}]};var F="generateBezier("+[n,e,t,r]+")";return U.toString=function(){return F},U}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var FL=function(){function n(r){return-r.tension*r.x-r.friction*r.v}function e(r,i,o){var l={x:r.x+o.dx*i,v:r.v+o.dv*i,tension:r.tension,friction:r.friction};return{dx:l.v,dv:n(l)}}function t(r,i){var o={dx:r.v,dv:n(r)},l=e(r,i*.5,o),u=e(r,i*.5,l),c=e(r,i,u),f=1/6*(o.dx+2*(l.dx+u.dx)+c.dx),v=1/6*(o.dv+2*(l.dv+u.dv)+c.dv);return r.x=r.x+f*i,r.v=r.v+v*i,r}return function r(i,o,l){var u={x:-1,v:0,tension:null,friction:null},c=[0],f=0,v=1/1e4,g=16/1e3,b,y,E;for(i=parseFloat(i)||500,o=parseFloat(o)||20,l=l||null,u.tension=i,u.friction=o,b=l!==null,b?(f=r(i,o),y=f/l*g):y=g;E=t(E||u,y),c.push(1+E.x),f+=16,Math.abs(E.x)>v&&Math.abs(E.v)>v;);return b?function(x){return c[x*(c.length-1)|0]}:f}}(),zn=function(e,t,r,i){var o=PL(e,t,r,i);return function(l,u,c){return l+(u-l)*o(c)}},yy={linear:function(e,t,r){return e+(t-e)*r},ease:zn(.25,.1,.25,1),"ease-in":zn(.42,0,1,1),"ease-out":zn(0,0,.58,1),"ease-in-out":zn(.42,0,.58,1),"ease-in-sine":zn(.47,0,.745,.715),"ease-out-sine":zn(.39,.575,.565,1),"ease-in-out-sine":zn(.445,.05,.55,.95),"ease-in-quad":zn(.55,.085,.68,.53),"ease-out-quad":zn(.25,.46,.45,.94),"ease-in-out-quad":zn(.455,.03,.515,.955),"ease-in-cubic":zn(.55,.055,.675,.19),"ease-out-cubic":zn(.215,.61,.355,1),"ease-in-out-cubic":zn(.645,.045,.355,1),"ease-in-quart":zn(.895,.03,.685,.22),"ease-out-quart":zn(.165,.84,.44,1),"ease-in-out-quart":zn(.77,0,.175,1),"ease-in-quint":zn(.755,.05,.855,.06),"ease-out-quint":zn(.23,1,.32,1),"ease-in-out-quint":zn(.86,0,.07,1),"ease-in-expo":zn(.95,.05,.795,.035),"ease-out-expo":zn(.19,1,.22,1),"ease-in-out-expo":zn(1,0,0,1),"ease-in-circ":zn(.6,.04,.98,.335),"ease-out-circ":zn(.075,.82,.165,1),"ease-in-out-circ":zn(.785,.135,.15,.86),spring:function(e,t,r){if(r===0)return yy.linear;var i=FL(e,t,r);return function(o,l,u){return o+(l-o)*i(u)}},"cubic-bezier":zn};function Yw(n,e,t,r,i){if(r===1||e===t)return t;var o=i(e,t,r);return n==null||((n.roundValue||n.color)&&(o=Math.round(o)),n.min!==void 0&&(o=Math.max(o,n.min)),n.max!==void 0&&(o=Math.min(o,n.max))),o}function qw(n,e){return n.pfValue!=null||n.value!=null?n.pfValue!=null&&(e==null||e.type.units!=="%")?n.pfValue:n.value:n}function id(n,e,t,r,i){var o=i!=null?i.type:null;t<0?t=0:t>1&&(t=1);var l=qw(n,i),u=qw(e,i);if(lt(l)&&lt(u))return Yw(o,l,u,t,r);if(_n(l)&&_n(u)){for(var c=[],f=0;f<u.length;f++){var v=l[f],g=u[f];if(v!=null&&g!=null){var b=Yw(o,v,g,t,r);c.push(b)}else c.push(g)}return c}}function kL(n,e,t,r){var i=!r,o=n._private,l=e._private,u=l.easing,c=l.startTime,f=r?n:n.cy(),v=f.style();if(!l.easingImpl)if(u==null)l.easingImpl=yy.linear;else{var g;if(Ct(u)){var b=v.parse("transition-timing-function",u);g=b.value}else g=u;var y,E;Ct(g)?(y=g,E=[]):(y=g[1],E=g.slice(2).map(function(K){return+K})),E.length>0?(y==="spring"&&E.push(l.duration),l.easingImpl=yy[y].apply(null,E)):l.easingImpl=yy[y]}var x=l.easingImpl,T;if(l.duration===0?T=1:T=(t-c)/l.duration,l.applying&&(T=l.progress),T<0?T=0:T>1&&(T=1),l.delay==null){var w=l.startPosition,R=l.position;if(R&&i&&!n.locked()){var A={};Yv(w.x,R.x)&&(A.x=id(w.x,R.x,T,x)),Yv(w.y,R.y)&&(A.y=id(w.y,R.y,T,x)),n.position(A)}var O=l.startPan,B=l.pan,z=o.pan,N=B!=null&&r;N&&(Yv(O.x,B.x)&&(z.x=id(O.x,B.x,T,x)),Yv(O.y,B.y)&&(z.y=id(O.y,B.y,T,x)),n.emit("pan"));var U=l.startZoom,F=l.zoom,V=F!=null&&r;V&&(Yv(U,F)&&(o.zoom=yg(o.minZoom,id(U,F,T,x),o.maxZoom)),n.emit("zoom")),(N||V)&&n.emit("viewport");var Y=l.style;if(Y&&Y.length>0&&i){for(var H=0;H<Y.length;H++){var $=Y[H],D=$.name,_=$,I=l.startStyle[D],L=v.properties[I.name],k=id(I,_,T,x,L);v.overrideBypass(n,D,k)}n.emit("style")}}return l.progress=T,T}function Yv(n,e){return n==null||e==null?!1:lt(n)&&lt(e)?!0:!!(n&&e)}function UL(n,e,t,r){var i=e._private;i.started=!0,i.startTime=t-i.progress*i.duration}function Xw(n,e){var t=e._private.aniEles,r=[];function i(v,g){var b=v._private,y=b.animation.current,E=b.animation.queue,x=!1;if(y.length===0){var T=E.shift();T&&y.push(T)}for(var w=function(z){for(var N=z.length-1;N>=0;N--){var U=z[N];U()}z.splice(0,z.length)},R=y.length-1;R>=0;R--){var A=y[R],O=A._private;if(O.stopped){y.splice(R,1),O.hooked=!1,O.playing=!1,O.started=!1,w(O.frames);continue}!O.playing&&!O.applying||(O.playing&&O.applying&&(O.applying=!1),O.started||UL(v,A,n),kL(v,A,n,g),O.applying&&(O.applying=!1),w(O.frames),O.step!=null&&O.step(n),A.completed()&&(y.splice(R,1),O.hooked=!1,O.playing=!1,O.started=!1,w(O.completes)),x=!0)}return!g&&y.length===0&&E.length===0&&r.push(v),x}for(var o=!1,l=0;l<t.length;l++){var u=t[l],c=i(u);o=o||c}var f=i(e,!0);(o||f)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(r),e.emit("step")}var zL={animate:Mn.animate(),animation:Mn.animation(),animated:Mn.animated(),clearQueue:Mn.clearQueue(),delay:Mn.delay(),delayAnimation:Mn.delayAnimation(),stop:Mn.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&Dy(function(o){Xw(o,e),t()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(o,l){Xw(l,e)},r.beforeRenderPriorities.animations):t()}},GL={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&Ng(r.target)&&i.matches(r.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,r){return t.qualifier!=null?r.target:e}},ty=function(e){return Ct(e)?new eu(e):e},Ix={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new a0(GL,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,r){return this.emitter().on(e,ty(t),r),this},removeListener:function(e,t,r){return this.emitter().removeListener(e,ty(t),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,r){return this.emitter().one(e,ty(t),r),this},once:function(e,t,r){return this.emitter().one(e,ty(t),r),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};Mn.eventAliasesOn(Ix);var T1={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};T1.jpeg=T1.jpg;var by={layout:function(e){var t=this;if(e==null){nr("Layout options must be specified to make a layout");return}if(e.name==null){nr("A `name` must be specified to make a layout");return}var r=e.name,i=t.extension("layout",r);if(i==null){nr("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;Ct(e.eles)?o=t.$(e.eles):o=e.eles!=null?e.eles:t.$();var l=new i(Lt({},e,{cy:t,eles:o}));return l}};by.createLayout=by.makeLayout=by.layout;var HL={notify:function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(r.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?t.notify(r):t.notify(r,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],l=e[o],u=t.getElementById(o);u.data(l)}})}},VL=Br({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),S1={renderTo:function(e,t,r,i){var o=this._private.renderer;return o.renderTo(e,t,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){nr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&On("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=VL(e);i.cy=t,t._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};S1.invalidateDimensions=S1.resize;var Ey={collection:function(e,t){return Ct(e)?this.$(e):Ei(e)?e.collection():_n(e)?(t||(t={}),new qr(this,e,t.unique,t.removed)):new qr(this)},nodes:function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Ey.elements=Ey.filter=Ey.$;var oa={},ag="t",YL="f";oa.apply=function(n){for(var e=this,t=e._private,r=t.cy,i=r.collection(),o=0;o<n.length;o++){var l=n[o],u=e.getContextMeta(l);if(!u.empty){var c=e.getContextStyle(u),f=e.applyContextStyle(u,c,l);l._private.appliedInitStyle?e.updateTransitions(l,f.diffProps):l._private.appliedInitStyle=!0;var v=e.updateStyleHints(l);v&&i.push(l)}}return i};oa.getPropertiesDiff=function(n,e){var t=this,r=t._private.propDiffs=t._private.propDiffs||{},i=n+"-"+e,o=r[i];if(o)return o;for(var l=[],u={},c=0;c<t.length;c++){var f=t[c],v=n[c]===ag,g=e[c]===ag,b=v!==g,y=f.mappedProperties.length>0;if(b||g&&y){var E=void 0;b&&y||b?E=f.properties:y&&(E=f.mappedProperties);for(var x=0;x<E.length;x++){for(var T=E[x],w=T.name,R=!1,A=c+1;A<t.length;A++){var O=t[A],B=e[A]===ag;if(B&&(R=O.properties[T.name]!=null,R))break}!u[w]&&!R&&(u[w]=!0,l.push(w))}}}return r[i]=l,l};oa.getContextMeta=function(n){for(var e=this,t="",r,i=n._private.styleCxtKey||"",o=0;o<e.length;o++){var l=e[o],u=l.selector&&l.selector.matches(n);u?t+=ag:t+=YL}return r=e.getPropertiesDiff(i,t),n._private.styleCxtKey=t,{key:t,diffPropNames:r,empty:r.length===0}};oa.getContextStyle=function(n){var e=n.key,t=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},o=0;o<t.length;o++){var l=t[o],u=e[o]===ag;if(u)for(var c=0;c<l.properties.length;c++){var f=l.properties[c];i[f.name]=f}}return r[e]=i,i};oa.applyContextStyle=function(n,e,t){for(var r=this,i=n.diffPropNames,o={},l=r.types,u=0;u<i.length;u++){var c=i[u],f=e[c],v=t.pstyle(c);if(!f)if(v)v.bypass?f={name:c,deleteBypassed:!0}:f={name:c,delete:!0};else continue;if(v!==f){if(f.mapped===l.fn&&v!=null&&v.mapping!=null&&v.mapping.value===f.value){var g=v.mapping,b=g.fnValue=f.value(t);if(b===g.prevFnValue)continue}var y=o[c]={prev:v};r.applyParsedProperty(t,f),y.next=t.pstyle(c),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:o}};oa.updateStyleHints=function(n){var e=n._private,t=this,r=t.propertyGroupNames,i=t.propertyGroupKeys,o=function(le,me,_e){return t.getPropertiesHash(le,me,_e)},l=e.styleKey;if(n.removed())return!1;var u=e.group==="nodes",c=n._private.style;r=Object.keys(c);for(var f=0;f<i.length;f++){var v=i[f];e.styleKeys[v]=[hd,jv]}for(var g=function(le,me){return e.styleKeys[me][0]=gg(le,e.styleKeys[me][0])},b=function(le,me){return e.styleKeys[me][1]=pg(le,e.styleKeys[me][1])},y=function(le,me){g(le,me),b(le,me)},E=function(le,me){for(var _e=0;_e<le.length;_e++){var Ae=le.charCodeAt(_e);g(Ae,me),b(Ae,me)}},x=2e9,T=function(le){return-128<le&&le<128&&Math.floor(le)!==le?x-(le*1024|0):le},w=0;w<r.length;w++){var R=r[w],A=c[R];if(A!=null){var O=this.properties[R],B=O.type,z=O.groupKey,N=void 0;O.hashOverride!=null?N=O.hashOverride(n,A):A.pfValue!=null&&(N=A.pfValue);var U=O.enums==null?A.value:null,F=N!=null,V=U!=null,Y=F||V,H=A.units;if(B.number&&Y&&!B.multiple){var $=F?N:U;y(T($),z),!F&&H!=null&&E(H,z)}else E(A.strValue,z)}}for(var D=[hd,jv],_=0;_<i.length;_++){var I=i[_],L=e.styleKeys[I];D[0]=gg(L[0],D[0]),D[1]=pg(L[1],D[1])}e.styleKey=QM(D[0],D[1]);var k=e.styleKeys;e.labelDimsKey=Ul(k.labelDimensions);var K=o(n,["label"],k.labelDimensions);if(e.labelKey=Ul(K),e.labelStyleKey=Ul(Xm(k.commonLabel,K)),!u){var G=o(n,["source-label"],k.labelDimensions);e.sourceLabelKey=Ul(G),e.sourceLabelStyleKey=Ul(Xm(k.commonLabel,G));var X=o(n,["target-label"],k.labelDimensions);e.targetLabelKey=Ul(X),e.targetLabelStyleKey=Ul(Xm(k.commonLabel,X))}if(u){var Z=e.styleKeys,J=Z.nodeBody,re=Z.nodeBorder,ie=Z.nodeOutline,oe=Z.backgroundImage,he=Z.compound,se=Z.pie,te=[J,re,ie,oe,he,se].filter(function(ae){return ae!=null}).reduce(Xm,[hd,jv]);e.nodeKey=Ul(te),e.hasPie=se!=null&&se[0]!==hd&&se[1]!==jv}return l!==e.styleKey};oa.clearStyleHints=function(n){var e=n._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};oa.applyParsedProperty=function(n,e){var t=this,r=e,i=n._private.style,o,l=t.types,u=t.properties[r.name].type,c=r.bypass,f=i[r.name],v=f&&f.bypass,g=n._private,b="mapping",y=function(J){return J==null?null:J.pfValue!=null?J.pfValue:J.value},E=function(){var J=y(f),re=y(r);t.checkTriggers(n,r.name,J,re)};if(e.name==="curve-style"&&n.isEdge()&&(e.value!=="bezier"&&n.isLoop()||e.value==="haystack"&&(n.source().isParent()||n.target().isParent()))&&(r=e=this.parse(e.name,"bezier",c)),r.delete)return i[r.name]=void 0,E(),!0;if(r.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,E(),!0):!1:(E(),!0);if(r.deleteBypass)return f?f.bypass?(i[r.name]=f.bypassed,E(),!0):!1:(E(),!0);var x=function(){On("Do not assign mappings to elements without corresponding data (i.e. ele `"+n.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case l.mapData:{for(var T=r.field.split("."),w=g.data,R=0;R<T.length&&w;R++){var A=T[R];w=w[A]}if(w==null)return x(),!1;var O;if(lt(w)){var B=r.fieldMax-r.fieldMin;B===0?O=0:O=(w-r.fieldMin)/B}else return On("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+w+"` for `"+n.id()+"` is non-numeric)"),!1;if(O<0?O=0:O>1&&(O=1),u.color){var z=r.valueMin[0],N=r.valueMax[0],U=r.valueMin[1],F=r.valueMax[1],V=r.valueMin[2],Y=r.valueMax[2],H=r.valueMin[3]==null?1:r.valueMin[3],$=r.valueMax[3]==null?1:r.valueMax[3],D=[Math.round(z+(N-z)*O),Math.round(U+(F-U)*O),Math.round(V+(Y-V)*O),Math.round(H+($-H)*O)];o={bypass:r.bypass,name:r.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else if(u.number){var _=r.valueMin+(r.valueMax-r.valueMin)*O;o=this.parse(r.name,_,r.bypass,b)}else return!1;if(!o)return x(),!1;o.mapping=r,r=o;break}case l.data:{for(var I=r.field.split("."),L=g.data,k=0;k<I.length&&L;k++){var K=I[k];L=L[K]}if(L!=null&&(o=this.parse(r.name,L,r.bypass,b)),!o)return x(),!1;o.mapping=r,r=o;break}case l.fn:{var G=r.value,X=r.fnValue!=null?r.fnValue:G(n);if(r.prevFnValue=X,X==null)return On("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+n.id()+"` is null)"),!1;if(o=this.parse(r.name,X,r.bypass,b),!o)return On("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+n.id()+"` is invalid)"),!1;o.mapping=is(r),r=o;break}case void 0:break;default:return!1}return c?(v?r.bypassed=f.bypassed:r.bypassed=f,i[r.name]=r):v?f.bypassed=r:i[r.name]=r,E(),!0};oa.cleanElements=function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!e)r._private.style={};else for(var i=r._private.style,o=Object.keys(i),l=0;l<o.length;l++){var u=o[l],c=i[u];c!=null&&(c.bypass?c.bypassed=null:i[u]=null)}}};oa.update=function(){var n=this._private.cy,e=n.mutableElements();e.updateStyle()};oa.updateTransitions=function(n,e){var t=this,r=n._private,i=n.pstyle("transition-property").value,o=n.pstyle("transition-duration").pfValue,l=n.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var u={},c=!1,f=0;f<i.length;f++){var v=i[f],g=n.pstyle(v),b=e[v];if(b){var y=b.prev,E=y,x=b.next!=null?b.next:g,T=!1,w=void 0,R=1e-6;E&&(lt(E.pfValue)&&lt(x.pfValue)?(T=x.pfValue-E.pfValue,w=E.pfValue+R*T):lt(E.value)&&lt(x.value)?(T=x.value-E.value,w=E.value+R*T):_n(E.value)&&_n(x.value)&&(T=E.value[0]!==x.value[0]||E.value[1]!==x.value[1]||E.value[2]!==x.value[2],w=E.strValue),T&&(u[v]=x.strValue,this.applyBypass(n,v,w),c=!0))}}if(!c)return;r.transitioning=!0,new Nd(function(A){l>0?n.delayAnimation(l).play().promise().then(A):A()}).then(function(){return n.animation({style:u,duration:o,easing:n.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(n,i),n.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(n,i),n.emitAndNotify("style"),r.transitioning=!1)};oa.checkTrigger=function(n,e,t,r,i,o){var l=this.properties[e],u=i(l);u!=null&&u(t,r)&&o(l)};oa.checkZOrderTrigger=function(n,e,t,r){var i=this;this.checkTrigger(n,e,t,r,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",n)})};oa.checkBoundsTrigger=function(n,e,t,r){this.checkTrigger(n,e,t,r,function(i){return i.triggersBounds},function(i){n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(t==="bezier"||r==="bezier")&&n.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(t==="none"||r==="none")&&n.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};oa.checkTriggers=function(n,e,t,r){n.dirtyStyleCache(),this.checkZOrderTrigger(n,e,t,r),this.checkBoundsTrigger(n,e,t,r)};var Pg={};Pg.applyBypass=function(n,e,t,r){var i=this,o=[],l=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var u=0;u<i.properties.length;u++){var c=i.properties[u],f=c.name,v=this.parse(f,t,!0);v&&o.push(v)}}else if(Ct(e)){var g=this.parse(e,t,!0);g&&o.push(g)}else if(mn(e)){var b=e;r=t;for(var y=Object.keys(b),E=0;E<y.length;E++){var x=y[E],T=b[x];if(T===void 0&&(T=b[Ky(x)]),T!==void 0){var w=this.parse(x,T,!0);w&&o.push(w)}}}else return!1;if(o.length===0)return!1;for(var R=!1,A=0;A<n.length;A++){for(var O=n[A],B={},z=void 0,N=0;N<o.length;N++){var U=o[N];if(r){var F=O.pstyle(U.name);z=B[U.name]={prev:F}}R=this.applyParsedProperty(O,is(U))||R,r&&(z.next=O.pstyle(U.name))}R&&this.updateStyleHints(O),r&&this.updateTransitions(O,B,l)}return R};Pg.overrideBypass=function(n,e,t){e=W1(e);for(var r=0;r<n.length;r++){var i=n[r],o=i._private.style[e],l=this.properties[e].type,u=l.color,c=l.mutiple,f=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,t):(o.value=t,o.pfValue!=null&&(o.pfValue=t),u?o.strValue="rgb("+t.join(",")+")":c?o.strValue=t.join(" "):o.strValue=""+t,this.updateStyleHints(i)),this.checkTriggers(i,e,f,t)}};Pg.removeAllBypasses=function(n,e){return this.removeBypasses(n,this.propertyNames,e)};Pg.removeBypasses=function(n,e,t){for(var r=!0,i=0;i<n.length;i++){for(var o=n[i],l={},u=0;u<e.length;u++){var c=e[u],f=this.properties[c],v=o.pstyle(f.name);if(!(!v||!v.bypass)){var g="",b=this.parse(c,g,!0),y=l[f.name]={prev:v};this.applyParsedProperty(o,b),y.next=o.pstyle(f.name)}}this.updateStyleHints(o),t&&this.updateTransitions(o,l,r)}};var sE={};sE.getEmSizeInPixels=function(){var n=this.containerCss("font-size");return n!=null?parseFloat(n):1};sE.containerCss=function(n){var e=this._private.cy,t=e.container(),r=e.window();if(r&&t&&r.getComputedStyle)return r.getComputedStyle(t).getPropertyValue(n)};var us={};us.getRenderedStyle=function(n,e){return e?this.getStylePropertyValue(n,e,!0):this.getRawStyle(n,!0)};us.getRawStyle=function(n,e){var t=this;if(n=n[0],n){for(var r={},i=0;i<t.properties.length;i++){var o=t.properties[i],l=t.getStylePropertyValue(n,o.name,e);l!=null&&(r[o.name]=l,r[Ky(o.name)]=l)}return r}};us.getIndexedStyle=function(n,e,t,r){var i=n.pstyle(e)[t][r];return i??n.cy().style().getDefaultProperty(e)[t][0]};us.getStylePropertyValue=function(n,e,t){var r=this;if(n=n[0],n){var i=r.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,l=n.pstyle(i.name);if(l){var u=l.value,c=l.units,f=l.strValue;if(t&&o.number&&u!=null&&lt(u)){var v=n.cy().zoom(),g=function(T){return T*v},b=function(T,w){return g(T)+w},y=_n(u),E=y?c.every(function(x){return x!=null}):c!=null;return E?y?u.map(function(x,T){return b(x,c[T])}).join(" "):b(u,c):y?u.map(function(x){return Ct(x)?x:""+g(x)}).join(" "):""+g(u)}else if(f!=null)return f}return null}};us.getAnimationStartStyle=function(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],o=i.name,l=n.pstyle(o);l!==void 0&&(mn(l)?l=this.parse(o,l.strValue):l=this.parse(o,l)),l&&(t[o]=l)}return t};us.getPropsList=function(n){var e=this,t=[],r=n,i=e.properties;if(r)for(var o=Object.keys(r),l=0;l<o.length;l++){var u=o[l],c=r[u],f=i[u]||i[W1(u)],v=this.parse(f.name,c);v&&t.push(v)}return t};us.getNonDefaultPropertiesHash=function(n,e,t){var r=t.slice(),i,o,l,u,c,f;for(c=0;c<e.length;c++)if(i=e[c],o=n.pstyle(i,!1),o!=null)if(o.pfValue!=null)r[0]=gg(u,r[0]),r[1]=pg(u,r[1]);else for(l=o.strValue,f=0;f<l.length;f++)u=l.charCodeAt(f),r[0]=gg(u,r[0]),r[1]=pg(u,r[1]);return r};us.getPropertiesHash=us.getNonDefaultPropertiesHash;var s0={};s0.appendFromJson=function(n){for(var e=this,t=0;t<n.length;t++){var r=n[t],i=r.selector,o=r.style||r.css,l=Object.keys(o);e.selector(i);for(var u=0;u<l.length;u++){var c=l[u],f=o[c];e.css(c,f)}}return e};s0.fromJson=function(n){var e=this;return e.resetToDefault(),e.appendFromJson(n),e};s0.json=function(){for(var n=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],r=t.selector,i=t.properties,o={},l=0;l<i.length;l++){var u=i[l];o[u.name]=u.strValue}n.push({selector:r?r.toString():"core",style:o})}return n};var lE={};lE.appendFromString=function(n){var e=this,t=this,r=""+n,i,o,l;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){r.length>i.length?r=r.substr(i.length):r=""}function c(){o.length>l.length?o=o.substr(l.length):o=""}for(;;){var f=r.match(/^\s*$/);if(f)break;var v=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){On("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=v[0];var g=v[1];if(g!=="core"){var b=new eu(g);if(b.invalid){On("Skipping parsing of block: Invalid selector found in string stylesheet: "+g),u();continue}}var y=v[2],E=!1;o=y;for(var x=[];;){var T=o.match(/^\s*$/);if(T)break;var w=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!w){On("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),E=!0;break}l=w[0];var R=w[1],A=w[2],O=e.properties[R];if(!O){On("Skipping property: Invalid property name in: "+l),c();continue}var B=t.parse(R,A);if(!B){On("Skipping property: Invalid property definition in: "+l),c();continue}x.push({name:R,val:A}),c()}if(E){u();break}t.selector(g);for(var z=0;z<x.length;z++){var N=x[z];t.css(N.name,N.val)}u()}return t};lE.fromString=function(n){var e=this;return e.resetToDefault(),e.appendFromString(n),e};var Vr={};(function(){var n=wr,e=tM,t=rM,r=aM,i=iM,o=function(te){return"^"+te+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(te){var ae=n+"|\\w+|"+e+"|"+t+"|"+r+"|"+i;return"^"+te+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+ae+")\\s*\\,\\s*("+ae+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Vr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(te,ae){switch(te.length){case 2:return ae[0]!=="deg"&&ae[0]!=="rad"&&ae[1]!=="deg"&&ae[1]!=="rad";case 1:return Ct(te[0])||ae[0]==="deg"||ae[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(te){var ae=te.length;return ae===1||ae===2||ae===4}}};var c={zeroNonZero:function(te,ae){return(te==null||ae==null)&&te!==ae||te==0&&ae!=0?!0:te!=0&&ae==0},any:function(te,ae){return te!=ae},emptyNonEmpty:function(te,ae){var le=Ql(te),me=Ql(ae);return le&&!me||!le&&me}},f=Vr.types,v=[{name:"label",type:f.text,triggersBounds:c.any,triggersZOrder:c.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:c.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:c.any}],g=[{name:"source-label",type:f.text,triggersBounds:c.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:c.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:c.any},{name:"source-text-offset",type:f.size,triggersBounds:c.any}],b=[{name:"target-label",type:f.text,triggersBounds:c.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:c.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:c.any},{name:"target-text-offset",type:f.size,triggersBounds:c.any}],y=[{name:"font-family",type:f.fontFamily,triggersBounds:c.any},{name:"font-style",type:f.fontStyle,triggersBounds:c.any},{name:"font-weight",type:f.fontWeight,triggersBounds:c.any},{name:"font-size",type:f.size,triggersBounds:c.any},{name:"text-transform",type:f.textTransform,triggersBounds:c.any},{name:"text-wrap",type:f.textWrap,triggersBounds:c.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:c.any},{name:"text-max-width",type:f.size,triggersBounds:c.any},{name:"text-outline-width",type:f.size,triggersBounds:c.any},{name:"line-height",type:f.positiveNumber,triggersBounds:c.any}],E=[{name:"text-valign",type:f.valign,triggersBounds:c.any},{name:"text-halign",type:f.halign,triggersBounds:c.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:c.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:c.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:c.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:c.any},{name:"text-justification",type:f.justification}],x=[{name:"events",type:f.bool,triggersZOrder:c.any},{name:"text-events",type:f.bool,triggersZOrder:c.any}],T=[{name:"display",type:f.display,triggersZOrder:c.any,triggersBounds:c.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:f.visibility,triggersZOrder:c.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:c.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:c.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:c.any},{name:"z-index",type:f.number,triggersZOrder:c.any}],w=[{name:"overlay-padding",type:f.size,triggersBounds:c.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:c.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:c.any},{name:"overlay-corner-radius",type:f.cornerRadius}],R=[{name:"underlay-padding",type:f.size,triggersBounds:c.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:c.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:c.any},{name:"underlay-corner-radius",type:f.cornerRadius}],A=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],O=function(te,ae){return ae.value==="label"?-te.poolIndex():ae.pfValue},B=[{name:"height",type:f.nodeSize,triggersBounds:c.any,hashOverride:O},{name:"width",type:f.nodeSize,triggersBounds:c.any,hashOverride:O},{name:"shape",type:f.nodeShape,triggersBounds:c.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:c.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:c.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:c.any}],z=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:c.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],N=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:c.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:c.any}],U=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],F=[{name:"position",type:f.position,triggersBounds:c.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:c.any},{name:"min-width",type:f.size,triggersBounds:c.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"min-height",type:f.size,triggersBounds:c.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:c.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:c.any}],V=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:c.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:c.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:c.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:c.any},{name:"control-point-step-size",type:f.size,triggersBounds:c.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:c.any},{name:"control-point-weights",type:f.numbers,triggersBounds:c.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:c.any},{name:"segment-weights",type:f.numbers,triggersBounds:c.any},{name:"segment-radii",type:f.numbers,triggersBounds:c.any},{name:"radius-type",type:f.radiusType,triggersBounds:c.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:c.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:c.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:c.any},{name:"taxi-radius",type:f.number,triggersBounds:c.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:c.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:c.any},{name:"loop-direction",type:f.angle,triggersBounds:c.any},{name:"loop-sweep",type:f.angle,triggersBounds:c.any},{name:"source-distance-from-node",type:f.size,triggersBounds:c.any},{name:"target-distance-from-node",type:f.size,triggersBounds:c.any}],Y=[{name:"ghost",type:f.bool,triggersBounds:c.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:c.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:c.any},{name:"ghost-opacity",type:f.zeroOneNumber}],H=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],$=[];Vr.pieBackgroundN=16,$.push({name:"pie-size",type:f.sizeMaybePercent});for(var D=1;D<=Vr.pieBackgroundN;D++)$.push({name:"pie-"+D+"-background-color",type:f.color}),$.push({name:"pie-"+D+"-background-size",type:f.percent}),$.push({name:"pie-"+D+"-background-opacity",type:f.zeroOneNumber});var _=[],I=Vr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:c.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(se){I.forEach(function(te){var ae=te+"-"+se.name,le=se.type,me=se.triggersBounds;_.push({name:ae,type:le,triggersBounds:me})})},{});var L=Vr.properties=[].concat(x,A,T,w,R,Y,E,y,v,g,b,B,z,N,U,$,F,V,_,H),k=Vr.propertyGroups={behavior:x,transition:A,visibility:T,overlay:w,underlay:R,ghost:Y,commonLabel:E,labelDimensions:y,mainLabel:v,sourceLabel:g,targetLabel:b,nodeBody:B,nodeBorder:z,nodeOutline:N,backgroundImage:U,pie:$,compound:F,edgeLine:V,edgeArrow:_,core:H},K=Vr.propertyGroupNames={},G=Vr.propertyGroupKeys=Object.keys(k);G.forEach(function(se){K[se]=k[se].map(function(te){return te.name}),k[se].forEach(function(te){return te.groupKey=se})});var X=Vr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Vr.propertyNames=L.map(function(se){return se.name});for(var Z=0;Z<L.length;Z++){var J=L[Z];L[J.name]=J}for(var re=0;re<X.length;re++){var ie=X[re],oe=L[ie.pointsTo],he={name:ie.name,alias:!0,pointsTo:oe};L.push(he),L[ie.name]=he}})();Vr.getDefaultProperty=function(n){return this.getDefaultProperties()[n]};Vr.getDefaultProperties=function(){var n=this._private;if(n.defaultProperties!=null)return n.defaultProperties;for(var e=Lt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(c,f){for(var v=1;v<=Vr.pieBackgroundN;v++){var g=f.name.replace("{{i}}",v),b=f.value;c[g]=b}return c},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(c,f){return Vr.arrowPrefixes.forEach(function(v){var g=v+"-"+f.name,b=f.value;c[g]=b}),c},{})),t={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,l=e[o],u=this.parse(o,l);t[o]=u}}return n.defaultProperties=t,n.defaultProperties};Vr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var l0={};l0.parse=function(n,e,t,r){var i=this;if(rr(e))return i.parseImplWarn(n,e,t,r);var o=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,l=t?"t":"f",u=""+e,c=HS(n,u,l,o),f=i.propCache=i.propCache||[],v;return(v=f[c])||(v=f[c]=i.parseImplWarn(n,e,t,r)),(t||r==="mapping")&&(v=is(v),v&&(v.value=is(v.value))),v};l0.parseImplWarn=function(n,e,t,r){var i=this.parseImpl(n,e,t,r);return!i&&e!=null&&On("The style property `".concat(n,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&On("The style value of `label` is deprecated for `"+i.name+"`"),i};l0.parseImpl=function(n,e,t,r){var i=this;n=W1(n);var o=i.properties[n],l=e,u=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,n=o.name);var c=Ct(e);c&&(e=e.trim());var f=o.type;if(!f)return null;if(t&&(e===""||e===null))return{name:n,value:e,bypass:!0,deleteBypass:!0};if(rr(e))return{name:n,value:e,strValue:"fn",mapped:u.fn,bypass:t};var v,g;if(!(!c||r||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(u.data.regex).exec(e))){if(t)return!1;var b=u.data;return{name:n,value:v,strValue:""+e,mapped:b,field:v[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(g=new RegExp(u.mapData.regex).exec(e))){if(t||f.multiple)return!1;var y=u.mapData;if(!(f.color||f.number))return!1;var E=this.parse(n,g[4]);if(!E||E.mapped)return!1;var x=this.parse(n,g[5]);if(!x||x.mapped)return!1;if(E.pfValue===x.pfValue||E.strValue===x.strValue)return On("`"+n+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+n+": "+E.strValue+"`"),this.parse(n,E.strValue);if(f.color){var T=E.value,w=x.value,R=T[0]===w[0]&&T[1]===w[1]&&T[2]===w[2]&&(T[3]===w[3]||(T[3]==null||T[3]===1)&&(w[3]==null||w[3]===1));if(R)return!1}return{name:n,value:g,strValue:""+e,mapped:y,field:g[1],fieldMin:parseFloat(g[2]),fieldMax:parseFloat(g[3]),valueMin:E.value,valueMax:x.value,bypass:t}}}if(f.multiple&&r!=="multiple"){var A;if(c?A=e.split(/\s+/):_n(e)?A=e:A=[e],f.evenMultiple&&A.length%2!==0)return null;for(var O=[],B=[],z=[],N="",U=!1,F=0;F<A.length;F++){var V=i.parse(n,A[F],t,"multiple");U=U||Ct(V.value),O.push(V.value),z.push(V.pfValue!=null?V.pfValue:V.value),B.push(V.units),N+=(F>0?" ":"")+V.strValue}return f.validate&&!f.validate(O,B)?null:f.singleEnum&&U?O.length===1&&Ct(O[0])?{name:n,value:O[0],strValue:O[0],bypass:t}:null:{name:n,value:O,pfValue:z,strValue:N,bypass:t,units:B}}var Y=function(){for(var te=0;te<f.enums.length;te++){var ae=f.enums[te];if(ae===e)return{name:n,value:e,strValue:""+e,bypass:t}}return null};if(f.number){var H,$="px";if(f.units&&(H=f.units),f.implicitUnits&&($=f.implicitUnits),!f.unitless)if(c){var D="px|em"+(f.allowPercent?"|\\%":"");H&&(D=H);var _=e.match("^("+wr+")("+D+")?$");_&&(e=_[1],H=_[2]||$)}else(!H||f.implicitUnits)&&(H=$);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=l,Y();if(f.integer&&!$R(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var I={name:n,value:e,strValue:""+e+(H||""),units:H,bypass:t};return f.unitless||H!=="px"&&H!=="em"?I.pfValue=e:I.pfValue=H==="px"||!H?e:this.getEmSizeInPixels()*e,(H==="ms"||H==="s")&&(I.pfValue=H==="ms"?e:1e3*e),(H==="deg"||H==="rad")&&(I.pfValue=H==="rad"?e:RO(e)),H==="%"&&(I.pfValue=e/100),I}else if(f.propList){var L=[],k=""+e;if(k!=="none"){for(var K=k.split(/\s*,\s*|\s+/),G=0;G<K.length;G++){var X=K[G].trim();i.properties[X]?L.push(X):On("`"+X+"` is not a valid property name")}if(L.length===0)return null}return{name:n,value:L,strValue:L.length===0?"none":L.join(" "),bypass:t}}else if(f.color){var Z=BS(e);return Z?{name:n,value:Z,pfValue:Z,strValue:"rgb("+Z[0]+","+Z[1]+","+Z[2]+")",bypass:t}:null}else if(f.regex||f.regexes){if(f.enums){var J=Y();if(J)return J}for(var re=f.regexes?f.regexes:[f.regex],ie=0;ie<re.length;ie++){var oe=new RegExp(re[ie]),he=oe.exec(e);if(he)return{name:n,value:f.singleRegexMatchValue?he[1]:he,strValue:""+e,bypass:t}}return null}else return f.string?{name:n,value:""+e,strValue:""+e,bypass:t}:f.enums?Y():null};var na=function n(e){if(!(this instanceof n))return new n(e);if(!X1(e)){nr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},aa=na.prototype;aa.instanceString=function(){return"style"};aa.clear=function(){for(var n=this._private,e=n.cy,t=e.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,n.contextStyles={},n.propDiffs={},this.cleanElements(t,!0),t.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};aa.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};aa.core=function(n){return this._private.coreStyle[n]||this.getDefaultProperty(n)};aa.selector=function(n){var e=n==="core"?null:new eu(n),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};aa.css=function(){var n=this,e=arguments;if(e.length===1)for(var t=e[0],r=0;r<n.properties.length;r++){var i=n.properties[r],o=t[i.name];o===void 0&&(o=t[Ky(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};aa.style=aa.css;aa.cssRule=function(n,e){var t=this.parse(n,e);if(t){var r=this.length-1;this[r].properties.push(t),this[r].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[r].mappedProperties.push(t);var i=!this[r].selector;i&&(this._private.coreStyle[t.name]=t)}return this};aa.append=function(n){return NS(n)?n.appendToStyle(this):_n(n)?this.appendFromJson(n):Ct(n)&&this.appendFromString(n),this};na.fromJson=function(n,e){var t=new na(n);return t.fromJson(e),t};na.fromString=function(n,e){return new na(n).fromString(e)};[oa,Pg,sE,us,s0,lE,Vr,l0].forEach(function(n){Lt(aa,n)});na.types=aa.types;na.properties=aa.properties;na.propertyGroups=aa.propertyGroups;na.propertyGroupNames=aa.propertyGroupNames;na.propertyGroupKeys=aa.propertyGroupKeys;var qL={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return NS(e)?t.style=e.generateStyle(this):_n(e)?t.style=na.fromJson(this,e):Ct(e)?t.style=na.fromString(this,e):t.style=na(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},XL="single",Bf={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=XL),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,r,i,o,l,u;switch(e.length){case 0:return t;case 1:if(Ct(e[0]))return r=e[0],t[r];if(mn(e[0])){if(!this._private.panningEnabled)return this;o=e[0],l=o.x,u=o.y,lt(l)&&(t.x=l),lt(u)&&(t.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&lt(i)&&(t[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var r=arguments,i=this._private.pan,o,l,u,c,f;if(!this._private.panningEnabled)return this;switch(r.length){case 1:mn(e)&&(u=r[0],c=u.x,f=u.y,lt(c)&&(i.x+=c),lt(f)&&(i.y+=f),this.emit("pan viewport"));break;case 2:o=e,l=t,(o==="x"||o==="y")&&lt(l)&&(i[o]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(lt(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(Ct(e)){var i=e;e=this.$(i)}else if(QR(e)){var o=e;r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else Ei(e)||(e=this.mutableElements());if(!(Ei(e)&&e.empty())){r=r||e.boundingBox();var l=this.width(),u=this.height(),c;if(t=lt(t)?t:0,!isNaN(l)&&!isNaN(u)&&l>0&&u>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){c=Math.min((l-2*t)/r.w,(u-2*t)/r.h),c=c>this._private.maxZoom?this._private.maxZoom:c,c=c<this._private.minZoom?this._private.minZoom:c;var f={x:(l-c*(r.x1+r.x2))/2,y:(u-c*(r.y1+r.y2))/2};return{zoom:c,pan:f}}}}},zoomRange:function(e,t){var r=this._private;if(t==null){var i=e;e=i.min,t=i.max}return lt(e)&&lt(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):lt(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:lt(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,r=t.pan,i=t.zoom,o,l,u=!1;if(t.zoomingEnabled||(u=!0),lt(e)?l=e:mn(e)&&(l=e.level,e.position!=null?o=Jy(e.position,i,r):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!t.panningEnabled&&(u=!0)),l=l>t.maxZoom?t.maxZoom:l,l=l<t.minZoom?t.minZoom:l,u||!lt(l)||l===i||o!=null&&(!lt(o.x)||!lt(o.y)))return null;if(o!=null){var c=r,f=i,v=l,g={x:-v/f*(o.x-c.x)+o.x,y:-v/f*(o.y-c.y)+o.y};return{zoomed:!0,panned:!0,zoom:v,pan:g}}else return{zoomed:!0,panned:!1,zoom:l,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,r=!0,i=!0,o=[],l=!1,u=!1;if(!e)return this;if(lt(e.zoom)||(r=!1),mn(e.pan)||(i=!1),!r&&!i)return this;if(r){var c=e.zoom;c<t.minZoom||c>t.maxZoom||!t.zoomingEnabled?l=!0:(t.zoom=c,o.push("zoom"))}if(i&&(!l||!e.cancelOnFailedZoom)&&t.panningEnabled){var f=e.pan;lt(f.x)&&(t.pan.x=f.x,u=!1),lt(f.y)&&(t.pan.y=f.y,u=!1),u||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(Ct(e)){var r=e;e=this.mutableElements().filter(r)}else Ei(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),l=this.height();t=t===void 0?this._private.zoom:t;var u={x:(o-t*(i.x1+i.x2))/2,y:(l-t*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?function(){var i=r.window().getComputedStyle(t),o=function(u){return parseFloat(i.getPropertyValue(u))};return{width:t.clientWidth-o("padding-left")-o("padding-right"),height:t.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Bf.centre=Bf.center;Bf.autolockNodes=Bf.autolock;Bf.autoungrabifyNodes=Bf.autoungrabify;var Sg={data:Mn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Mn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Mn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Mn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Sg.attr=Sg.data;Sg.removeAttr=Sg.removeData;var xg=function(e){var t=this;e=Lt({},e);var r=e.container;r&&!Oy(r)&&Oy(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=t;var l=Er!==void 0&&r!==void 0&&!e.headless,u=e;u.layout=Lt({name:l?"grid":"null"},u.layout),u.renderer=Lt({name:l?"canvas":"null"},u.renderer);var c=function(E,x,T){return x!==void 0?x:T!==void 0?T:E},f=this._private={container:r,ready:!1,options:u,elements:new qr(this),listeners:[],aniEles:new qr(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,u.zoomingEnabled),userZoomingEnabled:c(!0,u.userZoomingEnabled),panningEnabled:c(!0,u.panningEnabled),userPanningEnabled:c(!0,u.userPanningEnabled),boxSelectionEnabled:c(!0,u.boxSelectionEnabled),autolock:c(!1,u.autolock,u.autolockNodes),autoungrabify:c(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:c(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?l:u.styleEnabled,zoom:lt(u.zoom)?u.zoom:1,pan:{x:mn(u.pan)&&lt(u.pan.x)?u.pan.x:0,y:mn(u.pan)&&lt(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:c(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var v=function(E,x){var T=E.some(JR);if(T)return Nd.all(E).then(x);x(E)};f.styleEnabled&&t.setStyle([]);var g=Lt({},u,u.renderer);t.initRenderer(g);var b=function(E,x,T){t.notifications(!1);var w=t.mutableElements();w.length>0&&w.remove(),E!=null&&(mn(E)||_n(E))&&t.add(E),t.one("layoutready",function(A){t.notifications(!0),t.emit(A),t.one("load",x),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",T),t.emit("done")});var R=Lt({},t._private.options.layout);R.eles=t.elements(),t.layout(R).run()};v([u.style,u.elements],function(y){var E=y[0],x=y[1];f.styleEnabled&&t.style().append(E),b(x,function(){t.startAnimationLoop(),f.ready=!0,rr(u.ready)&&t.on("ready",u.ready);for(var T=0;T<o.length;T++){var w=o[T];t.on("ready",w)}i&&(i.readies=[]),t.emit("ready")},u.done)})},Py=xg.prototype;Lt(Py,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Er;var t=this._private.container.ownerDocument;return t===void 0||t==null?Er:t.defaultView||Er},mount:function(e){if(e!=null){var t=this,r=t._private,i=r.options;return!Oy(e)&&Oy(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Lt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return is(this._private.options)},json:function(e){var t=this,r=t._private,i=t.mutableElements(),o=function(O){return t.getElementById(O.id())};if(mn(e)){if(t.startBatch(),e.elements){var l={},u=function(O,B){for(var z=[],N=[],U=0;U<O.length;U++){var F=O[U];if(!F.data.id){On("cy.json() cannot handle elements without an ID attribute");continue}var V=""+F.data.id,Y=t.getElementById(V);l[V]=!0,Y.length!==0?N.push({ele:Y,json:F}):(B&&(F.group=B),z.push(F))}t.add(z);for(var H=0;H<N.length;H++){var $=N[H],D=$.ele,_=$.json;D.json(_)}};if(_n(e.elements))u(e.elements);else for(var c=["nodes","edges"],f=0;f<c.length;f++){var v=c[f],g=e.elements[v];_n(g)&&u(g,v)}var b=t.collection();i.filter(function(A){return!l[A.id()]}).forEach(function(A){A.isParent()?b.merge(A):A.remove()}),b.forEach(function(A){return A.children().move({parent:null})}),b.forEach(function(A){return o(A).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],E=0;E<y.length;E++){var x=y[E];e[x]!=null&&t[x](e[x])}return t.endBatch(),this}else{var T=!!e,w={};T?w.elements=this.elements().map(function(A){return A.json()}):(w.elements={},i.forEach(function(A){var O=A.group();w.elements[O]||(w.elements[O]=[]),w.elements[O].push(A.json())})),this._private.styleEnabled&&(w.style=t.style().json()),w.data=is(t.data());var R=r.options;return w.zoomingEnabled=r.zoomingEnabled,w.userZoomingEnabled=r.userZoomingEnabled,w.zoom=r.zoom,w.minZoom=r.minZoom,w.maxZoom=r.maxZoom,w.panningEnabled=r.panningEnabled,w.userPanningEnabled=r.userPanningEnabled,w.pan=is(r.pan),w.boxSelectionEnabled=r.boxSelectionEnabled,w.renderer=is(R.renderer),w.hideEdgesOnViewport=R.hideEdgesOnViewport,w.textureOnViewport=R.textureOnViewport,w.wheelSensitivity=R.wheelSensitivity,w.motionBlur=R.motionBlur,w.multiClickDebounceTime=R.multiClickDebounceTime,w}}});Py.$id=Py.getElementById;[_L,zL,Ix,T1,by,HL,S1,Ey,qL,Bf,Sg].forEach(function(n){Lt(Py,n)});var WL={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},$L={maximal:!1,acyclic:!1},od=function(e){return e.scratch("breadthfirst")},Ww=function(e,t){return e.scratch("breadthfirst",t)};function Bx(n){this.options=Lt({},WL,$L,n)}Bx.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,r=t.nodes().filter(function(Pe){return Pe.isChildless()}),i=t,o=n.directed,l=n.acyclic||n.maximal||n.maximalAdjustments>0,u=!!n.boundingBox,c=e.extent(),f=Qa(u?n.boundingBox:{x1:c.x1,y1:c.y1,w:c.w,h:c.h}),v;if(Ei(n.roots))v=n.roots;else if(_n(n.roots)){for(var g=[],b=0;b<n.roots.length;b++){var y=n.roots[b],E=e.getElementById(y);g.push(E)}v=e.collection(g)}else if(Ct(n.roots))v=e.$(n.roots);else if(o)v=r.roots();else{var x=t.components();v=e.collection();for(var T=function(Ve){var Ke=x[Ve],Qe=Ke.maxDegree(!1),at=Ke.filter(function(tt){return tt.degree(!1)===Qe});v=v.add(at)},w=0;w<x.length;w++)T(w)}var R=[],A={},O=function(Ve,Ke){R[Ke]==null&&(R[Ke]=[]);var Qe=R[Ke].length;R[Ke].push(Ve),Ww(Ve,{index:Qe,depth:Ke})},B=function(Ve,Ke){var Qe=od(Ve),at=Qe.depth,tt=Qe.index;R[at][tt]=null,Ve.isChildless()&&O(Ve,Ke)};i.bfs({roots:v,directed:n.directed,visit:function(Ve,Ke,Qe,at,tt){var it=Ve[0],dt=it.id();it.isChildless()&&O(it,tt),A[dt]=!0}});for(var z=[],N=0;N<r.length;N++){var U=r[N];A[U.id()]||z.push(U)}var F=function(Ve){for(var Ke=R[Ve],Qe=0;Qe<Ke.length;Qe++){var at=Ke[Qe];if(at==null){Ke.splice(Qe,1),Qe--;continue}Ww(at,{depth:Ve,index:Qe})}},V=function(Ve,Ke){for(var Qe=od(Ve),at=Ve.incomers().filter(function(Le){return Le.isNode()&&t.has(Le)}),tt=-1,it=Ve.id(),dt=0;dt<at.length;dt++){var Oe=at[dt],j=od(Oe);tt=Math.max(tt,j.depth)}if(Qe.depth<=tt){if(!n.acyclic&&Ke[it])return null;var pe=tt+1;return B(Ve,pe),Ke[it]=pe,!0}return!1};if(o&&l){var Y=[],H={},$=function(Ve){return Y.push(Ve)},D=function(){return Y.shift()};for(r.forEach(function(Pe){return Y.push(Pe)});Y.length>0;){var _=D(),I=V(_,H);if(I)_.outgoers().filter(function(Pe){return Pe.isNode()&&t.has(Pe)}).forEach($);else if(I===null){On("Detected double maximal shift for node `"+_.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var L=0;if(n.avoidOverlap)for(var k=0;k<r.length;k++){var K=r[k],G=K.layoutDimensions(n),X=G.w,Z=G.h;L=Math.max(L,X,Z)}var J={},re=function(Ve){if(J[Ve.id()])return J[Ve.id()];for(var Ke=od(Ve).depth,Qe=Ve.neighborhood(),at=0,tt=0,it=0;it<Qe.length;it++){var dt=Qe[it];if(!(dt.isEdge()||dt.isParent()||!r.has(dt))){var Oe=od(dt);if(Oe!=null){var j=Oe.index,pe=Oe.depth;if(!(j==null||pe==null)){var Le=R[pe].length;pe<Ke&&(at+=j/Le,tt++)}}}}return tt=Math.max(1,tt),at=at/tt,tt===0&&(at=0),J[Ve.id()]=at,at},ie=function(Ve,Ke){var Qe=re(Ve),at=re(Ke),tt=Qe-at;return tt===0?IS(Ve.id(),Ke.id()):tt};n.depthSort!==void 0&&(ie=n.depthSort);for(var oe=R.length,he=0;he<oe;he++)R[he].sort(ie),F(he);for(var se=[],te=0;te<z.length;te++)se.push(z[te]);var ae=function(){for(var Ve=0;Ve<oe;Ve++)F(Ve)};se.length&&(R.unshift(se),oe=R.length,ae());for(var le=0,me=0;me<oe;me++)le=Math.max(R[me].length,le);var _e={x:f.x1+f.w/2,y:f.y1+f.h/2},Ae=r.reduce(function(Pe,Ve){return function(Ke){return{w:Pe.w===-1?Ke.w:(Pe.w+Ke.w)/2,h:Pe.h===-1?Ke.h:(Pe.h+Ke.h)/2}}(Ve.boundingBox({includeLabels:n.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),et=Math.max(oe===1?0:u?(f.h-n.padding*2-Ae.h)/(oe-1):(f.h-n.padding*2-Ae.h)/(oe+1),L),ot=R.reduce(function(Pe,Ve){return Math.max(Pe,Ve.length)},0),rt=function(Ve){var Ke=od(Ve),Qe=Ke.depth,at=Ke.index;if(n.circle){var tt=Math.min(f.w/2/oe,f.h/2/oe);tt=Math.max(tt,L);var it=tt*Qe+tt-(oe>0&&R[0].length<=3?tt/2:0),dt=2*Math.PI/R[Qe].length*at;return Qe===0&&R[0].length===1&&(it=1),{x:_e.x+it*Math.cos(dt),y:_e.y+it*Math.sin(dt)}}else{var Oe=R[Qe].length,j=Math.max(Oe===1?0:u?(f.w-n.padding*2-Ae.w)/((n.grid?ot:Oe)-1):(f.w-n.padding*2-Ae.w)/((n.grid?ot:Oe)+1),L),pe={x:_e.x+(at+1-(Oe+1)/2)*j,y:_e.y+(Qe+1-(oe+1)/2)*et};return pe}};return t.nodes().layoutPositions(this,n,rt),this};var KL={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function _x(n){this.options=Lt({},KL,n)}_x.prototype.run=function(){var n=this.options,e=n,t=n.cy,r=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=r.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var l=Qa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},c=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,f=c/Math.max(1,o.length-1),v,g=0,b=0;b<o.length;b++){var y=o[b],E=y.layoutDimensions(e),x=E.w,T=E.h;g=Math.max(g,x,T)}if(lt(e.radius)?v=e.radius:o.length<=1?v=0:v=Math.min(l.h,l.w)/2-g,o.length>1&&e.avoidOverlap){g*=1.75;var w=Math.cos(f)-Math.cos(0),R=Math.sin(f)-Math.sin(0),A=Math.sqrt(g*g/(w*w+R*R));v=Math.max(A,v)}var O=function(z,N){var U=e.startAngle+N*f*(i?1:-1),F=v*Math.cos(U),V=v*Math.sin(U),Y={x:u.x+F,y:u.y+V};return Y};return r.nodes().layoutPositions(this,e,O),this};var ZL={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Px(n){this.options=Lt({},ZL,n)}Px.prototype.run=function(){for(var n=this.options,e=n,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,r=n.cy,i=e.eles,o=i.nodes().not(":parent"),l=Qa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},c=[],f=0,v=0;v<o.length;v++){var g=o[v],b=void 0;b=e.concentric(g),c.push({value:b,node:g}),g._private.scratch.concentric=b}o.updateStyle();for(var y=0;y<o.length;y++){var E=o[y],x=E.layoutDimensions(e);f=Math.max(f,x.w,x.h)}c.sort(function(Ae,et){return et.value-Ae.value});for(var T=e.levelWidth(o),w=[[]],R=w[0],A=0;A<c.length;A++){var O=c[A];if(R.length>0){var B=Math.abs(R[0].value-O.value);B>=T&&(R=[],w.push(R))}R.push(O)}var z=f+e.minNodeSpacing;if(!e.avoidOverlap){var N=w.length>0&&w[0].length>1,U=Math.min(l.w,l.h)/2-z,F=U/(w.length+N?1:0);z=Math.min(z,F)}for(var V=0,Y=0;Y<w.length;Y++){var H=w[Y],$=e.sweep===void 0?2*Math.PI-2*Math.PI/H.length:e.sweep,D=H.dTheta=$/Math.max(1,H.length-1);if(H.length>1&&e.avoidOverlap){var _=Math.cos(D)-Math.cos(0),I=Math.sin(D)-Math.sin(0),L=Math.sqrt(z*z/(_*_+I*I));V=Math.max(L,V)}H.r=V,V+=z}if(e.equidistant){for(var k=0,K=0,G=0;G<w.length;G++){var X=w[G],Z=X.r-K;k=Math.max(k,Z)}K=0;for(var J=0;J<w.length;J++){var re=w[J];J===0&&(K=re.r),re.r=K,K+=k}}for(var ie={},oe=0;oe<w.length;oe++)for(var he=w[oe],se=he.dTheta,te=he.r,ae=0;ae<he.length;ae++){var le=he[ae],me=e.startAngle+(t?1:-1)*se*ae,_e={x:u.x+te*Math.cos(me),y:u.y+te*Math.sin(me)};ie[le.node.id()]=_e}return i.nodes().layoutPositions(this,e,function(Ae){var et=Ae.id();return ie[et]}),this};var Hb,QL={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function u0(n){this.options=Lt({},QL,n),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),r=t.filter(function(i){var o=i.source().data("id"),l=i.target().data("id"),u=e.some(function(f){return f.data("id")===o}),c=e.some(function(f){return f.data("id")===l});return!u||!c});this.options.eles=this.options.eles.not(r)}u0.prototype.run=function(){var n=this.options,e=n.cy,t=this;t.stopped=!1,(n.animate===!0||n.animate===!1)&&t.emit({type:"layoutstart",layout:t}),n.debug===!0?Hb=!0:Hb=!1;var r=JL(e,t,n);Hb&&tI(r),n.randomize&&nI(r);var i=Gs(),o=function(){rI(r,e,n),n.fit===!0&&e.fit(n.padding)},l=function(b){return!(t.stopped||b>=n.numIter||(aI(r,n),r.temperature=r.temperature*n.coolingFactor,r.temperature<n.minTemp))},u=function(){if(n.animate===!0||n.animate===!1)o(),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});else{var b=n.eles.nodes(),y=Fx(r,n,b);b.layoutPositions(t,n,y)}},c=0,f=!0;if(n.animate===!0){var v=function g(){for(var b=0;f&&b<n.refresh;)f=l(c),c++,b++;if(!f)Kw(r,n),u();else{var y=Gs();y-i>=n.animationThreshold&&o(),Dy(g)}};v()}else{for(;f;)f=l(c),c++;Kw(r,n),u()}return this};u0.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};u0.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var JL=function(e,t,r){for(var i=r.eles.edges(),o=r.eles.nodes(),l=Qa(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},c=r.eles.components(),f={},v=0;v<c.length;v++)for(var g=c[v],b=0;b<g.length;b++){var y=g[b];f[y.id()]=v}for(var v=0;v<u.nodeSize;v++){var E=o[v],x=E.layoutDimensions(r),T={};T.isLocked=E.locked(),T.id=E.data("id"),T.parentId=E.data("parent"),T.cmptId=f[E.id()],T.children=[],T.positionX=E.position("x"),T.positionY=E.position("y"),T.offsetX=0,T.offsetY=0,T.height=x.w,T.width=x.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(E.style("padding")),T.padRight=parseFloat(E.style("padding")),T.padTop=parseFloat(E.style("padding")),T.padBottom=parseFloat(E.style("padding")),T.nodeRepulsion=rr(r.nodeRepulsion)?r.nodeRepulsion(E):r.nodeRepulsion,u.layoutNodes.push(T),u.idToIndex[T.id]=v}for(var w=[],R=0,A=-1,O=[],v=0;v<u.nodeSize;v++){var E=u.layoutNodes[v],B=E.parentId;B!=null?u.layoutNodes[u.idToIndex[B]].children.push(E.id):(w[++A]=E.id,O.push(E.id))}for(u.graphSet.push(O);R<=A;){var z=w[R++],N=u.idToIndex[z],y=u.layoutNodes[N],U=y.children;if(U.length>0){u.graphSet.push(U);for(var v=0;v<U.length;v++)w[++A]=U[v]}}for(var v=0;v<u.graphSet.length;v++)for(var F=u.graphSet[v],b=0;b<F.length;b++){var V=u.idToIndex[F[b]];u.indexToGraph[V]=v}for(var v=0;v<u.edgeSize;v++){var Y=i[v],H={};H.id=Y.data("id"),H.sourceId=Y.data("source"),H.targetId=Y.data("target");var $=rr(r.idealEdgeLength)?r.idealEdgeLength(Y):r.idealEdgeLength,D=rr(r.edgeElasticity)?r.edgeElasticity(Y):r.edgeElasticity,_=u.idToIndex[H.sourceId],I=u.idToIndex[H.targetId],L=u.indexToGraph[_],k=u.indexToGraph[I];if(L!=k){for(var K=jL(H.sourceId,H.targetId,u),G=u.graphSet[K],X=0,T=u.layoutNodes[_];G.indexOf(T.id)===-1;)T=u.layoutNodes[u.idToIndex[T.parentId]],X++;for(T=u.layoutNodes[I];G.indexOf(T.id)===-1;)T=u.layoutNodes[u.idToIndex[T.parentId]],X++;$*=X*r.nestingFactor}H.idealLength=$,H.elasticity=D,u.layoutEdges.push(H)}return u},jL=function(e,t,r){var i=eI(e,t,0,r);return 2>i.count?0:i.graph},eI=function n(e,t,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(t))return{count:2,graph:r};for(var l=0,u=0;u<o.length;u++){var c=o[u],f=i.idToIndex[c],v=i.layoutNodes[f].children;if(v.length!==0){var g=i.indexToGraph[i.idToIndex[v[0]]],b=n(e,t,g,i);if(b.count!==0)if(b.count===1){if(l++,l===2)break}else return b}}return{count:l,graph:r}},tI,nI=function(e,t){for(var r=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var l=e.layoutNodes[o];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*r,l.positionY=Math.random()*i)}},Fx=function(e,t,r){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(l){var u=e.layoutNodes[e.idToIndex[l.data("id")]];o.x1=Math.min(o.x1,u.positionX),o.x2=Math.max(o.x2,u.positionX),o.y1=Math.min(o.y1,u.positionY),o.y2=Math.max(o.y2,u.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(l,u){var c=e.layoutNodes[e.idToIndex[l.data("id")]];if(t.boundingBox){var f=(c.positionX-o.x1)/o.w,v=(c.positionY-o.y1)/o.h;return{x:i.x1+f*i.w,y:i.y1+v*i.h}}else return{x:c.positionX,y:c.positionY}}},rI=function(e,t,r){var i=r.layout,o=r.eles.nodes(),l=Fx(e,r,o);o.positions(l),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},aI=function(e,t,r){iI(e,t),lI(e),uI(e,t),fI(e),cI(e)},iI=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],o=i.length,l=0;l<o;l++)for(var u=e.layoutNodes[e.idToIndex[i[l]]],c=l+1;c<o;c++){var f=e.layoutNodes[e.idToIndex[i[c]]];oI(u,f,e,t)}},$w=function(e){return-1+2*e*Math.random()},oI=function(e,t,r,i){var o=e.cmptId,l=t.cmptId;if(!(o!==l&&!r.isCompound)){var u=t.positionX-e.positionX,c=t.positionY-e.positionY,f=1;u===0&&c===0&&(u=$w(f),c=$w(f));var v=sI(e,t,u,c);if(v>0)var g=i.nodeOverlap*v,b=Math.sqrt(u*u+c*c),y=g*u/b,E=g*c/b;else var x=Fy(e,u,c),T=Fy(t,-1*u,-1*c),w=T.x-x.x,R=T.y-x.y,A=w*w+R*R,b=Math.sqrt(A),g=(e.nodeRepulsion+t.nodeRepulsion)/A,y=g*w/b,E=g*R/b;e.isLocked||(e.offsetX-=y,e.offsetY-=E),t.isLocked||(t.offsetX+=y,t.offsetY+=E)}},sI=function(e,t,r,i){if(r>0)var o=e.maxX-t.minX;else var o=t.maxX-e.minX;if(i>0)var l=e.maxY-t.minY;else var l=t.maxY-e.minY;return o>=0&&l>=0?Math.sqrt(o*o+l*l):0},Fy=function(e,t,r){var i=e.positionX,o=e.positionY,l=e.height||1,u=e.width||1,c=r/t,f=l/u,v={};return t===0&&0<r||t===0&&0>r?(v.x=i,v.y=o+l/2,v):0<t&&-1*f<=c&&c<=f?(v.x=i+u/2,v.y=o+u*r/2/t,v):0>t&&-1*f<=c&&c<=f?(v.x=i-u/2,v.y=o-u*r/2/t,v):0<r&&(c<=-1*f||c>=f)?(v.x=i+l*t/2/r,v.y=o+l/2,v):(0>r&&(c<=-1*f||c>=f)&&(v.x=i-l*t/2/r,v.y=o-l/2),v)},lI=function(e,t){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],o=e.idToIndex[i.sourceId],l=e.layoutNodes[o],u=e.idToIndex[i.targetId],c=e.layoutNodes[u],f=c.positionX-l.positionX,v=c.positionY-l.positionY;if(!(f===0&&v===0)){var g=Fy(l,f,v),b=Fy(c,-1*f,-1*v),y=b.x-g.x,E=b.y-g.y,x=Math.sqrt(y*y+E*E),T=Math.pow(i.idealLength-x,2)/i.elasticity;if(x!==0)var w=T*y/x,R=T*E/x;else var w=0,R=0;l.isLocked||(l.offsetX+=w,l.offsetY+=R),c.isLocked||(c.offsetX-=w,c.offsetY-=R)}}},uI=function(e,t){if(t.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],l=o.length;if(i===0)var u=e.clientHeight/2,c=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[o[0]]],v=e.layoutNodes[e.idToIndex[f.parentId]],u=v.positionX,c=v.positionY;for(var g=0;g<l;g++){var b=e.layoutNodes[e.idToIndex[o[g]]];if(!b.isLocked){var y=u-b.positionX,E=c-b.positionY,x=Math.sqrt(y*y+E*E);if(x>r){var T=t.gravity*y/x,w=t.gravity*E/x;b.offsetX+=T,b.offsetY+=w}}}}},fI=function(e,t){var r=[],i=0,o=-1;for(r.push.apply(r,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var l=r[i++],u=e.idToIndex[l],c=e.layoutNodes[u],f=c.children;if(0<f.length&&!c.isLocked){for(var v=c.offsetX,g=c.offsetY,b=0;b<f.length;b++){var y=e.layoutNodes[e.idToIndex[f[b]]];y.offsetX+=v,y.offsetY+=g,r[++o]=f[b]}c.offsetX=0,c.offsetY=0}}},cI=function(e,t){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var o=dI(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,hI(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},dI=function(e,t,r){var i=Math.sqrt(e*e+t*t);if(i>r)var o={x:r*e/i,y:r*t/i};else var o={x:e,y:t};return o},hI=function n(e,t){var r=e.parentId;if(r!=null){var i=t.layoutNodes[t.idToIndex[r]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return n(i,t)}},Kw=function(e,t){for(var r=e.layoutNodes,i=[],o=0;o<r.length;o++){var l=r[o],u=l.cmptId,c=i[u]=i[u]||[];c.push(l)}for(var f=0,o=0;o<i.length;o++){var v=i[o];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var g=0;g<v.length;g++){var b=v[g];v.x1=Math.min(v.x1,b.positionX-b.width/2),v.x2=Math.max(v.x2,b.positionX+b.width/2),v.y1=Math.min(v.y1,b.positionY-b.height/2),v.y2=Math.max(v.y2,b.positionY+b.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,f+=v.w*v.h}}i.sort(function(R,A){return A.w*A.h-R.w*R.h});for(var y=0,E=0,x=0,T=0,w=Math.sqrt(f)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var v=i[o];if(v){for(var g=0;g<v.length;g++){var b=v[g];b.isLocked||(b.positionX+=y-v.x1,b.positionY+=E-v.y1)}y+=v.w+t.componentSpacing,x+=v.w+t.componentSpacing,T=Math.max(T,v.h),x>w&&(E+=T+t.componentSpacing,y=0,x=0,T=0)}}},vI={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function kx(n){this.options=Lt({},vI,n)}kx.prototype.run=function(){var n=this.options,e=n,t=n.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=Qa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(o.h===0||o.w===0)r.nodes().layoutPositions(this,e,function(J){return{x:o.x1,y:o.y1}});else{var l=i.size(),u=Math.sqrt(l*o.h/o.w),c=Math.round(u),f=Math.round(o.w/o.h*u),v=function(re){if(re==null)return Math.min(c,f);var ie=Math.min(c,f);ie==c?c=re:f=re},g=function(re){if(re==null)return Math.max(c,f);var ie=Math.max(c,f);ie==c?c=re:f=re},b=e.rows,y=e.cols!=null?e.cols:e.columns;if(b!=null&&y!=null)c=b,f=y;else if(b!=null&&y==null)c=b,f=Math.ceil(l/c);else if(b==null&&y!=null)f=y,c=Math.ceil(l/f);else if(f*c>l){var E=v(),x=g();(E-1)*x>=l?v(E-1):(x-1)*E>=l&&g(x-1)}else for(;f*c<l;){var T=v(),w=g();(w+1)*T>=l?g(w+1):v(T+1)}var R=o.w/f,A=o.h/c;if(e.condense&&(R=0,A=0),e.avoidOverlap)for(var O=0;O<i.length;O++){var B=i[O],z=B._private.position;(z.x==null||z.y==null)&&(z.x=0,z.y=0);var N=B.layoutDimensions(e),U=e.avoidOverlapPadding,F=N.w+U,V=N.h+U;R=Math.max(R,F),A=Math.max(A,V)}for(var Y={},H=function(re,ie){return!!Y["c-"+re+"-"+ie]},$=function(re,ie){Y["c-"+re+"-"+ie]=!0},D=0,_=0,I=function(){_++,_>=f&&(_=0,D++)},L={},k=0;k<i.length;k++){var K=i[k],G=e.position(K);if(G&&(G.row!==void 0||G.col!==void 0)){var X={row:G.row,col:G.col};if(X.col===void 0)for(X.col=0;H(X.row,X.col);)X.col++;else if(X.row===void 0)for(X.row=0;H(X.row,X.col);)X.row++;L[K.id()]=X,$(X.row,X.col)}}var Z=function(re,ie){var oe,he;if(re.locked()||re.isParent())return!1;var se=L[re.id()];if(se)oe=se.col*R+R/2+o.x1,he=se.row*A+A/2+o.y1;else{for(;H(D,_);)I();oe=_*R+R/2+o.x1,he=D*A+A/2+o.y1,$(D,_),I()}return{x:oe,y:he}};i.layoutPositions(this,e,Z)}return this};var gI={ready:function(){},stop:function(){}};function uE(n){this.options=Lt({},gI,n)}uE.prototype.run=function(){var n=this.options,e=n.eles,t=this;return n.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",n.ready),t.emit("layoutready"),t.one("layoutstop",n.stop),t.emit("layoutstop"),this};uE.prototype.stop=function(){return this};var pI={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ux(n){this.options=Lt({},pI,n)}Ux.prototype.run=function(){var n=this.options,e=n.eles,t=e.nodes(),r=rr(n.positions);function i(o){if(n.positions==null)return TO(o.position());if(r)return n.positions(o);var l=n.positions[o._private.data.id];return l??null}return t.layoutPositions(this,n,function(o,l){var u=i(o);return o.locked()||u==null?!1:u}),this};var mI={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function zx(n){this.options=Lt({},mI,n)}zx.prototype.run=function(){var n=this.options,e=n.cy,t=n.eles,r=Qa(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(l,u){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return t.nodes().layoutPositions(this,n,i),this};var yI=[{name:"breadthfirst",impl:Bx},{name:"circle",impl:_x},{name:"concentric",impl:Px},{name:"cose",impl:u0},{name:"grid",impl:kx},{name:"null",impl:uE},{name:"preset",impl:Ux},{name:"random",impl:zx}];function Gx(n){this.options=n,this.notifications=0}var Zw=function(){},Qw=function(){throw new Error("A headless instance can not render images")};Gx.prototype={recalculateRenderedStyle:Zw,notify:function(){this.notifications++},init:Zw,isHeadless:function(){return!0},png:Qw,jpg:Qw};var fE={};fE.arrowShapeWidth=.3;fE.registerArrowShapes=function(){var n=this.arrowShapes={},e=this,t=function(f,v,g,b,y,E,x){var T=y.x-g/2-x,w=y.x+g/2+x,R=y.y-g/2-x,A=y.y+g/2+x,O=T<=f&&f<=w&&R<=v&&v<=A;return O},r=function(f,v,g,b,y){var E=f*Math.cos(b)-v*Math.sin(b),x=f*Math.sin(b)+v*Math.cos(b),T=E*g,w=x*g,R=T+y.x,A=w+y.y;return{x:R,y:A}},i=function(f,v,g,b){for(var y=[],E=0;E<f.length;E+=2){var x=f[E],T=f[E+1];y.push(r(x,T,v,g,b))}return y},o=function(f){for(var v=[],g=0;g<f.length;g++){var b=f[g];v.push(b.x,b.y)}return v},l=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},u=function(f,v){Ct(v)&&(v=n[v]),n[f]=Lt({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(b,y,E,x,T,w){var R=o(i(this.points,E+2*w,x,T)),A=Wa(b,y,R);return A},roughCollide:t,draw:function(b,y,E,x){var T=i(this.points,y,E,x);e.arrowShapeImpl("polygon")(b,T)},spacing:function(b){return 0},gap:l},v)};u("none",{collide:Ny,roughCollide:Ny,draw:K1,spacing:sw,gap:sw}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(f,v,g,b,y){var E=i(this.points,v,g,b),x=this.controlPoint,T=r(x[0],x[1],v,g,b);e.arrowShapeImpl(this.name)(f,E,T)},gap:function(f){return l(f)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,v,g,b,y,E,x){var T=o(i(this.points,g+2*x,b,y)),w=o(i(this.pointsTee,g+2*x,b,y)),R=Wa(f,v,T)||Wa(f,v,w);return R},draw:function(f,v,g,b,y){var E=i(this.points,v,g,b),x=i(this.pointsTee,v,g,b);e.arrowShapeImpl(this.name)(f,E,x)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,v,g,b,y,E,x){var T=y,w=Math.pow(T.x-f,2)+Math.pow(T.y-v,2)<=Math.pow((g+2*x)*this.radius,2),R=o(i(this.points,g+2*x,b,y));return Wa(f,v,R)||w},draw:function(f,v,g,b,y){var E=i(this.pointsTr,v,g,b);e.arrowShapeImpl(this.name)(f,E,b.x,b.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,v){var g=this.baseCrossLinePts.slice(),b=v/f,y=3,E=5;return g[y]=g[y]-b,g[E]=g[E]-b,g},collide:function(f,v,g,b,y,E,x){var T=o(i(this.points,g+2*x,b,y)),w=o(i(this.crossLinePts(g,E),g+2*x,b,y)),R=Wa(f,v,T)||Wa(f,v,w);return R},draw:function(f,v,g,b,y){var E=i(this.points,v,g,b),x=i(this.crossLinePts(v,y),v,g,b);e.arrowShapeImpl(this.name)(f,E,x)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return l(f)*.525}}),u("circle",{radius:.15,collide:function(f,v,g,b,y,E,x){var T=y,w=Math.pow(T.x-f,2)+Math.pow(T.y-v,2)<=Math.pow((g+2*x)*this.radius,2);return w},draw:function(f,v,g,b,y){e.arrowShapeImpl(this.name)(f,b.x,b.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var Ff={};Ff.projectIntoViewport=function(n,e){var t=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],l=r[4],u=t.pan(),c=t.zoom(),f=((n-i)/l-u.x)/c,v=((e-o)/l-u.y)/c;return[f,v]};Ff.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var n=this.container,e=n.getBoundingClientRect(),t=this.cy.window().getComputedStyle(n),r=function(w){return parseFloat(t.getPropertyValue(w))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},o={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},l=n.clientWidth,u=n.clientHeight,c=i.left+i.right,f=i.top+i.bottom,v=o.left+o.right,g=e.width/(l+v),b=l-c,y=u-f,E=e.left+i.left+o.left,x=e.top+i.top+o.top;return this.containerBB=[E,x,b,y,g]};Ff.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ff.findNearestElement=function(n,e,t,r){return this.findNearestElements(n,e,t,r)[0]};Ff.findNearestElements=function(n,e,t,r){var i=this,o=this,l=o.getCachedZSortedEles(),u=[],c=o.cy.zoom(),f=o.cy.hasCompoundNodes(),v=(r?24:8)/c,g=(r?8:2)/c,b=(r?8:2)/c,y=1/0,E,x;t&&(l=l.interactive);function T(N,U){if(N.isNode()){if(x)return;x=N,u.push(N)}if(N.isEdge()&&(U==null||U<y))if(E){if(E.pstyle("z-compound-depth").value===N.pstyle("z-compound-depth").value&&E.pstyle("z-compound-depth").value===N.pstyle("z-compound-depth").value){for(var F=0;F<u.length;F++)if(u[F].isEdge()){u[F]=N,E=N,y=U??y;break}}}else u.push(N),E=N,y=U??y}function w(N){var U=N.outerWidth()+2*g,F=N.outerHeight()+2*g,V=U/2,Y=F/2,H=N.position(),$=N.pstyle("corner-radius").value==="auto"?"auto":N.pstyle("corner-radius").pfValue,D=N._private.rscratch;if(H.x-V<=n&&n<=H.x+V&&H.y-Y<=e&&e<=H.y+Y){var _=o.nodeShapes[i.getNodeShape(N)];if(_.checkPoint(n,e,0,U,F,H.x,H.y,$,D))return T(N,0),!0}}function R(N){var U=N._private,F=U.rscratch,V=N.pstyle("width").pfValue,Y=N.pstyle("arrow-scale").value,H=V/2+v,$=H*H,D=H*2,k=U.source,K=U.target,_;if(F.edgeType==="segments"||F.edgeType==="straight"||F.edgeType==="haystack"){for(var I=F.allpts,L=0;L+3<I.length;L+=2)if(_O(n,e,I[L],I[L+1],I[L+2],I[L+3],D)&&$>(_=zO(n,e,I[L],I[L+1],I[L+2],I[L+3])))return T(N,_),!0}else if(F.edgeType==="bezier"||F.edgeType==="multibezier"||F.edgeType==="self"||F.edgeType==="compound"){for(var I=F.allpts,L=0;L+5<F.allpts.length;L+=4)if(PO(n,e,I[L],I[L+1],I[L+2],I[L+3],I[L+4],I[L+5],D)&&$>(_=UO(n,e,I[L],I[L+1],I[L+2],I[L+3],I[L+4],I[L+5])))return T(N,_),!0}for(var k=k||U.source,K=K||U.target,G=i.getArrowWidth(V,Y),X=[{name:"source",x:F.arrowStartX,y:F.arrowStartY,angle:F.srcArrowAngle},{name:"target",x:F.arrowEndX,y:F.arrowEndY,angle:F.tgtArrowAngle},{name:"mid-source",x:F.midX,y:F.midY,angle:F.midsrcArrowAngle},{name:"mid-target",x:F.midX,y:F.midY,angle:F.midtgtArrowAngle}],L=0;L<X.length;L++){var Z=X[L],J=o.arrowShapes[N.pstyle(Z.name+"-arrow-shape").value],re=N.pstyle("width").pfValue;if(J.roughCollide(n,e,G,Z.angle,{x:Z.x,y:Z.y},re,v)&&J.collide(n,e,G,Z.angle,{x:Z.x,y:Z.y},re,v))return T(N),!0}f&&u.length>0&&(w(k),w(K))}function A(N,U,F){return xo(N,U,F)}function O(N,U){var F=N._private,V=b,Y;U?Y=U+"-":Y="",N.boundingBox();var H=F.labelBounds[U||"main"],$=N.pstyle(Y+"label").value,D=N.pstyle("text-events").strValue==="yes";if(!(!D||!$)){var _=A(F.rscratch,"labelX",U),I=A(F.rscratch,"labelY",U),L=A(F.rscratch,"labelAngle",U),k=N.pstyle(Y+"text-margin-x").pfValue,K=N.pstyle(Y+"text-margin-y").pfValue,G=H.x1-V-k,X=H.x2+V-k,Z=H.y1-V-K,J=H.y2+V-K;if(L){var re=Math.cos(L),ie=Math.sin(L),oe=function(_e,Ae){return _e=_e-_,Ae=Ae-I,{x:_e*re-Ae*ie+_,y:_e*ie+Ae*re+I}},he=oe(G,Z),se=oe(G,J),te=oe(X,Z),ae=oe(X,J),le=[he.x+k,he.y+K,te.x+k,te.y+K,ae.x+k,ae.y+K,se.x+k,se.y+K];if(Wa(n,e,le))return T(N),!0}else if(Sd(H,n,e))return T(N),!0}}for(var B=l.length-1;B>=0;B--){var z=l[B];z.isNode()?w(z)||O(z):R(z)||O(z)||O(z,"source")||O(z,"target")}return u};Ff.getAllInBox=function(n,e,t,r){var i=this.getCachedZSortedEles().interactive,o=[],l=Math.min(n,t),u=Math.max(n,t),c=Math.min(e,r),f=Math.max(e,r);n=l,t=u,e=c,r=f;for(var v=Qa({x1:n,y1:e,x2:t,y2:r}),g=0;g<i.length;g++){var b=i[g];if(b.isNode()){var y=b,E=y.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});J1(v,E)&&!ZS(E,v)&&o.push(y)}else{var x=b,T=x._private,w=T.rscratch;if(w.startX!=null&&w.startY!=null&&!Sd(v,w.startX,w.startY)||w.endX!=null&&w.endY!=null&&!Sd(v,w.endX,w.endY))continue;if(w.edgeType==="bezier"||w.edgeType==="multibezier"||w.edgeType==="self"||w.edgeType==="compound"||w.edgeType==="segments"||w.edgeType==="haystack"){for(var R=T.rstyle.bezierPts||T.rstyle.linePts||T.rstyle.haystackPts,A=!0,O=0;O<R.length;O++)if(!BO(v,R[O])){A=!1;break}A&&o.push(x)}else(w.edgeType==="haystack"||w.edgeType==="straight")&&o.push(x)}}return o};var ky={};ky.calculateArrowAngles=function(n){var e=n._private.rscratch,t=e.edgeType==="haystack",r=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",l=e.edgeType==="compound",u=e.edgeType==="self",c,f,v,g,b,y,w,R;if(t?(v=e.haystackPts[0],g=e.haystackPts[1],b=e.haystackPts[2],y=e.haystackPts[3]):(v=e.arrowStartX,g=e.arrowStartY,b=e.arrowEndX,y=e.arrowEndY),w=e.midX,R=e.midY,o)c=v-e.segpts[0],f=g-e.segpts[1];else if(i||l||u||r){var E=e.allpts,x=Nr(E[0],E[2],E[4],.1),T=Nr(E[1],E[3],E[5],.1);c=v-x,f=g-T}else c=v-w,f=g-R;e.srcArrowAngle=Wm(c,f);var w=e.midX,R=e.midY;if(t&&(w=(v+b)/2,R=(g+y)/2),c=b-v,f=y-g,o){var E=e.allpts;if(E.length/2%2===0){var A=E.length/2,O=A-2;c=E[A]-E[O],f=E[A+1]-E[O+1]}else if(e.isRound)c=e.midVector[1],f=-e.midVector[0];else{var A=E.length/2-1,O=A-2;c=E[A]-E[O],f=E[A+1]-E[O+1]}}else if(i||l||u){var E=e.allpts,B=e.ctrlpts,z,N,U,F;if(B.length/2%2===0){var V=E.length/2-1,Y=V+2,H=Y+2;z=Nr(E[V],E[Y],E[H],0),N=Nr(E[V+1],E[Y+1],E[H+1],0),U=Nr(E[V],E[Y],E[H],1e-4),F=Nr(E[V+1],E[Y+1],E[H+1],1e-4)}else{var Y=E.length/2-1,V=Y-2,H=Y+2;z=Nr(E[V],E[Y],E[H],.4999),N=Nr(E[V+1],E[Y+1],E[H+1],.4999),U=Nr(E[V],E[Y],E[H],.5),F=Nr(E[V+1],E[Y+1],E[H+1],.5)}c=U-z,f=F-N}if(e.midtgtArrowAngle=Wm(c,f),e.midDispX=c,e.midDispY=f,c*=-1,f*=-1,o){var E=e.allpts;if(E.length/2%2!==0){if(!e.isRound){var A=E.length/2-1,$=A+2;c=-(E[$]-E[A]),f=-(E[$+1]-E[A+1])}}}if(e.midsrcArrowAngle=Wm(c,f),o)c=b-e.segpts[e.segpts.length-2],f=y-e.segpts[e.segpts.length-1];else if(i||l||u||r){var E=e.allpts,D=E.length,x=Nr(E[D-6],E[D-4],E[D-2],.9),T=Nr(E[D-5],E[D-3],E[D-1],.9);c=b-x,f=y-T}else c=b-w,f=y-R;e.tgtArrowAngle=Wm(c,f)};ky.getArrowWidth=ky.getArrowHeight=function(n,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[n+", "+e];return r||(r=Math.max(Math.pow(n*13.37,.9),29)*e,t[n+", "+e]=r,r)};var x1,C1,as={},Vi={},Jw,jw,Tf,wy,Us,pf,Ef,ns,sd,ny,Hx,Vx,A1,R1,eT,tT=function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},bI=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},EI=function(e,t,r,i,o){if(e!==eT?tT(t,e,as):bI(Vi,as),tT(t,r,Vi),Jw=as.nx*Vi.ny-as.ny*Vi.nx,jw=as.nx*Vi.nx-as.ny*-Vi.ny,Us=Math.asin(Math.max(-1,Math.min(1,Jw))),Math.abs(Us)<1e-6){x1=t.x,C1=t.y,Ef=sd=0;return}Tf=1,wy=!1,jw<0?Us<0?Us=Math.PI+Us:(Us=Math.PI-Us,Tf=-1,wy=!0):Us>0&&(Tf=-1,wy=!0),t.radius!==void 0?sd=t.radius:sd=i,pf=Us/2,ny=Math.min(as.len/2,Vi.len/2),o?(ns=Math.abs(Math.cos(pf)*sd/Math.sin(pf)),ns>ny?(ns=ny,Ef=Math.abs(ns*Math.sin(pf)/Math.cos(pf))):Ef=sd):(ns=Math.min(ny,sd),Ef=Math.abs(ns*Math.sin(pf)/Math.cos(pf))),A1=t.x+Vi.nx*ns,R1=t.y+Vi.ny*ns,x1=A1-Vi.ny*Ef*Tf,C1=R1+Vi.nx*Ef*Tf,Hx=t.x+as.nx*ns,Vx=t.y+as.ny*ns,eT=t};function Yx(n,e){e.radius===0?n.lineTo(e.cx,e.cy):n.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function cE(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(EI(n,e,t,r,i),{cx:x1,cy:C1,radius:Ef,startX:Hx,startY:Vx,stopX:A1,stopY:R1,startAngle:as.ang+Math.PI/2*Tf,endAngle:Vi.ang-Math.PI/2*Tf,counterClockwise:wy})}var sa={};sa.findMidptPtsEtc=function(n,e){var t=e.posPts,r=e.intersectionPts,i=e.vectorNormInverse,o,l=n.pstyle("source-endpoint"),u=n.pstyle("target-endpoint"),c=l.units!=null&&u.units!=null,f=function(B,z,N,U){var F=U-z,V=N-B,Y=Math.sqrt(V*V+F*F);return{x:-F/Y,y:V/Y}},v=n.pstyle("edge-distances").value;switch(v){case"node-position":o=t;break;case"intersection":o=r;break;case"endpoints":{if(c){var g=this.manualEndptToPx(n.source()[0],l),b=Lr(g,2),y=b[0],E=b[1],x=this.manualEndptToPx(n.target()[0],u),T=Lr(x,2),w=T[0],R=T[1],A={x1:y,y1:E,x2:w,y2:R};i=f(y,E,w,R),o=A}else On("Edge ".concat(n.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=r;break}}return{midptPts:o,vectorNormInverse:i}};sa.findHaystackPoints=function(n){for(var e=0;e<n.length;e++){var t=n[e],r=t._private,i=r.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var l=r.source,u=r.target,c=l.position(),f=u.position(),v=l.width(),g=u.width(),b=l.height(),y=u.height(),E=t.pstyle("haystack-radius").value,x=E/2;i.haystackPts=i.allpts=[i.source.x*v*x+c.x,i.source.y*b*x+c.y,i.target.x*g*x+f.x,i.target.y*y*x+f.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};sa.findSegmentsPoints=function(n,e){var t=n._private.rscratch,r=n.pstyle("segment-weights"),i=n.pstyle("segment-distances"),o=n.pstyle("segment-radii"),l=n.pstyle("radius-type"),u=Math.min(r.pfValue.length,i.pfValue.length),c=o.pfValue[o.pfValue.length-1],f=l.pfValue[l.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var v=0;v<u;v++){var g=r.pfValue[v],b=i.pfValue[v],y=1-g,E=g,x=this.findMidptPtsEtc(n,e),T=x.midptPts,w=x.vectorNormInverse,R={x:T.x1*y+T.x2*E,y:T.y1*y+T.y2*E};t.segpts.push(R.x+w.x*b,R.y+w.y*b),t.radii.push(o.pfValue[v]!==void 0?o.pfValue[v]:c),t.isArcRadius.push((l.pfValue[v]!==void 0?l.pfValue[v]:f)==="arc-radius")}};sa.findLoopPoints=function(n,e,t,r){var i=n._private.rscratch,o=e.dirCounts,l=e.srcPos,u=n.pstyle("control-point-distances"),c=u?u.pfValue[0]:void 0,f=n.pstyle("loop-direction").pfValue,v=n.pstyle("loop-sweep").pfValue,g=n.pstyle("control-point-step-size").pfValue;i.edgeType="self";var b=t,y=g;r&&(b=0,y=c);var E=f-Math.PI/2,x=E-v/2,T=E+v/2,w=f+"_"+v;b=o[w]===void 0?o[w]=0:++o[w],i.ctrlpts=[l.x+Math.cos(x)*1.4*y*(b/3+1),l.y+Math.sin(x)*1.4*y*(b/3+1),l.x+Math.cos(T)*1.4*y*(b/3+1),l.y+Math.sin(T)*1.4*y*(b/3+1)]};sa.findCompoundLoopPoints=function(n,e,t,r){var i=n._private.rscratch;i.edgeType="compound";var o=e.srcPos,l=e.tgtPos,u=e.srcW,c=e.srcH,f=e.tgtW,v=e.tgtH,g=n.pstyle("control-point-step-size").pfValue,b=n.pstyle("control-point-distances"),y=b?b.pfValue[0]:void 0,E=t,x=g;r&&(E=0,x=y);var T=50,w={x:o.x-u/2,y:o.y-c/2},R={x:l.x-f/2,y:l.y-v/2},A={x:Math.min(w.x,R.x),y:Math.min(w.y,R.y)},O=.5,B=Math.max(O,Math.log(u*.01)),z=Math.max(O,Math.log(f*.01));i.ctrlpts=[A.x,A.y-(1+Math.pow(T,1.12)/100)*x*(E/3+1)*B,A.x-(1+Math.pow(T,1.12)/100)*x*(E/3+1)*z,A.y]};sa.findStraightEdgePoints=function(n){n._private.rscratch.edgeType="straight"};sa.findBezierPoints=function(n,e,t,r,i){var o=n._private.rscratch,l=n.pstyle("control-point-step-size").pfValue,u=n.pstyle("control-point-distances"),c=n.pstyle("control-point-weights"),f=u&&c?Math.min(u.value.length,c.value.length):1,v=u?u.pfValue[0]:void 0,g=c.value[0],b=r;o.edgeType=b?"multibezier":"bezier",o.ctrlpts=[];for(var y=0;y<f;y++){var E=(.5-e.eles.length/2+t)*l*(i?-1:1),x=void 0,T=$S(E);b&&(v=u?u.pfValue[y]:l,g=c.value[y]),r?x=v:x=v!==void 0?T*v:void 0;var w=x!==void 0?x:E,R=1-g,A=g,O=this.findMidptPtsEtc(n,e),B=O.midptPts,z=O.vectorNormInverse,N={x:B.x1*R+B.x2*A,y:B.y1*R+B.y2*A};o.ctrlpts.push(N.x+z.x*w,N.y+z.y*w)}};sa.findTaxiPoints=function(n,e){var t=n._private.rscratch;t.edgeType="segments";var r="vertical",i="horizontal",o="leftward",l="rightward",u="downward",c="upward",f="auto",v=e.posPts,g=e.srcW,b=e.srcH,y=e.tgtW,E=e.tgtH,x=n.pstyle("edge-distances").value,T=x!=="node-position",w=n.pstyle("taxi-direction").value,R=w,A=n.pstyle("taxi-turn"),O=A.units==="%",B=A.pfValue,z=B<0,N=n.pstyle("taxi-turn-min-distance").pfValue,U=T?(g+y)/2:0,F=T?(b+E)/2:0,V=v.x2-v.x1,Y=v.y2-v.y1,H=function(de,Se){return de>0?Math.max(de-Se,0):Math.min(de+Se,0)},$=H(V,U),D=H(Y,F),_=!1;R===f?w=Math.abs($)>Math.abs(D)?i:r:R===c||R===u?(w=r,_=!0):(R===o||R===l)&&(w=i,_=!0);var I=w===r,L=I?D:$,k=I?Y:V,K=$S(k),G=!1;!(_&&(O||z))&&(R===u&&k<0||R===c&&k>0||R===o&&k>0||R===l&&k<0)&&(K*=-1,L=K*Math.abs(L),G=!0);var X;if(O){var Z=B<0?1+B:B;X=Z*L}else{var J=B<0?L:0;X=J+B*K}var re=function(de){return Math.abs(de)<N||Math.abs(de)>=Math.abs(L)},ie=re(X),oe=re(Math.abs(L)-Math.abs(X)),he=ie||oe;if(he&&!G)if(I){var se=Math.abs(k)<=b/2,te=Math.abs(V)<=y/2;if(se){var ae=(v.x1+v.x2)/2,le=v.y1,me=v.y2;t.segpts=[ae,le,ae,me]}else if(te){var _e=(v.y1+v.y2)/2,Ae=v.x1,et=v.x2;t.segpts=[Ae,_e,et,_e]}else t.segpts=[v.x1,v.y2]}else{var ot=Math.abs(k)<=g/2,rt=Math.abs(Y)<=E/2;if(ot){var Pe=(v.y1+v.y2)/2,Ve=v.x1,Ke=v.x2;t.segpts=[Ve,Pe,Ke,Pe]}else if(rt){var Qe=(v.x1+v.x2)/2,at=v.y1,tt=v.y2;t.segpts=[Qe,at,Qe,tt]}else t.segpts=[v.x2,v.y1]}else if(I){var it=v.y1+X+(T?b/2*K:0),dt=v.x1,Oe=v.x2;t.segpts=[dt,it,Oe,it]}else{var j=v.x1+X+(T?g/2*K:0),pe=v.y1,Le=v.y2;t.segpts=[j,pe,j,Le]}if(t.isRound){var Te=n.pstyle("taxi-radius").value,Re=n.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(Te),t.isArcRadius=new Array(t.segpts.length/2).fill(Re)}};sa.tryToCorrectInvalidPoints=function(n,e){var t=n._private.rscratch;if(t.edgeType==="bezier"){var r=e.srcPos,i=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=e.srcShape,v=e.tgtShape,g=e.srcCornerRadius,b=e.tgtCornerRadius,y=e.srcRs,E=e.tgtRs,x=!lt(t.startX)||!lt(t.startY),T=!lt(t.arrowStartX)||!lt(t.arrowStartY),w=!lt(t.endX)||!lt(t.endY),R=!lt(t.arrowEndX)||!lt(t.arrowEndY),A=3,O=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth,B=A*O,z=Nf({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),N=z<B,U=Nf({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),F=U<B,V=!1;if(x||T||N){V=!0;var Y={x:t.ctrlpts[0]-r.x,y:t.ctrlpts[1]-r.y},H=Math.sqrt(Y.x*Y.x+Y.y*Y.y),$={x:Y.x/H,y:Y.y/H},D=Math.max(o,l),_={x:t.ctrlpts[0]+$.x*2*D,y:t.ctrlpts[1]+$.y*2*D},I=f.intersectLine(r.x,r.y,o,l,_.x,_.y,0,g,y);N?(t.ctrlpts[0]=t.ctrlpts[0]+$.x*(B-z),t.ctrlpts[1]=t.ctrlpts[1]+$.y*(B-z)):(t.ctrlpts[0]=I[0]+$.x*B,t.ctrlpts[1]=I[1]+$.y*B)}if(w||R||F){V=!0;var L={x:t.ctrlpts[0]-i.x,y:t.ctrlpts[1]-i.y},k=Math.sqrt(L.x*L.x+L.y*L.y),K={x:L.x/k,y:L.y/k},G=Math.max(o,l),X={x:t.ctrlpts[0]+K.x*2*G,y:t.ctrlpts[1]+K.y*2*G},Z=v.intersectLine(i.x,i.y,u,c,X.x,X.y,0,b,E);F?(t.ctrlpts[0]=t.ctrlpts[0]+K.x*(B-U),t.ctrlpts[1]=t.ctrlpts[1]+K.y*(B-U)):(t.ctrlpts[0]=Z[0]+K.x*B,t.ctrlpts[1]=Z[1]+K.y*B)}V&&this.findEndpoints(n)}};sa.storeAllpts=function(n){var e=n._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var r,i;e.ctrlpts.length/2%2===0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,i=.5,e.midX=Nr(e.allpts[r],e.allpts[r+2],e.allpts[r+4],i),e.midY=Nr(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var l=e.radii[o/2-1],u=e.isArcRadius[o/2-1];e.roundCorners.push(cE({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:l},{x:e.allpts[o+2],y:e.allpts[o+3]},l,u))}}if(e.segpts.length%4===0){var c=e.segpts.length/2,f=c-2;e.midX=(e.segpts[f]+e.segpts[c])/2,e.midY=(e.segpts[f+1]+e.segpts[c+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var g={x:e.segpts[v],y:e.segpts[v+1]},b=e.roundCorners[v/2],y=[g.x-b.cx,g.y-b.cy],E=b.radius/Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2));y=y.map(function(x){return x*E}),e.midX=b.cx+y[0],e.midY=b.cy+y[1],e.midVector=y}}}};sa.checkForInvalidEdgeWarning=function(n){var e=n[0]._private.rscratch;e.nodesOverlap||lt(e.startX)&&lt(e.startY)&&lt(e.endX)&&lt(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,On("Edge `"+n.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};sa.findEdgeControlPoints=function(n){var e=this;if(!(!n||n.length===0)){for(var t=this,r=t.cy,i=r.hasCompoundNodes(),o={map:new os,get:function(N){var U=this.map.get(N[0]);return U!=null?U.get(N[1]):null},set:function(N,U){var F=this.map.get(N[0]);F==null&&(F=new os,this.map.set(N[0],F)),F.set(N[1],U)}},l=[],u=[],c=0;c<n.length;c++){var f=n[c],v=f._private,g=f.pstyle("curve-style").value;if(!(f.removed()||!f.takesUpSpace())){if(g==="haystack"){u.push(f);continue}var b=g==="unbundled-bezier"||g.endsWith("segments")||g==="straight"||g==="straight-triangle"||g.endsWith("taxi"),y=g==="unbundled-bezier"||g==="bezier",E=v.source,x=v.target,T=E.poolIndex(),w=x.poolIndex(),R=[T,w].sort(),A=o.get(R);A==null&&(A={eles:[]},o.set(R,A),l.push(R)),A.eles.push(f),b&&(A.hasUnbundled=!0),y&&(A.hasBezier=!0)}}for(var O=function(N){var U=l[N],F=o.get(U),V=void 0;if(!F.hasUnbundled){var Y=F.eles[0].parallelEdges().filter(function(j){return j.isBundledBezier()});Z1(F.eles),Y.forEach(function(j){return F.eles.push(j)}),F.eles.sort(function(j,pe){return j.poolIndex()-pe.poolIndex()})}var H=F.eles[0],$=H.source(),D=H.target();if($.poolIndex()>D.poolIndex()){var _=$;$=D,D=_}var I=F.srcPos=$.position(),L=F.tgtPos=D.position(),k=F.srcW=$.outerWidth(),K=F.srcH=$.outerHeight(),G=F.tgtW=D.outerWidth(),X=F.tgtH=D.outerHeight(),Z=F.srcShape=t.nodeShapes[e.getNodeShape($)],J=F.tgtShape=t.nodeShapes[e.getNodeShape(D)],re=F.srcCornerRadius=$.pstyle("corner-radius").value==="auto"?"auto":$.pstyle("corner-radius").pfValue,ie=F.tgtCornerRadius=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,oe=F.tgtRs=D._private.rscratch,he=F.srcRs=$._private.rscratch;F.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var se=0;se<F.eles.length;se++){var te=F.eles[se],ae=te[0]._private.rscratch,le=te.pstyle("curve-style").value,me=le==="unbundled-bezier"||le.endsWith("segments")||le.endsWith("taxi"),_e=!$.same(te.source());if(!F.calculatedIntersection&&$!==D&&(F.hasBezier||F.hasUnbundled)){F.calculatedIntersection=!0;var Ae=Z.intersectLine(I.x,I.y,k,K,L.x,L.y,0,re,he),et=F.srcIntn=Ae,ot=J.intersectLine(L.x,L.y,G,X,I.x,I.y,0,ie,oe),rt=F.tgtIntn=ot,Pe=F.intersectionPts={x1:Ae[0],x2:ot[0],y1:Ae[1],y2:ot[1]},Ve=F.posPts={x1:I.x,x2:L.x,y1:I.y,y2:L.y},Ke=ot[1]-Ae[1],Qe=ot[0]-Ae[0],at=Math.sqrt(Qe*Qe+Ke*Ke),tt=F.vector={x:Qe,y:Ke},it=F.vectorNorm={x:tt.x/at,y:tt.y/at},dt={x:-it.y,y:it.x};F.nodesOverlap=!lt(at)||J.checkPoint(Ae[0],Ae[1],0,G,X,L.x,L.y,ie,oe)||Z.checkPoint(ot[0],ot[1],0,k,K,I.x,I.y,re,he),F.vectorNormInverse=dt,V={nodesOverlap:F.nodesOverlap,dirCounts:F.dirCounts,calculatedIntersection:!0,hasBezier:F.hasBezier,hasUnbundled:F.hasUnbundled,eles:F.eles,srcPos:L,srcRs:oe,tgtPos:I,tgtRs:he,srcW:G,srcH:X,tgtW:k,tgtH:K,srcIntn:rt,tgtIntn:et,srcShape:J,tgtShape:Z,posPts:{x1:Ve.x2,y1:Ve.y2,x2:Ve.x1,y2:Ve.y1},intersectionPts:{x1:Pe.x2,y1:Pe.y2,x2:Pe.x1,y2:Pe.y1},vector:{x:-tt.x,y:-tt.y},vectorNorm:{x:-it.x,y:-it.y},vectorNormInverse:{x:-dt.x,y:-dt.y}}}var Oe=_e?V:F;ae.nodesOverlap=Oe.nodesOverlap,ae.srcIntn=Oe.srcIntn,ae.tgtIntn=Oe.tgtIntn,ae.isRound=le.startsWith("round"),i&&($.isParent()||$.isChild()||D.isParent()||D.isChild())&&($.parents().anySame(D)||D.parents().anySame($)||$.same(D)&&$.isParent())?e.findCompoundLoopPoints(te,Oe,se,me):$===D?e.findLoopPoints(te,Oe,se,me):le.endsWith("segments")?e.findSegmentsPoints(te,Oe):le.endsWith("taxi")?e.findTaxiPoints(te,Oe):le==="straight"||!me&&F.eles.length%2===1&&se===Math.floor(F.eles.length/2)?e.findStraightEdgePoints(te):e.findBezierPoints(te,Oe,se,me,_e),e.findEndpoints(te),e.tryToCorrectInvalidPoints(te,Oe),e.checkForInvalidEdgeWarning(te),e.storeAllpts(te),e.storeEdgeProjections(te),e.calculateArrowAngles(te),e.recalculateEdgeLabelProjections(te),e.calculateLabelAngles(te)}},B=0;B<l.length;B++)O(B);this.findHaystackPoints(u)}};function qx(n){var e=[];if(n!=null){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];e.push({x:r,y:i})}return e}}sa.getSegmentPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="segments")return qx(e.segpts)};sa.getControlPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return qx(e.ctrlpts)};sa.getEdgeMidpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),{x:e.midX,y:e.midY}};var Fg={};Fg.manualEndptToPx=function(n,e){var t=this,r=n.position(),i=n.outerWidth(),o=n.outerHeight(),l=n._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*i),e.units[1]==="%"&&(u[1]=u[1]*o),u[0]+=r.x,u[1]+=r.y,u}else{var c=e.pfValue[0];c=-Math.PI/2+c;var f=2*Math.max(i,o),v=[r.x+Math.cos(c)*f,r.y+Math.sin(c)*f];return t.nodeShapes[this.getNodeShape(n)].intersectLine(r.x,r.y,i,o,v[0],v[1],0,n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,l)}};Fg.findEndpoints=function(n){var e=this,t,r=n.source()[0],i=n.target()[0],o=r.position(),l=i.position(),u=n.pstyle("target-arrow-shape").value,c=n.pstyle("source-arrow-shape").value,f=n.pstyle("target-distance-from-node").pfValue,v=n.pstyle("source-distance-from-node").pfValue,g=r._private.rscratch,b=i._private.rscratch,y=n.pstyle("curve-style").value,E=n._private.rscratch,x=E.edgeType,T=y==="taxi",w=x==="self"||x==="compound",R=x==="bezier"||x==="multibezier"||w,A=x!=="bezier",O=x==="straight"||x==="segments",B=x==="segments",z=R||A||O,N=w||T,U=n.pstyle("source-endpoint"),F=N?"outside-to-node":U.value,V=r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,Y=n.pstyle("target-endpoint"),H=N?"outside-to-node":Y.value,$=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;E.srcManEndpt=U,E.tgtManEndpt=Y;var D,_,I,L;if(R){var k=[E.ctrlpts[0],E.ctrlpts[1]],K=A?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:k;D=K,_=k}else if(O){var G=B?E.segpts.slice(0,2):[l.x,l.y],X=B?E.segpts.slice(E.segpts.length-2):[o.x,o.y];D=X,_=G}if(H==="inside-to-node")t=[l.x,l.y];else if(Y.units)t=this.manualEndptToPx(i,Y);else if(H==="outside-to-line")t=E.tgtIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?I=D:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(I=[o.x,o.y]),t=e.nodeShapes[this.getNodeShape(i)].intersectLine(l.x,l.y,i.outerWidth(),i.outerHeight(),I[0],I[1],0,$,b),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var Z=i._private.rscratch,J=Z.labelWidth,re=Z.labelHeight,ie=Z.labelX,oe=Z.labelY,he=J/2,se=re/2,te=i.pstyle("text-valign").value;te==="top"?oe-=se:te==="bottom"&&(oe+=se);var ae=i.pstyle("text-halign").value;ae==="left"?ie-=he:ae==="right"&&(ie+=he);var le=bg(I[0],I[1],[ie-he,oe-se,ie+he,oe-se,ie+he,oe+se,ie-he,oe+se],l.x,l.y);if(le.length>0){var me=o,_e=yf(me,vd(t)),Ae=yf(me,vd(le)),et=_e;if(Ae<_e&&(t=le,et=Ae),le.length>2){var ot=yf(me,{x:le[2],y:le[3]});ot<et&&(t=[le[2],le[3]])}}}var rt=$m(t,D,e.arrowShapes[u].spacing(n)+f),Pe=$m(t,D,e.arrowShapes[u].gap(n)+f);if(E.endX=Pe[0],E.endY=Pe[1],E.arrowEndX=rt[0],E.arrowEndY=rt[1],F==="inside-to-node")t=[o.x,o.y];else if(U.units)t=this.manualEndptToPx(r,U);else if(F==="outside-to-line")t=E.srcIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?L=_:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(L=[l.x,l.y]),t=e.nodeShapes[this.getNodeShape(r)].intersectLine(o.x,o.y,r.outerWidth(),r.outerHeight(),L[0],L[1],0,V,g),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var Ve=r._private.rscratch,Ke=Ve.labelWidth,Qe=Ve.labelHeight,at=Ve.labelX,tt=Ve.labelY,it=Ke/2,dt=Qe/2,Oe=r.pstyle("text-valign").value;Oe==="top"?tt-=dt:Oe==="bottom"&&(tt+=dt);var j=r.pstyle("text-halign").value;j==="left"?at-=it:j==="right"&&(at+=it);var pe=bg(L[0],L[1],[at-it,tt-dt,at+it,tt-dt,at+it,tt+dt,at-it,tt+dt],o.x,o.y);if(pe.length>0){var Le=l,Te=yf(Le,vd(t)),Re=yf(Le,vd(pe)),ye=Te;if(Re<Te&&(t=[pe[0],pe[1]],ye=Re),pe.length>2){var de=yf(Le,{x:pe[2],y:pe[3]});de<ye&&(t=[pe[2],pe[3]])}}}var Se=$m(t,_,e.arrowShapes[c].spacing(n)+v),ke=$m(t,_,e.arrowShapes[c].gap(n)+v);E.startX=ke[0],E.startY=ke[1],E.arrowStartX=Se[0],E.arrowStartY=Se[1],z&&(!lt(E.startX)||!lt(E.startY)||!lt(E.endX)||!lt(E.endY)?E.badLine=!0:E.badLine=!1)};Fg.getSourceEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Fg.getTargetEndpoint=function(n){var e=n[0]._private.rscratch;switch(this.recalculateRenderedStyle(n),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var dE={};function wI(n,e,t){for(var r=function(f,v,g,b){return Nr(f,v,g,b)},i=e._private,o=i.rstyle.bezierPts,l=0;l<n.bezierProjPcts.length;l++){var u=n.bezierProjPcts[l];o.push({x:r(t[0],t[2],t[4],u),y:r(t[1],t[3],t[5],u)})}}dE.storeEdgeProjections=function(n){var e=n._private,t=e.rscratch,r=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<t.allpts.length;i+=4)wI(this,n,t.allpts.slice(i,i+6))}else if(r==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<t.allpts.length;i+=2)o.push({x:t.allpts[i],y:t.allpts[i+1]});else if(r==="haystack"){var l=t.haystackPts;e.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth};dE.recalculateEdgeProjections=function(n){this.findEdgeControlPoints(n)};var cs={};cs.recalculateNodeLabelProjection=function(n){var e=n.pstyle("label").strValue;if(!Ql(e)){var t,r,i=n._private,o=n.width(),l=n.height(),u=n.padding(),c=n.position(),f=n.pstyle("text-halign").strValue,v=n.pstyle("text-valign").strValue,g=i.rscratch,b=i.rstyle;switch(f){case"left":t=c.x-o/2-u;break;case"right":t=c.x+o/2+u;break;default:t=c.x}switch(v){case"top":r=c.y-l/2-u;break;case"bottom":r=c.y+l/2+u;break;default:r=c.y}g.labelX=t,g.labelY=r,b.labelX=t,b.labelY=r,this.calculateLabelAngles(n),this.applyLabelDimensions(n)}};var Xx=function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},Wx=function(e,t){var r=t.x-e.x,i=t.y-e.y;return Xx(r,i)},TI=function(e,t,r,i){var o=yg(0,i-.001,1),l=yg(0,i+.001,1),u=md(e,t,r,o),c=md(e,t,r,l);return Wx(u,c)};cs.recalculateEdgeLabelProjections=function(n){var e,t=n._private,r=t.rscratch,i=this,o={mid:n.pstyle("label").strValue,source:n.pstyle("source-label").strValue,target:n.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:r.midX,y:r.midY};var l=function(g,b,y){Yl(t.rscratch,g,b,y),Yl(t.rstyle,g,b,y)};l("labelX",null,e.x),l("labelY",null,e.y);var u=Xx(r.midDispX,r.midDispY);l("labelAutoAngle",null,u);var c=function v(){if(v.cache)return v.cache;for(var g=[],b=0;b+5<r.allpts.length;b+=4){var y={x:r.allpts[b],y:r.allpts[b+1]},E={x:r.allpts[b+2],y:r.allpts[b+3]},x={x:r.allpts[b+4],y:r.allpts[b+5]};g.push({p0:y,p1:E,p2:x,startDist:0,length:0,segments:[]})}var T=t.rstyle.bezierPts,w=i.bezierProjPcts.length;function R(N,U,F,V,Y){var H=Nf(U,F),$=N.segments[N.segments.length-1],D={p0:U,p1:F,t0:V,t1:Y,startDist:$?$.startDist+$.length:0,length:H};N.segments.push(D),N.length+=H}for(var A=0;A<g.length;A++){var O=g[A],B=g[A-1];B&&(O.startDist=B.startDist+B.length),R(O,O.p0,T[A*w],0,i.bezierProjPcts[0]);for(var z=0;z<w-1;z++)R(O,T[A*w+z],T[A*w+z+1],i.bezierProjPcts[z],i.bezierProjPcts[z+1]);R(O,T[A*w+w-1],O.p2,i.bezierProjPcts[w-1],1)}return v.cache=g},f=function(g){var b,y=g==="source";if(o[g]){var E=n.pstyle(g+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var x=c(),T,w=0,R=0,A=0;A<x.length;A++){for(var O=x[y?A:x.length-1-A],B=0;B<O.segments.length;B++){var z=O.segments[y?B:O.segments.length-1-B],N=A===x.length-1&&B===O.segments.length-1;if(w=R,R+=z.length,R>=E||N){T={cp:O,segment:z};break}}if(T)break}var U=T.cp,F=T.segment,V=(E-w)/F.length,Y=F.t1-F.t0,H=y?F.t0+Y*V:F.t1-Y*V;H=yg(0,H,1),e=md(U.p0,U.p1,U.p2,H),b=TI(U.p0,U.p1,U.p2,H);break}case"straight":case"segments":case"haystack":{for(var $=0,D,_,I,L,k=r.allpts.length,K=0;K+3<k&&(y?(I={x:r.allpts[K],y:r.allpts[K+1]},L={x:r.allpts[K+2],y:r.allpts[K+3]}):(I={x:r.allpts[k-2-K],y:r.allpts[k-1-K]},L={x:r.allpts[k-4-K],y:r.allpts[k-3-K]}),D=Nf(I,L),_=$,$+=D,!($>=E));K+=2);var G=E-_,X=G/D;X=yg(0,X,1),e=OO(I,L,X),b=Wx(I,L);break}}l("labelX",g,e.x),l("labelY",g,e.y),l("labelAutoAngle",g,b)}};f("source"),f("target"),this.applyLabelDimensions(n)}};cs.applyLabelDimensions=function(n){this.applyPrefixedLabelDimensions(n),n.isEdge()&&(this.applyPrefixedLabelDimensions(n,"source"),this.applyPrefixedLabelDimensions(n,"target"))};cs.applyPrefixedLabelDimensions=function(n,e){var t=n._private,r=this.getLabelText(n,e),i=this.calculateLabelDimensions(n,r),o=n.pstyle("line-height").pfValue,l=n.pstyle("text-wrap").strValue,u=xo(t.rscratch,"labelWrapCachedLines",e)||[],c=l!=="wrap"?1:Math.max(u.length,1),f=i.height/c,v=f*o,g=i.width,b=i.height+(c-1)*(o-1)*f;Yl(t.rstyle,"labelWidth",e,g),Yl(t.rscratch,"labelWidth",e,g),Yl(t.rstyle,"labelHeight",e,b),Yl(t.rscratch,"labelHeight",e,b),Yl(t.rscratch,"labelLineHeight",e,v)};cs.getLabelText=function(n,e){var t=n._private,r=e?e+"-":"",i=n.pstyle(r+"label").strValue,o=n.pstyle("text-transform").value,l=function(J,re){return re?(Yl(t.rscratch,J,e,re),re):xo(t.rscratch,J,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var u=n.pstyle("text-wrap").value;if(u==="wrap"){var c=l("labelKey");if(c!=null&&l("labelWrapKey")===c)return l("labelWrapCachedText");for(var f="",v=i.split(`
`),g=n.pstyle("text-max-width").pfValue,b=n.pstyle("text-overflow-wrap").value,y=b==="anywhere",E=[],x=/[\s\u200b]+|$/g,T=0;T<v.length;T++){var w=v[T],R=this.calculateLabelDimensions(n,w),A=R.width;if(y){var O=w.split("").join(f);w=O}if(A>g){var B=w.matchAll(x),z="",N=0,U=bi(B),F;try{for(U.s();!(F=U.n()).done;){var V=F.value,Y=V[0],H=w.substring(N,V.index);N=V.index+Y.length;var $=z.length===0?H:z+H+Y,D=this.calculateLabelDimensions(n,$),_=D.width;_<=g?z+=H+Y:(z&&E.push(z),z=H+Y)}}catch(Z){U.e(Z)}finally{U.f()}z.match(/^[\s\u200b]+$/)||E.push(z)}else E.push(w)}l("labelWrapCachedLines",E),i=l("labelWrapCachedText",E.join(`
`)),l("labelWrapKey",c)}else if(u==="ellipsis"){var I=n.pstyle("text-max-width").pfValue,L="",k="",K=!1;if(this.calculateLabelDimensions(n,i).width<I)return i;for(var G=0;G<i.length;G++){var X=this.calculateLabelDimensions(n,L+i[G]+k).width;if(X>I)break;L+=i[G],G===i.length-1&&(K=!0)}return K||(L+=k),L}return i};cs.getLabelJustification=function(n){var e=n.pstyle("text-justification").strValue,t=n.pstyle("text-halign").strValue;if(e==="auto")if(n.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};cs.calculateLabelDimensions=function(n,e){var t=this,r=t.cy.window(),i=r.document,o=Jl(e,n._private.labelDimsKey),l=t.labelDimCache||(t.labelDimCache=[]),u=l[o];if(u!=null)return u;var c=0,f=n.pstyle("font-style").strValue,v=n.pstyle("font-size").pfValue,g=n.pstyle("font-family").strValue,b=n.pstyle("font-weight").strValue,y=this.labelCalcCanvas,E=this.labelCalcCanvasContext;if(!y){y=this.labelCalcCanvas=i.createElement("canvas"),E=this.labelCalcCanvasContext=y.getContext("2d");var x=y.style;x.position="absolute",x.left="-9999px",x.top="-9999px",x.zIndex="-1",x.visibility="hidden",x.pointerEvents="none"}E.font="".concat(f," ").concat(b," ").concat(v,"px ").concat(g);for(var T=0,w=0,R=e.split(`
`),A=0;A<R.length;A++){var O=R[A],B=E.measureText(O),z=Math.ceil(B.width),N=v;T=Math.max(z,T),w+=N}return T+=c,w+=c,l[o]={width:T,height:w}};cs.calculateLabelAngle=function(n,e){var t=n._private,r=t.rscratch,i=n.isEdge(),o=e?e+"-":"",l=n.pstyle(o+"text-rotation"),u=l.strValue;return u==="none"?0:i&&u==="autorotate"?r.labelAutoAngle:u==="autorotate"?0:l.pfValue};cs.calculateLabelAngles=function(n){var e=this,t=n.isEdge(),r=n._private,i=r.rscratch;i.labelAngle=e.calculateLabelAngle(n),t&&(i.sourceLabelAngle=e.calculateLabelAngle(n,"source"),i.targetLabelAngle=e.calculateLabelAngle(n,"target"))};var $x={},nT=28,rT=!1;$x.getNodeShape=function(n){var e=this,t=n.pstyle("shape").value;if(t==="cutrectangle"&&(n.width()<nT||n.height()<nT))return rT||(On("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),rT=!0),"rectangle";if(n.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var r=n.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(r).name}return t};var f0={};f0.registerCalculationListeners=function(){var n=this.cy,e=n.collection(),t=this,r=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(l),u)for(var c=0;c<l.length;c++){var f=l[c],v=f._private,g=v.rstyle;g.clean=!1,g.cleanConnected=!1}};t.binder(n).on("bounds.* dirty.*",function(l){var u=l.target;r(u)}).on("style.* background.*",function(l){var u=l.target;r(u,!1)});var i=function(l){if(l){var u=t.onUpdateEleCalcsFns;e.cleanStyle();for(var c=0;c<e.length;c++){var f=e[c],v=f._private.rstyle;f.isNode()&&!v.cleanConnected&&(r(f.connectedEdges()),v.cleanConnected=!0)}if(u)for(var g=0;g<u.length;g++){var b=u[g];b(l,e)}t.recalculateRenderedStyle(e),e=n.collection()}};t.flushRenderedStyleQueue=function(){i(!0)},t.beforeRender(i,t.beforeRenderPriorities.eleCalcs)};f0.onUpdateEleCalcs=function(n){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(n)};f0.recalculateRenderedStyle=function(n,e){var t=function(O){return O._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<n.length;o++){var l=n[o],u=l._private,c=u.rstyle;l.isEdge()&&(!t(l.source())||!t(l.target()))&&(c.clean=!1),!(e&&c.clean||l.removed())&&l.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(l):r.push(l),c.clean=!0)}for(var f=0;f<i.length;f++){var v=i[f],g=v._private,b=g.rstyle,y=v.position();this.recalculateNodeLabelProjection(v),b.nodeX=y.x,b.nodeY=y.y,b.nodeW=v.pstyle("width").pfValue,b.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var E=0;E<r.length;E++){var x=r[E],T=x._private,w=T.rstyle,R=T.rscratch;w.srcX=R.arrowStartX,w.srcY=R.arrowStartY,w.tgtX=R.arrowEndX,w.tgtY=R.arrowEndY,w.midX=R.midX,w.midY=R.midY,w.labelAngle=R.labelAngle,w.sourceLabelAngle=R.sourceLabelAngle,w.targetLabelAngle=R.targetLabelAngle}}};var c0={};c0.updateCachedGrabbedEles=function(){var n=this.cachedZSortedEles;if(n){n.drag=[],n.nondrag=[];for(var e=[],t=0;t<n.length;t++){var r=n[t],i=r._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?n.drag.push(r):n.nondrag.push(r)}for(var t=0;t<e.length;t++){var r=e[t];n.drag.push(r)}}};c0.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};c0.getCachedZSortedEles=function(n){if(n||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Nx),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Kx={};[Ff,ky,sa,Fg,dE,cs,$x,f0,c0].forEach(function(n){Lt(Kx,n)});var Zx={};Zx.getCachedImage=function(n,e,t){var r=this,i=r.imageCache=r.imageCache||{},o=i[n];if(o)return o.image.complete||o.image.addEventListener("load",t),o.image;o=i[n]=i[n]||{};var l=o.image=new Image;l.addEventListener("load",t),l.addEventListener("error",function(){l.error=!0});var u="data:",c=n.substring(0,u.length).toLowerCase()===u;return c||(e=e==="null"?null:e,l.crossOrigin=e),l.src=n,l};var Fd={};Fd.registerBinding=function(n,e,t,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(n)){for(var o=[],l=0;l<n.length;l++){var u=n[l];if(u!==void 0){var c=this.binder(u);o.push(c.on.apply(c,i))}}return o}var c=this.binder(n);return c.on.apply(c,i)};Fd.binder=function(n){var e=this,t=e.cy.window(),r=n===t||n===t.document||n===t.document.body||ZR(n);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});t.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var l=function(c,f,v){var g=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(g[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:n,args:g}),(n.addEventListener||n.on).apply(n,g),this};return{on:l,addEventListener:l,addListener:l,bind:l}};Fd.nodeIsDraggable=function(n){return n&&n.isNode()&&!n.locked()&&n.grabbable()};Fd.nodeIsGrabbable=function(n){return this.nodeIsDraggable(n)&&n.interactive()};Fd.load=function(){var n=this,e=n.cy.window(),t=function(j){return j.selected()},r=function(j){var pe=j.getRootNode();if(pe&&pe.nodeType===11&&pe.host!==void 0)return pe},i=function(j,pe,Le,Te){j==null&&(j=n.cy);for(var Re=0;Re<pe.length;Re++){var ye=pe[Re];j.emit({originalEvent:Le,type:ye,position:Te})}},o=function(j){return j.shiftKey||j.metaKey||j.ctrlKey},l=function(j,pe){var Le=!0;if(n.cy.hasCompoundNodes()&&j&&j.pannable())for(var Te=0;pe&&Te<pe.length;Te++){var j=pe[Te];if(j.isNode()&&j.isParent()&&!j.pannable()){Le=!1;break}}else Le=!0;return Le},u=function(j){j[0]._private.grabbed=!0},c=function(j){j[0]._private.grabbed=!1},f=function(j){j[0]._private.rscratch.inDragLayer=!0},v=function(j){j[0]._private.rscratch.inDragLayer=!1},g=function(j){j[0]._private.rscratch.isGrabTarget=!0},b=function(j){j[0]._private.rscratch.isGrabTarget=!1},y=function(j,pe){var Le=pe.addToList,Te=Le.has(j);!Te&&j.grabbable()&&!j.locked()&&(Le.merge(j),u(j))},E=function(j,pe){if(j.cy().hasCompoundNodes()&&!(pe.inDragLayer==null&&pe.addToList==null)){var Le=j.descendants();pe.inDragLayer&&(Le.forEach(f),Le.connectedEdges().forEach(f)),pe.addToList&&y(Le,pe)}},x=function(j,pe){pe=pe||{};var Le=j.cy().hasCompoundNodes();pe.inDragLayer&&(j.forEach(f),j.neighborhood().stdFilter(function(Te){return!Le||Te.isEdge()}).forEach(f)),pe.addToList&&j.forEach(function(Te){y(Te,pe)}),E(j,pe),R(j,{inDragLayer:pe.inDragLayer}),n.updateCachedGrabbedEles()},T=x,w=function(j){j&&(n.getCachedZSortedEles().forEach(function(pe){c(pe),v(pe),b(pe)}),n.updateCachedGrabbedEles())},R=function(j,pe){if(!(pe.inDragLayer==null&&pe.addToList==null)&&j.cy().hasCompoundNodes()){var Le=j.ancestors().orphans();if(!Le.same(j)){var Te=Le.descendants().spawnSelf().merge(Le).unmerge(j).unmerge(j.descendants()),Re=Te.connectedEdges();pe.inDragLayer&&(Re.forEach(f),Te.forEach(f)),pe.addToList&&Te.forEach(function(ye){y(ye,pe)})}}},A=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},O=typeof MutationObserver<"u",B=typeof ResizeObserver<"u";O?(n.removeObserver=new MutationObserver(function(Oe){for(var j=0;j<Oe.length;j++){var pe=Oe[j],Le=pe.removedNodes;if(Le)for(var Te=0;Te<Le.length;Te++){var Re=Le[Te];if(Re===n.container){n.destroy();break}}}}),n.container.parentNode&&n.removeObserver.observe(n.container.parentNode,{childList:!0})):n.registerBinding(n.container,"DOMNodeRemoved",function(Oe){n.destroy()});var z=Ig(function(){n.cy.resize()},100);O&&(n.styleObserver=new MutationObserver(z),n.styleObserver.observe(n.container,{attributes:!0})),n.registerBinding(e,"resize",z),B&&(n.resizeObserver=new ResizeObserver(z),n.resizeObserver.observe(n.container));var N=function(j,pe){for(;j!=null;)pe(j),j=j.parentNode},U=function(){n.invalidateContainerClientCoordsCache()};N(n.container,function(Oe){n.registerBinding(Oe,"transitionend",U),n.registerBinding(Oe,"animationend",U),n.registerBinding(Oe,"scroll",U)}),n.registerBinding(n.container,"contextmenu",function(Oe){Oe.preventDefault()});var F=function(){return n.selection[4]!==0},V=function(j){for(var pe=n.findContainerClientCoords(),Le=pe[0],Te=pe[1],Re=pe[2],ye=pe[3],de=j.touches?j.touches:[j],Se=!1,ke=0;ke<de.length;ke++){var Ie=de[ke];if(Le<=Ie.clientX&&Ie.clientX<=Le+Re&&Te<=Ie.clientY&&Ie.clientY<=Te+ye){Se=!0;break}}if(!Se)return!1;for(var Fe=n.container,nt=j.target,Ze=nt.parentNode,ze=!1;Ze;){if(Ze===Fe){ze=!0;break}Ze=Ze.parentNode}return!!ze};n.registerBinding(n.container,"mousedown",function(j){if(V(j)&&!(n.hoverData.which===1&&j.which!==1)){j.preventDefault(),A(),n.hoverData.capture=!0,n.hoverData.which=j.which;var pe=n.cy,Le=[j.clientX,j.clientY],Te=n.projectIntoViewport(Le[0],Le[1]),Re=n.selection,ye=n.findNearestElements(Te[0],Te[1],!0,!1),de=ye[0],Se=n.dragData.possibleDragElements;n.hoverData.mdownPos=Te,n.hoverData.mdownGPos=Le;var ke=function(){n.hoverData.tapholdCancelled=!1,clearTimeout(n.hoverData.tapholdTimeout),n.hoverData.tapholdTimeout=setTimeout(function(){if(!n.hoverData.tapholdCancelled){var $e=n.hoverData.down;$e?$e.emit({originalEvent:j,type:"taphold",position:{x:Te[0],y:Te[1]}}):pe.emit({originalEvent:j,type:"taphold",position:{x:Te[0],y:Te[1]}})}},n.tapholdDuration)};if(j.which==3){n.hoverData.cxtStarted=!0;var Ie={originalEvent:j,type:"cxttapstart",position:{x:Te[0],y:Te[1]}};de?(de.activate(),de.emit(Ie),n.hoverData.down=de):pe.emit(Ie),n.hoverData.downTime=new Date().getTime(),n.hoverData.cxtDragged=!1}else if(j.which==1){de&&de.activate();{if(de!=null&&n.nodeIsGrabbable(de)){var Fe=function($e){return{originalEvent:j,type:$e,position:{x:Te[0],y:Te[1]}}},nt=function($e){$e.emit(Fe("grab"))};if(g(de),!de.selected())Se=n.dragData.possibleDragElements=pe.collection(),T(de,{addToList:Se}),de.emit(Fe("grabon")).emit(Fe("grab"));else{Se=n.dragData.possibleDragElements=pe.collection();var Ze=pe.$(function(ze){return ze.isNode()&&ze.selected()&&n.nodeIsGrabbable(ze)});x(Ze,{addToList:Se}),de.emit(Fe("grabon")),Ze.forEach(nt)}n.redrawHint("eles",!0),n.redrawHint("drag",!0)}n.hoverData.down=de,n.hoverData.downs=ye,n.hoverData.downTime=new Date().getTime()}i(de,["mousedown","tapstart","vmousedown"],j,{x:Te[0],y:Te[1]}),de==null?(Re[4]=1,n.data.bgActivePosistion={x:Te[0],y:Te[1]},n.redrawHint("select",!0),n.redraw()):de.pannable()&&(Re[4]=1),ke()}Re[0]=Re[2]=Te[0],Re[1]=Re[3]=Te[1]}},!1);var Y=r(n.container);n.registerBinding([e,Y],"mousemove",function(j){var pe=n.hoverData.capture;if(!(!pe&&!V(j))){var Le=!1,Te=n.cy,Re=Te.zoom(),ye=[j.clientX,j.clientY],de=n.projectIntoViewport(ye[0],ye[1]),Se=n.hoverData.mdownPos,ke=n.hoverData.mdownGPos,Ie=n.selection,Fe=null;!n.hoverData.draggingEles&&!n.hoverData.dragging&&!n.hoverData.selecting&&(Fe=n.findNearestElement(de[0],de[1],!0,!1));var nt=n.hoverData.last,Ze=n.hoverData.down,ze=[de[0]-Ie[2],de[1]-Ie[3]],$e=n.dragData.possibleDragElements,ut;if(ke){var St=ye[0]-ke[0],bt=St*St,Rt=ye[1]-ke[1],ht=Rt*Rt,st=bt+ht;n.hoverData.isOverThresholdDrag=ut=st>=n.desktopTapThreshold2}var At=o(j);ut&&(n.hoverData.tapholdCancelled=!0);var vt=function(){var cn=n.hoverData.dragDelta=n.hoverData.dragDelta||[];cn.length===0?(cn.push(ze[0]),cn.push(ze[1])):(cn[0]+=ze[0],cn[1]+=ze[1])};Le=!0,i(Fe,["mousemove","vmousemove","tapdrag"],j,{x:de[0],y:de[1]});var gt=function(){n.data.bgActivePosistion=void 0,n.hoverData.selecting||Te.emit({originalEvent:j,type:"boxstart",position:{x:de[0],y:de[1]}}),Ie[4]=1,n.hoverData.selecting=!0,n.redrawHint("select",!0),n.redraw()};if(n.hoverData.which===3){if(ut){var ln={originalEvent:j,type:"cxtdrag",position:{x:de[0],y:de[1]}};Ze?Ze.emit(ln):Te.emit(ln),n.hoverData.cxtDragged=!0,(!n.hoverData.cxtOver||Fe!==n.hoverData.cxtOver)&&(n.hoverData.cxtOver&&n.hoverData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:de[0],y:de[1]}}),n.hoverData.cxtOver=Fe,Fe&&Fe.emit({originalEvent:j,type:"cxtdragover",position:{x:de[0],y:de[1]}}))}}else if(n.hoverData.dragging){if(Le=!0,Te.panningEnabled()&&Te.userPanningEnabled()){var Mt;if(n.hoverData.justStartedPan){var It=n.hoverData.mdownPos;Mt={x:(de[0]-It[0])*Re,y:(de[1]-It[1])*Re},n.hoverData.justStartedPan=!1}else Mt={x:ze[0]*Re,y:ze[1]*Re};Te.panBy(Mt),Te.emit("dragpan"),n.hoverData.dragged=!0}de=n.projectIntoViewport(j.clientX,j.clientY)}else if(Ie[4]==1&&(Ze==null||Ze.pannable())){if(ut){if(!n.hoverData.dragging&&Te.boxSelectionEnabled()&&(At||!Te.panningEnabled()||!Te.userPanningEnabled()))gt();else if(!n.hoverData.selecting&&Te.panningEnabled()&&Te.userPanningEnabled()){var Bn=l(Ze,n.hoverData.downs);Bn&&(n.hoverData.dragging=!0,n.hoverData.justStartedPan=!0,Ie[4]=0,n.data.bgActivePosistion=vd(Se),n.redrawHint("select",!0),n.redraw())}Ze&&Ze.pannable()&&Ze.active()&&Ze.unactivate()}}else{if(Ze&&Ze.pannable()&&Ze.active()&&Ze.unactivate(),(!Ze||!Ze.grabbed())&&Fe!=nt&&(nt&&i(nt,["mouseout","tapdragout"],j,{x:de[0],y:de[1]}),Fe&&i(Fe,["mouseover","tapdragover"],j,{x:de[0],y:de[1]}),n.hoverData.last=Fe),Ze)if(ut){if(Te.boxSelectionEnabled()&&At)Ze&&Ze.grabbed()&&(w($e),Ze.emit("freeon"),$e.emit("free"),n.dragData.didDrag&&(Ze.emit("dragfreeon"),$e.emit("dragfree"))),gt();else if(Ze&&Ze.grabbed()&&n.nodeIsDraggable(Ze)){var $t=!n.dragData.didDrag;$t&&n.redrawHint("eles",!0),n.dragData.didDrag=!0,n.hoverData.draggingEles||x($e,{inDragLayer:!0});var rn={x:0,y:0};if(lt(ze[0])&&lt(ze[1])&&(rn.x+=ze[0],rn.y+=ze[1],$t)){var Ut=n.hoverData.dragDelta;Ut&&lt(Ut[0])&&lt(Ut[1])&&(rn.x+=Ut[0],rn.y+=Ut[1])}n.hoverData.draggingEles=!0,$e.silentShift(rn).emit("position drag"),n.redrawHint("drag",!0),n.redraw()}}else vt();Le=!0}if(Ie[2]=de[0],Ie[3]=de[1],Le)return j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),!1}},!1);var H,$,D;n.registerBinding(e,"mouseup",function(j){if(!(n.hoverData.which===1&&j.which!==1&&n.hoverData.capture)){var pe=n.hoverData.capture;if(pe){n.hoverData.capture=!1;var Le=n.cy,Te=n.projectIntoViewport(j.clientX,j.clientY),Re=n.selection,ye=n.findNearestElement(Te[0],Te[1],!0,!1),de=n.dragData.possibleDragElements,Se=n.hoverData.down,ke=o(j);if(n.data.bgActivePosistion&&(n.redrawHint("select",!0),n.redraw()),n.hoverData.tapholdCancelled=!0,n.data.bgActivePosistion=void 0,Se&&Se.unactivate(),n.hoverData.which===3){var Ie={originalEvent:j,type:"cxttapend",position:{x:Te[0],y:Te[1]}};if(Se?Se.emit(Ie):Le.emit(Ie),!n.hoverData.cxtDragged){var Fe={originalEvent:j,type:"cxttap",position:{x:Te[0],y:Te[1]}};Se?Se.emit(Fe):Le.emit(Fe)}n.hoverData.cxtDragged=!1,n.hoverData.which=null}else if(n.hoverData.which===1){if(i(ye,["mouseup","tapend","vmouseup"],j,{x:Te[0],y:Te[1]}),!n.dragData.didDrag&&!n.hoverData.dragged&&!n.hoverData.selecting&&!n.hoverData.isOverThresholdDrag&&(i(Se,["click","tap","vclick"],j,{x:Te[0],y:Te[1]}),$=!1,j.timeStamp-D<=Le.multiClickDebounceTime()?(H&&clearTimeout(H),$=!0,D=null,i(Se,["dblclick","dbltap","vdblclick"],j,{x:Te[0],y:Te[1]})):(H=setTimeout(function(){$||i(Se,["oneclick","onetap","voneclick"],j,{x:Te[0],y:Te[1]})},Le.multiClickDebounceTime()),D=j.timeStamp)),Se==null&&!n.dragData.didDrag&&!n.hoverData.selecting&&!n.hoverData.dragged&&!o(j)&&(Le.$(t).unselect(["tapunselect"]),de.length>0&&n.redrawHint("eles",!0),n.dragData.possibleDragElements=de=Le.collection()),ye==Se&&!n.dragData.didDrag&&!n.hoverData.selecting&&ye!=null&&ye._private.selectable&&(n.hoverData.dragging||(Le.selectionType()==="additive"||ke?ye.selected()?ye.unselect(["tapunselect"]):ye.select(["tapselect"]):ke||(Le.$(t).unmerge(ye).unselect(["tapunselect"]),ye.select(["tapselect"]))),n.redrawHint("eles",!0)),n.hoverData.selecting){var nt=Le.collection(n.getAllInBox(Re[0],Re[1],Re[2],Re[3]));n.redrawHint("select",!0),nt.length>0&&n.redrawHint("eles",!0),Le.emit({type:"boxend",originalEvent:j,position:{x:Te[0],y:Te[1]}});var Ze=function(ut){return ut.selectable()&&!ut.selected()};Le.selectionType()==="additive"||ke||Le.$(t).unmerge(nt).unselect(),nt.emit("box").stdFilter(Ze).select().emit("boxselect"),n.redraw()}if(n.hoverData.dragging&&(n.hoverData.dragging=!1,n.redrawHint("select",!0),n.redrawHint("eles",!0),n.redraw()),!Re[4]){n.redrawHint("drag",!0),n.redrawHint("eles",!0);var ze=Se&&Se.grabbed();w(de),ze&&(Se.emit("freeon"),de.emit("free"),n.dragData.didDrag&&(Se.emit("dragfreeon"),de.emit("dragfree")))}}Re[4]=0,n.hoverData.down=null,n.hoverData.cxtStarted=!1,n.hoverData.draggingEles=!1,n.hoverData.selecting=!1,n.hoverData.isOverThresholdDrag=!1,n.dragData.didDrag=!1,n.hoverData.dragged=!1,n.hoverData.dragDelta=[],n.hoverData.mdownPos=null,n.hoverData.mdownGPos=null,n.hoverData.which=null}}},!1);var _=function(j){if(!n.scrollingPage){var pe=n.cy,Le=pe.zoom(),Te=pe.pan(),Re=n.projectIntoViewport(j.clientX,j.clientY),ye=[Re[0]*Le+Te.x,Re[1]*Le+Te.y];if(n.hoverData.draggingEles||n.hoverData.dragging||n.hoverData.cxtStarted||F()){j.preventDefault();return}if(pe.panningEnabled()&&pe.userPanningEnabled()&&pe.zoomingEnabled()&&pe.userZoomingEnabled()){j.preventDefault(),n.data.wheelZooming=!0,clearTimeout(n.data.wheelTimeout),n.data.wheelTimeout=setTimeout(function(){n.data.wheelZooming=!1,n.redrawHint("eles",!0),n.redraw()},150);var de;j.deltaY!=null?de=j.deltaY/-250:j.wheelDeltaY!=null?de=j.wheelDeltaY/1e3:de=j.wheelDelta/1e3,de=de*n.wheelSensitivity;var Se=j.deltaMode===1;Se&&(de*=33);var ke=pe.zoom()*Math.pow(10,de);j.type==="gesturechange"&&(ke=n.gestureStartZoom*j.scale),pe.zoom({level:ke,renderedPosition:{x:ye[0],y:ye[1]}}),pe.emit(j.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};n.registerBinding(n.container,"wheel",_,!0),n.registerBinding(e,"scroll",function(j){n.scrollingPage=!0,clearTimeout(n.scrollingPageTimeout),n.scrollingPageTimeout=setTimeout(function(){n.scrollingPage=!1},250)},!0),n.registerBinding(n.container,"gesturestart",function(j){n.gestureStartZoom=n.cy.zoom(),n.hasTouchStarted||j.preventDefault()},!0),n.registerBinding(n.container,"gesturechange",function(Oe){n.hasTouchStarted||_(Oe)},!0),n.registerBinding(n.container,"mouseout",function(j){var pe=n.projectIntoViewport(j.clientX,j.clientY);n.cy.emit({originalEvent:j,type:"mouseout",position:{x:pe[0],y:pe[1]}})},!1),n.registerBinding(n.container,"mouseover",function(j){var pe=n.projectIntoViewport(j.clientX,j.clientY);n.cy.emit({originalEvent:j,type:"mouseover",position:{x:pe[0],y:pe[1]}})},!1);var I,L,k,K,G,X,Z,J,re,ie,oe,he,se,te=function(j,pe,Le,Te){return Math.sqrt((Le-j)*(Le-j)+(Te-pe)*(Te-pe))},ae=function(j,pe,Le,Te){return(Le-j)*(Le-j)+(Te-pe)*(Te-pe)},le;n.registerBinding(n.container,"touchstart",le=function(j){if(n.hasTouchStarted=!0,!!V(j)){A(),n.touchData.capture=!0,n.data.bgActivePosistion=void 0;var pe=n.cy,Le=n.touchData.now,Te=n.touchData.earlier;if(j.touches[0]){var Re=n.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Le[0]=Re[0],Le[1]=Re[1]}if(j.touches[1]){var Re=n.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);Le[2]=Re[0],Le[3]=Re[1]}if(j.touches[2]){var Re=n.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);Le[4]=Re[0],Le[5]=Re[1]}if(j.touches[1]){n.touchData.singleTouchMoved=!0,w(n.dragData.touchDragEles);var ye=n.findContainerClientCoords();re=ye[0],ie=ye[1],oe=ye[2],he=ye[3],I=j.touches[0].clientX-re,L=j.touches[0].clientY-ie,k=j.touches[1].clientX-re,K=j.touches[1].clientY-ie,se=0<=I&&I<=oe&&0<=k&&k<=oe&&0<=L&&L<=he&&0<=K&&K<=he;var de=pe.pan(),Se=pe.zoom();G=te(I,L,k,K),X=ae(I,L,k,K),Z=[(I+k)/2,(L+K)/2],J=[(Z[0]-de.x)/Se,(Z[1]-de.y)/Se];var ke=200,Ie=ke*ke;if(X<Ie&&!j.touches[2]){var Fe=n.findNearestElement(Le[0],Le[1],!0,!0),nt=n.findNearestElement(Le[2],Le[3],!0,!0);Fe&&Fe.isNode()?(Fe.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:Le[0],y:Le[1]}}),n.touchData.start=Fe):nt&&nt.isNode()?(nt.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:Le[0],y:Le[1]}}),n.touchData.start=nt):pe.emit({originalEvent:j,type:"cxttapstart",position:{x:Le[0],y:Le[1]}}),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!0,n.touchData.cxtDragged=!1,n.data.bgActivePosistion=void 0,n.redraw();return}}if(j.touches[2])pe.boxSelectionEnabled()&&j.preventDefault();else if(!j.touches[1]){if(j.touches[0]){var Ze=n.findNearestElements(Le[0],Le[1],!0,!0),ze=Ze[0];if(ze!=null&&(ze.activate(),n.touchData.start=ze,n.touchData.starts=Ze,n.nodeIsGrabbable(ze))){var $e=n.dragData.touchDragEles=pe.collection(),ut=null;n.redrawHint("eles",!0),n.redrawHint("drag",!0),ze.selected()?(ut=pe.$(function(st){return st.selected()&&n.nodeIsGrabbable(st)}),x(ut,{addToList:$e})):T(ze,{addToList:$e}),g(ze);var St=function(At){return{originalEvent:j,type:At,position:{x:Le[0],y:Le[1]}}};ze.emit(St("grabon")),ut?ut.forEach(function(st){st.emit(St("grab"))}):ze.emit(St("grab"))}i(ze,["touchstart","tapstart","vmousedown"],j,{x:Le[0],y:Le[1]}),ze==null&&(n.data.bgActivePosistion={x:Re[0],y:Re[1]},n.redrawHint("select",!0),n.redraw()),n.touchData.singleTouchMoved=!1,n.touchData.singleTouchStartTime=+new Date,clearTimeout(n.touchData.tapholdTimeout),n.touchData.tapholdTimeout=setTimeout(function(){n.touchData.singleTouchMoved===!1&&!n.pinching&&!n.touchData.selecting&&i(n.touchData.start,["taphold"],j,{x:Le[0],y:Le[1]})},n.tapholdDuration)}}if(j.touches.length>=1){for(var bt=n.touchData.startPosition=[null,null,null,null,null,null],Rt=0;Rt<Le.length;Rt++)bt[Rt]=Te[Rt]=Le[Rt];var ht=j.touches[0];n.touchData.startGPosition=[ht.clientX,ht.clientY]}}},!1);var me;n.registerBinding(e,"touchmove",me=function(j){var pe=n.touchData.capture;if(!(!pe&&!V(j))){var Le=n.selection,Te=n.cy,Re=n.touchData.now,ye=n.touchData.earlier,de=Te.zoom();if(j.touches[0]){var Se=n.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Re[0]=Se[0],Re[1]=Se[1]}if(j.touches[1]){var Se=n.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);Re[2]=Se[0],Re[3]=Se[1]}if(j.touches[2]){var Se=n.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);Re[4]=Se[0],Re[5]=Se[1]}var ke=n.touchData.startGPosition,Ie;if(pe&&j.touches[0]&&ke){for(var Fe=[],nt=0;nt<Re.length;nt++)Fe[nt]=Re[nt]-ye[nt];var Ze=j.touches[0].clientX-ke[0],ze=Ze*Ze,$e=j.touches[0].clientY-ke[1],ut=$e*$e,St=ze+ut;Ie=St>=n.touchTapThreshold2}if(pe&&n.touchData.cxt){j.preventDefault();var bt=j.touches[0].clientX-re,Rt=j.touches[0].clientY-ie,ht=j.touches[1].clientX-re,st=j.touches[1].clientY-ie,At=ae(bt,Rt,ht,st),vt=At/X,gt=150,ln=gt*gt,Mt=1.5,It=Mt*Mt;if(vt>=It||At>=ln){n.touchData.cxt=!1,n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var Bn={originalEvent:j,type:"cxttapend",position:{x:Re[0],y:Re[1]}};n.touchData.start?(n.touchData.start.unactivate().emit(Bn),n.touchData.start=null):Te.emit(Bn)}}if(pe&&n.touchData.cxt){var Bn={originalEvent:j,type:"cxtdrag",position:{x:Re[0],y:Re[1]}};n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.touchData.start?n.touchData.start.emit(Bn):Te.emit(Bn),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxtDragged=!0;var $t=n.findNearestElement(Re[0],Re[1],!0,!0);(!n.touchData.cxtOver||$t!==n.touchData.cxtOver)&&(n.touchData.cxtOver&&n.touchData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:Re[0],y:Re[1]}}),n.touchData.cxtOver=$t,$t&&$t.emit({originalEvent:j,type:"cxtdragover",position:{x:Re[0],y:Re[1]}}))}else if(pe&&j.touches[2]&&Te.boxSelectionEnabled())j.preventDefault(),n.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,n.touchData.selecting||Te.emit({originalEvent:j,type:"boxstart",position:{x:Re[0],y:Re[1]}}),n.touchData.selecting=!0,n.touchData.didSelect=!0,Le[4]=1,!Le||Le.length===0||Le[0]===void 0?(Le[0]=(Re[0]+Re[2]+Re[4])/3,Le[1]=(Re[1]+Re[3]+Re[5])/3,Le[2]=(Re[0]+Re[2]+Re[4])/3+1,Le[3]=(Re[1]+Re[3]+Re[5])/3+1):(Le[2]=(Re[0]+Re[2]+Re[4])/3,Le[3]=(Re[1]+Re[3]+Re[5])/3),n.redrawHint("select",!0),n.redraw();else if(pe&&j.touches[1]&&!n.touchData.didSelect&&Te.zoomingEnabled()&&Te.panningEnabled()&&Te.userZoomingEnabled()&&Te.userPanningEnabled()){j.preventDefault(),n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var rn=n.dragData.touchDragEles;if(rn){n.redrawHint("drag",!0);for(var Ut=0;Ut<rn.length;Ut++){var fn=rn[Ut]._private;fn.grabbed=!1,fn.rscratch.inDragLayer=!1}}var cn=n.touchData.start,bt=j.touches[0].clientX-re,Rt=j.touches[0].clientY-ie,ht=j.touches[1].clientX-re,st=j.touches[1].clientY-ie,la=te(bt,Rt,ht,st),ua=la/G;if(se){var Ja=bt-I,Ti=Rt-L,La=ht-k,Ia=st-K,Ba=(Ja+La)/2,xr=(Ti+Ia)/2,_r=Te.zoom(),Cr=_r*ua,Wr=Te.pan(),Sn=J[0]*_r+Wr.x,hs=J[1]*_r+Wr.y,Ao={x:-Cr/_r*(Sn-Wr.x-Ba)+Sn,y:-Cr/_r*(hs-Wr.y-xr)+hs};if(cn&&cn.active()){var rn=n.dragData.touchDragEles;w(rn),n.redrawHint("drag",!0),n.redrawHint("eles",!0),cn.unactivate().emit("freeon"),rn.emit("free"),n.dragData.didDrag&&(cn.emit("dragfreeon"),rn.emit("dragfree"))}Te.viewport({zoom:Cr,pan:Ao,cancelOnFailedZoom:!0}),Te.emit("pinchzoom"),G=la,I=bt,L=Rt,k=ht,K=st,n.pinching=!0}if(j.touches[0]){var Se=n.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Re[0]=Se[0],Re[1]=Se[1]}if(j.touches[1]){var Se=n.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);Re[2]=Se[0],Re[3]=Se[1]}if(j.touches[2]){var Se=n.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);Re[4]=Se[0],Re[5]=Se[1]}}else if(j.touches[0]&&!n.touchData.didSelect){var $n=n.touchData.start,$r=n.touchData.last,$t;if(!n.hoverData.draggingEles&&!n.swipePanning&&($t=n.findNearestElement(Re[0],Re[1],!0,!0)),pe&&$n!=null&&j.preventDefault(),pe&&$n!=null&&n.nodeIsDraggable($n))if(Ie){var rn=n.dragData.touchDragEles,gr=!n.dragData.didDrag;gr&&x(rn,{inDragLayer:!0}),n.dragData.didDrag=!0;var ja={x:0,y:0};if(lt(Fe[0])&&lt(Fe[1])&&(ja.x+=Fe[0],ja.y+=Fe[1],gr)){n.redrawHint("eles",!0);var dn=n.touchData.dragDelta;dn&&lt(dn[0])&&lt(dn[1])&&(ja.x+=dn[0],ja.y+=dn[1])}n.hoverData.draggingEles=!0,rn.silentShift(ja).emit("position drag"),n.redrawHint("drag",!0),n.touchData.startPosition[0]==ye[0]&&n.touchData.startPosition[1]==ye[1]&&n.redrawHint("eles",!0),n.redraw()}else{var dn=n.touchData.dragDelta=n.touchData.dragDelta||[];dn.length===0?(dn.push(Fe[0]),dn.push(Fe[1])):(dn[0]+=Fe[0],dn[1]+=Fe[1])}if(i($n||$t,["touchmove","tapdrag","vmousemove"],j,{x:Re[0],y:Re[1]}),(!$n||!$n.grabbed())&&$t!=$r&&($r&&$r.emit({originalEvent:j,type:"tapdragout",position:{x:Re[0],y:Re[1]}}),$t&&$t.emit({originalEvent:j,type:"tapdragover",position:{x:Re[0],y:Re[1]}})),n.touchData.last=$t,pe)for(var Ut=0;Ut<Re.length;Ut++)Re[Ut]&&n.touchData.startPosition[Ut]&&Ie&&(n.touchData.singleTouchMoved=!0);if(pe&&($n==null||$n.pannable())&&Te.panningEnabled()&&Te.userPanningEnabled()){var Ft=l($n,n.touchData.starts);Ft&&(j.preventDefault(),n.data.bgActivePosistion||(n.data.bgActivePosistion=vd(n.touchData.startPosition)),n.swipePanning?(Te.panBy({x:Fe[0]*de,y:Fe[1]*de}),Te.emit("dragpan")):Ie&&(n.swipePanning=!0,Te.panBy({x:Ze*de,y:$e*de}),Te.emit("dragpan"),$n&&($n.unactivate(),n.redrawHint("select",!0),n.touchData.start=null)));var Se=n.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Re[0]=Se[0],Re[1]=Se[1]}}for(var nt=0;nt<Re.length;nt++)ye[nt]=Re[nt];pe&&j.touches.length>0&&!n.hoverData.draggingEles&&!n.swipePanning&&n.data.bgActivePosistion!=null&&(n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.redraw())}},!1);var _e;n.registerBinding(e,"touchcancel",_e=function(j){var pe=n.touchData.start;n.touchData.capture=!1,pe&&pe.unactivate()});var Ae,et,ot,rt;if(n.registerBinding(e,"touchend",Ae=function(j){var pe=n.touchData.start,Le=n.touchData.capture;if(Le)j.touches.length===0&&(n.touchData.capture=!1),j.preventDefault();else return;var Te=n.selection;n.swipePanning=!1,n.hoverData.draggingEles=!1;var Re=n.cy,ye=Re.zoom(),de=n.touchData.now,Se=n.touchData.earlier;if(j.touches[0]){var ke=n.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);de[0]=ke[0],de[1]=ke[1]}if(j.touches[1]){var ke=n.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);de[2]=ke[0],de[3]=ke[1]}if(j.touches[2]){var ke=n.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);de[4]=ke[0],de[5]=ke[1]}pe&&pe.unactivate();var Ie;if(n.touchData.cxt){if(Ie={originalEvent:j,type:"cxttapend",position:{x:de[0],y:de[1]}},pe?pe.emit(Ie):Re.emit(Ie),!n.touchData.cxtDragged){var Fe={originalEvent:j,type:"cxttap",position:{x:de[0],y:de[1]}};pe?pe.emit(Fe):Re.emit(Fe)}n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!1,n.touchData.start=null,n.redraw();return}if(!j.touches[2]&&Re.boxSelectionEnabled()&&n.touchData.selecting){n.touchData.selecting=!1;var nt=Re.collection(n.getAllInBox(Te[0],Te[1],Te[2],Te[3]));Te[0]=void 0,Te[1]=void 0,Te[2]=void 0,Te[3]=void 0,Te[4]=0,n.redrawHint("select",!0),Re.emit({type:"boxend",originalEvent:j,position:{x:de[0],y:de[1]}});var Ze=function(ln){return ln.selectable()&&!ln.selected()};nt.emit("box").stdFilter(Ze).select().emit("boxselect"),nt.nonempty()&&n.redrawHint("eles",!0),n.redraw()}if(pe!=null&&pe.unactivate(),j.touches[2])n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);else if(!j.touches[1]){if(!j.touches[0]){if(!j.touches[0]){n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var ze=n.dragData.touchDragEles;if(pe!=null){var $e=pe._private.grabbed;w(ze),n.redrawHint("drag",!0),n.redrawHint("eles",!0),$e&&(pe.emit("freeon"),ze.emit("free"),n.dragData.didDrag&&(pe.emit("dragfreeon"),ze.emit("dragfree"))),i(pe,["touchend","tapend","vmouseup","tapdragout"],j,{x:de[0],y:de[1]}),pe.unactivate(),n.touchData.start=null}else{var ut=n.findNearestElement(de[0],de[1],!0,!0);i(ut,["touchend","tapend","vmouseup","tapdragout"],j,{x:de[0],y:de[1]})}var St=n.touchData.startPosition[0]-de[0],bt=St*St,Rt=n.touchData.startPosition[1]-de[1],ht=Rt*Rt,st=bt+ht,At=st*ye*ye;n.touchData.singleTouchMoved||(pe||Re.$(":selected").unselect(["tapunselect"]),i(pe,["tap","vclick"],j,{x:de[0],y:de[1]}),et=!1,j.timeStamp-rt<=Re.multiClickDebounceTime()?(ot&&clearTimeout(ot),et=!0,rt=null,i(pe,["dbltap","vdblclick"],j,{x:de[0],y:de[1]})):(ot=setTimeout(function(){et||i(pe,["onetap","voneclick"],j,{x:de[0],y:de[1]})},Re.multiClickDebounceTime()),rt=j.timeStamp)),pe!=null&&!n.dragData.didDrag&&pe._private.selectable&&At<n.touchTapThreshold2&&!n.pinching&&(Re.selectionType()==="single"?(Re.$(t).unmerge(pe).unselect(["tapunselect"]),pe.select(["tapselect"])):pe.selected()?pe.unselect(["tapunselect"]):pe.select(["tapselect"]),n.redrawHint("eles",!0)),n.touchData.singleTouchMoved=!0}}}for(var vt=0;vt<de.length;vt++)Se[vt]=de[vt];n.dragData.didDrag=!1,j.touches.length===0&&(n.touchData.dragDelta=[],n.touchData.startPosition=[null,null,null,null,null,null],n.touchData.startGPosition=null,n.touchData.didSelect=!1),j.touches.length<2&&(j.touches.length===1&&(n.touchData.startGPosition=[j.touches[0].clientX,j.touches[0].clientY]),n.pinching=!1,n.redrawHint("eles",!0),n.redraw())},!1),typeof TouchEvent>"u"){var Pe=[],Ve=function(j){return{clientX:j.clientX,clientY:j.clientY,force:1,identifier:j.pointerId,pageX:j.pageX,pageY:j.pageY,radiusX:j.width/2,radiusY:j.height/2,screenX:j.screenX,screenY:j.screenY,target:j.target}},Ke=function(j){return{event:j,touch:Ve(j)}},Qe=function(j){Pe.push(Ke(j))},at=function(j){for(var pe=0;pe<Pe.length;pe++){var Le=Pe[pe];if(Le.event.pointerId===j.pointerId){Pe.splice(pe,1);return}}},tt=function(j){var pe=Pe.filter(function(Le){return Le.event.pointerId===j.pointerId})[0];pe.event=j,pe.touch=Ve(j)},it=function(j){j.touches=Pe.map(function(pe){return pe.touch})},dt=function(j){return j.pointerType==="mouse"||j.pointerType===4};n.registerBinding(n.container,"pointerdown",function(Oe){dt(Oe)||(Oe.preventDefault(),Qe(Oe),it(Oe),le(Oe))}),n.registerBinding(n.container,"pointerup",function(Oe){dt(Oe)||(at(Oe),it(Oe),Ae(Oe))}),n.registerBinding(n.container,"pointercancel",function(Oe){dt(Oe)||(at(Oe),it(Oe),_e(Oe))}),n.registerBinding(n.container,"pointermove",function(Oe){dt(Oe)||(Oe.preventDefault(),tt(Oe),it(Oe),me(Oe))})}};var Ws={};Ws.generatePolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,draw:function(r,i,o,l,u,c){this.renderer.nodeShapeImpl("polygon",r,i,o,l,u,this.points)},intersectLine:function(r,i,o,l,u,c,f,v){return bg(u,c,this.points,r,i,o/2,l/2,f)},checkPoint:function(r,i,o,l,u,c,f,v){return Hs(r,i,this.points,c,f,l,u,[0,-1],o)}}};Ws.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o)},intersectLine:function(e,t,r,i,o,l,u,c){return HO(o,l,e,t,r/2+u,i/2+u)},checkPoint:function(e,t,r,i,o,l,u,c){return xf(e,t,i,o,l,u,r)}}};Ws.generateRoundPolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,getOrCreateCorners:function(r,i,o,l,u,c,f){if(c[f]!==void 0&&c[f+"-cx"]===r&&c[f+"-cy"]===i)return c[f];c[f]=new Array(e.length/2),c[f+"-cx"]=r,c[f+"-cy"]=i;var v=o/2,g=l/2;u=u==="auto"?jS(o,l):u;for(var b=new Array(e.length/2),y=0;y<e.length/2;y++)b[y]={x:r+v*e[y*2],y:i+g*e[y*2+1]};var E,x,T,w,R=b.length;for(x=b[R-1],E=0;E<R;E++)T=b[E%R],w=b[(E+1)%R],c[f][E]=cE(x,T,w,u),x=T,T=w;return c[f]},draw:function(r,i,o,l,u,c,f){this.renderer.nodeShapeImpl("round-polygon",r,i,o,l,u,this.points,this.getOrCreateCorners(i,o,l,u,c,f,"drawCorners"))},intersectLine:function(r,i,o,l,u,c,f,v,g){return VO(u,c,this.points,r,i,o,l,f,this.getOrCreateCorners(r,i,o,l,v,g,"corners"))},checkPoint:function(r,i,o,l,u,c,f,v,g){return GO(r,i,this.points,c,f,l,u,this.getOrCreateCorners(c,f,l,u,v,g,"corners"))}}};Ws.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Oa(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o,this.points,l)},intersectLine:function(e,t,r,i,o,l,u,c){return QS(o,l,e,t,r,i,u,c)},checkPoint:function(e,t,r,i,o,l,u,c){var f=i/2,v=o/2;c=c==="auto"?Lf(i,o):c,c=Math.min(f,v,c);var g=c*2;return!!(Hs(e,t,this.points,l,u,i,o-g,[0,-1],r)||Hs(e,t,this.points,l,u,i-g,o,[0,-1],r)||xf(e,t,g,g,l-f+c,u-v+c,r)||xf(e,t,g,g,l+f-c,u-v+c,r)||xf(e,t,g,g,l+f-c,u+v-c,r)||xf(e,t,g,g,l-f+c,u+v-c,r))}}};Ws.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:j1(),points:Oa(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o,null,l)},generateCutTrianglePts:function(e,t,r,i,o){var l=o==="auto"?this.cornerLength:o,u=t/2,c=e/2,f=r-c,v=r+c,g=i-u,b=i+u;return{topLeft:[f,g+l,f+l,g,f+l,g+l],topRight:[v-l,g,v,g+l,v-l,g+l],bottomRight:[v,b-l,v-l,b,v-l,b-l],bottomLeft:[f+l,b,f,b-l,f+l,b-l]}},intersectLine:function(e,t,r,i,o,l,u,c){var f=this.generateCutTrianglePts(r+2*u,i+2*u,e,t,c),v=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return bg(o,l,v,e,t)},checkPoint:function(e,t,r,i,o,l,u,c){var f=c==="auto"?this.cornerLength:c;if(Hs(e,t,this.points,l,u,i,o-2*f,[0,-1],r)||Hs(e,t,this.points,l,u,i-2*f,o,[0,-1],r))return!0;var v=this.generateCutTrianglePts(i,o,l,u);return Wa(e,t,v.topLeft)||Wa(e,t,v.topRight)||Wa(e,t,v.bottomRight)||Wa(e,t,v.bottomLeft)}}};Ws.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Oa(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o)},intersectLine:function(e,t,r,i,o,l,u,c){var f=.15,v=.5,g=.85,b=this.generateBarrelBezierPts(r+2*u,i+2*u,e,t),y=function(T){var w=md({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},f),R=md({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},v),A=md({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},g);return[T[0],T[1],w.x,w.y,R.x,R.y,A.x,A.y,T[4],T[5]]},E=[].concat(y(b.topLeft),y(b.topRight),y(b.bottomRight),y(b.bottomLeft));return bg(o,l,E,e,t)},generateBarrelBezierPts:function(e,t,r,i){var o=t/2,l=e/2,u=r-l,c=r+l,f=i-o,v=i+o,g=m1(e,t),b=g.heightOffset,y=g.widthOffset,E=g.ctrlPtOffsetPct*e,x={topLeft:[u,f+b,u+E,f,u+y,f],topRight:[c-y,f,c-E,f,c,f+b],bottomRight:[c,v-b,c-E,v,c-y,v],bottomLeft:[u+y,v,u+E,v,u,v-b]};return x.topLeft.isTop=!0,x.topRight.isTop=!0,x.bottomLeft.isBottom=!0,x.bottomRight.isBottom=!0,x},checkPoint:function(e,t,r,i,o,l,u,c){var f=m1(i,o),v=f.heightOffset,g=f.widthOffset;if(Hs(e,t,this.points,l,u,i,o-2*v,[0,-1],r)||Hs(e,t,this.points,l,u,i-2*g,o,[0,-1],r))return!0;for(var b=this.generateBarrelBezierPts(i,o,l,u),y=function(U,F,V){var Y=V[4],H=V[2],$=V[0],D=V[5],_=V[1],I=Math.min(Y,$),L=Math.max(Y,$),k=Math.min(D,_),K=Math.max(D,_);if(I<=U&&U<=L&&k<=F&&F<=K){var G=YO(Y,H,$),X=FO(G[0],G[1],G[2],U),Z=X.filter(function(J){return 0<=J&&J<=1});if(Z.length>0)return Z[0]}return null},E=Object.keys(b),x=0;x<E.length;x++){var T=E[x],w=b[T],R=y(e,t,w);if(R!=null){var A=w[5],O=w[3],B=w[1],z=Nr(A,O,B,R);if(w.isTop&&z<=t||w.isBottom&&t<=z)return!0}}return!1}}};Ws.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Oa(4,0),draw:function(e,t,r,i,o,l){this.renderer.nodeShapeImpl(this.name,e,t,r,i,o,this.points,l)},intersectLine:function(e,t,r,i,o,l,u,c){var f=e-(r/2+u),v=t-(i/2+u),g=v,b=e+(r/2+u),y=Wl(o,l,e,t,f,v,b,g,!1);return y.length>0?y:QS(o,l,e,t,r,i,u,c)},checkPoint:function(e,t,r,i,o,l,u,c){c=c==="auto"?Lf(i,o):c;var f=2*c;if(Hs(e,t,this.points,l,u,i,o-f,[0,-1],r)||Hs(e,t,this.points,l,u,i-f,o,[0,-1],r))return!0;var v=i/2+2*r,g=o/2+2*r,b=[l-v,u-g,l-v,u,l+v,u,l+v,u-g];return!!(Wa(e,t,b)||xf(e,t,f,f,l+i/2-c,u+o/2-c,r)||xf(e,t,f,f,l-i/2+c,u+o/2-c,r))}}};Ws.registerNodeShapes=function(){var n=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Oa(3,0)),this.generateRoundPolygon("round-triangle",Oa(3,0)),this.generatePolygon("rectangle",Oa(4,0)),n.square=n.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",Oa(5,0)),this.generateRoundPolygon("round-pentagon",Oa(5,0)),this.generatePolygon("hexagon",Oa(6,0)),this.generateRoundPolygon("round-hexagon",Oa(6,0)),this.generatePolygon("heptagon",Oa(7,0)),this.generateRoundPolygon("round-heptagon",Oa(7,0)),this.generatePolygon("octagon",Oa(8,0)),this.generateRoundPolygon("round-octagon",Oa(8,0));var r=new Array(20);{var i=p1(5,0),o=p1(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var u=0;u<o.length/2;u++)o[u*2]*=l,o[u*2+1]*=l;for(var u=0;u<20/4;u++)r[u*4]=i[u*2],r[u*4+1]=i[u*2+1],r[u*4+2]=o[u*2],r[u*4+3]=o[u*2+1]}r=JS(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var c=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",c),this.generateRoundPolygon("round-tag",c)}n.makePolygon=function(f){var v=f.join("$"),g="polygon-"+v,b;return(b=this[g])?b:e.generatePolygon(g,f)}};var kg={};kg.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};kg.redraw=function(n){n=n||XS();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=n};kg.beforeRender=function(n,e){if(!this.destroyed){e==null&&nr("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:n,priority:e}),t.sort(function(r,i){return i.priority-r.priority})}};var aT=function(e,t,r){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(t,r)};kg.startRenderLoop=function(){var n=this,e=n.cy;if(!n.renderLoopStarted){n.renderLoopStarted=!0;var t=function r(i){if(!n.destroyed){if(!e.batching())if(n.requestedFrame&&!n.skipFrame){aT(n,!0,i);var o=Gs();n.render(n.renderOptions);var l=n.lastDrawTime=Gs();n.averageRedrawTime===void 0&&(n.averageRedrawTime=l-o),n.redrawCount===void 0&&(n.redrawCount=0),n.redrawCount++,n.redrawTotalTime===void 0&&(n.redrawTotalTime=0);var u=l-o;n.redrawTotalTime+=u,n.lastRedrawTime=u,n.averageRedrawTime=n.averageRedrawTime/2+u/2,n.requestedFrame=!1}else aT(n,!1,i);n.skipFrame=!1,Dy(r)}};Dy(t)}};var SI=function(e){this.init(e)},Qx=SI,kd=Qx.prototype;kd.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];kd.init=function(n){var e=this;e.options=n,e.cy=n.cy;var t=e.container=n.cy.container(),r=e.cy.window();if(r){var i=r.document,o=i.head,l="__________cytoscape_stylesheet",u="__________cytoscape_container",c=i.getElementById(l)!=null;if(t.className.indexOf(u)<0&&(t.className=(t.className||"")+" "+u),!c){var f=i.createElement("style");f.id=l,f.textContent="."+u+" { position: relative; }",o.insertBefore(f,o.children[0])}var v=r.getComputedStyle(t),g=v.getPropertyValue("position");g==="static"&&On("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=n.showFps,e.debug=n.debug,e.webgl=n.webgl,e.hideEdgesOnViewport=n.hideEdgesOnViewport,e.textureOnViewport=n.textureOnViewport,e.wheelSensitivity=n.wheelSensitivity,e.motionBlurEnabled=n.motionBlur,e.forcedPixelRatio=lt(n.pixelRatio)?n.pixelRatio:null,e.motionBlur=n.motionBlur,e.motionBlurOpacity=n.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=n.desktopTapThreshold,e.desktopTapThreshold2=n.desktopTapThreshold*n.desktopTapThreshold,e.touchTapThreshold=n.touchTapThreshold,e.touchTapThreshold2=n.touchTapThreshold*n.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};kd.notify=function(n,e){var t=this,r=t.cy;if(!this.destroyed){if(n==="init"){t.load();return}if(n==="destroy"){t.destroy();return}(n==="add"||n==="remove"||n==="move"&&r.hasCompoundNodes()||n==="load"||n==="zorder"||n==="mount")&&t.invalidateCachedZSortedEles(),n==="viewport"&&t.redrawHint("select",!0),n==="gc"&&t.redrawHint("gc",!0),(n==="load"||n==="resize"||n==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};kd.destroy=function(){var n=this;n.destroyed=!0,n.cy.stopAnimationLoop();for(var e=0;e<n.bindings.length;e++){var t=n.bindings[e],r=t,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(n.bindings=[],n.beforeRenderCallbacks=[],n.onUpdateEleCalcsFns=[],n.removeObserver&&n.removeObserver.disconnect(),n.styleObserver&&n.styleObserver.disconnect(),n.resizeObserver&&n.resizeObserver.disconnect(),n.labelCalcDiv)try{document.body.removeChild(n.labelCalcDiv)}catch{}};kd.isHeadless=function(){return!1};[fE,Kx,Zx,Fd,Ws,kg].forEach(function(n){Lt(kd,n)});var Vb=1e3/60,Jx={setupDequeueing:function(e){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var o=Ig(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),l=function(f,v){var g=Gs(),b=i.averageRedrawTime,y=i.lastRedrawTime,E=[],x=i.cy.extent(),T=i.getPixelRatio();for(f||i.flushRenderedStyleQueue();;){var w=Gs(),R=w-g,A=w-v;if(y<Vb){var O=Vb-(f?b:0);if(A>=e.deqFastCost*O)break}else if(f){if(R>=e.deqCost*y||R>=e.deqAvgCost*b)break}else if(A>=e.deqNoDrawCost*Vb)break;var B=e.deq(r,T,x);if(B.length>0)for(var z=0;z<B.length;z++)E.push(B[z]);else break}E.length>0&&(e.onDeqd(r,E),!f&&e.shouldRedraw(r,E,T,x)&&o())},u=e.priority||K1;i.beforeRender(l,u(r))}}}},xI=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ny;ou(this,n),this.idsByKey=new os,this.keyForId=new os,this.cachesByLvl=new os,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return su(n,[{key:"getIdsFor",value:function(t){t==null&&nr("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Dd,r.set(t,i)),i}},{key:"addIdForKey",value:function(t,r){t!=null&&this.getIdsFor(t).add(r)}},{key:"deleteIdForKey",value:function(t,r){t!=null&&this.getIdsFor(t).delete(r)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var r=t.id(),i=this.keyForId.get(r),o=this.getKey(t);this.deleteIdForKey(i,r),this.addIdForKey(o,r),this.keyForId.set(r,o)}},{key:"deleteKeyMappingFor",value:function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(t){var r=t.id(),i=this.keyForId.get(r),o=this.getKey(t);return i!==o}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var r=this.cachesByLvl,i=this.lvls,o=r.get(t);return o||(o=new os,r.set(t,o),i.push(t)),o}},{key:"getCache",value:function(t,r){return this.getCachesAt(r).get(t)}},{key:"get",value:function(t,r){var i=this.getKey(t),o=this.getCache(i,r);return o!=null&&this.updateKeyMappingFor(t),o}},{key:"getForCachedKey",value:function(t,r){var i=this.keyForId.get(t.id()),o=this.getCache(i,r);return o}},{key:"hasCache",value:function(t,r){return this.getCachesAt(r).has(t)}},{key:"has",value:function(t,r){var i=this.getKey(t);return this.hasCache(i,r)}},{key:"setCache",value:function(t,r,i){i.key=t,this.getCachesAt(r).set(t,i)}},{key:"set",value:function(t,r,i){var o=this.getKey(t);this.setCache(o,r,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,r){this.getCachesAt(r).delete(t)}},{key:"delete",value:function(t,r){var i=this.getKey(t);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(t){var r=this;this.lvls.forEach(function(i){return r.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(t);var o=this.doesEleInvalidateKey(t);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}]),n}(),iT=25,ry=50,Ty=-4,M1=3,jx=7.99,CI=8,AI=1024,RI=1024,MI=1024,OI=.2,DI=.8,NI=10,LI=.15,II=.1,BI=.9,_I=.9,PI=100,FI=1,gd={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},kI=Br({getKey:null,doesEleInvalidateKey:Ny,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:VS,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ng=function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var i=kI(t);Lt(r,i),r.lookup=new xI(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},Sr=ng.prototype;Sr.reasons=gd;Sr.getTextureQueue=function(n){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[n]=e.eleImgCaches[n]||[]};Sr.getRetiredTextureQueue=function(n){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},r=t[n]=t[n]||[];return r};Sr.getElementQueue=function(){var n=this,e=n.eleCacheQueue=n.eleCacheQueue||new Bg(function(t,r){return r.reqs-t.reqs});return e};Sr.getElementKeyToQueue=function(){var n=this,e=n.eleKeyToCacheQueue=n.eleKeyToCacheQueue||{};return e};Sr.getElement=function(n,e,t,r,i){var o=this,l=this.renderer,u=l.cy.zoom(),c=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!n.visible()||n.removed()||!o.allowEdgeTxrCaching&&n.isEdge()||!o.allowParentTxrCaching&&n.isParent())return null;if(r==null&&(r=Math.ceil(Q1(u*t))),r<Ty)r=Ty;else if(u>=jx||r>M1)return null;var f=Math.pow(2,r),v=e.h*f,g=e.w*f,b=l.eleTextBiggerThanMin(n,f);if(!this.isVisible(n,b))return null;var y=c.get(n,r);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var E;if(v<=iT?E=iT:v<=ry?E=ry:E=Math.ceil(v/ry)*ry,v>MI||g>RI)return null;var x=o.getTextureQueue(E),T=x[x.length-2],w=function(){return o.recycleTexture(E,g)||o.addTexture(E,g)};T||(T=x[x.length-1]),T||(T=w()),T.width-T.usedWidth<g&&(T=w());for(var R=function(I){return I&&I.scaledLabelShown===b},A=i&&i===gd.dequeue,O=i&&i===gd.highQuality,B=i&&i===gd.downscale,z,N=r+1;N<=M1;N++){var U=c.get(n,N);if(U){z=U;break}}var F=z&&z.level===r+1?z:null,V=function(){T.context.drawImage(F.texture.canvas,F.x,0,F.width,F.height,T.usedWidth,0,g,v)};if(T.context.setTransform(1,0,0,1,0,0),T.context.clearRect(T.usedWidth,0,g,E),R(F))V();else if(R(z))if(O){for(var Y=z.level;Y>r;Y--)F=o.getElement(n,e,t,Y,gd.downscale);V()}else return o.queueElement(n,z.level-1),z;else{var H;if(!A&&!O&&!B)for(var $=r-1;$>=Ty;$--){var D=c.get(n,$);if(D){H=D;break}}if(R(H))return o.queueElement(n,r),H;T.context.translate(T.usedWidth,0),T.context.scale(f,f),this.drawElement(T.context,n,e,b,!1),T.context.scale(1/f,1/f),T.context.translate(-T.usedWidth,0)}return y={x:T.usedWidth,texture:T,level:r,scale:f,width:g,height:v,scaledLabelShown:b},T.usedWidth+=Math.ceil(g+CI),T.eleCaches.push(y),c.set(n,r,y),o.checkTextureFullness(T),y};Sr.invalidateElements=function(n){for(var e=0;e<n.length;e++)this.invalidateElement(n[e])};Sr.invalidateElement=function(n){var e=this,t=e.lookup,r=[],i=t.isInvalid(n);if(i){for(var o=Ty;o<=M1;o++){var l=t.getForCachedKey(n,o);l&&r.push(l)}var u=t.invalidate(n);if(u)for(var c=0;c<r.length;c++){var f=r[c],v=f.texture;v.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(n)}};Sr.checkTextureUtility=function(n){n.invalidatedWidth>=OI*n.width&&this.retireTexture(n)};Sr.checkTextureFullness=function(n){var e=this,t=e.getTextureQueue(n.height);n.usedWidth/n.width>DI&&n.fullnessChecks>=NI?jl(t,n):n.fullnessChecks++};Sr.retireTexture=function(n){var e=this,t=n.height,r=e.getTextureQueue(t),i=this.lookup;jl(r,n),n.retired=!0;for(var o=n.eleCaches,l=0;l<o.length;l++){var u=o[l];i.deleteCache(u.key,u.level)}Z1(o);var c=e.getRetiredTextureQueue(t);c.push(n)};Sr.addTexture=function(n,e){var t=this,r=t.getTextureQueue(n),i={};return r.push(i),i.eleCaches=[],i.height=n,i.width=Math.max(AI,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=t.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Sr.recycleTexture=function(n,e){for(var t=this,r=t.getTextureQueue(n),i=t.getRetiredTextureQueue(n),o=0;o<i.length;o++){var l=i[o];if(l.width>=e)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,Z1(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),jl(i,l),r.push(l),l}};Sr.queueElement=function(n,e){var t=this,r=t.getElementQueue(),i=t.getElementKeyToQueue(),o=this.getKey(n),l=i[o];if(l)l.level=Math.max(l.level,e),l.eles.merge(n),l.reqs++,r.updateItem(l);else{var u={eles:n.spawn().merge(n),level:e,reqs:1,key:o};r.push(u),i[o]=u}};Sr.dequeue=function(n){for(var e=this,t=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],o=e.lookup,l=0;l<FI&&t.size()>0;l++){var u=t.pop(),c=u.key,f=u.eles[0],v=o.hasCache(f,u.level);if(r[c]=null,v)continue;i.push(u);var g=e.getBoundingBox(f);e.getElement(f,g,n,u.level,gd.dequeue)}return i};Sr.removeFromQueue=function(n){var e=this,t=e.getElementQueue(),r=e.getElementKeyToQueue(),i=this.getKey(n),o=r[i];o!=null&&(o.eles.length===1?(o.reqs=$1,t.updateItem(o),t.pop(),r[i]=null):o.eles.unmerge(n))};Sr.onDequeue=function(n){this.onDequeues.push(n)};Sr.offDequeue=function(n){jl(this.onDequeues,n)};Sr.setupDequeueing=Jx.setupDequeueing({deqRedrawThreshold:PI,deqCost:LI,deqAvgCost:II,deqNoDrawCost:BI,deqFastCost:_I,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(t)}},shouldRedraw:function(e,t,r,i){for(var o=0;o<t.length;o++)for(var l=t[o].eles,u=0;u<l.length;u++){var c=l[u].boundingBox();if(J1(c,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var UI=1,ig=-4,Uy=2,zI=3.99,GI=50,HI=50,VI=.15,YI=.1,qI=.9,XI=.9,WI=1,oT=250,$I=4e3*4e3,sT=32767,KI=!0,eC=function(e){var t=this,r=t.renderer=e,i=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Gs()-2*oT,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=Ig(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},HI),r.beforeRender(function(l,u){u-t.lastInvalidationTime<=oT?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var o=function(u,c){return c.reqs-u.reqs};t.layersQueue=new Bg(o),t.setupDequeueing()},Xr=eC.prototype,lT=0,ZI=Math.pow(2,53)-1;Xr.makeLayer=function(n,e){var t=Math.pow(2,e),r=Math.ceil(n.w*t),i=Math.ceil(n.h*t),o=this.renderer.makeOffscreenCanvas(r,i),l={id:lT=++lT%ZI,bb:n,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=l.context,c=-l.bb.x1,f=-l.bb.y1;return u.scale(t,t),u.translate(c,f),l};Xr.getLayers=function(n,e,t){var r=this,i=r.renderer,o=i.cy,l=o.zoom(),u=r.firstGet;if(r.firstGet=!1,t==null){if(t=Math.ceil(Q1(l*e)),t<ig)t=ig;else if(l>=zI||t>Uy)return null}r.validateLayersElesOrdering(t,n);var c=r.layersByLevel,f=Math.pow(2,t),v=c[t]=c[t]||[],g,b=r.levelIsComplete(t,n),y,E=function(){var V=function(_){if(r.validateLayersElesOrdering(_,n),r.levelIsComplete(_,n))return y=c[_],!0},Y=function(_){if(!y)for(var I=t+_;ig<=I&&I<=Uy&&!V(I);I+=_);};Y(1),Y(-1);for(var H=v.length-1;H>=0;H--){var $=v[H];$.invalid&&jl(v,$)}};if(!b)E();else return v;var x=function(){if(!g){g=Qa();for(var V=0;V<n.length;V++)KS(g,n[V].boundingBox())}return g},T=function(V){V=V||{};var Y=V.after;x();var H=Math.ceil(g.w*f),$=Math.ceil(g.h*f);if(H>sT||$>sT)return null;var D=H*$;if(D>$I)return null;var _=r.makeLayer(g,t);if(Y!=null){var I=v.indexOf(Y)+1;v.splice(I,0,_)}else(V.insert===void 0||V.insert)&&v.unshift(_);return _};if(r.skipping&&!u)return null;for(var w=null,R=n.length/UI,A=!u,O=0;O<n.length;O++){var B=n[O],z=B._private.rscratch,N=z.imgLayerCaches=z.imgLayerCaches||{},U=N[t];if(U){w=U;continue}if((!w||w.eles.length>=R||!ZS(w.bb,B.boundingBox()))&&(w=T({insert:!0,after:w}),!w))return null;y||A?r.queueLayer(w,B):r.drawEleInLayer(w,B,t,e),w.eles.push(B),N[t]=w}return y||(A?null:v)};Xr.getEleLevelForLayerLevel=function(n,e){return n};Xr.drawEleInLayer=function(n,e,t,r){var i=this,o=this.renderer,l=n.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(t=i.getEleLevelForLayerLevel(t,r),o.setImgSmoothing(l,!1),o.drawCachedElement(l,e,null,null,t,KI),o.setImgSmoothing(l,!0))};Xr.levelIsComplete=function(n,e){var t=this,r=t.layersByLevel[n];if(!r||r.length===0)return!1;for(var i=0,o=0;o<r.length;o++){var l=r[o];if(l.reqs>0||l.invalid)return!1;i+=l.eles.length}return i===e.length};Xr.validateLayersElesOrdering=function(n,e){var t=this.layersByLevel[n];if(t)for(var r=0;r<t.length;r++){for(var i=t[r],o=-1,l=0;l<e.length;l++)if(i.eles[0]===e[l]){o=l;break}if(o<0){this.invalidateLayer(i);continue}for(var u=o,l=0;l<i.eles.length;l++)if(i.eles[l]!==e[u+l]){this.invalidateLayer(i);break}}};Xr.updateElementsInLayers=function(n,e){for(var t=this,r=Ng(n[0]),i=0;i<n.length;i++)for(var o=r?null:n[i],l=r?n[i]:n[i].ele,u=l._private.rscratch,c=u.imgLayerCaches=u.imgLayerCaches||{},f=ig;f<=Uy;f++){var v=c[f];v&&(o&&t.getEleLevelForLayerLevel(v.level)!==o.level||e(v,l,o))}};Xr.haveLayers=function(){for(var n=this,e=!1,t=ig;t<=Uy;t++){var r=n.layersByLevel[t];if(r&&r.length>0){e=!0;break}}return e};Xr.invalidateElements=function(n){var e=this;n.length!==0&&(e.lastInvalidationTime=Gs(),!(n.length===0||!e.haveLayers())&&e.updateElementsInLayers(n,function(r,i,o){e.invalidateLayer(r)}))};Xr.invalidateLayer=function(n){if(this.lastInvalidationTime=Gs(),!n.invalid){var e=n.level,t=n.eles,r=this.layersByLevel[e];jl(r,n),n.elesQueue=[],n.invalid=!0,n.replacement&&(n.replacement.invalid=!0);for(var i=0;i<t.length;i++){var o=t[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};Xr.refineElementTextures=function(n){var e=this;e.updateElementsInLayers(n,function(r,i,o){var l=r.replacement;if(l||(l=r.replacement=e.makeLayer(r.bb,r.level),l.replaces=r,l.eles=r.eles),!l.reqs)for(var u=0;u<l.eles.length;u++)e.queueLayer(l,l.eles[u])})};Xr.enqueueElementRefinement=function(n){this.eleTxrDeqs.merge(n),this.scheduleElementRefinement()};Xr.queueLayer=function(n,e){var t=this,r=t.layersQueue,i=n.elesQueue,o=i.hasId=i.hasId||{};if(!n.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}n.reqs?(n.reqs++,r.updateItem(n)):(n.reqs=1,r.push(n))}};Xr.dequeue=function(n){for(var e=this,t=e.layersQueue,r=[],i=0;i<WI&&t.size()!==0;){var o=t.peek();if(o.replacement){t.pop();continue}if(o.replaces&&o!==o.replaces.replacement){t.pop();continue}if(o.invalid){t.pop();continue}var l=o.elesQueue.shift();l&&(e.drawEleInLayer(o,l,o.level,n),i++),r.length===0&&r.push(!0),o.elesQueue.length===0&&(t.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return r};Xr.applyLayerReplacement=function(n){var e=this,t=e.layersByLevel[n.level],r=n.replaces,i=t.indexOf(r);if(!(i<0||r.invalid)){t[i]=n;for(var o=0;o<n.eles.length;o++){var l=n.eles[o]._private,u=l.imgLayerCaches=l.imgLayerCaches||{};u&&(u[n.level]=n)}e.requestRedraw()}};Xr.requestRedraw=Ig(function(){var n=this.renderer;n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},100);Xr.setupDequeueing=Jx.setupDequeueing({deqRedrawThreshold:GI,deqCost:VI,deqAvgCost:YI,deqNoDrawCost:qI,deqFastCost:XI,deq:function(e,t){return e.dequeue(t)},onDeqd:K1,shouldRedraw:VS,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var tC={},uT;function QI(n,e){for(var t=0;t<e.length;t++){var r=e[t];n.lineTo(r.x,r.y)}}function JI(n,e,t){for(var r,i=0;i<e.length;i++){var o=e[i];i===0&&(r=o),n.lineTo(o.x,o.y)}n.quadraticCurveTo(t.x,t.y,r.x,r.y)}function fT(n,e,t){n.beginPath&&n.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];n.lineTo(o.x,o.y)}var l=t,u=t[0];n.moveTo(u.x,u.y);for(var i=1;i<l.length;i++){var o=l[i];n.lineTo(o.x,o.y)}n.closePath&&n.closePath()}function jI(n,e,t,r,i){n.beginPath&&n.beginPath(),n.arc(t,r,i,0,Math.PI*2,!1);var o=e,l=o[0];n.moveTo(l.x,l.y);for(var u=0;u<o.length;u++){var c=o[u];n.lineTo(c.x,c.y)}n.closePath&&n.closePath()}function eB(n,e,t,r){n.arc(e,t,r,0,Math.PI*2,!1)}tC.arrowShapeImpl=function(n){return(uT||(uT={polygon:QI,"triangle-backcurve":JI,"triangle-tee":fT,"circle-triangle":jI,"triangle-cross":fT,circle:eB}))[n]};var ds={};ds.drawElement=function(n,e,t,r,i,o){var l=this;e.isNode()?l.drawNode(n,e,t,r,i,o):l.drawEdge(n,e,t,r,i,o)};ds.drawElementOverlay=function(n,e){var t=this;e.isNode()?t.drawNodeOverlay(n,e):t.drawEdgeOverlay(n,e)};ds.drawElementUnderlay=function(n,e){var t=this;e.isNode()?t.drawNodeUnderlay(n,e):t.drawEdgeUnderlay(n,e)};ds.drawCachedElementPortion=function(n,e,t,r,i,o,l,u){var c=this,f=t.getBoundingBox(e);if(!(f.w===0||f.h===0)){var v=t.getElement(e,f,r,i,o);if(v!=null){var g=u(c,e);if(g===0)return;var b=l(c,e),y=f.x1,E=f.y1,x=f.w,T=f.h,w,R,A,O,B;if(b!==0){var z=t.getRotationPoint(e);A=z.x,O=z.y,n.translate(A,O),n.rotate(b),B=c.getImgSmoothing(n),B||c.setImgSmoothing(n,!0);var N=t.getRotationOffset(e);w=N.x,R=N.y}else w=y,R=E;var U;g!==1&&(U=n.globalAlpha,n.globalAlpha=U*g),n.drawImage(v.texture.canvas,v.x,0,v.width,v.height,w,R,x,T),g!==1&&(n.globalAlpha=U),b!==0&&(n.rotate(-b),n.translate(-A,-O),B||c.setImgSmoothing(n,!1))}else t.drawElement(n,e)}};var tB=function(){return 0},nB=function(e,t){return e.getTextAngle(t,null)},rB=function(e,t){return e.getTextAngle(t,"source")},aB=function(e,t){return e.getTextAngle(t,"target")},iB=function(e,t){return t.effectiveOpacity()},Yb=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};ds.drawCachedElement=function(n,e,t,r,i,o){var l=this,u=l.data,c=u.eleTxrCache,f=u.lblTxrCache,v=u.slbTxrCache,g=u.tlbTxrCache,b=e.boundingBox(),y=o===!0?c.reasons.highQuality:null;if(!(b.w===0||b.h===0||!e.visible())&&(!r||J1(b,r))){var E=e.isEdge(),x=e.element()._private.rscratch.badLine;l.drawElementUnderlay(n,e),l.drawCachedElementPortion(n,e,c,t,i,y,tB,iB),(!E||!x)&&l.drawCachedElementPortion(n,e,f,t,i,y,nB,Yb),E&&!x&&(l.drawCachedElementPortion(n,e,v,t,i,y,rB,Yb),l.drawCachedElementPortion(n,e,g,t,i,y,aB,Yb)),l.drawElementOverlay(n,e)}};ds.drawElements=function(n,e){for(var t=this,r=0;r<e.length;r++){var i=e[r];t.drawElement(n,i)}};ds.drawCachedElements=function(n,e,t,r){for(var i=this,o=0;o<e.length;o++){var l=e[o];i.drawCachedElement(n,l,t,r)}};ds.drawCachedNodes=function(n,e,t,r){for(var i=this,o=0;o<e.length;o++){var l=e[o];l.isNode()&&i.drawCachedElement(n,l,t,r)}};ds.drawLayeredElements=function(n,e,t,r){var i=this,o=i.data.lyrTxrCache.getLayers(e,t);if(o)for(var l=0;l<o.length;l++){var u=o[l],c=u.bb;c.w===0||c.h===0||n.drawImage(u.canvas,c.x1,c.y1,c.w,c.h)}else i.drawCachedElements(n,e,t,r)};var $s={};$s.drawEdge=function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u=e._private.rscratch;if(!(o&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var c;t&&(c=t,n.translate(-c.x1,-c.y1));var f=o?e.pstyle("opacity").value:1,v=o?e.pstyle("line-opacity").value:1,g=e.pstyle("curve-style").value,b=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,E=e.pstyle("line-cap").value,x=e.pstyle("line-outline-width").value,T=e.pstyle("line-outline-color").value,w=f*v,R=f*v,A=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;g==="straight-triangle"?(l.eleStrokeStyle(n,e,_),l.drawEdgeTrianglePath(e,n,u.allpts)):(n.lineWidth=y,n.lineCap=E,l.eleStrokeStyle(n,e,_),l.drawEdgePath(e,n,u.allpts,b),n.lineCap="butt")},O=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;if(n.lineWidth=y+x,n.lineCap=E,x>0)l.colorStrokeStyle(n,T[0],T[1],T[2],_);else{n.lineCap="butt";return}g==="straight-triangle"?l.drawEdgeTrianglePath(e,n,u.allpts):(l.drawEdgePath(e,n,u.allpts,b),n.lineCap="butt")},B=function(){i&&l.drawEdgeOverlay(n,e)},z=function(){i&&l.drawEdgeUnderlay(n,e)},N=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;l.drawArrowheads(n,e,_)},U=function(){l.drawElementText(n,e,null,r)};n.lineJoin="round";var F=e.pstyle("ghost").value==="yes";if(F){var V=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue,H=e.pstyle("ghost-opacity").value,$=w*H;n.translate(V,Y),A($),N($),n.translate(-V,-Y)}else O();z(),A(),N(),B(),U(),t&&n.translate(c.x1,c.y1)}};var nC=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,l=o.usePaths(),u=r._private.rscratch,c=r.pstyle("".concat(e,"-padding")).pfValue,f=2*c,v=r.pstyle("".concat(e,"-color")).value;t.lineWidth=f,u.edgeType==="self"&&!l?t.lineCap="butt":t.lineCap="round",o.colorStrokeStyle(t,v[0],v[1],v[2],i),o.drawEdgePath(r,t,u.allpts,"solid")}}}};$s.drawEdgeOverlay=nC("overlay");$s.drawEdgeUnderlay=nC("underlay");$s.drawEdgePath=function(n,e,t,r){var i=n._private.rscratch,o=e,l,u=!1,c=this.usePaths(),f=n.pstyle("line-dash-pattern").pfValue,v=n.pstyle("line-dash-offset").pfValue;if(c){var g=t.join("$"),b=i.pathCacheKey&&i.pathCacheKey===g;b?(l=e=i.pathCache,u=!0):(l=e=new Path2D,i.pathCacheKey=g,i.pathCache=l)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(f),o.lineDashOffset=v;break;case"solid":o.setLineDash([]);break}if(!u&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<t.length;y+=4)e.quadraticCurveTo(t[y],t[y+1],t[y+2],t[y+3]);break;case"straight":case"haystack":for(var E=2;E+1<t.length;E+=2)e.lineTo(t[E],t[E+1]);break;case"segments":if(i.isRound){var x=bi(i.roundCorners),T;try{for(x.s();!(T=x.n()).done;){var w=T.value;Yx(e,w)}}catch(A){x.e(A)}finally{x.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var R=2;R+1<t.length;R+=2)e.lineTo(t[R],t[R+1]);break}e=o,c?e.stroke(l):e.stroke(),e.setLineDash&&e.setLineDash([])};$s.drawEdgeTrianglePath=function(n,e,t){e.fillStyle=e.strokeStyle;for(var r=n.pstyle("width").pfValue,i=0;i+1<t.length;i+=2){var o=[t[i+2]-t[i],t[i+3]-t[i+1]],l=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=[o[1]/l,-o[0]/l],c=[u[0]*r/2,u[1]*r/2];e.beginPath(),e.moveTo(t[i]-c[0],t[i+1]-c[1]),e.lineTo(t[i]+c[0],t[i+1]+c[1]),e.lineTo(t[i+2],t[i+3]),e.closePath(),e.fill()}};$s.drawArrowheads=function(n,e,t){var r=e._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(n,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,t),this.drawArrowhead(n,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,t),this.drawArrowhead(n,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,t),i||this.drawArrowhead(n,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,t)};$s.drawArrowhead=function(n,e,t,r,i,o,l){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(o)||o==null)){var u=this,c=e.pstyle(t+"-arrow-shape").value;if(c!=="none"){var f=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(t+"-arrow-fill").value,g=e.pstyle("width").pfValue,b=e.pstyle(t+"-arrow-width"),y=b.value==="match-line"?g:b.pfValue;b.units==="%"&&(y*=g);var E=e.pstyle("opacity").value;l===void 0&&(l=E);var x=n.globalCompositeOperation;(l!==1||v==="hollow")&&(n.globalCompositeOperation="destination-out",u.colorFillStyle(n,255,255,255,1),u.colorStrokeStyle(n,255,255,255,1),u.drawArrowShape(e,n,f,g,c,y,r,i,o),n.globalCompositeOperation=x);var T=e.pstyle(t+"-arrow-color").value;u.colorFillStyle(n,T[0],T[1],T[2],l),u.colorStrokeStyle(n,T[0],T[1],T[2],l),u.drawArrowShape(e,n,v,g,c,y,r,i,o)}}};$s.drawArrowShape=function(n,e,t,r,i,o,l,u,c){var f=this,v=this.usePaths()&&i!=="triangle-cross",g=!1,b,y=e,E={x:l,y:u},x=n.pstyle("arrow-scale").value,T=this.getArrowWidth(r,x),w=f.arrowShapes[i];if(v){var R=f.arrowPathCache=f.arrowPathCache||[],A=Jl(i),O=R[A];O!=null?(b=e=O,g=!0):(b=e=new Path2D,R[A]=b)}g||(e.beginPath&&e.beginPath(),v?w.draw(e,1,0,{x:0,y:0},1):w.draw(e,T,c,E,r),e.closePath&&e.closePath()),e=y,v&&(e.translate(l,u),e.rotate(c),e.scale(T,T)),(t==="filled"||t==="both")&&(v?e.fill(b):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=o/(v?T:1),e.lineJoin="miter",v?e.stroke(b):e.stroke()),v&&(e.scale(1/T,1/T),e.rotate(-c),e.translate(-l,-u))};var hE={};hE.safeDrawImage=function(n,e,t,r,i,o,l,u,c,f){if(!(i<=0||o<=0||c<=0||f<=0))try{n.drawImage(e,t,r,i,o,l,u,c,f)}catch(v){On(v)}};hE.drawInscribedImage=function(n,e,t,r,i){var o=this,l=t.position(),u=l.x,c=l.y,f=t.cy().style(),v=f.getIndexedStyle.bind(f),g=v(t,"background-fit","value",r),b=v(t,"background-repeat","value",r),y=t.width(),E=t.height(),x=t.padding()*2,T=y+(v(t,"background-width-relative-to","value",r)==="inner"?0:x),w=E+(v(t,"background-height-relative-to","value",r)==="inner"?0:x),R=t._private.rscratch,A=v(t,"background-clip","value",r),O=A==="node",B=v(t,"background-image-opacity","value",r)*i,z=v(t,"background-image-smoothing","value",r),N=t.pstyle("corner-radius").value;N!=="auto"&&(N=t.pstyle("corner-radius").pfValue);var U=e.width||e.cachedW,F=e.height||e.cachedH;(U==null||F==null)&&(document.body.appendChild(e),U=e.cachedW=e.width||e.offsetWidth,F=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var V=U,Y=F;if(v(t,"background-width","value",r)!=="auto"&&(v(t,"background-width","units",r)==="%"?V=v(t,"background-width","pfValue",r)*T:V=v(t,"background-width","pfValue",r)),v(t,"background-height","value",r)!=="auto"&&(v(t,"background-height","units",r)==="%"?Y=v(t,"background-height","pfValue",r)*w:Y=v(t,"background-height","pfValue",r)),!(V===0||Y===0)){if(g==="contain"){var H=Math.min(T/V,w/Y);V*=H,Y*=H}else if(g==="cover"){var H=Math.max(T/V,w/Y);V*=H,Y*=H}var $=u-T/2,D=v(t,"background-position-x","units",r),_=v(t,"background-position-x","pfValue",r);D==="%"?$+=(T-V)*_:$+=_;var I=v(t,"background-offset-x","units",r),L=v(t,"background-offset-x","pfValue",r);I==="%"?$+=(T-V)*L:$+=L;var k=c-w/2,K=v(t,"background-position-y","units",r),G=v(t,"background-position-y","pfValue",r);K==="%"?k+=(w-Y)*G:k+=G;var X=v(t,"background-offset-y","units",r),Z=v(t,"background-offset-y","pfValue",r);X==="%"?k+=(w-Y)*Z:k+=Z,R.pathCache&&($-=u,k-=c,u=0,c=0);var J=n.globalAlpha;n.globalAlpha=B;var re=o.getImgSmoothing(n),ie=!1;if(z==="no"&&re?(o.setImgSmoothing(n,!1),ie=!0):z==="yes"&&!re&&(o.setImgSmoothing(n,!0),ie=!0),b==="no-repeat")O&&(n.save(),R.pathCache?n.clip(R.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(n,u,c,T,w,N,R),n.clip())),o.safeDrawImage(n,e,0,0,U,F,$,k,V,Y),O&&n.restore();else{var oe=n.createPattern(e,b);n.fillStyle=oe,o.nodeShapes[o.getNodeShape(t)].draw(n,u,c,T,w,N,R),n.translate($,k),n.fill(),n.translate(-$,-k)}n.globalAlpha=J,ie&&o.setImgSmoothing(n,re)}};var kf={};kf.eleTextBiggerThanMin=function(n,e){if(!e){var t=n.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Q1(t*r));e=Math.pow(2,i)}var o=n.pstyle("font-size").pfValue*e,l=n.pstyle("min-zoomed-font-size").pfValue;return!(o<l)};kf.drawElementText=function(n,e,t,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(r==null){if(o&&!l.eleTextBiggerThanMin(e))return}else if(r===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var c=l.getLabelJustification(e);n.textAlign=c,n.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,v=e.pstyle("label"),g=e.pstyle("source-label"),b=e.pstyle("target-label");if(f||(!v||!v.value)&&(!g||!g.value)&&(!b||!b.value))return;n.textAlign="center",n.textBaseline="bottom"}var y=!t,E;t&&(E=t,n.translate(-E.x1,-E.y1)),i==null?(l.drawText(n,e,null,y,o),e.isEdge()&&(l.drawText(n,e,"source",y,o),l.drawText(n,e,"target",y,o))):l.drawText(n,e,i,y,o),t&&n.translate(E.x1,E.y1)};kf.getFontCache=function(n){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===n)return e;return e={context:n},this.fontCaches.push(e),e};kf.setupTextStyle=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,c=e.pstyle("text-outline-opacity").value*u,f=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;n.font=r+" "+l+" "+i+" "+o,n.lineJoin="round",this.colorFillStyle(n,f[0],f[1],f[2],u),this.colorStrokeStyle(n,v[0],v[1],v[2],c)};function qb(n,e,t,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;n.beginPath(),n.moveTo(e+o,t),n.lineTo(e+r-o,t),n.quadraticCurveTo(e+r,t,e+r,t+o),n.lineTo(e+r,t+i-o),n.quadraticCurveTo(e+r,t+i,e+r-o,t+i),n.lineTo(e+o,t+i),n.quadraticCurveTo(e,t+i,e,t+i-o),n.lineTo(e,t+o),n.quadraticCurveTo(e,t,e+o,t),n.closePath(),l?n.stroke():n.fill()}kf.getTextAngle=function(n,e){var t,r=n._private,i=r.rscratch,o=e?e+"-":"",l=n.pstyle(o+"text-rotation");if(l.strValue==="autorotate"){var u=xo(i,"labelAngle",e);t=n.isEdge()?u:0}else l.strValue==="none"?t=0:t=l.pfValue;return t};kf.drawText=function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,l=o.rscratch,u=i?e.effectiveOpacity():1;if(!(i&&(u===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var c=xo(l,"labelX",t),f=xo(l,"labelY",t),v,g,b=this.getLabelText(e,t);if(b!=null&&b!==""&&!isNaN(c)&&!isNaN(f)){this.setupTextStyle(n,e,i);var y=t?t+"-":"",E=xo(l,"labelWidth",t),x=xo(l,"labelHeight",t),T=e.pstyle(y+"text-margin-x").pfValue,w=e.pstyle(y+"text-margin-y").pfValue,R=e.isEdge(),A=e.pstyle("text-halign").value,O=e.pstyle("text-valign").value;R&&(A="center",O="center"),c+=T,f+=w;var B;switch(r?B=this.getTextAngle(e,t):B=0,B!==0&&(v=c,g=f,n.translate(v,g),n.rotate(B),c=0,f=0),O){case"top":break;case"center":f+=x/2;break;case"bottom":f+=x;break}var z=e.pstyle("text-background-opacity").value,N=e.pstyle("text-border-opacity").value,U=e.pstyle("text-border-width").pfValue,F=e.pstyle("text-background-padding").pfValue,V=e.pstyle("text-background-shape").strValue,Y=V.indexOf("round")===0,H=2;if(z>0||U>0&&N>0){var $=c-F;switch(A){case"left":$-=E;break;case"center":$-=E/2;break}var D=f-x-F,_=E+2*F,I=x+2*F;if(z>0){var L=n.fillStyle,k=e.pstyle("text-background-color").value;n.fillStyle="rgba("+k[0]+","+k[1]+","+k[2]+","+z*u+")",Y?qb(n,$,D,_,I,H):n.fillRect($,D,_,I),n.fillStyle=L}if(U>0&&N>0){var K=n.strokeStyle,G=n.lineWidth,X=e.pstyle("text-border-color").value,Z=e.pstyle("text-border-style").value;if(n.strokeStyle="rgba("+X[0]+","+X[1]+","+X[2]+","+N*u+")",n.lineWidth=U,n.setLineDash)switch(Z){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"double":n.lineWidth=U/4,n.setLineDash([]);break;case"solid":n.setLineDash([]);break}if(Y?qb(n,$,D,_,I,H,"stroke"):n.strokeRect($,D,_,I),Z==="double"){var J=U/2;Y?qb(n,$+J,D+J,_-J*2,I-J*2,H,"stroke"):n.strokeRect($+J,D+J,_-J*2,I-J*2)}n.setLineDash&&n.setLineDash([]),n.lineWidth=G,n.strokeStyle=K}}var re=2*e.pstyle("text-outline-width").pfValue;if(re>0&&(n.lineWidth=re),e.pstyle("text-wrap").value==="wrap"){var ie=xo(l,"labelWrapCachedLines",t),oe=xo(l,"labelLineHeight",t),he=E/2,se=this.getLabelJustification(e);switch(se==="auto"||(A==="left"?se==="left"?c+=-E:se==="center"&&(c+=-he):A==="center"?se==="left"?c+=-he:se==="right"&&(c+=he):A==="right"&&(se==="center"?c+=he:se==="right"&&(c+=E))),O){case"top":f-=(ie.length-1)*oe;break;case"center":case"bottom":f-=(ie.length-1)*oe;break}for(var te=0;te<ie.length;te++)re>0&&n.strokeText(ie[te],c,f),n.fillText(ie[te],c,f),f+=oe}else re>0&&n.strokeText(b,c,f),n.fillText(b,c,f);B!==0&&(n.rotate(-B),n.translate(-v,-g))}}};var Ud={};Ud.drawNode=function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u,c,f=e._private,v=f.rscratch,g=e.position();if(!(!lt(g.x)||!lt(g.y))&&!(o&&!e.visible())){var b=o?e.effectiveOpacity():1,y=l.usePaths(),E,x=!1,T=e.padding();u=e.width()+2*T,c=e.height()+2*T;var w;t&&(w=t,n.translate(-w.x1,-w.y1));for(var R=e.pstyle("background-image"),A=R.value,O=new Array(A.length),B=new Array(A.length),z=0,N=0;N<A.length;N++){var U=A[N],F=O[N]=U!=null&&U!=="none";if(F){var V=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",N);z++,B[N]=l.getCachedImage(U,V,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var Y=e.pstyle("background-blacken").value,H=e.pstyle("border-width").pfValue,$=e.pstyle("background-opacity").value*b,D=e.pstyle("border-color").value,_=e.pstyle("border-style").value,I=e.pstyle("border-join").value,L=e.pstyle("border-cap").value,k=e.pstyle("border-position").value,K=e.pstyle("border-dash-pattern").pfValue,G=e.pstyle("border-dash-offset").pfValue,X=e.pstyle("border-opacity").value*b,Z=e.pstyle("outline-width").pfValue,J=e.pstyle("outline-color").value,re=e.pstyle("outline-style").value,ie=e.pstyle("outline-opacity").value*b,oe=e.pstyle("outline-offset").value,he=e.pstyle("corner-radius").value;he!=="auto"&&(he=e.pstyle("corner-radius").pfValue);var se=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;l.eleFillStyle(n,e,Te)},te=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X;l.colorStrokeStyle(n,D[0],D[1],D[2],Te)},ae=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ie;l.colorStrokeStyle(n,J[0],J[1],J[2],Te)},le=function(Te,Re,ye,de){var Se=l.nodePathCache=l.nodePathCache||[],ke=HS(ye==="polygon"?ye+","+de.join(","):ye,""+Re,""+Te,""+he),Ie=Se[ke],Fe,nt=!1;return Ie!=null?(Fe=Ie,nt=!0,v.pathCache=Fe):(Fe=new Path2D,Se[ke]=v.pathCache=Fe),{path:Fe,cacheHit:nt}},me=e.pstyle("shape").strValue,_e=e.pstyle("shape-polygon-points").pfValue;if(y){n.translate(g.x,g.y);var Ae=le(u,c,me,_e);E=Ae.path,x=Ae.cacheHit}var et=function(){if(!x){var Te=g;y&&(Te={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(E||n,Te.x,Te.y,u,c,he,v)}y?n.fill(E):n.fill()},ot=function(){for(var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ye=f.backgrounding,de=0,Se=0;Se<B.length;Se++){var ke=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Se);if(Re&&ke==="over"||!Re&&ke==="inside"){de++;continue}O[Se]&&B[Se].complete&&!B[Se].error&&(de++,l.drawInscribedImage(n,B[Se],e,Se,Te))}f.backgrounding=de!==z,ye!==f.backgrounding&&e.updateStyle(!1)},rt=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b;l.hasPie(e)&&(l.drawPie(n,e,Re),Te&&(y||l.nodeShapes[l.getNodeShape(e)].draw(n,g.x,g.y,u,c,he,v)))},Pe=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,Re=(Y>0?Y:-Y)*Te,ye=Y>0?0:255;Y!==0&&(l.colorFillStyle(n,ye,ye,ye,Re),y?n.fill(E):n.fill())},Ve=function(){if(H>0){if(n.lineWidth=H,n.lineCap=L,n.lineJoin=I,n.setLineDash)switch(_){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash(K),n.lineDashOffset=G;break;case"solid":case"double":n.setLineDash([]);break}if(k!=="center"){if(n.save(),n.lineWidth*=2,k==="inside")y?n.clip(E):n.clip();else{var Te=new Path2D;Te.rect(-u/2-H,-c/2-H,u+2*H,c+2*H),Te.addPath(E),n.clip(Te,"evenodd")}y?n.stroke(E):n.stroke(),n.restore()}else y?n.stroke(E):n.stroke();if(_==="double"){n.lineWidth=H/3;var Re=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",y?n.stroke(E):n.stroke(),n.globalCompositeOperation=Re}n.setLineDash&&n.setLineDash([])}},Ke=function(){if(Z>0){if(n.lineWidth=Z,n.lineCap="butt",n.setLineDash)switch(re){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"solid":case"double":n.setLineDash([]);break}var Te=g;y&&(Te={x:0,y:0});var Re=l.getNodeShape(e),ye=H;k==="inside"&&(ye=0),k==="outside"&&(ye*=2);var de=(u+ye+(Z+oe))/u,Se=(c+ye+(Z+oe))/c,ke=u*de,Ie=c*Se,Fe=l.nodeShapes[Re].points,nt;if(y){var Ze=le(ke,Ie,Re,Fe);nt=Ze.path}if(Re==="ellipse")l.drawEllipsePath(nt||n,Te.x,Te.y,ke,Ie);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Re)){var ze=0,$e=0,ut=0;Re==="round-diamond"?ze=(ye+oe+Z)*1.4:Re==="round-heptagon"?(ze=(ye+oe+Z)*1.075,ut=-(ye/2+oe+Z)/35):Re==="round-hexagon"?ze=(ye+oe+Z)*1.12:Re==="round-pentagon"?(ze=(ye+oe+Z)*1.13,ut=-(ye/2+oe+Z)/15):Re==="round-tag"?(ze=(ye+oe+Z)*1.12,$e=(ye/2+Z+oe)*.07):Re==="round-triangle"&&(ze=(ye+oe+Z)*(Math.PI/2),ut=-(ye+oe/2+Z)/Math.PI),ze!==0&&(de=(u+ze)/u,ke=u*de,["round-hexagon","round-tag"].includes(Re)||(Se=(c+ze)/c,Ie=c*Se)),he=he==="auto"?jS(ke,Ie):he;for(var St=ke/2,bt=Ie/2,Rt=he+(ye+Z+oe)/2,ht=new Array(Fe.length/2),st=new Array(Fe.length/2),At=0;At<Fe.length/2;At++)ht[At]={x:Te.x+$e+St*Fe[At*2],y:Te.y+ut+bt*Fe[At*2+1]};var vt,gt,ln,Mt,It=ht.length;for(gt=ht[It-1],vt=0;vt<It;vt++)ln=ht[vt%It],Mt=ht[(vt+1)%It],st[vt]=cE(gt,ln,Mt,Rt),gt=ln,ln=Mt;l.drawRoundPolygonPath(nt||n,Te.x+$e,Te.y+ut,u*de,c*Se,Fe,st)}else if(["roundrectangle","round-rectangle"].includes(Re))he=he==="auto"?Lf(ke,Ie):he,l.drawRoundRectanglePath(nt||n,Te.x,Te.y,ke,Ie,he+(ye+Z+oe)/2);else if(["cutrectangle","cut-rectangle"].includes(Re))he=he==="auto"?j1():he,l.drawCutRectanglePath(nt||n,Te.x,Te.y,ke,Ie,null,he+(ye+Z+oe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Re))he=he==="auto"?Lf(ke,Ie):he,l.drawBottomRoundRectanglePath(nt||n,Te.x,Te.y,ke,Ie,he+(ye+Z+oe)/2);else if(Re==="barrel")l.drawBarrelPath(nt||n,Te.x,Te.y,ke,Ie);else if(Re.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Re)){var Bn=(ye+Z+oe)/u;Fe=Ly(Iy(Fe,Bn)),l.drawPolygonPath(nt||n,Te.x,Te.y,u,c,Fe)}else{var $t=(ye+Z+oe)/u;Fe=Ly(Iy(Fe,-$t)),l.drawPolygonPath(nt||n,Te.x,Te.y,u,c,Fe)}if(y?n.stroke(nt):n.stroke(),re==="double"){n.lineWidth=ye/3;var rn=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",y?n.stroke(nt):n.stroke(),n.globalCompositeOperation=rn}n.setLineDash&&n.setLineDash([])}},Qe=function(){i&&l.drawNodeOverlay(n,e,g,u,c)},at=function(){i&&l.drawNodeUnderlay(n,e,g,u,c)},tt=function(){l.drawElementText(n,e,null,r)},it=e.pstyle("ghost").value==="yes";if(it){var dt=e.pstyle("ghost-offset-x").pfValue,Oe=e.pstyle("ghost-offset-y").pfValue,j=e.pstyle("ghost-opacity").value,pe=j*b;n.translate(dt,Oe),ae(),Ke(),se(j*$),et(),ot(pe,!0),te(j*X),Ve(),rt(Y!==0||H!==0),ot(pe,!1),Pe(pe),n.translate(-dt,-Oe)}y&&n.translate(-g.x,-g.y),at(),y&&n.translate(g.x,g.y),ae(),Ke(),se(),et(),ot(b,!0),te(),Ve(),rt(Y!==0||H!==0),ot(b,!1),Pe(),y&&n.translate(-g.x,-g.y),tt(),Qe(),t&&n.translate(w.x1,w.y1)}};var rC=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,i,o,l){var u=this;if(r.visible()){var c=r.pstyle("".concat(e,"-padding")).pfValue,f=r.pstyle("".concat(e,"-opacity")).value,v=r.pstyle("".concat(e,"-color")).value,g=r.pstyle("".concat(e,"-shape")).value,b=r.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(i=i||r.position(),o==null||l==null){var y=r.padding();o=r.width()+2*y,l=r.height()+2*y}u.colorFillStyle(t,v[0],v[1],v[2],f),u.nodeShapes[g].draw(t,i.x,i.y,o+c*2,l+c*2,b),t.fill()}}}};Ud.drawNodeOverlay=rC("overlay");Ud.drawNodeUnderlay=rC("underlay");Ud.hasPie=function(n){return n=n[0],n._private.hasPie};Ud.drawPie=function(n,e,t,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),l=r.x,u=r.y,c=e.width(),f=e.height(),v=Math.min(c,f)/2,g=0,b=this.usePaths();b&&(l=0,u=0),o.units==="%"?v=v*o.pfValue:o.pfValue!==void 0&&(v=o.pfValue/2);for(var y=1;y<=i.pieBackgroundN;y++){var E=e.pstyle("pie-"+y+"-background-size").value,x=e.pstyle("pie-"+y+"-background-color").value,T=e.pstyle("pie-"+y+"-background-opacity").value*t,w=E/100;w+g>1&&(w=1-g);var R=1.5*Math.PI+2*Math.PI*g,A=2*Math.PI*w,O=R+A;E===0||g>=1||g+w>1||(n.beginPath(),n.moveTo(l,u),n.arc(l,u,v,R,O),n.closePath(),this.colorFillStyle(n,x[0],x[1],x[2],T),n.fill(),g+=w)}};var Na={},oB=100;Na.getPixelRatio=function(){var n=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};Na.paintCache=function(n){for(var e=this.paintCaches=this.paintCaches||[],t=!0,r,i=0;i<e.length;i++)if(r=e[i],r.context===n){t=!1;break}return t&&(r={context:n},e.push(r)),r};Na.createGradientStyleFor=function(n,e,t,r,i){var o,l=this.usePaths(),u=t.pstyle(e+"-gradient-stop-colors").value,c=t.pstyle(e+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(t.isEdge()){var f=t.sourceEndpoint(),v=t.targetEndpoint(),g=t.midpoint(),b=Nf(f,g),y=Nf(v,g);o=n.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(b,y))}else{var E=l?{x:0,y:0}:t.position(),x=t.paddedWidth(),T=t.paddedHeight();o=n.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(x,T))}else if(t.isEdge()){var w=t.sourceEndpoint(),R=t.targetEndpoint();o=n.createLinearGradient(w.x,w.y,R.x,R.y)}else{var A=l?{x:0,y:0}:t.position(),O=t.paddedWidth(),B=t.paddedHeight(),z=O/2,N=B/2,U=t.pstyle("background-gradient-direction").value;switch(U){case"to-bottom":o=n.createLinearGradient(A.x,A.y-N,A.x,A.y+N);break;case"to-top":o=n.createLinearGradient(A.x,A.y+N,A.x,A.y-N);break;case"to-left":o=n.createLinearGradient(A.x+z,A.y,A.x-z,A.y);break;case"to-right":o=n.createLinearGradient(A.x-z,A.y,A.x+z,A.y);break;case"to-bottom-right":case"to-right-bottom":o=n.createLinearGradient(A.x-z,A.y-N,A.x+z,A.y+N);break;case"to-top-right":case"to-right-top":o=n.createLinearGradient(A.x-z,A.y+N,A.x+z,A.y-N);break;case"to-bottom-left":case"to-left-bottom":o=n.createLinearGradient(A.x+z,A.y-N,A.x-z,A.y+N);break;case"to-top-left":case"to-left-top":o=n.createLinearGradient(A.x+z,A.y+N,A.x-z,A.y-N);break}}if(!o)return null;for(var F=c.length===u.length,V=u.length,Y=0;Y<V;Y++)o.addColorStop(F?c[Y]:Y/(V-1),"rgba("+u[Y][0]+","+u[Y][1]+","+u[Y][2]+","+i+")");return o};Na.gradientFillStyle=function(n,e,t,r){var i=this.createGradientStyleFor(n,"background",e,t,r);if(!i)return null;n.fillStyle=i};Na.colorFillStyle=function(n,e,t,r,i){n.fillStyle="rgba("+e+","+t+","+r+","+i+")"};Na.eleFillStyle=function(n,e,t){var r=e.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(n,e,r,t);else{var i=e.pstyle("background-color").value;this.colorFillStyle(n,i[0],i[1],i[2],t)}};Na.gradientStrokeStyle=function(n,e,t,r){var i=this.createGradientStyleFor(n,"line",e,t,r);if(!i)return null;n.strokeStyle=i};Na.colorStrokeStyle=function(n,e,t,r,i){n.strokeStyle="rgba("+e+","+t+","+r+","+i+")"};Na.eleStrokeStyle=function(n,e,t){var r=e.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(n,e,r,t);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(n,i[0],i[1],i[2],t)}};Na.matchCanvasSize=function(n){var e=this,t=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],l=e.getPixelRatio(),u=e.motionBlurPxRatio;(n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(l=u);var c=i*l,f=o*l,v;if(!(c===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var g=t.canvasContainer;g.style.width=i+"px",g.style.height=o+"px";for(var b=0;b<e.CANVAS_LAYERS;b++)v=t.canvases[b],v.width=c,v.height=f,v.style.width=i+"px",v.style.height=o+"px";for(var b=0;b<e.BUFFER_COUNT;b++)v=t.bufferCanvases[b],v.width=c,v.height=f,v.style.width=i+"px",v.style.height=o+"px";e.textureMult=1,l<=1&&(v=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=c*e.textureMult,v.height=f*e.textureMult),e.canvasWidth=c,e.canvasHeight=f,e.pixelRatio=l}};Na.renderTo=function(n,e,t,r){this.render({forcedContext:n,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:r})};Na.clearCanvas=function(){var n=this,e=n.data;function t(r){r.clearRect(0,0,n.canvasWidth,n.canvasHeight)}t(e.contexts[n.NODE]),t(e.contexts[n.DRAG])};Na.render=function(n){var e=this;n=n||XS();var t=e.cy,r=n.forcedContext,i=n.drawAllLayers,o=n.drawOnlyNodeLayer,l=n.forcedZoom,u=n.forcedPan,c=n.forcedPxRatio===void 0?this.getPixelRatio():n.forcedPxRatio,f=e.data,v=f.canvasNeedsRedraw,g=e.textureOnViewport&&!r&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),b=n.motionBlur!==void 0?n.motionBlur:e.motionBlur,y=e.motionBlurPxRatio,E=t.hasCompoundNodes(),x=e.hoverData.draggingEles,T=!!(e.hoverData.selecting||e.touchData.selecting);b=b&&!r&&e.motionBlurEnabled&&!T;var w=b;r||(e.prevPxRatio!==c&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=c),!r&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),b&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(w=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!g&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var R=t.style(),A=t.zoom(),O=l!==void 0?l:A,B=t.pan(),z={x:B.x,y:B.y},N={zoom:A,pan:{x:B.x,y:B.y}},U=e.prevViewport,F=U===void 0||N.zoom!==U.zoom||N.pan.x!==U.pan.x||N.pan.y!==U.pan.y;!F&&!(x&&!E)&&(e.motionBlurPxRatio=1),u&&(z=u),O*=c,z.x*=c,z.y*=c;var V=e.getCachedZSortedEles();function Y(te,ae,le,me,_e){var Ae=te.globalCompositeOperation;te.globalCompositeOperation="destination-out",e.colorFillStyle(te,255,255,255,e.motionBlurTransparency),te.fillRect(ae,le,me,_e),te.globalCompositeOperation=Ae}function H(te,ae){var le,me,_e,Ae;!e.clearingMotionBlur&&(te===f.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||te===f.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(le={x:B.x*y,y:B.y*y},me=A*y,_e=e.canvasWidth*y,Ae=e.canvasHeight*y):(le=z,me=O,_e=e.canvasWidth,Ae=e.canvasHeight),te.setTransform(1,0,0,1,0,0),ae==="motionBlur"?Y(te,0,0,_e,Ae):!r&&(ae===void 0||ae)&&te.clearRect(0,0,_e,Ae),i||(te.translate(le.x,le.y),te.scale(me,me)),u&&te.translate(u.x,u.y),l&&te.scale(l,l)}if(g||(e.textureDrawLastFrame=!1),g){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var $=e.data.bufferContexts[e.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:c*e.textureMult});var N=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};N.mpan={x:(0-N.pan.x)/N.zoom,y:(0-N.pan.y)/N.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var D=f.contexts[e.NODE],_=e.textureCache.texture,N=e.textureCache.viewport;D.setTransform(1,0,0,1,0,0),b?Y(D,0,0,N.width,N.height):D.clearRect(0,0,N.width,N.height);var I=R.core("outside-texture-bg-color").value,L=R.core("outside-texture-bg-opacity").value;e.colorFillStyle(D,I[0],I[1],I[2],L),D.fillRect(0,0,N.width,N.height);var A=t.zoom();H(D,!1),D.clearRect(N.mpan.x,N.mpan.y,N.width/N.zoom/c,N.height/N.zoom/c),D.drawImage(_,N.mpan.x,N.mpan.y,N.width/N.zoom/c,N.height/N.zoom/c)}else e.textureOnViewport&&!r&&(e.textureCache=null);var k=t.extent(),K=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),G=e.hideEdgesOnViewport&&K,X=[];if(X[e.NODE]=!v[e.NODE]&&b&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,X[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),X[e.DRAG]=!v[e.DRAG]&&b&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,X[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||i||o||X[e.NODE]){var Z=b&&!X[e.NODE]&&y!==1,D=r||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:f.contexts[e.NODE]),J=b&&!Z?"motionBlur":void 0;H(D,J),G?e.drawCachedNodes(D,V.nondrag,c,k):e.drawLayeredElements(D,V.nondrag,c,k),e.debug&&e.drawDebugPoints(D,V.nondrag),!i&&!b&&(v[e.NODE]=!1)}if(!o&&(v[e.DRAG]||i||X[e.DRAG])){var Z=b&&!X[e.DRAG]&&y!==1,D=r||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:f.contexts[e.DRAG]);H(D,b&&!Z?"motionBlur":void 0),G?e.drawCachedNodes(D,V.drag,c,k):e.drawCachedElements(D,V.drag,c,k),e.debug&&e.drawDebugPoints(D,V.drag),!i&&!b&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(n,H),b&&y!==1){var re=f.contexts[e.NODE],ie=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],oe=f.contexts[e.DRAG],he=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],se=function(ae,le,me){ae.setTransform(1,0,0,1,0,0),me||!w?ae.clearRect(0,0,e.canvasWidth,e.canvasHeight):Y(ae,0,0,e.canvasWidth,e.canvasHeight);var _e=y;ae.drawImage(le,0,0,e.canvasWidth*_e,e.canvasHeight*_e,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||X[e.NODE])&&(se(re,ie,X[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||X[e.DRAG])&&(se(oe,he,X[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=N,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),b&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!g,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},oB)),r||t.emit("render")};var qv;Na.drawSelectionRectangle=function(n,e){var t=this,r=t.cy,i=t.data,o=r.style(),l=n.drawOnlyNodeLayer,u=n.drawAllLayers,c=i.canvasNeedsRedraw,f=n.forcedContext;if(t.showFps||!l&&c[t.SELECT_BOX]&&!u){var v=f||i.contexts[t.SELECT_BOX];if(e(v),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var g=t.cy.zoom(),b=o.core("selection-box-border-width").value/g;v.lineWidth=b,v.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",v.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),b>0&&(v.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",v.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(i.bgActivePosistion&&!t.hoverData.selecting){var g=t.cy.zoom(),y=i.bgActivePosistion;v.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",v.beginPath(),v.arc(y.x,y.y,o.core("active-bg-size").pfValue/g,0,2*Math.PI),v.fill()}var E=t.lastRedrawTime;if(t.showFps&&E){E=Math.round(E);var x=Math.round(1e3/E),T="1 frame = "+E+" ms = "+x+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!qv){var w=v.measureText(T);qv=w.actualBoundingBoxAscent}v.fillText(T,0,qv);var R=60;v.strokeRect(0,qv+10,250,20),v.fillRect(0,qv+10,250*Math.min(x/R,1),20)}u||(c[t.SELECT_BOX]=!1)}};function cT(n,e,t){var r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(r));return r}function sB(n,e,t){var r=cT(n,n.VERTEX_SHADER,e),i=cT(n,n.FRAGMENT_SHADER,t),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function lB(n,e,t){t===void 0&&(t=e);var r=n.makeOffscreenCanvas(e,t),i=r.context=r.getContext("2d");return r.clear=function(){return i.clearRect(0,0,r.width,r.height)},r.clear(),r}function vE(n){var e=n.pixelRatio,t=n.cy.zoom(),r=n.cy.pan();return{zoom:t*e,pan:{x:r.x*e,y:r.y*e}}}function uB(n,e,t,r,i){var o=r*t+e.x,l=i*t+e.y;return l=Math.round(n.canvasHeight-l),[o,l]}function ay(n,e,t){var r=n[0]/255,i=n[1]/255,o=n[2]/255,l=e,u=t||new Array(4);return u[0]=r*l,u[1]=i*l,u[2]=o*l,u[3]=l,u}function iy(n,e){var t=e||new Array(4);return t[0]=(n>>0&255)/255,t[1]=(n>>8&255)/255,t[2]=(n>>16&255)/255,t[3]=(n>>24&255)/255,t}function fB(n){return n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24)}function cB(n,e){var t=n.createTexture();return t.buffer=function(r){n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.generateMipmap(n.TEXTURE_2D),n.bindTexture(n.TEXTURE_2D,null)},t.deleteTexture=function(){n.deleteTexture(t)},t}function aC(n,e){switch(e){case"float":return[1,n.FLOAT,4];case"vec2":return[2,n.FLOAT,4];case"vec3":return[3,n.FLOAT,4];case"vec4":return[4,n.FLOAT,4];case"int":return[1,n.INT,4];case"ivec2":return[2,n.INT,4]}}function iC(n,e,t){switch(e){case n.FLOAT:return new Float32Array(t);case n.INT:return new Int32Array(t)}}function dB(n,e,t,r,i,o){switch(e){case n.FLOAT:return new Float32Array(t.buffer,o*r,i);case n.INT:return new Int32Array(t.buffer,o*r,i)}}function hB(n,e,t,r){var i=aC(n,e),o=Lr(i,2),l=o[0],u=o[1],c=iC(n,u,r),f=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,f),n.bufferData(n.ARRAY_BUFFER,c,n.STATIC_DRAW),u===n.FLOAT?n.vertexAttribPointer(t,l,u,!1,0,0):u===n.INT&&n.vertexAttribIPointer(t,l,u,0,0),n.enableVertexAttribArray(t),n.bindBuffer(n.ARRAY_BUFFER,null),f}function yi(n,e,t,r){var i=aC(n,t),o=Lr(i,3),l=o[0],u=o[1],c=o[2],f=iC(n,u,e*l),v=l*c,g=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,g),n.bufferData(n.ARRAY_BUFFER,e*v,n.DYNAMIC_DRAW),n.enableVertexAttribArray(r),u===n.FLOAT?n.vertexAttribPointer(r,l,u,!1,v,0):u===n.INT&&n.vertexAttribIPointer(r,l,u,v,0),n.vertexAttribDivisor(r,1),n.bindBuffer(n.ARRAY_BUFFER,null);for(var b=new Array(e),y=0;y<e;y++)b[y]=dB(n,u,f,v,l,y);return g.dataArray=f,g.stride=v,g.size=l,g.getView=function(E){return b[E]},g.setPoint=function(E,x,T){var w=b[E];w[0]=x,w[1]=T},g.bufferSubData=function(E){n.bindBuffer(n.ARRAY_BUFFER,g),E?n.bufferSubData(n.ARRAY_BUFFER,0,f,0,E*l):n.bufferSubData(n.ARRAY_BUFFER,0,f)},g}function vB(n){var e=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,e);var t=n.createTexture();return n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.bindFramebuffer(n.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(r,i){n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r,i,0,n.RGBA,n.UNSIGNED_BYTE,null)},e}var dT=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function og(){var n=new dT(9);return dT!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function oC(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function gB(n,e,t){var r=e[0],i=e[1],o=e[2],l=e[3],u=e[4],c=e[5],f=e[6],v=e[7],g=e[8],b=t[0],y=t[1],E=t[2],x=t[3],T=t[4],w=t[5],R=t[6],A=t[7],O=t[8];return n[0]=b*r+y*l+E*f,n[1]=b*i+y*u+E*v,n[2]=b*o+y*c+E*g,n[3]=x*r+T*l+w*f,n[4]=x*i+T*u+w*v,n[5]=x*o+T*c+w*g,n[6]=R*r+A*l+O*f,n[7]=R*i+A*u+O*v,n[8]=R*o+A*c+O*g,n}function zy(n,e,t){var r=e[0],i=e[1],o=e[2],l=e[3],u=e[4],c=e[5],f=e[6],v=e[7],g=e[8],b=t[0],y=t[1];return n[0]=r,n[1]=i,n[2]=o,n[3]=l,n[4]=u,n[5]=c,n[6]=b*r+y*l+f,n[7]=b*i+y*u+v,n[8]=b*o+y*c+g,n}function sC(n,e,t){var r=e[0],i=e[1],o=e[2],l=e[3],u=e[4],c=e[5],f=e[6],v=e[7],g=e[8],b=Math.sin(t),y=Math.cos(t);return n[0]=y*r+b*l,n[1]=y*i+b*u,n[2]=y*o+b*c,n[3]=y*l-b*r,n[4]=y*u-b*i,n[5]=y*c-b*o,n[6]=f,n[7]=v,n[8]=g,n}function gE(n,e,t){var r=t[0],i=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=i*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function pB(n,e,t){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/t,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}var sg={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Xv=Br({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),mB=function(){function n(e,t){ou(this,n),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=t.webglTexSize,this.rows=t.webglTexRows,this.enableWrapping=t.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=t.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=t.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return su(n,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var r=t.w,i=t.h,o=this.texHeight,l=this.maxTexWidth,u=o/i,c=r*u,f=i*u;return c>l&&(u=l/r,c=r*u,f=i*u),{scale:u,texW:c,texH:f}}},{key:"draw",value:function(t,r,i){var o=this,l=this.atlasSize,u=this.rows,c=this.texHeight,f=this.getScale(r),v=f.scale,g=f.texW,b=f.texH,y=[null,null],E=function(A,O){if(i&&O){var B=O.context,z=A.x,N=A.row,U=z,F=c*N;B.save(),B.translate(U,F),B.scale(v,v),i(B,r),B.restore()}},x=function(){E(o.freePointer,o.canvas),y[0]={x:o.freePointer.x,y:o.freePointer.row*c,w:g,h:b},y[1]={x:o.freePointer.x+g,y:o.freePointer.row*c,w:0,h:b},o.freePointer.x+=g,o.freePointer.x==l&&(o.freePointer.x=0,o.freePointer.row++)},T=function(){var A=o.scratch,O=o.canvas;A.clear(),E({x:0,row:0},A);var B=l-o.freePointer.x,z=g-B,N=c;{var U=o.freePointer.x,F=o.freePointer.row*c,V=B;O.context.drawImage(A,0,0,V,N,U,F,V,N),y[0]={x:U,y:F,w:V,h:b}}{var Y=B,H=(o.freePointer.row+1)*c,$=z;O&&O.context.drawImage(A,Y,0,$,N,0,H,$,N),y[1]={x:0,y:H,w:$,h:b}}o.freePointer.x=z,o.freePointer.row++},w=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+g<=l)x();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===l?(w(),x()):this.enableWrapping?T():(w(),x())}return this.keyToLocation.set(t,y),this.needsBuffer=!0,y}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){var r=this.atlasSize,i=this.rows,o=this.getScale(t),l=o.texW;return this.freePointer.x+l>r?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=cB(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),n}(),yB=function(){function n(e,t){ou(this,n),this.r=e,this.opts=t,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return su(n,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(t){var r=this.keyToIds.get(t);return r||(r=new Set,this.keyToIds.set(t,r)),r}},{key:"_createAtlas",value:function(){var t=this.r,r=this.opts;return new mB(t,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,r=this.opts,i=r.webglTexSize,o=Math.floor(i/r.webglTexRows);this.scratch=r.createTextureCanvas(t,i,o,"scratch")}return this.scratch}},{key:"draw",value:function(t,r,i,o){if(this.styleKeyNeedsRedraw.has(r)){this.styleKeyNeedsRedraw.delete(r),this.deleteKey(t,r);var l=this.styleKeyToAtlas.get(r);l&&(l.forceGC=!0),this.styleKeyToAtlas.delete(r)}var u=this.styleKeyToAtlas.get(r);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(i))&&(u=this._createAtlas(),this.atlases.push(u)),u.draw(r,i,o),this.styleKeyToAtlas.set(r,u),this.getIdsFor(r).add(t),this.idToKey.set(t,r)),u}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"deleteKey",value:function(t,r){this.idToKey.delete(t),this.getIdsFor(r).delete(t)}},{key:"checkKeyIsInvalid",value:function(t,r){if(!this.idToKey.has(t))return!1;var i=this.idToKey.get(t);return i!=r?(this.deleteKey(t,i),!0):!1}},{key:"_getKeysToCollect",value:function(){var t=new Set,r=bi(this.styleKeyToAtlas.keys()),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;this.getIdsFor(o).size==0&&t.add(o)}}catch(l){r.e(l)}finally{r.f()}return t}},{key:"gc",value:function(){var t=this,r=this.atlases.some(function(b){return b.forceGC}),i=this._getKeysToCollect();if(i.size===0&&!r){console.log("nothing to garbage collect");return}var o=[],l=new Map,u=null,c=bi(this.atlases),f;try{var v=function(){var y=f.value,E=y.getKeys(),x=bB(i,E);if(x.size===0&&!y.forceGC)return o.push(y),E.forEach(function(N){return l.set(N,y)}),"continue";u||(u=t._createAtlas(),o.push(u));var T=bi(E),w;try{for(T.s();!(w=T.n()).done;){var R=w.value;if(!x.has(R)){var A=y.getOffsets(R),O=Lr(A,2),B=O[0],z=O[1];u.canFit({w:B.w+z.w,h:B.h})||(u=t._createAtlas(),o.push(u)),t._copyTextureToNewAtlas(R,y,u),l.set(R,u)}}}catch(N){T.e(N)}finally{T.f()}};for(c.s();!(f=c.n()).done;)var g=v()}catch(b){c.e(b)}finally{c.f()}this.atlases=o,this.styleKeyToAtlas=l}},{key:"_copyTextureToNewAtlas",value:function(t,r,i){var o=r.getOffsets(t),l=Lr(o,2),u=l[0],c=l[1];if(c.w===0)i.draw(t,u,function(b){b.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var f=this._getScratchCanvas();f.clear(),f.context.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),f.context.drawImage(r.canvas,c.x,c.y,c.w,c.h,u.w,0,c.w,c.h);var v=u.w+c.w,g=u.h;i.draw(t,{w:v,h:g},function(b){b.drawImage(f,0,0,v,g,0,0,v,g)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),n}();function bB(n,e){return n.intersection?n.intersection(e):new Set(MS(n).filter(function(t){return e.has(t)}))}var EB=function(){function n(e,t){ou(this,n),this.r=e;var r=t;this.globalOptions=r,this.maxAtlases=r.webglTexPerBatch,this.atlasSize=r.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(r)}return su(n,[{key:"_cacheScratchCanvas",value:function(t){var r=-1,i=-1,o=null,l=t.createTextureCanvas;t.createTextureCanvas=function(u,c,f,v){return v?((!o||c!=r||f!=i)&&(r=c,i=f,o=l(u,c,f)),o):l(u,c,f)}}},{key:"addRenderType",value:function(t,r){var i=new yB(this.r,this.globalOptions),o=r;this.renderTypes.set(t,Lt({type:t,atlasCollection:i},o))}},{key:"getRenderTypes",value:function(){return MS(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"invalidate",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.forceRedraw,o=i===void 0?!1:i,l=r.filterEle,u=l===void 0?function(){return!0}:l,c=r.filterType,f=c===void 0?function(){return!0}:c,v=!1,g=bi(t),b;try{for(g.s();!(b=g.n()).done;){var y=b.value;if(u(y)){var E=y.id(),x=bi(this.getRenderTypes()),T;try{for(x.s();!(T=x.n()).done;){var w=T.value;if(f(w.type)){var R=w.getKey(y);o?(w.atlasCollection.deleteKey(E,R),w.atlasCollection.styleKeyNeedsRedraw.add(R),v=!0):v|=w.atlasCollection.checkKeyIsInvalid(E,R)}}}catch(A){x.e(A)}finally{x.f()}}}}catch(A){g.e(A)}finally{g.f()}return v}},{key:"gc",value:function(){var t=bi(this.getRenderTypes()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;i.atlasCollection.gc()}}catch(o){t.e(o)}finally{t.f()}}},{key:"isRenderable",value:function(t,r){var i=this.getRenderTypeOpts(r);return i&&i.isVisible(t)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(t,r,i){var o=this.renderTypes.get(i),l=o.getKey(t),u=t.id();return o.atlasCollection.draw(u,l,r,function(c){o.drawElement(c,t,r,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(t){var r=this.batchAtlases.indexOf(t);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(t),r=this.batchAtlases.length-1}return r}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(t,r){return r})}},{key:"getAtlasInfo",value:function(t,r){var i=this.renderTypes.get(r),o=i.getBoundingBox(t),l=this.getOrCreateAtlas(t,o,r),u=this.getAtlasIndexForBatch(l);if(u!==void 0){var c=i.getKey(t),f=l.getOffsets(c),v=Lr(f,2),g=v[0],b=v[1];return{atlasID:u,tex:g,tex1:g,tex2:b,bb:o,type:r,styleKey:c}}}},{key:"canAddToCurrentBatch",value:function(t,r){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var i=this.renderTypes.get(r),o=i.getKey(t),l=i.atlasCollection.getAtlas(o);return l&&this.batchAtlases.includes(l)}return!0}},{key:"setTransformMatrix",value:function(t,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=r.bb,u=r.type,c=r.tex1,f=r.tex2,v=this.getRenderTypeOpts(u),g=v.getPadding?v.getPadding(i):0,b=c.w/(c.w+f.w);o||(b=1-b);var y=this.getAdjustedBB(l,g,o,b),E,x;oC(t);var T=v.getRotation?v.getRotation(i):0;if(T!==0){var w=v.getRotationPoint(i),R=w.x,A=w.y;zy(t,t,[R,A]),sC(t,t,T);var O=v.getRotationOffset(i);E=O.x+y.xOffset,x=O.y}else E=y.x1,x=y.y1;zy(t,t,[E,x]),gE(t,t,[y.w,y.h])}},{key:"getTransformMatrix",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=og();return this.setTransformMatrix(o,t,r,i),o}},{key:"getAdjustedBB",value:function(t,r,i,o){var l=t.x1,u=t.y1,c=t.w,f=t.h;r&&(l-=r,u-=r,c+=2*r,f+=2*r);var v=0,g=c*o;return i&&o<1?c=g:!i&&o<1&&(v=c-g,l+=v,c=g),{x1:l,y1:u,w:c,h:f,xOffset:v}}},{key:"getDebugInfo",value:function(){var t=[],r=bi(this.renderTypes),i;try{for(r.s();!(i=r.n()).done;){var o=Lr(i.value,2),l=o[0],u=o[1],c=u.atlasCollection.getCounts(),f=c.keyCount,v=c.atlasCount;t.push({type:l,keyCount:f,atlasCount:v})}}catch(g){r.e(g)}finally{r.f()}return t}}]),n}(),Xb=0,hT=1,vT=2,Wb=3,wB=function(){function n(e,t,r){ou(this,n),this.r=e,this.gl=t,this.maxInstances=r.webglBatchSize,this.maxAtlases=r.webglTexPerBatch,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,r.enableWrapping=!0,r.createTextureCanvas=lB,this.atlasManager=new EB(e,r),this.program=this.createShaderProgram(sg.SCREEN),this.pickingProgram=this.createShaderProgram(sg.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return su(n,[{key:"addTextureRenderType",value:function(t,r){this.atlasManager.addRenderType(t,r)}},{key:"invalidate",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,o=this.atlasManager;return i?o.invalidate(t,{filterType:function(u){return u===i},forceRedraw:!0}):o.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(t){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Xb,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(hT,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(vT,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(Wb,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),o=this.atlasManager.getIndexArray(),l=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(o.map(function(f){return"uniform sampler2D uTexture".concat(f,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Xb,`) {
          `).concat(o.map(function(f){return"if(vAtlasId == ".concat(f,") outColor = texture(uTexture").concat(f,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(Wb,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=sB(r,i,l);u.aPosition=r.getAttribLocation(u,"aPosition"),u.aIndex=r.getAttribLocation(u,"aIndex"),u.aVertType=r.getAttribLocation(u,"aVertType"),u.aAtlasId=r.getAttribLocation(u,"aAtlasId"),u.aTex1=r.getAttribLocation(u,"aTex1"),u.aTex2=r.getAttribLocation(u,"aTex2"),u.aScaleRotate1=r.getAttribLocation(u,"aScaleRotate1"),u.aTranslate1=r.getAttribLocation(u,"aTranslate1"),u.aScaleRotate2=r.getAttribLocation(u,"aScaleRotate2"),u.aTranslate2=r.getAttribLocation(u,"aTranslate2"),u.aPointAPointB=r.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=r.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=r.getAttribLocation(u,"aLineWidth"),u.aEdgeColor=r.getAttribLocation(u,"aEdgeColor"),u.uPanZoomMatrix=r.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=r.getUniformLocation(u,"uAtlasSize"),u.uBGColor=r.getUniformLocation(u,"uBGColor"),u.uTextures=[];for(var c=0;c<this.atlasManager.maxAtlases;c++)u.uTextures.push(r.getUniformLocation(u,"uTexture".concat(c)));return u}},{key:"createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1],r=[].concat(t,t);this.vertexCount=r.length/2;var i=this.maxInstances,o=this.gl,l=this.program,u=o.createVertexArray();return o.bindVertexArray(u),hB(o,"vec2",l.aPosition,r),this.indexBuffer=yi(o,i,"vec4",l.aIndex),this.vertTypeBuffer=yi(o,i,"int",l.aVertType),this.atlasIdBuffer=yi(o,i,"int",l.aAtlasId),this.tex1Buffer=yi(o,i,"vec4",l.aTex1),this.tex2Buffer=yi(o,i,"vec4",l.aTex2),this.scaleRotate1Buffer=yi(o,i,"vec4",l.aScaleRotate1),this.translate1Buffer=yi(o,i,"vec2",l.aTranslate1),this.scaleRotate2Buffer=yi(o,i,"vec4",l.aScaleRotate2),this.translate2Buffer=yi(o,i,"vec2",l.aTranslate2),this.pointAPointBBuffer=yi(o,i,"vec4",l.aPointAPointB),this.pointCPointDBuffer=yi(o,i,"vec4",l.aPointCPointD),this.lineWidthBuffer=yi(o,i,"float",l.aLineWidth),this.edgeColorBuffer=yi(o,i,"vec4",l.aEdgeColor),o.bindVertexArray(null),u}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return r.endsWith("Buffer")}).map(function(r){return t[r]})),this._buffers}},{key:"startFrame",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sg.SCREEN;this.panZoomMatrix=t,this.debugInfo=r,this.renderTarget=i,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||og()}},{key:"drawTexture",value:function(t,r,i){var o=this.atlasManager;if(o.isRenderable(t,i)){o.canAddToCurrentBatch(t,i)||this.endBatch();var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=Xb;var u=this.indexBuffer.getView(l);iy(r,u);var c=o.getAtlasInfo(t,i,c),f=c.atlasID,v=c.tex1,g=c.tex2,b=this.atlasIdBuffer.getView(l);b[0]=f;var y=this.tex1Buffer.getView(l);y[0]=v.x,y[1]=v.y,y[2]=v.w,y[3]=v.h;var E=this.tex2Buffer.getView(l);E[0]=g.x,E[1]=g.y,E[2]=g.w,E[3]=g.h;for(var x=this.getTempMatrix(),T=0,w=[1,2];T<w.length;T++){var R=w[T];o.setTransformMatrix(x,c,t,R===1);var A=this["scaleRotate".concat(R,"Buffer")].getView(l);A[0]=x[0],A[1]=x[1],A[2]=x[3],A[3]=x[4];var O=this["translate".concat(R,"Buffer")].getView(l);O[0]=x[6],O[1]=x[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(t,r,i){var o=t._private.rscratch,l,u,c;if(i==="source"?(l=o.arrowStartX,u=o.arrowStartY,c=o.srcArrowAngle):(l=o.arrowEndX,u=o.arrowEndY,c=o.tgtArrowAngle),!(isNaN(l)||l==null||isNaN(u)||u==null||isNaN(c)||c==null)){var f=t.pstyle(i+"-arrow-shape").value;if(f!=="none"){var v=t.pstyle(i+"-arrow-color").value,g=t.pstyle("opacity").value,b=t.pstyle("line-opacity").value,y=g*b,E=t.pstyle("width").pfValue,x=t.pstyle("arrow-scale").value,T=this.r.getArrowWidth(E,x),w=this.getTempMatrix();oC(w),zy(w,w,[l,u]),gE(w,w,[T,T]),sC(w,w,c);var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=Wb;var A=this.indexBuffer.getView(R);iy(r,A);var O=this.edgeColorBuffer.getView(R);ay(v,y,O);var B=this.scaleRotate1Buffer.getView(R);B[0]=w[0],B[1]=w[1],B[2]=w[3],B[3]=w[4];var z=this.translate1Buffer.getView(R);z[0]=w[6],z[1]=w[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(t,r){var i=t.pstyle("opacity").value,o=t.pstyle("line-opacity").value,l=t.pstyle("width").pfValue,u=t.pstyle("line-color").value,c=i*o,f=this.getEdgePoints(t);if(f.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),f.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=hT;var g=this.indexBuffer.getView(v);iy(r,g);var b=this.edgeColorBuffer.getView(v);ay(u,c,b);var y=this.lineWidthBuffer.getView(v);y[0]=l;var E=this.pointAPointBBuffer.getView(v);E[0]=f[0],E[1]=f[1],E[2]=f[2],E[3]=f[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var x=0;x<f.length-2;x+=2){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=vT;var w=this.indexBuffer.getView(T);iy(r,w);var R=this.edgeColorBuffer.getView(T);ay(u,c,R);var A=this.lineWidthBuffer.getView(T);A[0]=l;var O=f[x-2],B=f[x-1],z=f[x],N=f[x+1],U=f[x+2],F=f[x+3],V=f[x+4],Y=f[x+5];x==0&&(O=2*z-U+.001,B=2*N-F+.001),x==f.length-4&&(V=2*U-z+.001,Y=2*F-N+.001);var H=this.pointAPointBBuffer.getView(T);H[0]=O,H[1]=B,H[2]=z,H[3]=N;var $=this.pointCPointDBuffer.getView(T);$[0]=U,$[1]=F,$[2]=V,$[3]=Y,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(t){var r=t._private.rscratch,i=r.allpts;if(i.length==4)return i;var o=this.getNumSegments(t);return this.getCurveSegmentPoints(i,o)}},{key:"getNumSegments",value:function(t){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(t,r){if(t.length==4)return t;for(var i=Array((r+1)*2),o=0;o<=r;o++)if(o==0)i[0]=t[0],i[1]=t[1];else if(o==r)i[o*2]=t[t.length-2],i[o*2+1]=t[t.length-1];else{var l=o/r;this.setCurvePoint(t,l,i,o*2)}return i}},{key:"setCurvePoint",value:function(t,r,i,o){if(t.length<=2)i[o]=t[0],i[o+1]=t[1];else{for(var l=Array(t.length-2),u=0;u<l.length;u+=2){var c=(1-r)*t[u]+r*t[u+2],f=(1-r)*t[u+1]+r*t[u+3];l[u]=c,l[u+1]=f}return this.setCurvePoint(l,r,i,o)}}},{key:"endBatch",value:function(){var t=this.gl,r=this.vao,i=this.vertexCount,o=this.instanceCount;if(o!==0){var l=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(l),t.bindVertexArray(r);var u=bi(this.buffers),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;f.bufferSubData(o)}}catch(E){u.e(E)}finally{u.f()}for(var v=this.atlasManager.getAtlases(),g=0;g<v.length;g++)v[g].bufferIfNeeded(t);for(var b=0;b<v.length;b++)t.activeTexture(t.TEXTURE0+b),t.bindTexture(t.TEXTURE_2D,v[b].texture),t.uniform1i(l.uTextures[b],b);t.uniformMatrix3fv(l.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(l.uAtlasSize,this.atlasManager.atlasSize);var y=ay(this.bgColor,1);t.uniform4fv(l.uBGColor,y),t.drawArraysInstanced(t.TRIANGLES,0,i,o),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:o,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),n}();function gT(n,e){return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e,")")}var TB=function(){function n(e){ou(this,n),this.r=e}return su(n,[{key:"getStyleKey",value:function(t,r){var i=this.getStyle(t,r),o=i.shape,l=i.opacity,u=i.color;if(!o)return null;var c=r.width(),f=r.height(),v=gT(u,l);return Jl("".concat(o,"-").concat(c,"-").concat(f,"-").concat(v))}},{key:"isVisible",value:function(t,r){var i=r.pstyle("".concat(t,"-opacity")).value;return i>0}},{key:"getStyle",value:function(t,r){var i=r.pstyle("".concat(t,"-opacity")).value,o=r.pstyle("".concat(t,"-color")).value,l=r.pstyle("".concat(t,"-shape")).value;return{opacity:i,color:o,shape:l}}},{key:"getPadding",value:function(t,r){return r.pstyle("".concat(t,"-padding")).pfValue}},{key:"draw",value:function(t,r,i,o){if(this.isVisible(t,i)){var l=this.r,u=o.w,c=o.h,f=u/2,v=c/2,g=this.getStyle(t,i),b=g.shape,y=g.color,E=g.opacity;r.save(),r.fillStyle=gT(y,E),b==="round-rectangle"||b==="roundrectangle"?l.drawRoundRectanglePath(r,f,v,u,c,"auto"):b==="ellipse"&&l.drawEllipsePath(r,f,v,u,c),r.fill(),r.restore()}}}]),n}();function SB(n){var e=n&&n.style&&n.style.backgroundColor||"white";return BS(e)}var lC={};lC.initWebgl=function(n,e){var t=this,r=t.data.contexts[t.WEBGL],i=n.cy.container();n.bgColor=SB(i),n.webglTexSize=Math.min(n.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),n.webglTexRows=Math.min(n.webglTexRows,54),n.webglBatchSize=Math.min(n.webglBatchSize,16384),n.webglTexPerBatch=Math.min(n.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=n.webglDebug,t.webglDebugShowAtlases=n.webglDebugShowAtlases,console.log("max texture units",r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",r.getParameter(r.MAX_TEXTURE_SIZE)),console.log("webgl options",n),t.pickingFrameBuffer=vB(r),t.pickingFrameBuffer.needsDraw=!0;var o=function(v){return t.getTextAngle(v,null)},l=function(v){var g=v.pstyle("label");return g&&g.value};t.eleDrawing=new wB(t,r,n);var u=new TB(t);t.eleDrawing.addTextureRenderType("node-body",Xv({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(v){return v.visible()}})),t.eleDrawing.addTextureRenderType("node-label",Xv({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:o,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l})),t.eleDrawing.addTextureRenderType("node-overlay",Xv({getBoundingBox:e.getElementBox,getKey:function(v){return u.getStyleKey("overlay",v)},drawElement:function(v,g,b){return u.draw("overlay",v,g,b)},isVisible:function(v){return u.isVisible("overlay",v)},getPadding:function(v){return u.getPadding("overlay",v)}})),t.eleDrawing.addTextureRenderType("node-underlay",Xv({getBoundingBox:e.getElementBox,getKey:function(v){return u.getStyleKey("underlay",v)},drawElement:function(v,g,b){return u.draw("underlay",v,g,b)},isVisible:function(v){return u.isVisible("underlay",v)},getPadding:function(v){return u.getPadding("underlay",v)}})),t.eleDrawing.addTextureRenderType("edge-label",Xv({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:o,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l}));var c=Ig(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(f,v){var g=!1;v&&v.length>0&&(g|=t.eleDrawing.invalidate(v)),g&&c()}),xB(t)};function xB(n){{var e=n.render;n.render=function(o){o=o||{};var l=n.cy;n.webgl&&(l.zoom()>jx?(CB(n),e.call(n,o)):(AB(n),fC(n,o,sg.SCREEN)))}}{var t=n.matchCanvasSize;n.matchCanvasSize=function(o){t.call(n,o),n.pickingFrameBuffer.setFramebufferAttachmentSizes(n.canvasWidth,n.canvasHeight),n.pickingFrameBuffer.needsDraw=!0}}n.findNearestElements=function(o,l,u,c){return LB(n,o,l)};{var r=n.invalidateCachedZSortedEles;n.invalidateCachedZSortedEles=function(){r.call(n),n.pickingFrameBuffer.needsDraw=!0}}{var i=n.notify;n.notify=function(o,l){i.call(n,o,l),o==="viewport"||o==="bounds"?n.pickingFrameBuffer.needsDraw=!0:o==="background"&&n.eleDrawing.invalidate(l,{type:"node-body"})}}}function CB(n){var e=n.data.contexts[n.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function AB(n){var e=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.canvasWidth,n.canvasHeight),r.restore()};e(n.data.contexts[n.NODE]),e(n.data.contexts[n.DRAG])}function RB(n){var e=n.canvasWidth,t=n.canvasHeight,r=vE(n),i=r.pan,o=r.zoom,l=og();zy(l,l,[i.x,i.y]),gE(l,l,[o,o]);var u=og();pB(u,e,t);var c=og();return gB(c,u,l),c}function uC(n,e){var t=n.canvasWidth,r=n.canvasHeight,i=vE(n),o=i.pan,l=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,r),e.translate(o.x,o.y),e.scale(l,l)}function MB(n,e){n.drawSelectionRectangle(e,function(t){return uC(n,t)})}function OB(n){var e=n.data.contexts[n.NODE];e.save(),uC(n,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function DB(n){var e=function(i,o,l){for(var u=i.atlasManager.getRenderTypeOpts(o),c=n.data.contexts[n.NODE],f=.125,v=u.atlasCollection.atlases,g=0;g<v.length;g++){var b=v[g],y=b.canvas,E=y.width,x=y.height,T=E*g,w=y.height*l;c.save(),c.scale(f,f),c.drawImage(y,T,w),c.strokeStyle="black",c.rect(T,w,E,x),c.stroke(),c.restore()}},t=0;e(n.eleDrawing,"node-body",t++),e(n.eleDrawing,"node-label",t++)}function NB(n,e,t,r,i){var o,l,u,c,f=vE(n),v=f.pan,g=f.zoom;{var b=uB(n,v,g,e,t),y=Lr(b,2),E=y[0],x=y[1],T=6;o=E-T/2,l=x-T/2,u=T,c=T}if(u===0||c===0)return[];var w=n.data.contexts[n.WEBGL];w.bindFramebuffer(w.FRAMEBUFFER,n.pickingFrameBuffer),n.pickingFrameBuffer.needsDraw&&(w.viewport(0,0,w.canvas.width,w.canvas.height),fC(n,null,sg.PICKING),n.pickingFrameBuffer.needsDraw=!1);var R=u*c,A=new Uint8Array(R*4);w.readPixels(o,l,u,c,w.RGBA,w.UNSIGNED_BYTE,A),w.bindFramebuffer(w.FRAMEBUFFER,null);for(var O=new Set,B=0;B<R;B++){var z=A.slice(B*4,B*4+4),N=fB(z)-1;N>=0&&O.add(N)}return O}function LB(n,e,t){var r=NB(n,e,t),i=n.getCachedZSortedEles(),o,l,u=bi(r),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,v=i[f];if(!o&&v.isNode()&&(o=v),!l&&v.isEdge()&&(l=v),o&&l)break}}catch(g){u.e(g)}finally{u.f()}return[o,l].filter(Boolean)}function fC(n,e,t){var r,i;n.webglDebug&&(i=[],r=performance.now());var o=n.eleDrawing,l=0;if(t.screen&&n.data.canvasNeedsRedraw[n.SELECT_BOX]&&MB(n,e),n.data.canvasNeedsRedraw[n.NODE]||t.picking){var u=function(H,$){$+=1,H.isNode()?(o.drawTexture(H,$,"node-underlay"),o.drawTexture(H,$,"node-body"),o.drawTexture(H,$,"node-label"),o.drawTexture(H,$,"node-overlay")):(o.drawEdgeLine(H,$),o.drawEdgeArrow(H,$,"source"),o.drawEdgeArrow(H,$,"target"),o.drawTexture(H,$,"edge-label"))},c=n.data.contexts[n.WEBGL];t.screen?(c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA)):c.disable(c.BLEND),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.viewport(0,0,c.canvas.width,c.canvas.height);var f=RB(n),v=n.getCachedZSortedEles();if(l=v.length,o.startFrame(f,i,t),t.screen){for(var g=0;g<v.nondrag.length;g++)u(v.nondrag[g],g);for(var b=0;b<v.drag.length;b++)u(v.drag[b],-1)}else if(t.picking)for(var y=0;y<v.length;y++)u(v[y],y);o.endFrame(),n.data.gc&&(console.log("Garbage Collect!"),n.data.gc=!1,o.gc()),t.screen&&n.webglDebugShowAtlases&&(OB(n),DB(n)),n.data.canvasNeedsRedraw[n.NODE]=!1,n.data.canvasNeedsRedraw[n.DRAG]=!1}if(n.webglDebug){var E=performance.now(),x=!0,T=0,w=0,R=bi(i),A;try{for(R.s();!(A=R.n()).done;){var O=A.value;T++,w+=O.count}}catch(Y){R.e(Y)}finally{R.f()}var B=Math.ceil(E-r),z="".concat(l," elements, ").concat(w," rectangles, ").concat(T," batches");if(x)console.log("WebGL (".concat(t.name,") - ").concat(z));else{console.log("WebGL render (".concat(t.name,") - frame time ").concat(B,"ms")),console.log("  ".concat(z)),console.log("Texture Atlases Used:");var N=o.getAtlasDebugInfo(),U=bi(N),F;try{for(U.s();!(F=U.n()).done;){var V=F.value;console.log("  ".concat(V.type,": ").concat(V.keyCount," keys, ").concat(V.atlasCount," atlases"))}}catch(Y){U.e(Y)}finally{U.f()}console.log("")}}}var uu={};uu.drawPolygonPath=function(n,e,t,r,i,o){var l=r/2,u=i/2;n.beginPath&&n.beginPath(),n.moveTo(e+l*o[0],t+u*o[1]);for(var c=1;c<o.length/2;c++)n.lineTo(e+l*o[c*2],t+u*o[c*2+1]);n.closePath()};uu.drawRoundPolygonPath=function(n,e,t,r,i,o,l){l.forEach(function(u){return Yx(n,u)}),n.closePath()};uu.drawRoundRectanglePath=function(n,e,t,r,i,o){var l=r/2,u=i/2,c=o==="auto"?Lf(r,i):Math.min(o,u,l);n.beginPath&&n.beginPath(),n.moveTo(e,t-u),n.arcTo(e+l,t-u,e+l,t,c),n.arcTo(e+l,t+u,e,t+u,c),n.arcTo(e-l,t+u,e-l,t,c),n.arcTo(e-l,t-u,e,t-u,c),n.lineTo(e,t-u),n.closePath()};uu.drawBottomRoundRectanglePath=function(n,e,t,r,i,o){var l=r/2,u=i/2,c=o==="auto"?Lf(r,i):o;n.beginPath&&n.beginPath(),n.moveTo(e,t-u),n.lineTo(e+l,t-u),n.lineTo(e+l,t),n.arcTo(e+l,t+u,e,t+u,c),n.arcTo(e-l,t+u,e-l,t,c),n.lineTo(e-l,t-u),n.lineTo(e,t-u),n.closePath()};uu.drawCutRectanglePath=function(n,e,t,r,i,o,l){var u=r/2,c=i/2,f=l==="auto"?j1():l;n.beginPath&&n.beginPath(),n.moveTo(e-u+f,t-c),n.lineTo(e+u-f,t-c),n.lineTo(e+u,t-c+f),n.lineTo(e+u,t+c-f),n.lineTo(e+u-f,t+c),n.lineTo(e-u+f,t+c),n.lineTo(e-u,t+c-f),n.lineTo(e-u,t-c+f),n.closePath()};uu.drawBarrelPath=function(n,e,t,r,i){var o=r/2,l=i/2,u=e-o,c=e+o,f=t-l,v=t+l,g=m1(r,i),b=g.widthOffset,y=g.heightOffset,E=g.ctrlPtOffsetPct*b;n.beginPath&&n.beginPath(),n.moveTo(u,f+y),n.lineTo(u,v-y),n.quadraticCurveTo(u+E,v,u+b,v),n.lineTo(c-b,v),n.quadraticCurveTo(c-E,v,c,v-y),n.lineTo(c,f+y),n.quadraticCurveTo(c-E,f,c-b,f),n.lineTo(u+b,f),n.quadraticCurveTo(u+E,f,u,f+y),n.closePath()};var pT=Math.sin(0),mT=Math.cos(0),O1={},D1={},cC=Math.PI/40;for(var ld=0*Math.PI;ld<2*Math.PI;ld+=cC)O1[ld]=Math.sin(ld),D1[ld]=Math.cos(ld);uu.drawEllipsePath=function(n,e,t,r,i){if(n.beginPath&&n.beginPath(),n.ellipse)n.ellipse(e,t,r/2,i/2,0,0,2*Math.PI);else for(var o,l,u=r/2,c=i/2,f=0*Math.PI;f<2*Math.PI;f+=cC)o=e-u*O1[f]*pT+u*D1[f]*mT,l=t+c*D1[f]*pT+c*O1[f]*mT,f===0?n.moveTo(o,l):n.lineTo(o,l);n.closePath()};var Ug={};Ug.createBuffer=function(n,e){var t=document.createElement("canvas");return t.width=n,t.height=e,[t,t.getContext("2d")]};Ug.bufferCanvasImage=function(n){var e=this.cy,t=e.mutableElements(),r=t.boundingBox(),i=this.findContainerClientCoords(),o=n.full?Math.ceil(r.w):i[2],l=n.full?Math.ceil(r.h):i[3],u=lt(n.maxWidth)||lt(n.maxHeight),c=this.getPixelRatio(),f=1;if(n.scale!==void 0)o*=n.scale,l*=n.scale,f=n.scale;else if(u){var v=1/0,g=1/0;lt(n.maxWidth)&&(v=f*n.maxWidth/o),lt(n.maxHeight)&&(g=f*n.maxHeight/l),f=Math.min(v,g),o*=f,l*=f}u||(o*=c,l*=c,f*=c);var b=document.createElement("canvas");b.width=o,b.height=l,b.style.width=o+"px",b.style.height=l+"px";var y=b.getContext("2d");if(o>0&&l>0){y.clearRect(0,0,o,l),y.globalCompositeOperation="source-over";var E=this.getCachedZSortedEles();if(n.full)y.translate(-r.x1*f,-r.y1*f),y.scale(f,f),this.drawElements(y,E),y.scale(1/f,1/f),y.translate(r.x1*f,r.y1*f);else{var x=e.pan(),T={x:x.x*f,y:x.y*f};f*=e.zoom(),y.translate(T.x,T.y),y.scale(f,f),this.drawElements(y,E),y.scale(1/f,1/f),y.translate(-T.x,-T.y)}n.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=n.bg,y.rect(0,0,o,l),y.fill())}return b};function IB(n,e){for(var t=atob(n),r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([r],{type:e})}function yT(n){var e=n.indexOf(",");return n.substr(e+1)}function dC(n,e,t){var r=function(){return e.toDataURL(t,n.quality)};switch(n.output){case"blob-promise":return new Nd(function(i,o){try{e.toBlob(function(l){l!=null?i(l):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,n.quality)}catch(l){o(l)}});case"blob":return IB(yT(r()),t);case"base64":return yT(r());case"base64uri":default:return r()}}Ug.png=function(n){return dC(n,this.bufferCanvasImage(n),"image/png")};Ug.jpg=function(n){return dC(n,this.bufferCanvasImage(n),"image/jpeg")};var hC={};hC.nodeShapeImpl=function(n,e,t,r,i,o,l,u){switch(n){case"ellipse":return this.drawEllipsePath(e,t,r,i,o);case"polygon":return this.drawPolygonPath(e,t,r,i,o,l);case"round-polygon":return this.drawRoundPolygonPath(e,t,r,i,o,l,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,r,i,o,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,r,i,o,l,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,r,i,o,u);case"barrel":return this.drawBarrelPath(e,t,r,i,o)}};var BB=vC,Jt=vC.prototype;Jt.CANVAS_LAYERS=3;Jt.SELECT_BOX=0;Jt.DRAG=1;Jt.NODE=2;Jt.WEBGL=3;Jt.CANVAS_TYPES=["2d","2d","2d","webgl2"];Jt.BUFFER_COUNT=3;Jt.TEXTURE_BUFFER=0;Jt.MOTIONBLUR_BUFFER_NODE=1;Jt.MOTIONBLUR_BUFFER_DRAG=2;function vC(n){var e=this,t=e.cy.window(),r=t.document;n.webgl&&(Jt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Jt.CANVAS_LAYERS),contexts:new Array(Jt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Jt.CANVAS_LAYERS),bufferCanvases:new Array(Jt.BUFFER_COUNT),bufferContexts:new Array(Jt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var l=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,l.position="relative",l.zIndex="0",l.overflow="hidden";var u=n.cy.container();u.appendChild(e.data.canvasContainer),u.style[i]=o;var c={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};jR()&&(c["-ms-touch-action"]="none",c["touch-action"]="none");for(var f=0;f<Jt.CANVAS_LAYERS;f++){var v=e.data.canvases[f]=r.createElement("canvas"),g=Jt.CANVAS_TYPES[f];e.data.contexts[f]=v.getContext(g),e.data.contexts[f]||nr("Could not create canvas of type "+g),Object.keys(c).forEach(function(te){v.style[te]=c[te]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(Jt.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Jt.NODE].setAttribute("data-id","layer"+Jt.NODE+"-node"),e.data.canvases[Jt.SELECT_BOX].setAttribute("data-id","layer"+Jt.SELECT_BOX+"-selectbox"),e.data.canvases[Jt.DRAG].setAttribute("data-id","layer"+Jt.DRAG+"-drag"),e.data.canvases[Jt.WEBGL]&&e.data.canvases[Jt.WEBGL].setAttribute("data-id","layer"+Jt.WEBGL+"-webgl");for(var f=0;f<Jt.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=r.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var b=Qa(),y=function(ae){return{x:(ae.x1+ae.x2)/2,y:(ae.y1+ae.y2)/2}},E=function(ae){return{x:-ae.w/2,y:-ae.h/2}},x=function(ae){var le=ae[0]._private,me=le.oldBackgroundTimestamp===le.backgroundTimestamp;return!me},T=function(ae){return ae[0]._private.nodeKey},w=function(ae){return ae[0]._private.labelStyleKey},R=function(ae){return ae[0]._private.sourceLabelStyleKey},A=function(ae){return ae[0]._private.targetLabelStyleKey},O=function(ae,le,me,_e,Ae){return e.drawElement(ae,le,me,!1,!1,Ae)},B=function(ae,le,me,_e,Ae){return e.drawElementText(ae,le,me,_e,"main",Ae)},z=function(ae,le,me,_e,Ae){return e.drawElementText(ae,le,me,_e,"source",Ae)},N=function(ae,le,me,_e,Ae){return e.drawElementText(ae,le,me,_e,"target",Ae)},U=function(ae){return ae.boundingBox(),ae[0]._private.bodyBounds},F=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.main||b},V=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.source||b},Y=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.target||b},H=function(ae,le){return le},$=function(ae){return y(U(ae))},D=function(ae,le,me){var _e=ae?ae+"-":"";return{x:le.x+me.pstyle(_e+"text-margin-x").pfValue,y:le.y+me.pstyle(_e+"text-margin-y").pfValue}},_=function(ae,le,me){var _e=ae[0]._private.rscratch;return{x:_e[le],y:_e[me]}},I=function(ae){return D("",_(ae,"labelX","labelY"),ae)},L=function(ae){return D("source",_(ae,"sourceLabelX","sourceLabelY"),ae)},k=function(ae){return D("target",_(ae,"targetLabelX","targetLabelY"),ae)},K=function(ae){return E(U(ae))},G=function(ae){return E(V(ae))},X=function(ae){return E(Y(ae))},Z=function(ae){var le=F(ae),me=E(F(ae));if(ae.isNode()){switch(ae.pstyle("text-halign").value){case"left":me.x=-le.w-(le.leftPad||0);break;case"right":me.x=-(le.rightPad||0);break}switch(ae.pstyle("text-valign").value){case"top":me.y=-le.h-(le.topPad||0);break;case"bottom":me.y=-(le.botPad||0);break}}return me},J=e.data.eleTxrCache=new ng(e,{getKey:T,doesEleInvalidateKey:x,drawElement:O,getBoundingBox:U,getRotationPoint:$,getRotationOffset:K,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),re=e.data.lblTxrCache=new ng(e,{getKey:w,drawElement:B,getBoundingBox:F,getRotationPoint:I,getRotationOffset:Z,isVisible:H}),ie=e.data.slbTxrCache=new ng(e,{getKey:R,drawElement:z,getBoundingBox:V,getRotationPoint:L,getRotationOffset:G,isVisible:H}),oe=e.data.tlbTxrCache=new ng(e,{getKey:A,drawElement:N,getBoundingBox:Y,getRotationPoint:k,getRotationOffset:X,isVisible:H}),he=e.data.lyrTxrCache=new eC(e);e.onUpdateEleCalcs(function(ae,le){J.invalidateElements(le),re.invalidateElements(le),ie.invalidateElements(le),oe.invalidateElements(le),he.invalidateElements(le);for(var me=0;me<le.length;me++){var _e=le[me]._private;_e.oldBackgroundTimestamp=_e.backgroundTimestamp}});var se=function(ae){for(var le=0;le<ae.length;le++)he.enqueueElementRefinement(ae[le].ele)};J.onDequeue(se),re.onDequeue(se),ie.onDequeue(se),oe.onDequeue(se),n.webgl&&e.initWebgl(n,{getStyleKey:T,getLabelKey:w,drawElement:O,drawLabel:B,getElementBox:U,getLabelBox:F,getElementRotationPoint:$,getElementRotationOffset:K,getLabelRotationPoint:I,getLabelRotationOffset:Z})}Jt.redrawHint=function(n,e){var t=this;switch(n){case"eles":t.data.canvasNeedsRedraw[Jt.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[Jt.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[Jt.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var _B=typeof Path2D<"u";Jt.path2dEnabled=function(n){if(n===void 0)return this.pathsEnabled;this.pathsEnabled=!!n};Jt.usePaths=function(){return _B&&this.pathsEnabled};Jt.setImgSmoothing=function(n,e){n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled=e:(n.webkitImageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.msImageSmoothingEnabled=e)};Jt.getImgSmoothing=function(n){return n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled:n.webkitImageSmoothingEnabled||n.mozImageSmoothingEnabled||n.msImageSmoothingEnabled};Jt.makeOffscreenCanvas=function(n,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":Tr(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(n,e);else{var r=this.cy.window(),i=r.document;t=i.createElement("canvas"),t.width=n,t.height=e}return t};[tC,ds,$s,hE,kf,Ud,Na,lC,uu,Ug,hC].forEach(function(n){Lt(Jt,n)});var PB=[{name:"null",impl:Gx},{name:"base",impl:Qx},{name:"canvas",impl:BB}],FB=[{type:"layout",extensions:yI},{type:"renderer",extensions:PB}],gC={},pC={};function mC(n,e,t){var r=t,i=function(U){On("Can not register `"+e+"` for `"+n+"` since `"+U+"` already exists in the prototype and can not be overridden")};if(n==="core"){if(xg.prototype[e])return i(e);xg.prototype[e]=t}else if(n==="collection"){if(qr.prototype[e])return i(e);qr.prototype[e]=t}else if(n==="layout"){for(var o=function(U){this.options=U,t.call(this,U),mn(this._private)||(this._private={}),this._private.cy=U.cy,this._private.listeners=[],this.createEmitter()},l=o.prototype=Object.create(t.prototype),u=[],c=0;c<u.length;c++){var f=u[c];l[f]=l[f]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var v=t.prototype.stop;l.stop=function(){var N=this.options;if(N&&N.animate){var U=this.animations;if(U)for(var F=0;F<U.length;F++)U[F].stop()}return v?v.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var g=function(U){return U._private.cy},b={addEventFields:function(U,F){F.layout=U,F.cy=g(U),F.target=U},bubble:function(){return!0},parent:function(U){return g(U)}};Lt(l,{createEmitter:function(){return this._private.emitter=new a0(b,this),this},emitter:function(){return this._private.emitter},on:function(U,F){return this.emitter().on(U,F),this},one:function(U,F){return this.emitter().one(U,F),this},once:function(U,F){return this.emitter().one(U,F),this},removeListener:function(U,F){return this.emitter().removeListener(U,F),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(U,F){return this.emitter().emit(U,F),this}}),Mn.eventAliasesOn(l),r=o}else if(n==="renderer"&&e!=="null"&&e!=="base"){var y=yC("renderer","base"),E=y.prototype,x=t,T=t.prototype,w=function(){y.apply(this,arguments),x.apply(this,arguments)},R=w.prototype;for(var A in E){var O=E[A],B=T[A]!=null;if(B)return i(A);R[A]=O}for(var z in T)R[z]=T[z];E.clientFunctions.forEach(function(N){R[N]=R[N]||function(){nr("Renderer does not implement `renderer."+N+"()` on its prototype")}}),r=w}else if(n==="__proto__"||n==="constructor"||n==="prototype")return nr(n+" is an illegal type to be registered, possibly lead to prototype pollutions");return _S({map:gC,keys:[n,e],value:r})}function yC(n,e){return PS({map:gC,keys:[n,e]})}function kB(n,e,t,r,i){return _S({map:pC,keys:[n,e,t,r],value:i})}function UB(n,e,t,r){return PS({map:pC,keys:[n,e,t,r]})}var N1=function(){if(arguments.length===2)return yC.apply(null,arguments);if(arguments.length===3)return mC.apply(null,arguments);if(arguments.length===4)return UB.apply(null,arguments);if(arguments.length===5)return kB.apply(null,arguments);nr("Invalid extension access syntax")};xg.prototype.extension=N1;FB.forEach(function(n){n.extensions.forEach(function(e){mC(n.type,e.name,e.impl)})});var bC=function n(){if(!(this instanceof n))return new n;this.length=0},_f=bC.prototype;_f.instanceString=function(){return"stylesheet"};_f.selector=function(n){var e=this.length++;return this[e]={selector:n,properties:[]},this};_f.css=function(n,e){var t=this.length-1;if(Ct(n))this[t].properties.push({name:n,value:e});else if(mn(n))for(var r=n,i=Object.keys(r),o=0;o<i.length;o++){var l=i[o],u=r[l];if(u!=null){var c=na.properties[l]||na.properties[Ky(l)];if(c!=null){var f=c.name,v=u;this[t].properties.push({name:f,value:v})}}}return this};_f.style=_f.css;_f.generateStyle=function(n){var e=new na(n);return this.appendToStyle(e)};_f.appendToStyle=function(n){for(var e=0;e<this.length;e++){var t=this[e],r=t.selector,i=t.properties;n.selector(r);for(var o=0;o<i.length;o++){var l=i[o];n.css(l.name,l.value)}}return n};var zB="3.31.0",ru=function(e){if(e===void 0&&(e={}),mn(e))return new xg(e);if(Ct(e))return N1.apply(N1,arguments)};ru.use=function(n){var e=Array.prototype.slice.call(arguments,1);return e.unshift(ru),n.apply(null,e),this};ru.warnings=function(n){return YS(n)};ru.version=zB;ru.stylesheet=ru.Stylesheet=bC;var Sy={exports:{}},xy={exports:{}},Cy={exports:{}},GB=Cy.exports,bT;function HB(){return bT||(bT=1,function(n,e){(function(r,i){n.exports=i()})(GB,function(){return function(t){var r={};function i(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return t[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=t,i.c=r,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=28)}([function(t,r,i){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,t.exports=o},function(t,r,i){var o=i(2),l=i(8),u=i(9);function c(v,g,b){o.call(this,b),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=b,this.bendpoints=[],this.source=v,this.target=g}c.prototype=Object.create(o.prototype);for(var f in o)c[f]=o[f];c.prototype.getSource=function(){return this.source},c.prototype.getTarget=function(){return this.target},c.prototype.isInterGraph=function(){return this.isInterGraph},c.prototype.getLength=function(){return this.length},c.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},c.prototype.getBendpoints=function(){return this.bendpoints},c.prototype.getLca=function(){return this.lca},c.prototype.getSourceInLca=function(){return this.sourceInLca},c.prototype.getTargetInLca=function(){return this.targetInLca},c.prototype.getOtherEnd=function(v){if(this.source===v)return this.target;if(this.target===v)return this.source;throw"Node is not incident with this edge"},c.prototype.getOtherEndInGraph=function(v,g){for(var b=this.getOtherEnd(v),y=g.getGraphManager().getRoot();;){if(b.getOwner()==g)return b;if(b.getOwner()==y)break;b=b.getOwner().getParent()}return null},c.prototype.updateLength=function(){var v=new Array(4);this.isOverlapingSourceAndTarget=l.getIntersection(this.target.getRect(),this.source.getRect(),v),this.isOverlapingSourceAndTarget||(this.lengthX=v[0]-v[2],this.lengthY=v[1]-v[3],Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},c.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=c},function(t,r,i){function o(l){this.vGraphObject=l}t.exports=o},function(t,r,i){var o=i(2),l=i(10),u=i(13),c=i(0),f=i(16),v=i(5);function g(y,E,x,T){x==null&&T==null&&(T=E),o.call(this,T),y.graphManager!=null&&(y=y.graphManager),this.estimatedSize=l.MIN_VALUE,this.inclusionTreeDepth=l.MAX_VALUE,this.vGraphObject=T,this.edges=[],this.graphManager=y,x!=null&&E!=null?this.rect=new u(E.x,E.y,x.width,x.height):this.rect=new u}g.prototype=Object.create(o.prototype);for(var b in o)g[b]=o[b];g.prototype.getEdges=function(){return this.edges},g.prototype.getChild=function(){return this.child},g.prototype.getOwner=function(){return this.owner},g.prototype.getWidth=function(){return this.rect.width},g.prototype.setWidth=function(y){this.rect.width=y},g.prototype.getHeight=function(){return this.rect.height},g.prototype.setHeight=function(y){this.rect.height=y},g.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},g.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},g.prototype.getCenter=function(){return new v(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},g.prototype.getLocation=function(){return new v(this.rect.x,this.rect.y)},g.prototype.getRect=function(){return this.rect},g.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},g.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},g.prototype.setRect=function(y,E){this.rect.x=y.x,this.rect.y=y.y,this.rect.width=E.width,this.rect.height=E.height},g.prototype.setCenter=function(y,E){this.rect.x=y-this.rect.width/2,this.rect.y=E-this.rect.height/2},g.prototype.setLocation=function(y,E){this.rect.x=y,this.rect.y=E},g.prototype.moveBy=function(y,E){this.rect.x+=y,this.rect.y+=E},g.prototype.getEdgeListToNode=function(y){var E=[],x=this;return x.edges.forEach(function(T){if(T.target==y){if(T.source!=x)throw"Incorrect edge source!";E.push(T)}}),E},g.prototype.getEdgesBetween=function(y){var E=[],x=this;return x.edges.forEach(function(T){if(!(T.source==x||T.target==x))throw"Incorrect edge source and/or target";(T.target==y||T.source==y)&&E.push(T)}),E},g.prototype.getNeighborsList=function(){var y=new Set,E=this;return E.edges.forEach(function(x){if(x.source==E)y.add(x.target);else{if(x.target!=E)throw"Incorrect incidency!";y.add(x.source)}}),y},g.prototype.withChildren=function(){var y=new Set,E,x;if(y.add(this),this.child!=null)for(var T=this.child.getNodes(),w=0;w<T.length;w++)E=T[w],x=E.withChildren(),x.forEach(function(R){y.add(R)});return y},g.prototype.getNoOfChildren=function(){var y=0,E;if(this.child==null)y=1;else for(var x=this.child.getNodes(),T=0;T<x.length;T++)E=x[T],y+=E.getNoOfChildren();return y==0&&(y=1),y},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},g.prototype.scatter=function(){var y,E,x=-c.INITIAL_WORLD_BOUNDARY,T=c.INITIAL_WORLD_BOUNDARY;y=c.WORLD_CENTER_X+f.nextDouble()*(T-x)+x;var w=-c.INITIAL_WORLD_BOUNDARY,R=c.INITIAL_WORLD_BOUNDARY;E=c.WORLD_CENTER_Y+f.nextDouble()*(R-w)+w,this.rect.x=y,this.rect.y=E},g.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var y=this.getChild();if(y.updateBounds(!0),this.rect.x=y.getLeft(),this.rect.y=y.getTop(),this.setWidth(y.getRight()-y.getLeft()),this.setHeight(y.getBottom()-y.getTop()),c.NODE_DIMENSIONS_INCLUDE_LABELS){var E=y.getRight()-y.getLeft(),x=y.getBottom()-y.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(E+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>E?(this.rect.x-=(this.labelWidth-E)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(E+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(x+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>x?(this.rect.y-=(this.labelHeight-x)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(x+this.labelHeight))}}},g.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==l.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},g.prototype.transform=function(y){var E=this.rect.x;E>c.WORLD_BOUNDARY?E=c.WORLD_BOUNDARY:E<-c.WORLD_BOUNDARY&&(E=-c.WORLD_BOUNDARY);var x=this.rect.y;x>c.WORLD_BOUNDARY?x=c.WORLD_BOUNDARY:x<-c.WORLD_BOUNDARY&&(x=-c.WORLD_BOUNDARY);var T=new v(E,x),w=y.inverseTransformPoint(T);this.setLocation(w.x,w.y)},g.prototype.getLeft=function(){return this.rect.x},g.prototype.getRight=function(){return this.rect.x+this.rect.width},g.prototype.getTop=function(){return this.rect.y},g.prototype.getBottom=function(){return this.rect.y+this.rect.height},g.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},t.exports=g},function(t,r,i){var o=i(0);function l(){}for(var u in o)l[u]=o[u];l.MAX_ITERATIONS=2500,l.DEFAULT_EDGE_LENGTH=50,l.DEFAULT_SPRING_STRENGTH=.45,l.DEFAULT_REPULSION_STRENGTH=4500,l.DEFAULT_GRAVITY_STRENGTH=.4,l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,l.COOLING_ADAPTATION_FACTOR=.33,l.ADAPTATION_LOWER_NODE_LIMIT=1e3,l.ADAPTATION_UPPER_NODE_LIMIT=5e3,l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,l.MAX_NODE_DISPLACEMENT=l.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,l.CONVERGENCE_CHECK_PERIOD=100,l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,l.MIN_EDGE_LENGTH=1,l.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=l},function(t,r,i){function o(l,u){l==null&&u==null?(this.x=0,this.y=0):(this.x=l,this.y=u)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(l){this.x=l},o.prototype.setY=function(l){this.y=l},o.prototype.getDifference=function(l){return new DimensionD(this.x-l.x,this.y-l.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(l){return this.x+=l.width,this.y+=l.height,this},t.exports=o},function(t,r,i){var o=i(2),l=i(10),u=i(0),c=i(7),f=i(3),v=i(1),g=i(13),b=i(12),y=i(11);function E(T,w,R){o.call(this,R),this.estimatedSize=l.MIN_VALUE,this.margin=u.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=T,w!=null&&w instanceof c?this.graphManager=w:w!=null&&w instanceof Layout&&(this.graphManager=w.graphManager)}E.prototype=Object.create(o.prototype);for(var x in o)E[x]=o[x];E.prototype.getNodes=function(){return this.nodes},E.prototype.getEdges=function(){return this.edges},E.prototype.getGraphManager=function(){return this.graphManager},E.prototype.getParent=function(){return this.parent},E.prototype.getLeft=function(){return this.left},E.prototype.getRight=function(){return this.right},E.prototype.getTop=function(){return this.top},E.prototype.getBottom=function(){return this.bottom},E.prototype.isConnected=function(){return this.isConnected},E.prototype.add=function(T,w,R){if(w==null&&R==null){var A=T;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(A)>-1)throw"Node already in graph!";return A.owner=this,this.getNodes().push(A),A}else{var O=T;if(!(this.getNodes().indexOf(w)>-1&&this.getNodes().indexOf(R)>-1))throw"Source or target not in graph!";if(!(w.owner==R.owner&&w.owner==this))throw"Both owners must be this graph!";return w.owner!=R.owner?null:(O.source=w,O.target=R,O.isInterGraph=!1,this.getEdges().push(O),w.edges.push(O),R!=w&&R.edges.push(O),O)}},E.prototype.remove=function(T){var w=T;if(T instanceof f){if(w==null)throw"Node is null!";if(!(w.owner!=null&&w.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var R=w.edges.slice(),A,O=R.length,B=0;B<O;B++)A=R[B],A.isInterGraph?this.graphManager.remove(A):A.source.owner.remove(A);var z=this.nodes.indexOf(w);if(z==-1)throw"Node not in owner node list!";this.nodes.splice(z,1)}else if(T instanceof v){var A=T;if(A==null)throw"Edge is null!";if(!(A.source!=null&&A.target!=null))throw"Source and/or target is null!";if(!(A.source.owner!=null&&A.target.owner!=null&&A.source.owner==this&&A.target.owner==this))throw"Source and/or target owner is invalid!";var N=A.source.edges.indexOf(A),U=A.target.edges.indexOf(A);if(!(N>-1&&U>-1))throw"Source and/or target doesn't know this edge!";A.source.edges.splice(N,1),A.target!=A.source&&A.target.edges.splice(U,1);var z=A.source.owner.getEdges().indexOf(A);if(z==-1)throw"Not in owner's edge list!";A.source.owner.getEdges().splice(z,1)}},E.prototype.updateLeftTop=function(){for(var T=l.MAX_VALUE,w=l.MAX_VALUE,R,A,O,B=this.getNodes(),z=B.length,N=0;N<z;N++){var U=B[N];R=U.getTop(),A=U.getLeft(),T>R&&(T=R),w>A&&(w=A)}return T==l.MAX_VALUE?null:(B[0].getParent().paddingLeft!=null?O=B[0].getParent().paddingLeft:O=this.margin,this.left=w-O,this.top=T-O,new b(this.left,this.top))},E.prototype.updateBounds=function(T){for(var w=l.MAX_VALUE,R=-l.MAX_VALUE,A=l.MAX_VALUE,O=-l.MAX_VALUE,B,z,N,U,F,V=this.nodes,Y=V.length,H=0;H<Y;H++){var $=V[H];T&&$.child!=null&&$.updateBounds(),B=$.getLeft(),z=$.getRight(),N=$.getTop(),U=$.getBottom(),w>B&&(w=B),R<z&&(R=z),A>N&&(A=N),O<U&&(O=U)}var D=new g(w,A,R-w,O-A);w==l.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),V[0].getParent().paddingLeft!=null?F=V[0].getParent().paddingLeft:F=this.margin,this.left=D.x-F,this.right=D.x+D.width+F,this.top=D.y-F,this.bottom=D.y+D.height+F},E.calculateBounds=function(T){for(var w=l.MAX_VALUE,R=-l.MAX_VALUE,A=l.MAX_VALUE,O=-l.MAX_VALUE,B,z,N,U,F=T.length,V=0;V<F;V++){var Y=T[V];B=Y.getLeft(),z=Y.getRight(),N=Y.getTop(),U=Y.getBottom(),w>B&&(w=B),R<z&&(R=z),A>N&&(A=N),O<U&&(O=U)}var H=new g(w,A,R-w,O-A);return H},E.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},E.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},E.prototype.calcEstimatedSize=function(){for(var T=0,w=this.nodes,R=w.length,A=0;A<R;A++){var O=w[A];T+=O.calcEstimatedSize()}return T==0?this.estimatedSize=u.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=T/Math.sqrt(this.nodes.length),this.estimatedSize},E.prototype.updateConnected=function(){var T=this;if(this.nodes.length==0){this.isConnected=!0;return}var w=new y,R=new Set,A=this.nodes[0],O,B,z=A.withChildren();for(z.forEach(function(H){w.push(H),R.add(H)});w.length!==0;){A=w.shift(),O=A.getEdges();for(var N=O.length,U=0;U<N;U++){var F=O[U];if(B=F.getOtherEndInGraph(A,this),B!=null&&!R.has(B)){var V=B.withChildren();V.forEach(function(H){w.push(H),R.add(H)})}}}if(this.isConnected=!1,R.size>=this.nodes.length){var Y=0;R.forEach(function(H){H.owner==T&&Y++}),Y==this.nodes.length&&(this.isConnected=!0)}},t.exports=E},function(t,r,i){var o,l=i(1);function u(c){o=i(6),this.layout=c,this.graphs=[],this.edges=[]}u.prototype.addRoot=function(){var c=this.layout.newGraph(),f=this.layout.newNode(null),v=this.add(c,f);return this.setRootGraph(v),this.rootGraph},u.prototype.add=function(c,f,v,g,b){if(v==null&&g==null&&b==null){if(c==null)throw"Graph is null!";if(f==null)throw"Parent node is null!";if(this.graphs.indexOf(c)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(c),c.parent!=null)throw"Already has a parent!";if(f.child!=null)throw"Already has a child!";return c.parent=f,f.child=c,c}else{b=v,g=f,v=c;var y=g.getOwner(),E=b.getOwner();if(!(y!=null&&y.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(E!=null&&E.getGraphManager()==this))throw"Target not in this graph mgr!";if(y==E)return v.isInterGraph=!1,y.add(v,g,b);if(v.isInterGraph=!0,v.source=g,v.target=b,this.edges.indexOf(v)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(v),!(v.source!=null&&v.target!=null))throw"Edge source and/or target is null!";if(!(v.source.edges.indexOf(v)==-1&&v.target.edges.indexOf(v)==-1))throw"Edge already in source and/or target incidency list!";return v.source.edges.push(v),v.target.edges.push(v),v}},u.prototype.remove=function(c){if(c instanceof o){var f=c;if(f.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(f==this.rootGraph||f.parent!=null&&f.parent.graphManager==this))throw"Invalid parent node!";var v=[];v=v.concat(f.getEdges());for(var g,b=v.length,y=0;y<b;y++)g=v[y],f.remove(g);var E=[];E=E.concat(f.getNodes());var x;b=E.length;for(var y=0;y<b;y++)x=E[y],f.remove(x);f==this.rootGraph&&this.setRootGraph(null);var T=this.graphs.indexOf(f);this.graphs.splice(T,1),f.parent=null}else if(c instanceof l){if(g=c,g==null)throw"Edge is null!";if(!g.isInterGraph)throw"Not an inter-graph edge!";if(!(g.source!=null&&g.target!=null))throw"Source and/or target is null!";if(!(g.source.edges.indexOf(g)!=-1&&g.target.edges.indexOf(g)!=-1))throw"Source and/or target doesn't know this edge!";var T=g.source.edges.indexOf(g);if(g.source.edges.splice(T,1),T=g.target.edges.indexOf(g),g.target.edges.splice(T,1),!(g.source.owner!=null&&g.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(g.source.owner.getGraphManager().edges.indexOf(g)==-1)throw"Not in owner graph manager's edge list!";var T=g.source.owner.getGraphManager().edges.indexOf(g);g.source.owner.getGraphManager().edges.splice(T,1)}},u.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},u.prototype.getGraphs=function(){return this.graphs},u.prototype.getAllNodes=function(){if(this.allNodes==null){for(var c=[],f=this.getGraphs(),v=f.length,g=0;g<v;g++)c=c.concat(f[g].getNodes());this.allNodes=c}return this.allNodes},u.prototype.resetAllNodes=function(){this.allNodes=null},u.prototype.resetAllEdges=function(){this.allEdges=null},u.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},u.prototype.getAllEdges=function(){if(this.allEdges==null){var c=[],f=this.getGraphs();f.length;for(var v=0;v<f.length;v++)c=c.concat(f[v].getEdges());c=c.concat(this.edges),this.allEdges=c}return this.allEdges},u.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},u.prototype.setAllNodesToApplyGravitation=function(c){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=c},u.prototype.getRoot=function(){return this.rootGraph},u.prototype.setRootGraph=function(c){if(c.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=c,c.parent==null&&(c.parent=this.layout.newNode("Root node"))},u.prototype.getLayout=function(){return this.layout},u.prototype.isOneAncestorOfOther=function(c,f){if(!(c!=null&&f!=null))throw"assert failed";if(c==f)return!0;var v=c.getOwner(),g;do{if(g=v.getParent(),g==null)break;if(g==f)return!0;if(v=g.getOwner(),v==null)break}while(!0);v=f.getOwner();do{if(g=v.getParent(),g==null)break;if(g==c)return!0;if(v=g.getOwner(),v==null)break}while(!0);return!1},u.prototype.calcLowestCommonAncestors=function(){for(var c,f,v,g,b,y=this.getAllEdges(),E=y.length,x=0;x<E;x++){if(c=y[x],f=c.source,v=c.target,c.lca=null,c.sourceInLca=f,c.targetInLca=v,f==v){c.lca=f.getOwner();continue}for(g=f.getOwner();c.lca==null;){for(c.targetInLca=v,b=v.getOwner();c.lca==null;){if(b==g){c.lca=b;break}if(b==this.rootGraph)break;if(c.lca!=null)throw"assert failed";c.targetInLca=b.getParent(),b=c.targetInLca.getOwner()}if(g==this.rootGraph)break;c.lca==null&&(c.sourceInLca=g.getParent(),g=c.sourceInLca.getOwner())}if(c.lca==null)throw"assert failed"}},u.prototype.calcLowestCommonAncestor=function(c,f){if(c==f)return c.getOwner();var v=c.getOwner();do{if(v==null)break;var g=f.getOwner();do{if(g==null)break;if(g==v)return g;g=g.getParent().getOwner()}while(!0);v=v.getParent().getOwner()}while(!0);return v},u.prototype.calcInclusionTreeDepths=function(c,f){c==null&&f==null&&(c=this.rootGraph,f=1);for(var v,g=c.getNodes(),b=g.length,y=0;y<b;y++)v=g[y],v.inclusionTreeDepth=f,v.child!=null&&this.calcInclusionTreeDepths(v.child,f+1)},u.prototype.includesInvalidEdge=function(){for(var c,f=[],v=this.edges.length,g=0;g<v;g++)c=this.edges[g],this.isOneAncestorOfOther(c.source,c.target)&&f.push(c);for(var g=0;g<f.length;g++)this.remove(f[g]);return!1},t.exports=u},function(t,r,i){var o=i(12);function l(){}l.calcSeparationAmount=function(u,c,f,v){if(!u.intersects(c))throw"assert failed";var g=new Array(2);this.decideDirectionsForOverlappingNodes(u,c,g),f[0]=Math.min(u.getRight(),c.getRight())-Math.max(u.x,c.x),f[1]=Math.min(u.getBottom(),c.getBottom())-Math.max(u.y,c.y),u.getX()<=c.getX()&&u.getRight()>=c.getRight()?f[0]+=Math.min(c.getX()-u.getX(),u.getRight()-c.getRight()):c.getX()<=u.getX()&&c.getRight()>=u.getRight()&&(f[0]+=Math.min(u.getX()-c.getX(),c.getRight()-u.getRight())),u.getY()<=c.getY()&&u.getBottom()>=c.getBottom()?f[1]+=Math.min(c.getY()-u.getY(),u.getBottom()-c.getBottom()):c.getY()<=u.getY()&&c.getBottom()>=u.getBottom()&&(f[1]+=Math.min(u.getY()-c.getY(),c.getBottom()-u.getBottom()));var b=Math.abs((c.getCenterY()-u.getCenterY())/(c.getCenterX()-u.getCenterX()));c.getCenterY()===u.getCenterY()&&c.getCenterX()===u.getCenterX()&&(b=1);var y=b*f[0],E=f[1]/b;f[0]<E?E=f[0]:y=f[1],f[0]=-1*g[0]*(E/2+v),f[1]=-1*g[1]*(y/2+v)},l.decideDirectionsForOverlappingNodes=function(u,c,f){u.getCenterX()<c.getCenterX()?f[0]=-1:f[0]=1,u.getCenterY()<c.getCenterY()?f[1]=-1:f[1]=1},l.getIntersection2=function(u,c,f){var v=u.getCenterX(),g=u.getCenterY(),b=c.getCenterX(),y=c.getCenterY();if(u.intersects(c))return f[0]=v,f[1]=g,f[2]=b,f[3]=y,!0;var E=u.getX(),x=u.getY(),T=u.getRight(),w=u.getX(),R=u.getBottom(),A=u.getRight(),O=u.getWidthHalf(),B=u.getHeightHalf(),z=c.getX(),N=c.getY(),U=c.getRight(),F=c.getX(),V=c.getBottom(),Y=c.getRight(),H=c.getWidthHalf(),$=c.getHeightHalf(),D=!1,_=!1;if(v===b){if(g>y)return f[0]=v,f[1]=x,f[2]=b,f[3]=V,!1;if(g<y)return f[0]=v,f[1]=R,f[2]=b,f[3]=N,!1}else if(g===y){if(v>b)return f[0]=E,f[1]=g,f[2]=U,f[3]=y,!1;if(v<b)return f[0]=T,f[1]=g,f[2]=z,f[3]=y,!1}else{var I=u.height/u.width,L=c.height/c.width,k=(y-g)/(b-v),K=void 0,G=void 0,X=void 0,Z=void 0,J=void 0,re=void 0;if(-I===k?v>b?(f[0]=w,f[1]=R,D=!0):(f[0]=T,f[1]=x,D=!0):I===k&&(v>b?(f[0]=E,f[1]=x,D=!0):(f[0]=A,f[1]=R,D=!0)),-L===k?b>v?(f[2]=F,f[3]=V,_=!0):(f[2]=U,f[3]=N,_=!0):L===k&&(b>v?(f[2]=z,f[3]=N,_=!0):(f[2]=Y,f[3]=V,_=!0)),D&&_)return!1;if(v>b?g>y?(K=this.getCardinalDirection(I,k,4),G=this.getCardinalDirection(L,k,2)):(K=this.getCardinalDirection(-I,k,3),G=this.getCardinalDirection(-L,k,1)):g>y?(K=this.getCardinalDirection(-I,k,1),G=this.getCardinalDirection(-L,k,3)):(K=this.getCardinalDirection(I,k,2),G=this.getCardinalDirection(L,k,4)),!D)switch(K){case 1:Z=x,X=v+-B/k,f[0]=X,f[1]=Z;break;case 2:X=A,Z=g+O*k,f[0]=X,f[1]=Z;break;case 3:Z=R,X=v+B/k,f[0]=X,f[1]=Z;break;case 4:X=w,Z=g+-O*k,f[0]=X,f[1]=Z;break}if(!_)switch(G){case 1:re=N,J=b+-$/k,f[2]=J,f[3]=re;break;case 2:J=Y,re=y+H*k,f[2]=J,f[3]=re;break;case 3:re=V,J=b+$/k,f[2]=J,f[3]=re;break;case 4:J=F,re=y+-H*k,f[2]=J,f[3]=re;break}}return!1},l.getCardinalDirection=function(u,c,f){return u>c?f:1+f%4},l.getIntersection=function(u,c,f,v){if(v==null)return this.getIntersection2(u,c,f);var g=u.x,b=u.y,y=c.x,E=c.y,x=f.x,T=f.y,w=v.x,R=v.y,A=void 0,O=void 0,B=void 0,z=void 0,N=void 0,U=void 0,F=void 0,V=void 0,Y=void 0;return B=E-b,N=g-y,F=y*b-g*E,z=R-T,U=x-w,V=w*T-x*R,Y=B*U-z*N,Y===0?null:(A=(N*V-U*F)/Y,O=(z*F-B*V)/Y,new o(A,O))},l.angleOfVector=function(u,c,f,v){var g=void 0;return u!==f?(g=Math.atan((v-c)/(f-u)),f<u?g+=Math.PI:v<c&&(g+=this.TWO_PI)):v<c?g=this.ONE_AND_HALF_PI:g=this.HALF_PI,g},l.doIntersect=function(u,c,f,v){var g=u.x,b=u.y,y=c.x,E=c.y,x=f.x,T=f.y,w=v.x,R=v.y,A=(y-g)*(R-T)-(w-x)*(E-b);if(A===0)return!1;var O=((R-T)*(w-g)+(x-w)*(R-b))/A,B=((b-E)*(w-g)+(y-g)*(R-b))/A;return 0<O&&O<1&&0<B&&B<1},l.findCircleLineIntersections=function(u,c,f,v,g,b,y){var E=(f-u)*(f-u)+(v-c)*(v-c),x=2*((u-g)*(f-u)+(c-b)*(v-c)),T=(u-g)*(u-g)+(c-b)*(c-b)-y*y,w=x*x-4*E*T;if(w>=0){var R=(-x+Math.sqrt(x*x-4*E*T))/(2*E),A=(-x-Math.sqrt(x*x-4*E*T))/(2*E),O=null;return R>=0&&R<=1?[R]:A>=0&&A<=1?[A]:O}else return null},l.HALF_PI=.5*Math.PI,l.ONE_AND_HALF_PI=1.5*Math.PI,l.TWO_PI=2*Math.PI,l.THREE_PI=3*Math.PI,t.exports=l},function(t,r,i){function o(){}o.sign=function(l){return l>0?1:l<0?-1:0},o.floor=function(l){return l<0?Math.ceil(l):Math.floor(l)},o.ceil=function(l){return l<0?Math.floor(l):Math.ceil(l)},t.exports=o},function(t,r,i){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,t.exports=o},function(t,r,i){var o=function(){function g(b,y){for(var E=0;E<y.length;E++){var x=y[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,y,E){return y&&g(b.prototype,y),E&&g(b,E),b}}();function l(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var u=function(b){return{value:b,next:null,prev:null}},c=function(b,y,E,x){return b!==null?b.next=y:x.head=y,E!==null?E.prev=y:x.tail=y,y.prev=b,y.next=E,x.length++,y},f=function(b,y){var E=b.prev,x=b.next;return E!==null?E.next=x:y.head=x,x!==null?x.prev=E:y.tail=E,b.prev=b.next=null,y.length--,b},v=function(){function g(b){var y=this;l(this,g),this.length=0,this.head=null,this.tail=null,b!=null&&b.forEach(function(E){return y.push(E)})}return o(g,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(y,E){return c(E.prev,u(y),E,this)}},{key:"insertAfter",value:function(y,E){return c(E,u(y),E.next,this)}},{key:"insertNodeBefore",value:function(y,E){return c(E.prev,y,E,this)}},{key:"insertNodeAfter",value:function(y,E){return c(E,y,E.next,this)}},{key:"push",value:function(y){return c(this.tail,u(y),null,this)}},{key:"unshift",value:function(y){return c(null,u(y),this.head,this)}},{key:"remove",value:function(y){return f(y,this)}},{key:"pop",value:function(){return f(this.tail,this).value}},{key:"popNode",value:function(){return f(this.tail,this)}},{key:"shift",value:function(){return f(this.head,this).value}},{key:"shiftNode",value:function(){return f(this.head,this)}},{key:"get_object_at",value:function(y){if(y<=this.length()){for(var E=1,x=this.head;E<y;)x=x.next,E++;return x.value}}},{key:"set_object_at",value:function(y,E){if(y<=this.length()){for(var x=1,T=this.head;x<y;)T=T.next,x++;T.value=E}}}]),g}();t.exports=v},function(t,r,i){function o(l,u,c){this.x=null,this.y=null,l==null&&u==null&&c==null?(this.x=0,this.y=0):typeof l=="number"&&typeof u=="number"&&c==null?(this.x=l,this.y=u):l.constructor.name=="Point"&&u==null&&c==null&&(c=l,this.x=c.x,this.y=c.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(l,u,c){l.constructor.name=="Point"&&u==null&&c==null?(c=l,this.setLocation(c.x,c.y)):typeof l=="number"&&typeof u=="number"&&c==null&&(parseInt(l)==l&&parseInt(u)==u?this.move(l,u):(this.x=Math.floor(l+.5),this.y=Math.floor(u+.5)))},o.prototype.move=function(l,u){this.x=l,this.y=u},o.prototype.translate=function(l,u){this.x+=l,this.y+=u},o.prototype.equals=function(l){if(l.constructor.name=="Point"){var u=l;return this.x==u.x&&this.y==u.y}return this==l},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=o},function(t,r,i){function o(l,u,c,f){this.x=0,this.y=0,this.width=0,this.height=0,l!=null&&u!=null&&c!=null&&f!=null&&(this.x=l,this.y=u,this.width=c,this.height=f)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(l){this.x=l},o.prototype.getY=function(){return this.y},o.prototype.setY=function(l){this.y=l},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(l){return!(this.getRight()<l.x||this.getBottom()<l.y||l.getRight()<this.x||l.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},t.exports=o},function(t,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function l(){}l.lastID=0,l.createID=function(u){return l.isPrimitive(u)?u:(u.uniqueID!=null||(u.uniqueID=l.getString(),l.lastID++),u.uniqueID)},l.getString=function(u){return u==null&&(u=l.lastID),"Object#"+u},l.isPrimitive=function(u){var c=typeof u>"u"?"undefined":o(u);return u==null||c!="object"&&c!="function"},t.exports=l},function(t,r,i){function o(x){if(Array.isArray(x)){for(var T=0,w=Array(x.length);T<x.length;T++)w[T]=x[T];return w}else return Array.from(x)}var l=i(0),u=i(7),c=i(3),f=i(1),v=i(6),g=i(5),b=i(17),y=i(29);function E(x){y.call(this),this.layoutQuality=l.QUALITY,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=l.DEFAULT_INCREMENTAL,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new u(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,x!=null&&(this.isRemoteUse=x)}E.RANDOM_SEED=1,E.prototype=Object.create(y.prototype),E.prototype.getGraphManager=function(){return this.graphManager},E.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},E.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},E.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},E.prototype.newGraphManager=function(){var x=new u(this);return this.graphManager=x,x},E.prototype.newGraph=function(x){return new v(null,this.graphManager,x)},E.prototype.newNode=function(x){return new c(this.graphManager,x)},E.prototype.newEdge=function(x){return new f(null,null,x)},E.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},E.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var x;return this.checkLayoutSuccess()?x=!1:x=this.layout(),l.ANIMATE==="during"?!1:(x&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,x)},E.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},E.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var x=this.graphManager.getAllEdges(),T=0;T<x.length;T++)x[T];for(var w=this.graphManager.getRoot().getNodes(),T=0;T<w.length;T++)w[T];this.update(this.graphManager.getRoot())}},E.prototype.update=function(x){if(x==null)this.update2();else if(x instanceof c){var T=x;if(T.getChild()!=null)for(var w=T.getChild().getNodes(),R=0;R<w.length;R++)update(w[R]);if(T.vGraphObject!=null){var A=T.vGraphObject;A.update(T)}}else if(x instanceof f){var O=x;if(O.vGraphObject!=null){var B=O.vGraphObject;B.update(O)}}else if(x instanceof v){var z=x;if(z.vGraphObject!=null){var N=z.vGraphObject;N.update(z)}}},E.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=l.QUALITY,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=l.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},E.prototype.transform=function(x){if(x==null)this.transform(new g(0,0));else{var T=new b,w=this.graphManager.getRoot().updateLeftTop();if(w!=null){T.setWorldOrgX(x.x),T.setWorldOrgY(x.y),T.setDeviceOrgX(w.x),T.setDeviceOrgY(w.y);for(var R=this.getAllNodes(),A,O=0;O<R.length;O++)A=R[O],A.transform(T)}}},E.prototype.positionNodesRandomly=function(x){if(x==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var T,w,R=x.getNodes(),A=0;A<R.length;A++)T=R[A],w=T.getChild(),w==null||w.getNodes().length==0?T.scatter():(this.positionNodesRandomly(w),T.updateBounds())},E.prototype.getFlatForest=function(){for(var x=[],T=!0,w=this.graphManager.getRoot().getNodes(),R=!0,A=0;A<w.length;A++)w[A].getChild()!=null&&(R=!1);if(!R)return x;var O=new Set,B=[],z=new Map,N=[];for(N=N.concat(w);N.length>0&&T;){for(B.push(N[0]);B.length>0&&T;){var U=B[0];B.splice(0,1),O.add(U);for(var F=U.getEdges(),A=0;A<F.length;A++){var V=F[A].getOtherEnd(U);if(z.get(U)!=V)if(!O.has(V))B.push(V),z.set(V,U);else{T=!1;break}}}if(!T)x=[];else{var Y=[].concat(o(O));x.push(Y);for(var A=0;A<Y.length;A++){var H=Y[A],$=N.indexOf(H);$>-1&&N.splice($,1)}O=new Set,z=new Map}}return x},E.prototype.createDummyNodesForBendpoints=function(x){for(var T=[],w=x.source,R=this.graphManager.calcLowestCommonAncestor(x.source,x.target),A=0;A<x.bendpoints.length;A++){var O=this.newNode(null);O.setRect(new Point(0,0),new Dimension(1,1)),R.add(O);var B=this.newEdge(null);this.graphManager.add(B,w,O),T.add(O),w=O}var B=this.newEdge(null);return this.graphManager.add(B,w,x.target),this.edgeToDummyNodes.set(x,T),x.isInterGraph()?this.graphManager.remove(x):R.remove(x),T},E.prototype.createBendpointsFromDummyNodes=function(){var x=[];x=x.concat(this.graphManager.getAllEdges()),x=[].concat(o(this.edgeToDummyNodes.keys())).concat(x);for(var T=0;T<x.length;T++){var w=x[T];if(w.bendpoints.length>0){for(var R=this.edgeToDummyNodes.get(w),A=0;A<R.length;A++){var O=R[A],B=new g(O.getCenterX(),O.getCenterY()),z=w.bendpoints.get(A);z.x=B.x,z.y=B.y,O.getOwner().remove(O)}this.graphManager.add(w,w.source,w.target)}}},E.transform=function(x,T,w,R){if(w!=null&&R!=null){var A=T;if(x<=50){var O=T/w;A-=(T-O)/50*(50-x)}else{var B=T*R;A+=(B-T)/50*(x-50)}return A}else{var z,N;return x<=50?(z=9*T/500,N=T/10):(z=9*T/50,N=-8*T),z*x+N}},E.findCenterOfTree=function(x){var T=[];T=T.concat(x);var w=[],R=new Map,A=!1,O=null;(T.length==1||T.length==2)&&(A=!0,O=T[0]);for(var B=0;B<T.length;B++){var z=T[B],N=z.getNeighborsList().size;R.set(z,z.getNeighborsList().size),N==1&&w.push(z)}var U=[];for(U=U.concat(w);!A;){var F=[];F=F.concat(U),U=[];for(var B=0;B<T.length;B++){var z=T[B],V=T.indexOf(z);V>=0&&T.splice(V,1);var Y=z.getNeighborsList();Y.forEach(function(D){if(w.indexOf(D)<0){var _=R.get(D),I=_-1;I==1&&U.push(D),R.set(D,I)}})}w=w.concat(U),(T.length==1||T.length==2)&&(A=!0,O=T[0])}return O},E.prototype.setGraphManager=function(x){this.graphManager=x},t.exports=E},function(t,r,i){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},t.exports=o},function(t,r,i){var o=i(5);function l(u,c){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l.prototype.getWorldOrgX=function(){return this.lworldOrgX},l.prototype.setWorldOrgX=function(u){this.lworldOrgX=u},l.prototype.getWorldOrgY=function(){return this.lworldOrgY},l.prototype.setWorldOrgY=function(u){this.lworldOrgY=u},l.prototype.getWorldExtX=function(){return this.lworldExtX},l.prototype.setWorldExtX=function(u){this.lworldExtX=u},l.prototype.getWorldExtY=function(){return this.lworldExtY},l.prototype.setWorldExtY=function(u){this.lworldExtY=u},l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},l.prototype.setDeviceOrgX=function(u){this.ldeviceOrgX=u},l.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},l.prototype.setDeviceOrgY=function(u){this.ldeviceOrgY=u},l.prototype.getDeviceExtX=function(){return this.ldeviceExtX},l.prototype.setDeviceExtX=function(u){this.ldeviceExtX=u},l.prototype.getDeviceExtY=function(){return this.ldeviceExtY},l.prototype.setDeviceExtY=function(u){this.ldeviceExtY=u},l.prototype.transformX=function(u){var c=0,f=this.lworldExtX;return f!=0&&(c=this.ldeviceOrgX+(u-this.lworldOrgX)*this.ldeviceExtX/f),c},l.prototype.transformY=function(u){var c=0,f=this.lworldExtY;return f!=0&&(c=this.ldeviceOrgY+(u-this.lworldOrgY)*this.ldeviceExtY/f),c},l.prototype.inverseTransformX=function(u){var c=0,f=this.ldeviceExtX;return f!=0&&(c=this.lworldOrgX+(u-this.ldeviceOrgX)*this.lworldExtX/f),c},l.prototype.inverseTransformY=function(u){var c=0,f=this.ldeviceExtY;return f!=0&&(c=this.lworldOrgY+(u-this.ldeviceOrgY)*this.lworldExtY/f),c},l.prototype.inverseTransformPoint=function(u){var c=new o(this.inverseTransformX(u.x),this.inverseTransformY(u.y));return c},t.exports=l},function(t,r,i){function o(y){if(Array.isArray(y)){for(var E=0,x=Array(y.length);E<y.length;E++)x[E]=y[E];return x}else return Array.from(y)}var l=i(15),u=i(4),c=i(0),f=i(8),v=i(9);function g(){l.call(this),this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=u.MAX_ITERATIONS}g.prototype=Object.create(l.prototype);for(var b in l)g[b]=l[b];g.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=u.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},g.prototype.calcIdealEdgeLengths=function(){for(var y,E,x,T,w,R,A,O=this.getGraphManager().getAllEdges(),B=0;B<O.length;B++)y=O[B],E=y.idealLength,y.isInterGraph&&(T=y.getSource(),w=y.getTarget(),R=y.getSourceInLca().getEstimatedSize(),A=y.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(y.idealLength+=R+A-2*c.SIMPLE_NODE_SIZE),x=y.getLca().getInclusionTreeDepth(),y.idealLength+=E*u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(T.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*x))},g.prototype.initSpringEmbedder=function(){var y=this.getAllNodes().length;this.incremental?(y>u.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*u.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(y-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-u.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT_INCREMENTAL):(y>u.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(u.COOLING_ADAPTATION_FACTOR,1-(y-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*(1-u.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},g.prototype.calcSpringForces=function(){for(var y=this.getAllEdges(),E,x=0;x<y.length;x++)E=y[x],this.calcSpringForce(E,E.idealLength)},g.prototype.calcRepulsionForces=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x,T,w,R,A=this.getAllNodes(),O;if(this.useFRGridVariant)for(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&y&&this.updateGrid(),O=new Set,x=0;x<A.length;x++)w=A[x],this.calculateRepulsionForceOfANode(w,O,y,E),O.add(w);else for(x=0;x<A.length;x++)for(w=A[x],T=x+1;T<A.length;T++)R=A[T],w.getOwner()==R.getOwner()&&this.calcRepulsionForce(w,R)},g.prototype.calcGravitationalForces=function(){for(var y,E=this.getAllNodesToApplyGravitation(),x=0;x<E.length;x++)y=E[x],this.calcGravitationalForce(y)},g.prototype.moveNodes=function(){for(var y=this.getAllNodes(),E,x=0;x<y.length;x++)E=y[x],E.move()},g.prototype.calcSpringForce=function(y,E){var x=y.getSource(),T=y.getTarget(),w,R,A,O;if(this.uniformLeafNodeSizes&&x.getChild()==null&&T.getChild()==null)y.updateLengthSimple();else if(y.updateLength(),y.isOverlapingSourceAndTarget)return;w=y.getLength(),w!=0&&(R=y.edgeElasticity*(w-E),A=R*(y.lengthX/w),O=R*(y.lengthY/w),x.springForceX+=A,x.springForceY+=O,T.springForceX-=A,T.springForceY-=O)},g.prototype.calcRepulsionForce=function(y,E){var x=y.getRect(),T=E.getRect(),w=new Array(2),R=new Array(4),A,O,B,z,N,U,F;if(x.intersects(T)){f.calcSeparationAmount(x,T,w,u.DEFAULT_EDGE_LENGTH/2),U=2*w[0],F=2*w[1];var V=y.noOfChildren*E.noOfChildren/(y.noOfChildren+E.noOfChildren);y.repulsionForceX-=V*U,y.repulsionForceY-=V*F,E.repulsionForceX+=V*U,E.repulsionForceY+=V*F}else this.uniformLeafNodeSizes&&y.getChild()==null&&E.getChild()==null?(A=T.getCenterX()-x.getCenterX(),O=T.getCenterY()-x.getCenterY()):(f.getIntersection(x,T,R),A=R[2]-R[0],O=R[3]-R[1]),Math.abs(A)<u.MIN_REPULSION_DIST&&(A=v.sign(A)*u.MIN_REPULSION_DIST),Math.abs(O)<u.MIN_REPULSION_DIST&&(O=v.sign(O)*u.MIN_REPULSION_DIST),B=A*A+O*O,z=Math.sqrt(B),N=(y.nodeRepulsion/2+E.nodeRepulsion/2)*y.noOfChildren*E.noOfChildren/B,U=N*A/z,F=N*O/z,y.repulsionForceX-=U,y.repulsionForceY-=F,E.repulsionForceX+=U,E.repulsionForceY+=F},g.prototype.calcGravitationalForce=function(y){var E,x,T,w,R,A,O,B;E=y.getOwner(),x=(E.getRight()+E.getLeft())/2,T=(E.getTop()+E.getBottom())/2,w=y.getCenterX()-x,R=y.getCenterY()-T,A=Math.abs(w)+y.getWidth()/2,O=Math.abs(R)+y.getHeight()/2,y.getOwner()==this.graphManager.getRoot()?(B=E.getEstimatedSize()*this.gravityRangeFactor,(A>B||O>B)&&(y.gravitationForceX=-this.gravityConstant*w,y.gravitationForceY=-this.gravityConstant*R)):(B=E.getEstimatedSize()*this.compoundGravityRangeFactor,(A>B||O>B)&&(y.gravitationForceX=-this.gravityConstant*w*this.compoundGravityConstant,y.gravitationForceY=-this.gravityConstant*R*this.compoundGravityConstant))},g.prototype.isConverged=function(){var y,E=!1;return this.totalIterations>this.maxIterations/3&&(E=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),y=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,y||E},g.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},g.prototype.calcNoOfChildrenForAllNodes=function(){for(var y,E=this.graphManager.getAllNodes(),x=0;x<E.length;x++)y=E[x],y.noOfChildren=y.getNoOfChildren()},g.prototype.calcGrid=function(y){var E=0,x=0;E=parseInt(Math.ceil((y.getRight()-y.getLeft())/this.repulsionRange)),x=parseInt(Math.ceil((y.getBottom()-y.getTop())/this.repulsionRange));for(var T=new Array(E),w=0;w<E;w++)T[w]=new Array(x);for(var w=0;w<E;w++)for(var R=0;R<x;R++)T[w][R]=new Array;return T},g.prototype.addNodeToGrid=function(y,E,x){var T=0,w=0,R=0,A=0;T=parseInt(Math.floor((y.getRect().x-E)/this.repulsionRange)),w=parseInt(Math.floor((y.getRect().width+y.getRect().x-E)/this.repulsionRange)),R=parseInt(Math.floor((y.getRect().y-x)/this.repulsionRange)),A=parseInt(Math.floor((y.getRect().height+y.getRect().y-x)/this.repulsionRange));for(var O=T;O<=w;O++)for(var B=R;B<=A;B++)this.grid[O][B].push(y),y.setGridCoordinates(T,w,R,A)},g.prototype.updateGrid=function(){var y,E,x=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),y=0;y<x.length;y++)E=x[y],this.addNodeToGrid(E,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},g.prototype.calculateRepulsionForceOfANode=function(y,E,x,T){if(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&x||T){var w=new Set;y.surrounding=new Array;for(var R,A=this.grid,O=y.startX-1;O<y.finishX+2;O++)for(var B=y.startY-1;B<y.finishY+2;B++)if(!(O<0||B<0||O>=A.length||B>=A[0].length)){for(var z=0;z<A[O][B].length;z++)if(R=A[O][B][z],!(y.getOwner()!=R.getOwner()||y==R)&&!E.has(R)&&!w.has(R)){var N=Math.abs(y.getCenterX()-R.getCenterX())-(y.getWidth()/2+R.getWidth()/2),U=Math.abs(y.getCenterY()-R.getCenterY())-(y.getHeight()/2+R.getHeight()/2);N<=this.repulsionRange&&U<=this.repulsionRange&&w.add(R)}}y.surrounding=[].concat(o(w))}for(O=0;O<y.surrounding.length;O++)this.calcRepulsionForce(y,y.surrounding[O])},g.prototype.calcRepulsionRange=function(){return 0},t.exports=g},function(t,r,i){var o=i(1),l=i(4);function u(f,v,g){o.call(this,f,v,g),this.idealLength=l.DEFAULT_EDGE_LENGTH,this.edgeElasticity=l.DEFAULT_SPRING_STRENGTH}u.prototype=Object.create(o.prototype);for(var c in o)u[c]=o[c];t.exports=u},function(t,r,i){var o=i(3),l=i(4);function u(f,v,g,b){o.call(this,f,v,g,b),this.nodeRepulsion=l.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}u.prototype=Object.create(o.prototype);for(var c in o)u[c]=o[c];u.prototype.setGridCoordinates=function(f,v,g,b){this.startX=f,this.finishX=v,this.startY=g,this.finishY=b},t.exports=u},function(t,r,i){function o(l,u){this.width=0,this.height=0,l!==null&&u!==null&&(this.height=u,this.width=l)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},t.exports=o},function(t,r,i){var o=i(14);function l(){this.map={},this.keys=[]}l.prototype.put=function(u,c){var f=o.createID(u);this.contains(f)||(this.map[f]=c,this.keys.push(u))},l.prototype.contains=function(u){return o.createID(u),this.map[u]!=null},l.prototype.get=function(u){var c=o.createID(u);return this.map[c]},l.prototype.keySet=function(){return this.keys},t.exports=l},function(t,r,i){var o=i(14);function l(){this.set={}}l.prototype.add=function(u){var c=o.createID(u);this.contains(c)||(this.set[c]=u)},l.prototype.remove=function(u){delete this.set[o.createID(u)]},l.prototype.clear=function(){this.set={}},l.prototype.contains=function(u){return this.set[o.createID(u)]==u},l.prototype.isEmpty=function(){return this.size()===0},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAllTo=function(u){for(var c=Object.keys(this.set),f=c.length,v=0;v<f;v++)u.push(this.set[c[v]])},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAll=function(u){for(var c=u.length,f=0;f<c;f++){var v=u[f];this.add(v)}},t.exports=l},function(t,r,i){function o(){}o.multMat=function(l,u){for(var c=[],f=0;f<l.length;f++){c[f]=[];for(var v=0;v<u[0].length;v++){c[f][v]=0;for(var g=0;g<l[0].length;g++)c[f][v]+=l[f][g]*u[g][v]}}return c},o.transpose=function(l){for(var u=[],c=0;c<l[0].length;c++){u[c]=[];for(var f=0;f<l.length;f++)u[c][f]=l[f][c]}return u},o.multCons=function(l,u){for(var c=[],f=0;f<l.length;f++)c[f]=l[f]*u;return c},o.minusOp=function(l,u){for(var c=[],f=0;f<l.length;f++)c[f]=l[f]-u[f];return c},o.dotProduct=function(l,u){for(var c=0,f=0;f<l.length;f++)c+=l[f]*u[f];return c},o.mag=function(l){return Math.sqrt(this.dotProduct(l,l))},o.normalize=function(l){for(var u=[],c=this.mag(l),f=0;f<l.length;f++)u[f]=l[f]/c;return u},o.multGamma=function(l){for(var u=[],c=0,f=0;f<l.length;f++)c+=l[f];c*=-1/l.length;for(var v=0;v<l.length;v++)u[v]=c+l[v];return u},o.multL=function(l,u,c){for(var f=[],v=[],g=[],b=0;b<u[0].length;b++){for(var y=0,E=0;E<u.length;E++)y+=-.5*u[E][b]*l[E];v[b]=y}for(var x=0;x<c.length;x++){for(var T=0,w=0;w<c.length;w++)T+=c[x][w]*v[w];g[x]=T}for(var R=0;R<u.length;R++){for(var A=0,O=0;O<u[0].length;O++)A+=u[R][O]*g[O];f[R]=A}return f},t.exports=o},function(t,r,i){var o=function(){function f(v,g){for(var b=0;b<g.length;b++){var y=g[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,g,b){return g&&f(v.prototype,g),b&&f(v,b),v}}();function l(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}var u=i(11),c=function(){function f(v,g){l(this,f),(g!==null||g!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var b=void 0;v instanceof u?b=v.size():b=v.length,this._quicksort(v,0,b-1)}return o(f,[{key:"_quicksort",value:function(g,b,y){if(b<y){var E=this._partition(g,b,y);this._quicksort(g,b,E),this._quicksort(g,E+1,y)}}},{key:"_partition",value:function(g,b,y){for(var E=this._get(g,b),x=b,T=y;;){for(;this.compareFunction(E,this._get(g,T));)T--;for(;this.compareFunction(this._get(g,x),E);)x++;if(x<T)this._swap(g,x,T),x++,T--;else return T}}},{key:"_get",value:function(g,b){return g instanceof u?g.get_object_at(b):g[b]}},{key:"_set",value:function(g,b,y){g instanceof u?g.set_object_at(b,y):g[b]=y}},{key:"_swap",value:function(g,b,y){var E=this._get(g,b);this._set(g,b,this._get(g,y)),this._set(g,y,E)}},{key:"_defaultCompareFunction",value:function(g,b){return b>g}}]),f}();t.exports=c},function(t,r,i){function o(){}o.svd=function(l){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=l.length,this.n=l[0].length;var u=Math.min(this.m,this.n);this.s=function(Mt){for(var It=[];Mt-- >0;)It.push(0);return It}(Math.min(this.m+1,this.n)),this.U=function(Mt){var It=function Bn($t){if($t.length==0)return 0;for(var rn=[],Ut=0;Ut<$t[0];Ut++)rn.push(Bn($t.slice(1)));return rn};return It(Mt)}([this.m,u]),this.V=function(Mt){var It=function Bn($t){if($t.length==0)return 0;for(var rn=[],Ut=0;Ut<$t[0];Ut++)rn.push(Bn($t.slice(1)));return rn};return It(Mt)}([this.n,this.n]);for(var c=function(Mt){for(var It=[];Mt-- >0;)It.push(0);return It}(this.n),f=function(Mt){for(var It=[];Mt-- >0;)It.push(0);return It}(this.m),v=!0,g=Math.min(this.m-1,this.n),b=Math.max(0,Math.min(this.n-2,this.m)),y=0;y<Math.max(g,b);y++){if(y<g){this.s[y]=0;for(var E=y;E<this.m;E++)this.s[y]=o.hypot(this.s[y],l[E][y]);if(this.s[y]!==0){l[y][y]<0&&(this.s[y]=-this.s[y]);for(var x=y;x<this.m;x++)l[x][y]/=this.s[y];l[y][y]+=1}this.s[y]=-this.s[y]}for(var T=y+1;T<this.n;T++){if(function(Mt,It){return Mt&&It}(y<g,this.s[y]!==0)){for(var w=0,R=y;R<this.m;R++)w+=l[R][y]*l[R][T];w=-w/l[y][y];for(var A=y;A<this.m;A++)l[A][T]+=w*l[A][y]}c[T]=l[y][T]}if(function(Mt,It){return It}(v,y<g))for(var O=y;O<this.m;O++)this.U[O][y]=l[O][y];if(y<b){c[y]=0;for(var B=y+1;B<this.n;B++)c[y]=o.hypot(c[y],c[B]);if(c[y]!==0){c[y+1]<0&&(c[y]=-c[y]);for(var z=y+1;z<this.n;z++)c[z]/=c[y];c[y+1]+=1}if(c[y]=-c[y],function(Mt,It){return Mt&&It}(y+1<this.m,c[y]!==0)){for(var N=y+1;N<this.m;N++)f[N]=0;for(var U=y+1;U<this.n;U++)for(var F=y+1;F<this.m;F++)f[F]+=c[U]*l[F][U];for(var V=y+1;V<this.n;V++)for(var Y=-c[V]/c[y+1],H=y+1;H<this.m;H++)l[H][V]+=Y*f[H]}for(var $=y+1;$<this.n;$++)this.V[$][y]=c[$]}}var D=Math.min(this.n,this.m+1);g<this.n&&(this.s[g]=l[g][g]),this.m<D&&(this.s[D-1]=0),b+1<D&&(c[b]=l[b][D-1]),c[D-1]=0;{for(var _=g;_<u;_++){for(var I=0;I<this.m;I++)this.U[I][_]=0;this.U[_][_]=1}for(var L=g-1;L>=0;L--)if(this.s[L]!==0){for(var k=L+1;k<u;k++){for(var K=0,G=L;G<this.m;G++)K+=this.U[G][L]*this.U[G][k];K=-K/this.U[L][L];for(var X=L;X<this.m;X++)this.U[X][k]+=K*this.U[X][L]}for(var Z=L;Z<this.m;Z++)this.U[Z][L]=-this.U[Z][L];this.U[L][L]=1+this.U[L][L];for(var J=0;J<L-1;J++)this.U[J][L]=0}else{for(var re=0;re<this.m;re++)this.U[re][L]=0;this.U[L][L]=1}}for(var ie=this.n-1;ie>=0;ie--){if(function(Mt,It){return Mt&&It}(ie<b,c[ie]!==0))for(var oe=ie+1;oe<u;oe++){for(var he=0,se=ie+1;se<this.n;se++)he+=this.V[se][ie]*this.V[se][oe];he=-he/this.V[ie+1][ie];for(var te=ie+1;te<this.n;te++)this.V[te][oe]+=he*this.V[te][ie]}for(var ae=0;ae<this.n;ae++)this.V[ae][ie]=0;this.V[ie][ie]=1}for(var le=D-1,me=Math.pow(2,-52),_e=Math.pow(2,-966);D>0;){var Ae=void 0,et=void 0;for(Ae=D-2;Ae>=-1&&Ae!==-1;Ae--)if(Math.abs(c[Ae])<=_e+me*(Math.abs(this.s[Ae])+Math.abs(this.s[Ae+1]))){c[Ae]=0;break}if(Ae===D-2)et=4;else{var ot=void 0;for(ot=D-1;ot>=Ae&&ot!==Ae;ot--){var rt=(ot!==D?Math.abs(c[ot]):0)+(ot!==Ae+1?Math.abs(c[ot-1]):0);if(Math.abs(this.s[ot])<=_e+me*rt){this.s[ot]=0;break}}ot===Ae?et=3:ot===D-1?et=1:(et=2,Ae=ot)}switch(Ae++,et){case 1:{var Pe=c[D-2];c[D-2]=0;for(var Ve=D-2;Ve>=Ae;Ve--){var Ke=o.hypot(this.s[Ve],Pe),Qe=this.s[Ve]/Ke,at=Pe/Ke;this.s[Ve]=Ke,Ve!==Ae&&(Pe=-at*c[Ve-1],c[Ve-1]=Qe*c[Ve-1]);for(var tt=0;tt<this.n;tt++)Ke=Qe*this.V[tt][Ve]+at*this.V[tt][D-1],this.V[tt][D-1]=-at*this.V[tt][Ve]+Qe*this.V[tt][D-1],this.V[tt][Ve]=Ke}}break;case 2:{var it=c[Ae-1];c[Ae-1]=0;for(var dt=Ae;dt<D;dt++){var Oe=o.hypot(this.s[dt],it),j=this.s[dt]/Oe,pe=it/Oe;this.s[dt]=Oe,it=-pe*c[dt],c[dt]=j*c[dt];for(var Le=0;Le<this.m;Le++)Oe=j*this.U[Le][dt]+pe*this.U[Le][Ae-1],this.U[Le][Ae-1]=-pe*this.U[Le][dt]+j*this.U[Le][Ae-1],this.U[Le][dt]=Oe}}break;case 3:{var Te=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[D-1]),Math.abs(this.s[D-2])),Math.abs(c[D-2])),Math.abs(this.s[Ae])),Math.abs(c[Ae])),Re=this.s[D-1]/Te,ye=this.s[D-2]/Te,de=c[D-2]/Te,Se=this.s[Ae]/Te,ke=c[Ae]/Te,Ie=((ye+Re)*(ye-Re)+de*de)/2,Fe=Re*de*(Re*de),nt=0;(function(Mt,It){return Mt||It})(Ie!==0,Fe!==0)&&(nt=Math.sqrt(Ie*Ie+Fe),Ie<0&&(nt=-nt),nt=Fe/(Ie+nt));for(var Ze=(Se+Re)*(Se-Re)+nt,ze=Se*ke,$e=Ae;$e<D-1;$e++){var ut=o.hypot(Ze,ze),St=Ze/ut,bt=ze/ut;$e!==Ae&&(c[$e-1]=ut),Ze=St*this.s[$e]+bt*c[$e],c[$e]=St*c[$e]-bt*this.s[$e],ze=bt*this.s[$e+1],this.s[$e+1]=St*this.s[$e+1];for(var Rt=0;Rt<this.n;Rt++)ut=St*this.V[Rt][$e]+bt*this.V[Rt][$e+1],this.V[Rt][$e+1]=-bt*this.V[Rt][$e]+St*this.V[Rt][$e+1],this.V[Rt][$e]=ut;if(ut=o.hypot(Ze,ze),St=Ze/ut,bt=ze/ut,this.s[$e]=ut,Ze=St*c[$e]+bt*this.s[$e+1],this.s[$e+1]=-bt*c[$e]+St*this.s[$e+1],ze=bt*c[$e+1],c[$e+1]=St*c[$e+1],$e<this.m-1)for(var ht=0;ht<this.m;ht++)ut=St*this.U[ht][$e]+bt*this.U[ht][$e+1],this.U[ht][$e+1]=-bt*this.U[ht][$e]+St*this.U[ht][$e+1],this.U[ht][$e]=ut}c[D-2]=Ze}break;case 4:{if(this.s[Ae]<=0){this.s[Ae]=this.s[Ae]<0?-this.s[Ae]:0;for(var st=0;st<=le;st++)this.V[st][Ae]=-this.V[st][Ae]}for(;Ae<le&&!(this.s[Ae]>=this.s[Ae+1]);){var At=this.s[Ae];if(this.s[Ae]=this.s[Ae+1],this.s[Ae+1]=At,Ae<this.n-1)for(var vt=0;vt<this.n;vt++)At=this.V[vt][Ae+1],this.V[vt][Ae+1]=this.V[vt][Ae],this.V[vt][Ae]=At;if(Ae<this.m-1)for(var gt=0;gt<this.m;gt++)At=this.U[gt][Ae+1],this.U[gt][Ae+1]=this.U[gt][Ae],this.U[gt][Ae]=At;Ae++}D--}break}}var ln={U:this.U,V:this.V,S:this.s};return ln},o.hypot=function(l,u){var c=void 0;return Math.abs(l)>Math.abs(u)?(c=u/l,c=Math.abs(l)*Math.sqrt(1+c*c)):u!=0?(c=l/u,c=Math.abs(u)*Math.sqrt(1+c*c)):c=0,c},t.exports=o},function(t,r,i){var o=function(){function c(f,v){for(var g=0;g<v.length;g++){var b=v[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,v,g){return v&&c(f.prototype,v),g&&c(f,g),f}}();function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var u=function(){function c(f,v){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;l(this,c),this.sequence1=f,this.sequence2=v,this.match_score=g,this.mismatch_penalty=b,this.gap_penalty=y,this.iMax=f.length+1,this.jMax=v.length+1,this.grid=new Array(this.iMax);for(var E=0;E<this.iMax;E++){this.grid[E]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.grid[E][x]=0}this.tracebackGrid=new Array(this.iMax);for(var T=0;T<this.iMax;T++){this.tracebackGrid[T]=new Array(this.jMax);for(var w=0;w<this.jMax;w++)this.tracebackGrid[T][w]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(c,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var v=1;v<this.jMax;v++)this.grid[0][v]=this.grid[0][v-1]+this.gap_penalty,this.tracebackGrid[0][v]=[!1,!1,!0];for(var g=1;g<this.iMax;g++)this.grid[g][0]=this.grid[g-1][0]+this.gap_penalty,this.tracebackGrid[g][0]=[!1,!0,!1];for(var b=1;b<this.iMax;b++)for(var y=1;y<this.jMax;y++){var E=void 0;this.sequence1[b-1]===this.sequence2[y-1]?E=this.grid[b-1][y-1]+this.match_score:E=this.grid[b-1][y-1]+this.mismatch_penalty;var x=this.grid[b-1][y]+this.gap_penalty,T=this.grid[b][y-1]+this.gap_penalty,w=[E,x,T],R=this.arrayAllMaxIndexes(w);this.grid[b][y]=w[R[0]],this.tracebackGrid[b][y]=[R.includes(0),R.includes(1),R.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var v=[];for(v.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});v[0];){var g=v[0],b=this.tracebackGrid[g.pos[0]][g.pos[1]];b[0]&&v.push({pos:[g.pos[0]-1,g.pos[1]-1],seq1:this.sequence1[g.pos[0]-1]+g.seq1,seq2:this.sequence2[g.pos[1]-1]+g.seq2}),b[1]&&v.push({pos:[g.pos[0]-1,g.pos[1]],seq1:this.sequence1[g.pos[0]-1]+g.seq1,seq2:"-"+g.seq2}),b[2]&&v.push({pos:[g.pos[0],g.pos[1]-1],seq1:"-"+g.seq1,seq2:this.sequence2[g.pos[1]-1]+g.seq2}),g.pos[0]===0&&g.pos[1]===0&&this.alignments.push({sequence1:g.seq1,sequence2:g.seq2}),v.shift()}return this.alignments}},{key:"getAllIndexes",value:function(v,g){for(var b=[],y=-1;(y=v.indexOf(g,y+1))!==-1;)b.push(y);return b}},{key:"arrayAllMaxIndexes",value:function(v){return this.getAllIndexes(v,Math.max.apply(null,v))}}]),c}();t.exports=u},function(t,r,i){var o=function(){};o.FDLayout=i(18),o.FDLayoutConstants=i(4),o.FDLayoutEdge=i(19),o.FDLayoutNode=i(20),o.DimensionD=i(21),o.HashMap=i(22),o.HashSet=i(23),o.IGeometry=i(8),o.IMath=i(9),o.Integer=i(10),o.Point=i(12),o.PointD=i(5),o.RandomSeed=i(16),o.RectangleD=i(13),o.Transform=i(17),o.UniqueIDGeneretor=i(14),o.Quicksort=i(25),o.LinkedList=i(11),o.LGraphObject=i(2),o.LGraph=i(6),o.LEdge=i(1),o.LGraphManager=i(7),o.LNode=i(3),o.Layout=i(15),o.LayoutConstants=i(0),o.NeedlemanWunsch=i(27),o.Matrix=i(24),o.SVD=i(26),t.exports=o},function(t,r,i){function o(){this.listeners=[]}var l=o.prototype;l.addListener=function(u,c){this.listeners.push({event:u,callback:c})},l.removeListener=function(u,c){for(var f=this.listeners.length;f>=0;f--){var v=this.listeners[f];v.event===u&&v.callback===c&&this.listeners.splice(f,1)}},l.emit=function(u,c){for(var f=0;f<this.listeners.length;f++){var v=this.listeners[f];u===v.event&&v.callback(c)}},t.exports=o}])})}(Cy)),Cy.exports}var VB=xy.exports,ET;function YB(){return ET||(ET=1,function(n,e){(function(r,i){n.exports=i(HB())})(VB,function(t){return(()=>{var r={45:(u,c,f)=>{var v={};v.layoutBase=f(551),v.CoSEConstants=f(806),v.CoSEEdge=f(767),v.CoSEGraph=f(880),v.CoSEGraphManager=f(578),v.CoSELayout=f(765),v.CoSENode=f(991),v.ConstraintHandler=f(902),u.exports=v},806:(u,c,f)=>{var v=f(551).FDLayoutConstants;function g(){}for(var b in v)g[b]=v[b];g.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,g.DEFAULT_RADIAL_SEPARATION=v.DEFAULT_EDGE_LENGTH,g.DEFAULT_COMPONENT_SEPERATION=60,g.TILE=!0,g.TILING_PADDING_VERTICAL=10,g.TILING_PADDING_HORIZONTAL=10,g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!0,g.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,g.TREE_REDUCTION_ON_INCREMENTAL=!0,g.PURE_INCREMENTAL=g.DEFAULT_INCREMENTAL,u.exports=g},767:(u,c,f)=>{var v=f(551).FDLayoutEdge;function g(y,E,x){v.call(this,y,E,x)}g.prototype=Object.create(v.prototype);for(var b in v)g[b]=v[b];u.exports=g},880:(u,c,f)=>{var v=f(551).LGraph;function g(y,E,x){v.call(this,y,E,x)}g.prototype=Object.create(v.prototype);for(var b in v)g[b]=v[b];u.exports=g},578:(u,c,f)=>{var v=f(551).LGraphManager;function g(y){v.call(this,y)}g.prototype=Object.create(v.prototype);for(var b in v)g[b]=v[b];u.exports=g},765:(u,c,f)=>{var v=f(551).FDLayout,g=f(578),b=f(880),y=f(991),E=f(767),x=f(806),T=f(902),w=f(551).FDLayoutConstants,R=f(551).LayoutConstants,A=f(551).Point,O=f(551).PointD,B=f(551).DimensionD,z=f(551).Layout,N=f(551).Integer,U=f(551).IGeometry,F=f(551).LGraph,V=f(551).Transform,Y=f(551).LinkedList;function H(){v.call(this),this.toBeTiled={},this.constraints={}}H.prototype=Object.create(v.prototype);for(var $ in v)H[$]=v[$];H.prototype.newGraphManager=function(){var D=new g(this);return this.graphManager=D,D},H.prototype.newGraph=function(D){return new b(null,this.graphManager,D)},H.prototype.newNode=function(D){return new y(this.graphManager,D)},H.prototype.newEdge=function(D){return new E(null,null,D)},H.prototype.initParameters=function(){v.prototype.initParameters.call(this,arguments),this.isSubLayout||(x.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=x.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=x.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=w.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=w.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=w.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=w.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},H.prototype.initSpringEmbedder=function(){v.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/w.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},H.prototype.layout=function(){var D=R.DEFAULT_CREATE_BENDS_AS_NEEDED;return D&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},H.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(x.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(K){return _.has(K)});this.graphManager.setAllNodesToApplyGravitation(I)}}else{var D=this.getFlatForest();if(D.length>0)this.positionNodesRadially(D);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(L){return _.has(L)});this.graphManager.setAllNodesToApplyGravitation(I),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(T.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),x.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},H.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%w.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(k){return D.has(k)});this.graphManager.setAllNodesToApplyGravitation(_),this.graphManager.updateBounds(),this.updateGrid(),x.PURE_INCREMENTAL?this.coolingFactor=w.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=w.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),x.PURE_INCREMENTAL?this.coolingFactor=w.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=w.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var I=!this.isTreeGrowing&&!this.isGrowthFinished,L=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(I,L),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},H.prototype.getPositionsData=function(){for(var D=this.graphManager.getAllNodes(),_={},I=0;I<D.length;I++){var L=D[I].rect,k=D[I].id;_[k]={id:k,x:L.getCenterX(),y:L.getCenterY(),w:L.width,h:L.height}}return _},H.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var D=!1;if(w.ANIMATE==="during")this.emit("layoutstarted");else{for(;!D;)D=this.tick();this.graphManager.updateBounds()}},H.prototype.moveNodes=function(){for(var D=this.getAllNodes(),_,I=0;I<D.length;I++)_=D[I],_.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var I=0;I<D.length;I++)_=D[I],_.move()},H.prototype.initConstraintVariables=function(){var D=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var _=this.graphManager.getAllNodes(),I=0;I<_.length;I++){var L=_[I];this.idToNodeMap.set(L.id,L)}var k=function te(ae){for(var le=ae.getChild().getNodes(),me,_e=0,Ae=0;Ae<le.length;Ae++)me=le[Ae],me.getChild()==null?D.fixedNodeSet.has(me.id)&&(_e+=100):_e+=te(me);return _e};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(le){D.fixedNodeSet.add(le.nodeId)});for(var _=this.graphManager.getAllNodes(),L,I=0;I<_.length;I++)if(L=_[I],L.getChild()!=null){var K=k(L);K>0&&(L.fixedNodeWeight=K)}}if(this.constraints.relativePlacementConstraint){var G=new Map,X=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(te){D.fixedNodesOnHorizontal.add(te),D.fixedNodesOnVertical.add(te)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var Z=this.constraints.alignmentConstraint.vertical,I=0;I<Z.length;I++)this.dummyToNodeForVerticalAlignment.set("dummy"+I,[]),Z[I].forEach(function(ae){G.set(ae,"dummy"+I),D.dummyToNodeForVerticalAlignment.get("dummy"+I).push(ae),D.fixedNodeSet.has(ae)&&D.fixedNodesOnHorizontal.add("dummy"+I)});if(this.constraints.alignmentConstraint.horizontal)for(var J=this.constraints.alignmentConstraint.horizontal,I=0;I<J.length;I++)this.dummyToNodeForHorizontalAlignment.set("dummy"+I,[]),J[I].forEach(function(ae){X.set(ae,"dummy"+I),D.dummyToNodeForHorizontalAlignment.get("dummy"+I).push(ae),D.fixedNodeSet.has(ae)&&D.fixedNodesOnVertical.add("dummy"+I)})}if(x.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(te){var ae,le,me;for(me=te.length-1;me>=2*te.length/3;me--)ae=Math.floor(Math.random()*(me+1)),le=te[me],te[me]=te[ae],te[ae]=le;return te},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(te){if(te.left){var ae=G.has(te.left)?G.get(te.left):te.left,le=G.has(te.right)?G.get(te.right):te.right;D.nodesInRelativeHorizontal.includes(ae)||(D.nodesInRelativeHorizontal.push(ae),D.nodeToRelativeConstraintMapHorizontal.set(ae,[]),D.dummyToNodeForVerticalAlignment.has(ae)?D.nodeToTempPositionMapHorizontal.set(ae,D.idToNodeMap.get(D.dummyToNodeForVerticalAlignment.get(ae)[0]).getCenterX()):D.nodeToTempPositionMapHorizontal.set(ae,D.idToNodeMap.get(ae).getCenterX())),D.nodesInRelativeHorizontal.includes(le)||(D.nodesInRelativeHorizontal.push(le),D.nodeToRelativeConstraintMapHorizontal.set(le,[]),D.dummyToNodeForVerticalAlignment.has(le)?D.nodeToTempPositionMapHorizontal.set(le,D.idToNodeMap.get(D.dummyToNodeForVerticalAlignment.get(le)[0]).getCenterX()):D.nodeToTempPositionMapHorizontal.set(le,D.idToNodeMap.get(le).getCenterX())),D.nodeToRelativeConstraintMapHorizontal.get(ae).push({right:le,gap:te.gap}),D.nodeToRelativeConstraintMapHorizontal.get(le).push({left:ae,gap:te.gap})}else{var me=X.has(te.top)?X.get(te.top):te.top,_e=X.has(te.bottom)?X.get(te.bottom):te.bottom;D.nodesInRelativeVertical.includes(me)||(D.nodesInRelativeVertical.push(me),D.nodeToRelativeConstraintMapVertical.set(me,[]),D.dummyToNodeForHorizontalAlignment.has(me)?D.nodeToTempPositionMapVertical.set(me,D.idToNodeMap.get(D.dummyToNodeForHorizontalAlignment.get(me)[0]).getCenterY()):D.nodeToTempPositionMapVertical.set(me,D.idToNodeMap.get(me).getCenterY())),D.nodesInRelativeVertical.includes(_e)||(D.nodesInRelativeVertical.push(_e),D.nodeToRelativeConstraintMapVertical.set(_e,[]),D.dummyToNodeForHorizontalAlignment.has(_e)?D.nodeToTempPositionMapVertical.set(_e,D.idToNodeMap.get(D.dummyToNodeForHorizontalAlignment.get(_e)[0]).getCenterY()):D.nodeToTempPositionMapVertical.set(_e,D.idToNodeMap.get(_e).getCenterY())),D.nodeToRelativeConstraintMapVertical.get(me).push({bottom:_e,gap:te.gap}),D.nodeToRelativeConstraintMapVertical.get(_e).push({top:me,gap:te.gap})}});else{var re=new Map,ie=new Map;this.constraints.relativePlacementConstraint.forEach(function(te){if(te.left){var ae=G.has(te.left)?G.get(te.left):te.left,le=G.has(te.right)?G.get(te.right):te.right;re.has(ae)?re.get(ae).push(le):re.set(ae,[le]),re.has(le)?re.get(le).push(ae):re.set(le,[ae])}else{var me=X.has(te.top)?X.get(te.top):te.top,_e=X.has(te.bottom)?X.get(te.bottom):te.bottom;ie.has(me)?ie.get(me).push(_e):ie.set(me,[_e]),ie.has(_e)?ie.get(_e).push(me):ie.set(_e,[me])}});var oe=function(ae,le){var me=[],_e=[],Ae=new Y,et=new Set,ot=0;return ae.forEach(function(rt,Pe){if(!et.has(Pe)){me[ot]=[],_e[ot]=!1;var Ve=Pe;for(Ae.push(Ve),et.add(Ve),me[ot].push(Ve);Ae.length!=0;){Ve=Ae.shift(),le.has(Ve)&&(_e[ot]=!0);var Ke=ae.get(Ve);Ke.forEach(function(Qe){et.has(Qe)||(Ae.push(Qe),et.add(Qe),me[ot].push(Qe))})}ot++}}),{components:me,isFixed:_e}},he=oe(re,D.fixedNodesOnHorizontal);this.componentsOnHorizontal=he.components,this.fixedComponentsOnHorizontal=he.isFixed;var se=oe(ie,D.fixedNodesOnVertical);this.componentsOnVertical=se.components,this.fixedComponentsOnVertical=se.isFixed}}},H.prototype.updateDisplacements=function(){var D=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(se){var te=D.idToNodeMap.get(se.nodeId);te.displacementX=0,te.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var _=this.constraints.alignmentConstraint.vertical,I=0;I<_.length;I++){for(var L=0,k=0;k<_[I].length;k++){if(this.fixedNodeSet.has(_[I][k])){L=0;break}L+=this.idToNodeMap.get(_[I][k]).displacementX}for(var K=L/_[I].length,k=0;k<_[I].length;k++)this.idToNodeMap.get(_[I][k]).displacementX=K}if(this.constraints.alignmentConstraint.horizontal)for(var G=this.constraints.alignmentConstraint.horizontal,I=0;I<G.length;I++){for(var X=0,k=0;k<G[I].length;k++){if(this.fixedNodeSet.has(G[I][k])){X=0;break}X+=this.idToNodeMap.get(G[I][k]).displacementY}for(var Z=X/G[I].length,k=0;k<G[I].length;k++)this.idToNodeMap.get(G[I][k]).displacementY=Z}}if(this.constraints.relativePlacementConstraint)if(x.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(se){if(!D.fixedNodesOnHorizontal.has(se)){var te=0;D.dummyToNodeForVerticalAlignment.has(se)?te=D.idToNodeMap.get(D.dummyToNodeForVerticalAlignment.get(se)[0]).displacementX:te=D.idToNodeMap.get(se).displacementX,D.nodeToRelativeConstraintMapHorizontal.get(se).forEach(function(ae){if(ae.right){var le=D.nodeToTempPositionMapHorizontal.get(ae.right)-D.nodeToTempPositionMapHorizontal.get(se)-te;le<ae.gap&&(te-=ae.gap-le)}else{var le=D.nodeToTempPositionMapHorizontal.get(se)-D.nodeToTempPositionMapHorizontal.get(ae.left)+te;le<ae.gap&&(te+=ae.gap-le)}}),D.nodeToTempPositionMapHorizontal.set(se,D.nodeToTempPositionMapHorizontal.get(se)+te),D.dummyToNodeForVerticalAlignment.has(se)?D.dummyToNodeForVerticalAlignment.get(se).forEach(function(ae){D.idToNodeMap.get(ae).displacementX=te}):D.idToNodeMap.get(se).displacementX=te}}),this.nodesInRelativeVertical.forEach(function(se){if(!D.fixedNodesOnHorizontal.has(se)){var te=0;D.dummyToNodeForHorizontalAlignment.has(se)?te=D.idToNodeMap.get(D.dummyToNodeForHorizontalAlignment.get(se)[0]).displacementY:te=D.idToNodeMap.get(se).displacementY,D.nodeToRelativeConstraintMapVertical.get(se).forEach(function(ae){if(ae.bottom){var le=D.nodeToTempPositionMapVertical.get(ae.bottom)-D.nodeToTempPositionMapVertical.get(se)-te;le<ae.gap&&(te-=ae.gap-le)}else{var le=D.nodeToTempPositionMapVertical.get(se)-D.nodeToTempPositionMapVertical.get(ae.top)+te;le<ae.gap&&(te+=ae.gap-le)}}),D.nodeToTempPositionMapVertical.set(se,D.nodeToTempPositionMapVertical.get(se)+te),D.dummyToNodeForHorizontalAlignment.has(se)?D.dummyToNodeForHorizontalAlignment.get(se).forEach(function(ae){D.idToNodeMap.get(ae).displacementY=te}):D.idToNodeMap.get(se).displacementY=te}});else{for(var I=0;I<this.componentsOnHorizontal.length;I++){var J=this.componentsOnHorizontal[I];if(this.fixedComponentsOnHorizontal[I])for(var k=0;k<J.length;k++)this.dummyToNodeForVerticalAlignment.has(J[k])?this.dummyToNodeForVerticalAlignment.get(J[k]).forEach(function(ae){D.idToNodeMap.get(ae).displacementX=0}):this.idToNodeMap.get(J[k]).displacementX=0;else{for(var re=0,ie=0,k=0;k<J.length;k++)if(this.dummyToNodeForVerticalAlignment.has(J[k])){var oe=this.dummyToNodeForVerticalAlignment.get(J[k]);re+=oe.length*this.idToNodeMap.get(oe[0]).displacementX,ie+=oe.length}else re+=this.idToNodeMap.get(J[k]).displacementX,ie++;for(var he=re/ie,k=0;k<J.length;k++)this.dummyToNodeForVerticalAlignment.has(J[k])?this.dummyToNodeForVerticalAlignment.get(J[k]).forEach(function(ae){D.idToNodeMap.get(ae).displacementX=he}):this.idToNodeMap.get(J[k]).displacementX=he}}for(var I=0;I<this.componentsOnVertical.length;I++){var J=this.componentsOnVertical[I];if(this.fixedComponentsOnVertical[I])for(var k=0;k<J.length;k++)this.dummyToNodeForHorizontalAlignment.has(J[k])?this.dummyToNodeForHorizontalAlignment.get(J[k]).forEach(function(le){D.idToNodeMap.get(le).displacementY=0}):this.idToNodeMap.get(J[k]).displacementY=0;else{for(var re=0,ie=0,k=0;k<J.length;k++)if(this.dummyToNodeForHorizontalAlignment.has(J[k])){var oe=this.dummyToNodeForHorizontalAlignment.get(J[k]);re+=oe.length*this.idToNodeMap.get(oe[0]).displacementY,ie+=oe.length}else re+=this.idToNodeMap.get(J[k]).displacementY,ie++;for(var he=re/ie,k=0;k<J.length;k++)this.dummyToNodeForHorizontalAlignment.has(J[k])?this.dummyToNodeForHorizontalAlignment.get(J[k]).forEach(function(Ae){D.idToNodeMap.get(Ae).displacementY=he}):this.idToNodeMap.get(J[k]).displacementY=he}}}},H.prototype.calculateNodesToApplyGravitationTo=function(){var D=[],_,I=this.graphManager.getGraphs(),L=I.length,k;for(k=0;k<L;k++)_=I[k],_.updateConnected(),_.isConnected||(D=D.concat(_.getNodes()));return D},H.prototype.createBendpoints=function(){var D=[];D=D.concat(this.graphManager.getAllEdges());var _=new Set,I;for(I=0;I<D.length;I++){var L=D[I];if(!_.has(L)){var k=L.getSource(),K=L.getTarget();if(k==K)L.getBendpoints().push(new O),L.getBendpoints().push(new O),this.createDummyNodesForBendpoints(L),_.add(L);else{var G=[];if(G=G.concat(k.getEdgeListToNode(K)),G=G.concat(K.getEdgeListToNode(k)),!_.has(G[0])){if(G.length>1){var X;for(X=0;X<G.length;X++){var Z=G[X];Z.getBendpoints().push(new O),this.createDummyNodesForBendpoints(Z)}}G.forEach(function(J){_.add(J)})}}}if(_.size==D.length)break}},H.prototype.positionNodesRadially=function(D){for(var _=new A(0,0),I=Math.ceil(Math.sqrt(D.length)),L=0,k=0,K=0,G=new O(0,0),X=0;X<D.length;X++){X%I==0&&(K=0,k=L,X!=0&&(k+=x.DEFAULT_COMPONENT_SEPERATION),L=0);var Z=D[X],J=z.findCenterOfTree(Z);_.x=K,_.y=k,G=H.radialLayout(Z,J,_),G.y>L&&(L=Math.floor(G.y)),K=Math.floor(G.x+x.DEFAULT_COMPONENT_SEPERATION)}this.transform(new O(R.WORLD_CENTER_X-G.x/2,R.WORLD_CENTER_Y-G.y/2))},H.radialLayout=function(D,_,I){var L=Math.max(this.maxDiagonalInTree(D),x.DEFAULT_RADIAL_SEPARATION);H.branchRadialLayout(_,null,0,359,0,L);var k=F.calculateBounds(D),K=new V;K.setDeviceOrgX(k.getMinX()),K.setDeviceOrgY(k.getMinY()),K.setWorldOrgX(I.x),K.setWorldOrgY(I.y);for(var G=0;G<D.length;G++){var X=D[G];X.transform(K)}var Z=new O(k.getMaxX(),k.getMaxY());return K.inverseTransformPoint(Z)},H.branchRadialLayout=function(D,_,I,L,k,K){var G=(L-I+1)/2;G<0&&(G+=180);var X=(G+I)%360,Z=X*U.TWO_PI/360,J=k*Math.cos(Z),re=k*Math.sin(Z);D.setCenter(J,re);var ie=[];ie=ie.concat(D.getEdges());var oe=ie.length;_!=null&&oe--;for(var he=0,se=ie.length,te,ae=D.getEdgesBetween(_);ae.length>1;){var le=ae[0];ae.splice(0,1);var me=ie.indexOf(le);me>=0&&ie.splice(me,1),se--,oe--}_!=null?te=(ie.indexOf(ae[0])+1)%se:te=0;for(var _e=Math.abs(L-I)/oe,Ae=te;he!=oe;Ae=++Ae%se){var et=ie[Ae].getOtherEnd(D);if(et!=_){var ot=(I+he*_e)%360,rt=(ot+_e)%360;H.branchRadialLayout(et,D,ot,rt,k+K,K),he++}}},H.maxDiagonalInTree=function(D){for(var _=N.MIN_VALUE,I=0;I<D.length;I++){var L=D[I],k=L.getDiagonal();k>_&&(_=k)}return _},H.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},H.prototype.groupZeroDegreeMembers=function(){var D=this,_={};this.memberGroups={},this.idToDummyNode={};for(var I=[],L=this.graphManager.getAllNodes(),k=0;k<L.length;k++){var K=L[k],G=K.getParent();this.getNodeDegreeWithChildren(K)===0&&(G.id==null||!this.getToBeTiled(G))&&I.push(K)}for(var k=0;k<I.length;k++){var K=I[k],X=K.getParent().id;typeof _[X]>"u"&&(_[X]=[]),_[X]=_[X].concat(K)}Object.keys(_).forEach(function(Z){if(_[Z].length>1){var J="DummyCompound_"+Z;D.memberGroups[J]=_[Z];var re=_[Z][0].getParent(),ie=new y(D.graphManager);ie.id=J,ie.paddingLeft=re.paddingLeft||0,ie.paddingRight=re.paddingRight||0,ie.paddingBottom=re.paddingBottom||0,ie.paddingTop=re.paddingTop||0,D.idToDummyNode[J]=ie;var oe=D.getGraphManager().add(D.newGraph(),ie),he=re.getChild();he.add(ie);for(var se=0;se<_[Z].length;se++){var te=_[Z][se];he.remove(te),oe.add(te)}}})},H.prototype.clearCompounds=function(){var D={},_={};this.performDFSOnCompounds();for(var I=0;I<this.compoundOrder.length;I++)_[this.compoundOrder[I].id]=this.compoundOrder[I],D[this.compoundOrder[I].id]=[].concat(this.compoundOrder[I].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[I].getChild()),this.compoundOrder[I].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(D,_)},H.prototype.clearZeroDegreeMembers=function(){var D=this,_=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(I){var L=D.idToDummyNode[I];if(_[I]=D.tileNodes(D.memberGroups[I],L.paddingLeft+L.paddingRight),L.rect.width=_[I].width,L.rect.height=_[I].height,L.setCenter(_[I].centerX,_[I].centerY),L.labelMarginLeft=0,L.labelMarginTop=0,x.NODE_DIMENSIONS_INCLUDE_LABELS){var k=L.rect.width,K=L.rect.height;L.labelWidth&&(L.labelPosHorizontal=="left"?(L.rect.x-=L.labelWidth,L.setWidth(k+L.labelWidth),L.labelMarginLeft=L.labelWidth):L.labelPosHorizontal=="center"&&L.labelWidth>k?(L.rect.x-=(L.labelWidth-k)/2,L.setWidth(L.labelWidth),L.labelMarginLeft=(L.labelWidth-k)/2):L.labelPosHorizontal=="right"&&L.setWidth(k+L.labelWidth)),L.labelHeight&&(L.labelPosVertical=="top"?(L.rect.y-=L.labelHeight,L.setHeight(K+L.labelHeight),L.labelMarginTop=L.labelHeight):L.labelPosVertical=="center"&&L.labelHeight>K?(L.rect.y-=(L.labelHeight-K)/2,L.setHeight(L.labelHeight),L.labelMarginTop=(L.labelHeight-K)/2):L.labelPosVertical=="bottom"&&L.setHeight(K+L.labelHeight))}})},H.prototype.repopulateCompounds=function(){for(var D=this.compoundOrder.length-1;D>=0;D--){var _=this.compoundOrder[D],I=_.id,L=_.paddingLeft,k=_.paddingTop,K=_.labelMarginLeft,G=_.labelMarginTop;this.adjustLocations(this.tiledMemberPack[I],_.rect.x,_.rect.y,L,k,K,G)}},H.prototype.repopulateZeroDegreeMembers=function(){var D=this,_=this.tiledZeroDegreePack;Object.keys(_).forEach(function(I){var L=D.idToDummyNode[I],k=L.paddingLeft,K=L.paddingTop,G=L.labelMarginLeft,X=L.labelMarginTop;D.adjustLocations(_[I],L.rect.x,L.rect.y,k,K,G,X)})},H.prototype.getToBeTiled=function(D){var _=D.id;if(this.toBeTiled[_]!=null)return this.toBeTiled[_];var I=D.getChild();if(I==null)return this.toBeTiled[_]=!1,!1;for(var L=I.getNodes(),k=0;k<L.length;k++){var K=L[k];if(this.getNodeDegree(K)>0)return this.toBeTiled[_]=!1,!1;if(K.getChild()==null){this.toBeTiled[K.id]=!1;continue}if(!this.getToBeTiled(K))return this.toBeTiled[_]=!1,!1}return this.toBeTiled[_]=!0,!0},H.prototype.getNodeDegree=function(D){D.id;for(var _=D.getEdges(),I=0,L=0;L<_.length;L++){var k=_[L];k.getSource().id!==k.getTarget().id&&(I=I+1)}return I},H.prototype.getNodeDegreeWithChildren=function(D){var _=this.getNodeDegree(D);if(D.getChild()==null)return _;for(var I=D.getChild().getNodes(),L=0;L<I.length;L++){var k=I[L];_+=this.getNodeDegreeWithChildren(k)}return _},H.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},H.prototype.fillCompexOrderByDFS=function(D){for(var _=0;_<D.length;_++){var I=D[_];I.getChild()!=null&&this.fillCompexOrderByDFS(I.getChild().getNodes()),this.getToBeTiled(I)&&this.compoundOrder.push(I)}},H.prototype.adjustLocations=function(D,_,I,L,k,K,G){_+=L+K,I+=k+G;for(var X=_,Z=0;Z<D.rows.length;Z++){var J=D.rows[Z];_=X;for(var re=0,ie=0;ie<J.length;ie++){var oe=J[ie];oe.rect.x=_,oe.rect.y=I,_+=oe.rect.width+D.horizontalPadding,oe.rect.height>re&&(re=oe.rect.height)}I+=re+D.verticalPadding}},H.prototype.tileCompoundMembers=function(D,_){var I=this;this.tiledMemberPack=[],Object.keys(D).forEach(function(L){var k=_[L];if(I.tiledMemberPack[L]=I.tileNodes(D[L],k.paddingLeft+k.paddingRight),k.rect.width=I.tiledMemberPack[L].width,k.rect.height=I.tiledMemberPack[L].height,k.setCenter(I.tiledMemberPack[L].centerX,I.tiledMemberPack[L].centerY),k.labelMarginLeft=0,k.labelMarginTop=0,x.NODE_DIMENSIONS_INCLUDE_LABELS){var K=k.rect.width,G=k.rect.height;k.labelWidth&&(k.labelPosHorizontal=="left"?(k.rect.x-=k.labelWidth,k.setWidth(K+k.labelWidth),k.labelMarginLeft=k.labelWidth):k.labelPosHorizontal=="center"&&k.labelWidth>K?(k.rect.x-=(k.labelWidth-K)/2,k.setWidth(k.labelWidth),k.labelMarginLeft=(k.labelWidth-K)/2):k.labelPosHorizontal=="right"&&k.setWidth(K+k.labelWidth)),k.labelHeight&&(k.labelPosVertical=="top"?(k.rect.y-=k.labelHeight,k.setHeight(G+k.labelHeight),k.labelMarginTop=k.labelHeight):k.labelPosVertical=="center"&&k.labelHeight>G?(k.rect.y-=(k.labelHeight-G)/2,k.setHeight(k.labelHeight),k.labelMarginTop=(k.labelHeight-G)/2):k.labelPosVertical=="bottom"&&k.setHeight(G+k.labelHeight))}})},H.prototype.tileNodes=function(D,_){var I=this.tileNodesByFavoringDim(D,_,!0),L=this.tileNodesByFavoringDim(D,_,!1),k=this.getOrgRatio(I),K=this.getOrgRatio(L),G;return K<k?G=L:G=I,G},H.prototype.getOrgRatio=function(D){var _=D.width,I=D.height,L=_/I;return L<1&&(L=1/L),L},H.prototype.calcIdealRowWidth=function(D,_){var I=x.TILING_PADDING_VERTICAL,L=x.TILING_PADDING_HORIZONTAL,k=D.length,K=0,G=0,X=0;D.forEach(function(se){K+=se.getWidth(),G+=se.getHeight(),se.getWidth()>X&&(X=se.getWidth())});var Z=K/k,J=G/k,re=Math.pow(I-L,2)+4*(Z+L)*(J+I)*k,ie=(L-I+Math.sqrt(re))/(2*(Z+L)),oe;_?(oe=Math.ceil(ie),oe==ie&&oe++):oe=Math.floor(ie);var he=oe*(Z+L)-L;return X>he&&(he=X),he+=L*2,he},H.prototype.tileNodesByFavoringDim=function(D,_,I){var L=x.TILING_PADDING_VERTICAL,k=x.TILING_PADDING_HORIZONTAL,K=x.TILING_COMPARE_BY,G={rows:[],rowWidth:[],rowHeight:[],width:0,height:_,verticalPadding:L,horizontalPadding:k,centerX:0,centerY:0};K&&(G.idealRowWidth=this.calcIdealRowWidth(D,I));var X=function(te){return te.rect.width*te.rect.height},Z=function(te,ae){return X(ae)-X(te)};D.sort(function(se,te){var ae=Z;return G.idealRowWidth?(ae=K,ae(se.id,te.id)):ae(se,te)});for(var J=0,re=0,ie=0;ie<D.length;ie++){var oe=D[ie];J+=oe.getCenterX(),re+=oe.getCenterY()}G.centerX=J/D.length,G.centerY=re/D.length;for(var ie=0;ie<D.length;ie++){var oe=D[ie];if(G.rows.length==0)this.insertNodeToRow(G,oe,0,_);else if(this.canAddHorizontal(G,oe.rect.width,oe.rect.height)){var he=G.rows.length-1;G.idealRowWidth||(he=this.getShortestRowIndex(G)),this.insertNodeToRow(G,oe,he,_)}else this.insertNodeToRow(G,oe,G.rows.length,_);this.shiftToLastRow(G)}return G},H.prototype.insertNodeToRow=function(D,_,I,L){var k=L;if(I==D.rows.length){var K=[];D.rows.push(K),D.rowWidth.push(k),D.rowHeight.push(0)}var G=D.rowWidth[I]+_.rect.width;D.rows[I].length>0&&(G+=D.horizontalPadding),D.rowWidth[I]=G,D.width<G&&(D.width=G);var X=_.rect.height;I>0&&(X+=D.verticalPadding);var Z=0;X>D.rowHeight[I]&&(Z=D.rowHeight[I],D.rowHeight[I]=X,Z=D.rowHeight[I]-Z),D.height+=Z,D.rows[I].push(_)},H.prototype.getShortestRowIndex=function(D){for(var _=-1,I=Number.MAX_VALUE,L=0;L<D.rows.length;L++)D.rowWidth[L]<I&&(_=L,I=D.rowWidth[L]);return _},H.prototype.getLongestRowIndex=function(D){for(var _=-1,I=Number.MIN_VALUE,L=0;L<D.rows.length;L++)D.rowWidth[L]>I&&(_=L,I=D.rowWidth[L]);return _},H.prototype.canAddHorizontal=function(D,_,I){if(D.idealRowWidth){var L=D.rows.length-1,k=D.rowWidth[L];return k+_+D.horizontalPadding<=D.idealRowWidth}var K=this.getShortestRowIndex(D);if(K<0)return!0;var G=D.rowWidth[K];if(G+D.horizontalPadding+_<=D.width)return!0;var X=0;D.rowHeight[K]<I&&K>0&&(X=I+D.verticalPadding-D.rowHeight[K]);var Z;D.width-G>=_+D.horizontalPadding?Z=(D.height+X)/(G+_+D.horizontalPadding):Z=(D.height+X)/D.width,X=I+D.verticalPadding;var J;return D.width<_?J=(D.height+X)/_:J=(D.height+X)/D.width,J<1&&(J=1/J),Z<1&&(Z=1/Z),Z<J},H.prototype.shiftToLastRow=function(D){var _=this.getLongestRowIndex(D),I=D.rowWidth.length-1,L=D.rows[_],k=L[L.length-1],K=k.width+D.horizontalPadding;if(D.width-D.rowWidth[I]>K&&_!=I){L.splice(-1,1),D.rows[I].push(k),D.rowWidth[_]=D.rowWidth[_]-K,D.rowWidth[I]=D.rowWidth[I]+K,D.width=D.rowWidth[instance.getLongestRowIndex(D)];for(var G=Number.MIN_VALUE,X=0;X<L.length;X++)L[X].height>G&&(G=L[X].height);_>0&&(G+=D.verticalPadding);var Z=D.rowHeight[_]+D.rowHeight[I];D.rowHeight[_]=G,D.rowHeight[I]<k.height+D.verticalPadding&&(D.rowHeight[I]=k.height+D.verticalPadding);var J=D.rowHeight[_]+D.rowHeight[I];D.height+=J-Z,this.shiftToLastRow(D)}},H.prototype.tilingPreLayout=function(){x.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},H.prototype.tilingPostLayout=function(){x.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},H.prototype.reduceTrees=function(){for(var D=[],_=!0,I;_;){var L=this.graphManager.getAllNodes(),k=[];_=!1;for(var K=0;K<L.length;K++)if(I=L[K],I.getEdges().length==1&&!I.getEdges()[0].isInterGraph&&I.getChild()==null){if(x.PURE_INCREMENTAL){var G=I.getEdges()[0].getOtherEnd(I),X=new B(I.getCenterX()-G.getCenterX(),I.getCenterY()-G.getCenterY());k.push([I,I.getEdges()[0],I.getOwner(),X])}else k.push([I,I.getEdges()[0],I.getOwner()]);_=!0}if(_==!0){for(var Z=[],J=0;J<k.length;J++)k[J][0].getEdges().length==1&&(Z.push(k[J]),k[J][0].getOwner().remove(k[J][0]));D.push(Z),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=D},H.prototype.growTree=function(D){for(var _=D.length,I=D[_-1],L,k=0;k<I.length;k++)L=I[k],this.findPlaceforPrunedNode(L),L[2].add(L[0]),L[2].add(L[1],L[1].source,L[1].target);D.splice(D.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},H.prototype.findPlaceforPrunedNode=function(D){var _,I,L=D[0];if(L==D[1].source?I=D[1].target:I=D[1].source,x.PURE_INCREMENTAL)L.setCenter(I.getCenterX()+D[3].getWidth(),I.getCenterY()+D[3].getHeight());else{var k=I.startX,K=I.finishX,G=I.startY,X=I.finishY,Z=0,J=0,re=0,ie=0,oe=[Z,re,J,ie];if(G>0)for(var he=k;he<=K;he++)oe[0]+=this.grid[he][G-1].length+this.grid[he][G].length-1;if(K<this.grid.length-1)for(var he=G;he<=X;he++)oe[1]+=this.grid[K+1][he].length+this.grid[K][he].length-1;if(X<this.grid[0].length-1)for(var he=k;he<=K;he++)oe[2]+=this.grid[he][X+1].length+this.grid[he][X].length-1;if(k>0)for(var he=G;he<=X;he++)oe[3]+=this.grid[k-1][he].length+this.grid[k][he].length-1;for(var se=N.MAX_VALUE,te,ae,le=0;le<oe.length;le++)oe[le]<se?(se=oe[le],te=1,ae=le):oe[le]==se&&te++;if(te==3&&se==0)oe[0]==0&&oe[1]==0&&oe[2]==0?_=1:oe[0]==0&&oe[1]==0&&oe[3]==0?_=0:oe[0]==0&&oe[2]==0&&oe[3]==0?_=3:oe[1]==0&&oe[2]==0&&oe[3]==0&&(_=2);else if(te==2&&se==0){var me=Math.floor(Math.random()*2);oe[0]==0&&oe[1]==0?me==0?_=0:_=1:oe[0]==0&&oe[2]==0?me==0?_=0:_=2:oe[0]==0&&oe[3]==0?me==0?_=0:_=3:oe[1]==0&&oe[2]==0?me==0?_=1:_=2:oe[1]==0&&oe[3]==0?me==0?_=1:_=3:me==0?_=2:_=3}else if(te==4&&se==0){var me=Math.floor(Math.random()*4);_=me}else _=ae;_==0?L.setCenter(I.getCenterX(),I.getCenterY()-I.getHeight()/2-w.DEFAULT_EDGE_LENGTH-L.getHeight()/2):_==1?L.setCenter(I.getCenterX()+I.getWidth()/2+w.DEFAULT_EDGE_LENGTH+L.getWidth()/2,I.getCenterY()):_==2?L.setCenter(I.getCenterX(),I.getCenterY()+I.getHeight()/2+w.DEFAULT_EDGE_LENGTH+L.getHeight()/2):L.setCenter(I.getCenterX()-I.getWidth()/2-w.DEFAULT_EDGE_LENGTH-L.getWidth()/2,I.getCenterY())}},u.exports=H},991:(u,c,f)=>{var v=f(551).FDLayoutNode,g=f(551).IMath;function b(E,x,T,w){v.call(this,E,x,T,w)}b.prototype=Object.create(v.prototype);for(var y in v)b[y]=v[y];b.prototype.calculateDisplacement=function(){var E=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=E.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=E.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=E.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=E.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>E.coolingFactor*E.maxNodeDisplacement&&(this.displacementX=E.coolingFactor*E.maxNodeDisplacement*g.sign(this.displacementX)),Math.abs(this.displacementY)>E.coolingFactor*E.maxNodeDisplacement&&(this.displacementY=E.coolingFactor*E.maxNodeDisplacement*g.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},b.prototype.propogateDisplacementToChildren=function(E,x){for(var T=this.getChild().getNodes(),w,R=0;R<T.length;R++)w=T[R],w.getChild()==null?(w.displacementX+=E,w.displacementY+=x):w.propogateDisplacementToChildren(E,x)},b.prototype.move=function(){var E=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),E.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},b.prototype.setPred1=function(E){this.pred1=E},b.prototype.getPred1=function(){return pred1},b.prototype.getPred2=function(){return pred2},b.prototype.setNext=function(E){this.next=E},b.prototype.getNext=function(){return next},b.prototype.setProcessed=function(E){this.processed=E},b.prototype.isProcessed=function(){return processed},u.exports=b},902:(u,c,f)=>{function v(T){if(Array.isArray(T)){for(var w=0,R=Array(T.length);w<T.length;w++)R[w]=T[w];return R}else return Array.from(T)}var g=f(806),b=f(551).LinkedList,y=f(551).Matrix,E=f(551).SVD;function x(){}x.handleConstraints=function(T){var w={};w.fixedNodeConstraint=T.constraints.fixedNodeConstraint,w.alignmentConstraint=T.constraints.alignmentConstraint,w.relativePlacementConstraint=T.constraints.relativePlacementConstraint;for(var R=new Map,A=new Map,O=[],B=[],z=T.getAllNodes(),N=0,U=0;U<z.length;U++){var F=z[U];F.getChild()==null&&(A.set(F.id,N++),O.push(F.getCenterX()),B.push(F.getCenterY()),R.set(F.id,F))}w.relativePlacementConstraint&&w.relativePlacementConstraint.forEach(function(ye){!ye.gap&&ye.gap!=0&&(ye.left?ye.gap=g.DEFAULT_EDGE_LENGTH+R.get(ye.left).getWidth()/2+R.get(ye.right).getWidth()/2:ye.gap=g.DEFAULT_EDGE_LENGTH+R.get(ye.top).getHeight()/2+R.get(ye.bottom).getHeight()/2)});var V=function(de,Se){return{x:de.x-Se.x,y:de.y-Se.y}},Y=function(de){var Se=0,ke=0;return de.forEach(function(Ie){Se+=O[A.get(Ie)],ke+=B[A.get(Ie)]}),{x:Se/de.size,y:ke/de.size}},H=function(de,Se,ke,Ie,Fe){function nt(ht,st){var At=new Set(ht),vt=!0,gt=!1,ln=void 0;try{for(var Mt=st[Symbol.iterator](),It;!(vt=(It=Mt.next()).done);vt=!0){var Bn=It.value;At.add(Bn)}}catch($t){gt=!0,ln=$t}finally{try{!vt&&Mt.return&&Mt.return()}finally{if(gt)throw ln}}return At}var Ze=new Map;de.forEach(function(ht,st){Ze.set(st,0)}),de.forEach(function(ht,st){ht.forEach(function(At){Ze.set(At.id,Ze.get(At.id)+1)})});var ze=new Map,$e=new Map,ut=new b;Ze.forEach(function(ht,st){ht==0?(ut.push(st),ke||(Se=="horizontal"?ze.set(st,A.has(st)?O[A.get(st)]:Ie.get(st)):ze.set(st,A.has(st)?B[A.get(st)]:Ie.get(st)))):ze.set(st,Number.NEGATIVE_INFINITY),ke&&$e.set(st,new Set([st]))}),ke&&Fe.forEach(function(ht){var st=[];if(ht.forEach(function(gt){ke.has(gt)&&st.push(gt)}),st.length>0){var At=0;st.forEach(function(gt){Se=="horizontal"?(ze.set(gt,A.has(gt)?O[A.get(gt)]:Ie.get(gt)),At+=ze.get(gt)):(ze.set(gt,A.has(gt)?B[A.get(gt)]:Ie.get(gt)),At+=ze.get(gt))}),At=At/st.length,ht.forEach(function(gt){ke.has(gt)||ze.set(gt,At)})}else{var vt=0;ht.forEach(function(gt){Se=="horizontal"?vt+=A.has(gt)?O[A.get(gt)]:Ie.get(gt):vt+=A.has(gt)?B[A.get(gt)]:Ie.get(gt)}),vt=vt/ht.length,ht.forEach(function(gt){ze.set(gt,vt)})}});for(var St=function(){var st=ut.shift(),At=de.get(st);At.forEach(function(vt){if(ze.get(vt.id)<ze.get(st)+vt.gap)if(ke&&ke.has(vt.id)){var gt=void 0;if(Se=="horizontal"?gt=A.has(vt.id)?O[A.get(vt.id)]:Ie.get(vt.id):gt=A.has(vt.id)?B[A.get(vt.id)]:Ie.get(vt.id),ze.set(vt.id,gt),gt<ze.get(st)+vt.gap){var ln=ze.get(st)+vt.gap-gt;$e.get(st).forEach(function(Mt){ze.set(Mt,ze.get(Mt)-ln)})}}else ze.set(vt.id,ze.get(st)+vt.gap);Ze.set(vt.id,Ze.get(vt.id)-1),Ze.get(vt.id)==0&&ut.push(vt.id),ke&&$e.set(vt.id,nt($e.get(st),$e.get(vt.id)))})};ut.length!=0;)St();if(ke){var bt=new Set;de.forEach(function(ht,st){ht.length==0&&bt.add(st)});var Rt=[];$e.forEach(function(ht,st){if(bt.has(st)){var At=!1,vt=!0,gt=!1,ln=void 0;try{for(var Mt=ht[Symbol.iterator](),It;!(vt=(It=Mt.next()).done);vt=!0){var Bn=It.value;ke.has(Bn)&&(At=!0)}}catch(Ut){gt=!0,ln=Ut}finally{try{!vt&&Mt.return&&Mt.return()}finally{if(gt)throw ln}}if(!At){var $t=!1,rn=void 0;Rt.forEach(function(Ut,fn){Ut.has([].concat(v(ht))[0])&&($t=!0,rn=fn)}),$t?ht.forEach(function(Ut){Rt[rn].add(Ut)}):Rt.push(new Set(ht))}}}),Rt.forEach(function(ht,st){var At=Number.POSITIVE_INFINITY,vt=Number.POSITIVE_INFINITY,gt=Number.NEGATIVE_INFINITY,ln=Number.NEGATIVE_INFINITY,Mt=!0,It=!1,Bn=void 0;try{for(var $t=ht[Symbol.iterator](),rn;!(Mt=(rn=$t.next()).done);Mt=!0){var Ut=rn.value,fn=void 0;Se=="horizontal"?fn=A.has(Ut)?O[A.get(Ut)]:Ie.get(Ut):fn=A.has(Ut)?B[A.get(Ut)]:Ie.get(Ut);var cn=ze.get(Ut);fn<At&&(At=fn),fn>gt&&(gt=fn),cn<vt&&(vt=cn),cn>ln&&(ln=cn)}}catch(xr){It=!0,Bn=xr}finally{try{!Mt&&$t.return&&$t.return()}finally{if(It)throw Bn}}var la=(At+gt)/2-(vt+ln)/2,ua=!0,Ja=!1,Ti=void 0;try{for(var La=ht[Symbol.iterator](),Ia;!(ua=(Ia=La.next()).done);ua=!0){var Ba=Ia.value;ze.set(Ba,ze.get(Ba)+la)}}catch(xr){Ja=!0,Ti=xr}finally{try{!ua&&La.return&&La.return()}finally{if(Ja)throw Ti}}})}return ze},$=function(de){var Se=0,ke=0,Ie=0,Fe=0;if(de.forEach(function($e){$e.left?O[A.get($e.left)]-O[A.get($e.right)]>=0?Se++:ke++:B[A.get($e.top)]-B[A.get($e.bottom)]>=0?Ie++:Fe++}),Se>ke&&Ie>Fe)for(var nt=0;nt<A.size;nt++)O[nt]=-1*O[nt],B[nt]=-1*B[nt];else if(Se>ke)for(var Ze=0;Ze<A.size;Ze++)O[Ze]=-1*O[Ze];else if(Ie>Fe)for(var ze=0;ze<A.size;ze++)B[ze]=-1*B[ze]},D=function(de){var Se=[],ke=new b,Ie=new Set,Fe=0;return de.forEach(function(nt,Ze){if(!Ie.has(Ze)){Se[Fe]=[];var ze=Ze;for(ke.push(ze),Ie.add(ze),Se[Fe].push(ze);ke.length!=0;){ze=ke.shift();var $e=de.get(ze);$e.forEach(function(ut){Ie.has(ut.id)||(ke.push(ut.id),Ie.add(ut.id),Se[Fe].push(ut.id))})}Fe++}}),Se},_=function(de){var Se=new Map;return de.forEach(function(ke,Ie){Se.set(Ie,[])}),de.forEach(function(ke,Ie){ke.forEach(function(Fe){Se.get(Ie).push(Fe),Se.get(Fe.id).push({id:Ie,gap:Fe.gap,direction:Fe.direction})})}),Se},I=function(de){var Se=new Map;return de.forEach(function(ke,Ie){Se.set(Ie,[])}),de.forEach(function(ke,Ie){ke.forEach(function(Fe){Se.get(Fe.id).push({id:Ie,gap:Fe.gap,direction:Fe.direction})})}),Se},L=[],k=[],K=!1,G=!1,X=new Set,Z=new Map,J=new Map,re=[];if(w.fixedNodeConstraint&&w.fixedNodeConstraint.forEach(function(ye){X.add(ye.nodeId)}),w.relativePlacementConstraint&&(w.relativePlacementConstraint.forEach(function(ye){ye.left?(Z.has(ye.left)?Z.get(ye.left).push({id:ye.right,gap:ye.gap,direction:"horizontal"}):Z.set(ye.left,[{id:ye.right,gap:ye.gap,direction:"horizontal"}]),Z.has(ye.right)||Z.set(ye.right,[])):(Z.has(ye.top)?Z.get(ye.top).push({id:ye.bottom,gap:ye.gap,direction:"vertical"}):Z.set(ye.top,[{id:ye.bottom,gap:ye.gap,direction:"vertical"}]),Z.has(ye.bottom)||Z.set(ye.bottom,[]))}),J=_(Z),re=D(J)),g.TRANSFORM_ON_CONSTRAINT_HANDLING){if(w.fixedNodeConstraint&&w.fixedNodeConstraint.length>1)w.fixedNodeConstraint.forEach(function(ye,de){L[de]=[ye.position.x,ye.position.y],k[de]=[O[A.get(ye.nodeId)],B[A.get(ye.nodeId)]]}),K=!0;else if(w.alignmentConstraint)(function(){var ye=0;if(w.alignmentConstraint.vertical){for(var de=w.alignmentConstraint.vertical,Se=function(ze){var $e=new Set;de[ze].forEach(function(bt){$e.add(bt)});var ut=new Set([].concat(v($e)).filter(function(bt){return X.has(bt)})),St=void 0;ut.size>0?St=O[A.get(ut.values().next().value)]:St=Y($e).x,de[ze].forEach(function(bt){L[ye]=[St,B[A.get(bt)]],k[ye]=[O[A.get(bt)],B[A.get(bt)]],ye++})},ke=0;ke<de.length;ke++)Se(ke);K=!0}if(w.alignmentConstraint.horizontal){for(var Ie=w.alignmentConstraint.horizontal,Fe=function(ze){var $e=new Set;Ie[ze].forEach(function(bt){$e.add(bt)});var ut=new Set([].concat(v($e)).filter(function(bt){return X.has(bt)})),St=void 0;ut.size>0?St=O[A.get(ut.values().next().value)]:St=Y($e).y,Ie[ze].forEach(function(bt){L[ye]=[O[A.get(bt)],St],k[ye]=[O[A.get(bt)],B[A.get(bt)]],ye++})},nt=0;nt<Ie.length;nt++)Fe(nt);K=!0}w.relativePlacementConstraint&&(G=!0)})();else if(w.relativePlacementConstraint){for(var ie=0,oe=0,he=0;he<re.length;he++)re[he].length>ie&&(ie=re[he].length,oe=he);if(ie<J.size/2)$(w.relativePlacementConstraint),K=!1,G=!1;else{var se=new Map,te=new Map,ae=[];re[oe].forEach(function(ye){Z.get(ye).forEach(function(de){de.direction=="horizontal"?(se.has(ye)?se.get(ye).push(de):se.set(ye,[de]),se.has(de.id)||se.set(de.id,[]),ae.push({left:ye,right:de.id})):(te.has(ye)?te.get(ye).push(de):te.set(ye,[de]),te.has(de.id)||te.set(de.id,[]),ae.push({top:ye,bottom:de.id}))})}),$(ae),G=!1;var le=H(se,"horizontal"),me=H(te,"vertical");re[oe].forEach(function(ye,de){k[de]=[O[A.get(ye)],B[A.get(ye)]],L[de]=[],le.has(ye)?L[de][0]=le.get(ye):L[de][0]=O[A.get(ye)],me.has(ye)?L[de][1]=me.get(ye):L[de][1]=B[A.get(ye)]}),K=!0}}if(K){for(var _e=void 0,Ae=y.transpose(L),et=y.transpose(k),ot=0;ot<Ae.length;ot++)Ae[ot]=y.multGamma(Ae[ot]),et[ot]=y.multGamma(et[ot]);var rt=y.multMat(Ae,y.transpose(et)),Pe=E.svd(rt);_e=y.multMat(Pe.V,y.transpose(Pe.U));for(var Ve=0;Ve<A.size;Ve++){var Ke=[O[Ve],B[Ve]],Qe=[_e[0][0],_e[1][0]],at=[_e[0][1],_e[1][1]];O[Ve]=y.dotProduct(Ke,Qe),B[Ve]=y.dotProduct(Ke,at)}G&&$(w.relativePlacementConstraint)}}if(g.ENFORCE_CONSTRAINTS){if(w.fixedNodeConstraint&&w.fixedNodeConstraint.length>0){var tt={x:0,y:0};w.fixedNodeConstraint.forEach(function(ye,de){var Se={x:O[A.get(ye.nodeId)],y:B[A.get(ye.nodeId)]},ke=ye.position,Ie=V(ke,Se);tt.x+=Ie.x,tt.y+=Ie.y}),tt.x/=w.fixedNodeConstraint.length,tt.y/=w.fixedNodeConstraint.length,O.forEach(function(ye,de){O[de]+=tt.x}),B.forEach(function(ye,de){B[de]+=tt.y}),w.fixedNodeConstraint.forEach(function(ye){O[A.get(ye.nodeId)]=ye.position.x,B[A.get(ye.nodeId)]=ye.position.y})}if(w.alignmentConstraint){if(w.alignmentConstraint.vertical)for(var it=w.alignmentConstraint.vertical,dt=function(de){var Se=new Set;it[de].forEach(function(Fe){Se.add(Fe)});var ke=new Set([].concat(v(Se)).filter(function(Fe){return X.has(Fe)})),Ie=void 0;ke.size>0?Ie=O[A.get(ke.values().next().value)]:Ie=Y(Se).x,Se.forEach(function(Fe){X.has(Fe)||(O[A.get(Fe)]=Ie)})},Oe=0;Oe<it.length;Oe++)dt(Oe);if(w.alignmentConstraint.horizontal)for(var j=w.alignmentConstraint.horizontal,pe=function(de){var Se=new Set;j[de].forEach(function(Fe){Se.add(Fe)});var ke=new Set([].concat(v(Se)).filter(function(Fe){return X.has(Fe)})),Ie=void 0;ke.size>0?Ie=B[A.get(ke.values().next().value)]:Ie=Y(Se).y,Se.forEach(function(Fe){X.has(Fe)||(B[A.get(Fe)]=Ie)})},Le=0;Le<j.length;Le++)pe(Le)}w.relativePlacementConstraint&&function(){var ye=new Map,de=new Map,Se=new Map,ke=new Map,Ie=new Map,Fe=new Map,nt=new Set,Ze=new Set;if(X.forEach(function(dn){nt.add(dn),Ze.add(dn)}),w.alignmentConstraint){if(w.alignmentConstraint.vertical)for(var ze=w.alignmentConstraint.vertical,$e=function(Ft){Se.set("dummy"+Ft,[]),ze[Ft].forEach(function(vn){ye.set(vn,"dummy"+Ft),Se.get("dummy"+Ft).push(vn),X.has(vn)&&nt.add("dummy"+Ft)}),Ie.set("dummy"+Ft,O[A.get(ze[Ft][0])])},ut=0;ut<ze.length;ut++)$e(ut);if(w.alignmentConstraint.horizontal)for(var St=w.alignmentConstraint.horizontal,bt=function(Ft){ke.set("dummy"+Ft,[]),St[Ft].forEach(function(vn){de.set(vn,"dummy"+Ft),ke.get("dummy"+Ft).push(vn),X.has(vn)&&Ze.add("dummy"+Ft)}),Fe.set("dummy"+Ft,B[A.get(St[Ft][0])])},Rt=0;Rt<St.length;Rt++)bt(Rt)}var ht=new Map,st=new Map,At=function(Ft){Z.get(Ft).forEach(function(vn){var fa=void 0,hr=void 0;vn.direction=="horizontal"?(fa=ye.get(Ft)?ye.get(Ft):Ft,ye.get(vn.id)?hr={id:ye.get(vn.id),gap:vn.gap,direction:vn.direction}:hr=vn,ht.has(fa)?ht.get(fa).push(hr):ht.set(fa,[hr]),ht.has(hr.id)||ht.set(hr.id,[])):(fa=de.get(Ft)?de.get(Ft):Ft,de.get(vn.id)?hr={id:de.get(vn.id),gap:vn.gap,direction:vn.direction}:hr=vn,st.has(fa)?st.get(fa).push(hr):st.set(fa,[hr]),st.has(hr.id)||st.set(hr.id,[]))})},vt=!0,gt=!1,ln=void 0;try{for(var Mt=Z.keys()[Symbol.iterator](),It;!(vt=(It=Mt.next()).done);vt=!0){var Bn=It.value;At(Bn)}}catch(dn){gt=!0,ln=dn}finally{try{!vt&&Mt.return&&Mt.return()}finally{if(gt)throw ln}}var $t=_(ht),rn=_(st),Ut=D($t),fn=D(rn),cn=I(ht),la=I(st),ua=[],Ja=[];Ut.forEach(function(dn,Ft){ua[Ft]=[],dn.forEach(function(vn){cn.get(vn).length==0&&ua[Ft].push(vn)})}),fn.forEach(function(dn,Ft){Ja[Ft]=[],dn.forEach(function(vn){la.get(vn).length==0&&Ja[Ft].push(vn)})});var Ti=H(ht,"horizontal",nt,Ie,ua),La=H(st,"vertical",Ze,Fe,Ja),Ia=function(Ft){Se.get(Ft)?Se.get(Ft).forEach(function(vn){O[A.get(vn)]=Ti.get(Ft)}):O[A.get(Ft)]=Ti.get(Ft)},Ba=!0,xr=!1,_r=void 0;try{for(var Cr=Ti.keys()[Symbol.iterator](),Wr;!(Ba=(Wr=Cr.next()).done);Ba=!0){var Sn=Wr.value;Ia(Sn)}}catch(dn){xr=!0,_r=dn}finally{try{!Ba&&Cr.return&&Cr.return()}finally{if(xr)throw _r}}var hs=function(Ft){ke.get(Ft)?ke.get(Ft).forEach(function(vn){B[A.get(vn)]=La.get(Ft)}):B[A.get(Ft)]=La.get(Ft)},Ao=!0,$n=!1,$r=void 0;try{for(var gr=La.keys()[Symbol.iterator](),ja;!(Ao=(ja=gr.next()).done);Ao=!0){var Sn=ja.value;hs(Sn)}}catch(dn){$n=!0,$r=dn}finally{try{!Ao&&gr.return&&gr.return()}finally{if($n)throw $r}}}()}for(var Te=0;Te<z.length;Te++){var Re=z[Te];Re.getChild()==null&&Re.setCenter(O[A.get(Re.id)],B[A.get(Re.id)])}},u.exports=x},551:u=>{u.exports=t}},i={};function o(u){var c=i[u];if(c!==void 0)return c.exports;var f=i[u]={exports:{}};return r[u](f,f.exports,o),f.exports}var l=o(45);return l})()})}(xy)),xy.exports}var qB=Sy.exports,wT;function XB(){return wT||(wT=1,function(n,e){(function(r,i){n.exports=i(YB())})(qB,function(t){return(()=>{var r={658:u=>{u.exports=Object.assign!=null?Object.assign.bind(Object):function(c){for(var f=arguments.length,v=Array(f>1?f-1:0),g=1;g<f;g++)v[g-1]=arguments[g];return v.forEach(function(b){Object.keys(b).forEach(function(y){return c[y]=b[y]})}),c}},548:(u,c,f)=>{var v=function(){function y(E,x){var T=[],w=!0,R=!1,A=void 0;try{for(var O=E[Symbol.iterator](),B;!(w=(B=O.next()).done)&&(T.push(B.value),!(x&&T.length===x));w=!0);}catch(z){R=!0,A=z}finally{try{!w&&O.return&&O.return()}finally{if(R)throw A}}return T}return function(E,x){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return y(E,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=f(140).layoutBase.LinkedList,b={};b.getTopMostNodes=function(y){for(var E={},x=0;x<y.length;x++)E[y[x].id()]=!0;var T=y.filter(function(w,R){typeof w=="number"&&(w=R);for(var A=w.parent()[0];A!=null;){if(E[A.id()])return!1;A=A.parent()[0]}return!0});return T},b.connectComponents=function(y,E,x,T){var w=new g,R=new Set,A=[],O=void 0,B=void 0,z=void 0,N=!1,U=1,F=[],V=[],Y=function(){var $=y.collection();V.push($);var D=x[0],_=y.collection();_.merge(D).merge(D.descendants().intersection(E)),A.push(D),_.forEach(function(k){w.push(k),R.add(k),$.merge(k)});for(var I=function(){D=w.shift();var K=y.collection();D.neighborhood().nodes().forEach(function(J){E.intersection(D.edgesWith(J)).length>0&&K.merge(J)});for(var G=0;G<K.length;G++){var X=K[G];if(O=x.intersection(X.union(X.ancestors())),O!=null&&!R.has(O[0])){var Z=O.union(O.descendants());Z.forEach(function(J){w.push(J),R.add(J),$.merge(J),x.has(J)&&A.push(J)})}}};w.length!=0;)I();if($.forEach(function(k){E.intersection(k.connectedEdges()).forEach(function(K){$.has(K.source())&&$.has(K.target())&&$.merge(K)})}),A.length==x.length&&(N=!0),!N||N&&U>1){B=A[0],z=B.connectedEdges().length,A.forEach(function(k){k.connectedEdges().length<z&&(z=k.connectedEdges().length,B=k)}),F.push(B.id());var L=y.collection();L.merge(A[0]),A.forEach(function(k){L.merge(k)}),A=[],x=x.difference(L),U++}};do Y();while(!N);return T&&F.length>0&&T.set("dummy"+(T.size+1),F),V},b.relocateComponent=function(y,E,x){if(!x.fixedNodeConstraint){var T=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY;if(x.quality=="draft"){var O=!0,B=!1,z=void 0;try{for(var N=E.nodeIndexes[Symbol.iterator](),U;!(O=(U=N.next()).done);O=!0){var F=U.value,V=v(F,2),Y=V[0],H=V[1],$=x.cy.getElementById(Y);if($){var D=$.boundingBox(),_=E.xCoords[H]-D.w/2,I=E.xCoords[H]+D.w/2,L=E.yCoords[H]-D.h/2,k=E.yCoords[H]+D.h/2;_<T&&(T=_),I>w&&(w=I),L<R&&(R=L),k>A&&(A=k)}}}catch(J){B=!0,z=J}finally{try{!O&&N.return&&N.return()}finally{if(B)throw z}}var K=y.x-(w+T)/2,G=y.y-(A+R)/2;E.xCoords=E.xCoords.map(function(J){return J+K}),E.yCoords=E.yCoords.map(function(J){return J+G})}else{Object.keys(E).forEach(function(J){var re=E[J],ie=re.getRect().x,oe=re.getRect().x+re.getRect().width,he=re.getRect().y,se=re.getRect().y+re.getRect().height;ie<T&&(T=ie),oe>w&&(w=oe),he<R&&(R=he),se>A&&(A=se)});var X=y.x-(w+T)/2,Z=y.y-(A+R)/2;Object.keys(E).forEach(function(J){var re=E[J];re.setCenter(re.getCenterX()+X,re.getCenterY()+Z)})}}},b.calcBoundingBox=function(y,E,x,T){for(var w=Number.MAX_SAFE_INTEGER,R=Number.MIN_SAFE_INTEGER,A=Number.MAX_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER,B=void 0,z=void 0,N=void 0,U=void 0,F=y.descendants().not(":parent"),V=F.length,Y=0;Y<V;Y++){var H=F[Y];B=E[T.get(H.id())]-H.width()/2,z=E[T.get(H.id())]+H.width()/2,N=x[T.get(H.id())]-H.height()/2,U=x[T.get(H.id())]+H.height()/2,w>B&&(w=B),R<z&&(R=z),A>N&&(A=N),O<U&&(O=U)}var $={};return $.topLeftX=w,$.topLeftY=A,$.width=R-w,$.height=O-A,$},b.calcParentsWithoutChildren=function(y,E){var x=y.collection();return E.nodes(":parent").forEach(function(T){var w=!1;T.children().forEach(function(R){R.css("display")!="none"&&(w=!0)}),w||x.merge(T)}),x},u.exports=b},816:(u,c,f)=>{var v=f(548),g=f(140).CoSELayout,b=f(140).CoSENode,y=f(140).layoutBase.PointD,E=f(140).layoutBase.DimensionD,x=f(140).layoutBase.LayoutConstants,T=f(140).layoutBase.FDLayoutConstants,w=f(140).CoSEConstants,R=function(O,B){var z=O.cy,N=O.eles,U=N.nodes(),F=N.edges(),V=void 0,Y=void 0,H=void 0,$={};O.randomize&&(V=B.nodeIndexes,Y=B.xCoords,H=B.yCoords);var D=function(J){return typeof J=="function"},_=function(J,re){return D(J)?J(re):J},I=v.calcParentsWithoutChildren(z,N),L=function Z(J,re,ie,oe){for(var he=re.length,se=0;se<he;se++){var te=re[se],ae=null;te.intersection(I).length==0&&(ae=te.children());var le=void 0,me=te.layoutDimensions({nodeDimensionsIncludeLabels:oe.nodeDimensionsIncludeLabels});if(te.outerWidth()!=null&&te.outerHeight()!=null)if(oe.randomize)if(!te.isParent())le=J.add(new b(ie.graphManager,new y(Y[V.get(te.id())]-me.w/2,H[V.get(te.id())]-me.h/2),new E(parseFloat(me.w),parseFloat(me.h))));else{var _e=v.calcBoundingBox(te,Y,H,V);te.intersection(I).length==0?le=J.add(new b(ie.graphManager,new y(_e.topLeftX,_e.topLeftY),new E(_e.width,_e.height))):le=J.add(new b(ie.graphManager,new y(_e.topLeftX,_e.topLeftY),new E(parseFloat(me.w),parseFloat(me.h))))}else le=J.add(new b(ie.graphManager,new y(te.position("x")-me.w/2,te.position("y")-me.h/2),new E(parseFloat(me.w),parseFloat(me.h))));else le=J.add(new b(this.graphManager));if(le.id=te.data("id"),le.nodeRepulsion=_(oe.nodeRepulsion,te),le.paddingLeft=parseInt(te.css("padding")),le.paddingTop=parseInt(te.css("padding")),le.paddingRight=parseInt(te.css("padding")),le.paddingBottom=parseInt(te.css("padding")),oe.nodeDimensionsIncludeLabels&&(le.labelWidth=te.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,le.labelHeight=te.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,le.labelPosVertical=te.css("text-valign"),le.labelPosHorizontal=te.css("text-halign")),$[te.data("id")]=le,isNaN(le.rect.x)&&(le.rect.x=0),isNaN(le.rect.y)&&(le.rect.y=0),ae!=null&&ae.length>0){var Ae=void 0;Ae=ie.getGraphManager().add(ie.newGraph(),le),Z(Ae,ae,ie,oe)}}},k=function(J,re,ie){for(var oe=0,he=0,se=0;se<ie.length;se++){var te=ie[se],ae=$[te.data("source")],le=$[te.data("target")];if(ae&&le&&ae!==le&&ae.getEdgesBetween(le).length==0){var me=re.add(J.newEdge(),ae,le);me.id=te.id(),me.idealLength=_(O.idealEdgeLength,te),me.edgeElasticity=_(O.edgeElasticity,te),oe+=me.idealLength,he++}}O.idealEdgeLength!=null&&(he>0?w.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=oe/he:D(O.idealEdgeLength)?w.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=50:w.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=O.idealEdgeLength,w.MIN_REPULSION_DIST=T.MIN_REPULSION_DIST=T.DEFAULT_EDGE_LENGTH/10,w.DEFAULT_RADIAL_SEPARATION=T.DEFAULT_EDGE_LENGTH)},K=function(J,re){re.fixedNodeConstraint&&(J.constraints.fixedNodeConstraint=re.fixedNodeConstraint),re.alignmentConstraint&&(J.constraints.alignmentConstraint=re.alignmentConstraint),re.relativePlacementConstraint&&(J.constraints.relativePlacementConstraint=re.relativePlacementConstraint)};O.nestingFactor!=null&&(w.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=O.nestingFactor),O.gravity!=null&&(w.DEFAULT_GRAVITY_STRENGTH=T.DEFAULT_GRAVITY_STRENGTH=O.gravity),O.numIter!=null&&(w.MAX_ITERATIONS=T.MAX_ITERATIONS=O.numIter),O.gravityRange!=null&&(w.DEFAULT_GRAVITY_RANGE_FACTOR=T.DEFAULT_GRAVITY_RANGE_FACTOR=O.gravityRange),O.gravityCompound!=null&&(w.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=O.gravityCompound),O.gravityRangeCompound!=null&&(w.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=O.gravityRangeCompound),O.initialEnergyOnIncremental!=null&&(w.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.DEFAULT_COOLING_FACTOR_INCREMENTAL=O.initialEnergyOnIncremental),O.tilingCompareBy!=null&&(w.TILING_COMPARE_BY=O.tilingCompareBy),O.quality=="proof"?x.QUALITY=2:x.QUALITY=0,w.NODE_DIMENSIONS_INCLUDE_LABELS=T.NODE_DIMENSIONS_INCLUDE_LABELS=x.NODE_DIMENSIONS_INCLUDE_LABELS=O.nodeDimensionsIncludeLabels,w.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=!O.randomize,w.ANIMATE=T.ANIMATE=x.ANIMATE=O.animate,w.TILE=O.tile,w.TILING_PADDING_VERTICAL=typeof O.tilingPaddingVertical=="function"?O.tilingPaddingVertical.call():O.tilingPaddingVertical,w.TILING_PADDING_HORIZONTAL=typeof O.tilingPaddingHorizontal=="function"?O.tilingPaddingHorizontal.call():O.tilingPaddingHorizontal,w.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=!0,w.PURE_INCREMENTAL=!O.randomize,x.DEFAULT_UNIFORM_LEAF_NODE_SIZES=O.uniformNodeDimensions,O.step=="transformed"&&(w.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,w.ENFORCE_CONSTRAINTS=!1,w.APPLY_LAYOUT=!1),O.step=="enforced"&&(w.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,w.ENFORCE_CONSTRAINTS=!0,w.APPLY_LAYOUT=!1),O.step=="cose"&&(w.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,w.ENFORCE_CONSTRAINTS=!1,w.APPLY_LAYOUT=!0),O.step=="all"&&(O.randomize?w.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:w.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,w.ENFORCE_CONSTRAINTS=!0,w.APPLY_LAYOUT=!0),O.fixedNodeConstraint||O.alignmentConstraint||O.relativePlacementConstraint?w.TREE_REDUCTION_ON_INCREMENTAL=!1:w.TREE_REDUCTION_ON_INCREMENTAL=!0;var G=new g,X=G.newGraphManager();return L(X.addRoot(),v.getTopMostNodes(U),G,O),k(G,X,F),K(G,O),G.runLayout(),$};u.exports={coseLayout:R}},212:(u,c,f)=>{var v=function(){function O(B,z){for(var N=0;N<z.length;N++){var U=z[N];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,z,N){return z&&O(B.prototype,z),N&&O(B,N),B}}();function g(O,B){if(!(O instanceof B))throw new TypeError("Cannot call a class as a function")}var b=f(658),y=f(548),E=f(657),x=E.spectralLayout,T=f(816),w=T.coseLayout,R=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(B){return 4500},idealEdgeLength:function(B){return 50},edgeElasticity:function(B){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),A=function(){function O(B){g(this,O),this.options=b({},R,B)}return v(O,[{key:"run",value:function(){var z=this,N=this.options,U=N.cy,F=N.eles,V=[],Y=[],H=void 0,$=[];N.fixedNodeConstraint&&(!Array.isArray(N.fixedNodeConstraint)||N.fixedNodeConstraint.length==0)&&(N.fixedNodeConstraint=void 0),N.alignmentConstraint&&(N.alignmentConstraint.vertical&&(!Array.isArray(N.alignmentConstraint.vertical)||N.alignmentConstraint.vertical.length==0)&&(N.alignmentConstraint.vertical=void 0),N.alignmentConstraint.horizontal&&(!Array.isArray(N.alignmentConstraint.horizontal)||N.alignmentConstraint.horizontal.length==0)&&(N.alignmentConstraint.horizontal=void 0)),N.relativePlacementConstraint&&(!Array.isArray(N.relativePlacementConstraint)||N.relativePlacementConstraint.length==0)&&(N.relativePlacementConstraint=void 0);var D=N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint;D&&(N.tile=!1,N.packComponents=!1);var _=void 0,I=!1;if(U.layoutUtilities&&N.packComponents&&(_=U.layoutUtilities("get"),_||(_=U.layoutUtilities()),I=!0),F.nodes().length>0)if(I){var K=y.getTopMostNodes(N.eles.nodes());if(H=y.connectComponents(U,N.eles,K),H.forEach(function(rt){var Pe=rt.boundingBox();$.push({x:Pe.x1+Pe.w/2,y:Pe.y1+Pe.h/2})}),N.randomize&&H.forEach(function(rt){N.eles=rt,V.push(x(N))}),N.quality=="default"||N.quality=="proof"){var G=U.collection();if(N.tile){var X=new Map,Z=[],J=[],re=0,ie={nodeIndexes:X,xCoords:Z,yCoords:J},oe=[];if(H.forEach(function(rt,Pe){rt.edges().length==0&&(rt.nodes().forEach(function(Ve,Ke){G.merge(rt.nodes()[Ke]),Ve.isParent()||(ie.nodeIndexes.set(rt.nodes()[Ke].id(),re++),ie.xCoords.push(rt.nodes()[0].position().x),ie.yCoords.push(rt.nodes()[0].position().y))}),oe.push(Pe))}),G.length>1){var he=G.boundingBox();$.push({x:he.x1+he.w/2,y:he.y1+he.h/2}),H.push(G),V.push(ie);for(var se=oe.length-1;se>=0;se--)H.splice(oe[se],1),V.splice(oe[se],1),$.splice(oe[se],1)}}H.forEach(function(rt,Pe){N.eles=rt,Y.push(w(N,V[Pe])),y.relocateComponent($[Pe],Y[Pe],N)})}else H.forEach(function(rt,Pe){y.relocateComponent($[Pe],V[Pe],N)});var te=new Set;if(H.length>1){var ae=[],le=F.filter(function(rt){return rt.css("display")=="none"});H.forEach(function(rt,Pe){var Ve=void 0;if(N.quality=="draft"&&(Ve=V[Pe].nodeIndexes),rt.nodes().not(le).length>0){var Ke={};Ke.edges=[],Ke.nodes=[];var Qe=void 0;rt.nodes().not(le).forEach(function(at){if(N.quality=="draft")if(!at.isParent())Qe=Ve.get(at.id()),Ke.nodes.push({x:V[Pe].xCoords[Qe]-at.boundingbox().w/2,y:V[Pe].yCoords[Qe]-at.boundingbox().h/2,width:at.boundingbox().w,height:at.boundingbox().h});else{var tt=y.calcBoundingBox(at,V[Pe].xCoords,V[Pe].yCoords,Ve);Ke.nodes.push({x:tt.topLeftX,y:tt.topLeftY,width:tt.width,height:tt.height})}else Y[Pe][at.id()]&&Ke.nodes.push({x:Y[Pe][at.id()].getLeft(),y:Y[Pe][at.id()].getTop(),width:Y[Pe][at.id()].getWidth(),height:Y[Pe][at.id()].getHeight()})}),rt.edges().forEach(function(at){var tt=at.source(),it=at.target();if(tt.css("display")!="none"&&it.css("display")!="none")if(N.quality=="draft"){var dt=Ve.get(tt.id()),Oe=Ve.get(it.id()),j=[],pe=[];if(tt.isParent()){var Le=y.calcBoundingBox(tt,V[Pe].xCoords,V[Pe].yCoords,Ve);j.push(Le.topLeftX+Le.width/2),j.push(Le.topLeftY+Le.height/2)}else j.push(V[Pe].xCoords[dt]),j.push(V[Pe].yCoords[dt]);if(it.isParent()){var Te=y.calcBoundingBox(it,V[Pe].xCoords,V[Pe].yCoords,Ve);pe.push(Te.topLeftX+Te.width/2),pe.push(Te.topLeftY+Te.height/2)}else pe.push(V[Pe].xCoords[Oe]),pe.push(V[Pe].yCoords[Oe]);Ke.edges.push({startX:j[0],startY:j[1],endX:pe[0],endY:pe[1]})}else Y[Pe][tt.id()]&&Y[Pe][it.id()]&&Ke.edges.push({startX:Y[Pe][tt.id()].getCenterX(),startY:Y[Pe][tt.id()].getCenterY(),endX:Y[Pe][it.id()].getCenterX(),endY:Y[Pe][it.id()].getCenterY()})}),Ke.nodes.length>0&&(ae.push(Ke),te.add(Pe))}});var me=_.packComponents(ae,N.randomize).shifts;if(N.quality=="draft")V.forEach(function(rt,Pe){var Ve=rt.xCoords.map(function(Qe){return Qe+me[Pe].dx}),Ke=rt.yCoords.map(function(Qe){return Qe+me[Pe].dy});rt.xCoords=Ve,rt.yCoords=Ke});else{var _e=0;te.forEach(function(rt){Object.keys(Y[rt]).forEach(function(Pe){var Ve=Y[rt][Pe];Ve.setCenter(Ve.getCenterX()+me[_e].dx,Ve.getCenterY()+me[_e].dy)}),_e++})}}}else{var L=N.eles.boundingBox();if($.push({x:L.x1+L.w/2,y:L.y1+L.h/2}),N.randomize){var k=x(N);V.push(k)}N.quality=="default"||N.quality=="proof"?(Y.push(w(N,V[0])),y.relocateComponent($[0],Y[0],N)):y.relocateComponent($[0],V[0],N)}var Ae=function(Pe,Ve){if(N.quality=="default"||N.quality=="proof"){typeof Pe=="number"&&(Pe=Ve);var Ke=void 0,Qe=void 0,at=Pe.data("id");return Y.forEach(function(it){at in it&&(Ke={x:it[at].getRect().getCenterX(),y:it[at].getRect().getCenterY()},Qe=it[at])}),N.nodeDimensionsIncludeLabels&&(Qe.labelWidth&&(Qe.labelPosHorizontal=="left"?Ke.x+=Qe.labelWidth/2:Qe.labelPosHorizontal=="right"&&(Ke.x-=Qe.labelWidth/2)),Qe.labelHeight&&(Qe.labelPosVertical=="top"?Ke.y+=Qe.labelHeight/2:Qe.labelPosVertical=="bottom"&&(Ke.y-=Qe.labelHeight/2))),Ke==null&&(Ke={x:Pe.position("x"),y:Pe.position("y")}),{x:Ke.x,y:Ke.y}}else{var tt=void 0;return V.forEach(function(it){var dt=it.nodeIndexes.get(Pe.id());dt!=null&&(tt={x:it.xCoords[dt],y:it.yCoords[dt]})}),tt==null&&(tt={x:Pe.position("x"),y:Pe.position("y")}),{x:tt.x,y:tt.y}}};if(N.quality=="default"||N.quality=="proof"||N.randomize){var et=y.calcParentsWithoutChildren(U,F),ot=F.filter(function(rt){return rt.css("display")=="none"});N.eles=F.not(ot),F.nodes().not(":parent").not(ot).layoutPositions(z,N,Ae),et.length>0&&et.forEach(function(rt){rt.position(Ae(rt))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),O}();u.exports=A},657:(u,c,f)=>{var v=f(548),g=f(140).layoutBase.Matrix,b=f(140).layoutBase.SVD,y=function(x){var T=x.cy,w=x.eles,R=w.nodes(),A=w.nodes(":parent"),O=new Map,B=new Map,z=new Map,N=[],U=[],F=[],V=[],Y=[],H=[],$=[],D=[],_=void 0,I=1e8,L=1e-9,k=x.piTol,K=x.samplingType,G=x.nodeSeparation,X=void 0,Z=function(){for(var de=0,Se=0,ke=!1;Se<X;){de=Math.floor(Math.random()*_),ke=!1;for(var Ie=0;Ie<Se;Ie++)if(V[Ie]==de){ke=!0;break}if(!ke)V[Se]=de,Se++;else continue}},J=function(de,Se,ke){for(var Ie=[],Fe=0,nt=0,Ze=0,ze=void 0,$e=[],ut=0,St=1,bt=0;bt<_;bt++)$e[bt]=I;for(Ie[nt]=de,$e[de]=0;nt>=Fe;){Ze=Ie[Fe++];for(var Rt=N[Ze],ht=0;ht<Rt.length;ht++)ze=B.get(Rt[ht]),$e[ze]==I&&($e[ze]=$e[Ze]+1,Ie[++nt]=ze);H[Ze][Se]=$e[Ze]*G}if(ke){for(var st=0;st<_;st++)H[st][Se]<Y[st]&&(Y[st]=H[st][Se]);for(var At=0;At<_;At++)Y[At]>ut&&(ut=Y[At],St=At)}return St},re=function(de){var Se=void 0;if(de){Se=Math.floor(Math.random()*_);for(var Ie=0;Ie<_;Ie++)Y[Ie]=I;for(var Fe=0;Fe<X;Fe++)V[Fe]=Se,Se=J(Se,Fe,de)}else{Z();for(var ke=0;ke<X;ke++)J(V[ke],ke,de)}for(var nt=0;nt<_;nt++)for(var Ze=0;Ze<X;Ze++)H[nt][Ze]*=H[nt][Ze];for(var ze=0;ze<X;ze++)$[ze]=[];for(var $e=0;$e<X;$e++)for(var ut=0;ut<X;ut++)$[$e][ut]=H[V[ut]][$e]},ie=function(){for(var de=b.svd($),Se=de.S,ke=de.U,Ie=de.V,Fe=Se[0]*Se[0]*Se[0],nt=[],Ze=0;Ze<X;Ze++){nt[Ze]=[];for(var ze=0;ze<X;ze++)nt[Ze][ze]=0,Ze==ze&&(nt[Ze][ze]=Se[Ze]/(Se[Ze]*Se[Ze]+Fe/(Se[Ze]*Se[Ze])))}D=g.multMat(g.multMat(Ie,nt),g.transpose(ke))},oe=function(){for(var de=void 0,Se=void 0,ke=[],Ie=[],Fe=[],nt=[],Ze=0;Ze<_;Ze++)ke[Ze]=Math.random(),Ie[Ze]=Math.random();ke=g.normalize(ke),Ie=g.normalize(Ie);for(var ze=L,$e=L,ut=void 0;;){for(var St=0;St<_;St++)Fe[St]=ke[St];if(ke=g.multGamma(g.multL(g.multGamma(Fe),H,D)),de=g.dotProduct(Fe,ke),ke=g.normalize(ke),ze=g.dotProduct(Fe,ke),ut=Math.abs(ze/$e),ut<=1+k&&ut>=1)break;$e=ze}for(var bt=0;bt<_;bt++)Fe[bt]=ke[bt];for($e=L;;){for(var Rt=0;Rt<_;Rt++)nt[Rt]=Ie[Rt];if(nt=g.minusOp(nt,g.multCons(Fe,g.dotProduct(Fe,nt))),Ie=g.multGamma(g.multL(g.multGamma(nt),H,D)),Se=g.dotProduct(nt,Ie),Ie=g.normalize(Ie),ze=g.dotProduct(nt,Ie),ut=Math.abs(ze/$e),ut<=1+k&&ut>=1)break;$e=ze}for(var ht=0;ht<_;ht++)nt[ht]=Ie[ht];U=g.multCons(Fe,Math.sqrt(Math.abs(de))),F=g.multCons(nt,Math.sqrt(Math.abs(Se)))};v.connectComponents(T,w,v.getTopMostNodes(R),O),A.forEach(function(ye){v.connectComponents(T,w,v.getTopMostNodes(ye.descendants().intersection(w)),O)});for(var he=0,se=0;se<R.length;se++)R[se].isParent()||B.set(R[se].id(),he++);var te=!0,ae=!1,le=void 0;try{for(var me=O.keys()[Symbol.iterator](),_e;!(te=(_e=me.next()).done);te=!0){var Ae=_e.value;B.set(Ae,he++)}}catch(ye){ae=!0,le=ye}finally{try{!te&&me.return&&me.return()}finally{if(ae)throw le}}for(var et=0;et<B.size;et++)N[et]=[];A.forEach(function(ye){for(var de=ye.children().intersection(w);de.nodes(":childless").length==0;)de=de.nodes()[0].children().intersection(w);var Se=0,ke=de.nodes(":childless")[0].connectedEdges().length;de.nodes(":childless").forEach(function(Ie,Fe){Ie.connectedEdges().length<ke&&(ke=Ie.connectedEdges().length,Se=Fe)}),z.set(ye.id(),de.nodes(":childless")[Se].id())}),R.forEach(function(ye){var de=void 0;ye.isParent()?de=B.get(z.get(ye.id())):de=B.get(ye.id()),ye.neighborhood().nodes().forEach(function(Se){w.intersection(ye.edgesWith(Se)).length>0&&(Se.isParent()?N[de].push(z.get(Se.id())):N[de].push(Se.id()))})});var ot=function(de){var Se=B.get(de),ke=void 0;O.get(de).forEach(function(Ie){T.getElementById(Ie).isParent()?ke=z.get(Ie):ke=Ie,N[Se].push(ke),N[B.get(ke)].push(de)})},rt=!0,Pe=!1,Ve=void 0;try{for(var Ke=O.keys()[Symbol.iterator](),Qe;!(rt=(Qe=Ke.next()).done);rt=!0){var at=Qe.value;ot(at)}}catch(ye){Pe=!0,Ve=ye}finally{try{!rt&&Ke.return&&Ke.return()}finally{if(Pe)throw Ve}}_=B.size;var tt=void 0;if(_>2){X=_<x.sampleSize?_:x.sampleSize;for(var it=0;it<_;it++)H[it]=[];for(var dt=0;dt<X;dt++)D[dt]=[];return x.quality=="draft"||x.step=="all"?(re(K),ie(),oe(),tt={nodeIndexes:B,xCoords:U,yCoords:F}):(B.forEach(function(ye,de){U.push(T.getElementById(de).position("x")),F.push(T.getElementById(de).position("y"))}),tt={nodeIndexes:B,xCoords:U,yCoords:F}),tt}else{var Oe=B.keys(),j=T.getElementById(Oe.next().value),pe=j.position(),Le=j.outerWidth();if(U.push(pe.x),F.push(pe.y),_==2){var Te=T.getElementById(Oe.next().value),Re=Te.outerWidth();U.push(pe.x+Le/2+Re/2+x.idealEdgeLength),F.push(pe.y)}return tt={nodeIndexes:B,xCoords:U,yCoords:F},tt}};u.exports={spectralLayout:y}},579:(u,c,f)=>{var v=f(212),g=function(y){y&&y("layout","fcose",v)};typeof cytoscape<"u"&&g(cytoscape),u.exports=g},140:u=>{u.exports=t}},i={};function o(u){var c=i[u];if(c!==void 0)return c.exports;var f=i[u]={exports:{}};return r[u](f,f.exports,o),f.exports}var l=o(579);return l})()})}(Sy)),Sy.exports}var WB=XB();const $B=fs(WB);ru.use($B);function wd(n){const e={name:"fcose",animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!0,randomize:!1,componentSpacing:20,nodeRepulsion:function(){return 2048},nodeOverlap:8,idealEdgeLength:function(){return 128},nestingFactor:1.2,gravity:.25,numIter:1e3};n!=null&&n.layout(e).run()}const TT=[{selector:"node",style:{"background-color":"#666",label:"data(id)"}},{selector:"edge",style:{width:3,"line-color":"#999","target-arrow-color":"#999","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)","arrow-scale":2}},{selector:'node[initial = "true"]',css:{"background-color":"Green"}},{selector:'node[final = "true"]',css:{"border-style":"double","border-color":"Black","border-width":6}},{selector:":selected",css:{"background-color":"SteelBlue","line-color":"SteelBlue","target-arrow-color":"SteelBlue","source-arrow-color":"SteelBlue"}}];class KB{constructor(e,t,r){De(this,"kind",ft.AUTOMATON);De(this,"id");De(this,"cy");De(this,"initialState","");De(this,"initialStatePosition",{x:0,y:0});De(this,"elems");De(this,"initialized",!1);De(this,"toCallBack",[]);this.id=e,this.initialState=t,this.initialStatePosition=r}reinitialize(e){this.id=dg,this.elems=e}getElements(){var r;const e=(r=this.cy)==null?void 0:r.nodes().map(i=>({data:i.data(),group:i.group(),classes:i.classes(),position:i.position()})),t=this.cy.edges().map(i=>({data:i.data(),group:i.group(),classes:i.classes()}));return[...e,...t]}init(){var e;console.log("init"),(e=this.cy)==null||e.destroy(),this.cy=ru({container:document.getElementById(this.id),elements:this.elems??[{group:"nodes",data:{id:this.initialState,initial:"true",final:"false"},position:this.initialStatePosition}],style:TT,layout:{name:"preset"},maxZoom:10,selectionType:"single"}),this.initialized=!0,this.toCallBack.forEach(t=>t(this.cy))}callbackAfterInit(e){this.initialized?e(this.cy):this.toCallBack.push(e)}getCytoscape(){return this.cy}redrawAutomaton(e){const t=this.cy.elements().remove();let r=!1;e.states.forEach((i,o)=>{let l={x:50*o,y:o*o};t.getElementById(i).length!=0?l=t.getElementById(i).position():r=!0,this.addNode(i,l),e.initialStateId===i&&this.setInitialNode(i),e.finalStateIds.includes(i)&&this.setIsFinalNode(i,!0)});for(const i in e.deltaFunctionMatrix)for(const o in e.deltaFunctionMatrix[i])e.deltaFunctionMatrix[i][o].forEach(l=>{this.addEdge(l.id,i,o,l.label)});r&&wd(this.cy),console.log("redrawn")}fit(){var e;(e=this.cy)==null||e.fit()}addNode(e,t){var r;(r=this.cy)==null||r.add({group:"nodes",data:{id:e,initial:"false",final:"false"},position:t})}removeNode(e){var t;(t=this.cy)==null||t.getElementById(e).remove()}renameNode(e,t){var i,o,l,u,c,f;const r=(i=this.cy)==null?void 0:i.json();r.elements.nodes=(o=r.elements.nodes)==null?void 0:o.map(v=>v.data.id===e?{...v,data:{...v.data,id:t}}:v),r.elements.edges=((l=r.elements.edges)==null?void 0:l.map(v=>v.data.source===e?{...v,data:{...v.data,source:t}}:v))??void 0,r.elements.edges=((u=r.elements.edges)==null?void 0:u.map(v=>v.data.target===e?{...v,data:{...v.data,target:t}}:v))??void 0,(c=this.cy)==null||c.remove("*"),(f=this.cy)==null||f.json(r)}setInitialNode(e){var t,r;(t=this.cy)==null||t.nodes('[initial = "true"]').data("initial","false"),(r=this.cy)==null||r.getElementById(e).data("initial","true")}setIsFinalNode(e,t){var r;(r=this.cy)==null||r.getElementById(e).data("final",t?"true":"false")}addEdge(e,t,r,i){var o;(o=this.cy)==null||o.add({group:"edges",data:{id:e,source:t,target:r,label:i}})}editEdge(e,t){var i,o,l;const r=(i=this.cy)==null?void 0:i.getElementById(e).data();(o=this.cy)==null||o.getElementById(e).remove(),r.label=t,(l=this.cy)==null||l.add({group:"edges",data:r}),console.log(e,t)}removeEdge(e){var t;(t=this.cy)==null||t.remove(`edge#${e}`)}highlightElements(e){var t;for(const r of e){const i=(t=this.cy)==null?void 0:t.getElementById(r);i&&i.nonempty()?r.startsWith("_")?i.style({"line-color":"salmon","target-arrow-color":"salmon"}):i.style({"background-color":"salmon"}):console.warn(`Element with id "${r}" not found.`)}}clearHighlights(){var e,t;(e=this.cy)==null||e.elements().removeStyle(),(t=this.cy)==null||t.elements().style(TT)}}class EC{constructor(e){De(this,"visual");this.visual=e}visitAddStateCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");const t=Math.floor((Math.random()-.5)*300),r=Math.floor((Math.random()-.5)*300);this.visual.addNode(e.stateId,{x:t,y:r})}visitRemoveStateCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.removeNode(e.stateId)}visitRenameStateCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.renameNode(e.stateId,e.newStateId)}visitSetInitialStateCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.setInitialNode(e.stateId)}visitSetStateFinalFlagCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.setIsFinalNode(e.stateId,e.shouldBeFinal)}visitAddEdgeCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.addEdge(e.edge.id,e.fromStateId,e.toStateId,e.edge.label)}visitRemoveEdgeCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.removeEdge(e.edgeId)}visitEditEdgeCommand(e){if(this.visual.kind!==ft.AUTOMATON)throw new Error("Type mismatch");this.visual.editEdge(e.edgeId,e.edge.label)}visitAddProductionRuleCommand(e){var t,r;if(this.visual.kind!==ft.GRAMMAR)throw new Error("Type mismatch");this.visual.storeRuleId(e.productionRule.id),this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitRemoveProductionRuleCommand(e){var t,r;if(this.visual.kind!==ft.GRAMMAR)throw new Error("Type mismatch");this.visual.removeRuleId(e.productionRuleId),this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitEditProductionRuleCommand(e){throw this.visual.kind!==ft.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitAddNonterminalsCommand(e){var t,r;if(this.visual.kind!==ft.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitAddTerminalsCommand(e){var t,r;if(this.visual.kind!==ft.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitSetInitialNonterminalCommand(e){throw this.visual.kind!==ft.GRAMMAR?new Error("Type mismatch"):new Error(`Not implemented. ${e}`)}visitRemoveNonterminalCommand(e){var t,r;if(this.visual.kind!==ft.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}visitRemoveTerminalCommand(e){var t,r;if(this.visual.kind!==ft.GRAMMAR)throw new Error("Type mismatch");this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display())}}class fu{constructor(e){De(this,"kind",ft.AUTOMATON);De(this,"automaton");De(this,"backup");this.automaton=e}saveBackup(){this.backup=this.automaton.save()}undo(){this.backup&&this.automaton.restore(this.backup)}}class Gy extends fu{constructor(t,r){super(t);De(this,"stateId");this.stateId=r}accept(t){t.visitAddStateCommand(this)}execute(){if(this.automaton.states.some(r=>r===this.stateId))return new Ye(`Cannot add state ${this.stateId}, as it has already been added before.`);const t=this.automaton.deltaFunctionMatrix;for(const r in t)for(const i in t[r])for(const o of t[r][i])if(o.inputChar===this.stateId)return new Ye(`Cannot add state ${this.stateId}, as it is already present as an edge symbol.`);this.saveBackup(),this.automaton.states.push(this.stateId)}}class ZB extends fu{constructor(t,r){super(t);De(this,"stateId");this.stateId=r}accept(t){t.visitRemoveStateCommand(this)}execute(){const t=this.automaton.states.findIndex(r=>r===this.stateId);if(t===-1)return new Ye(`Cannot remove state ${this.stateId}, as it does not exist.`);if(this.stateId===this.automaton.initialStateId)return new Ye(`Cannot remove state ${this.stateId}, as it is the initial state.`);this.saveBackup(),this.automaton.finalStateIds=this.automaton.finalStateIds.filter(r=>r!==this.stateId),this.automaton.states.length>1&&t!==this.automaton.states.length-1?this.automaton.states[t]=this.automaton.states.pop():this.automaton.states.pop(),this.automaton.deltaFunctionMatrix[this.stateId]={};for(const r in this.automaton.deltaFunctionMatrix)for(const i in this.automaton.deltaFunctionMatrix[r])i===this.stateId&&(this.automaton.deltaFunctionMatrix[r][i]=[])}}class pE extends fu{constructor(t,r,i){super(t);De(this,"stateId");De(this,"newStateId");this.stateId=r,this.newStateId=i}accept(t){t.visitRenameStateCommand(this)}execute(){if(this.automaton.states.every(r=>r!==this.stateId))return new Ye(`Cannot edit state ${this.stateId}, as it does not exist.`);if(this.automaton.states.some(r=>r===this.newStateId)&&this.newStateId!==this.stateId)return new Ye(`Cannot rename state ${this.stateId} to ${this.newStateId}, as there is already a state with that name.`);const t=this.automaton.deltaFunctionMatrix;for(const r in t)for(const i in t[r])for(const o of t[r][i])if(o.inputChar===this.newStateId)return new Ye(`Cannot rename state ${this.stateId} to ${this.newStateId}, as there is already an edge symbol with that name.`);this.saveBackup(),this.automaton.states=this.automaton.states.map(r=>r===this.stateId?this.newStateId:r),this.automaton.initialStateId===this.stateId&&(this.automaton.initialStateId=this.newStateId),this.automaton.finalStateIds=this.automaton.finalStateIds.map(r=>r===this.stateId?this.newStateId:r),this.automaton.deltaFunctionMatrix[this.stateId]!==void 0&&(this.automaton.deltaFunctionMatrix[this.newStateId]=My.cloneDeep(this.automaton.deltaFunctionMatrix[this.stateId]),this.automaton.deltaFunctionMatrix[this.stateId]={});for(const r in this.automaton.deltaFunctionMatrix)this.automaton.deltaFunctionMatrix[r][this.stateId]!==void 0&&(this.automaton.deltaFunctionMatrix[r][this.newStateId]=My.cloneDeep(this.automaton.deltaFunctionMatrix[r][this.stateId]),this.automaton.deltaFunctionMatrix[r][this.stateId]=[])}}class Cg extends fu{constructor(t,r,i){super(t);De(this,"stateId");De(this,"shouldBeFinal");this.stateId=r,this.shouldBeFinal=i}accept(t){t.visitSetStateFinalFlagCommand(this)}execute(){if(this.automaton.states.every(r=>r!==this.stateId))return new Ye(`Cannot edit state ${this.stateId}, as it does not exist.`);const t=this.automaton.finalStateIds.some(r=>r===this.stateId);t&&this.shouldBeFinal||!t&&!this.shouldBeFinal||(this.saveBackup(),this.shouldBeFinal?this.automaton.finalStateIds.push(this.stateId):this.automaton.finalStateIds=this.automaton.finalStateIds.filter(r=>r!==this.stateId))}}class QB extends fu{constructor(t,r){super(t);De(this,"stateId");this.stateId=r}accept(t){t.visitSetInitialStateCommand(this)}execute(){if(this.automaton.states.every(t=>t!==this.stateId))return new Ye(`Cannot edit state ${this.stateId}, as it does not exist.`);this.saveBackup(),this.automaton.initialStateId=this.stateId}}class Cf extends fu{constructor(t,r,i,o){super(t);De(this,"fromStateId");De(this,"toStateId");De(this,"edge");this.fromStateId=r,this.toStateId=i,this.edge=o}accept(t){t.visitAddEdgeCommand(this)}execute(){this.saveBackup();const t=this.automaton.states.some(i=>i===this.fromStateId),r=this.automaton.states.some(i=>i===this.toStateId);if(!t||!r)return new Ye(`Cannot add edge. Both ${this.fromStateId} and ${this.toStateId} state IDs have to exist.`);if(this.automaton.deltaFunctionMatrix[this.fromStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId]={}),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]===void 0&&(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId]=[]),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].some(i=>i.equals(this.edge)))return new Ye("Cannot add edge, as it already exists.");if(this.automaton.states.includes(this.edge.inputChar))return new Ye(`Edge cannot contain character ${this.edge.inputChar}, as there is already a state with that name.`);this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].push(this.edge)}}class wC extends fu{constructor(t,r,i,o){super(t);De(this,"edgeId");De(this,"fromStateId");De(this,"toStateId");this.edgeId=o,this.fromStateId=r,this.toStateId=i}accept(t){t.visitRemoveEdgeCommand(this)}execute(){var r,i;const t=(i=(r=this.automaton.deltaFunctionMatrix[this.fromStateId])==null?void 0:r[this.toStateId])==null?void 0:i.findIndex(o=>o.id===this.edgeId);if(t===void 0)return new Ye(`Cannot remove edge ${this.edgeId} because one of its states does not exist.`);if(t===-1)return new Ye(`Cannot remove edge ${this.edgeId}, as it does not exist on states ${this.fromStateId}, ${this.toStateId}.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length>1&&t!==this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].length-1?this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId][t]=this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop():this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId].pop(),console.log(this.automaton.deltaFunctionMatrix[this.fromStateId][this.toStateId])}}class JB extends fu{constructor(t,r,i){super(t);De(this,"edgeId");De(this,"edge");this.edgeId=r,this.edge=i}accept(t){t.visitEditEdgeCommand(this)}execute(){let t="",r="",i=-1;console.log(this.automaton.deltaFunctionMatrix);for(const l in this.automaton.deltaFunctionMatrix){for(const u in this.automaton.deltaFunctionMatrix[l]){const c=this.automaton.deltaFunctionMatrix[l][u].findIndex(f=>f.id===this.edgeId);if(c!==-1){t=l,r=u,i=c;break}}if(i!==-1)break}if(i===-1)return new Ye(`Cannot edit edge ${this.edgeId}, as it does not exist.`);if(this.automaton.states.includes(this.edge.inputChar))return new Ye(`Edge cannot contain character ${this.edge.inputChar}, as there is already a state with that name.`);if(this.automaton.deltaFunctionMatrix[t][r].findIndex(l=>l.inputChar===this.edge.inputChar)!==-1)return new Ye(`An edge already exists for input characters ${this.edge.inputChar} between ${t} and ${r}.`);this.saveBackup(),this.automaton.deltaFunctionMatrix[t][r][i]=this.edge}}class au{constructor(e,t,r,i=V1,o={x:0,y:0},l){De(this,"kind",ft.AUTOMATON);De(this,"mode");De(this,"automatonType");De(this,"visual");De(this,"visitor");De(this,"factory");De(this,"automaton");De(this,"simulation");De(this,"algorithm",!1);De(this,"afterInit",()=>{});this.automatonType=e,this.factory=new BR(e),this.automaton=this.factory.createAutomaton(i),this.visual=new KB(t,i,o),this.visitor=new EC(this.visual),this.mode=r,l!=null&&(this.afterInit=l)}static fromSavedJSON(e,t,r){return new au(e.automaton.automatonType,dg,t,e.automaton.initialStateId,e.visuals.filter(o=>o.id===e.automaton.initialStateId).map(o=>o.position)[0],o=>{console.log(e.visuals),o.automaton.automatonType=e.automaton.automatonType,e.automaton.states.filter(l=>l!==e.automaton.initialStateId).forEach(l=>{o.addState(l,e.visuals.filter(u=>u.id===l).map(u=>u.position)[0])}),e.automaton.finalStateIds.forEach(l=>o.setIsFinalState(l,!0));for(const l in e.automaton.deltaFunctionMatrix)for(const u in e.automaton.deltaFunctionMatrix[l])for(const c in e.automaton.deltaFunctionMatrix[l][u])o.addEdge(l,u,{id:"",inputChar:e.automaton.deltaFunctionMatrix[l][u][c].inputChar}),console.log(`from: ${l}, to: ${u}, edge: ${c}`);r!=null&&r(o),o.fit()})}getCytoscape(){return this.visual.getCytoscape()}callbackAfterInit(e){this.visual.callbackAfterInit(e)}init(){this.visual.init(),this.visual.fit(),this.afterInit(this)}undo(){const e=this.automaton.undo();return e==null&&this.visual.redrawAutomaton(this.automaton),e}fit(){this.visual.fit()}addState(e,t){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");let r=this.checkStateId(e);if(r!==void 0)return r;const i=new Gy(this.automaton,e);if(r=this.automaton.executeCommand(i),r!==void 0)return r;this.visual.addNode(e,t)}removeState(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const t=new ZB(this.automaton,e),r=this.automaton.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}renameState(e,t){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");let r=this.checkStateId(t);if(r!==void 0)return r;const i=new pE(this.automaton,e,t);if(r=this.automaton.executeCommand(i),r!==void 0)return r;i.accept(this.visitor)}setInitialState(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const t=new QB(this.automaton,e),r=this.automaton.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}setIsFinalState(e,t){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const r=new Cg(this.automaton,e,t),i=this.automaton.executeCommand(r);if(i!==void 0)return i;r.accept(this.visitor)}addEdge(e,t,r){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");let i=this.checkEdgeProps(r);if(i!==void 0)return i;const o=this.factory.createEdge(r),l=new Cf(this.automaton,e,t,o);if(i=this.automaton.executeCommand(l),i!==void 0)return i;l.accept(this.visitor)}removeEdge(e,t,r){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const i=new wC(this.automaton,e,t,r),o=this.automaton.executeCommand(i);if(o!==void 0)return o;i.accept(this.visitor)}editEdge(e,t){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");let r=this.checkEdgeProps(t);if(r!==void 0)return r;const i=this.factory.createEdge(t);i.id=e;const o=new JB(this.automaton,e,i);if(r=this.automaton.executeCommand(o),r!==void 0)return r;o.accept(this.visitor)}highlight(e){if(this.mode.mode!==Ht.VISUAL)return new Ye("Operation is only permitted in visual mode.");this.visual.clearHighlights(),this.visual.highlightElements(e)}containsWord(e){return this.automaton.createRunSimulation(e).run()}runStart(e){if(console.log(this.mode.mode),this.mode.mode!==Ht.VISUAL)return new Ye("Operation is only permitted in visual mode.");if(this.algorithm)return new Ye("Cannot start new simulation when an algorithm is in progress.");if(this.simulation!==void 0)return new Ye("Cannot start new simulation when a simulation is already in progress.");this.simulation=this.automaton.createRunSimulation(e),this.visual.highlightElements([this.simulation.configuration.stateId])}runNext(){if(this.mode.mode!==Ht.VISUAL)return new Ye("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ye("Run simulation does not exist. Try starting a simulation first.");const e=new CS(this.simulation),t=this.simulation.executeCommand(e);if(t!==void 0)return t;const r=e.getResult();if(r===void 0)return new Ye("Command result is empty.");this.visual.clearHighlights(),this.visual.highlightElements([r.id,this.simulation.configuration.stateId])}runUndo(){if(this.mode.mode!==Ht.VISUAL)return new Ye("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ye("Run simulation does not exist. Try starting a simulation first.");const e=this.simulation.undo();if(e!==void 0)return new Ye(e.details);this.visual.clearHighlights(),this.visual.highlightElements([this.simulation.configuration.stateId])}runEnd(){if(this.mode.mode!==Ht.VISUAL)return new Ye("Operation is only permitted in visual mode.");if(this.simulation===void 0)return new Ye("Run simulation does not exist. Try starting a simulation first.");this.visual.clearHighlights(),this.simulation=void 0}getRemainingInput(){var e;return(e=this.simulation)==null?void 0:e.configuration.remainingInput}createEdge(e){return this.factory.createEdge(e)}checkStateId(e){if(e.trim().length===0)return new Ye("State ID must contain at least one non-whitespace character.");if(e.charAt(0)=="_")return new Ye("State ID cannot start with an underscore")}checkEdgeProps(e){if(e.inputChar.trim().length===0)return new Ye("Input char must contain at least one non-whitespace character.");if(this.automatonType===Xn.PDA){if(e.readStackChar===void 0||e.writeStackWord===void 0)return new Ye("PDA edge must specify character(s) read from and written to the stack");if(e.readStackChar.trim().length===0||e.writeStackWord.length===0)return new Ye("Read and written stack character(s) must not contain whitespace-only symbols");for(const t in e.writeStackWord)if(t.trim().length===0)return new Ye("Read and written stack character(s) must not contain whitespace-only symbols")}}simulationInProgress(){return this.simulation!==void 0}algorithmInProgress(e){this.algorithm=e}}class cu{constructor(e){De(this,"kind",ft.GRAMMAR);De(this,"grammar");De(this,"backup");this.grammar=e}saveBackup(){this.backup=this.grammar.save()}undo(){this.backup&&this.grammar.restore(this.backup)}}class ql extends cu{constructor(t,r){super(t);De(this,"productionRule");this.productionRule=r}accept(t){t.visitAddProductionRuleCommand(this)}execute(){if(this.grammar.productionRules.includes(this.productionRule))return new Ye(`Cannot add production rule: ${this.productionRule.toString()}: it is already present.`);if(this.grammar.productionRules.some(t=>t.equals(this.productionRule)))return new Ye(`Cannot add production rule: ${this.productionRule.toString()}: it is already present.`);this.saveBackup(),this.grammar.productionRules.push(this.productionRule)}}class jB extends cu{constructor(t,r){super(t);De(this,"productionRuleId");this.productionRuleId=r}accept(t){t.visitRemoveProductionRuleCommand(this)}execute(){const t=this.grammar.productionRules.filter(r=>r.id!==this.productionRuleId);if(t.length===this.grammar.productionRules.length)return new Ye(`Cannot remove production rule ${this.productionRuleId}: production rule is not present.`);this.saveBackup(),this.grammar.productionRules=t}}class e_ extends cu{constructor(t,r,i){super(t);De(this,"productionRuleId");De(this,"productionRule");this.productionRuleId=r,this.productionRule=i}accept(t){t.visitEditProductionRuleCommand(this)}execute(){const t=this.grammar.productionRules.findIndex(r=>r.id===this.productionRuleId);if(t===-1)return new Ye(`Cannot edit production rule ${this.productionRuleId}: production rule is not present.`);if(this.grammar.productionRules.some(r=>r.equals(this.productionRule)))return new Ye(`Cannot replace production rule ${this.productionRuleId} with rule ${this.productionRule.toString()}: it is already present.`);this.saveBackup(),this.grammar.productionRules[t]=this.productionRule}}class t_ extends cu{constructor(t,r){super(t);De(this,"nonterminals");this.nonterminals=r}accept(t){t.visitAddNonterminalsCommand(this)}execute(){for(const t of this.nonterminals){if(this.grammar.terminalSymbols.includes(t))return new Ye(`Cannot add nonterminal symbol ${t}: it is already present as a terminal symbol.`);if(this.grammar.nonTerminalSymbols.includes(t))return new Ye(`Cannot add nonterminal symbol ${t}: it is already present.`);if(t===vr)return new Ye("Cannot add epsilon as nonterminal symbol.")}this.saveBackup();for(const t of this.nonterminals)this.grammar.nonTerminalSymbols.includes(t)||this.grammar.nonTerminalSymbols.push(t)}}class n_ extends cu{constructor(t,r){super(t);De(this,"terminals");this.terminals=r}accept(t){t.visitAddTerminalsCommand(this)}execute(){for(const t of this.terminals){if(this.grammar.nonTerminalSymbols.includes(t))return new Ye(`Cannot add terminal symbol ${t}: it is already present as a nonterminal symbol.`);if(this.grammar.terminalSymbols.includes(t))return new Ye(`Cannot add terminal symbol ${t}: it is already present.`);if(t===vr)return new Ye("Cannot add epsilon as terminal symbol.")}this.saveBackup();for(const t of this.terminals)this.grammar.terminalSymbols.includes(t)||this.grammar.terminalSymbols.push(t)}}class r_ extends cu{constructor(t,r){super(t);De(this,"nonterminal");this.nonterminal=r}accept(t){t.visitSetInitialNonterminalCommand(this)}execute(){if(!this.grammar.nonTerminalSymbols.includes(this.nonterminal))return new Ye(`Cannot set nonterminal symbol ${this.nonterminal} as initial: nonterminal is not present.`);this.saveBackup(),this.grammar.initialNonTerminalSymbol=this.nonterminal}}class a_ extends cu{constructor(t,r){super(t);De(this,"nonterminal");this.nonterminal=r}accept(t){t.visitRemoveNonterminalCommand(this)}execute(){const t=this.grammar.nonTerminalSymbols.findIndex(r=>r===this.nonterminal);if(t===-1)return new Ye(`Cannot remove nonterminal symbol ${this.nonterminal}: nonterminal is not present.`);if(this.nonterminal===this.grammar.initialNonTerminalSymbol)return new Ye(`Cannot remove nonterminal symbol ${this.nonterminal}: it is the initial nonterminal.`);for(const r of this.grammar.productionRules)if(this.nonterminal===r.inputNonTerminal||r.outputSymbols.includes(this.nonterminal))return new Ye(`Cannot remove nonterminal symbol ${this.nonterminal}: it is being used in production rule ${r.toString()}.`);this.saveBackup(),this.grammar.nonTerminalSymbols.length>1&&t!==this.grammar.nonTerminalSymbols.length-1?this.grammar.nonTerminalSymbols[t]=this.grammar.nonTerminalSymbols.pop():this.grammar.nonTerminalSymbols.pop()}}class i_ extends cu{constructor(t,r){super(t);De(this,"terminal");this.terminal=r}accept(t){t.visitRemoveTerminalCommand(this)}execute(){const t=this.grammar.terminalSymbols.findIndex(r=>r===this.terminal);if(t===-1)return new Ye(`Cannot remove terminal symbol ${this.terminal}: terminal is not present.`);for(const r of this.grammar.productionRules)if(r.outputSymbols.includes(this.terminal))return new Ye(`Cannot remove terminal symbol ${this.terminal}: it is being used in production rule ${r.toString()}.`);this.saveBackup(),this.grammar.terminalSymbols.length>1&&t!==this.grammar.terminalSymbols.length-1?this.grammar.terminalSymbols[t]=this.grammar.terminalSymbols.pop():this.grammar.terminalSymbols.pop()}}class mE{constructor(){De(this,"production_rule_id_increment",0)}nextProductionRuleString(){return`_production_rule_${this.production_rule_id_increment++}`}}class o_ extends mE{constructor(t){super();De(this,"internalFactory");if(t===Ir.REGULAR)this.internalFactory=new s_;else if(t===Ir.CONTEXT_FREE)this.internalFactory=new l_;else{const r=Object.values(Ir);throw new Error(`Unsupported automaton type: ${t}. Supported types are ${JSON.stringify(r)}.`)}}createGrammar(t,r,i){return this.internalFactory.createGrammar(t,r,i)}createProductionRule(t,r,i){if(t===null)throw new Error("Cannot add production rule: input non-terminal is empty.");if(r===void 0)throw new Error("Cannot add production rule: output symbols are empty.");if(!i.hasNonTerminalSymbol(t))throw new Error(`Cannot add production rule: non-terminal ${t} is not present in grammar's non-terminals ${i.nonTerminalSymbols}`);for(const o of r)if(!i.hasNonTerminalSymbol(o)&&!i.hasTerminalSymbol(o)&&(o!==vr||r.length!==1))throw new Error(`Cannot add production rule: output symbol ${o} is not present in grammar's non-terminals ${i.nonTerminalSymbols} or terminals ${i.terminalSymbols}`);return this.internalFactory.createProductionRule(t,r,i)}}class s_ extends mE{createGrammar(e,t,r){return new Y1(Ir.REGULAR,e,t,r)}createProductionRule(e,t,r){const i=t.slice(-1)[0],o=i===vr,l=r.hasTerminalSymbol(i),u=r.hasNonTerminalSymbol(i),c=t.slice(0,-1);let f=!0;for(const g of c)f&&(f=r.hasTerminalSymbol(g));if(!(f&&(l||u)||o))throw new Error(`Cannot add production rule: production rule ${e} -> ${t.join("")} is not a regular rule.`);return hg.createByFactory(this.nextProductionRuleString(),e,t)}}class l_ extends mE{createGrammar(e,t,r){return new Y1(Ir.CONTEXT_FREE,e,t,r)}createProductionRule(e,t,r){if(r===null)throw"Fuck eslint when so that i can successfully commit this shit.";return hg.createByFactory(this.nextProductionRuleString(),e,t)}}var $b={exports:{}},Wv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function u_(){if(ST)return Wv;ST=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Wv.Fragment=e,Wv.jsx=t,Wv.jsxs=t,Wv}var xT;function f_(){return xT||(xT=1,$b.exports=u_()),$b.exports}var yE=f_();const ve=yE.jsx,Ot=yE.jsxs,ia=yE.Fragment;class c_{constructor(){De(this,"kind",ft.GRAMMAR);De(this,"grammar");De(this,"representation",ve(ia,{}));De(this,"existingRuleIds",[]);De(this,"highlightedRuleIds",new Set);De(this,"highlightedSymbols",new Set);De(this,"refresher")}setGrammar(e){this.grammar=e}display(){return this.representation}storeRuleId(e){this.existingRuleIds.push(e)}removeRuleId(e){this.existingRuleIds=this.existingRuleIds.filter(t=>t!==e)}getRuleIdByIndex(e){var t;return(t=this.existingRuleIds)==null?void 0:t[e]}highlight(e){var t;for(const r of e)r.charAt(0)==="_"?this.highlightedRuleIds.add(r):this.highlightedSymbols.add(r);this.refresh(),(t=this.refresher)==null||t.call(this,this.display())}clearHighlights(){var e;this.highlightedRuleIds.clear(),this.highlightedSymbols.clear(),this.refresh(),(e=this.refresher)==null||e.call(this,this.display())}refresh(){if(console.log("refreshing grammar"),!this.grammar){this.representation=ve(ia,{children:"No grammar set."});return}const e=ve("span",{children:this.grammar.nonTerminalSymbols.map((o,l,u)=>Ot("span",{className:this.highlightedSymbols.has(o)?"highlight":"",children:[o,l<u.length-1?", ":""]},`nt-${o}`))}),t=ve("span",{children:this.grammar.terminalSymbols.map((o,l,u)=>Ot("span",{className:this.highlightedSymbols.has(o)?"highlight":"",children:[o,l<u.length-1?", ":""]},`t-${o}`))}),r=this.grammar.initialNonTerminalSymbol,i=this.grammar.productionRules.map(o=>{const l=`${o.inputNonTerminal}  ${o.outputSymbols.join(" ")}`,u=this.highlightedRuleIds.has(o.id);return ve("div",{className:u?"highlight":"",children:l},`g-rule-visual-${o.id}`)});this.representation=Ot("div",{children:[Ot("div",{children:[ve("strong",{children:"Non-terminals:"})," ",e]}),Ot("div",{children:[ve("strong",{children:"Terminals:"})," ",t]}),Ot("div",{children:[ve("strong",{children:"Initial symbol:"})," ",r]}),ve("div",{children:ve("strong",{children:"Production Rules:"})}),i]})}}class zd{constructor(e,t,r){De(this,"kind",ft.GRAMMAR);De(this,"mode");De(this,"type");De(this,"factory");De(this,"grammar");De(this,"simulation");De(this,"visual");De(this,"visitor");this.type=e,this.factory=new o_(e),this.grammar=this.factory.createGrammar((r==null?void 0:r.nonTerminalSymbols)??[jE],(r==null?void 0:r.terminalSymbols)??[],(r==null?void 0:r.initialNonTerminalSymbol)??jE),this.visual=new c_,this.visual.setGrammar(this.grammar),this.visitor=new EC(this.visual),this.mode=t,r!=null&&r.productionRules.forEach(i=>this.addProductionRule(i.inputNonTerminal,i.outputSymbols))}static fromSavedJSON(e){return new zd(e.type,{mode:Ht.EDIT},new Y1(e.grammar.grammarType,e.grammar.nonTerminalSymbols,e.grammar.terminalSymbols,e.grammar.initialNonTerminalSymbol,e.grammar.productionRules))}display(){return this.visual.display()}addProductionRule(e,t){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");try{const r=this.factory.createProductionRule(e,t,this.grammar),i=new ql(this.grammar,r),o=this.grammar.executeCommand(i);if(o!==void 0)return o;i.accept(this.visitor)}catch(r){if(r instanceof Error)return new Ye(r.message)}}editProductionRule(e,t,r){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");try{const i=this.factory.createProductionRule(t,r,this.grammar),o=new e_(this.grammar,e,i),l=this.grammar.executeCommand(o);if(l!==void 0)return l;o.accept(this.visitor)}catch(i){if(i instanceof Error)return new Ye(i.message)}}removeProductionRule(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const t=new jB(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}addNonterminals(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");for(const i of e){const o=i.trim();if(o.length===0)return new Ye("Nonterminal symbol must contain at least one non-whitespace character.");if(o.charAt(0)==="_")return new Ye("Nonterminal symbol cannot start with an underscore.");if(o.includes(" "))return new Ye("Nonterminal symbol must not contain spaces.")}const t=new t_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}addTerminals(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");for(const i of e){const o=i.trim();if(o.length===0)return new Ye("Terminal symbol must contain at least one non-whitespace character.");if(o.charAt(0)==="_")return new Ye("Terminal symbol cannot start with an underscore.");if(o.includes(" "))return new Ye("Terminal symbol must not contain spaces.")}const t=new n_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}removeNonterminal(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const t=new a_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}removeTerminal(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const t=new i_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}setInitialNonterminal(e){if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const t=new r_(this.grammar,e),r=this.grammar.executeCommand(t);if(r!==void 0)return r;t.accept(this.visitor)}undo(){var t,r;if(this.mode.mode!==Ht.EDIT)return new Ye("Operation is only permitted in edit mode.");const e=this.grammar.undo();return this.visual.refresh(),(r=(t=this.visual).refresher)==null||r.call(t,this.visual.display()),e}highlight(e){if(this.mode.mode!==Ht.VISUAL)return new Ye("Operation is only permitted in visual mode.");this.visual.clearHighlights(),this.visual.highlight(e)}simulateParsing(e){return this.mode.mode!==Ht.VISUAL?new Ye("Operation is only permitted in visual mode."):new Ye(`Not implemented. ${e}`)}getCytoscape(){}}var Ht=(n=>(n[n.EDIT=0]="EDIT",n[n.VISUAL=1]="VISUAL",n))(Ht||{}),ft=(n=>(n[n.GRAMMAR=0]="GRAMMAR",n[n.AUTOMATON=1]="AUTOMATON",n))(ft||{}),So=(n=>(n[n.AUTOMATON_FINITE=0]="AUTOMATON_FINITE",n[n.GRAMMAR_REGULAR=1]="GRAMMAR_REGULAR",n[n.GRAMMAR_PHRASAL=2]="GRAMMAR_PHRASAL",n))(So||{});class Kb{constructor(){De(this,"mode",0)}}class TC{constructor(){De(this,"mode",new Kb);De(this,"primary");De(this,"secondary");De(this,"algorithm");De(this,"setMode");De(this,"setPrimaryType");De(this,"setSecondaryType");this.mode=new Kb,this.primary=new au(Xn.FINITE,dg,this.mode)}setCorePrimary(e){this.mode=new Kb,this.primary=e}newWindow(e){var t,r,i,o;if(e===0){const l=this.primary.kind===1;this.primary=new au(Xn.FINITE,dg,this.mode),l&&this.primary.init(),(t=this.setPrimaryType)==null||t.call(this,this.primary)}else this.primary=new zd(e===1?Ir.REGULAR:Ir.CONTEXT_FREE,this.mode),(r=this.setPrimaryType)==null||r.call(this,this.primary),this.primary.visual.refresh(),(o=(i=this.primary.visual).refresher)==null||o.call(i,this.primary.display());this.mode.mode===1&&this.switchToEditMode(!1)}getCytoscape(){return this.primary.getCytoscape()}switchToEditMode(e){var t;if(this.mode.mode===0)return new Ye("Cannot switch to edit mode when already in edit mode.");this.primary.kind===1&&this.primary.runEnd(),this.algorithmDelete(e),this.mode.mode=0,(t=this.setMode)==null||t.call(this,this.mode.mode)}switchToVisualMode(){var e;if(this.mode.mode===1)return new Ye("Cannot switch to visual mode when already in visual mode.");this.mode.mode=1,(e=this.setMode)==null||e.call(this,this.mode.mode)}transform(){if(this.mode.mode===0)return new Ye("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ye("Cannot simulate algorithm step before start.");try{let e=this.algorithm.next();if(e===void 0)return this.primary.highlight([]),new Ye("Algorithm is already completed.");for(;e!==void 0;)this.algorithmStep(e),e=this.algorithm.next();this.primary.highlight([])}catch(e){if(e instanceof Error)return new Ye(e.message)}}algorithmStart(e){var t,r;if(this.mode.mode===0)return new Ye("Cannot simulate algorithm in edit mode.");if(this.algorithm!==void 0)return new Ye("Cannot start new algorithm when an algorithm is already in progress.");if(this.primary.kind===1&&this.primary.simulationInProgress())return new Ye("Cannot start algorithm when a simulation is in progress.");try{this.algorithm=e,this.secondary=e.init(this.mode)}catch(i){if(i instanceof Error)return this.algorithmDelete(!1),new Ye(i.message)}(t=this.setPrimaryType)==null||t.call(this,this.primary),(r=this.setSecondaryType)==null||r.call(this,this.secondary),this.primary.kind===1&&this.primary.algorithmInProgress(!0)}algorithmNext(){if(this.mode.mode===0)return new Ye("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ye("Cannot simulate algorithm step before start.");try{const e=this.algorithm.next();if(e===void 0)return this.primary.highlight([]),new Ye("Algorithm is already completed.");this.algorithmStep(e)}catch(e){if(e instanceof Error)return new Ye(e.message)}}algorithmUndo(){var t,r,i,o;if(this.mode.mode===0)return new Ye("Cannot simulate algorithm in edit mode.");if(this.algorithm===void 0)return new Ye("Cannot undo algorithm step before start.");const e=this.algorithm.undo();if(e===void 0)if(this.algorithm.outputType===void 0)switch(this.primary.kind){case 0:this.primary.visual.refresh(),(r=(t=this.primary.visual).refresher)==null||r.call(t,this.primary.visual.display());break;case 1:this.primary.visual.redrawAutomaton(this.primary.automaton);break}else{if(this.secondary===void 0)return new Ye("Second window does not exist.");switch(this.primary.highlight([]),this.secondary.kind){case 0:this.secondary.visual.refresh(),(o=(i=this.secondary.visual).refresher)==null||o.call(i,this.secondary.visual.display());break;case 1:this.secondary.visual.redrawAutomaton(this.secondary.automaton);break}}return e}algorithmDelete(e){var t,r;if((t=this.setSecondaryType)==null||t.call(this,void 0),e){if(this.secondary===void 0)return new Ye("Cannot keep second window, because the window does not exit.");this.moveWindows()}this.primary.kind===1&&this.primary.algorithmInProgress(!1),(r=this.setPrimaryType)==null||r.call(this,this.primary),this.primary.highlight([]),this.secondary=void 0,this.algorithm=void 0}moveWindows(){var e,t,r;if(this.primary.kind===1&&((e=this.secondary)==null?void 0:e.kind)===1){const i=this.secondary.visual.getElements();this.primary=this.secondary,this.primary.visual.reinitialize(i),this.primary.visual.init()}else if(this.primary.kind===0&&((t=this.secondary)==null?void 0:t.kind)===1){const i=this.secondary.visual.getElements();(r=this.setPrimaryType)==null||r.call(this,this.secondary),this.primary=this.secondary,this.primary.visual.reinitialize(i)}else this.primary=this.secondary}algorithmStep(e){if(this.algorithm.outputType===void 0){switch(this.primary.kind){case 0:if(e.command.kind!==0)return new Ye("Automaton command is not applicable to grammar.");this.primary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new Ye("Grammar command is not applicable to automaton.");this.primary.automaton.executeCommand(e.command);break}e.command.accept(this.primary.visitor)}else{if(this.secondary===void 0)return new Ye("Second window does not exist.");switch(this.primary.highlight(e.highlight),this.secondary.kind){case 0:if(e.command.kind!==0)return new Ye("Automaton command is not applicable to grammar.");this.secondary.grammar.executeCommand(e.command);break;case 1:if(e.command.kind!==1)return new Ye("Grammar command is not applicable to automaton.");this.secondary.automaton.executeCommand(e.command);break}e.command.accept(this.secondary.visitor)}}}var Zb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var CT;function d_(){return CT||(CT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Zb)),Zb.exports}var h_=d_();const sn=fs(h_);function L1(){return L1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},L1.apply(null,arguments)}function SC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Qb,AT;function v_(){if(AT)return Qb;AT=1;var n=function(e,t,r,i,o,l,u,c){if(!e){var f;if(t===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,i,o,l,u,c],g=0;f=new Error(t.replace(/%s/g,function(){return v[g++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return Qb=n,Qb}var g_=v_();const p_=fs(g_);function RT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function m_(n){var e=y_(n,"string");return typeof e=="symbol"?e:String(e)}function y_(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function b_(n,e,t){var r=fe.useRef(n!==void 0),i=fe.useState(e),o=i[0],l=i[1],u=n!==void 0,c=r.current;return r.current=u,!u&&c&&o!==e&&l(e),[u?n:o,fe.useCallback(function(f){for(var v=arguments.length,g=new Array(v>1?v-1:0),b=1;b<v;b++)g[b-1]=arguments[b];t&&t.apply(void 0,[f].concat(g)),l(f)},[t])]}function xC(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[RT(r)],u=o[r],c=SC(o,[RT(r),r].map(m_)),f=e[r],v=b_(u,l,n[f]),g=v[0],b=v[1];return L1({},c,(i={},i[r]=g,i[f]=b,i))},n)}function I1(n,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},I1(n,e)}function E_(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,I1(n,e)}function CC(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function AC(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function RC(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}CC.__suppressDeprecationWarning=!0;AC.__suppressDeprecationWarning=!0;RC.__suppressDeprecationWarning=!0;function w_(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=CC,e.componentWillReceiveProps=AC),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=RC;var u=e.componentDidUpdate;e.componentDidUpdate=function(f,v,g){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;u.call(this,f,v,b)}}return n}const T_=Object.freeze(Object.defineProperty({__proto__:null,polyfill:w_},Symbol.toStringTag,{value:"Module"})),MC=["xxl","xl","lg","md","sm","xs"],OC="xs",zg=fe.createContext({prefixes:{},breakpoints:MC,minBreakpoint:OC}),{Consumer:p5,Provider:m5}=zg;function Nn(n,e){const{prefixes:t}=fe.useContext(zg);return n||t[e]||e}function DC(){const{breakpoints:n}=fe.useContext(zg);return n}function NC(){const{minBreakpoint:n}=fe.useContext(zg);return n}function LC(){const{dir:n}=fe.useContext(zg);return n==="rtl"}function Gg(n){return n&&n.ownerDocument||document}function S_(n){var e=Gg(n);return e&&e.defaultView||window}function x_(n,e){return S_(n).getComputedStyle(n,e)}var C_=/([A-Z])/g;function A_(n){return n.replace(C_,"-$1").toLowerCase()}var R_=/^ms-/;function oy(n){return A_(n).replace(R_,"-ms-")}var M_=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function O_(n){return!!(n&&M_.test(n))}function Af(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(oy(e))||x_(n).getPropertyValue(oy(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(oy(i)):O_(i)?r+=i+"("+o+") ":t+=oy(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Jb={exports:{}},jb,MT;function D_(){if(MT)return jb;MT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jb=n,jb}var e1,OT;function N_(){if(OT)return e1;OT=1;var n=D_();function e(){}function t(){}return t.resetWarningCache=e,e1=function(){function r(l,u,c,f,v,g){if(g!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},e1}var DT;function bE(){return DT||(DT=1,Jb.exports=N_()()),Jb.exports}var L_=bE();const Rn=fs(L_);var I_=H1();const pd=fs(I_),NT={disabled:!1},IC=$a.createContext(null);var B_=function(e){return e.scrollTop},rg="unmounted",wf="exited",Hl="entering",Sf="entered",B1="exiting",Ks=function(n){E_(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?u?(c=wf,o.appearStatus=Hl):c=Sf:r.unmountOnExit||r.mountOnEnter?c=rg:c=wf,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===rg?{status:wf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Hl&&l!==Sf&&(o=Hl):(l===Hl||l===Sf)&&(o=B1)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Hl){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:pd.findDOMNode(this);l&&B_(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wf&&this.setState({status:rg})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,c=this.props.nodeRef?[u]:[pd.findDOMNode(this),u],f=c[0],v=c[1],g=this.getTimeouts(),b=u?g.appear:g.enter;if(!i&&!l||NT.disabled){this.safeSetState({status:Sf},function(){o.props.onEntered(f)});return}this.props.onEnter(f,v),this.safeSetState({status:Hl},function(){o.props.onEntering(f,v),o.onTransitionEnd(b,function(){o.safeSetState({status:Sf},function(){o.props.onEntered(f,v)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:pd.findDOMNode(this);if(!o||NT.disabled){this.safeSetState({status:wf},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:B1},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:wf},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:pd.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=c[0],v=c[1];this.props.addEndListener(f,v)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===rg)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=SC(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $a.createElement(IC.Provider,{value:null},typeof l=="function"?l(i,u):$a.cloneElement($a.Children.only(l),u))},e}($a.Component);Ks.contextType=IC;Ks.propTypes={};function ud(){}Ks.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ud,onEntering:ud,onEntered:ud,onExit:ud,onExiting:ud,onExited:ud};Ks.UNMOUNTED=rg;Ks.EXITED=wf;Ks.ENTERING=Hl;Ks.ENTERED=Sf;Ks.EXITING=B1;function __(n){return n.code==="Escape"||n.keyCode===27}function P_(){const n=fe.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function d0(n){if(!n||typeof n=="function")return null;const{major:e}=P_();return e>=19?n.props.ref:n.ref}const Gd=!!(typeof window<"u"&&window.document&&window.document.createElement);var _1=!1,P1=!1;try{var t1={get passive(){return _1=!0},get once(){return P1=_1=!0}};Gd&&(window.addEventListener("test",t1,t1),window.removeEventListener("test",t1,!0))}catch{}function EE(n,e,t,r){if(r&&typeof r!="boolean"&&!P1){var i=r.once,o=r.capture,l=t;!P1&&i&&(l=t.__once||function u(c){this.removeEventListener(e,u,o),t.call(this,c)},t.__once=l),n.addEventListener(e,l,_1?r:o)}n.addEventListener(e,t,r)}function F1(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function $l(n,e,t,r){return EE(n,e,t,r),function(){F1(n,e,t,r)}}function F_(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function k_(n){var e=Af(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function U_(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||F_(n,"transitionend",!0)},e+t),o=$l(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function BC(n,e,t,r){t==null&&(t=k_(n)||0);var i=U_(n,t,r),o=$l(n,"transitionend",e);return function(){i(),o()}}function LT(n,e){const t=Af(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function z_(n,e){const t=LT(n,"transitionDuration"),r=LT(n,"transitionDelay"),i=BC(n,o=>{o.target===n&&(i(),e(o))},t+r)}function G_(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function H_(n){n.offsetHeight}const IT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function V_(n,e){const t=IT(n),r=IT(e);return i=>{t&&t(i),r&&r(i)}}function h0(n,e){return fe.useMemo(()=>V_(n,e),[n,e])}function Y_(n){return n&&"setState"in n?pd.findDOMNode(n):n??null}const _C=$a.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:c,...f},v)=>{const g=fe.useRef(null),b=h0(g,c),y=z=>{b(Y_(z))},E=z=>N=>{z&&g.current&&z(g.current,N)},x=fe.useCallback(E(n),[n]),T=fe.useCallback(E(e),[e]),w=fe.useCallback(E(t),[t]),R=fe.useCallback(E(r),[r]),A=fe.useCallback(E(i),[i]),O=fe.useCallback(E(o),[o]),B=fe.useCallback(E(l),[l]);return ve(Ks,{ref:v,...f,onEnter:x,onEntered:w,onEntering:T,onExit:R,onExited:O,onExiting:A,addEndListener:B,nodeRef:g,children:typeof u=="function"?(z,N)=>u(z,{...N,ref:y}):$a.cloneElement(u,{ref:y})})});_C.displayName="TransitionWrapper";function q_(n){const e=fe.useRef(n);return fe.useEffect(()=>{e.current=n},[n]),e}function Hy(n){const e=q_(n);return fe.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const X_=n=>fe.forwardRef((e,t)=>ve("div",{...e,ref:t,className:sn(e.className,n)}));function W_(){return fe.useState(null)}function $_(n){const e=fe.useRef(n);return fe.useEffect(()=>{e.current=n},[n]),e}function Da(n){const e=$_(n);return fe.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function K_(n,e,t,r=!1){const i=Da(t);fe.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}function PC(){const n=fe.useRef(!0),e=fe.useRef(()=>n.current);return fe.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function FC(n){const e=fe.useRef(null);return fe.useEffect(()=>{e.current=n}),e.current}const Z_=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Q_=typeof document<"u",BT=Q_||Z_?fe.useLayoutEffect:fe.useEffect,J_=["as","disabled"];function j_(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function eP(n){return!n||n.trim()==="#"}function wE({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:u=0,type:c}){n||(t!=null||r!=null||i!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:c||"button",disabled:e},f];const v=b=>{if((e||n==="a"&&eP(t))&&b.preventDefault(),e){b.stopPropagation();return}l==null||l(b)},g=b=>{b.key===" "&&(b.preventDefault(),v(b))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:v,onKeyDown:g},f]}const kC=fe.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=j_(n,J_);const[o,{tagName:l}]=wE(Object.assign({tagName:t,disabled:r},i));return ve(l,Object.assign({},i,o,{ref:e}))});kC.displayName="Button";const tP=["onKeyDown"];function nP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function rP(n){return!n||n.trim()==="#"}const UC=fe.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=nP(n,tP);const[i]=wE(Object.assign({tagName:"a"},r)),o=Da(l=>{i.onKeyDown(l),t==null||t(l)});return rP(r.href)||r.role==="button"?ve("a",Object.assign({ref:e},r,i,{onKeyDown:o})):ve("a",Object.assign({ref:e},r,{onKeyDown:t}))});UC.displayName="Anchor";const aP={[Hl]:"show",[Sf]:"show"},TE=fe.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=fe.useCallback((c,f)=>{H_(c),r==null||r(c,f)},[r]);return ve(_C,{ref:o,addEndListener:z_,...l,onEnter:u,childRef:d0(e),children:(c,f)=>fe.cloneElement(e,{...f,className:sn("fade",n,e.props.className,aP[c],t[c])})})});TE.displayName="Fade";const iP={"aria-label":Rn.string,onClick:Rn.func,variant:Rn.oneOf(["white"])},SE=fe.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>ve("button",{ref:i,type:"button",className:sn("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));SE.displayName="CloseButton";SE.propTypes=iP;const Ag=fe.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...u},c)=>{const f=Nn(e,"btn"),[v,{tagName:g}]=wE({tagName:n,disabled:o,...u});return ve(g,{...v,...u,ref:c,disabled:o,className:sn(l,f,i&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,u.href&&o&&"disabled")})});Ag.displayName="Button";const zC=fe.forwardRef(({bsPrefix:n,size:e,vertical:t=!1,className:r,role:i="group",as:o="div",...l},u)=>{const c=Nn(n,"btn-group");let f=c;return t&&(f=`${c}-vertical`),ve(o,{...l,ref:u,role:i,className:sn(r,f,e&&`${c}-${e}`)})});zC.displayName="ButtonGroup";function oP(n){const e=fe.useRef(n);return e.current=n,e}function sP(n){const e=oP(n);fe.useEffect(()=>()=>e.current(),[])}function lP(n,e){let t=0;return fe.Children.map(n,r=>fe.isValidElement(r)?e(r,t++):r)}function uP(n,e){return fe.Children.toArray(n).some(t=>fe.isValidElement(t)&&t.type===e)}function fP({as:n,bsPrefix:e,className:t,...r}){e=Nn(e,"col");const i=DC(),o=NC(),l=[],u=[];return i.forEach(c=>{const f=r[c];delete r[c];let v,g,b;typeof f=="object"&&f!=null?{span:v,offset:g,order:b}=f:v=f;const y=c!==o?`-${c}`:"";v&&l.push(v===!0?`${e}${y}`:`${e}${y}-${v}`),b!=null&&u.push(`order${y}-${b}`),g!=null&&u.push(`offset${y}-${g}`)}),[{...r,className:sn(t,...l,...u)},{as:n,bsPrefix:e,spans:l}]}const GC=fe.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=fP(n);return ve(i,{...r,ref:e,className:sn(t,!l.length&&o)})});GC.displayName="Col";var cP=Function.prototype.bind.call(Function.prototype.call,[].slice);function Vl(n,e){return cP(n.querySelectorAll(e))}function dP(n,e,t){const r=fe.useRef(n!==void 0),[i,o]=fe.useState(e),l=n!==void 0,u=r.current;return r.current=l,!l&&u&&i!==e&&o(e),[l?n:i,fe.useCallback((...c)=>{const[f,...v]=c;let g=t==null?void 0:t(f,...v);return o(f),g},[t])]}function hP(){const[,n]=fe.useReducer(e=>e+1,0);return n}const v0=fe.createContext(null);var _T=Object.prototype.hasOwnProperty;function PT(n,e,t){for(t of n.keys())if(lg(t,e))return t}function lg(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&lg(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=PT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=PT(e,i),!i)||!lg(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(_T.call(n,t)&&++r&&!_T.call(e,t)||!(t in e)||!lg(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function vP(n){const e=PC();return[n[0],fe.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Ka="top",Xi="bottom",Wi="right",Za="left",xE="auto",Hg=[Ka,Xi,Wi,Za],Ad="start",Rg="end",gP="clippingParents",HC="viewport",$v="popper",pP="reference",FT=Hg.reduce(function(n,e){return n.concat([e+"-"+Ad,e+"-"+Rg])},[]),VC=[].concat(Hg,[xE]).reduce(function(n,e){return n.concat([e,e+"-"+Ad,e+"-"+Rg])},[]),mP="beforeRead",yP="read",bP="afterRead",EP="beforeMain",wP="main",TP="afterMain",SP="beforeWrite",xP="write",CP="afterWrite",AP=[mP,yP,bP,EP,wP,TP,SP,xP,CP];function ss(n){return n.split("-")[0]}function wi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Pf(n){var e=wi(n).Element;return n instanceof e||n instanceof Element}function ls(n){var e=wi(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function CE(n){if(typeof ShadowRoot>"u")return!1;var e=wi(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Rf=Math.max,Vy=Math.min,Rd=Math.round;function k1(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function YC(){return!/^((?!chrome|android).)*safari/i.test(k1())}function Md(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ls(n)&&(i=n.offsetWidth>0&&Rd(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Rd(r.height)/n.offsetHeight||1);var l=Pf(n)?wi(n):window,u=l.visualViewport,c=!YC()&&t,f=(r.left+(c&&u?u.offsetLeft:0))/i,v=(r.top+(c&&u?u.offsetTop:0))/o,g=r.width/i,b=r.height/o;return{width:g,height:b,top:v,right:f+g,bottom:v+b,left:f,x:f,y:v}}function AE(n){var e=Md(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function qC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&CE(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function iu(n){return n?(n.nodeName||"").toLowerCase():null}function Ys(n){return wi(n).getComputedStyle(n)}function RP(n){return["table","td","th"].indexOf(iu(n))>=0}function du(n){return((Pf(n)?n.ownerDocument:n.document)||window.document).documentElement}function g0(n){return iu(n)==="html"?n:n.assignedSlot||n.parentNode||(CE(n)?n.host:null)||du(n)}function kT(n){return!ls(n)||Ys(n).position==="fixed"?null:n.offsetParent}function MP(n){var e=/firefox/i.test(k1()),t=/Trident/i.test(k1());if(t&&ls(n)){var r=Ys(n);if(r.position==="fixed")return null}var i=g0(n);for(CE(i)&&(i=i.host);ls(i)&&["html","body"].indexOf(iu(i))<0;){var o=Ys(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Vg(n){for(var e=wi(n),t=kT(n);t&&RP(t)&&Ys(t).position==="static";)t=kT(t);return t&&(iu(t)==="html"||iu(t)==="body"&&Ys(t).position==="static")?e:t||MP(n)||e}function RE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ug(n,e,t){return Rf(n,Vy(e,t))}function OP(n,e,t){var r=ug(n,e,t);return r>t?t:r}function XC(){return{top:0,right:0,bottom:0,left:0}}function WC(n){return Object.assign({},XC(),n)}function $C(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var DP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,WC(typeof e!="number"?e:$C(e,Hg))};function NP(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,u=ss(t.placement),c=RE(u),f=[Za,Wi].indexOf(u)>=0,v=f?"height":"width";if(!(!o||!l)){var g=DP(i.padding,t),b=AE(o),y=c==="y"?Ka:Za,E=c==="y"?Xi:Wi,x=t.rects.reference[v]+t.rects.reference[c]-l[c]-t.rects.popper[v],T=l[c]-t.rects.reference[c],w=Vg(o),R=w?c==="y"?w.clientHeight||0:w.clientWidth||0:0,A=x/2-T/2,O=g[y],B=R-b[v]-g[E],z=R/2-b[v]/2+A,N=ug(O,z,B),U=c;t.modifiersData[r]=(e={},e[U]=N,e.centerOffset=N-z,e)}}function LP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||qC(e.elements.popper,i)&&(e.elements.arrow=i))}const IP={name:"arrow",enabled:!0,phase:"main",fn:NP,effect:LP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Od(n){return n.split("-")[1]}var BP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _P(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Rd(t*i)/i||0,y:Rd(r*i)/i||0}}function UT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,u=n.position,c=n.gpuAcceleration,f=n.adaptive,v=n.roundOffsets,g=n.isFixed,b=l.x,y=b===void 0?0:b,E=l.y,x=E===void 0?0:E,T=typeof v=="function"?v({x:y,y:x}):{x:y,y:x};y=T.x,x=T.y;var w=l.hasOwnProperty("x"),R=l.hasOwnProperty("y"),A=Za,O=Ka,B=window;if(f){var z=Vg(t),N="clientHeight",U="clientWidth";if(z===wi(t)&&(z=du(t),Ys(z).position!=="static"&&u==="absolute"&&(N="scrollHeight",U="scrollWidth")),z=z,i===Ka||(i===Za||i===Wi)&&o===Rg){O=Xi;var F=g&&z===B&&B.visualViewport?B.visualViewport.height:z[N];x-=F-r.height,x*=c?1:-1}if(i===Za||(i===Ka||i===Xi)&&o===Rg){A=Wi;var V=g&&z===B&&B.visualViewport?B.visualViewport.width:z[U];y-=V-r.width,y*=c?1:-1}}var Y=Object.assign({position:u},f&&BP),H=v===!0?_P({x:y,y:x},wi(t)):{x:y,y:x};if(y=H.x,x=H.y,c){var $;return Object.assign({},Y,($={},$[O]=R?"0":"",$[A]=w?"0":"",$.transform=(B.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",$))}return Object.assign({},Y,(e={},e[O]=R?x+"px":"",e[A]=w?y+"px":"",e.transform="",e))}function PP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,u=t.roundOffsets,c=u===void 0?!0:u,f={placement:ss(e.placement),variation:Od(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UT(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UT(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const FP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PP,data:{}};var sy={passive:!0};function kP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,c=wi(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(v){v.addEventListener("scroll",t.update,sy)}),u&&c.addEventListener("resize",t.update,sy),function(){o&&f.forEach(function(v){v.removeEventListener("scroll",t.update,sy)}),u&&c.removeEventListener("resize",t.update,sy)}}const UP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kP,data:{}};var zP={left:"right",right:"left",bottom:"top",top:"bottom"};function Ay(n){return n.replace(/left|right|bottom|top/g,function(e){return zP[e]})}var GP={start:"end",end:"start"};function zT(n){return n.replace(/start|end/g,function(e){return GP[e]})}function ME(n){var e=wi(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function OE(n){return Md(du(n)).left+ME(n).scrollLeft}function HP(n,e){var t=wi(n),r=du(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){o=i.width,l=i.height;var f=YC();(f||!f&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:o,height:l,x:u+OE(n),y:c}}function VP(n){var e,t=du(n),r=ME(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Rf(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Rf(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+OE(n),c=-r.scrollTop;return Ys(i||t).direction==="rtl"&&(u+=Rf(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:u,y:c}}function DE(n){var e=Ys(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function KC(n){return["html","body","#document"].indexOf(iu(n))>=0?n.ownerDocument.body:ls(n)&&DE(n)?n:KC(g0(n))}function fg(n,e){var t;e===void 0&&(e=[]);var r=KC(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=wi(r),l=i?[o].concat(o.visualViewport||[],DE(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(fg(g0(l)))}function U1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function YP(n,e){var t=Md(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function GT(n,e,t){return e===HC?U1(HP(n,t)):Pf(e)?YP(e,t):U1(VP(du(n)))}function qP(n){var e=fg(g0(n)),t=["absolute","fixed"].indexOf(Ys(n).position)>=0,r=t&&ls(n)?Vg(n):n;return Pf(r)?e.filter(function(i){return Pf(i)&&qC(i,r)&&iu(i)!=="body"}):[]}function XP(n,e,t,r){var i=e==="clippingParents"?qP(n):[].concat(e),o=[].concat(i,[t]),l=o[0],u=o.reduce(function(c,f){var v=GT(n,f,r);return c.top=Rf(v.top,c.top),c.right=Vy(v.right,c.right),c.bottom=Vy(v.bottom,c.bottom),c.left=Rf(v.left,c.left),c},GT(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function ZC(n){var e=n.reference,t=n.element,r=n.placement,i=r?ss(r):null,o=r?Od(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,c;switch(i){case Ka:c={x:l,y:e.y-t.height};break;case Xi:c={x:l,y:e.y+e.height};break;case Wi:c={x:e.x+e.width,y:u};break;case Za:c={x:e.x-t.width,y:u};break;default:c={x:e.x,y:e.y}}var f=i?RE(i):null;if(f!=null){var v=f==="y"?"height":"width";switch(o){case Ad:c[f]=c[f]-(e[v]/2-t[v]/2);break;case Rg:c[f]=c[f]+(e[v]/2-t[v]/2);break}}return c}function Mg(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,u=t.boundary,c=u===void 0?gP:u,f=t.rootBoundary,v=f===void 0?HC:f,g=t.elementContext,b=g===void 0?$v:g,y=t.altBoundary,E=y===void 0?!1:y,x=t.padding,T=x===void 0?0:x,w=WC(typeof T!="number"?T:$C(T,Hg)),R=b===$v?pP:$v,A=n.rects.popper,O=n.elements[E?R:b],B=XP(Pf(O)?O:O.contextElement||du(n.elements.popper),c,v,l),z=Md(n.elements.reference),N=ZC({reference:z,element:A,placement:i}),U=U1(Object.assign({},A,N)),F=b===$v?U:z,V={top:B.top-F.top+w.top,bottom:F.bottom-B.bottom+w.bottom,left:B.left-F.left+w.left,right:F.right-B.right+w.right},Y=n.modifiersData.offset;if(b===$v&&Y){var H=Y[i];Object.keys(V).forEach(function($){var D=[Wi,Xi].indexOf($)>=0?1:-1,_=[Ka,Xi].indexOf($)>=0?"y":"x";V[$]+=H[_]*D})}return V}function WP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,u=t.flipVariations,c=t.allowedAutoPlacements,f=c===void 0?VC:c,v=Od(r),g=v?u?FT:FT.filter(function(E){return Od(E)===v}):Hg,b=g.filter(function(E){return f.indexOf(E)>=0});b.length===0&&(b=g);var y=b.reduce(function(E,x){return E[x]=Mg(n,{placement:x,boundary:i,rootBoundary:o,padding:l})[ss(x)],E},{});return Object.keys(y).sort(function(E,x){return y[E]-y[x]})}function $P(n){if(ss(n)===xE)return[];var e=Ay(n);return[zT(n),e,zT(e)]}function KP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,c=t.fallbackPlacements,f=t.padding,v=t.boundary,g=t.rootBoundary,b=t.altBoundary,y=t.flipVariations,E=y===void 0?!0:y,x=t.allowedAutoPlacements,T=e.options.placement,w=ss(T),R=w===T,A=c||(R||!E?[Ay(T)]:$P(T)),O=[T].concat(A).reduce(function(re,ie){return re.concat(ss(ie)===xE?WP(e,{placement:ie,boundary:v,rootBoundary:g,padding:f,flipVariations:E,allowedAutoPlacements:x}):ie)},[]),B=e.rects.reference,z=e.rects.popper,N=new Map,U=!0,F=O[0],V=0;V<O.length;V++){var Y=O[V],H=ss(Y),$=Od(Y)===Ad,D=[Ka,Xi].indexOf(H)>=0,_=D?"width":"height",I=Mg(e,{placement:Y,boundary:v,rootBoundary:g,altBoundary:b,padding:f}),L=D?$?Wi:Za:$?Xi:Ka;B[_]>z[_]&&(L=Ay(L));var k=Ay(L),K=[];if(o&&K.push(I[H]<=0),u&&K.push(I[L]<=0,I[k]<=0),K.every(function(re){return re})){F=Y,U=!1;break}N.set(Y,K)}if(U)for(var G=E?3:1,X=function(ie){var oe=O.find(function(he){var se=N.get(he);if(se)return se.slice(0,ie).every(function(te){return te})});if(oe)return F=oe,"break"},Z=G;Z>0;Z--){var J=X(Z);if(J==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}const ZP={name:"flip",enabled:!0,phase:"main",fn:KP,requiresIfExists:["offset"],data:{_skip:!1}};function HT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function VT(n){return[Ka,Wi,Xi,Za].some(function(e){return n[e]>=0})}function QP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=Mg(e,{elementContext:"reference"}),u=Mg(e,{altBoundary:!0}),c=HT(l,r),f=HT(u,i,o),v=VT(c),g=VT(f);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:v,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":g})}const JP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QP};function jP(n,e,t){var r=ss(n),i=[Za,Ka].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],u=o[1];return l=l||0,u=(u||0)*i,[Za,Wi].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function eF(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=VC.reduce(function(v,g){return v[g]=jP(g,e.rects,o),v},{}),u=l[e.placement],c=u.x,f=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}const tF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eF};function nF(n){var e=n.state,t=n.name;e.modifiersData[t]=ZC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const rF={name:"popperOffsets",enabled:!0,phase:"read",fn:nF,data:{}};function aF(n){return n==="x"?"y":"x"}function iF(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,c=t.boundary,f=t.rootBoundary,v=t.altBoundary,g=t.padding,b=t.tether,y=b===void 0?!0:b,E=t.tetherOffset,x=E===void 0?0:E,T=Mg(e,{boundary:c,rootBoundary:f,padding:g,altBoundary:v}),w=ss(e.placement),R=Od(e.placement),A=!R,O=RE(w),B=aF(O),z=e.modifiersData.popperOffsets,N=e.rects.reference,U=e.rects.popper,F=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,V=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),Y=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(z){if(o){var $,D=O==="y"?Ka:Za,_=O==="y"?Xi:Wi,I=O==="y"?"height":"width",L=z[O],k=L+T[D],K=L-T[_],G=y?-U[I]/2:0,X=R===Ad?N[I]:U[I],Z=R===Ad?-U[I]:-N[I],J=e.elements.arrow,re=y&&J?AE(J):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:XC(),oe=ie[D],he=ie[_],se=ug(0,N[I],re[I]),te=A?N[I]/2-G-se-oe-V.mainAxis:X-se-oe-V.mainAxis,ae=A?-N[I]/2+G+se+he+V.mainAxis:Z+se+he+V.mainAxis,le=e.elements.arrow&&Vg(e.elements.arrow),me=le?O==="y"?le.clientTop||0:le.clientLeft||0:0,_e=($=Y==null?void 0:Y[O])!=null?$:0,Ae=L+te-_e-me,et=L+ae-_e,ot=ug(y?Vy(k,Ae):k,L,y?Rf(K,et):K);z[O]=ot,H[O]=ot-L}if(u){var rt,Pe=O==="x"?Ka:Za,Ve=O==="x"?Xi:Wi,Ke=z[B],Qe=B==="y"?"height":"width",at=Ke+T[Pe],tt=Ke-T[Ve],it=[Ka,Za].indexOf(w)!==-1,dt=(rt=Y==null?void 0:Y[B])!=null?rt:0,Oe=it?at:Ke-N[Qe]-U[Qe]-dt+V.altAxis,j=it?Ke+N[Qe]+U[Qe]-dt-V.altAxis:tt,pe=y&&it?OP(Oe,Ke,j):ug(y?Oe:at,Ke,y?j:tt);z[B]=pe,H[B]=pe-Ke}e.modifiersData[r]=H}}const oF={name:"preventOverflow",enabled:!0,phase:"main",fn:iF,requiresIfExists:["offset"]};function sF(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function lF(n){return n===wi(n)||!ls(n)?ME(n):sF(n)}function uF(n){var e=n.getBoundingClientRect(),t=Rd(e.width)/n.offsetWidth||1,r=Rd(e.height)/n.offsetHeight||1;return t!==1||r!==1}function fF(n,e,t){t===void 0&&(t=!1);var r=ls(e),i=ls(e)&&uF(e),o=du(e),l=Md(n,i,t),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((iu(e)!=="body"||DE(o))&&(u=lF(e)),ls(e)?(c=Md(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=OE(o))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function cF(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var c=e.get(u);c&&i(c)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function dF(n){var e=cF(n);return AP.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function hF(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function vF(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var YT={placement:"bottom",modifiers:[],strategy:"absolute"};function qT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gF(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?YT:i;return function(u,c,f){f===void 0&&(f=o);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},YT,o),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},g=[],b=!1,y={state:v,setOptions:function(w){var R=typeof w=="function"?w(v.options):w;x(),v.options=Object.assign({},o,v.options,R),v.scrollParents={reference:Pf(u)?fg(u):u.contextElement?fg(u.contextElement):[],popper:fg(c)};var A=dF(vF([].concat(r,v.options.modifiers)));return v.orderedModifiers=A.filter(function(O){return O.enabled}),E(),y.update()},forceUpdate:function(){if(!b){var w=v.elements,R=w.reference,A=w.popper;if(qT(R,A)){v.rects={reference:fF(R,Vg(A),v.options.strategy==="fixed"),popper:AE(A)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(V){return v.modifiersData[V.name]=Object.assign({},V.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var B=v.orderedModifiers[O],z=B.fn,N=B.options,U=N===void 0?{}:N,F=B.name;typeof z=="function"&&(v=z({state:v,options:U,name:F,instance:y})||v)}}}},update:hF(function(){return new Promise(function(T){y.forceUpdate(),T(v)})}),destroy:function(){x(),b=!0}};if(!qT(u,c))return y;y.setOptions(f).then(function(T){!b&&f.onFirstUpdate&&f.onFirstUpdate(T)});function E(){v.orderedModifiers.forEach(function(T){var w=T.name,R=T.options,A=R===void 0?{}:R,O=T.effect;if(typeof O=="function"){var B=O({state:v,name:w,instance:y,options:A}),z=function(){};g.push(B||z)}})}function x(){g.forEach(function(T){return T()}),g=[]}return y}}const pF=gF({defaultModifiers:[JP,rF,FP,UP,tF,ZP,oF,IP]}),mF=["enabled","placement","strategy","modifiers"];function yF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const bF={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},EF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},wF=[];function TF(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=wF}=t,u=yF(t,mF);const c=fe.useRef(l),f=fe.useRef(),v=fe.useCallback(()=>{var T;(T=f.current)==null||T.update()},[]),g=fe.useCallback(()=>{var T;(T=f.current)==null||T.forceUpdate()},[]),[b,y]=vP(fe.useState({placement:i,update:v,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),E=fe.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:T})=>{const w={},R={};Object.keys(T.elements).forEach(A=>{w[A]=T.styles[A],R[A]=T.attributes[A]}),y({state:T,styles:w,attributes:R,update:v,forceUpdate:g,placement:T.placement})}}),[v,g,y]),x=fe.useMemo(()=>(lg(c.current,l)||(c.current=l),c.current),[l]);return fe.useEffect(()=>{!f.current||!r||f.current.setOptions({placement:i,strategy:o,modifiers:[...x,E,bF]})},[o,i,E,r,x]),fe.useEffect(()=>{if(!(!r||n==null||e==null))return f.current=pF(n,e,Object.assign({},u,{placement:i,strategy:o,modifiers:[...x,EF,E]})),()=>{f.current!=null&&(f.current.destroy(),f.current=void 0,y(T=>Object.assign({},T,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),b}function Yy(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var n1,XT;function QC(){if(XT)return n1;XT=1;var n=function(){};return n1=n,n1}var SF=QC();const xF=fs(SF),WT=()=>{};function CF(n){return n.button===0}function AF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const r1=n=>n&&("current"in n?n.current:n),$T={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function RF(n,e=WT,{disabled:t,clickTrigger:r="click"}={}){const i=fe.useRef(!1),o=fe.useRef(!1),l=fe.useCallback(f=>{const v=r1(n);xF(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!v||AF(f)||!CF(f)||!!Yy(v,f.target)||o.current,o.current=!1},[n]),u=Da(f=>{const v=r1(n);v&&Yy(v,f.target)?o.current=!0:o.current=!1}),c=Da(f=>{i.current||e(f)});fe.useEffect(()=>{var f,v;if(t||n==null)return;const g=Gg(r1(n)),b=g.defaultView||window;let y=(f=b.event)!=null?f:(v=b.parent)==null?void 0:v.event,E=null;$T[r]&&(E=$l(g,$T[r],u,!0));const x=$l(g,r,l,!0),T=$l(g,r,R=>{if(R===y){y=void 0;return}c(R)});let w=[];return"ontouchstart"in g.documentElement&&(w=[].slice.call(g.body.children).map(R=>$l(R,"mousemove",WT))),()=>{E==null||E(),x(),T(),w.forEach(R=>R())}},[n,t,r,l,u,c])}function MF(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function OF(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function DF({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:u,popperConfig:c={}}){var f,v,g,b,y;const E=MF(c.modifiers);return Object.assign({},c,{placement:t,enabled:n,strategy:o?"fixed":c.strategy,modifiers:OF(Object.assign({},E,{eventListeners:{enabled:e,options:(f=E.eventListeners)==null?void 0:f.options},preventOverflow:Object.assign({},E.preventOverflow,{options:l?Object.assign({padding:l},(v=E.preventOverflow)==null?void 0:v.options):(g=E.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:i},(b=E.offset)==null?void 0:b.options)},arrow:Object.assign({},E.arrow,{enabled:!!u,options:Object.assign({},(y=E.arrow)==null?void 0:y.options,{element:u})}),flip:Object.assign({enabled:!!r},E.flip)}))})}const NF=["children","usePopper"];function LF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const IF=()=>{};function JC(n={}){const e=fe.useContext(v0),[t,r]=W_(),i=fe.useRef(!1),{flip:o,offset:l,rootCloseEvent:u,fixed:c=!1,placement:f,popperConfig:v={},enableEventListeners:g=!0,usePopper:b=!!e}=n,y=(e==null?void 0:e.show)==null?!!n.show:e.show;y&&!i.current&&(i.current=!0);const E=z=>{e==null||e.toggle(!1,z)},{placement:x,setMenu:T,menuElement:w,toggleElement:R}=e||{},A=TF(R,w,DF({placement:f||x||"bottom-start",enabled:b,enableEvents:g??y,offset:l,flip:o,fixed:c,arrowElement:t,popperConfig:v})),O=Object.assign({ref:T||IF,"aria-labelledby":R==null?void 0:R.id},A.attributes.popper,{style:A.styles.popper}),B={show:y,placement:x,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:b?A:null,arrowProps:b?Object.assign({ref:r},A.attributes.arrow,{style:A.styles.arrow}):{}};return RF(w,E,{clickTrigger:u,disabled:!y}),[O,B]}function jC(n){let{children:e,usePopper:t=!0}=n,r=LF(n,NF);const[i,o]=JC(Object.assign({},r,{usePopper:t}));return ve(ia,{children:e(i,o)})}jC.displayName="DropdownMenu";const eA={prefix:String(Math.round(Math.random()*1e10)),current:0},tA=$a.createContext(eA),BF=$a.createContext(!1);let a1=new WeakMap;function _F(n=!1){let e=fe.useContext(tA),t=fe.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=a1.get(o);l==null?a1.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,a1.delete(o))}t.current=++e.current}return t.current}function PF(n){let e=fe.useContext(tA),t=_F(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function FF(n){let e=$a.useId(),[t]=fe.useState(HF()),r=t?"react-aria":`react-aria${eA.prefix}`;return n||`${r}-${e}`}const kF=typeof $a.useId=="function"?FF:PF;function UF(){return!1}function zF(){return!0}function GF(n){return()=>{}}function HF(){return typeof $a.useSyncExternalStore=="function"?$a.useSyncExternalStore(GF,UF,zF):fe.useContext(BF)}const nA=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},KT=()=>{};function rA(){const n=kF(),{show:e=!1,toggle:t=KT,setToggle:r,menuElement:i}=fe.useContext(v0)||{},o=fe.useCallback(u=>{t(!e,u)},[e,t]),l={id:n,ref:r||KT,onClick:o,"aria-expanded":!!e};return i&&nA(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function aA({children:n}){const[e,t]=rA();return ve(ia,{children:n(e,t)})}aA.displayName="DropdownToggle";const z1=fe.createContext(null),ZT=(n,e=null)=>n!=null?String(n):e||null,iA=fe.createContext(null);iA.displayName="NavContext";const VF="data-rr-ui-";function NE(n){return`${VF}${n}`}const YF=["eventKey","disabled","onClick","active","as"];function qF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function oA({key:n,href:e,active:t,disabled:r,onClick:i}){const o=fe.useContext(z1),l=fe.useContext(iA),{activeKey:u}=l||{},c=ZT(n,e),f=t==null&&n!=null?ZT(u)===c:t;return[{onClick:Da(g=>{r||(i==null||i(g),o&&!g.isPropagationStopped()&&o(c,g))}),"aria-disabled":r||void 0,"aria-selected":f,[NE("dropdown-item")]:""},{isActive:f}]}const sA=fe.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=kC}=n,u=qF(n,YF);const[c]=oA({key:t,href:u.href,disabled:r,onClick:i,active:o});return ve(l,Object.assign({},u,{ref:e},c))});sA.displayName="DropdownItem";const lA=fe.createContext(Gd?window:void 0);lA.Provider;function p0(){return fe.useContext(lA)}function QT(){const n=hP(),e=fe.useRef(null),t=fe.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Yg({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${NE("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:u}){const c=p0(),[f,v]=dP(e,n,r),[g,b]=QT(),y=g.current,[E,x]=QT(),T=E.current,w=FC(f),R=fe.useRef(null),A=fe.useRef(!1),O=fe.useContext(z1),B=fe.useCallback((Y,H,$=H==null?void 0:H.type)=>{v(Y,{originalEvent:H,source:$})},[v]),z=Da((Y,H)=>{t==null||t(Y,H),B(!1,H,"select"),H.isPropagationStopped()||O==null||O(Y,H)}),N=fe.useMemo(()=>({toggle:B,placement:l,show:f,menuElement:y,toggleElement:T,setMenu:b,setToggle:x}),[B,l,f,y,T,b,x]);y&&w&&!f&&(A.current=y.contains(y.ownerDocument.activeElement));const U=Da(()=>{T&&T.focus&&T.focus()}),F=Da(()=>{const Y=R.current;let H=o;if(H==null&&(H=g.current&&nA(g.current)?"keyboard":!1),H===!1||H==="keyboard"&&!/^key.+$/.test(Y))return;const $=Vl(g.current,i)[0];$&&$.focus&&$.focus()});fe.useEffect(()=>{f?F():A.current&&(A.current=!1,U())},[f,A,U,F]),fe.useEffect(()=>{R.current=null});const V=(Y,H)=>{if(!g.current)return null;const $=Vl(g.current,i);let D=$.indexOf(Y)+H;return D=Math.max(0,Math.min(D,$.length)),$[D]};return K_(fe.useCallback(()=>c.document,[c]),"keydown",Y=>{var H,$;const{key:D}=Y,_=Y.target,I=(H=g.current)==null?void 0:H.contains(_),L=($=E.current)==null?void 0:$.contains(_);if(/input|textarea/i.test(_.tagName)&&(D===" "||D!=="Escape"&&I||D==="Escape"&&_.type==="search")||!I&&!L||D==="Tab"&&(!g.current||!f))return;R.current=Y.type;const K={originalEvent:Y,source:Y.type};switch(D){case"ArrowUp":{const G=V(_,-1);G&&G.focus&&G.focus(),Y.preventDefault();return}case"ArrowDown":if(Y.preventDefault(),!f)v(!0,K);else{const G=V(_,1);G&&G.focus&&G.focus()}return;case"Tab":EE(_.ownerDocument,"keyup",G=>{var X;(G.key==="Tab"&&!G.target||!((X=g.current)!=null&&X.contains(G.target)))&&v(!1,K)},{once:!0});break;case"Escape":D==="Escape"&&(Y.preventDefault(),Y.stopPropagation()),v(!1,K);break}}),ve(z1.Provider,{value:z,children:ve(v0.Provider,{value:N,children:u})})}Yg.displayName="Dropdown";Yg.Menu=jC;Yg.Toggle=aA;Yg.Item=sA;const LE=fe.createContext({});LE.displayName="DropdownContext";const uA=fe.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Nn(e,"dropdown-divider"),ve(t,{ref:o,className:sn(n,e),role:r,...i})));uA.displayName="DropdownDivider";const fA=fe.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Nn(e,"dropdown-header"),ve(t,{ref:o,className:sn(n,e),role:r,...i})));fA.displayName="DropdownHeader";const cA=fe.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=UC,...u},c)=>{const f=Nn(n,"dropdown-item"),[v,g]=oA({key:t,href:u.href,disabled:r,onClick:i,active:o});return ve(l,{...u,...v,ref:c,className:sn(e,f,g.isActive&&"active",r&&"disabled")})});cA.displayName="DropdownItem";const dA=fe.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Nn(e,"dropdown-item-text"),ve(t,{ref:i,className:sn(n,e),...r})));dA.displayName="DropdownItemText";const XF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",WF=typeof document<"u",$F=WF||XF?fe.useLayoutEffect:fe.useEffect,IE=fe.createContext(null);IE.displayName="InputGroupContext";const hA=fe.createContext(null);hA.displayName="NavbarContext";function vA(n,e){return n}const fd=Rn.oneOf(["start","end"]),KF=Rn.oneOfType([fd,Rn.shape({sm:fd}),Rn.shape({md:fd}),Rn.shape({lg:fd}),Rn.shape({xl:fd}),Rn.shape({xxl:fd}),Rn.object]);function gA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",u=t?"right-start":"left-start",c=t?"right-end":"left-end",f=t?"left-start":"right-start",v=t?"left-end":"right-end";let g=n?l:o;return e==="up"?g=n?i:r:e==="end"?g=n?v:f:e==="start"?g=n?c:u:e==="down-centered"?g="bottom":e==="up-centered"&&(g="top"),g}const BE=fe.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:u="div",popperConfig:c,variant:f,...v},g)=>{let b=!1;const y=fe.useContext(hA),E=Nn(n,"dropdown-menu"),{align:x,drop:T,isRTL:w}=fe.useContext(LE);t=t||x;const R=fe.useContext(IE),A=[];if(t)if(typeof t=="object"){const Y=Object.keys(t);if(Y.length){const H=Y[0],$=t[H];b=$==="start",A.push(`${E}-${H}-${$}`)}}else t==="end"&&(b=!0);const O=gA(b,T,w),[B,{hasShown:z,popper:N,show:U,toggle:F}]=JC({flip:i,rootCloseEvent:r,show:o,usePopper:!y&&A.length===0,offset:[0,2],popperConfig:c,placement:O});if(B.ref=h0(vA(g),B.ref),$F(()=>{U&&(N==null||N.update())},[U]),!z&&!l&&!R)return null;typeof u!="string"&&(B.show=U,B.close=()=>F==null?void 0:F(!1),B.align=t);let V=v.style;return N!=null&&N.placement&&(V={...v.style,...B.style},v["x-placement"]=N.placement),ve(u,{...v,...B,style:V,...(A.length||y)&&{"data-bs-popper":"static"},className:sn(e,E,U&&"show",b&&`${E}-end`,f&&`${E}-${f}`,...A)})});BE.displayName="DropdownMenu";const _E=fe.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Ag,...o},l)=>{const u=Nn(n,"dropdown-toggle"),c=fe.useContext(v0);r!==void 0&&(o.bsPrefix=r);const[f]=rA();return f.ref=h0(f.ref,vA(l)),ve(i,{className:sn(t,u,e&&`${u}-split`,(c==null?void 0:c.show)&&"show"),...f,...o})});_E.displayName="DropdownToggle";const pA=fe.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:u,onToggle:c,focusFirstItemOnShow:f,as:v="div",navbar:g,autoClose:b=!0,...y}=xC(n,{show:"onToggle"}),E=fe.useContext(IE),x=Nn(t,"dropdown"),T=LC(),w=N=>b===!1?N==="click":b==="inside"?N!=="rootClose":b==="outside"?N!=="select":!0,R=Hy((N,U)=>{var F;!((F=U.originalEvent)==null||(F=F.target)==null)&&F.classList.contains("dropdown-toggle")&&U.source==="mousedown"||(U.originalEvent.currentTarget===document&&(U.source!=="keydown"||U.originalEvent.key==="Escape")&&(U.source="rootClose"),w(U.source)&&(c==null||c(N,U)))}),O=gA(l==="end",r,T),B=fe.useMemo(()=>({align:l,drop:r,isRTL:T}),[l,r,T]),z={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return ve(LE.Provider,{value:B,children:ve(Yg,{placement:O,show:i,onSelect:u,onToggle:R,focusFirstItemOnShow:f,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:E?y.children:ve(v,{...y,ref:e,className:sn(o,i&&"show",z[r])})})})});pA.displayName="Dropdown";const qs=Object.assign(pA,{Toggle:_E,Menu:BE,Item:cA,ItemText:dA,Divider:uA,Header:fA}),ZF={id:Rn.string,href:Rn.string,onClick:Rn.func,title:Rn.node.isRequired,disabled:Rn.bool,align:KF,menuRole:Rn.string,renderMenuOnMount:Rn.bool,rootCloseEvent:Rn.string,menuVariant:Rn.oneOf(["dark"]),flip:Rn.bool,bsPrefix:Rn.string,variant:Rn.string,size:Rn.string},Hd=fe.forwardRef(({title:n,children:e,bsPrefix:t,rootCloseEvent:r,variant:i,size:o,menuRole:l,renderMenuOnMount:u,disabled:c,href:f,id:v,menuVariant:g,flip:b,...y},E)=>Ot(qs,{ref:E,...y,children:[ve(_E,{id:v,href:f,size:o,variant:i,disabled:c,childBsPrefix:t,children:n}),ve(BE,{role:l,renderOnMount:u,rootCloseEvent:r,variant:g,flip:b,children:e})]}));Hd.displayName="DropdownButton";Hd.propTypes=ZF;const QF={type:Rn.string,tooltip:Rn.bool,as:Rn.elementType},m0=fe.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>ve(n,{...i,ref:o,className:sn(e,`${t}-${r?"tooltip":"feedback"}`)}));m0.displayName="Feedback";m0.propTypes=QF;const Xs=fe.createContext({}),PE=fe.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...u},c)=>{const{controlId:f}=fe.useContext(Xs);return e=Nn(e,"form-check-input"),ve(l,{...u,ref:c,type:r,id:n||f,className:sn(t,e,i&&"is-valid",o&&"is-invalid")})});PE.displayName="FormCheckInput";const qy=fe.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=fe.useContext(Xs);return n=Nn(n,"form-check-label"),ve("label",{...r,ref:i,htmlFor:t||o,className:sn(e,n)})});qy.displayName="FormCheckLabel";const mA=fe.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:c=!1,feedback:f,feedbackType:v,className:g,style:b,title:y="",type:E="checkbox",label:x,children:T,as:w="input",...R},A)=>{e=Nn(e,"form-check"),t=Nn(t,"form-switch");const{controlId:O}=fe.useContext(Xs),B=fe.useMemo(()=>({controlId:n||O}),[O,n]),z=!T&&x!=null&&x!==!1||uP(T,qy),N=ve(PE,{...R,type:E==="switch"?"checkbox":E,ref:A,isValid:l,isInvalid:u,disabled:o,as:w});return ve(Xs.Provider,{value:B,children:ve("div",{style:b,className:sn(g,z&&e,r&&`${e}-inline`,i&&`${e}-reverse`,E==="switch"&&t),children:T||Ot(ia,{children:[N,z&&ve(qy,{title:y,children:x}),f&&ve(m0,{type:v,tooltip:c,children:f})]})})})});mA.displayName="FormCheck";const Xy=Object.assign(mA,{Input:PE,Label:qy}),yA=fe.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:c,readOnly:f,as:v="input",...g},b)=>{const{controlId:y}=fe.useContext(Xs);return n=Nn(n,"form-control"),ve(v,{...g,type:e,size:r,ref:b,readOnly:f,id:i||y,className:sn(o,c?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})});yA.displayName="FormControl";const JF=Object.assign(yA,{Feedback:m0}),bA=fe.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Nn(e,"form-floating"),ve(t,{ref:i,className:sn(n,e),...r})));bA.displayName="FormFloating";const FE=fe.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=fe.useMemo(()=>({controlId:n}),[n]);return ve(Xs.Provider,{value:i,children:ve(e,{...t,ref:r})})});FE.displayName="FormGroup";const EA=fe.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},u)=>{const{controlId:c}=fe.useContext(Xs);e=Nn(e,"form-label");let f="col-form-label";typeof t=="string"&&(f=`${f} ${f}-${t}`);const v=sn(i,e,r&&"visually-hidden",t&&f);return o=o||c,t?ve(GC,{ref:u,as:"label",className:v,htmlFor:o,...l}):ve(n,{ref:u,className:v,htmlFor:o,...l})});EA.displayName="FormLabel";const wA=fe.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=fe.useContext(Xs);return n=Nn(n,"form-range"),ve("input",{...r,type:"range",ref:i,className:sn(e,n),id:t||o})});wA.displayName="FormRange";const TA=fe.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...u},c)=>{const{controlId:f}=fe.useContext(Xs);return n=Nn(n,"form-select"),ve("select",{...u,size:t,ref:c,className:sn(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||f})});TA.displayName="FormSelect";const SA=fe.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Nn(n,"form-text"),ve(t,{...i,ref:o,className:sn(e,n,r&&"text-muted")})));SA.displayName="FormText";const xA=fe.forwardRef((n,e)=>ve(Xy,{...n,ref:e,type:"switch"}));xA.displayName="Switch";const jF=Object.assign(xA,{Input:Xy.Input,Label:Xy.Label}),CA=fe.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=Nn(n,"form-floating"),Ot(FE,{ref:l,className:sn(e,n),controlId:r,...o,children:[t,ve("label",{htmlFor:r,children:i})]})));CA.displayName="FloatingLabel";const ek={_ref:Rn.any,validated:Rn.bool,as:Rn.elementType},kE=fe.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>ve(t,{...r,ref:i,className:sn(n,e&&"was-validated")}));kE.displayName="Form";kE.propTypes=ek;const JT=Object.assign(kE,{Group:FE,Control:JF,Floating:bA,Check:Xy,Switch:jF,Label:EA,Text:SA,Range:wA,Select:TA,FloatingLabel:CA}),jT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function tk(n,e){const t=jT(n),r=jT(e);return i=>{t&&t(i),r&&r(i)}}function UE(n,e){return fe.useMemo(()=>tk(n,e),[n,e])}var ly;function eS(n){if((!ly&&ly!==0||n)&&Gd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ly=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ly}function nk(){return fe.useState(null)}function i1(n){n===void 0&&(n=Gg());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function rk(n){const e=fe.useRef(n);return e.current=n,e}function ak(n){const e=rk(n);fe.useEffect(()=>()=>e.current(),[])}function ik(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const tS=NE("modal-open");class zE{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return ik(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(Af(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(tS,""),Af(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(tS),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const o1=(n,e)=>Gd?n==null?(e||Gg()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function ok(n,e){const t=p0(),[r,i]=fe.useState(()=>o1(n,t==null?void 0:t.document));if(!r){const o=o1(n);o&&i(o)}return fe.useEffect(()=>{},[e,r]),fe.useEffect(()=>{const o=o1(n);o!==r&&i(o)},[n,r]),r}function sk({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const o=fe.useRef(null),l=fe.useRef(e),u=Da(t);fe.useEffect(()=>{e?l.current=!0:u(o.current)},[e,u]);const c=UE(o,d0(n)),f=fe.cloneElement(n,{ref:c});return e?f:i||!l.current&&r?null:f}const lk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function uk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function fk(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:o,onExited:l,addEndListener:u,children:c}=n,f=uk(n,lk);const v=fe.useRef(null),g=UE(v,d0(c)),b=O=>B=>{O&&v.current&&O(v.current,B)},y=fe.useCallback(b(e),[e]),E=fe.useCallback(b(t),[t]),x=fe.useCallback(b(r),[r]),T=fe.useCallback(b(i),[i]),w=fe.useCallback(b(o),[o]),R=fe.useCallback(b(l),[l]),A=fe.useCallback(b(u),[u]);return Object.assign({},f,{nodeRef:v},e&&{onEnter:y},t&&{onEntering:E},r&&{onEntered:x},i&&{onExit:T},o&&{onExiting:w},l&&{onExited:R},u&&{addEndListener:A},{children:typeof c=="function"?(O,B)=>c(O,Object.assign({},B,{ref:g})):fe.cloneElement(c,{ref:g})})}const ck=["component"];function dk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const hk=fe.forwardRef((n,e)=>{let{component:t}=n,r=dk(n,ck);const i=fk(r);return ve(t,Object.assign({ref:e},i))});function vk({in:n,onTransition:e}){const t=fe.useRef(null),r=fe.useRef(!0),i=Da(e);return BT(()=>{if(!t.current)return;let o=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,i]),BT(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function gk({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[o,l]=fe.useState(!e);e&&o&&l(!1);const u=vk({in:!!e,onTransition:f=>{const v=()=>{f.isStale()||(f.in?r==null||r(f.element,f.initial):(l(!0),t==null||t(f.element)))};Promise.resolve(i(f)).then(v,g=>{throw f.in||l(!0),g})}}),c=UE(u,d0(n));return o&&!e?null:fe.cloneElement(n,{ref:c})}function nS(n,e,t){return n?ve(hk,Object.assign({},t,{component:n})):e?ve(gk,Object.assign({},t,{transition:e})):ve(sk,Object.assign({},t))}const pk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function mk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let s1;function yk(n){return s1||(s1=new zE({ownerDocument:n==null?void 0:n.document})),s1}function bk(n){const e=p0(),t=n||yk(e),r=fe.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:fe.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:fe.useCallback(i=>{r.current.backdrop=i},[])})}const AA=fe.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:o,children:l,backdrop:u=!0,keyboard:c=!0,onBackdropClick:f,onEscapeKeyDown:v,transition:g,runTransition:b,backdropTransition:y,runBackdropTransition:E,autoFocus:x=!0,enforceFocus:T=!0,restoreFocus:w=!0,restoreFocusOptions:R,renderDialog:A,renderBackdrop:O=et=>ve("div",Object.assign({},et)),manager:B,container:z,onShow:N,onHide:U=()=>{},onExit:F,onExited:V,onExiting:Y,onEnter:H,onEntering:$,onEntered:D}=n,_=mk(n,pk);const I=p0(),L=ok(z),k=bk(B),K=PC(),G=FC(t),[X,Z]=fe.useState(!t),J=fe.useRef(null);fe.useImperativeHandle(e,()=>k,[k]),Gd&&!G&&t&&(J.current=i1(I==null?void 0:I.document)),t&&X&&Z(!1);const re=Da(()=>{if(k.add(),ae.current=$l(document,"keydown",se),te.current=$l(document,"focus",()=>setTimeout(oe),!0),N&&N(),x){var et,ot;const rt=i1((et=(ot=k.dialog)==null?void 0:ot.ownerDocument)!=null?et:I==null?void 0:I.document);k.dialog&&rt&&!Yy(k.dialog,rt)&&(J.current=rt,k.dialog.focus())}}),ie=Da(()=>{if(k.remove(),ae.current==null||ae.current(),te.current==null||te.current(),w){var et;(et=J.current)==null||et.focus==null||et.focus(R),J.current=null}});fe.useEffect(()=>{!t||!L||re()},[t,L,re]),fe.useEffect(()=>{X&&ie()},[X,ie]),ak(()=>{ie()});const oe=Da(()=>{if(!T||!K()||!k.isTopModal())return;const et=i1(I==null?void 0:I.document);k.dialog&&et&&!Yy(k.dialog,et)&&k.dialog.focus()}),he=Da(et=>{et.target===et.currentTarget&&(f==null||f(et),u===!0&&U())}),se=Da(et=>{c&&__(et)&&k.isTopModal()&&(v==null||v(et),et.defaultPrevented||U())}),te=fe.useRef(),ae=fe.useRef(),le=(...et)=>{Z(!0),V==null||V(...et)};if(!L)return null;const me=Object.assign({role:r,ref:k.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},_,{style:o,className:i,tabIndex:-1});let _e=A?A(me):ve("div",Object.assign({},me,{children:fe.cloneElement(l,{role:"document"})}));_e=nS(g,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:F,onExiting:Y,onExited:le,onEnter:H,onEntering:$,onEntered:D,children:_e});let Ae=null;return u&&(Ae=O({ref:k.setBackdropRef,onClick:he}),Ae=nS(y,E,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ae})),ve(ia,{children:pd.createPortal(Ot(ia,{children:[Ae,_e]}),L)})});AA.displayName="Modal";const Ek=Object.assign(AA,{Manager:zE});function wk(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function Tk(n,e){n.classList?n.classList.add(e):wk(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function rS(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Sk(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=rS(n.className,e):n.setAttribute("class",rS(n.className&&n.className.baseVal||"",e))}const cd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class xk extends zE{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,Af(t,{[e]:`${parseFloat(Af(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],Af(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(Tk(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Vl(t,cd.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Vl(t,cd.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Vl(t,cd.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Sk(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Vl(t,cd.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Vl(t,cd.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Vl(t,cd.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let l1;function Ck(n){return l1||(l1=new xk(n)),l1}const RA=fe.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Nn(e,"modal-body"),ve(t,{ref:i,className:sn(n,e),...r})));RA.displayName="ModalBody";const MA=fe.createContext({onHide(){}}),GE=fe.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:o,children:l,scrollable:u,...c},f)=>{n=Nn(n,"modal");const v=`${n}-dialog`,g=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return ve("div",{...c,ref:f,className:sn(v,e,i&&`${n}-${i}`,r&&`${v}-centered`,u&&`${v}-scrollable`,o&&g),children:ve("div",{className:sn(`${n}-content`,t),children:l})})});GE.displayName="ModalDialog";const OA=fe.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Nn(e,"modal-footer"),ve(t,{ref:i,className:sn(n,e),...r})));OA.displayName="ModalFooter";const DA=fe.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...o},l)=>{const u=fe.useContext(MA),c=Hy(()=>{u==null||u.onHide(),r==null||r()});return Ot("div",{ref:l,...o,children:[i,t&&ve(SE,{"aria-label":n,variant:e,onClick:c})]})});DA.displayName="AbstractModalHeader";const NA=fe.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=Nn(n,"modal-header"),ve(DA,{ref:o,...i,className:sn(e,n),closeLabel:t,closeButton:r})));NA.displayName="ModalHeader";const Ak=X_("h4"),LA=fe.forwardRef(({className:n,bsPrefix:e,as:t=Ak,...r},i)=>(e=Nn(e,"modal-title"),ve(t,{ref:i,className:sn(n,e),...r})));LA.displayName="ModalTitle";function Rk(n){return ve(TE,{...n,timeout:null})}function Mk(n){return ve(TE,{...n,timeout:null})}const IA=fe.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:o,dialogAs:l=GE,"data-bs-theme":u,"aria-labelledby":c,"aria-describedby":f,"aria-label":v,show:g=!1,animation:b=!0,backdrop:y=!0,keyboard:E=!0,onEscapeKeyDown:x,onShow:T,onHide:w,container:R,autoFocus:A=!0,enforceFocus:O=!0,restoreFocus:B=!0,restoreFocusOptions:z,onEntered:N,onExit:U,onExiting:F,onEnter:V,onEntering:Y,onExited:H,backdropClassName:$,manager:D,..._},I)=>{const[L,k]=fe.useState({}),[K,G]=fe.useState(!1),X=fe.useRef(!1),Z=fe.useRef(!1),J=fe.useRef(null),[re,ie]=nk(),oe=h0(I,ie),he=Hy(w),se=LC();n=Nn(n,"modal");const te=fe.useMemo(()=>({onHide:he}),[he]);function ae(){return D||Ck({isRTL:se})}function le(Oe){if(!Gd)return;const j=ae().getScrollbarWidth()>0,pe=Oe.scrollHeight>Gg(Oe).documentElement.clientHeight;k({paddingRight:j&&!pe?eS():void 0,paddingLeft:!j&&pe?eS():void 0})}const me=Hy(()=>{re&&le(re.dialog)});sP(()=>{F1(window,"resize",me),J.current==null||J.current()});const _e=()=>{X.current=!0},Ae=Oe=>{X.current&&re&&Oe.target===re.dialog&&(Z.current=!0),X.current=!1},et=()=>{G(!0),J.current=BC(re.dialog,()=>{G(!1)})},ot=Oe=>{Oe.target===Oe.currentTarget&&et()},rt=Oe=>{if(y==="static"){ot(Oe);return}if(Z.current||Oe.target!==Oe.currentTarget){Z.current=!1;return}w==null||w()},Pe=Oe=>{E?x==null||x(Oe):(Oe.preventDefault(),y==="static"&&et())},Ve=(Oe,j)=>{Oe&&le(Oe),V==null||V(Oe,j)},Ke=Oe=>{J.current==null||J.current(),U==null||U(Oe)},Qe=(Oe,j)=>{Y==null||Y(Oe,j),EE(window,"resize",me)},at=Oe=>{Oe&&(Oe.style.display=""),H==null||H(Oe),F1(window,"resize",me)},tt=fe.useCallback(Oe=>ve("div",{...Oe,className:sn(`${n}-backdrop`,$,!b&&"show")}),[b,$,n]),it={...t,...L};it.display="block";const dt=Oe=>ve("div",{role:"dialog",...Oe,style:it,className:sn(e,n,K&&`${n}-static`,!b&&"show"),onClick:y?rt:void 0,onMouseUp:Ae,"data-bs-theme":u,"aria-label":v,"aria-labelledby":c,"aria-describedby":f,children:ve(l,{..._,onMouseDown:_e,className:r,contentClassName:i,children:o})});return ve(MA.Provider,{value:te,children:ve(Ek,{show:g,ref:oe,backdrop:y,container:R,keyboard:!0,autoFocus:A,enforceFocus:O,restoreFocus:B,restoreFocusOptions:z,onEscapeKeyDown:Pe,onShow:T,onHide:w,onEnter:Ve,onEntering:Qe,onEntered:N,onExit:Ke,onExiting:F,onExited:at,manager:ae(),transition:b?Rk:void 0,backdropTransition:b?Mk:void 0,renderBackdrop:tt,renderDialog:dt})})});IA.displayName="Modal";const Kv=Object.assign(IA,{Body:RA,Header:NA,Title:LA,Footer:OA,Dialog:GE,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Ok(n,e=MC,t=OC){const r=[];return Object.entries(n).forEach(([i,o])=>{o!=null&&(typeof o=="object"?e.forEach(l=>{const u=o[l];if(u!=null){const c=l!==t?`-${l}`:"";r.push(`${i}${c}-${u}`)}}):r.push(`${i}-${o}`))}),r}const BA=fe.forwardRef(({as:n="div",bsPrefix:e,className:t,direction:r,gap:i,...o},l)=>{e=Nn(e,r==="horizontal"?"hstack":"vstack");const u=DC(),c=NC();return ve(n,{...o,ref:l,className:sn(t,e,...Ok({gap:i},u,c))})});BA.displayName="Stack";const Dk=()=>{},cg=fe.forwardRef(({bsPrefix:n,name:e,className:t,checked:r,type:i,onChange:o,value:l,disabled:u,id:c,inputRef:f,...v},g)=>(n=Nn(n,"btn-check"),Ot(ia,{children:[ve("input",{className:n,name:e,type:i,value:l,ref:f,autoComplete:"off",checked:!!r,disabled:!!u,onChange:o||Dk,id:c}),ve(Ag,{...v,ref:g,className:sn(t,u&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:c})]})));cg.displayName="ToggleButton";const _A=fe.forwardRef((n,e)=>{const{children:t,type:r="radio",name:i,value:o,onChange:l,vertical:u=!1,...c}=xC(n,{value:"onChange"}),f=()=>o==null?[]:[].concat(o),v=(g,b)=>{if(!l)return;const y=f(),E=y.indexOf(g)!==-1;if(r==="radio"){E||l(g,b);return}l(E?y.filter(x=>x!==g):[...y,g],b)};return r!=="radio"||i||p_(!1),ve(zC,{...c,ref:e,vertical:u,children:lP(t,g=>{const b=f(),{value:y,onChange:E}=g.props,x=T=>v(y,T);return fe.cloneElement(g,{type:r,name:g.name||i,checked:b.indexOf(y)!==-1,onChange:G_(E,x)})})})});_A.displayName="ToggleButtonGroup";const Nk=Object.assign(_A,{Button:cg});var uy={exports:{}},Gl={},fy={exports:{}},Hi={},cy={exports:{}},aS;function PA(){return aS||(aS=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function o(g,b){return b.getPropertyValue("overflow")!=="visible"||g.scrollWidth<=0&&g.scrollHeight<=0}function l(g){var b=g.offsetWidth<=0&&g.offsetHeight<=0;if(b&&!g.innerHTML)return!0;try{var y=window.getComputedStyle(g),E=y.getPropertyValue("display");return b?E!==r&&o(g,y):E===t}catch{return console.warn("Failed to inspect element style"),!1}}function u(g){for(var b=g,y=g.getRootNode&&g.getRootNode();b&&b!==document.body;){if(y&&b===y&&(b=y.host.parentNode),l(b))return!1;b=b.parentNode}return!0}function c(g,b){var y=g.nodeName.toLowerCase(),E=i.test(y)&&!g.disabled||y==="a"&&g.href||b;return E&&u(g)}function f(g){var b=g.getAttribute("tabindex");b===null&&(b=void 0);var y=isNaN(b);return(y||b>=0)&&c(g,!y)}function v(g){var b=[].slice.call(g.querySelectorAll("*"),0).reduce(function(y,E){return y.concat(E.shadowRoot?v(E.shadowRoot):[E])},[]);return b.filter(f)}n.exports=e.default}(cy,cy.exports)),cy.exports}var iS;function Lk(){if(iS)return Hi;iS=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.resetState=l,Hi.log=u,Hi.handleBlur=c,Hi.handleFocus=f,Hi.markForFocusLater=v,Hi.returnFocus=g,Hi.popWithoutFocus=b,Hi.setupScopedFocus=y,Hi.teardownScopedFocus=E;var n=PA(),e=t(n);function t(x){return x&&x.__esModule?x:{default:x}}var r=[],i=null,o=!1;function l(){r=[]}function u(){}function c(){o=!0}function f(){if(o){if(o=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var x=(0,e.default)(i)[0]||i;x.focus()}},0)}}function v(){r.push(document.activeElement)}function g(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=null;try{r.length!==0&&(T=r.pop(),T.focus({preventScroll:x}));return}catch{console.warn(["You tried to return focus to",T,"but it is not in the DOM anymore"].join(" "))}}function b(){r.length>0&&r.pop()}function y(x){i=x,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",f))}function E(){i=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",f))}return Hi}var dy={exports:{}},oS;function Ik(){return oS||(oS=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=PA(),r=i(t);function i(u){return u&&u.__esModule?u:{default:u}}function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?o(u.activeElement.shadowRoot):u.activeElement}function l(u,c){var f=(0,r.default)(u);if(!f.length){c.preventDefault();return}var v=void 0,g=c.shiftKey,b=f[0],y=f[f.length-1],E=o();if(u===E){if(!g)return;v=y}if(y===E&&!g&&(v=b),b===E&&g&&(v=y),v){c.preventDefault(),v.focus();return}var x=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),T=x!=null&&x[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(T){var w=f.indexOf(E);if(w>-1&&(w+=g?-1:1),v=f[w],typeof v>"u"){c.preventDefault(),v=g?y:b,v.focus();return}c.preventDefault(),v.focus()}}n.exports=e.default}(dy,dy.exports)),dy.exports}var wo={},rs={},u1={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var sS;function Bk(){return sS||(sS=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()}(u1)),u1.exports}var lS;function HE(){if(lS)return rs;lS=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.canUseDOM=rs.SafeNodeList=rs.SafeHTMLCollection=void 0;var n=Bk(),e=t(n);function t(o){return o&&o.__esModule?o:{default:o}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return rs.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},rs.SafeNodeList=r.canUseDOM?window.NodeList:{},rs.canUseDOM=r.canUseDOM,rs.default=i,rs}var uS;function FA(){if(uS)return wo;uS=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.resetState=o,wo.log=l,wo.assertNodeList=u,wo.setElement=c,wo.validateElement=f,wo.hide=v,wo.show=g,wo.documentNotReadyOrSSRTesting=b;var n=QC(),e=r(n),t=HE();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function o(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function l(){}function u(y,E){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+E+".")}function c(y){var E=y;if(typeof E=="string"&&t.canUseDOM){var x=document.querySelectorAll(E);u(x,E),E=x}return i=E||i,i}function f(y){var E=y||i;return E?Array.isArray(E)||E instanceof HTMLCollection||E instanceof NodeList?E:[E]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function v(y){var E=!0,x=!1,T=void 0;try{for(var w=f(y)[Symbol.iterator](),R;!(E=(R=w.next()).done);E=!0){var A=R.value;A.setAttribute("aria-hidden","true")}}catch(O){x=!0,T=O}finally{try{!E&&w.return&&w.return()}finally{if(x)throw T}}}function g(y){var E=!0,x=!1,T=void 0;try{for(var w=f(y)[Symbol.iterator](),R;!(E=(R=w.next()).done);E=!0){var A=R.value;A.removeAttribute("aria-hidden")}}catch(O){x=!0,T=O}finally{try{!E&&w.return&&w.return()}finally{if(x)throw T}}}function b(){i=null}return wo}var mf={},fS;function _k(){if(fS)return mf;fS=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.resetState=r,mf.log=i;var n={},e={};function t(f,v){f.classList.remove(v)}function r(){var f=document.getElementsByTagName("html")[0];for(var v in n)t(f,n[v]);var g=document.body;for(var b in e)t(g,e[b]);n={},e={}}function i(){}var o=function(v,g){return v[g]||(v[g]=0),v[g]+=1,g},l=function(v,g){return v[g]&&(v[g]-=1),g},u=function(v,g,b){b.forEach(function(y){o(g,y),v.add(y)})},c=function(v,g,b){b.forEach(function(y){l(g,y),g[y]===0&&v.remove(y)})};return mf.add=function(v,g){return u(v.classList,v.nodeName.toLowerCase()=="html"?n:e,g.split(" "))},mf.remove=function(v,g){return c(v.classList,v.nodeName.toLowerCase()=="html"?n:e,g.split(" "))},mf}var dd={},cS;function kA(){if(cS)return dd;cS=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.log=r,dd.resetState=i;function n(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var e=function o(){var l=this;n(this,o),this.register=function(u){l.openInstances.indexOf(u)===-1&&(l.openInstances.push(u),l.emit("register"))},this.deregister=function(u){var c=l.openInstances.indexOf(u);c!==-1&&(l.openInstances.splice(c,1),l.emit("deregister"))},this.subscribe=function(u){l.subscribers.push(u)},this.emit=function(u){l.subscribers.forEach(function(c){return c(u,l.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function r(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(o){return console.log(o)}),console.log("end portalOpenInstances ----------")}function i(){t=new e}return dd.default=t,dd}var Zv={},dS;function Pk(){if(dS)return Zv;dS=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.resetState=l,Zv.log=u;var n=kA(),e=t(n);function t(v){return v&&v.__esModule?v:{default:v}}var r=void 0,i=void 0,o=[];function l(){for(var v=[r,i],g=0;g<v.length;g++){var b=v[g];b&&b.parentNode&&b.parentNode.removeChild(b)}r=i=null,o=[]}function u(){console.log("bodyTrap ----------"),console.log(o.length);for(var v=[r,i],g=0;g<v.length;g++){var b=v[g],y=b||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function c(){o.length!==0&&o[o.length-1].focusContent()}function f(v,g){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",c),i=r.cloneNode(),i.addEventListener("focus",c)),o=g,o.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(f),Zv}var hS;function Fk(){return hS||(hS=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(D){for(var _=1;_<arguments.length;_++){var I=arguments[_];for(var L in I)Object.prototype.hasOwnProperty.call(I,L)&&(D[L]=I[L])}return D},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},i=function(){function D(_,I){for(var L=0;L<I.length;L++){var k=I[L];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,I,L){return I&&D(_.prototype,I),L&&D(_,L),_}}(),o=Og(),l=bE(),u=B(l),c=Lk(),f=O(c),v=Ik(),g=B(v),b=FA(),y=O(b),E=_k(),x=O(E),T=HE(),w=B(T),R=kA(),A=B(R);Pk();function O(D){if(D&&D.__esModule)return D;var _={};if(D!=null)for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(_[I]=D[I]);return _.default=D,_}function B(D){return D&&D.__esModule?D:{default:D}}function z(D,_){if(!(D instanceof _))throw new TypeError("Cannot call a class as a function")}function N(D,_){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:D}function U(D,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);D.prototype=Object.create(_&&_.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(D,_):D.__proto__=_)}var F={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},V=function(_){return _.code==="Tab"||_.keyCode===9},Y=function(_){return _.code==="Escape"||_.keyCode===27},H=0,$=function(D){U(_,D);function _(I){z(this,_);var L=N(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,I));return L.setOverlayRef=function(k){L.overlay=k,L.props.overlayRef&&L.props.overlayRef(k)},L.setContentRef=function(k){L.content=k,L.props.contentRef&&L.props.contentRef(k)},L.afterClose=function(){var k=L.props,K=k.appElement,G=k.ariaHideApp,X=k.htmlOpenClassName,Z=k.bodyOpenClassName,J=k.parentSelector,re=J&&J().ownerDocument||document;Z&&x.remove(re.body,Z),X&&x.remove(re.getElementsByTagName("html")[0],X),G&&H>0&&(H-=1,H===0&&y.show(K)),L.props.shouldFocusAfterRender&&(L.props.shouldReturnFocusAfterClose?(f.returnFocus(L.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),L.props.onAfterClose&&L.props.onAfterClose(),A.default.deregister(L)},L.open=function(){L.beforeOpen(),L.state.afterOpen&&L.state.beforeClose?(clearTimeout(L.closeTimer),L.setState({beforeClose:!1})):(L.props.shouldFocusAfterRender&&(f.setupScopedFocus(L.node),f.markForFocusLater()),L.setState({isOpen:!0},function(){L.openAnimationFrame=requestAnimationFrame(function(){L.setState({afterOpen:!0}),L.props.isOpen&&L.props.onAfterOpen&&L.props.onAfterOpen({overlayEl:L.overlay,contentEl:L.content})})}))},L.close=function(){L.props.closeTimeoutMS>0?L.closeWithTimeout():L.closeWithoutTimeout()},L.focusContent=function(){return L.content&&!L.contentHasFocus()&&L.content.focus({preventScroll:!0})},L.closeWithTimeout=function(){var k=Date.now()+L.props.closeTimeoutMS;L.setState({beforeClose:!0,closesAt:k},function(){L.closeTimer=setTimeout(L.closeWithoutTimeout,L.state.closesAt-Date.now())})},L.closeWithoutTimeout=function(){L.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},L.afterClose)},L.handleKeyDown=function(k){V(k)&&(0,g.default)(L.content,k),L.props.shouldCloseOnEsc&&Y(k)&&(k.stopPropagation(),L.requestClose(k))},L.handleOverlayOnClick=function(k){L.shouldClose===null&&(L.shouldClose=!0),L.shouldClose&&L.props.shouldCloseOnOverlayClick&&(L.ownerHandlesClose()?L.requestClose(k):L.focusContent()),L.shouldClose=null},L.handleContentOnMouseUp=function(){L.shouldClose=!1},L.handleOverlayOnMouseDown=function(k){!L.props.shouldCloseOnOverlayClick&&k.target==L.overlay&&k.preventDefault()},L.handleContentOnClick=function(){L.shouldClose=!1},L.handleContentOnMouseDown=function(){L.shouldClose=!1},L.requestClose=function(k){return L.ownerHandlesClose()&&L.props.onRequestClose(k)},L.ownerHandlesClose=function(){return L.props.onRequestClose},L.shouldBeClosed=function(){return!L.state.isOpen&&!L.state.beforeClose},L.contentHasFocus=function(){return document.activeElement===L.content||L.content.contains(document.activeElement)},L.buildClassName=function(k,K){var G=(typeof K>"u"?"undefined":r(K))==="object"?K:{base:F[k],afterOpen:F[k]+"--after-open",beforeClose:F[k]+"--before-close"},X=G.base;return L.state.afterOpen&&(X=X+" "+G.afterOpen),L.state.beforeClose&&(X=X+" "+G.beforeClose),typeof K=="string"&&K?X+" "+K:X},L.attributesFromObject=function(k,K){return Object.keys(K).reduce(function(G,X){return G[k+"-"+X]=K[X],G},{})},L.state={afterOpen:!1,beforeClose:!1},L.shouldClose=null,L.moveFromContentToOverlay=null,L}return i(_,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(L,k){this.props.isOpen&&!L.isOpen?this.open():!this.props.isOpen&&L.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!k.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var L=this.props,k=L.appElement,K=L.ariaHideApp,G=L.htmlOpenClassName,X=L.bodyOpenClassName,Z=L.parentSelector,J=Z&&Z().ownerDocument||document;X&&x.add(J.body,X),G&&x.add(J.getElementsByTagName("html")[0],G),K&&(H+=1,y.hide(k)),A.default.register(this)}},{key:"render",value:function(){var L=this.props,k=L.id,K=L.className,G=L.overlayClassName,X=L.defaultStyles,Z=L.children,J=K?{}:X.content,re=G?{}:X.overlay;if(this.shouldBeClosed())return null;var ie={ref:this.setOverlayRef,className:this.buildClassName("overlay",G),style:t({},re,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},oe=t({id:k,ref:this.setContentRef,style:t({},J,this.props.style.content),className:this.buildClassName("content",K),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),he=this.props.contentElement(oe,Z);return this.props.overlayElement(ie,he)}}]),_}(o.Component);$.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},$.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),parentSelector:u.default.func,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(w.default),u.default.instanceOf(T.SafeHTMLCollection),u.default.instanceOf(T.SafeNodeList),u.default.arrayOf(u.default.instanceOf(w.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},e.default=$,n.exports=e.default}(fy,fy.exports)),fy.exports}const kk=ER(T_);var vS;function Uk(){if(vS)return Gl;vS=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.bodyOpenClassName=Gl.portalClassName=void 0;var n=Object.assign||function(Y){for(var H=1;H<arguments.length;H++){var $=arguments[H];for(var D in $)Object.prototype.hasOwnProperty.call($,D)&&(Y[D]=$[D])}return Y},e=function(){function Y(H,$){for(var D=0;D<$.length;D++){var _=$[D];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(H,_.key,_)}}return function(H,$,D){return $&&Y(H.prototype,$),D&&Y(H,D),H}}(),t=Og(),r=T(t),i=H1(),o=T(i),l=bE(),u=T(l),c=Fk(),f=T(c),v=FA(),g=x(v),b=HE(),y=T(b),E=kk;function x(Y){if(Y&&Y.__esModule)return Y;var H={};if(Y!=null)for(var $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(H[$]=Y[$]);return H.default=Y,H}function T(Y){return Y&&Y.__esModule?Y:{default:Y}}function w(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}function R(Y,H){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:Y}function A(Y,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);Y.prototype=Object.create(H&&H.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,H):Y.__proto__=H)}var O=Gl.portalClassName="ReactModalPortal",B=Gl.bodyOpenClassName="ReactModal__Body--open",z=b.canUseDOM&&o.default.createPortal!==void 0,N=function(H){return document.createElement(H)},U=function(){return z?o.default.createPortal:o.default.unstable_renderSubtreeIntoContainer};function F(Y){return Y()}var V=function(Y){A(H,Y);function H(){var $,D,_,I;w(this,H);for(var L=arguments.length,k=Array(L),K=0;K<L;K++)k[K]=arguments[K];return I=(D=(_=R(this,($=H.__proto__||Object.getPrototypeOf(H)).call.apply($,[this].concat(k))),_),_.removePortal=function(){!z&&o.default.unmountComponentAtNode(_.node);var G=F(_.props.parentSelector);G&&G.contains(_.node)?G.removeChild(_.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},_.portalRef=function(G){_.portal=G},_.renderPortal=function(G){var X=U(),Z=X(_,r.default.createElement(f.default,n({defaultStyles:H.defaultStyles},G)),_.node);_.portalRef(Z)},D),R(_,I)}return e(H,[{key:"componentDidMount",value:function(){if(b.canUseDOM){z||(this.node=N("div")),this.node.className=this.props.portalClassName;var D=F(this.props.parentSelector);D.appendChild(this.node),!z&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(D){var _=F(D.parentSelector),I=F(this.props.parentSelector);return{prevParent:_,nextParent:I}}},{key:"componentDidUpdate",value:function(D,_,I){if(b.canUseDOM){var L=this.props,k=L.isOpen,K=L.portalClassName;D.portalClassName!==K&&(this.node.className=K);var G=I.prevParent,X=I.nextParent;X!==G&&(G.removeChild(this.node),X.appendChild(this.node)),!(!D.isOpen&&!k)&&!z&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!b.canUseDOM||!this.node||!this.portal)){var D=this.portal.state,_=Date.now(),I=D.isOpen&&this.props.closeTimeoutMS&&(D.closesAt||_+this.props.closeTimeoutMS);I?(D.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,I-_)):this.removePortal()}}},{key:"render",value:function(){if(!b.canUseDOM||!z)return null;!this.node&&z&&(this.node=N("div"));var D=U();return D(r.default.createElement(f.default,n({ref:this.portalRef,defaultStyles:H.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(D){g.setElement(D)}}]),H}(t.Component);return V.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(y.default),u.default.instanceOf(b.SafeHTMLCollection),u.default.instanceOf(b.SafeNodeList),u.default.arrayOf(u.default.instanceOf(y.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},V.defaultProps={isOpen:!1,portalClassName:O,bodyOpenClassName:B,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(H,$){return r.default.createElement("div",H,$)},contentElement:function(H,$){return r.default.createElement("div",H,$)}},V.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,E.polyfill)(V),Gl.default=V,Gl}var gS;function zk(){return gS||(gS=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Uk(),r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,n.exports=e.default}(uy,uy.exports)),uy.exports}var Gk=zk();const G1=fs(Gk);var f1={exports:{}},pS;function Hk(){return pS||(pS=1,function(n){(function(e,t,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c,f=1;f<20;++f)i[111+f]="f"+f;for(f=0;f<=9;++f)i[f+96]=f.toString();function v(N,U,F){if(N.addEventListener){N.addEventListener(U,F,!1);return}N.attachEvent("on"+U,F)}function g(N){if(N.type=="keypress"){var U=String.fromCharCode(N.which);return N.shiftKey||(U=U.toLowerCase()),U}return i[N.which]?i[N.which]:o[N.which]?o[N.which]:String.fromCharCode(N.which).toLowerCase()}function b(N,U){return N.sort().join(",")===U.sort().join(",")}function y(N){var U=[];return N.shiftKey&&U.push("shift"),N.altKey&&U.push("alt"),N.ctrlKey&&U.push("ctrl"),N.metaKey&&U.push("meta"),U}function E(N){if(N.preventDefault){N.preventDefault();return}N.returnValue=!1}function x(N){if(N.stopPropagation){N.stopPropagation();return}N.cancelBubble=!0}function T(N){return N=="shift"||N=="ctrl"||N=="alt"||N=="meta"}function w(){if(!c){c={};for(var N in i)N>95&&N<112||i.hasOwnProperty(N)&&(c[i[N]]=N)}return c}function R(N,U,F){return F||(F=w()[N]?"keydown":"keypress"),F=="keypress"&&U.length&&(F="keydown"),F}function A(N){return N==="+"?["+"]:(N=N.replace(/\+{2}/g,"+plus"),N.split("+"))}function O(N,U){var F,V,Y,H=[];for(F=A(N),Y=0;Y<F.length;++Y)V=F[Y],u[V]&&(V=u[V]),U&&U!="keypress"&&l[V]&&(V=l[V],H.push("shift")),T(V)&&H.push(V);return U=R(V,H,U),{key:V,modifiers:H,action:U}}function B(N,U){return N===null||N===t?!1:N===U?!0:B(N.parentNode,U)}function z(N){var U=this;if(N=N||t,!(U instanceof z))return new z(N);U.target=N,U._callbacks={},U._directMap={};var F={},V,Y=!1,H=!1,$=!1;function D(X){X=X||{};var Z=!1,J;for(J in F){if(X[J]){Z=!0;continue}F[J]=0}Z||($=!1)}function _(X,Z,J,re,ie,oe){var he,se,te=[],ae=J.type;if(!U._callbacks[X])return[];for(ae=="keyup"&&T(X)&&(Z=[X]),he=0;he<U._callbacks[X].length;++he)if(se=U._callbacks[X][he],!(!re&&se.seq&&F[se.seq]!=se.level)&&ae==se.action&&(ae=="keypress"&&!J.metaKey&&!J.ctrlKey||b(Z,se.modifiers))){var le=!re&&se.combo==ie,me=re&&se.seq==re&&se.level==oe;(le||me)&&U._callbacks[X].splice(he,1),te.push(se)}return te}function I(X,Z,J,re){U.stopCallback(Z,Z.target||Z.srcElement,J,re)||X(Z,J)===!1&&(E(Z),x(Z))}U._handleKey=function(X,Z,J){var re=_(X,Z,J),ie,oe={},he=0,se=!1;for(ie=0;ie<re.length;++ie)re[ie].seq&&(he=Math.max(he,re[ie].level));for(ie=0;ie<re.length;++ie){if(re[ie].seq){if(re[ie].level!=he)continue;se=!0,oe[re[ie].seq]=1,I(re[ie].callback,J,re[ie].combo,re[ie].seq);continue}se||I(re[ie].callback,J,re[ie].combo)}var te=J.type=="keypress"&&H;J.type==$&&!T(X)&&!te&&D(oe),H=se&&J.type=="keydown"};function L(X){typeof X.which!="number"&&(X.which=X.keyCode);var Z=g(X);if(Z){if(X.type=="keyup"&&Y===Z){Y=!1;return}U.handleKey(Z,y(X),X)}}function k(){clearTimeout(V),V=setTimeout(D,1e3)}function K(X,Z,J,re){F[X]=0;function ie(ae){return function(){$=ae,++F[X],k()}}function oe(ae){I(J,ae,X),re!=="keyup"&&(Y=g(ae)),setTimeout(D,10)}for(var he=0;he<Z.length;++he){var se=he+1===Z.length,te=se?oe:ie(re||O(Z[he+1]).action);G(Z[he],te,re,X,he)}}function G(X,Z,J,re,ie){U._directMap[X+":"+J]=Z,X=X.replace(/\s+/g," ");var oe=X.split(" "),he;if(oe.length>1){K(X,oe,Z,J);return}he=O(X,J),U._callbacks[he.key]=U._callbacks[he.key]||[],_(he.key,he.modifiers,{type:he.action},re,X,ie),U._callbacks[he.key][re?"unshift":"push"]({callback:Z,modifiers:he.modifiers,action:he.action,seq:re,level:ie,combo:X})}U._bindMultiple=function(X,Z,J){for(var re=0;re<X.length;++re)G(X[re],Z,J)},v(N,"keypress",L),v(N,"keydown",L),v(N,"keyup",L)}z.prototype.bind=function(N,U,F){var V=this;return N=N instanceof Array?N:[N],V._bindMultiple.call(V,N,U,F),V},z.prototype.unbind=function(N,U){var F=this;return F.bind.call(F,N,function(){},U)},z.prototype.trigger=function(N,U){var F=this;return F._directMap[N+":"+U]&&F._directMap[N+":"+U]({},N),F},z.prototype.reset=function(){var N=this;return N._callbacks={},N._directMap={},N},z.prototype.stopCallback=function(N,U){var F=this;if((" "+U.className+" ").indexOf(" mousetrap ")>-1||B(U,F.target))return!1;if("composedPath"in N&&typeof N.composedPath=="function"){var V=N.composedPath()[0];V!==N.target&&(U=V)}return U.tagName=="INPUT"||U.tagName=="SELECT"||U.tagName=="TEXTAREA"||U.isContentEditable},z.prototype.handleKey=function(){var N=this;return N._handleKey.apply(N,arguments)},z.addKeycodes=function(N){for(var U in N)N.hasOwnProperty(U)&&(i[U]=N[U]);c=null},z.init=function(){var N=z(t);for(var U in N)U.charAt(0)!=="_"&&(z[U]=function(F){return function(){return N[F].apply(N,arguments)}}(U))},z.init(),e.Mousetrap=z,n.exports&&(n.exports=z)})(typeof window<"u"?window:null,typeof window<"u"?document:null)}(f1)),f1.exports}var Vk=Hk();const zs=fs(Vk);var Ry={exports:{}},Yk=Ry.exports,mS;function qk(){return mS||(mS=1,function(n,e){(function(t,r){r()})(Yk,function(){function t(f,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,v,g){var b=new XMLHttpRequest;b.open("GET",f),b.responseType="blob",b.onload=function(){c(b.response,v,g)},b.onerror=function(){console.error("could not download file")},b.send()}function i(f){var v=new XMLHttpRequest;v.open("HEAD",f,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function o(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(v)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Xl=="object"&&Xl.global===Xl?Xl:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,v,g){var b=l.URL||l.webkitURL,y=document.createElement("a");v=v||f.name||"download",y.download=v,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?o(y):i(y.href)?r(f,v,g):o(y,y.target="_blank")):(y.href=b.createObjectURL(f),setTimeout(function(){b.revokeObjectURL(y.href)},4e4),setTimeout(function(){o(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,v,g){if(v=v||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(t(f,g),v);else if(i(f))r(f,v,g);else{var b=document.createElement("a");b.href=f,b.target="_blank",setTimeout(function(){o(b)})}}:function(f,v,g,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof f=="string")return r(f,v,g);var y=f.type==="application/octet-stream",E=/constructor/i.test(l.HTMLElement)||l.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||y&&E||u)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var A=T.result;A=x?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=A:location=A,b=null},T.readAsDataURL(f)}else{var w=l.URL||l.webkitURL,R=w.createObjectURL(f);b?b.location=R:location.href=R,b=null,setTimeout(function(){w.revokeObjectURL(R)},4e4)}});l.saveAs=c.saveAs=c,n.exports=c})}(Ry)),Ry.exports}var Xk=qk();const UA=fs(Xk);function Wk(n){const e={...n.automaton};e.commandHistory=[];const t={kind:n.kind,automaton:e,visuals:n.getCytoscape().nodes().map(i=>({id:i.id(),position:i.position()}))},r=new Blob([JSON.stringify(t)],{type:"application/json"});return UA.saveAs(r,"exportedAutomaton.json"),t}function $k(n){const e={kind:n.kind,type:n.type,grammar:{grammarType:n.grammar.grammarType,nonTerminalSymbols:n.grammar.nonTerminalSymbols,terminalSymbols:n.grammar.terminalSymbols,initialNonTerminalSymbol:n.grammar.initialNonTerminalSymbol,productionRules:n.grammar.productionRules}},t=new Blob([JSON.stringify(e)],{type:"application/json"});return UA.saveAs(t,"exportedGrammar.json"),e}function Kk(n,e){const t=JSON.parse(n);switch(console.log("Parsed import:"),console.log(t),t.kind){case ft.AUTOMATON:return au.fromSavedJSON(t,e.mode);case ft.GRAMMAR:return zd.fromSavedJSON(t);default:alert("Uknown input; only grammars and automatons are supported.");return}}function Zk({id:n,formAction:e,setInitial:t}){const r=fe.useContext($i);if(r===void 0)throw new Error("This shit, too, must be used within a CoreProvider");const[i,o]=fe.useState(!1);return fe.useEffect(()=>{o(r.primary.kind===ft.AUTOMATON?r.primary.automaton.finalStateIds.includes(n):!1)},[n]),Ot("div",{className:"editables",children:[ve("h2",{children:"Edit state"}),Ot("form",{action:e,children:[ve("label",{htmlFor:"state-name",children:"Name of the state: "}),ve("input",{type:"text",id:"state-name",defaultValue:n,name:"state-name"}),ve("br",{}),ve("br",{}),ve("input",{type:"checkbox",id:"state-is-final",name:"state-is-final",checked:i,onChange:l=>o(l.target.checked)}),ve("label",{htmlFor:"state-is-final",children:"Is final state"}),ve("br",{}),ve("button",{className:"btn btn-primary m-1",type:"submit",children:"Edit state"}),ve("button",{className:"btn btn-primary m-1",type:"button",onClick:t,children:"Set as initial"})]})]})}function Qk({char:n,formAction:e}){return Ot("div",{className:"editables",children:[ve("h2",{children:"Edit edge"}),Ot("form",{action:e,children:[ve("label",{htmlFor:"edge-character",children:"Edge character: "}),ve("input",{type:"text",id:"edge-character",name:"edge-character",defaultValue:n}),ve("button",{type:"submit",children:"Edit edge"})]})]})}G1.setAppElement("#root");const yS={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0,0,0,0.5)"}};function Jk({children:n}){const e=fe.useContext($i);if(e===void 0)throw new Error("This shit, too, must be used within a CoreProvider");const[t,r]=fe.useState(!1),[i,o]=fe.useState("none"),[l,u]=fe.useState(""),[c,f]=fe.useState(""),[v,g]=fe.useState(""),b=fe.useRef(""),y=fe.useRef(""),E=fe.useRef({x:0,y:0});zs.bind("+",function(){B()}),zs.bind("s",function(){B()}),zs.bind("e",function(){z()}),zs.bind("x",function(){N()}),zs.bind("del",function(){N()}),zs.bind("esc",function(){o("none")}),zs.bind("f",function(){F()}),zs.bind("l",function(){wd(e.getCytoscape())}),zs.bind("ctrl+z",function(){U()});const x=_=>{u(""),f(""),u(_.target.id()),console.log("node edit click:",_.target.id())},T=_=>{f(_.target.data().id),g(_.target.data().label),u(""),console.log("edge edit click:",_.target.data())},w=_=>{_.target.id==null&&(E.current=_.position,console.log(_.position),f(""),u(""),r(!0))},R=_=>{b.current==""?(b.current=_.target.id(),console.log("selected first node:",b.current)):(y.current=_.target.id(),console.log("selected second node:",y.current),f(""),u(""),r(!0))},A=_=>{_.target.id==null&&(console.log("clicked elsewhere"),b.current="",u(""),f(""))};if(fe.useEffect(()=>{console.log("activation!!!"),e.primary.kind===ft.AUTOMATON&&e.primary.callbackAfterInit(_=>{_.on("tap","node",x),_.on("tap","edge",T),_.on("tap",A),e.primary.visual.clearHighlights()})},[e]),fe.useEffect(()=>{const I=(e==null?void 0:e.primary).getCytoscape();switch(i){case"createNode":I.removeListener("tap"),I.on("tap",w);return;case"createEdge":I.removeListener("tap"),I.on("tap","node",R),I.on("tap",A);return;case"none":I!=null&&(I.removeListener("tap"),I.on("tap","node",x),I.on("tap","edge",T),I.on("tap",A));return}},[i]),!e)throw new Error("AutomatonWindow must be used within a CoreProvider");function O(){console.log("closed modal"),r(!1),o("none")}function B(){const _=e==null?void 0:e.primary;if(i=="createNode"){o("none");return}switch(_==null?void 0:_.kind){case ft.AUTOMATON:{o("createNode");break}case ft.GRAMMAR:console.log("Cannot add state to grammar.");break}}function z(){const _=e==null?void 0:e.primary;if(i=="createEdge"){o("none");return}switch(_==null?void 0:_.kind){case ft.AUTOMATON:{o("createEdge");break}case ft.GRAMMAR:console.log("Cannot add edge to grammar.");break}}function N(){o("none");const _=e==null?void 0:e.primary,I=_==null?void 0:_.getCytoscape();switch(_==null?void 0:_.kind){case ft.AUTOMATON:{I.elements("node:selected").toArray().map(L=>{const k=_.removeState(L.data("id"));k!==void 0&&(alert(k.details),console.error(k.details))}),I.elements("edge:selected").toArray().map(L=>{const k=_.removeEdge(L.data("source"),L.data("target"),L.data("id"));k!==void 0&&(alert(k.details),console.error(k.details))});break}case ft.GRAMMAR:console.log("Cannot remove elements from grammar.");break}}function U(){const _=e==null?void 0:e.primary.undo();_!==void 0&&console.log(_.details)}function F(){const _=e==null?void 0:e.primary;switch(_==null?void 0:_.kind){case ft.AUTOMATON:{_.fit();break}case ft.GRAMMAR:console.log("Fit is not applicable to grammar window.");break}}function V(_){var L;const I=e==null?void 0:e.primary;switch(I==null?void 0:I.kind){case ft.AUTOMATON:{const k=I.addState(((L=_.get("state-name"))==null?void 0:L.toString())||"",E.current);k!==void 0?(console.error(k.details),alert(`Error: ${k.details}`)):(console.log("state added successfuly"),O());break}case ft.GRAMMAR:console.error("Cannot add state to grammar.");break}}function Y(_){var L,k;const I=e==null?void 0:e.primary;switch(I==null?void 0:I.kind){case ft.AUTOMATON:{const K=I.setIsFinalState(l,_.get("state-is-final")!=null);if(K!==void 0&&(console.error(K.details),alert(`Error: ${K.details}`)),((L=_.get("state-name"))==null?void 0:L.toString())!==l){const G=I.renameState(l,((k=_.get("state-name"))==null?void 0:k.toString())||l);G!==void 0&&(console.error(G.details),alert(`Error: ${G.details}`))}O(),u("");break}case ft.GRAMMAR:console.error("Cannot edit state in grammar.");break}}function H(){const _=e==null?void 0:e.primary;switch(_==null?void 0:_.kind){case ft.AUTOMATON:{const I=_.setInitialState(l);I!==void 0?(console.error(I.details),alert(`Error: ${I.details}`)):console.log("state successfuly set as initial"),O(),u("");break}case ft.GRAMMAR:console.error("Cannot edit state in grammar.");break}}function $(_){var L;const I=e==null?void 0:e.primary;switch(I==null?void 0:I.kind){case ft.AUTOMATON:{const k=((L=_.get("edge-character"))==null?void 0:L.toString())||"",K=I.addEdge(b.current,y.current,{id:"",inputChar:k});K!==void 0?(console.error(K.details),alert(`Error: ${K.details}`)):(console.log("edge added successfuly"),O(),b.current=y.current);break}case ft.GRAMMAR:console.error("Cannot add edge to grammar.");break}}function D(_){var L;const I=e==null?void 0:e.primary;switch(I==null?void 0:I.kind){case ft.AUTOMATON:{const k=((L=_.get("edge-character"))==null?void 0:L.toString())||"",K=I.editEdge(c,{id:c,inputChar:k});K!==void 0?(console.error(K.details),alert(`Error: ${K.details}`)):(console.log("edge edited successfuly"),O()),f("");break}case ft.GRAMMAR:console.error("Cannot change edge im grammar.");break}}return Ot(ia,{children:[ve("div",{className:"row",children:Ot("div",{className:"col-6",children:[Ot("div",{className:"stack",children:[ve("button",{className:`btn btn-primary m-1 ${i==="createNode"?"selectedButton":""}`,onClick:B,children:"Add state (S)"}),ve("button",{className:`btn btn-primary m-1 ${i==="createEdge"?"selectedButton":""}`,onClick:z,children:"Add edge (E)"}),ve("button",{className:"btn btn-primary m-1",onClick:N,children:"Remove states or edges (del)"}),ve("button",{className:"btn btn-primary m-1",onClick:U,children:"Undo"}),ve("button",{className:"btn btn-primary m-1",onClick:F,children:"Fit automaton to screen (F)"}),ve("button",{className:"btn btn-primary m-1",onClick:()=>wd(e.getCytoscape()),children:"Re-layout (L)"}),ve("button",{className:"btn btn-primary m-1",onClick:()=>{(e==null?void 0:e.primary.kind)===ft.AUTOMATON&&console.log(Wk(e==null?void 0:e.primary))},children:"Export"})]}),l!==""&&ve("div",{children:ve(Zk,{id:l,formAction:Y,setInitial:H})}),c!==""&&ve("div",{children:ve(Qk,{char:v,formAction:D})})]})}),Ot(G1,{isOpen:t&&i==="createNode",style:yS,children:[ve("button",{onClick:O,children:"close"}),ve("h2",{children:"Add state"}),Ot("form",{action:V,children:[ve("label",{htmlFor:"state-name",children:"Name of the state: "}),ve("input",{type:"text",id:"state-name",name:"state-name",autoFocus:!0}),ve("button",{type:"submit",children:"Add state"})]})]}),Ot(G1,{isOpen:t&&i==="createEdge",style:yS,children:[ve("button",{onClick:O,children:"close"}),ve("h2",{children:"Add edge"}),Ot("form",{action:$,children:[ve("label",{htmlFor:"edge-character",children:"Edge character: "}),ve("input",{type:"text",id:"edge-character",name:"edge-character",autoFocus:!0}),ve("button",{type:"submit",children:"Add edge"})]})]}),n]})}function zA({setButtonSet:n}){const e=fe.useContext($i);if(!e)throw new Error("Algorithms must be used within a CoreProvider");function t(){var u;const l=e.algorithmNext();l!==void 0?alert(l.details):wd((u=e==null?void 0:e.secondary)==null?void 0:u.getCytoscape())}function r(){var u;const l=e.algorithmUndo();l!==void 0?alert(l.details):wd((u=e==null?void 0:e.secondary)==null?void 0:u.getCytoscape())}function i(){var u;const l=e.transform();l!==void 0?alert(l.details):wd((u=e==null?void 0:e.secondary)==null?void 0:u.getCytoscape())}function o(l){const u=e.algorithmDelete(l);u!==void 0&&alert(u.details),n(Mf.NOTHING)}return ve(ia,{children:ve("div",{className:"row",children:ve("div",{className:"col",children:Ot(BA,{direction:"horizontal",gap:3,children:[ve("button",{className:"btn btn-primary m-1",onClick:t,children:"Next step"}),ve("button",{className:"btn btn-primary m-1",onClick:r,children:"Undo step"}),ve("button",{className:"btn btn-primary m-1",onClick:i,children:"Skip to the end"}),e.secondary===void 0?ve("button",{className:"btn btn-primary m-1",onClick:()=>o(!1),children:"Close algorithm"}):Ot(Hd,{id:"dropdown-algorithm-button",title:"Close algorithm",children:[ve(qs.Item,{onClick:()=>o(!1),children:"Keep first window"}),ve(qs.Item,{onClick:()=>o(!0),children:"Keep second window"})]})]})})})})}function jk({buttonSet:n,setButtonSet:e}){const t=fe.useContext($i);if(t===void 0)throw new Error("StartSimulationButtons must be used within a CoreProvider");const r=t.primary;if(r.kind!==ft.AUTOMATON)throw new Error("StartSimulationButtons must be used with Automaton in primary window");const[i,o]=fe.useState(""),[l,u]=fe.useState([]),[c,f]=fe.useState([]),[v,g]=fe.useState([]),[b,y]=fe.useState(!1),[E,x]=fe.useState(1),T=fe.useRef(null),w=fe.useRef(null),R=()=>{var F;y(!0),(F=T==null?void 0:T.current)==null||F.play(),w.current===null&&(w.current=window.setInterval(()=>{N()||A()},E*1e3))},A=()=>{var F;y(!1),(F=T==null?void 0:T.current)==null||F.pause(),w.current!==null&&(clearInterval(w.current),w.current=null)};fe.useEffect(()=>()=>{w.current!==null&&clearInterval(w.current)},[]);const O=F=>{T.current&&(T.current.playbackRate=F)},B=()=>{console.log(r.mode);const F=i.split("");T.current&&(T.current.currentTime=0);const V=r.runStart(F);if(V!==void 0){alert(V.details);return}e(Mf.SIMULATION),g(F),f(F),u([])},z=()=>{const F=r.runEnd();if(F!==void 0){alert(F.details);return}e(Mf.NOTHING),f([]),u([]),A()};function N(){if(r.kind!==ft.AUTOMATON)return!1;const F=r.runNext();if(F)return alert(F.details),!1;const V=r.getRemainingInput();if(!V)return!1;const Y=v.length-V.length,H=v.slice(0,Y);return u(H),f(V),!0}function U(){if(r.kind!==ft.AUTOMATON)return!1;const F=r.runUndo();if(F)return alert(F.details),!1;const V=r.getRemainingInput();if(!V)return!1;const Y=v.length-V.length,H=v.slice(0,Y);return u(H),f(V),!0}return n===Mf.NOTHING?Ot("div",{children:["vstupn slovo: ",ve("input",{type:"text",value:i,onChange:F=>o(F.target.value),placeholder:vr}),ve("button",{onClick:B,children:"Simuluj slovo"})," ",ve("br",{})]}):Ot("div",{children:[ve("audio",{ref:T,src:"/fojalka/simulation-music.aac",hidden:!0,loop:!0}),Ot("div",{children:["tan slovo:",ve("input",{type:"text",size:l.length+1,value:l.join(""),readOnly:!0}),ve("input",{type:"text",size:c.length+1,value:""+c.join(""),readOnly:!0}),ve("button",{onClick:()=>z(),children:"stopni simulaciu"})," ",ve("br",{}),ve("button",{onClick:U,children:"predchadzajuci krok"}),ve("button",{onClick:N,children:"dalsi krok"})," ",ve("br",{}),"autoplay",Ot("div",{hidden:b,children:[ve("button",{onClick:R,children:""})," | rchlos",ve("input",{type:"number",min:.1,max:2,step:.1,value:E,onChange:F=>{x(Number(F.target.value)),O(Number(F.target.value))}})]}),ve("button",{onClick:A,hidden:!b,children:""})]})]})}class qg{constructor(){De(this,"inputType");De(this,"outputType");De(this,"results");De(this,"index",0)}next(){if(this.results===void 0)throw new Error("Cannot simulate algorithm step before start.");if(this.index!==this.results.length)return this.results[this.index++]}}class e5 extends qg{constructor(t){super();De(this,"inputType",{Kind:ft.AUTOMATON,AutomatonType:Xn.FINITE});De(this,"outputType",{Kind:ft.AUTOMATON,AutomatonType:Xn.FINITE});De(this,"inputCore");De(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.automaton.automatonType!==this.inputType.AutomatonType)throw new Error("Cannot use algorithm, as it only works with finite automata.");if(this.hasEpsilonTransitions())throw new Error("Cannot use algorithm, as the input automaton has epsilon transitions. Try running algorithm for epsilon removal first.");if(!this.isContinuous())throw new Error("Cannot use algorithm, as some of the states are not reachable from the ititial state.");return this.outputCore=new au(Xn.FINITE,Wy,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ye("Cannot undo algorithm step before start.");if(this.index===0)return new Ye("There is nothing to undo.");this.outputCore.automaton.undo(),this.index--}precomputeResults(){const t=[],r=[],i=[];i.push(this.inputCore.automaton.initialStateId),r.push(i),t.push(i);const o=[],l=this.inputCore.automaton.deltaFunctionMatrix;for(const f in l)for(const v in l[f])for(const g of l[f][v])o.includes(g.inputChar)||o.push(g.inputChar);this.results=[];let u=new pE(this.outputCore.automaton,V1,this.stateToString(i)),c=[this.inputCore.automaton.initialStateId];for(this.results.push({highlight:c,command:u}),this.inputCore.automaton.finalStateIds.includes(this.inputCore.automaton.initialStateId)&&(u=new Cg(this.outputCore.automaton,this.stateToString(i),!0),this.results.push({highlight:c,command:u}));r.length!==0;){const f=r.pop();for(const v of o){const g=[],b=[];for(const E of f)for(const x in l[E])for(const T of l[E][x])T.inputChar===v&&(g.includes(x)||g.push(x),b.push(T.id));c=g,t.some(E=>this.equalState(E,g))||(t.push(g),r.push(g),u=new Gy(this.outputCore.automaton,this.stateToString(g)),this.results.push({highlight:c,command:u}),this.inputCore.automaton.finalStateIds.some(E=>g.includes(E))&&(u=new Cg(this.outputCore.automaton,this.stateToString(g),!0),this.results.push({highlight:c,command:u})));const y=this.outputCore.createEdge({id:"",inputChar:v});u=new Cf(this.outputCore.automaton,this.stateToString(f),this.stateToString(g),y),this.results.push({highlight:b,command:u})}}}stateToString(t){return t.sort(),"{"+t.join()+"}"}equalState(t,r){return t.length!==r.length?!1:t.every(i=>r.includes(i))}hasEpsilonTransitions(){const t=this.inputCore.automaton.deltaFunctionMatrix;for(const r in t)for(const i in t[r])if(t[r][i].some(o=>o.inputChar===vr))return!0;return!1}isContinuous(){const t=[this.inputCore.automaton.initialStateId],r=[this.inputCore.automaton.initialStateId];for(;r.length!==0;){const i=r.pop();for(const o in this.inputCore.automaton.deltaFunctionMatrix[i])t.includes(o)||(t.push(o),r.push(o))}return t.length===this.inputCore.automaton.states.length}}class t5 extends qg{constructor(t){super();De(this,"inputType",{Kind:ft.AUTOMATON,AutomatonType:Xn.FINITE});De(this,"outputType");De(this,"inputCore");De(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.automaton.automatonType!==this.inputType.AutomatonType)throw new Error("Cannot use algorithm, as it only works with finite automata.");this.hasEpsilonTransitions()?this.precomputeResults():this.results=[],this.outputCore=new au(Xn.FINITE,Wy,t)}undo(){if(this.results===void 0)return new Ye("Cannot undo algorithm step before start.");if(this.index===0)return new Ye("There is nothing to undo.");this.inputCore.automaton.undo(),this.index--}precomputeResults(){this.results=[];const t={},r=[],i=this.inputCore.automaton.deltaFunctionMatrix,o=this.inputCore.automaton.initialStateId,l=[];for(const c of this.inputCore.automaton.states)for(t[c]=[c],l.push(c);l.length!==0;){const f=l.pop();for(const v in i[f])!t[c].includes(v)&&i[f][v].some(g=>g.inputChar===vr)&&(l.push(v),t[c].push(v))}const u=[];for(const c in i)for(const f in i[c])for(const v of i[c][f])!u.includes(v.inputChar)&&v.inputChar!==vr&&u.push(v.inputChar);for(const c in i)for(const f in i[c])for(const v of i[c][f])if(v.inputChar===vr){const g=new wC(this.inputCore.automaton,c,f,v.id);this.results.push({highlight:[],command:g})}for(const c of this.inputCore.automaton.states)if(c!==o)for(const f of u){const v=this.getEndStates(c,f,t);for(const g of v)if((i[c][g]===void 0||!i[c][g].some(b=>b.inputChar===f))&&!r.some(b=>b[0]===c&&b[1]===g&&b[2]===f)){const b=this.inputCore.createEdge({id:"",inputChar:f}),y=new Cf(this.inputCore.automaton,c,g,b);this.results.push({highlight:[],command:y}),r.push([c,g,f])}}for(const c of u)for(const f of t[o]){const v=this.getEndStates(f,c,t);for(const g of v)if((i[o][g]===void 0||!i[o][g].some(b=>b.inputChar===c))&&!r.some(b=>b[0]===o&&b[1]===g&&b[2]===c)){const b=this.inputCore.createEdge({id:"",inputChar:c}),y=new Cf(this.inputCore.automaton,o,g,b);this.results.push({highlight:[],command:y}),r.push([o,g,c])}}if(t[o].some(c=>this.inputCore.automaton.finalStateIds.includes(c))){const c=new Cg(this.inputCore.automaton,o,!0);this.results.push({highlight:[],command:c})}}hasEpsilonTransitions(){const t=this.inputCore.automaton.deltaFunctionMatrix;for(const r in t)for(const i in t[r])if(t[r][i].some(o=>o.inputChar===vr))return!0;return!1}getEndStates(t,r,i){const o=[];for(const l in this.inputCore.automaton.deltaFunctionMatrix[t])for(const u of this.inputCore.automaton.deltaFunctionMatrix[t][l])if(u.inputChar===r)for(const c of i[l])o.includes(c)||o.push(c);return o}}class n5 extends qg{constructor(t){super();De(this,"inputType",{Kind:ft.AUTOMATON,AutomatonType:Xn.FINITE});De(this,"outputType",{Kind:ft.GRAMMAR,GrammarType:Ir.REGULAR});De(this,"inputCore");De(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.automaton.automatonType!==this.inputType.AutomatonType)throw new Error("Cannot use algorithm, as it only works with finite automata.");return this.outputCore=new zd(Ir.REGULAR,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ye("Cannot undo algorithm step before start.");if(this.index===0)return new Ye("There is nothing to undo.");this.outputCore.grammar.undo(),this.index--}precomputeResults(){this.results=[];const t=this.inputCore.automaton.deltaFunctionMatrix;this.outputCore.grammar.nonTerminalSymbols=[...this.inputCore.automaton.states],this.outputCore.grammar.terminalSymbols=this.getAlphabet(),this.outputCore.grammar.initialNonTerminalSymbol=this.inputCore.automaton.initialStateId;for(const r in t)for(const i in t[r])for(const o of t[r][i]){let l=[];o.inputChar===vr?l=[i]:l=[o.inputChar,i];const u=this.outputCore.factory.createProductionRule(r,l,this.outputCore.grammar),c=new ql(this.outputCore.grammar,u);this.results.push({highlight:[o.id,r,i],command:c})}for(const r of this.inputCore.automaton.finalStateIds){const i=this.outputCore.factory.createProductionRule(r,[vr],this.outputCore.grammar),o=new ql(this.outputCore.grammar,i);this.results.push({highlight:[r],command:o})}}getAlphabet(){const t=this.inputCore.automaton.deltaFunctionMatrix,r=[];for(const i in t)for(const o in t[i])for(const l of t[i][o])!r.includes(l.inputChar)&&l.inputChar!==vr&&r.push(l.inputChar);return r}}class r5 extends qg{constructor(t){super();De(this,"inputType",{Kind:ft.GRAMMAR,GrammarType:Ir.REGULAR});De(this,"outputType",{Kind:ft.AUTOMATON,AutomatonType:Xn.FINITE});De(this,"inputCore");De(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.grammar.grammarType!==this.inputType.GrammarType)throw new Error("Cannot use algorithm, as it only works with regular grammars.");if(!this.isGrammarInNormalForm())throw new Error("Cannot use algorithm, as the grammar is not in required normal form. Try running the normal form algorithm first.");return this.outputCore=new au(Xn.FINITE,Wy,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ye("Cannot undo algorithm step before start.");if(this.index===0)return new Ye("There is nothing to undo.");this.outputCore.automaton.undo(),this.index--}precomputeResults(){this.results=[];const t=this.inputCore.grammar.initialNonTerminalSymbol;let r=new pE(this.outputCore.automaton,V1,t);this.results.push({highlight:[t],command:r});for(const i of this.inputCore.grammar.nonTerminalSymbols)i!==t&&(r=new Gy(this.outputCore.automaton,i),this.results.push({highlight:[i],command:r}));r=new Gy(this.outputCore.automaton,"fin"),this.results.push({highlight:[],command:r}),r=new Cg(this.outputCore.automaton,"fin",!0),this.results.push({highlight:[],command:r});for(const i of this.inputCore.grammar.productionRules){const o=i.outputSymbols[0],l=i.outputSymbols[1];if(i.outputSymbols.length===2){const u=this.outputCore.createEdge({id:"",inputChar:o});r=new Cf(this.outputCore.automaton,i.inputNonTerminal,l,u)}else if(this.inputCore.grammar.hasNonTerminalSymbol(o)){const u=this.outputCore.createEdge({id:"",inputChar:vr});r=new Cf(this.outputCore.automaton,i.inputNonTerminal,o,u)}else{const u=this.outputCore.createEdge({id:"",inputChar:o});r=new Cf(this.outputCore.automaton,i.inputNonTerminal,"fin",u)}this.results.push({highlight:[i.id],command:r})}}isGrammarInNormalForm(){for(const t of this.inputCore.grammar.productionRules)if(t.outputSymbols.length>2||t.outputSymbols.length==2&&!this.inputCore.grammar.hasNonTerminalSymbol(t.outputSymbols[1]))return!1;return!0}}class a5 extends qg{constructor(t){super();De(this,"inputType",{Kind:ft.GRAMMAR,GrammarType:Ir.REGULAR});De(this,"outputType",{Kind:ft.GRAMMAR,GrammarType:Ir.REGULAR});De(this,"inputCore");De(this,"outputCore");this.inputCore=t}init(t){if(this.inputCore.grammar.grammarType!==this.inputType.GrammarType)throw new Error("Cannot use algorithm, as it only works with regular grammars.");return this.outputCore=new zd(Ir.REGULAR,t),this.precomputeResults(),this.outputCore}undo(){if(this.outputCore===void 0)return new Ye("Cannot undo algorithm step before start.");if(this.index===0)return new Ye("There is nothing to undo.");this.outputCore.grammar.undo(),this.index--}precomputeResults(){this.outputCore.grammar.nonTerminalSymbols=[...this.inputCore.grammar.nonTerminalSymbols],this.outputCore.grammar.terminalSymbols=[...this.inputCore.grammar.terminalSymbols],this.outputCore.grammar.initialNonTerminalSymbol=this.inputCore.grammar.initialNonTerminalSymbol,this.results=[];let t=1;for(const r of this.inputCore.grammar.productionRules){const i=r.outputSymbols.slice(-1)[0],o=r.outputSymbols.slice(-2)[0];if(r.outputSymbols.length>2||r.outputSymbols.length===2&&this.inputCore.grammar.hasTerminalSymbol(i)){const l=r.outputSymbols.slice(0,-2);let u=r.inputNonTerminal,c=1;for(const f of l){const v=""+t+","+c;this.outputCore.grammar.nonTerminalSymbols.push(v);const g=this.outputCore.factory.createProductionRule(u,[f,v],this.outputCore.grammar),b=new ql(this.outputCore.grammar,g);this.results.push({highlight:[r.id],command:b}),u=v,c++}if(this.inputCore.grammar.hasTerminalSymbol(i)){const f=""+t+","+c;this.outputCore.grammar.nonTerminalSymbols.push(f);let v=this.outputCore.factory.createProductionRule(u,[o,f],this.outputCore.grammar),g=new ql(this.outputCore.grammar,v);this.results.push({highlight:[r.id],command:g}),v=this.outputCore.factory.createProductionRule(f,[i],this.outputCore.grammar),g=new ql(this.outputCore.grammar,v),this.results.push({highlight:[r.id],command:g})}else{const f=this.outputCore.factory.createProductionRule(u,[o,i],this.outputCore.grammar),v=new ql(this.outputCore.grammar,f);this.results.push({highlight:[r.id],command:v})}t++}else{const l=this.outputCore.factory.createProductionRule(r.inputNonTerminal,r.outputSymbols,this.outputCore.grammar),u=new ql(this.outputCore.grammar,l);this.results.push({highlight:[r.id],command:u})}}}}function i5({setButtonSet:n}){const e=fe.useContext($i);if(e===void 0)throw new Error("StartGrammarAlgorithmButton must be used within CoreProvider.");const t=[{name:"Regulrna gramatika -> nedeterministick automat",inputType:Ir.REGULAR,algorithm:()=>{if(e.primary.kind!=ft.GRAMMAR)throw new Error("Invalid algorithm input type");return new r5(e.primary)}},{name:"Normlna forma",inputType:Ir.REGULAR,algorithm:()=>{if(e.primary.kind!=ft.GRAMMAR)throw new Error("Invalid algorithm input type.");return new a5(e.primary)}}];function r(o){const l=e==null?void 0:e.algorithmStart(o);if(l!==void 0){alert(l.details);return}n(Mf.ALGORITHM)}const i=t.filter(o=>e.primary.kind===ft.GRAMMAR&&e.primary.grammar.grammarType===o.inputType).map(o=>ve(qs.Item,{onClick:()=>r(o.algorithm()),children:o.name},o.name));return ve(ia,{children:ve(Hd,{id:"dropdown-algorithm-button",title:"Start algorithm",children:i.length>0?i:ve(qs.Item,{disabled:!0,children:"No algorithms available"})})})}function o5({setButtonSet:n}){const e=fe.useContext($i);if(e===void 0)throw new Error("StartAutomatonAlgorithmButton must be used within CoreProvider.");const t=[{name:"Nedeterministick automat -> deterministick automat",inputType:Xn.FINITE,algorithm:()=>{if(e.primary.kind!=ft.AUTOMATON)throw new Error("Invalid algorithm input type.");return new e5(e.primary)}},{name:"Odepsilonovanie",inputType:Xn.FINITE,algorithm:()=>{if(e.primary.kind!=ft.AUTOMATON)throw new Error("Invalid algorithm input type.");return new t5(e.primary)}},{name:"Nedeterministick automat -> regulrna gramatika",inputType:Xn.FINITE,algorithm:()=>{if(e.primary.kind!=ft.AUTOMATON)throw new Error("Invalid algorithm input type.");return new n5(e.primary)}}];function r(o){const l=e==null?void 0:e.algorithmStart(o);if(l!==void 0){alert(l.details);return}n(Mf.ALGORITHM)}const i=t.filter(o=>e.primary.kind===ft.AUTOMATON&&e.primary.automaton.automatonType===o.inputType).map(o=>ve(qs.Item,{onClick:()=>r(o.algorithm()),children:o.name},o.name));return ve(ia,{children:ve(Hd,{id:"dropdown-algorithm-button",title:"Start algorithm",children:i.length>0?i:ve(qs.Item,{disabled:!0,children:"No algorithms available"})})})}var Mf=(n=>(n[n.NOTHING=0]="NOTHING",n[n.SIMULATION=1]="SIMULATION",n[n.ALGORITHM=2]="ALGORITHM",n))(Mf||{});function s5(){const[n,e]=fe.useState(0);return Ot(ia,{children:[n===0?ve(o5,{setButtonSet:e}):null,n!==2?ve(jk,{buttonSet:n,setButtonSet:e}):null,n===2?ve(zA,{setButtonSet:e}):null]})}function l5(){const[n,e]=fe.useState(0);return ve(ia,{children:n===0?ve(i5,{setButtonSet:e}):ve(zA,{setButtonSet:e})})}function u5({mode:n,primaryType:e,setCore:t}){const r=fe.useContext($i);if(!r)throw new Error("Buttons must be used within a CoreProvider");return Ot("div",{children:[Ot("div",{className:"d-flex",children:[ve(f5,{mode:n}),ve(c5,{}),n===Ht.EDIT?Ot(ia,{children:[ve("button",{type:"button",id:"import-button",className:"btn btn-primary m-1",onClick:()=>{var i;(i=document.getElementById("file-input"))==null||i.click()},children:"Import"}),ve("input",{type:"file",id:"file-input",style:{display:"none"},onChange:i=>{console.log("file changed");const o=i.target.files;if((o==null?void 0:o.length)!==1){alert("Select exactly one input file");return}o[0].text().then(u=>{const c=Kk(u,r);if(c!=null){switch(c.kind){case ft.AUTOMATON:r.newWindow(So.AUTOMATON_FINITE),console.log("AUTOMATON_FINITE");break;case ft.GRAMMAR:switch(c.type){case Ir.REGULAR:r.newWindow(So.GRAMMAR_REGULAR),console.log("GRAMMAR_REGULAR");break;case Ir.CONTEXT_FREE:r.newWindow(So.GRAMMAR_PHRASAL),console.log("GRAMMAR_PHRASAL");break}}const f=setInterval(()=>{const v=new TC;v.setCorePrimary(c),t(v),v.primary.kind===ft.AUTOMATON&&v.primary.init(),clearInterval(f)},500)}})}})]}):null]}),ve("hr",{}),n===Ht.EDIT?e.kind===ft.AUTOMATON?ve(Jk,{children:""}):null:e.kind===ft.AUTOMATON?ve(s5,{}):ve(l5,{})]})}function f5({mode:n}){const e=fe.useContext($i);if(!e)throw new Error("SwitchModeButtons must be used within a CoreProvider");const t=(r,i=!1)=>{r===Ht.EDIT?(e.switchToEditMode(i),e.mode.mode=Ht.EDIT,e.primary.mode.mode=Ht.EDIT):(e.switchToVisualMode(),e.mode.mode=Ht.VISUAL,e.primary.mode.mode=Ht.VISUAL)};return n===Ht.EDIT?ve("button",{className:"btn btn-primary m-1",onClick:()=>t(Ht.VISUAL),children:"Switch to Visual mode"}):e.secondary===void 0?ve("button",{className:"btn btn-primary m-1",onClick:()=>t(Ht.EDIT,!1),children:"Switch to Edit mode"}):Ot(Hd,{id:"dropdown-algorithm-button",title:"Switch to Edit mode",children:[ve(qs.Item,{onClick:()=>t(Ht.EDIT,!1),children:"Keep first window"}),ve(qs.Item,{onClick:()=>t(Ht.EDIT,!0),children:"Keep second window"})]})}function c5(){const n=fe.useContext($i),[e,t]=fe.useState(!1),[r,i]=fe.useState(So.AUTOMATON_FINITE);if(!n)throw new Error("NewWindowButton must be used within a CoreProvider");const o=async l=>{l.preventDefault(),n.newWindow(r),t(!1)};return Ot(ia,{children:[ve("button",{className:"btn btn-primary m-1",onClick:()=>t(!0),children:"New Window"}),Ot(Kv,{show:e,onHide:()=>t(!1),children:[ve(Kv.Header,{closeButton:!0,children:ve(Kv.Title,{children:"Nov okno"})}),ve(Kv.Body,{children:Ot(JT,{onSubmit:o,children:[Ot(Nk,{name:"objectType",type:"radio",value:r,onChange:i,vertical:!0,className:"w-100",children:[ve(cg,{id:"finite",value:So.AUTOMATON_FINITE,variant:r===So.AUTOMATON_FINITE?"primary":"outline-primary",children:"Konen stavov automat"}),ve(cg,{id:"regular",value:So.GRAMMAR_REGULAR,variant:r===So.GRAMMAR_REGULAR?"primary":"outline-primary",children:"Regulrna gramatika"}),ve(cg,{id:"phrasal",value:So.GRAMMAR_PHRASAL,variant:r===So.GRAMMAR_PHRASAL?"primary":"outline-primary",children:"Bezkontextov gramatika"})]}),Ot(JT.Group,{className:"d-flex justify-content-center mt-2 gap-2",children:[ve(Ag,{type:"submit",children:"Vytvori"}),ve(Ag,{variant:"danger",onClick:()=>t(!1),children:"Zrui"})]})]})}),ve(Kv.Footer,{children:ve("p",{className:"text-danger",children:"Vytvorenie novho okna zmae existujce okn."})})]})]})}function c1({primary:n}){const e=fe.useContext($i);if(!e)throw new Error("AutomatonWindow must be used within a CoreProvider");return fe.useEffect(()=>{var t;if(n&&e.primary.kind===ft.AUTOMATON)e.primary.init();else if(!n)((t=e.secondary)==null?void 0:t.kind)===ft.AUTOMATON&&e.secondary.init();else throw new Error("AutomatonWindow could not be initialized correctly")},[n]),ve("div",{id:n?dg:Wy})}const d5=({grammarRepr:n})=>n?Ot("div",{className:"section",children:[ve("h3",{children:"Grammar Representation"}),ve("pre",{className:"grammar-representation",children:n})]}):null,d1=({primary:n})=>{const e=fe.useContext($i);if(e===void 0)throw new Error("GrammarWindow must be used within a CoreProvider");const t=n?e.primary:e.secondary;if(t.kind!==ft.GRAMMAR)throw new Error("GrammarWindow must be used with GrammarCore");const[r,i]=fe.useState(t.grammar.nonTerminalSymbols),[o,l]=fe.useState(t.grammar.terminalSymbols),[u,c]=fe.useState(t.grammar.productionRules.map(U=>({input:U.inputNonTerminal,output:U.outputSymbols}))),[f,v]=fe.useState({input:"",output:""}),[g,b]=fe.useState(""),[y,E]=fe.useState(""),[x,T]=fe.useState(t.display());t.visual.refresher=T,fe.useEffect(()=>{i(t.grammar.nonTerminalSymbols),l(t.grammar.terminalSymbols),c(t.grammar.productionRules.map(U=>({input:U.inputNonTerminal,output:U.outputSymbols}))),v({input:"",output:""}),b(""),E(""),t.visual.refresh(),T(t.display()),w()},[t]),fe.useEffect(()=>{c(t.grammar.productionRules.map(U=>({input:U.inputNonTerminal,output:U.outputSymbols})))},[x,t]);const w=()=>{const U=t.display();T(U)},R=()=>{const U=t.addNonterminals([g]);if(U){alert(U.details);return}i(t.grammar.nonTerminalSymbols),b(""),w()},A=U=>{const F=r[U],V=t.removeNonterminal(F);if(V){alert(V.details);return}i(t.grammar.nonTerminalSymbols),w()},O=()=>{const U=t.addTerminals([y]);if(U){alert(U.details);return}l(t.grammar.terminalSymbols),E(""),w()},B=U=>{const F=o[U],V=t.removeTerminal(F);if(V){alert(V.details);return}l(t.grammar.terminalSymbols),w()},z=()=>{const U=f.input.trim(),F=f.output.trim().split(" ").filter(Boolean);if(!U||F.length===0){alert("Please enter both LHS and RHS.");return}const V=t.addProductionRule(U,F);if(V){console.log(V),alert(V.details);return}c(t.grammar.productionRules.map(Y=>({input:Y.inputNonTerminal,output:Y.outputSymbols}))),w(),v({input:"",output:""})},N=U=>{const F=t.visual.getRuleIdByIndex(U);F===void 0&&alert("Trying to remove non-existent rule");const V=t.removeProductionRule(F);if(V){alert(V.details);return}c(t.grammar.productionRules.map(Y=>({input:Y.inputNonTerminal,output:Y.outputSymbols}))),w()};return Ot("div",{className:"grammar-container",children:[ve("button",{className:"btn btn-primary",onClick:()=>{console.log($k(t))},children:"Export"}),ve("h2",{className:"grammar-header",children:"Gramatika"}),Ot("div",{className:"section",children:[ve("h3",{children:"Non-Terminals"}),ve("div",{className:"list",children:r.map((U,F)=>Ot("div",{className:"list-item",children:[ve("span",{children:U}),e.mode.mode===Ht.EDIT?ve("button",{onClick:()=>A(F),className:"delete-btn",children:""}):null]},F))}),e.mode.mode===Ht.EDIT?Ot("div",{className:"input-row",children:[ve("input",{value:g,onChange:U=>b(U.target.value),placeholder:"Non-terminal (e.g. A)"}),ve("button",{onClick:R,children:"Add"})]}):null]}),Ot("div",{className:"section",children:[ve("h3",{children:"Terminals"}),ve("div",{className:"list",children:o.map((U,F)=>Ot("div",{className:"list-item",children:[ve("span",{children:U}),e.mode.mode===Ht.EDIT?ve("button",{onClick:()=>B(F),className:"delete-btn",children:""}):null]},F))}),e.mode.mode===Ht.EDIT?Ot("div",{className:"input-row",children:[ve("input",{value:y,onChange:U=>E(U.target.value),placeholder:"Terminal (e.g. a)"}),ve("button",{onClick:O,children:"Add"})]}):null]}),Ot("div",{className:"section",children:[ve("h3",{children:"Production Rules"}),ve("div",{className:"list",children:u.map((U,F)=>Ot("div",{className:"list-item",children:[Ot("span",{children:[U.input,"  ",U.output.join(" ")]}),e.mode.mode===Ht.EDIT?ve("button",{onClick:()=>N(F),className:"delete-btn",children:""}):null]},F))}),e.mode.mode===Ht.EDIT?Ot("div",{className:"input-row rule-input-row",children:[ve("input",{value:f.input,onChange:U=>v({...f,input:U.target.value}),placeholder:"LHS (e.g. S)"}),ve("span",{children:""}),ve("input",{value:f.output,onChange:U=>v({...f,output:U.target.value}),placeholder:"RHS (e.g. a A)"}),ve("button",{onClick:z,children:"Add Rule"})]}):null]}),ve(d5,{grammarRepr:x})]})};function h5({primaryType:n,secondaryType:e}){return e===void 0?ve("div",{id:"cy-window",className:"d-flex flex-row",children:ve("div",{className:"col-12",children:n.kind===ft.AUTOMATON?ve(c1,{primary:!0}):ve(d1,{primary:!0})})}):Ot("div",{id:"cy-window",className:"d-flex flex-row",children:[ve("div",{className:"col-6",children:n.kind===ft.AUTOMATON?ve(c1,{primary:!0}):ve(d1,{primary:!0})}),ve("div",{className:"col-6",children:e.kind===ft.AUTOMATON?ve(c1,{primary:!1}):ve(d1,{primary:!1})})]})}const $i=fe.createContext(void 0);function v5(){const[n,e]=fe.useState(new TC),[t,r]=fe.useState(n.mode.mode),[i,o]=fe.useState(n.primary),[l,u]=fe.useState(n.secondary);return n.setMode=r,n.setPrimaryType=o,n.setSecondaryType=u,fe.useEffect(()=>{n.setMode=r,n.setPrimaryType=o,n.setSecondaryType=u},[n]),ve($i.Provider,{value:n,children:Ot("div",{className:"container-fluid",children:[ve("h1",{children:"Vla Fojlka"}),ve(u5,{mode:t,primaryType:i,setCore:e}),ve(h5,{primaryType:i,secondaryType:l})]})})}RR.createRoot(document.getElementById("root")).render(ve(fe.StrictMode,{children:ve(v5,{})}));
